(this["webpackJsonpgra-invoicer"]=this["webpackJsonpgra-invoicer"]||[]).push([[4],{112:function(e,t,n){"use strict";n(2);var a=n(1);t.a=function(e){return Object(a.jsx)("div",{children:"Something went wrong!"})}},120:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(5),i=n(20),r=n(26),c=n(146),o=n(38),s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{isEnabled:!1},d=Object(o.a)(),b=u.isEnabled,p=function(){var t=Object(r.a)(Object(i.a)().mark((function t(){var n;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.get(e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),j=Object(c.a)({queryKey:[t,n],queryFn:p,onSuccess:function(e){return s(e)},onError:function(e){return l(e)},enabled:b});return Object(a.a)(Object(a.a)({},j),{},{isLoading:j.isLoading&&"idle"!==j.fetchStatus})}},127:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=.025,i=.025,r=.01,c=.05,o=.01,s=.15,l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.isTaxable,l=0,u=0,d=0,b=0;if(!n)return d=e.quantity*e.price,{isINC:!1,taxable:!1,discount:Number(t),itemCode:e.itemCode,itemName:e.itemName,quantity:Number(e.quantity),price:Number(e.price),taxableAmount:Number(e.quantity)*Number(e.price),nhil:0,getf:0,covid:0,otherLevies:0,vatItemId:e.vatItemId,vatableAmt:l,vat:u,totalPayable:d,isTaxable:!1};if(null===e||void 0===e||!e.isTaxInclusive){var p=e.quantity*e.price,j=a*p,h=i*p,f=r*p;return d="NON"===(null===e||void 0===e?void 0:e.otherLevies)?(u=s*(l=p+j+h+f))+l-t:"CST"===(null===e||void 0===e?void 0:e.otherLevies)?(u=s*(l=p+j+h+f+(b=c*p)))+l-t:"TRSM"===(null===e||void 0===e?void 0:e.otherLevies)?(l=p+j+h+f)+(u=s*l)+(b=o*p)-t:(u=s*(l=p+j+h+f))+l,{isINC:!1,isTaxInclusive:!1,taxable:n,discount:Number(t),itemCode:e.itemCode,itemName:e.itemName,quantity:Number(e.quantity),price:Number(e.price),taxableAmount:p,nhil:j,getf:h,covid:f,otherLevies:b,vatItemId:e.vatItemId,vatableAmt:l,vat:u,totalPayable:d,isTaxable:n}}if(null!==e&&void 0!==e&&e.isTaxInclusive){!0;var m=0;m="CST"===(null===e||void 0===e?void 0:e.otherLevies)?(null===e||void 0===e?void 0:e.price)/1.2764999999999997:"TRSM"===(null===e||void 0===e?void 0:e.otherLevies)?(null===e||void 0===e?void 0:e.price)/1.2304999999999997:(null===e||void 0===e?void 0:e.price)/1.2189999999999996,m*=null===e||void 0===e?void 0:e.quantity;var v=a*m,O=i*m,x=r*m;return"NON"===(null===e||void 0===e?void 0:e.otherLevies)||""===(null===e||void 0===e?void 0:e.otherLevies)?d=(u=s*(l=m+v+O+x))+l-t:"CST"===(null===e||void 0===e?void 0:e.otherLevies)?d=(u=s*(l=m+v+O+x+(b=c*m)))+l-t:"TRSM"===(null===e||void 0===e?void 0:e.otherLevies)&&(d=(l=m+v+O+x)+(u=s*l)+(b=o*m)-t),{isINC:!0,isTaxInclusive:!0,taxable:n,discount:Number(t),itemCode:e.itemCode,itemName:e.itemName,quantity:Number(e.quantity),price:Number(e.price),taxableAmount:m,nhil:v,getf:O,covid:x,otherLevies:b,vatItemId:e.vatItemId,vatableAmt:l,vat:u,totalPayable:d,isTaxable:n}}}},136:function(e,t,n){"use strict";n.d(t,"a",(function(){return fe}));var a=n(20),i=n(26),r=n(8),c=n(2),o=n.n(c),s=n(84),l=n(59),u="data:image/png;base64,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",d=n(165),b=n(244),p=n(110),j=n(80),h=n(171),f=n(450),m=n(394),v=n(145),O=n(446),x=n(447),g=n(237),y=n(144),A=n(451),E=n(452),P=n(453),T=n(454),R=n(179),S=n(56),C=n(52),N=(n(360),n(21)),_=n(401),w=n(100),I=n(400),D=n(38),L=n(458),k=n(47),U=n(1);function F(e){var t=e.message,n=e.showPrompt,o=e.setshowPrompt,s=e.refundInvoice,l=e.reset,b=e.setOpen,p=e.refundTypeForPost,j=Object(c.useState)(!1),h=Object(r.a)(j,2),f=h[0],m=h[1],v=Object(w.b)(),O=Object(D.a)(),x=Object(k.a)(),g=x.selectedBranch,y=x.user,A=function(){var e=Object(i.a)(Object(a.a)().mark((function e(t){var n,i,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.postData,i=t.refundType,m(!0),e.next=4,O.post("/api/PostRefund/".concat(i,"/").concat(null===g||void 0===g?void 0:g.code),n);case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=Object(I.a)({mutationFn:A,onSuccess:function(){N.b.success("Invoice successfully refunded"),m(!1),o(!1),b(!1),v.invalidateQueries("invoice-preview-refund",null===s||void 0===s?void 0:s.invoiceNumber),l(Object(L.a)())},onError:function(e){var t;N.b.error((null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)||"Could not refund invoice. Please try again"),m(!1),o(!1)}}).mutate;return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)(_.a,{className:"modal-dialog-centered modal-danger",contentClassName:"bg-gradient-info",isOpen:n,children:[" ",f?Object(U.jsx)(C.a,{}):null,Object(U.jsxs)("div",{className:"modal-header",children:[Object(U.jsx)("h6",{className:"modal-title",id:"modal-title-notification",children:"Your attention is required"}),Object(U.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return o(!1)},children:Object(U.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Object(U.jsx)("div",{className:"modal-body",children:Object(U.jsxs)("div",{className:"py-3 text-center",children:[Object(U.jsx)("img",{src:u,alt:"refund"}),Object(U.jsx)("h4",{className:"heading mt-4",children:"Hi there..."}),Object(U.jsx)("p",{children:t})]})}),Object(U.jsxs)("div",{className:"modal-footer",children:[Object(U.jsx)(d.a,{className:"btn-white",color:"default",type:"button",onClick:function(){return function(e){var t={},n="";if("NO REFUNDS"===(null===s||void 0===s?void 0:s.refundType))if("Full"==p)t={id:e.id,invoiceNumber:e.invoiceNo,customerTinghcard:e.customerTinghcard,nameOfUser:null===y||void 0===y?void 0:y.name},n="Full";else{var a=null===e||void 0===e?void 0:e.invoiceItemsToPost.filter((function(e){return Boolean(e.refundQuantity)}));t={id:e.id,invoiceNumber:e.invoiceNo,customerTinghcard:e.customerTinghcard,nameOfUser:null===y||void 0===y?void 0:y.name,invoiceItems:a.map((function(t,n){var a,i;return{refundQuantity:t.refundQuantity,refundAmount:t.refundQuantity*(null===e||void 0===e||null===(a=e.invoiceItems[n])||void 0===a?void 0:a.payablePrice)/(null===e||void 0===e||null===(i=e.invoiceItems[n])||void 0===i?void 0:i.quantity),vatItemId:t.id}}))},n="Partial"}else{var i=null===e||void 0===e?void 0:e.invoiceItemsToPost.filter((function(e){return Boolean(e.refundQuantity)}));t={id:e.id,invoiceNumber:e.invoiceNo,customerTinghcard:e.customerTinghcard,nameOfUser:null===y||void 0===y?void 0:y.name,invoiceItems:i.map((function(t,n){var a,i;return{refundQuantity:t.refundQuantity,refundAmount:t.refundQuantity*(null===e||void 0===e||null===(a=e.invoiceItems[n])||void 0===a?void 0:a.price)/(null===e||void 0===e||null===(i=e.invoiceItems[n])||void 0===i?void 0:i.quantity),vatItemId:t.id}}))},n="Partial"}E({postData:t,refundType:n})}(s)},children:"Confirm"}),Object(U.jsx)(d.a,{className:"text-white ml-auto",color:"link","data-dismiss":"modal",type:"button",onClick:function(){o(!1)},children:"Decline"})]})]})})}var V=n(5),H=n(72),B=(n(178),n(470)),Q=n(463),W=n(119),z=function(e){var t=e.settogglePartialRefund,n=e.canFullRefund,a=void 0!==n&&n,i=o.a.useState("partial"),c=Object(r.a)(i,2),s=c[0],l=c[1];return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(Q.a,{color:"primary",value:s,exclusive:!0,onChange:function(e){if("partial"===e.target.value)l("partial"),t(!0);else{if(!a)return;l("full"),t(!1)}},"aria-label":"Platform",children:[Object(U.jsx)(B.a,{color:"warning",value:"partial",children:"Partial Refund"}),Object(U.jsx)(B.a,{color:"success",value:"full",children:Object(U.jsx)("span",{"data-tip":!0,"data-for":"discount-type",id:"discount-type",children:"Full Refund"})})]}),!a&&Object(U.jsx)(W.a,{id:"discount-type",place:"top",type:"info",effect:"float",children:Object(U.jsxs)("span",{children:["Full refund operation cannot be performed",Object(U.jsx)("br",{})," on this invoice because it has been",Object(U.jsx)("br",{})," partially refunded"]})})]})},q=n(245),M=function(e){return Number(e.qtyToRefund)>e.availableQty?{msg:"Refund quantity must not be greater than available quantity",isError:!0}:e.qtyToRefund<=0?{msg:"Refund quantity is invalid",isError:!0}:{msg:null,isError:!1}};var G=function(e){var t=e.setShowUpdate,n=e.updateItemData,a=e.setUpdateItemData,i=e.invoicesPrePost,o=e.setInvoicesPrePost,s=e.setConfirmDisabled,l=e.setAmountToRefund,u=Object(c.useState)(1),b=Object(r.a)(u,2),f=(b[0],b[1],Object(c.useState)(null)),O=Object(r.a)(f,2),x=(O[0],O[1]);Object(c.useEffect)((function(){var e=M(n);if(e.isError)a((function(e){return Object(V.a)(Object(V.a)({},e),{},{qtyToRefund:""})}));else{var t=function(e){var t=e.payablePrice/e.quantity*e.qtyToRefund;return Number(t).toFixed(4)||0}(n);a((function(e){return Object(V.a)(Object(V.a)({},e),{},{priceAfterRefund:t})}))}return x(e.msg),function(){}}),[n.qtyToRefund]);var g=Object(c.useCallback)((function(e){a((function(t){return Object(V.a)(Object(V.a)({},t),{},{qtyToRefund:Number(e.target.value)})}))}),[n]);return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)(_.a,{className:"modal-dialog-centered modal-md",isOpen:!0,toggle:function(){return console.log("toggled")},children:[Object(U.jsxs)("div",{className:"modal-header",children:[Object(U.jsx)("h1",{className:"modal-title",id:"exampleModalLabel",children:"Refund Item"}),Object(U.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return t(!1)},children:Object(U.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Object(U.jsx)("div",{className:"modal-body",style:{display:"flex"},children:Object(U.jsxs)(h.a,{className:" shadow",style:{width:"100%",height:"380px"},children:[Object(U.jsxs)(q.a,{children:[Object(U.jsx)("div",{style:{zIndex:1e5,display:"flex",flexDirection:"roq",justifyContent:"center",alignItems:"center",position:"absolute"}}),Object(U.jsx)(N.a,{}),Object(U.jsxs)(m.a,{onSubmit:function(e){return e.preventDefault()},children:[Object(U.jsx)(p.a,{children:Object(U.jsxs)(j.a,{lg:"12",children:[Object(U.jsxs)(v.a,{children:[Object(U.jsx)("label",{className:"form-control-label",children:"Item"}),Object(U.jsx)(y.a,{className:"form-control",placeholder:"Item Name",type:"text",disabled:!0,value:n.itemName})]})," "]})}),Object(U.jsxs)(p.a,{children:[Object(U.jsxs)(j.a,{lg:"6",md:"6",children:[Object(U.jsxs)(v.a,{children:[Object(U.jsx)("label",{className:"form-control-label",children:"Qty"}),Object(U.jsx)(y.a,{className:"form-control",placeholder:"Item Name",type:"text",disabled:!0,value:n.availableQty})]})," "]}),Object(U.jsxs)(j.a,{lg:"6",md:"6",children:[Object(U.jsxs)(v.a,{children:[Object(U.jsx)("label",{className:"form-control-label",children:"Amount Paid"}),Object(U.jsx)(y.a,{className:"form-control",placeholder:"Item Name",type:"text",disabled:!0,value:n.price})]})," "]})]}),Object(U.jsxs)(p.a,{children:[Object(U.jsxs)(j.a,{lg:"6",children:[Object(U.jsxs)(v.a,{children:[Object(U.jsx)("label",{className:"form-control-label",children:"Qty To Refund"}),Object(U.jsx)(y.a,{className:"form-control",placeholder:"Quantity",type:"number",name:"Quantity",value:n.qtyToRefund,onChange:g})]})," "]}),Object(U.jsxs)(j.a,{lg:"6",children:[Object(U.jsxs)(v.a,{children:[Object(U.jsx)("label",{className:"form-control-label",children:"Refund Amount"}),Object(U.jsx)(y.a,{className:"form-control",placeholder:"Quantity",type:"number",disabled:!0,value:n.priceAfterRefund})]})," "]})]})]})]}),Object(U.jsxs)("div",{className:"modal-footer",children:[Object(U.jsx)(d.a,{color:"warning",type:"button",onClick:function(){return t(!1)},children:"Cancel"}),Object(U.jsx)(d.a,{color:"success",type:"button",onClick:function(){var e=M(n);if(!e.isError){l((function(e){return e+parseFloat(n.priceAfterRefund)})),t(!1),s(!1);var r=i,c=r.findIndex((function(e,t){return t==n.index})),u=JSON.parse(JSON.stringify(r));return u[c].refundQuantity=n.qtyToRefund,u[c].availableQty=n.availableQty-n.qtyToRefund,u[c].price=u[c].unitPrice*u[c].availableQty,u[c].taxableAmount=n.price*n.availableQty,o(u),t(!1),void s(!1)}N.b.error(e.msg),a((function(e){return Object(V.a)(Object(V.a)({},e),{},{qtyToRefund:""})}))},children:"Update"})]})]})})]})})},J=n(246),K=n(95),Y=function(e){var t=e.invoiceItems,n=e.handleEditItem,a=e.isRefunded,i=e.togglePartialRefund;return Object(U.jsxs)(J.a,{className:"table-flush",responsive:!0,children:[Object(U.jsx)("thead",{className:"thead",children:Object(U.jsxs)("tr",{style:{lineHeight:"10px"},children:[Object(U.jsx)("th",{scope:"col",style:{width:"10% !important"},children:"Code"}),Object(U.jsx)("th",{scope:"col",style:{width:"30%"},children:"Desc"}),Object(U.jsx)("th",{scope:"col",style:{width:"16%",textAlign:"right"},children:"Original Qty"}),Object(U.jsx)("th",{scope:"col",style:{width:"16%",textAlign:"right"},children:"Available Qty"}),Object(U.jsx)("th",{scope:"col",style:{width:"15%",textAlign:"right"},children:"Amount"}),!a&&i&&Object(U.jsx)("th",{scope:"col",style:{width:"11%",textAlign:"right"},children:"Actions"})]})}),Object(U.jsx)("tbody",{children:t.map((function(e,t){return Object(U.jsxs)("tr",{style:{lineHeight:"1px"},children:[Object(U.jsx)("td",{style:{fontSize:"10px"},children:e.itemCode}),Object(U.jsx)("td",{style:{fontSize:"10px"},children:e.itemDescription.length>20?e.itemDescription.substring(0,35)+"...":e.itemDescription}),Object(U.jsx)("td",{style:{fontSize:"10px",textAlign:"right"},children:null===e||void 0===e?void 0:e.originalQty}),Object(U.jsx)("td",{style:{fontSize:"10px",textAlign:"right"},children:Number(null===e||void 0===e?void 0:e.availableQty).toFixed(4)}),Object(U.jsx)("td",{style:{fontSize:"10px",textAlign:"right"},children:Object(S.b)(e.price)}),!a&&i&&Object(U.jsx)("td",{style:{fontSize:"10px",textAlign:"right",cursor:"pointer"},children:Object(U.jsx)(K.b,{color:"darkred",title:"Edit",style:{marginRight:20,cursor:"pointer"},onClick:function(){n(t)}})})]},t)}))})]})},X=(n(147),n(146)),Z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return new Intl.NumberFormat(t,{minimumFractionDigits:n,maximumFractionDigits:2}).format(Number(e)?e:0)};var $={header:{display:"flex"},bottomcomments:{display:"flex",justifyContent:"space-between"},leftHeader:{display:"flex",width:"50%",flexDirection:"column",alignItems:"flex-start"},rightHeader:{display:"flex",width:"50%",flexDirection:"column",alignItems:"flex-end"},title:{},body:{marginTop:0,minHeight:"340px",overflow:"auto"},footer:{display:"flex",flexDirection:"row",marginTop:10,height:"10%",overflow:"auto"},total:{display:"block",borderTop:"1px solid rgb(227, 227, 227)",padding:"10px",textAlign:"right",width:"100%"},comments:{height:100,width:"47%",overflow:"auto",flexDirection:"row",backgroundColor:"#eff4fd",borderRadius:10,padding:10,color:"#cecece",marginTop:40},tablehead:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"}},ee=function(e){var t=e.show,n=e.setOpen,o=e.setshowPrompt,s=e.setrefundInvoice,l=e.setPromptMessage,b=e.setRefundType,f=e.refundType,A=e.setRefundTypeForPost,E=e.reset,P=Object(c.useState)(""),T=Object(r.a)(P,2),R=T[0],S=T[1],w=Object(c.useState)(!1),I=Object(r.a)(w,2),k=I[0],F=I[1],B=Object(c.useState)({invoiceNo:"",invoiceItems:[]}),Q=Object(r.a)(B,2),W=Q[0],q=Q[1],M=Object(c.useState)(!1),J=Object(r.a)(M,2),K=J[0],ee=J[1],te=Object(c.useState)(!1),ne=Object(r.a)(te,2),ae=ne[0],ie=ne[1],re=Object(c.useState)(!1),ce=Object(r.a)(re,2),oe=ce[0],se=ce[1],le=Object(c.useState)(!0),ue=Object(r.a)(le,2),de=ue[0],be=ue[1],pe=Object(c.useState)(!1),je=Object(r.a)(pe,2),he=je[0],fe=je[1],me=Object(c.useState)({itemName:"",quantity:0,price:0,priceAfterRefund:0,qtyToRefund:1}),ve=Object(r.a)(me,2),Oe=ve[0],xe=ve[1],ge=Object(c.useState)(!1),ye=Object(r.a)(ge,2),Ae=ye[0],Ee=ye[1],Pe=Object(c.useState)([]),Te=Object(r.a)(Pe,2),Re=Te[0],Se=Te[1],Ce=Object(c.useState)(0),Ne=Object(r.a)(Ce,2),_e=Ne[0],we=Ne[1],Ie=Object(c.useState)(!1),De=Object(r.a)(Ie,2),Le=De[0],ke=De[1],Ue=Object(D.a)(),Fe=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){return Object(V.a)(Object(V.a)({},e),{},{originalQty:e.quantity,quantity:e.quantity,itemDescription:e.itemDescription,itemCode:e.itemCode,availableQty:e.quantity-e.quantityRefunded,unitPrice:e.unitPrice,price:e.payablePrice})}))},Ve=function(){var e=Object(i.a)(Object(a.a)().mark((function e(t){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ke(!0),e.next=4,Ue.get("/api/GetByInvoiceNoTaxpayerId/".concat(t));case 4:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 8:e.prev=8,e.t0=e.catch(0);case 10:return e.prev=10,ke(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,8,10,13]])})));return function(t){return e.apply(this,arguments)}}(),He=Object(X.a)({queryKey:["invoice-preview-refund",R],queryFn:function(){return Ve(R)},enabled:!1,onSuccess:function(e){if(e.body){var t;if("SUCCESS"!=(null===e||void 0===e||null===(t=e.body)||void 0===t?void 0:t.signatureStatus))return void N.b.info("Invoice is without signature. Refund operation cannot be performed");F(!0),q(e.body),Se(Fe(e.body.invoiceItems)),ie(e.isRefunded),we(0)}else N.b.warning("Invoice does not exist")},cacheTime:0,onError:function(e){var t,n,a;500!==(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)?N.b.error((null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data)||"Invoice could not be saved."):N.b.error((null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.data)||"Technical error!")}}),Be=He.refetch,Qe=He.data;return Object(c.useEffect)((function(){de?(l("Do you want to proceed with the PARTIAL refund?"),A("Partial"),b("Partial")):(l("Do you want to proceed with a FULL refund?"),A("Full"),b("Full"))}),[de]),Object(c.useEffect)((function(){var e;"Full"==f&&(Se(Fe(null===Qe||void 0===Qe||null===(e=Qe.body)||void 0===e?void 0:e.invoiceItems)),we(W.totalAmount));"Partial"==f&&we(0)}),[f]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(N.a,{}),Le&&Object(U.jsx)(C.a,{}),Object(U.jsxs)(_.a,{className:"modal-dialog-centered modal-lg refund-modal-wrapper",isOpen:t,children:[Object(U.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",margin:15},children:[Object(U.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(U.jsx)("img",{src:u,alt:"refund",style:{height:30,marginRight:20}}),Object(U.jsx)("h1",{className:"modal-title",id:"exampleModalLabel",children:"Refund Invoice"})]}),!k||oe||ae?Object(U.jsx)("button",{"aria-label":"Close",className:"close",type:"button",onClick:function(){S(""),F((function(e){return!1})),ee(!1),n(!1)},children:Object(U.jsx)("span",{"aria-hidden":!0,children:k?null:"x"})}):Object(U.jsx)(z,{settogglePartialRefund:be,canFullRefund:Boolean("NO REFUNDS"==(null===W||void 0===W?void 0:W.refundType))}),ae&&Object(U.jsx)(d.a,{onClick:function(){ie(!1),n(!1),S(""),F(!1),ee(!1),se(!1)},children:Object(U.jsx)("span",{"aria-hidden":!0,children:"x"})})]}),Object(U.jsx)("div",{className:"modal-header",children:Object(U.jsx)("div",{style:{width:"100%"},children:Object(U.jsx)(m.a,{className:"navbar-search navbar-search-light form-inline ",onSubmit:function(e){return function(e){e.preventDefault(),Be()}(e)},children:Object(U.jsx)(v.a,{className:"mb-0",children:Object(U.jsxs)(O.a,{className:"input-group-alternative",children:[Object(U.jsx)(x.a,{addonType:"prepend",className:"mt-2",children:Object(U.jsx)(g.a,{children:Object(U.jsx)("i",{className:"fas fa-search"})})}),Object(U.jsx)(y.a,{placeholder:"Search by Invoice No",type:"text",value:R,onChange:function(e){S(e.target.value),R.length>0&&ee(!0)},style:{width:650}}),Object(U.jsx)(x.a,{addonType:"append",children:Object(U.jsx)(g.a,{children:Object(U.jsx)("button",{"aria-label":"Close",className:"close",type:"button",onClick:function(){S(""),F(!1),ee(!1)},children:Object(U.jsx)("span",{"aria-hidden":!0,children:K?"x":null})})})})]})})})})}),Object(U.jsxs)(h.a,{hidden:!k,className:"shadow",style:{marginLeft:"10px",padding:"30px"},children:[Object(U.jsxs)("div",{style:$.header,children:[Object(U.jsx)("div",{style:$.leftHeader,children:Object(U.jsx)("img",{src:H.a})}),Object(U.jsxs)("div",{style:$.rightHeader,children:[Object(U.jsx)("h3",{children:"INVOICE "}),Object(U.jsxs)("h4",{children:["#",W.invoiceNo||""]}),Object(U.jsxs)("h6",{children:["Issued on :"," ",new Date(W.date).toDateString().substring(3)]}),Object(U.jsxs)("h6",{children:["Due Date:"," ",new Date(W.date).toDateString().substring(3)]})]})]}),Object(U.jsx)("div",{style:$.title,children:Object(U.jsxs)("h4",{children:["Invoice for: \xa0",Object(U.jsx)("b",{children:W.customerName})]})}),Object(U.jsx)("div",{style:$.body,children:Object(U.jsx)(Y,{isRefunded:ae,togglePartialRefund:de,handleEditItem:function(e){var t=Re[e];xe(Object(V.a)(Object(V.a)({},t),{},{index:e,itemName:t.itemDescription,quantity:t.quantity,price:t.price,qtyToRefund:"",priceAfterRefund:""})),fe(!0)},invoiceItems:Re})}),Object(U.jsx)("div",{style:$.footer,children:Object(U.jsxs)("div",{style:$.total,children:[Object(U.jsxs)("h5",{children:["Total Paid (GH\u20b5)",Z(W.totalAmountToRefund)]}),Object(U.jsxs)("h5",{children:["Total Amount to Refund (GH\u20b5)",Z(_e)]})]})})]}),ae?Object(U.jsx)("p",{style:{backgroundColor:"pink",margin:10,color:"red",padding:10,fontWeight:600,borderRadius:10},children:"Invoice already refunded"}):Object(U.jsx)("div",{hidden:!k,style:{margin:"5px",float:"right"},children:Object(U.jsxs)(p.a,{children:[Object(U.jsx)(j.a,{lg:"8"}),Object(U.jsx)(j.a,{lg:"2",children:Object(U.jsx)(d.a,{disabled:!1,color:"warning","data-dismiss":"modal",style:{width:"100%"},onClick:function(){ie(!1),n(!1),S(""),F(!1),ee(!1),se(!1),E(Object(L.a)())},children:Object(U.jsx)("span",{className:"btn-inner--text",children:"Cancel"})})}),Object(U.jsx)(j.a,{lg:"2",children:Object(U.jsx)(d.a,{disabled:Ae,color:"success","data-dismiss":"modal",style:{width:"100%"},onClick:function(){var e=Re.findIndex((function(e){return null===e||void 0===e?void 0:e.refundQuantity}));if("Partial"!=f||-1!=e){if("NO REFUNDS"!==(null===W||void 0===W?void 0:W.refundType))return A("Partial"),l("Do you want to proceed with the PARTIAL refund?"),s(Object(V.a)(Object(V.a)({},W),{},{invoiceItemsToPost:Re})),ie(!1),void o(!0);Re.every((function(e){return 0==e.availableQty}))||"Full"==f?(A("Full"),l("Your current setup is a FULL refund. Do you want to proceed?")):(A("Partial"),l("Do you want to proceed with the PARTIAL refund?")),s(Object(V.a)(Object(V.a)({},W),{},{invoiceItemsToPost:Re})),ie(!1),o(!0)}else N.b.error("No item refunded yet")},children:Object(U.jsx)("span",{className:"btn-inner--text",children:"Submit"})})})]})})]}),he&&Object(U.jsx)(G,{updateItemData:Oe,setUpdateItemData:xe,setInvoicesPrePost:Se,invoicesPrePost:Re,setShowUpdate:fe,searchResults:W,setConfirmDisabled:Ee,setAmountToRefund:we})]})},te=(n(61),n(181)),ne=n(462),ae=n(456),ie=n(469),re=n(467),ce=n(468),oe=n(449),se=n(466),le=n(120),ue=n(180),de=function(e){var t=e.handleClose,n=e.open,o=e.selectedInvoiceNo,s=(e.setShowRetryLoader,JSON.parse(sessionStorage.getItem(Object({NODE_ENV:"production",PUBLIC_URL:"/gra-invoicer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHORITY:"https://psl-app-vm3/evat-auth",REACT_APP_BASENAME:"/gra-invoicer",REACT_APP_ClientCorsOrigin:"https://psl-app-vm3",REACT_APP_CLIENT_ID:"evat-invoicing-ui",REACT_APP_CLIENT_ROOT:"https://psl-app-vm3/EvatApi/api/v1",REACT_APP_CLIENT_ROOT_V2:"https://psl-app-vm3/EvatApi/api/v2",REACT_APP_CLIENT_ROOT_V3:"https://psl-app-vm3/EvatApi/api/v3",REACT_APP_CLIENT_SECRET:"L#?+;@e&?7D40p0kYO93e>u}18qI7^",REACT_APP_DASHBOARD_URL:"https://reports.cimsgh.com/bi/site/site1/dashboards/7b5d6da7-6ff6-45c6-800c-fc893d09f5de/EVAT/Sec.%20GRA%20QA%20DASHBOARD?showmydashboards=1&isembed=true&hide_tool=dp&export=true%27",REACT_APP_DEFAULT_USER:"user",REACT_APP_REPORTSERVERPath:"/eVAT/eVAT_Report/",REACT_APP_REPORTSERVICEURL:"https://psl-app-vm3/EvatApi/api/v1/ReportViewer",REACT_APP_SYNCFUSSION_LICENSE:"ORg4AjUWIQA/Gnt2VFhiQlJPd11dXmJWd1p/THNYflR1fV9DaUwxOX1dQl9gSXtTfkVkWn1adHZQT2A=",REACT_APP_URL:"https://psl-app-vm3"}).REACT_APP_OIDC_USER)),Object(c.useState)(!1)),l=Object(r.a)(s,2),u=l[0],d=l[1],b=Object(le.a)("".concat("https://psl-app-vm3/EvatApi/api/v1","/Invoices/GetSignatureSales/").concat(o.invoiceNo),"invoice",o.invoiceNo,(function(){d(!1),N.b.success("Successs"),t()}),(function(e){d(!1),N.b.warning(e)})).refetch,p=function(){var e=Object(i.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(!0),b();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=Object(ue.a)("".concat("https://psl-app-vm3/EvatApi/api/v1","/Invoices?id=").concat(o.id),"invoices","",(function(){d(!1),t()}),(function(e){d(!1),t(),N.b.warning(e)})).mutate;return Object(U.jsx)("div",{children:Object(U.jsxs)(ae.a,{open:n,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[" ",Object(U.jsx)(oe.a,{id:"alert-dialog-title",children:"Error"}),Object(U.jsxs)(re.a,{style:{textAlign:"center"},children:[u?Object(U.jsx)(se.a,{size:24}):null,Object(U.jsx)(ce.a,{id:"alert-dialog-description",children:null==o.ysdcregsig?"Your invoice does not have a signature. Please try again":o.ysdcregsig})]}),Object(U.jsxs)(ie.a,{children:[Object(U.jsx)(ne.a,{variant:"outlined",color:"secondary",onClick:t,children:"Cancel"}),Object(U.jsx)(ne.a,{variant:"outlined",color:"warning",onClick:function(){d(!0),j()},children:"Refund"}),Object(U.jsx)(ne.a,{variant:"outlined",color:"success",onClick:p,autoFocus:!0,children:"Retry"})]})]})})},be=n(222),pe=n(174),je=n(173),he=n(223),fe=Object(c.createContext)(null),me=(t.b=function(){var e,t,n=Object(D.a)(),o=Object(k.a)().selectedBranch,C=Object(c.useState)(!1),_=Object(r.a)(C,2),w=_[0],I=_[1],L=Object(c.useState)([]),V=Object(r.a)(L,2),H=V[0],B=V[1],Q=Object(c.useState)(!1),z=Object(r.a)(Q,2),q=z[0],M=z[1],G=Object(c.useState)(1),J=Object(r.a)(G,2),K=J[0],Y=J[1],X=Object(c.useState)(10),Z=Object(r.a)(X,1)[0],$=Object(c.useState)({totalItems:10,pageNumber:1,pageSize:10,totalPages:5}),ne=Object(r.a)($,2),ae=ne[0],ie=ne[1],re=Object(c.useState)(!1),ce=Object(r.a)(re,2),oe=ce[0],se=ce[1],ue=Object(c.useState)(!1),ve=Object(r.a)(ue,2),Oe=ve[0],xe=ve[1],ge=Object(c.useState)({}),ye=Object(r.a)(ge,2),Ae=ye[0],Ee=ye[1],Pe=Object(c.useState)(!1),Te=Object(r.a)(Pe,2),Re=Te[0],Se=(Te[1],Object(c.useState)("")),Ce=Object(r.a)(Se,2),Ne=Ce[0],_e=Ce[1],we=Object(c.useState)(null),Ie=Object(r.a)(we,2),De=(Ie[0],Ie[1],Object(c.useState)(!1)),Le=Object(r.a)(De,2),ke=(Le[0],Le[1]),Ue=Object(c.useState)(!1),Fe=Object(r.a)(Ue,2),Ve=Fe[0],He=Fe[1],Be=Object(c.useState)({}),Qe=Object(r.a)(Be,2),We=Qe[0],ze=Qe[1],qe=Object(c.useState)(""),Me=Object(r.a)(qe,2),Ge=Me[0],Je=Me[1],Ke=Object(c.useState)("Partial"),Ye=Object(r.a)(Ke,2),Xe=Ye[0],Ze=Ye[1],$e=Object(c.useState)(!1),et=Object(r.a)($e,2),tt=et[0],nt=et[1],at=Object(c.useState)(""),it=Object(r.a)(at,2),rt=it[0],ct=it[1],ot=Object(c.useState)([]),st=Object(r.a)(ot,2),lt=st[0],ut=st[1],dt=Object(c.useState)(0),bt=Object(r.a)(dt,2),pt=bt[0],jt=bt[1],ht=Object(c.useState)(""),ft=Object(r.a)(ht,2),mt=ft[0],vt=ft[1],Ot=Object(c.useState)(!1),xt=Object(r.a)(Ot,2),gt=(xt[0],xt[1]),yt=Object(c.useState)(!1),At=Object(r.a)(yt,2),Et=(At[0],At[1],Object(c.useState)(null)),Pt=Object(r.a)(Et,2),Tt=Pt[0],Rt=Pt[1],St=Object(c.useRef)(),Ct=Object(je.a)(Ne,500),Nt=Object(r.a)(Ct,1)[0],_t=Object(c.useState)(""),wt=Object(r.a)(_t,2),It=wt[0],Dt=wt[1],Lt=Object(c.useState)(""),kt=Object(r.a)(Lt,2),Ut=kt[0],Ft=kt[1],Vt=Object(c.useState)(!1),Ht=Object(r.a)(Vt,2),Bt=Ht[0],Qt=Ht[1],Wt=Object(c.useState)(""),zt=Object(r.a)(Wt,2),qt=zt[0],Mt=zt[1],Gt=Object(c.useState)(""),Jt=Object(r.a)(Gt,2),Kt=Jt[0],Yt=Jt[1],Xt=React.useMemo((function(){return[{Header:"Invoice #",accessor:"invoiceNo",className:" text-left ",width:190},{Header:"Date",accessor:"date",className:" text-left ",width:140,Cell:function(e){var t=e.cell.value;return Object(U.jsx)(U.Fragment,{children:new Date(t).toLocaleDateString("en-GB")})}},{Header:"Customer",accessor:"customerName",className:" text-left ",Cell:function(e){var t=e.cell.value;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("span",{"data-tip":t,children:t}),Object(U.jsx)(W.a,{})]})},width:"auto"},{Header:function(){return Object(U.jsx)("span",{align:"left",style:{float:"left",width:"100%"},children:"Created By"})},accessor:"nameOfUser",className:" text-left ",Cell:function(e){var t=e.cell.value;return Object(U.jsx)(U.Fragment,{children:t})},width:"auto"},{Header:function(){return Object(U.jsx)("span",{align:"right",style:{float:"right",width:"100%"},children:"Currency"})},accessor:"currency",className:" text-right ",width:141},{Header:function(){return Object(U.jsx)("span",{align:"right",style:{float:"right",width:"100%"},children:"EX VAT amount"})},accessor:"totalExVatAmount",className:" text-right ",Cell:function(e){var t=e.cell.value;return Object(U.jsx)(U.Fragment,{children:Object(S.b)(t)})},width:141},{Header:function(){return Object(U.jsx)("span",{align:"right",style:{float:"right",width:"100%"},children:"Total Payable"})},accessor:"totalAmount",className:" text-right ",Cell:function(e){var t=e.cell.value;return Object(U.jsx)(U.Fragment,{children:Object(S.b)(t)})},width:139},{Header:function(){return Object(U.jsx)("div",{align:"center",children:"View"})},disableSortBy:!0,className:" text-center table-action",Cell:function(e){var t=e.cell.value;return Object(U.jsx)(d.a,{style:{padding:"2px 8px"},className:"badge-success",onClick:function(e){Dt(t)},title:"Preview",children:Object(U.jsx)(l.f,{})})},accessor:"id"}]}),[]),Zt=(JSON.parse(sessionStorage.getItem(Object({NODE_ENV:"production",PUBLIC_URL:"/gra-invoicer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHORITY:"https://psl-app-vm3/evat-auth",REACT_APP_BASENAME:"/gra-invoicer",REACT_APP_ClientCorsOrigin:"https://psl-app-vm3",REACT_APP_CLIENT_ID:"evat-invoicing-ui",REACT_APP_CLIENT_ROOT:"https://psl-app-vm3/EvatApi/api/v1",REACT_APP_CLIENT_ROOT_V2:"https://psl-app-vm3/EvatApi/api/v2",REACT_APP_CLIENT_ROOT_V3:"https://psl-app-vm3/EvatApi/api/v3",REACT_APP_CLIENT_SECRET:"L#?+;@e&?7D40p0kYO93e>u}18qI7^",REACT_APP_DASHBOARD_URL:"https://reports.cimsgh.com/bi/site/site1/dashboards/7b5d6da7-6ff6-45c6-800c-fc893d09f5de/EVAT/Sec.%20GRA%20QA%20DASHBOARD?showmydashboards=1&isembed=true&hide_tool=dp&export=true%27",REACT_APP_DEFAULT_USER:"user",REACT_APP_REPORTSERVERPath:"/eVAT/eVAT_Report/",REACT_APP_REPORTSERVICEURL:"https://psl-app-vm3/EvatApi/api/v1/ReportViewer",REACT_APP_SYNCFUSSION_LICENSE:"ORg4AjUWIQA/Gnt2VFhiQlJPd11dXmJWd1p/THNYflR1fV9DaUwxOX1dQl9gSXtTfkVkWn1adHZQT2A=",REACT_APP_URL:"https://psl-app-vm3"}).REACT_APP_OIDC_USER)),new AbortController,function(){var e=Object(i.a)(Object(a.a)().mark((function e(t){var i,r,c,o,s,l,u;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ct(t),ke(!0),i="",e.prev=3,Qt(!0),Rt("Fetching invoice detail..."),e.next=8,n.post("/api/GenerateVATInvoiceReportAsync",t);case 8:(r=e.sent)&&(c=r.data,o="application/pdf",Yt(i="data:application/pdf;base64,"+c),He(!0),s=function(e){for(var t=e.substr("data:".concat(o,";base64,").length),n=atob(t),a=n.length,i=new Uint8Array(a);a--;)i[a]=n.charCodeAt(a);return new Blob([i],{type:o})},(l=document.createElement("a")).href=URL.createObjectURL(s(i)),l.download="Invoice Report",ke(!1)),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(3),console.log({error:e.t0}),ke(!1),N.b.error((null===e.t0||void 0===e.t0||null===(u=e.t0.response)||void 0===u?void 0:u.data)||"System failed to download invoice");case 17:return e.prev=17,Qt(!1),Rt(null),e.finish(17);case 21:case"end":return e.stop()}}),e,null,[[3,12,17,21]])})));return function(t){return e.apply(this,arguments)}}());console.log({pageNumber:K,pageInfo:ae}),Object(c.useEffect)((function(){vt("GHS")}),[]),console.log({pageInfo:ae});var $t=Object(le.a)("/api/GetSalesInvoicesDetail/".concat(It),"invoice",It,(function(e){Dt(""),ke(!1),"SUCCESS"===e.signatureStatus?(ke(!1),ze(e),He(!0)):(ke(!1),nt(!0))}),(function(e){ct(tn),ke(!1)}),{isEnabled:!1}),en=($t.refetch,$t.data,$t.isLoading,$t.isFetching,Object(he.a)("/api/GetTransactionSummary/".concat(pt,"/").concat(K,"/").concat(Z,"/").concat(null===o||void 0===o?void 0:o.code),"salesinvoices",K,Number(pt),Nt,(function(e){var t,n,a;if(console.log({data:e}),B((null===e||void 0===e||null===(t=e.invoices)||void 0===t?void 0:t.items)||[]),ie(null===(n=e.invoices)||void 0===n?void 0:n.paging),ut((null===e||void 0===e?void 0:e.summaries)||[]),0===(null===e||void 0===e||null===(a=e.invoices)||void 0===a?void 0:a.items.length)){var i,r,c,o=Nt?"No invoice matched your search: "+Nt:"No Invoice Available For "+(null===St||void 0===St||null===(i=St.current)||void 0===i||null===(r=i.options[null===St||void 0===St||null===(c=St.current)||void 0===c?void 0:c.selectedIndex])||void 0===r?void 0:r.innerText);return N.b.info(o),void Rt(o)}Rt(null)}),(function(e){}),{filterUrl:"/api/GetSalesInvoicesByCompanyId/".concat(Nt)})),tn=en.data,nn=en.refetch,an=(en.isFetching,en.isLoading);return Object(c.useEffect)((function(){return 0===K&&(ie({totalItems:10,pageNumber:1,pageSize:10,totalPages:5}),Y(1)),nn(),function(){}}),[pt,K]),Object(c.useEffect)((function(){return Nt.length>1&&nn(),function(){}}),[Nt]),console.log({use:tn}),Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(fe.Provider,{value:{invoices:H,setInvoices:B},children:Object(U.jsxs)(be.a,{children:[Object(U.jsx)(R.a,{summary:lt,currencyFilter:mt,setCurrencyFilter:vt,period:pt,setPeriod:jt,dayOfWeekSelRef:St,pageName:"Sales Invoice"}),Object(U.jsxs)(b.a,{className:"mt--7",fluid:!0,children:[Object(U.jsx)(N.a,{}),Object(U.jsx)(p.a,{className:"my-5",children:Object(U.jsx)(j.a,{className:"mb-5 mb-xl-0",xl:"12",children:Object(U.jsxs)(h.a,{className:"shadow",children:[Object(U.jsx)(f.a,{className:"border-0",children:Object(U.jsxs)(p.a,{className:"align-items-center",children:[Object(U.jsx)("div",{className:"col",children:Object(U.jsx)(m.a,{className:"navbar-search navbar-search-light form-inline ",onSubmit:function(e){e.preventDefault()},children:Object(U.jsxs)(v.a,{className:"mb-0",children:[" ",Object(U.jsxs)(O.a,{className:"input-group-alternative",children:[Object(U.jsx)(x.a,{addonType:"prepend",style:{marginTop:7},children:Object(U.jsx)(g.a,{children:Object(U.jsx)("i",{className:"fas fa-search"})})}),Object(U.jsx)(y.a,{placeholder:"Search Transactions by Invoice No or Customer name",type:"text",value:Ne,onChange:function(e){if((null===Ne||void 0===Ne?void 0:Ne.length)>25)return _e((function(e){return e.substring(0,16)})),void Rt("Your search query is too long");_e(e.target.value)},style:{width:400}}),Object(U.jsx)(x.a,{addonType:"append",children:Object(U.jsx)(g.a,{onClick:function(){return _e("")},children:Re&&Object(U.jsx)("i",{className:"fas fa-times"})})})]}),Ne.length>0&&Object(U.jsx)("button",{onClick:function(){Y(1),_e(""),nn()},className:"ml-4 btn btn-secondary",children:"Reset"})]})})}),Object(U.jsxs)("div",{className:"col text-right mt-0",children:[Object(U.jsxs)(d.a,{className:"badge-success",onClick:function(){se((function(e){return!0}))},title:"Refund",children:[Object(U.jsx)("img",{src:u,alt:"refund",style:{height:20}})," ","Refund Invoice"]}),Object(U.jsxs)(d.a,{color:"primary",onClick:function(e){return I(!w)},size:"md",children:[Object(U.jsx)(l.h,{})," Create Invoice"]})]})]})}),Object(U.jsx)("div",{style:me.body,children:Object(U.jsx)(pe.a,{isLoading:an||Bt,columns:Xt,data:(null===tn||void 0===tn||null===(e=tn.invoices)||void 0===e?void 0:e.items)||[],data2:H,setSelectedRow:Dt,getPrintPDF:Zt,pdfData:Kt,message:Tt,sortKey:"date"})}),Object(U.jsx)(A.a,{className:"py-1",children:!an&&(null===tn||void 0===tn||null===(t=tn.invoices)||void 0===t?void 0:t.items.length)>0&&Object(U.jsx)("nav",{"aria-label":"...",children:null!==ae&&void 0!==ae&&ae.pageNumber?Object(U.jsxs)(E.a,{className:"pagination justify-content-center mb-0",listClassName:"justify-content-center mb-0",children:[Object(U.jsx)(P.a,{children:Object(U.jsxs)(T.a,{onClick:function(e){e.preventDefault(),ae.pageNumber>1&&(K<1||Y((function(e){return Number(e)-1})))},children:[Object(U.jsx)("i",{className:"fas fa-angle-left"}),Object(U.jsx)("span",{className:"sr-only",children:"Previous"})]})}),Object(U.jsx)(P.a,{children:Object(U.jsx)(T.a,{onClick:function(e){return Y(1)},children:"1"})}),Object(U.jsx)(P.a,{className:"active",children:Object(U.jsx)(T.a,{onClick:function(e){return e.preventDefault()},children:ae.pageNumber})}),Object(U.jsx)(P.a,{children:Object(U.jsx)(T.a,{onClick:function(e){return Y(ae.totalPages)},children:ae.totalPages})}),Object(U.jsx)(P.a,{children:Object(U.jsxs)(T.a,{onClick:function(e){ae.pageNumber<ae.totalPages&&K!==ae.totalPages&&Y((function(e){return Number(e)+1}))},children:[Object(U.jsx)("i",{className:"fas fa-angle-right"}),Object(U.jsx)("span",{className:"sr-only",children:"Next"})]})})]}):null})})]})})}),w?Object(U.jsx)(s.b,{refetch:nn,setShowNewInvoiceModal:I}):null,Object(U.jsx)(F,{refundType:Xe,refundTypeForPost:Ut,message:Ge,showPrompt:Oe,setshowPrompt:xe,showLoader:q,setShowLoader:M,refundInvoice:Ae,reset:Mt,setOpen:se}),Object(U.jsx)(ee,{setPromptMessage:Je,setRefundType:Ze,refundType:Xe,setRefundTypeForPost:Ft,show:oe,setOpen:se,setshowPrompt:xe,setrefundInvoice:Ee,reset:Mt},qt),Ve&&Object(U.jsx)(te.a,{setShowReport:He,formData:We,getPrintPDF:Zt,pdfData:Kt,selectedInvoiceNo:rt}),Object(U.jsx)(de,{handleClose:function(){nt(!1)},open:tt,selectedInvoiceNo:rt,setShowRetryLoader:gt})]})]})})})},{body:{marginTop:0,height:520,overflow:"auto"}})},172:function(e,t,n){"use strict";var a=n(8),i=n(244),r=n(110),c=n(80),o=n(2),s=n.n(o),l=(n(61),n(1));t.a=function(e){var t=e.message,n=e.pageName,o=void 0===n?"":n,u=s.a.useState(""),d=Object(a.a)(u,2),b=(d[0],d[1]);return s.a.useEffect((function(){var e=sessionStorage.getItem(Object({NODE_ENV:"production",PUBLIC_URL:"/gra-invoicer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHORITY:"https://psl-app-vm3/evat-auth",REACT_APP_BASENAME:"/gra-invoicer",REACT_APP_ClientCorsOrigin:"https://psl-app-vm3",REACT_APP_CLIENT_ID:"evat-invoicing-ui",REACT_APP_CLIENT_ROOT:"https://psl-app-vm3/EvatApi/api/v1",REACT_APP_CLIENT_ROOT_V2:"https://psl-app-vm3/EvatApi/api/v2",REACT_APP_CLIENT_ROOT_V3:"https://psl-app-vm3/EvatApi/api/v3",REACT_APP_CLIENT_SECRET:"L#?+;@e&?7D40p0kYO93e>u}18qI7^",REACT_APP_DASHBOARD_URL:"https://reports.cimsgh.com/bi/site/site1/dashboards/7b5d6da7-6ff6-45c6-800c-fc893d09f5de/EVAT/Sec.%20GRA%20QA%20DASHBOARD?showmydashboards=1&isembed=true&hide_tool=dp&export=true%27",REACT_APP_DEFAULT_USER:"user",REACT_APP_REPORTSERVERPath:"/eVAT/eVAT_Report/",REACT_APP_REPORTSERVICEURL:"https://psl-app-vm3/EvatApi/api/v1/ReportViewer",REACT_APP_SYNCFUSSION_LICENSE:"ORg4AjUWIQA/Gnt2VFhiQlJPd11dXmJWd1p/THNYflR1fV9DaUwxOX1dQl9gSXtTfkVkWn1adHZQT2A=",REACT_APP_URL:"https://psl-app-vm3"}).REACT_APP_OIDC_USER),t=JSON.parse(e);t?b((function(e){return t.profile})):setTimeout((function(){}))}),[]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"header pb-5 pt-5 pt-lg-5 d-flex align-items-center",style:{height:"200px",backgroundSize:"cover",backgroundPosition:"center top"},children:[Object(l.jsx)("span",{className:"mask bg-gradient-default opacity-8"}),Object(l.jsx)(i.a,{className:"d-flex align-items-center",fluid:!0,children:Object(l.jsx)(r.a,{children:Object(l.jsxs)(c.a,{lg:"12",md:"10",children:[Object(l.jsx)("h3",{className:"display-5 text-white",children:o}),Object(l.jsx)("p",{className:"text-white text-small",style:{fontSize:13,marginTop:-5,paddingTop:0},children:t})]})})})]})})}},174:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(5),i=n(246),r=(n(56),n(2),n(143)),c=n(52),o=n(1),s=function(e){var t=e.columns,n=e.data,s=e.isLoading,l=(e.setSelectedRow,e.getPrintPDF),u=void 0===l?function(){return null}:l,d=e.sortKey,b=e.message,p=Object(r.useTable)({columns:t,data:n,initialState:{pageIndex:0,sortBy:[{id:d||"",desc:!0}]},defaultColumn:{width:"auto",maxWidth:150}},r.useSortBy,r.usePagination),j=p.getTableProps,h=p.getTableBodyProps,f=p.headerGroups,m=p.prepareRow,v=p.footerGroups,O=p.page;return Object(o.jsxs)("div",{id:"evat-table-wrapper",style:{position:"relative"},children:[s&&Object(o.jsx)("div",{id:"table-loader-wrapper",children:Object(o.jsx)(c.a,{})}),Object(o.jsx)("p",{id:"table-info",className:"text-info text-center",style:{zIndex:"1000",marginTop:"190px"},children:b}),Object(o.jsx)("div",{style:{position:"relative",lineHeight:1,height:"520px"},children:Object(o.jsxs)(i.a,Object(a.a)(Object(a.a)({},j()),{},{className:"align-items-center table-flush ",id:"index-table",responsive:!0,children:[Object(o.jsx)("thead",{className:"thead-light",children:f.map((function(e){return Object(o.jsx)("tr",Object(a.a)(Object(a.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(o.jsxs)("th",Object(a.a)(Object(a.a)({className:"thead-light",style:Object(a.a)({},e.getHeaderProps.style)},e.getHeaderProps(Object(a.a)(Object(a.a)({},e.getSortByToggleProps()),{},{style:{width:e.width}}))),{},{children:[e.render("Header"),Object(o.jsx)("span",{className:"",children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""})]}))}))}))}))}),Object(o.jsx)("tbody",Object(a.a)(Object(a.a)({},h()),{},{style:{lineHeight:.5},children:O.map((function(e,t){return m(e),Object(o.jsx)("tr",Object(a.a)(Object(a.a)({},e.getRowProps()),{},{className:"table-record",onClick:function(){var t;return u(null===e||void 0===e||null===(t=e.original)||void 0===t?void 0:t.id)},children:e.cells.map((function(e){return Object(o.jsx)("td",Object(a.a)(Object(a.a)({},e.getCellProps({className:e.column.className,style:{width:e.column.width}})),{},{children:e.render("Cell")}))}))}))}))})),Object(o.jsx)("tfoot",{children:v.map((function(e){return Object(o.jsx)("tr",Object(a.a)(Object(a.a)({className:"bg-blueGray-50 text-blueGray-500 border-blueGray-100"},e.getFooterGroupProps()),{},{children:e.headers.map((function(e){return Object(o.jsx)("td",Object(a.a)(Object(a.a)({className:"border-t-0 px-6 align-middle text-right border-l-0 border-r-0 text-xs whitespace-nowrap p-4"},e.getFooterProps()),{},{children:e.Footer&&e.render("Footer")}))}))}))}))})]}))})]})}},178:function(e,t,n){"use strict";n.p},179:function(e,t,n){"use strict";var a=n(8),i=n(2),r=n(244),c=n(110),o=n(80),s=n(171),l=n(245),u=n(395),d=(n(56),n(61),n(148)),b=(n(21),n(1));t.a=function(e){var t=e.pageName,n=void 0===t?"":t,p=e.summary,j=e.currencyFilter,h=(e.setCurrencyFilter,e.period),f=e.setPeriod,m=e.dayOfWeekSelRef,v=e.displayRecent,O=void 0===v||v,x=(JSON.parse(sessionStorage.getItem(Object({NODE_ENV:"production",PUBLIC_URL:"/gra-invoicer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHORITY:"https://psl-app-vm3/evat-auth",REACT_APP_BASENAME:"/gra-invoicer",REACT_APP_ClientCorsOrigin:"https://psl-app-vm3",REACT_APP_CLIENT_ID:"evat-invoicing-ui",REACT_APP_CLIENT_ROOT:"https://psl-app-vm3/EvatApi/api/v1",REACT_APP_CLIENT_ROOT_V2:"https://psl-app-vm3/EvatApi/api/v2",REACT_APP_CLIENT_ROOT_V3:"https://psl-app-vm3/EvatApi/api/v3",REACT_APP_CLIENT_SECRET:"L#?+;@e&?7D40p0kYO93e>u}18qI7^",REACT_APP_DASHBOARD_URL:"https://reports.cimsgh.com/bi/site/site1/dashboards/7b5d6da7-6ff6-45c6-800c-fc893d09f5de/EVAT/Sec.%20GRA%20QA%20DASHBOARD?showmydashboards=1&isembed=true&hide_tool=dp&export=true%27",REACT_APP_DEFAULT_USER:"user",REACT_APP_REPORTSERVERPath:"/eVAT/eVAT_Report/",REACT_APP_REPORTSERVICEURL:"https://psl-app-vm3/EvatApi/api/v1/ReportViewer",REACT_APP_SYNCFUSSION_LICENSE:"ORg4AjUWIQA/Gnt2VFhiQlJPd11dXmJWd1p/THNYflR1fV9DaUwxOX1dQl9gSXtTfkVkWn1adHZQT2A=",REACT_APP_URL:"https://psl-app-vm3"}).REACT_APP_OIDC_USER)),Object(i.useState)(p[1])),g=Object(a.a)(x,2),y=g[0],A=g[1];return Object(i.useEffect)((function(){A(p[1])}),[]),Object(i.useEffect)((function(){A(y)}),[j]),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"header bg-gradient-info pb-5 pt-5 pt-md-5",children:Object(b.jsx)(r.a,{fluid:!0,children:Object(b.jsxs)("div",{className:"header-body",children:[Object(b.jsx)("h2",{className:"mt-1 mb-1",style:{color:"white"},children:n}),Object(b.jsx)(c.a,{children:Object(b.jsx)(o.a,{lg:"4",xl:"4",children:Object(b.jsx)(s.a,{className:"card-stats mb-0 mb-xl-0 bg",style:{height:60},children:Object(b.jsx)(l.a,{children:Object(b.jsxs)(c.a,{children:[Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)(u.a,{tag:"h5",className:"text-uppercase text-muted mb-0"}),Object(b.jsxs)("select",{className:"form-control",value:h,onChange:function(e){f(e.target.value)},ref:m,style:{height:30,fontSize:13,padding:0,paddingLeft:8},children:[O&&Object(b.jsx)("option",{value:0,children:"Recent"}),Object(b.jsx)("option",{value:1,children:"This Week"}),Object(b.jsx)("option",{value:2,children:"This Month"}),Object(b.jsx)("option",{value:3,children:"Last Month"}),Object(b.jsx)("option",{value:4,children:"This Year"}),Object(b.jsx)("option",{value:5,children:"Last Year"}),Object(b.jsx)("option",{value:6,children:"All Transactions"})]})]}),Object(b.jsx)(o.a,{className:"col-auto",children:Object(b.jsx)("div",{className:"icon icon-shape bg-info text-white rounded-circle shadow",style:{width:40,height:40,marginTop:-5},children:Object(b.jsx)(d.b,{size:"large"})})})]})})})})}),Object(b.jsx)("br",{})]})})})})}},180:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(5),i=n(20),r=n(26),c=n(100),o=n(400),s=n(38),l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},d=Object(c.b)(),b=Object(s.a)(),p=function(){var t=Object(r.a)(Object(i.a)().mark((function t(n){var a;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.delete(e,n);case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=Object(o.a)({mutationFn:p,onSuccess:function(e){d.removeQueries({queryKey:[t,n]}),l(e)},onError:function(e){return u(e)}});return Object(a.a)({},j)}},181:function(e,t,n){"use strict";n(56),n(2);var a=n(401),i=n(165),r=(n(72),n(365),n(111),n(1));var c=function(e){var t=e.pdfData;return e.invoiceNo,Object(r.jsx)("embed",{title:"Invoice",autoSave:"true",src:"".concat(t),style:{height:"70vh"}})};t.a=function(e){var t=e.setShowReport,n=(e.formData,e.getPrintPDF,e.salesType,e.showSignature,e.bottom,e.pdfData),o=e.selectedInvoiceNo;return JSON.parse(sessionStorage.getItem(Object({NODE_ENV:"production",PUBLIC_URL:"/gra-invoicer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHORITY:"https://psl-app-vm3/evat-auth",REACT_APP_BASENAME:"/gra-invoicer",REACT_APP_ClientCorsOrigin:"https://psl-app-vm3",REACT_APP_CLIENT_ID:"evat-invoicing-ui",REACT_APP_CLIENT_ROOT:"https://psl-app-vm3/EvatApi/api/v1",REACT_APP_CLIENT_ROOT_V2:"https://psl-app-vm3/EvatApi/api/v2",REACT_APP_CLIENT_ROOT_V3:"https://psl-app-vm3/EvatApi/api/v3",REACT_APP_CLIENT_SECRET:"L#?+;@e&?7D40p0kYO93e>u}18qI7^",REACT_APP_DASHBOARD_URL:"https://reports.cimsgh.com/bi/site/site1/dashboards/7b5d6da7-6ff6-45c6-800c-fc893d09f5de/EVAT/Sec.%20GRA%20QA%20DASHBOARD?showmydashboards=1&isembed=true&hide_tool=dp&export=true%27",REACT_APP_DEFAULT_USER:"user",REACT_APP_REPORTSERVERPath:"/eVAT/eVAT_Report/",REACT_APP_REPORTSERVICEURL:"https://psl-app-vm3/EvatApi/api/v1/ReportViewer",REACT_APP_SYNCFUSSION_LICENSE:"ORg4AjUWIQA/Gnt2VFhiQlJPd11dXmJWd1p/THNYflR1fV9DaUwxOX1dQl9gSXtTfkVkWn1adHZQT2A=",REACT_APP_URL:"https://psl-app-vm3"}).REACT_APP_OIDC_USER)),Object({NODE_ENV:"production",PUBLIC_URL:"/gra-invoicer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHORITY:"https://psl-app-vm3/evat-auth",REACT_APP_BASENAME:"/gra-invoicer",REACT_APP_ClientCorsOrigin:"https://psl-app-vm3",REACT_APP_CLIENT_ID:"evat-invoicing-ui",REACT_APP_CLIENT_ROOT:"https://psl-app-vm3/EvatApi/api/v1",REACT_APP_CLIENT_ROOT_V2:"https://psl-app-vm3/EvatApi/api/v2",REACT_APP_CLIENT_ROOT_V3:"https://psl-app-vm3/EvatApi/api/v3",REACT_APP_CLIENT_SECRET:"L#?+;@e&?7D40p0kYO93e>u}18qI7^",REACT_APP_DASHBOARD_URL:"https://reports.cimsgh.com/bi/site/site1/dashboards/7b5d6da7-6ff6-45c6-800c-fc893d09f5de/EVAT/Sec.%20GRA%20QA%20DASHBOARD?showmydashboards=1&isembed=true&hide_tool=dp&export=true%27",REACT_APP_DEFAULT_USER:"user",REACT_APP_REPORTSERVERPath:"/eVAT/eVAT_Report/",REACT_APP_REPORTSERVICEURL:"https://psl-app-vm3/EvatApi/api/v1/ReportViewer",REACT_APP_SYNCFUSSION_LICENSE:"ORg4AjUWIQA/Gnt2VFhiQlJPd11dXmJWd1p/THNYflR1fV9DaUwxOX1dQl9gSXtTfkVkWn1adHZQT2A=",REACT_APP_URL:"https://psl-app-vm3"}).REACT_APP_ENV,Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(a.a,{className:"modal-dialog-centered modal-lg",isOpen:!0,toggle:function(){return console.log("toggled")},children:[Object(r.jsxs)("div",{className:"modal-header",children:[Object(r.jsx)("h1",{className:"modal-title",id:"exampleModalLabel",children:"Invoice"}),Object(r.jsx)("div",{children:Object(r.jsx)(i.a,{"aria-label":"Close","data-dismiss":"modal",type:"button",size:"sm",onClick:function(){return t(!1)},children:Object(r.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})})]}),n&&Object(r.jsx)(c,{invoiceNo:o,pdfData:n})]})})}},185:function(e,t,n){},187:function(e,t,n){},208:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/user.6537f30a.png"},214:function(e,t,n){"use strict";var a=n(20),i=n(26),r=n(8),c=n(2),o=n(38);t.a=function(e,t){var n=Object(c.useState)([]),s=Object(r.a)(n,2),l=s[0],u=s[1],d=Object(c.useState)(null),b=Object(r.a)(d,2),p=b[0],j=b[1],h=Object(c.useState)(e),f=Object(r.a)(h,2),m=f[0],v=f[1],O=Object(c.useState)(!1),x=Object(r.a)(O,2),g=x[0],y=x[1],A=Object(o.a)(),E=Object(c.useCallback)(Object(i.a)(Object(a.a)().mark((function e(){var n,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,n=[],m.forEach((function(e){n.push(A.get(e))})),e.next=6,Promise.allSettled(n);case 6:if(i=e.sent){e.next=9;break}throw"Data was not fetched";case 9:u(i),t(i),j(null),y(!1),v([]),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(1),j(e.t0),y(!1),v([]);case 21:case"end":return e.stop()}}),e,null,[[1,16]])}))));return Object(c.useEffect)((function(){m.length>0&&E()}),[m]),console.log({data:l}),{data:l,error:p,isLoading:g,setUrls:v}}},216:function(e,t,n){"use strict";var a=n(5),i=n(31),r=(n(2),n(21)),c=n(401),o=n(171),s=n(245),l=n(394),u=n(110),d=n(80),b=n(145),p=n(144),j=n(165),h=n(127),f=n(1);t.a=function(e){var t=e.updateItemData,n=e.setUpdateItemData,m=e.setShowUpdate,v=e.gridData,O=e.setGridData,x=e.showDiscountField;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(c.a,{className:"modal-dialog-centered modal-md",isOpen:!0,toggle:function(){return console.log("toggled")},children:[Object(f.jsxs)("div",{className:"modal-header",children:[Object(f.jsx)("h4",{className:"",id:"exampleModalLabel",children:"Update Item"}),Object(f.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return m(!1)},children:Object(f.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Object(f.jsxs)("div",{className:"modal-body",style:{marginTop:-30},children:[Object(f.jsx)("h5",{style:{color:"teal"},children:t.itemName}),Object(f.jsxs)(o.a,{className:"shadow",children:[Object(f.jsxs)(s.a,{children:[Object(f.jsx)(r.a,{}),Object(f.jsxs)(l.a,{onSubmit:function(e){return e.preventDefault()},children:[Object(f.jsx)(u.a,{children:Object(f.jsxs)(d.a,{lg:"12",children:[Object(f.jsxs)(b.a,{children:[Object(f.jsx)("label",{hidden:!0,className:"form-control-label",children:"Item"}),Object(f.jsx)(p.a,{hidden:!0,className:"form-control font-sm",placeholder:"Item Name",type:"text",disabled:!0,value:t.itemName,bsSize:"sm"})]})," "]})}),Object(f.jsxs)(u.a,{style:{marginTop:-20},children:[Object(f.jsxs)(d.a,{lg:"4",children:[Object(f.jsxs)(b.a,{children:[Object(f.jsx)("label",{className:"form-control-label",children:"Quantity"}),Object(f.jsx)(p.a,{className:"form-control font-sm",placeholder:"Quantity",type:"number",value:t.quantity,onChange:function(e){return n(Object(a.a)(Object(a.a)({},t),{},{quantity:Number(e.target.value)}))},bsSize:"sm"})]})," "]}),Object(f.jsxs)(d.a,{lg:"4",children:[Object(f.jsxs)(b.a,{children:[Object(f.jsx)("label",{className:"form-control-label",children:"Price"}),Object(f.jsx)(p.a,{className:"form-control font-sm",placeholder:"Quantity",type:"number",disabled:!0,value:t.price,bsSize:"sm"})]})," "]}),x&&Object(f.jsxs)(d.a,{lg:"4",children:[Object(f.jsxs)(b.a,{children:[Object(f.jsx)("label",{className:"form-control-label",children:"Discount"}),Object(f.jsx)(p.a,{className:"form-control font-sm",placeholder:"Discount",type:"number",value:t.discount,onChange:function(e){return n(Object(a.a)(Object(a.a)({},t),{},{discount:Number(e.target.value)}))},bsSize:"sm"})]})," "]})]})]}),Object(f.jsx)(j.a,{size:"sm",color:"success",type:"button",onClick:function(){var e=t.itemName,n=t.isInclusive,r=v.findIndex((function(e,n){return n==t.index})),c=Object(i.a)(v),o=v[r];"CST Item"===e||"CST Inclusive Item"===e.trim()?n?(t.quantity,t.price):(t.price,t.quantity):"TRSM Item"===e&&(n?(t.quantity,t.price):(t.price,t.quantity)),t.isInclusive||t.isTaxable;var s=Object(h.a)(Object(a.a)(Object(a.a)({},t),{},{otherLevies:null===o||void 0===o?void 0:o.otherLeviesType,isTaxable:null===o||void 0===o?void 0:o.isTaxable,isTaxInclusive:null===o||void 0===o?void 0:o.isTaxInclusive}),null===t||void 0===t?void 0:t.discount),l=Object(a.a)(Object(a.a)(Object(a.a)({},t),s),{},{itemCode:null===o||void 0===o?void 0:o.itemCode,vatItemId:null===o||void 0===o?void 0:o.vatItemId});c[r].discount=Number(l.discount),c[r].quantity=Number(l.quantity),c[r].price=l.price,c[r].taxableAmount=null===l||void 0===l?void 0:l.taxableAmount,c[r].nhil=l.nhil,c[r].getf=null===l||void 0===l?void 0:l.getf,c[r].covid=null===l||void 0===l?void 0:l.covid,c[r].totalPayable=null===l||void 0===l?void 0:l.totalPayable,c[r].otherLevies=null===l||void 0===l?void 0:l.otherLevies,c[r].vat=null===l||void 0===l?void 0:l.vat,c[r].otherLeviesType=null===o||void 0===o?void 0:o.otherLeviesType,c[r].isTaxable=null===o||void 0===o?void 0:o.isTaxable,O(c),m(!1)},style:{width:"100%"},children:"Update"})]}),Object(f.jsx)("div",{className:"modal-footer"})]})]})]})})}},222:function(e,t,n){"use strict";var a=n(13),i=n(14),r=n(15),c=n(16),o=n(2),s=n(1),l=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).state={hasError:!1},i}return Object(i.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log("Logging",e,t)}},{key:"render",value:function(){return this.state.hasError?Object(s.jsx)("div",{children:"Ooops....Something went wrong"}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(o.Component);t.a=l},223:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(5),i=n(20),r=n(26),c=n(146),o=n(38),s=(n(21),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){},d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){},b=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{isEnabled:!0,filterUrl:"",shouldTransform:!0},p=Object(o.a)(),j=b.isEnabled,h=b.filterUrl,f=b.shouldTransform,m=void 0===f||f,v=function(){var t=Object(r.a)(Object(i.a)().mark((function t(){var n,a;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l?h:e,t.next=3,p.get(n);case 3:return a=t.sent,t.abrupt("return",null===a||void 0===a?void 0:a.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=Object(c.a)({queryKey:[t,n,s,l],queryFn:v,onSuccess:function(e){return u(e)},onError:function(e){return d(e)},enabled:j,select:function(e){if(l&&m){var t={},n={};return n.paging={totalItems:e.length,pageNumber:1,pageSize:5,totalPages:1},n.items=e,t.invoices=n,t.summaries=e,t}return e}});return Object(a.a)(Object(a.a)({},O),{},{isLoading:O.isLoading&&"idle"!==O.fetchStatus})})},224:function(e,t,n){"use strict";var a=n(5),i=n(8),r=n(2),c=n(446),o=n(447),s=n(237),l=n(144),u=n(171),d=n(1),b=function(e){var t=e.filteredSuggestions,n=(e.activeSuggestionIndex,e.onClick),a=e.businessPartner;return t.length?Object(d.jsx)(u.a,{style:{position:"absolute",width:"100%",zIndex:"1000",margin:0,maxHeight:"200px",minWidth:"max-content",overflow:"auto"},children:t.map((function(e,t){return Object(d.jsx)("div",{className:"customer-item",style:{padding:"0px",borderBottom:"1px solid #e3e3e3",alignContent:"center",marginTop:5,marginBottom:3,cursor:"pointer"},children:Object(d.jsx)("ul",{onClick:function(){return n(e)},children:e.name})},t)}))}):Object(d.jsx)("div",{className:"no-suggestions",children:Object(d.jsxs)("em",{style:{color:"darkred"},children:[a," not found on the list"]})})};t.a=function(e){var t=e.suggestions,n=e.formData,u=e.setFormData,p=e.businessPartner,j=Object(r.useState)([]),h=Object(i.a)(j,2),f=h[0],m=h[1],v=Object(r.useState)(0),O=Object(i.a)(v,2),x=O[0],g=O[1],y=Object(r.useState)(!1),A=Object(i.a)(y,2),E=A[0],P=A[1],T=Object(r.useState)(""),R=Object(i.a)(T,2),S=R[0],C=R[1],N=function(e){var i=e.target.value,r=t.filter((function(e){return e.name.toLowerCase().includes(i.toLowerCase())}));C(e.target.value),u(Object(a.a)(Object(a.a)({},n),{},{customer:i})),m(r),g(0),P(!0)};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(c.a,{className:"input-group-alternative",children:[Object(d.jsx)(o.a,{addonType:"prepend",children:Object(d.jsx)(s.a,{children:Object(d.jsx)("i",{className:"fas fa-search"})})}),Object(d.jsx)(l.a,{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},className:"form-control-alternative",type:"text",placeholder:"Name",onChange:N,onKeyDown:N,value:S})]}),E&&S&&Object(d.jsx)(b,{filteredSuggestions:f,activeSuggestionIndex:x,onClick:function(e){m([]),C(e.name),u(Object(a.a)(Object(a.a)({},n),{},{customer:e.name,identity:e.tin,email:e.email,tel:e.telephone})),g(0),P(!1)},businessPartner:p})]})}},225:function(e,t,n){"use strict";var a=n(5),i=n(8),r=(n(84),n(2)),c=n(21),o=n(446),s=n(447),l=n(237),u=n(144),d=n(171),b=n(1),p=function(e){var t=e.filteredSuggestions,n=(e.activeSuggestionIndex,e.onClick);return t.length?Object(b.jsx)(d.a,{style:{position:"absolute",width:"93%",zIndex:"1000",margin:0,maxHeight:"200px",overflow:"auto"},children:t.map((function(e,t){return Object(b.jsx)("div",{className:"customer-item",style:{padding:"0px",borderBottom:"1px solid #e3e3e3",alignContent:"center",marginTop:5,marginBottom:3,cursor:"pointer"},children:Object(b.jsx)("ul",{onClick:function(){return n(e)},title:e.description,children:e.name})},t)}))}):Object(b.jsx)("div",{className:"no-suggestions",children:Object(b.jsx)("em",{style:{color:"darkred"},children:"No results found on the list"})})},j=function(e){var t=e.onChange,n=e.onFocus,a=e.value;return Object(b.jsx)(u.a,{className:"form-control-alternative",type:"text",placeholder:"Select Item",onChange:t,onKeyDown:t,value:a,onFocus:n})};t.a=function(e){var t=e.suggestions,n=e.formData,u=e.gridData,d=e.setFormData,h=e.setDisabled,f=e.setIsTaxable,m=e.isPurchasing,v=void 0!==m&&m,O=Object(r.useState)([]),x=Object(i.a)(O,2),g=x[0],y=x[1],A=Object(r.useState)(0),E=Object(i.a)(A,2),P=E[0],T=E[1],R=Object(r.useState)(!1),S=Object(i.a)(R,2),C=S[0],N=S[1],_=Object(r.useState)([]),w=Object(i.a)(_,2),I=w[0],D=w[1];Object(r.useEffect)((function(){D(null===u||void 0===u?void 0:u.map((function(e){return null===e||void 0===e?void 0:e.itemName})))}),[u]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(o.a,{className:"input-group-alternative",onClick:function(){N((function(e){return!e})),T(0),y(t)},children:[Object(b.jsx)(j,{onChange:function(e){var i=e.target.value,r=t.filter((function(e){return e.name.toLowerCase().includes(i.toLowerCase())}));d(Object(a.a)(Object(a.a)({},n),{},{itemName:i})),y(r),T(0),N(!0)},value:n.itemName}),Object(b.jsx)(s.a,{addonType:"append",onClick:function(){return N(!1)},children:Object(b.jsx)(l.a,{children:Object(b.jsx)("i",{className:C?"fas fa-angle-up":"fas fa-angle-down"})})})]}),C&&Object(b.jsx)(p,{filteredSuggestions:g,activeSuggestionIndex:P,onClick:function(e){var t;(t=e.name,null===I||void 0===I?void 0:I.includes(t))?c.b.warning("".concat(e.name," already selected")):(y([]),d((function(t){return v?Object(a.a)(Object(a.a)({},t),{},{itemName:e.name,vatItemId:null===e||void 0===e?void 0:e.id}):(f(null===e||void 0===e?void 0:e.taxable),Object(a.a)(Object(a.a)({},n),{},{itemName:e.name,price:null===e||void 0===e?void 0:e.price,vatItemId:null===e||void 0===e?void 0:e.id,itemCode:null===e||void 0===e?void 0:e.code,otherLevies:null===e||void 0===e?void 0:e.otherLevies,isTaxInclusive:null===e||void 0===e?void 0:e.isTaxInclusive}))})),T(0),N(!1),h(!1))}})]})}},248:function(e,t,n){},252:function(e,t,n){},38:function(e,t,n){"use strict";var a=n(147),i=n.n(a),r=(n(2),n(61)),c=n(47),o=i.a.create({baseURL:"/gra-invoicer",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF":1}});t.a=function(){return Object(c.a)(),o.interceptors.response.use((function(e){try{var t=JSON.parse(null===e||void 0===e?void 0:e.data);return e.data=JSON.parse(null===t||void 0===t?void 0:t.data),e}catch(n){return e}}),(function(e){if(console.log({error:e}),e.response){var t=e.response.status,n=(e.response.data,e.config);return 401!==t||n._retry||(n._retry=!0,Object(r.b)()),Promise.reject(e)}alert("NETWORK ERROR")})),o}},380:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/argon-react-white.e4dd3b41.png"},381:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/argon-react.128d71d3.png"},382:function(e,t,n){(function(e){!function(){var t,n,a={271:function(e){function t(e){var t=document.createElement("a");return t.href=e,t.search.split("?")[1]||""}e.exports={getQueryParamsString:t,parseUrlParams:function(e){var n=t(e);return""===n?{}:n.split("&").reduce((function(e,t){var n=t.split("=");return e[n[0]]=decodeURIComponent(n[1]),e}),{})},loadScript:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=document.createElement("script");n.type="text/javascript",n.onerror=function(){t(new Error("Script failed to load"))},n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()},n.src=e,document.getElementsByTagName("head")[0].appendChild(n)}}}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,loaded:!1,exports:{}};return a[e](n,n.exports,r),n.loaded=!0,n.exports}r.m=a,r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,n){return r.f[n](e,t),t}),[]))},r.u=function(e){return"sentry-browser.min.js"},r.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t={},n="asset_composer:",r.l=function(e,a,i,c){if(t[e])t[e].push(a);else{var o,s;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==n+i){o=d;break}}o||(s=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",n+i),o.src=e),t[e]=[a];var b=function(n,a){o.onerror=o.onload=null,clearTimeout(p);var i=t[e];if(delete t[e],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(e){return e(a)})),n)return n(a)},p=setTimeout(b.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=b.bind(null,o.onerror),o.onload=b.bind(null,o.onload),s&&document.head.appendChild(o)}},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="https://static.zdassets.com/ekr/",function(){var e={11:0};r.f.j=function(t,n){var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var i=new Promise((function(n,i){a=e[t]=[n,i]}));n.push(a[2]=i);var c=r.p+r.u(t),o=new Error;r.l(c,(function(n){if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=n&&("load"===n.type?"missing":n.type),c=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+c+")",o.name="ChunkLoadError",o.type=i,o.request=c,a[1](o)}}),"chunk-"+t,t)}};var t=function(t,n){var a,i,c=n[0],o=n[1],s=n[2],l=0;if(c.some((function(t){return 0!==e[t]}))){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);s&&s(r)}for(t&&t(n);l<c.length;l++)i=c[l],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.zEWebpackACJsonp=self.zEWebpackACJsonp||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),function(){"use strict";var t=setTimeout;function n(e){return Boolean(e&&void 0!==e.length)}function a(){}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function c(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var a;try{a=n(e._value)}catch(e){return void s(t.promise,e)}o(t.promise,a)}else(1===e._state?o:s)(t.promise,e._value)}))):e._deferreds.push(t)}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void d((a=n,r=t,function(){a.apply(r,arguments)}),e)}e._state=1,e._value=t,l(e)}catch(t){s(e,t)}var a,r}function s(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&i._immediateFn((function(){e._handled||i._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)c(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function d(e,t){var n=!1;try{e((function(e){n||(n=!0,o(t,e))}),(function(e){n||(n=!0,s(t,e))}))}catch(e){if(n)return;n=!0,s(t,e)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(a);return c(this,new u(e,t,n)),n},i.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},i.all=function(e){return new i((function(t,a){if(!n(e))return a(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var r=i.length;function c(e,n){try{if(n&&("object"==typeof n||"function"==typeof n)){var o=n.then;if("function"==typeof o)return void o.call(n,(function(t){c(e,t)}),a)}i[e]=n,0==--r&&t(i)}catch(e){a(e)}}for(var o=0;o<i.length;o++)c(o,i[o])}))},i.allSettled=function(e){return new this((function(t,n){if(!e||void 0===e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var a=Array.prototype.slice.call(e);if(0===a.length)return t([]);var i=a.length;function r(e,n){if(n&&("object"==typeof n||"function"==typeof n)){var c=n.then;if("function"==typeof c)return void c.call(n,(function(t){r(e,t)}),(function(n){a[e]={status:"rejected",reason:n},0==--i&&t(a)}))}a[e]={status:"fulfilled",value:n},0==--i&&t(a)}for(var c=0;c<a.length;c++)r(c,a[c])}))},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i((function(t){t(e)}))},i.reject=function(e){return new i((function(t,n){n(e)}))},i.race=function(e){return new i((function(t,a){if(!n(e))return a(new TypeError("Promise.race accepts an array"));for(var r=0,c=e.length;r<c;r++)i.resolve(e[r]).then(t,a)}))},i._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){t(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var b=i;function p(e){return new b((function(t,n){var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="json",a.onload=function(){if(200===a.status){var e=a.response,i="string"==typeof e?JSON.parse(e):e;t(i)}else{var r=new Error(a.statusText);r.status=a.status,n(r)}},a.onerror=function(){n(Error("Network error"))},a.send()}))}function j(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var h=function(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.message=t,this.props=n,this.error=Error(this.message),this.isUserError=a,this.fingerprint=this.message})),f={},m={},v={};var O=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t.name,this.id=t.id,this.features=t.features,this.win=n,this.doc=n.document}var t,n;return t=e,n=[{key:"ready",value:function(){var e=this;return new b((function(t,n){e.createIframeElement().then((function(a){a.addEventListener("load",(function(){var i=a.contentWindow;i&&i.document?(i.ACFetch=p,t(i.document)):n(e.error())})),a.src="about:blank",e.doc.body.appendChild(a)}))}))}},{key:"injectMetadata",value:function(e,t){var n,a,i;e&&(e.zendesk=(n={},a=this.name,i={id:this.id,features:this.features},a in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i,n),e.zEQueue=t)}},{key:"injectAssets",value:function(e,t){var n=this;if(e){var a=e.getElementsByTagName("head")[0];t.scripts.forEach((function(t){a.appendChild(n.createScriptElement(e,t.src))}))}}},{key:"parentDocumentReady",value:function(){var e=this;return new b((function(t,n){"loading"!==e.doc.readyState&&e.doc.body?t():e.doc.addEventListener("DOMContentLoaded",(function(){e.doc.body?t():n(new h("host page document.body not available"))}))}))}},{key:"createIframeElement",value:function(){var e=this;return this.parentDocumentReady().then((function(){var t=e.doc.createElement("iframe");return t.dataset.product=e.name,t.title="No content",t.role="presentation",t.tabIndex=-1,t.allow="microphone *",t.setAttribute("aria-hidden",!0),t.style.cssText="width: 0; height: 0; border: 0; position: absolute; top: -9999px",t}))}},{key:"createScriptElement",value:function(e,t){if(!e)return null;var n=e.createElement("script");return n.type="text/javascript",n.src=t,n}},{key:"error",value:function(){var e={product:this.name,id:this.id,features:this.features};return new h("iframe document not available to load product",e)}}],n&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();var x=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.product=t,this.productIframe=new O(this.product,n)}var t,n;return t=e,n=[{key:"getProductAssets",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?v[this.product.name].assets:this.product.assets}},{key:"load",value:function(e,t){var n=this;return this.productIframe.ready().then((function(a){n.productIframe.injectMetadata(a,t),n.productIframe.injectAssets(a,e)})).catch((function(){return b.reject(n.loadProductError())}))}},{key:"loadProductError",value:function(){var e=this.product,t=e.name,n=e.id,a=e.features;return new h("failed to load product",{product:t,id:n,features:a})}}],n&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),g=r(271);var y=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.zopimKey=t,this.win=n,this.doc=n.document}var t,n;return t=e,n=[{key:"getProductAssets",value:function(){return{zopimSrc:"".concat("https://v2.zopim.com/w","?").concat(this.zopimKey)}}},{key:"load",value:function(e){return new b((function(t,n){try{(0,g.loadScript)(e.zopimSrc),t()}catch(e){n(e)}}))}}],n&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();var A="__zE_ac_version",E=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.version=this.getVersion(t),this.baseUrl="".concat("https://ekr.zdassets.com/","compose/").concat(n),this.snippetKey=n}var t,n;return t=e,(n=[{key:"resolveComposeUrl",value:function(){var e=this.baseUrl;return this.version&&(e+="?".concat(this.getSerializedVersionQueryParam()),this.displayWarning()),decodeURI(e)}},{key:"displayWarning",value:function(){console.warn("You are loading ".concat(this.version.name," version ").concat(this.version.string))}},{key:"getSerializedVersionQueryParam",value:function(){return"".concat(A,"=").concat(this.version.name,"/").concat(this.version.string)}},{key:"getVersion",value:function(e){var t;try{t=e.localStorage.getItem("ZD-ac-version")}catch(e){}var n=(0,g.parseUrlParams)(e.location.href)[A]||t;if(n){var a=n.split("/");if(this.validVersion(a[1]))return{name:a[0],string:a[1]}}return null}},{key:"validVersion",value:function(e){return e&&/^\w+$/.test(e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();var P=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.snippet=t}var t,n;return t=e,n=[{key:"getProducts",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new b((function(a,i){var r=t.snippet.getParentWindow();if(n)r.zEACLoaded=!0,r.$zopim?a(m.products):a(f.products);else{var c=new E(r,e),o=function(e){var t=e.products;r.zEACLoaded=!0,a(t)},s=c.resolveComposeUrl();p(s).then(o).catch((function(n){404!==n.status&&400!==n.status?p(s).then((function(e){return o(e)})).catch((function(){return i(t.error(e))})):i(t.error(e))}))}}))}},{key:"loadProducts",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.map((function(e){var a=e.getProductAssets(n);return e.load(a,t.snippet.getZEQueue()).catch((function(e){return b.reject(e)}))}))}},{key:"getProductLoaders",value:function(e){var t=this.snippet.getParentWindow();return e.map((function(e){return"zopim_chat"===e.name?new y(e.id,t):new x(e,t)}))}},{key:"error",value:function(e){return new h("compose request failed",{key:e})}}],n&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();var T=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.win=t,this.doc=t.document}var t,n;return t=e,n=[{key:"getKey",value:function(){return new b((function(e,t){return t(new h("Key is missing from snippet",{},!0))}))}},{key:"getZEQueue",value:function(){return null}},{key:"getParentWindow",value:function(){return this.win}}],n&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(c,e);var t,n,a,i,r=(a=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(a);if(i){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),r.apply(this,arguments)}return t=c,n=[{key:"getKey",value:function(){var e=this;return new b((function(t,n){var a=e.doc.zendeskHost;return a?e._isHostMapped(a)?p("https://".concat(a,"/embeddable/zendesk_host")).then((function(e){return t("web_widget/".concat(e.zendesk_host))})).catch((function(e){return n(new h(e.message))})):t("web_widget/".concat(a)):n(Error("Zendesk host is not defined"))}))}},{key:"getZEQueue",value:function(){return this.doc.zEQueue}},{key:"getParentWindow",value:function(){return this.win.parent}},{key:"_isHostMapped",value:function(e){return-1===e.indexOf(".zendesk.com")&&-1===e.indexOf(".zendesk-staging.com")}}],n&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(T);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function w(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function I(e,t){return I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},I(e,t)}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(o,e);var t,n,a,i,r,c=(i=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(i);if(r){var n=D(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),c.apply(this,arguments)}return t=o,n=[{key:"getKey",value:function(){var e=this;return new b((function(t,n){var a=e._getScript(e.win.zE);if(a){var i=(0,g.parseUrlParams)(a.src);if(i&&i.key)return t(i.key)}return n(new h("Key is missing from snippet",{},!0))}))}},{key:"getZEQueue",value:function(){return this.win.zE._}},{key:"_getScript",value:function(e){return o.isSnippetPresent(this.win)||(e&&e.s?e.s:void 0)}}],a=[{key:"isSnippetPresent",value:function(e){return e.document.getElementById("ze-snippet")}}],n&&w(t.prototype,n),a&&w(t,a),Object.defineProperty(t,"prototype",{writable:!1}),o}(T);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function U(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function F(e,t){return F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},F(e,t)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}var H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(o,e);var t,n,a,i,r,c=(i=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(i);if(r){var n=V(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),c.apply(this,arguments)}return t=o,n=[{key:"getKey",value:function(){var e=this;return new b((function(t,n){var a=(0,g.getQueryParamsString)(o.getScriptSrc(e.win));return t("zopim_chat/".concat(a))}))}}],a=[{key:"getScriptSrc",value:function(e){if(e.$zopim&&e.$zopim.s)return e.$zopim.s.src;for(var t,n=document.getElementsByTagName("script"),a=/.*zopim.(com|net|org)\//,i=0,r=n.length;i<r;i++)if(t=n[i].src||"",a.test(t))return t}},{key:"isSnippetPresent",value:function(e){return!!o.getScriptSrc(e)}}],n&&U(t.prototype,n),a&&U(t,a),Object.defineProperty(t,"prototype",{writable:!1}),o}(T);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=null,q={autoSessionTracking:!1,enabled:!window.zESettings||void 0===window.zESettings.errorReporting||Boolean(window.zESettings.errorReporting),dsn:void 0,environment:void 0,release:"asset-composer@v58",sampleRate:1,defaultIntegrations:!1},M=function(){return new b((function(e){z?e(z):r.e(996).then(r.bind(r,858)).then((function(t){var n=t.BrowserClient,a=t.makeFetchTransport,i=t.defaultStackParser,r=t.Hub,c=t.Integrations,o=new n(Q(Q({},q),{},{integrations:[new c.InboundFilters,new c.FunctionToString,new c.HttpContext],transport:a,stackParser:i}));z=new r(o),e(z)}))}))};function G(e){return e&&e instanceof h?M().then((function(t){t.withScope((function(n){e.fingerprint&&n.setFingerprint(e.fingerprint),n.setLevel("warning"),t.captureException(e.error)})),window.console&&e.isUserError&&window.console.error(e.message)})):M().then((function(t){t.captureException(e)}))}!function(){try{if("function"!=typeof window.zE){var e=function(){var e=[],t=function(){e.push(arguments)};return t._=e,t.t=Date.now(),t}();window.zE=e,window.zEmbed=e}if(window.zEACLoaded)return;var t=function(e){return L.isSnippetPresent(e)?new L(e):e.document.zendeskHost&&e.document.zEQueue?new N(e):H.isSnippetPresent(e)?new H(e):new L(e)}(window),n=new P(t);t.getKey().then((function(e){return n.getProducts(e,!1)})).then((function(e){if(e&&e.length)return b.all(n.loadProducts(n.getProductLoaders(e),!1))})).catch((function(e){return G(e)}))}catch(e){G(e)}}()}()}()}).call(this,n(383).setImmediate)},388:function(e,t,n){"use strict";n.r(t);var a=n(184),i=n.n(a),r=n(2),c=n.n(r),o=n(226),s=n.n(o),l=n(36),u=n.n(l);window.React=c.a,window.createReactClass=s.a,window.ReactDOM=u.a,window.$=window.jQuery=i.a;var d=n(34),b=(n(185),n(186),n(187),n(188),n(459)),p=n(100),j=n(240),h=n(5),f=n(39),m=n(8),v=n(60),O=n(52),x=n(1),g=function(){var e=Object(r.useState)(!1),t=Object(m.a)(e,2),n=t[0],a=t[1],i=Object(v.c)().login,c=Object(r.useRef)();return Object(r.useEffect)((function(){null===c||void 0===c||c.current.click()}),[]),Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{style:y.container,children:[Object(x.jsx)("h1",{style:{color:"#f1f1f1",marginBottom:20},children:"Welcome to GRA's Invoicing App"}),n?Object(x.jsx)("button",{autoFocus:!0,className:"login-button",style:y.buttonWrap,ref:c,disabled:n,onClick:function(){a(!0),i()},children:"Loading..."}):Object(x.jsxs)("button",{autoFocus:!0,className:"login-button",style:y.buttonWrap,ref:c,disabled:n,onClick:function(){a(!0),i()},children:["Click\xa0to\xa0Login"," "]})]})})},y={main:{display:"flex",flexDirection:"row"},container:{height:"100vh",background:"rgb(37, 39, 60)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"white"},buttonWrap:{width:"10%",borderRadius:30,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",height:50,background:"linear-gradient(hsl(192, 100%, 67%),hsl(280, 87%, 65%))",border:"none",color:"white"}},A=n(20),E=n(26),P=n(244),T=n(438),R=n(439),S=n(464),C=n(465),N=n(440),_=n(441),w=n(442),I=n(21),D=n(38),L=n(232),k=function(e){var t=Object(v.c)(),a=t.getUser,i=t.user,c=t.logout,o=t.setSelectedBranch,s=t.selectedBranch,l=Object(D.a)();Object(r.useLayoutEffect)((function(){var e=function(){var e=Object(E.a)(Object(A.a)().mark((function e(){return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a();case 3:if(e.sent){e.next=6;break}throw new Error;case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),I.b.error("Login to access this page"),login();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return e(),function(){}}),[]);var u=Object(r.useState)([]),d=Object(m.a)(u,2),b=d[0],p=d[1];return Object(r.useLayoutEffect)((function(){var e=function(){var e=Object(E.a)(Object(A.a)().mark((function e(){var t;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.get("/api/GetApps");case 3:t=e.sent,p(null===t||void 0===t?void 0:t.data.filter((function(e){return"00000000-0000-0000-0000-400000000000"!==(null===e||void 0===e?void 0:e.id)}))),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return e(),function(){}}),[]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(T.a,{className:"navbar-top navbar-dark",expand:"md",id:"navbar-main",children:Object(x.jsxs)(P.a,{fluid:!0,children:[Object(x.jsx)("h1",{className:"h1 mb-0 text-white text-uppercase d-none d-lg-inline-block",children:null!==i&&void 0!==i&&i.companyName?(null===i||void 0===i?void 0:i.companyName)+" "+(null===s||void 0===s?void 0:s.name):null===s||void 0===s?void 0:s.name}),Object(x.jsxs)(R.a,{className:"align-items-center d-none d-md-flex",navbar:!0,children:[Object(x.jsxs)(S.a,{nav:!0,children:[Object(x.jsx)(C.a,{className:"pr-0",nav:!0,children:Object(x.jsx)(N.a,{className:"align-items-center",children:Object(x.jsx)(N.a,{className:"ml-2 d-none d-lg-block",children:Object(x.jsx)("span",{className:"mb-0 text-sm font-weight-bold",children:Object(x.jsx)(L.a,{size:"2em"})})})})}),Object(x.jsx)(_.a,{className:"dropdown-menu-arrow",right:!0,children:null===b||void 0===b?void 0:b.map((function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(w.a,{className:"noti-title",header:!0,tag:"div",children:Object(x.jsx)("a",{href:null===e||void 0===e?void 0:e.appPath,target:"_blank",className:"text-overflow m-0",style:{color:"#8898aa !important"},children:null===e||void 0===e?void 0:e.name})})})}))})]}),Object(x.jsxs)(S.a,{nav:!0,children:[Object(x.jsx)(C.a,{className:"pr-0",nav:!0,children:Object(x.jsxs)(N.a,{className:"align-items-center",children:[Object(x.jsx)("span",{className:"avatar avatar-sm rounded-circle",children:Object(x.jsx)("img",{alt:"...",src:n(208).default})}),Object(x.jsx)(N.a,{className:"ml-2 d-none d-lg-block",children:Object(x.jsx)("span",{className:"mb-0 text-sm font-weight-bold",children:null===i||void 0===i?void 0:i.given_name})})]})}),Object(x.jsxs)(_.a,{className:"dropdown-menu-arrow",right:!0,children:[Object(x.jsx)(w.a,{className:"noti-title",header:!0,tag:"div",children:Object(x.jsx)("h6",{className:"text-overflow m-0",children:"Welcome!"})}),Object(x.jsxs)(w.a,{onClick:function(){o(null)},children:[Object(x.jsx)("i",{className:"ni ni-user-run"}),Object(x.jsx)("span",{children:"Change Branch"})]}),Object(x.jsxs)(w.a,{href:"https://psl-app-vm3/evat-auth/identity/account/manage",tag:"a",children:[Object(x.jsx)("i",{className:"ni ni-single-02"}),Object(x.jsx)("span",{children:"Profile Settings"})]}),Object(x.jsxs)(w.a,{onClick:function(){c(),setTimeout("location.reload(true);",1500)},children:[Object(x.jsx)("i",{className:"ni ni-user-run"}),Object(x.jsx)("span",{children:"Logout"})]})]})]})]})]})})})},U=function(){return Object(x.jsx)(x.Fragment,{})},F=n(59),V=n(236),H=n(443),B=n(444),Q=n(445),W=n(110),z=n(80),q=n(394),M=n(446),G=n(144),J=n(447),K=n(237),Y=Object({NODE_ENV:"production",PUBLIC_URL:"/gra-invoicer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHORITY:"https://psl-app-vm3/evat-auth",REACT_APP_BASENAME:"/gra-invoicer",REACT_APP_ClientCorsOrigin:"https://psl-app-vm3",REACT_APP_CLIENT_ID:"evat-invoicing-ui",REACT_APP_CLIENT_ROOT:"https://psl-app-vm3/EvatApi/api/v1",REACT_APP_CLIENT_ROOT_V2:"https://psl-app-vm3/EvatApi/api/v2",REACT_APP_CLIENT_ROOT_V3:"https://psl-app-vm3/EvatApi/api/v3",REACT_APP_CLIENT_SECRET:"L#?+;@e&?7D40p0kYO93e>u}18qI7^",REACT_APP_DASHBOARD_URL:"https://reports.cimsgh.com/bi/site/site1/dashboards/7b5d6da7-6ff6-45c6-800c-fc893d09f5de/EVAT/Sec.%20GRA%20QA%20DASHBOARD?showmydashboards=1&isembed=true&hide_tool=dp&export=true%27",REACT_APP_DEFAULT_USER:"user",REACT_APP_REPORTSERVERPath:"/eVAT/eVAT_Report/",REACT_APP_REPORTSERVICEURL:"https://psl-app-vm3/EvatApi/api/v1/ReportViewer",REACT_APP_SYNCFUSSION_LICENSE:"ORg4AjUWIQA/Gnt2VFhiQlJPd11dXmJWd1p/THNYflR1fV9DaUwxOX1dQl9gSXtTfkVkWn1adHZQT2A=",REACT_APP_URL:"https://psl-app-vm3"}).REACT_APP_VERSION,X=function(){return Object(x.jsxs)("span",{style:Z,children:["v",Y]})},Z={fontSize:"0.6em",textAlign:"center",display:"block"},$=n(235),ee=function(e){var t=Object(r.useState)(),n=Object(m.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)(null),o=Object(m.a)(c,2),s=(o[0],o[1],function(){i((function(e){return!e}))}),l=function(){i(!1)};console.log(e.routes),Object(r.useLayoutEffect)((function(){var e=sessionStorage.getItem(Object({NODE_ENV:"production",PUBLIC_URL:"/gra-invoicer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHORITY:"https://psl-app-vm3/evat-auth",REACT_APP_BASENAME:"/gra-invoicer",REACT_APP_ClientCorsOrigin:"https://psl-app-vm3",REACT_APP_CLIENT_ID:"evat-invoicing-ui",REACT_APP_CLIENT_ROOT:"https://psl-app-vm3/EvatApi/api/v1",REACT_APP_CLIENT_ROOT_V2:"https://psl-app-vm3/EvatApi/api/v2",REACT_APP_CLIENT_ROOT_V3:"https://psl-app-vm3/EvatApi/api/v3",REACT_APP_CLIENT_SECRET:"L#?+;@e&?7D40p0kYO93e>u}18qI7^",REACT_APP_DASHBOARD_URL:"https://reports.cimsgh.com/bi/site/site1/dashboards/7b5d6da7-6ff6-45c6-800c-fc893d09f5de/EVAT/Sec.%20GRA%20QA%20DASHBOARD?showmydashboards=1&isembed=true&hide_tool=dp&export=true%27",REACT_APP_DEFAULT_USER:"user",REACT_APP_REPORTSERVERPath:"/eVAT/eVAT_Report/",REACT_APP_REPORTSERVICEURL:"https://psl-app-vm3/EvatApi/api/v1/ReportViewer",REACT_APP_SYNCFUSSION_LICENSE:"ORg4AjUWIQA/Gnt2VFhiQlJPd11dXmJWd1p/THNYflR1fV9DaUwxOX1dQl9gSXtTfkVkWn1adHZQT2A=",REACT_APP_URL:"https://psl-app-vm3"}).REACT_APP_OIDC_USER);JSON.parse(e)}),[]);var u,b="/admin",p=function(e){var t=e.name,n=void 0===t?"Menu":t,a=e.items,i=void 0===a?[]:a,c=e.children,o=e.path,s=void 0===o?"":o,u=e.sub,p=void 0===u?"":u,j=e.open,h=void 0!==j&&j,f=e.iconPath,v=void 0===f?"":f,O=Object(r.useState)(h),g=Object(m.a)(O,2),y=g[0],A=g[1],E=Object(r.useState)(!1),P=Object(m.a)(E,2),T=P[0],R=P[1],S=Object($.useLocation)();Object(r.useLayoutEffect)((function(){return S.pathname=="/admin"+s?(R(!0),A(!0)):R(!1),function(){}}),[S]);var C=function(){return A(!y)};return console.log({items:i}),void 0===c?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"py-2 ",children:Object(x.jsx)(d.b,{to:b+p+s,children:Object(x.jsx)("span",{className:T?"isActive "+v:"isPending "+v,onClick:C,style:{marginBottom:"1rem"},children:Object(x.jsx)("span",{className:"pl-1",style:{display:"inline-block"},children:n})})})})}):Object(x.jsxs)("div",{className:"py-2 ",children:[Object(x.jsxs)("span",{onClick:C,style:{marginBottom:"1rem"},children:[n,y?Object(x.jsx)(F.b,{}):Object(x.jsx)(F.c,{})]}),Object(x.jsxs)(V.a,{isOpen:y,children:[null===i||void 0===i?void 0:i.map((function(e,t){var n,a;return Object(x.jsx)(H.a,{children:Object(x.jsxs)(B.a,{to:b+p+(null===(n=i[t])||void 0===n?void 0:n.navicationPath),tag:d.c,onClick:l,activeStyle:{color:"red"},children:[Object(x.jsx)("i",{className:null===(a=i[t])||void 0===a?void 0:a.icon}),e.name]})},t)})),Object(x.jsx)("div",{className:"d-flex",style:{flexDirection:"column",marginLeft:"10px"},children:c})]})]})},j=function(e){var t,n,a,i,r,c,o,s,l,u,d,b,j,h,f,m,v,O,g,y,A,E,P,T,R,S,C,N,_,w,I,D,L,k,U,F,V=e.routes,H=void 0===V?[]:V;console.log({routes:H});var B=H.findIndex((function(e){return"Transactions"==e.name})),Q=H.findIndex((function(e){return"Setup"==e.name})),W=H.findIndex((function(e){return"Dashboard"==e.name})),z=H.findIndex((function(e){return"Reports"==e.name})),q=-1;-1!=B&&void 0!=H[B].menus[0]&&(q=0),console.log({setupIdx:Q,DashboardIdx:W,ReportsIdx:z,cancelIdx:q,transactionsIdx:B});return console.log("test",null===(t=H[B])||void 0===t?void 0:t.menus[q],H[B]),Object(x.jsxs)("div",{style:{paddingLeft:"30px"},className:"pdl-3 mt-4",children:[-1!==W&&Object(x.jsx)(p,{path:null===(n=H[W])||void 0===n?void 0:n.navicationPath,iconPath:null===(a=H[W])||void 0===a?void 0:a.iconPath,items:[],name:"Dashboard"}),-1!==B&&Object(x.jsxs)(p,{items:[],open:!0,name:"Transactions",children:[Object(x.jsx)(p,{path:null===(i=H[B].menus[4])||void 0===i?void 0:i.navicationPath,iconPath:null===(r=H[B].menus[4])||void 0===r?void 0:r.iconPath,name:"Sales"}),Object(x.jsx)(p,{path:null===(c=H[B].menus[1])||void 0===c?void 0:c.navicationPath,iconPath:null===(o=H[B].menus[1])||void 0===o?void 0:o.iconPath,name:"Purchase"}),Object(x.jsx)(p,{path:null===(s=H[B].menus[2])||void 0===s?void 0:s.navicationPath,iconPath:null===(l=H[B].menus[2])||void 0===l?void 0:l.iconPath,name:"Refund"}),Object(x.jsx)(p,{path:null===(u=H[B].menus[3])||void 0===u?void 0:u.navicationPath,iconPath:null===(d=H[B].menus[3])||void 0===d?void 0:d.iconPath,name:"Purchase Return"}),-1!=q&&Object(x.jsxs)(p,{items:[],name:"Cancelation",children:[Object(x.jsx)(p,{items:[null===(b=H[B][3])||void 0===b?void 0:b.menus],name:"Purchase Return",path:null===(j=H[B])||void 0===j||null===(h=j.menus[q])||void 0===h||null===(f=h.menus[0])||void 0===f?void 0:f.navicationPath,iconPath:null===(m=H[B])||void 0===m||null===(v=m.menus[q])||void 0===v||null===(O=v.menus[0])||void 0===O?void 0:O.iconPath}),Object(x.jsx)(p,{path:null===(g=H[B].menus[q])||void 0===g||null===(y=g.menus[1])||void 0===y?void 0:y.navicationPath,iconPath:null===(A=H[B].menus[q])||void 0===A||null===(E=A.menus[1])||void 0===E?void 0:E.iconPath,items:[],name:"Refund"})]})]}),-1!==Q&&Object(x.jsxs)(p,{open:!0,items:[],name:"Setups",children:[Object(x.jsx)(p,{items:[],name:"Item",path:null===(P=H[Q])||void 0===P||null===(T=P.menus[1])||void 0===T?void 0:T.navicationPath,iconPath:null===(R=H[Q])||void 0===R||null===(S=R.menus[1])||void 0===S?void 0:S.iconPath}),Object(x.jsx)(p,{items:[],name:"Business Partner",path:null===(C=H[Q])||void 0===C||null===(N=C.menus[2])||void 0===N?void 0:N.navicationPath,iconPath:null===(_=H[Q])||void 0===_||null===(w=_.menus[2])||void 0===w?void 0:w.iconPath}),Object(x.jsx)(p,{items:[],name:"Exchange Rate",path:null===(I=H[Q])||void 0===I||null===(D=I.menus[0])||void 0===D?void 0:D.navicationPath,iconPath:null===(L=H[Q])||void 0===L||null===(k=L.menus[0])||void 0===k?void 0:k.iconPath})]}),-1!==z&&Object(x.jsx)(p,{items:[H[z]],name:"Reports",path:null===(U=H[z])||void 0===U?void 0:U.navicationPath,iconPath:null===(F=H[z])||void 0===F?void 0:F.iconPath})]})},f=(e.bgColor,e.routes),v=e.logo;return v&&v.innerLink?u={to:v.innerLink,tag:d.b}:v&&v.outterLink&&(u={href:v.outterLink,target:"_blank"}),Object(x.jsx)(T.a,{className:"navbar-vertical fixed-left navbar-light bg-white",expand:"md",id:"sidenav-main",children:Object(x.jsxs)(P.a,{fluid:!0,style:{position:"relative"},children:[Object(x.jsx)("button",{className:"navbar-toggler",type:"button",onClick:s,children:Object(x.jsx)("span",{className:"navbar-toggler-icon"})}),v?Object(x.jsx)(Q.a,Object(h.a)(Object(h.a)({className:"pt-3"},u),{},{children:Object(x.jsx)("img",{alt:v.imgAlt,className:"navbar-brand-img",src:v.imgSrc})})):null,Object(x.jsx)(R.a,{className:"align-items-center d-md-none",style:{background:"red"},children:Object(x.jsx)(S.a,{nav:!0,children:Object(x.jsxs)(_.a,{className:"dropdown-menu-arrow",right:!0,children:[Object(x.jsx)(w.a,{className:"noti-title",header:!0,tag:"div",children:Object(x.jsx)("h6",{className:"text-overflow m-0",children:"Welcome!"})}),Object(x.jsxs)(w.a,{to:"/admin/user-profile",tag:d.b,children:[Object(x.jsx)("i",{className:"ni ni-single-02"}),Object(x.jsx)("span",{children:"My profile"})]}),Object(x.jsxs)(w.a,{to:"/admin/user-profile",tag:d.b,children:[Object(x.jsx)("i",{className:"ni ni-settings-gear-65"}),Object(x.jsx)("span",{children:"Settings"})]}),Object(x.jsxs)(w.a,{to:"/admin/user-profile",tag:d.b,children:[Object(x.jsx)("i",{className:"ni ni-calendar-grid-58"}),Object(x.jsx)("span",{children:"Activity"})]}),Object(x.jsxs)(w.a,{to:"/admin/user-profile",tag:d.b,children:[Object(x.jsx)("i",{className:"ni ni-support-16"}),Object(x.jsx)("span",{children:"Support"})]}),Object(x.jsx)(w.a,{divider:!0}),Object(x.jsxs)(w.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:[Object(x.jsx)("i",{className:"ni ni-user-run"}),Object(x.jsx)("span",{children:"Logout"})]})]})})}),Object(x.jsxs)(V.a,{navbar:!0,isOpen:a,children:[Object(x.jsx)("div",{className:"navbar-collapse-header d-md-none",children:Object(x.jsxs)(W.a,{children:[v?Object(x.jsx)(z.a,{className:"collapse-brand",xs:"6",children:v.innerLink?Object(x.jsx)(d.b,{to:v.innerLink,children:Object(x.jsx)("img",{alt:v.imgAlt,src:v.imgSrc})}):Object(x.jsx)("a",{href:v.outterLink,children:Object(x.jsx)("img",{alt:v.imgAlt,src:v.imgSrc})})}):null,Object(x.jsx)(z.a,{className:"collapse-close",xs:"6",children:Object(x.jsxs)("button",{className:"navbar-toggler",type:"button",onClick:s,children:[Object(x.jsx)("span",{}),Object(x.jsx)("span",{})]})})]})}),Object(x.jsx)(q.a,{className:"mt-4 mb-3 d-md-none",children:Object(x.jsxs)(M.a,{className:"input-group-rounded input-group-merge",children:[Object(x.jsx)(G.a,{"aria-label":"Search",className:"form-control-rounded form-control-prepended",placeholder:"Search",type:"search"}),Object(x.jsx)(J.a,{addonType:"prepend",children:Object(x.jsx)(K.a,{children:Object(x.jsx)("span",{className:"fa fa-search"})})})]})}),Object(x.jsx)(R.a,{navbar:!0,style:{marginTop:-30},className:"sideBar",children:Object(x.jsx)(j,{routes:f})}),Object(x.jsx)("hr",{className:"my-0"})]}),Object(x.jsx)(X,{})]})})};ee.defaultProps={routes:[{}]};var te=ee,ne=n(136),ae=(n(171),n(450),n(245),n(460),n(376),n(172),JSON.parse(sessionStorage.getItem(Object({NODE_ENV:"production",PUBLIC_URL:"/gra-invoicer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHORITY:"https://psl-app-vm3/evat-auth",REACT_APP_BASENAME:"/gra-invoicer",REACT_APP_ClientCorsOrigin:"https://psl-app-vm3",REACT_APP_CLIENT_ID:"evat-invoicing-ui",REACT_APP_CLIENT_ROOT:"https://psl-app-vm3/EvatApi/api/v1",REACT_APP_CLIENT_ROOT_V2:"https://psl-app-vm3/EvatApi/api/v2",REACT_APP_CLIENT_ROOT_V3:"https://psl-app-vm3/EvatApi/api/v3",REACT_APP_CLIENT_SECRET:"L#?+;@e&?7D40p0kYO93e>u}18qI7^",REACT_APP_DASHBOARD_URL:"https://reports.cimsgh.com/bi/site/site1/dashboards/7b5d6da7-6ff6-45c6-800c-fc893d09f5de/EVAT/Sec.%20GRA%20QA%20DASHBOARD?showmydashboards=1&isembed=true&hide_tool=dp&export=true%27",REACT_APP_DEFAULT_USER:"user",REACT_APP_REPORTSERVERPath:"/eVAT/eVAT_Report/",REACT_APP_REPORTSERVICEURL:"https://psl-app-vm3/EvatApi/api/v1/ReportViewer",REACT_APP_SYNCFUSSION_LICENSE:"ORg4AjUWIQA/Gnt2VFhiQlJPd11dXmJWd1p/THNYflR1fV9DaUwxOX1dQl9gSXtTfkVkWn1adHZQT2A=",REACT_APP_URL:"https://psl-app-vm3"}).REACT_APP_OIDC_USER)),Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(9)]).then(n.bind(null,663))}))),ie=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(10)]).then(n.bind(null,664))})),re=Object(r.lazy)((function(){return n.e(16).then(n.bind(null,660))})),ce=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(12)]).then(n.bind(null,662))})),oe=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(13),n.e(11)]).then(n.bind(null,665))})),se=Object(r.lazy)((function(){return Promise.all([n.e(8),n.e(15)]).then(n.bind(null,666))})),le=Object(r.lazy)((function(){return n.e(14).then(n.bind(null,661))})),ue=Object(r.lazy)((function(){return Promise.all([n.e(1),n.e(7),n.e(17)]).then(n.bind(null,667))})),de=[{path:"/dashboard",name:"Dashboard",icon:"ni ni-single-copy-04 text-primary",component:le,layout:"/admin"},{path:"/index",name:"Sales Invoices",icon:"ni ni-single-copy-04 text-primary",component:ne.b,layout:"/admin"},{path:"/purchases",name:"Purchase Invoices",icon:"ni ni-archive-2 text-primary",component:ce,layout:"/admin"},{path:"/refunds",name:"Refunds",icon:"ni ni-money-coins text-primary",component:re,layout:"/admin"},{path:"/customers",name:"Business Partner Setup",icon:"ni ni-circle-08 text-primary",component:ae,layout:"/admin"},{path:"/items",name:"Item Setup",icon:"ni ni-bag-17 text-primary",component:ie,layout:"/admin"},{path:"/currency",name:"Exchange Rate Setup",icon:"ni ni-money-coins text-primary",component:se,layout:"/admin"},{path:"/reports",name:"Reports",icon:"ni ni-books text-primary",component:ue,layout:"/admin"},{path:"/user-accounts",name:"User Account Management",icon:"ni ni-circle-08 text-primary",component:oe,layout:"/admin"}],be=n(72),pe=n.p+"static/media/GRA_logi.b4ce8052.webp",je=n(47),he=function(e){var t=e.loggingOut,n=void 0!==t&&t,a=Object(je.a)(),i=a.setSelectedBranch,c=a.branches,o=Object(r.useState)(localStorage.getItem("https://psl-app-vm3BRANCH_VALUE")||""),s=Object(m.a)(o,1)[0],l=Object(r.useRef)();return Object(r.useEffect)((function(){var e=null;return n&&(e=setTimeout((function(){window.location.href="https://evat-suite.persolqa.com"}),1e3)),function(){null!==e&&e()}}),[]),Object(x.jsx)("div",{id:"loading-screen",children:Object(x.jsx)("div",{className:"loading-branches",children:n?Object(x.jsx)("h1",{children:"Logging out..."}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"d-flex justify-content-between",style:{alignItems:"center"},children:Object(x.jsx)("img",{src:pe,style:{width:"200px",height:"80px"}})}),Object(x.jsxs)("form",{onSubmit:function(e){var t,n,a,r,c,o,s,u,d,b,p,j;e.preventDefault(),localStorage.setItem("https://psl-app-vm3BRANCH_VALUE",null===l||void 0===l||null===(t=l.current)||void 0===t||null===(n=t.options[null===l||void 0===l||null===(a=l.current)||void 0===a?void 0:a.selectedIndex])||void 0===n?void 0:n.value),localStorage.setItem("https://psl-app-vm3BRANCH_NAME",null===l||void 0===l||null===(r=l.current)||void 0===r||null===(c=r.options[null===l||void 0===l||null===(o=l.current)||void 0===o?void 0:o.selectedIndex])||void 0===c?void 0:c.innerText),i({name:null===l||void 0===l||null===(s=l.current)||void 0===s||null===(u=s.options[null===l||void 0===l||null===(d=l.current)||void 0===d?void 0:d.selectedIndex])||void 0===u?void 0:u.innerText,code:null===l||void 0===l||null===(b=l.current)||void 0===b||null===(p=b.options[null===l||void 0===l||null===(j=l.current)||void 0===j?void 0:j.selectedIndex])||void 0===p?void 0:p.value})},children:[Object(x.jsx)("label",{htmlFor:"branch",className:"text-left d-block",children:"Select your branch"}),Object(x.jsx)("select",{id:"branch",defaultValue:s,className:"form-control",ref:l,children:null===c||void 0===c?void 0:c.map((function(e){return Object(x.jsx)("option",{className:"form-control",value:null===e||void 0===e?void 0:e.code,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.code)}))}),Object(x.jsx)("div",{className:"text-right py-5",children:Object(x.jsx)("button",{autoFocus:!0,type:"submit",className:"btn btn-primary",children:"Continue"})})]})]})})})},fe=(n(61),n(113)),me=n(112),ve=function(e){var t=c.a.useRef(null),n=Object(r.useState)(null),a=Object(m.a)(n,2),i=a[0],o=a[1],s=Object(r.useState)([]),l=Object(m.a)(s,2),u=l[0],d=l[1],b=Object(r.useState)({transactions:[],setups:[],report:[],dashboard:[]}),p=Object(m.a)(b,2),j=(p[0],p[1],Object(je.a)()),v=(j.auth,j.getBranches),g=j.branches,y=j.isLoadingBraches,T=j.selectedBranch,R=j.isErrorLoadingBranches,S=(j.setSelectedBranch,Object(r.useState)([])),C=Object(m.a)(S,2),N=(C[0],C[1]),_=Object(D.a)();Object(r.useRef)();c.a.useLayoutEffect((function(){v()})),Object(r.useLayoutEffect)((function(){var e=function(){var e=Object(E.a)(Object(A.a)().mark((function e(){var t,n,a,i,r;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.get("/api/GetMenus");case 3:a=e.sent,i=null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.map((function(e){return null===e||void 0===e?void 0:e.navicationPath})),console.log({po:a}),r=u.filter((function(e){return i.includes(e.path)})),console.log({usemenus:r}),d(null===a||void 0===a?void 0:a.data),N(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.map((function(e){return null===e||void 0===e?void 0:e.navicationPath}))),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(0),console.log({error:e.t0}),I.b.error("Could not fetch menus. Logging out.."),d([]),window.location.href="".concat("/gra-invoicer","/login");case 18:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return e(),function(){}}),[i]),c.a.useLayoutEffect((function(){var e=sessionStorage.getItem(Object({NODE_ENV:"production",PUBLIC_URL:"/gra-invoicer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHORITY:"https://psl-app-vm3/evat-auth",REACT_APP_BASENAME:"/gra-invoicer",REACT_APP_ClientCorsOrigin:"https://psl-app-vm3",REACT_APP_CLIENT_ID:"evat-invoicing-ui",REACT_APP_CLIENT_ROOT:"https://psl-app-vm3/EvatApi/api/v1",REACT_APP_CLIENT_ROOT_V2:"https://psl-app-vm3/EvatApi/api/v2",REACT_APP_CLIENT_ROOT_V3:"https://psl-app-vm3/EvatApi/api/v3",REACT_APP_CLIENT_SECRET:"L#?+;@e&?7D40p0kYO93e>u}18qI7^",REACT_APP_DASHBOARD_URL:"https://reports.cimsgh.com/bi/site/site1/dashboards/7b5d6da7-6ff6-45c6-800c-fc893d09f5de/EVAT/Sec.%20GRA%20QA%20DASHBOARD?showmydashboards=1&isembed=true&hide_tool=dp&export=true%27",REACT_APP_DEFAULT_USER:"user",REACT_APP_REPORTSERVERPath:"/eVAT/eVAT_Report/",REACT_APP_REPORTSERVICEURL:"https://psl-app-vm3/EvatApi/api/v1/ReportViewer",REACT_APP_SYNCFUSSION_LICENSE:"ORg4AjUWIQA/Gnt2VFhiQlJPd11dXmJWd1p/THNYflR1fV9DaUwxOX1dQl9gSXtTfkVkWn1adHZQT2A=",REACT_APP_URL:"https://psl-app-vm3"}).REACT_APP_OIDC_USER),t=JSON.parse(e);o((function(e){var n;return null===t||void 0===t||null===(n=t.profile)||void 0===n?void 0:n.role}))}),[]);return y?Object(x.jsx)("div",{id:"loading-screen",children:Object(x.jsxs)("div",{className:"loading-branches",children:[Object(x.jsx)("img",{src:pe}),Object(x.jsx)("h1",{children:"Loading branch info"})]})}):R?Object(x.jsx)("div",{id:"loading-screen",children:Object(x.jsx)("h1",{children:"Error Loading Branches branches"})}):null!==g&&void 0!==g&&g.length?null!==T&&void 0!==T&&T.code?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(te,Object(h.a)(Object(h.a)({},e),{},{routes:u,logo:{innerLink:"/admin/index",imgSrc:be.a,imgAlt:"..."}})),Object(x.jsx)(r.Suspense,{fallback:Object(x.jsx)(O.a,{}),children:Object(x.jsx)(fe.ErrorBoundary,{FallbackComponent:me.a,onError:function(e,t){console.log("Logging",e,t)},children:Object(x.jsxs)("div",{className:"main-content",ref:t,children:[Object(x.jsx)(k,Object(h.a)(Object(h.a)({},e),{},{brandText:function(t){for(var n=0;n<u.length;n++)if(-1!==e.location.pathname.indexOf(u[n].layout+u[n].path))return u[n].name;return"Brand"}(e.location.pathname)})),Object(x.jsxs)(f.Switch,{children:[de.map((function(e,t){return console.log({prop:e}),Object(x.jsx)(f.Route,{path:"/admin"+e.path,component:e.component},t)})),Object(x.jsx)(f.Redirect,{from:"*",to:"/admin/index"})]}),Object(x.jsx)(P.a,{fluid:!0,children:Object(x.jsx)(U,{})})]})})})]}):Object(x.jsx)(he,{}):Object(x.jsx)(x.Fragment,{children:"No branch info available"})},Oe=n(455),xe=function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(T.a,{className:"navbar-top navbar-horizontal navbar-dark",expand:"md",children:Object(x.jsxs)(P.a,{className:"px-4",children:[Object(x.jsx)(Q.a,{to:"/",tag:d.b,children:Object(x.jsx)("img",{alt:"...",src:n(380).default})}),Object(x.jsx)("button",{className:"navbar-toggler",id:"navbar-collapse-main",children:Object(x.jsx)("span",{className:"navbar-toggler-icon"})}),Object(x.jsxs)(Oe.a,{navbar:!0,toggler:"#navbar-collapse-main",children:[Object(x.jsx)("div",{className:"navbar-collapse-header d-md-none",children:Object(x.jsxs)(W.a,{children:[Object(x.jsx)(z.a,{className:"collapse-brand",xs:"6",children:Object(x.jsx)(d.b,{to:"/",children:Object(x.jsx)("img",{alt:"...",src:n(381).default})})}),Object(x.jsx)(z.a,{className:"collapse-close",xs:"6",children:Object(x.jsxs)("button",{className:"navbar-toggler",id:"navbar-collapse-main",children:[Object(x.jsx)("span",{}),Object(x.jsx)("span",{})]})})]})}),Object(x.jsxs)(R.a,{className:"ml-auto",navbar:!0,children:[Object(x.jsx)(H.a,{children:Object(x.jsxs)(B.a,{className:"nav-link-icon",to:"/",tag:d.b,children:[Object(x.jsx)("i",{className:"ni ni-planet"}),Object(x.jsx)("span",{className:"nav-link-inner--text",children:"Dashboard"})]})}),Object(x.jsx)(H.a,{children:Object(x.jsxs)(B.a,{className:"nav-link-icon",to:"/auth/register",tag:d.b,children:[Object(x.jsx)("i",{className:"ni ni-circle-08"}),Object(x.jsx)("span",{className:"nav-link-inner--text",children:"Register"})]})}),Object(x.jsx)(H.a,{children:Object(x.jsxs)(B.a,{className:"nav-link-icon",to:"/auth/login",tag:d.b,children:[Object(x.jsx)("i",{className:"ni ni-key-25"}),Object(x.jsx)("span",{className:"nav-link-inner--text",children:"Login"})]})}),Object(x.jsx)(H.a,{children:Object(x.jsxs)(B.a,{className:"nav-link-icon",to:"/admin/user-profile",tag:d.b,children:[Object(x.jsx)("i",{className:"ni ni-single-02"}),Object(x.jsx)("span",{className:"nav-link-inner--text",children:"Profile"})]})})]})]})]})})})},ge=function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("footer",{className:"py-5",children:Object(x.jsx)(P.a,{children:Object(x.jsxs)(W.a,{className:"align-items-center justify-content-xl-between",children:[Object(x.jsx)(z.a,{xl:"6",children:Object(x.jsxs)("div",{className:"copyright text-center text-xl-left text-muted",children:["\xa9 ",(new Date).getFullYear()," ",Object(x.jsx)("a",{className:"font-weight-bold ml-1",href:"https://www.creative-tim.com?ref=adr-auth-footer",target:"_blank",children:"Creative Tim"})]})}),Object(x.jsx)(z.a,{xl:"6",children:Object(x.jsxs)(R.a,{className:"nav-footer justify-content-center justify-content-xl-end",children:[Object(x.jsx)(H.a,{children:Object(x.jsx)(B.a,{href:"https://www.creative-tim.com?ref=adr-auth-footer",target:"_blank",children:"Creative Tim"})}),Object(x.jsx)(H.a,{children:Object(x.jsx)(B.a,{href:"https://www.creative-tim.com/presentation?ref=adr-auth-footer",target:"_blank",children:"About Us"})}),Object(x.jsx)(H.a,{children:Object(x.jsx)(B.a,{href:"http://blog.creative-tim.com?ref=adr-auth-footer",target:"_blank",children:"Blog"})}),Object(x.jsx)(H.a,{children:Object(x.jsx)(B.a,{href:"https://github.com/creativetimofficial/argon-dashboard/blob/master/LICENSE.md?ref=adr-auth-footer",target:"_blank",children:"MIT License"})})]})})]})})})})},ye=function(e){var t=c.a.useRef(null),n=Object(f.useLocation)();c.a.useEffect((function(){return document.body.classList.add("bg-default"),function(){document.body.classList.remove("bg-default")}}),[]),c.a.useEffect((function(){document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,t.current.scrollTop=0}),[n]);var a;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"main-content",ref:t,children:[Object(x.jsx)(xe,{}),Object(x.jsxs)("div",{className:"header bg-gradient-info py-7 py-lg-8",children:[Object(x.jsx)(P.a,{children:Object(x.jsx)("div",{className:"header-body text-center mb-7",children:Object(x.jsx)(W.a,{className:"justify-content-center",children:Object(x.jsxs)(z.a,{lg:"5",md:"6",children:[Object(x.jsx)("h1",{className:"text-white",children:"Welcome!"}),Object(x.jsx)("p",{className:"text-lead text-light",children:"Use these awesome forms to login or create new account in your project for free."})]})})})}),Object(x.jsx)("div",{className:"separator separator-bottom separator-skew zindex-100",children:Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 2560 100",x:"0",y:"0",children:Object(x.jsx)("polygon",{className:"fill-default",points:"2560 0 2560 100 0 100"})})})]}),Object(x.jsx)(P.a,{className:"mt--8 pb-5",children:Object(x.jsx)(W.a,{className:"justify-content-center",children:Object(x.jsxs)(f.Switch,{children:[(a=de,a.map((function(e,t){return"/auth"===e.layout?Object(x.jsx)(f.Route,{path:e.layout+e.path,component:e.component},t):null}))),Object(x.jsx)(f.Redirect,{from:"*",to:"/auth/login"})]})})})]}),Object(x.jsx)(ge,{})]})},Ae=(n(382),n(169)),Ee=n(401),Pe=n(165);function Te(e){var t=Object(r.useState)(0),n=Object(m.a)(t,2),a=n[0],i=n[1],c=Object(p.b)(),o=Object(Ae.b)(),s=o.activate,l=o.getRemainingTime;Object(r.useEffect)((function(){var e=setInterval((function(){i(Math.ceil(l()/1e3))}),500);return function(){clearInterval(e)}}));var u=Object(r.useCallback)((function(){c.invalidateQueries("salesinvoices"),s()}));return Object(x.jsx)("div",{children:Object(x.jsxs)(Ee.a,{className:"modal-dialog-centered modal-warning",contentClassName:"bg-gradient-info",isOpen:e.open,children:[" ",Object(x.jsx)("div",{className:"modal-header",children:Object(x.jsx)("h6",{className:"modal-title",id:"modal-title-notification",children:"Your attention is required"})}),Object(x.jsxs)("div",{className:"modal-body",children:[Object(x.jsx)("h2",{children:"Are you still here?"}),Object(x.jsxs)("h3",{children:["Logging out in ",a," seconds"]})]}),Object(x.jsx)("div",{className:"modal-footer",children:Object(x.jsx)(Pe.a,{className:"btn-white",color:"default",type:"button",onClick:u,children:"I'm still here"})})]})})}var Re=function(){var e=Object(r.useState)("Active"),t=Object(m.a)(e,2),n=(t[0],t[1]),a=Object(r.useState)(0),i=Object(m.a)(a,2),c=i[0],o=i[1],s=Object(r.useState)(!1),l=Object(m.a)(s,2),u=l[0],d=l[1],b=Object(v.c)().logout;return Object(x.jsx)(Ae.a,{timeout:3e5,promptBeforeIdle:15e3,throttle:500,onPrompt:function(){n("Prompted"),d(!0)},onIdle:function(){n("Idle"),d(!1),I.b.warn("Logging you out..."),b()},onActive:function(){n("Active"),d(!1)},onAction:function(){o(c+1)},children:Object(x.jsx)(Te,{open:u})})},Se=function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Re,{}),Object(x.jsx)(ve,Object(h.a)({},e))]})},Ce=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(f.Switch,{children:[Object(x.jsx)(f.Route,{path:"/auth/login",render:function(e){return Object(x.jsx)(g,Object(h.a)({},e))}}),Object(x.jsx)(f.Route,{path:"/auth/logout",render:function(e){return Object(x.jsx)(he,{loggingOut:!0})}}),Object(x.jsx)(f.Route,{path:"/admin",render:function(e){return Object(x.jsx)(Se,Object(h.a)({},e))}}),Object(x.jsx)(f.Route,{path:"/admin/customers",render:function(e){return Object(x.jsx)(ve,Object(h.a)({},e))}}),Object(x.jsx)(f.Route,{path:"/admin/items",render:function(e){return Object(x.jsx)(ve,Object(h.a)({},e))}}),Object(x.jsx)(f.Route,{path:"/admin/refunds",render:function(e){return Object(x.jsx)(ve,Object(h.a)({},e))}}),Object(x.jsx)(f.Route,{path:"/admin/reports",render:function(e){return Object(x.jsx)(ve,Object(h.a)({},e))}}),Object(x.jsx)(f.Route,{path:"/admin/user-accounts",render:function(e){return Object(x.jsx)(ve,Object(h.a)({},e))}}),Object(x.jsx)(f.Route,{path:"/admin/currency",render:function(e){return Object(x.jsx)(ve,Object(h.a)({},e))}}),Object(x.jsx)(f.Route,{path:"/admin/dashboard",render:function(e){return Object(x.jsx)(ve,Object(h.a)({},e))}}),Object(x.jsx)(f.Route,{path:"/admin/profile",render:function(e){return Object(x.jsx)(ve,Object(h.a)({},e))}}),Object(x.jsx)(f.Route,{path:"/auth",render:function(e){return Object(x.jsx)(ye,Object(h.a)({},e))}}),Object(x.jsx)(f.Redirect,{from:"/",to:"/auth/login"})]}),Object(x.jsx)(I.a,{})]})};var Ne=n(241);Object(Ne.a)("ORg4AjUWIQA/Gnt2VFhhQlJBfV5AQmBIYVp/TGpJfl96cVxMZVVBJAtUQF1hSn5VdkRiW31bcXRTQWhe");var _e=new b.a({defaultOptions:{queries:{refetchOnMount:!1,refetchOnWindowFocus:!1}}});u.a.render(Object(x.jsx)(d.a,{basename:"/gra-invoicer",children:Object(x.jsx)(p.a,{client:_e,children:Object(x.jsxs)(v.b,{children:[Object(x.jsx)(Ce,{}),Object(x.jsx)(j.a,{initialIsOpen:!1})]})})}),document.getElementById("root"))},47:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var a=n(2),i=n(60),r=function(){return Object(a.useContext)(i.a)};t.a=r},52:function(e,t,n){"use strict";n(2),n.p;var a=n(466),i=n(1);t.a=function(){return Object(i.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"absolute",height:"50vh",left:0,right:270,top:0,bottom:0,zIndex:9999999},children:Object(i.jsx)(a.a,{size:48})})}},56:function(e,t,n){"use strict";n.d(t,"b",(function(){return O}));var a=n(5),i=n(20),r=n(26),c=n(8),o=n(2),s=n(171),l=n(246),u=n(72),d=(n(178),n(84)),b=n(95),p=n(59),j=n(216),h=n(111),f=n.n(h),m=n(61),v=n(1),O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return new Intl.NumberFormat(t,{minimumFractionDigits:n,maximumFractionDigits:2}).format(Number(e)?e:0)};var x={header:{display:"flex",height:"20%",marginBottom:20},bottomcomments:{display:"flex",justifyContent:"space-between"},leftHeader:{display:"flex",width:"50%",flexDirection:"column",alignItems:"flex-start"},rightHeader:{display:"flex",width:"50%",flexDirection:"column",alignItems:"flex-end"},title:{height:"14%",backgroundColor:"#eff4fd",borderRadius:10,padding:10,marginBottom:3},body:{marginTop:0,height:"280px",maxHeight:"280px",overflow:"auto"},footer:{display:"flex",marginTop:10,height:"30%",justifyContent:"flex-end"},total:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-end",paddingTop:10,width:"50%",height:"100%",borderTop:"1px  solid #e3e3e3",lineHeight:0},comments:{height:64,width:"47%",overflow:"auto",flexDirection:"row",backgroundColor:"#eff4fd",borderRadius:10,padding:10,color:"#cecece",position:"absolute",bottom:30},tablehead:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"}};t.a=function(){var e,t=Object(o.useContext)(d.a),n=t.formData,h=t.gridData,g=t.setGridData,y=t.comments,A=Object(o.useState)(null),E=Object(c.a)(A,2),P=E[0],T=E[1];Object(o.useEffect)(Object(r.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.a)();case 2:return t=e.sent,T(t),e.abrupt("return",(function(){}));case 5:case"end":return e.stop()}}),e)}))),[]);var R=Object(o.useState)({itemName:"",quantity:0,price:0,discount:0}),S=Object(c.a)(R,2),C=S[0],N=S[1],_=Object(o.useState)(!1),w=Object(c.a)(_,2),I=w[0],D=w[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(s.a,{className:"shadow",style:{width:"60%",height:"550px",marginLeft:"10px",padding:"15px",position:"relative"},children:[Object(v.jsxs)("div",{style:x.header,children:[Object(v.jsx)("div",{style:x.leftHeader,children:Object(v.jsx)("img",{src:u.a,style:{height:45,width:"45%"}})}),Object(v.jsxs)("div",{style:x.rightHeader,children:[Object(v.jsx)("h3",{children:null===P||void 0===P||null===(e=P.profile)||void 0===e?void 0:e.companyname}),Object(v.jsx)("h4",{style:{margin:0},children:"INVOICE"}),Object(v.jsxs)("h6",{children:["Issued on :"," ",null!==n&&void 0!==n&&n.date?f()(null===n||void 0===n?void 0:n.date).format("D MMM, YYYY"):"N/A"]}),Object(v.jsxs)("h6",{children:["Due Date:"," ",null!==n&&void 0!==n&&n.dueDate?f()(null===n||void 0===n?void 0:n.dueDate).format("D MMM, YYYY"):"N/A"]})]})]}),Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-even",marginTop:"-20px",marginBottom:"0px"},children:[Object(v.jsx)("h5",{children:"Invoice for"}),Object(v.jsxs)("h5",{children:[": \xa0",n.customer]})]}),Object(v.jsx)("div",{style:x.body,children:Object(v.jsxs)(l.a,{className:"table-flush",responsive:!0,style:{tableLayout:"auto"},children:[Object(v.jsx)("thead",{className:"thead",children:Object(v.jsxs)("tr",{style:{lineHeight:"10px"},children:[Object(v.jsx)("th",{scope:"col",style:{width:"30%"},children:"Item"}),Object(v.jsx)("th",{scope:"col",style:{width:"10%",textAlign:"right"},children:"Quantity"}),Object(v.jsx)("th",{scope:"col",style:{width:"20%",textAlign:"right"},children:"Price"}),Object(v.jsx)("th",{scope:"col",style:{width:"20%",textAlign:"right"},children:"Amount"}),Object(v.jsx)("th",{scope:"col",style:{width:"10%"},children:"Action"})]})}),Object(v.jsx)("tbody",{children:h.map((function(e,t){return Object(v.jsxs)("tr",{style:{lineHeight:"1px"},children:[Object(v.jsx)("td",{style:{fontSize:"10px",cursor:"pointer"},title:e.itemName,children:e.itemName.substring(0,20)}),Object(v.jsx)("td",{style:{fontSize:"10px",textAlign:"right"},children:e.quantity}),Object(v.jsx)("td",{style:{fontSize:"10px",textAlign:"right"},children:O(e.price)}),Object(v.jsx)("td",{style:{fontSize:"10px",textAlign:"right"},children:O(e.quantity*e.price)}),Object(v.jsxs)("td",{style:{fontSize:"10px",textAlign:"right",cursor:"pointer"},children:[Object(v.jsx)(b.b,{color:"green",title:"Edit",style:{marginRight:20},onClick:function(){return function(e,t){N({index:t,itemName:e.itemName,quantity:e.quantity,price:e.price,discount:Number(e.discount),isInclusive:e.isINC,isTaxable:e.taxable,otherLevies:(null===e||void 0===e?void 0:e.otherLevies)||0}),D(!0)}(e,t)}}),Object(v.jsx)(p.i,{color:"darkred",title:"Remove",onClick:function(){g(h.filter((function(t,n){return t.itemCode!==e.itemCode})))}})]})]},t)}))})]})}),Object(v.jsx)("div",{style:x.footer,children:Object(v.jsxs)("div",{style:x.total,children:[Object(v.jsxs)("h6",{style:{padding:0,margin:0},children:["SUBTOTAL (EXCL) :","   ",O(h.reduce((function(e,t){return e+t.taxableAmount}),0))]}),Object(v.jsxs)("h6",{style:{padding:0,margin:0},children:["DISCOUNT : ","   ",null!==n&&void 0!==n&&n.discountType?"general"===(null===n||void 0===n?void 0:n.discountType)?O(h.reduce((function(e,t){return e+t.discount}),0)):O(null===n||void 0===n?void 0:n.totalDiscount):"0"]}),Object(v.jsxs)("h6",{style:{padding:0,margin:0},children:["NHIL (2.5%) : ","   ",O(h.reduce((function(e,t){return e+t.nhil}),0))]}),Object(v.jsxs)("h6",{style:{padding:0,margin:0},children:["GETF (2.5%) :",O(h.reduce((function(e,t){return e+t.getf}),0))]}),Object(v.jsxs)("h6",{style:{padding:0,margin:0},children:["COVID19 (1%) :",O(h.reduce((function(e,t){return e+t.covid}),0))," "]}),Object(v.jsxs)("h6",{style:{padding:0,margin:0},children:["CST/TOURISM :",O(h.reduce((function(e,t){return e+t.otherLevies}),0))," "]}),Object(v.jsxs)("h6",{style:{padding:0,margin:0},children:["VAT (",Object({NODE_ENV:"production",PUBLIC_URL:"/gra-invoicer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHORITY:"https://psl-app-vm3/evat-auth",REACT_APP_BASENAME:"/gra-invoicer",REACT_APP_ClientCorsOrigin:"https://psl-app-vm3",REACT_APP_CLIENT_ID:"evat-invoicing-ui",REACT_APP_CLIENT_ROOT:"https://psl-app-vm3/EvatApi/api/v1",REACT_APP_CLIENT_ROOT_V2:"https://psl-app-vm3/EvatApi/api/v2",REACT_APP_CLIENT_ROOT_V3:"https://psl-app-vm3/EvatApi/api/v3",REACT_APP_CLIENT_SECRET:"L#?+;@e&?7D40p0kYO93e>u}18qI7^",REACT_APP_DASHBOARD_URL:"https://reports.cimsgh.com/bi/site/site1/dashboards/7b5d6da7-6ff6-45c6-800c-fc893d09f5de/EVAT/Sec.%20GRA%20QA%20DASHBOARD?showmydashboards=1&isembed=true&hide_tool=dp&export=true%27",REACT_APP_DEFAULT_USER:"user",REACT_APP_REPORTSERVERPath:"/eVAT/eVAT_Report/",REACT_APP_REPORTSERVICEURL:"https://psl-app-vm3/EvatApi/api/v1/ReportViewer",REACT_APP_SYNCFUSSION_LICENSE:"ORg4AjUWIQA/Gnt2VFhiQlJPd11dXmJWd1p/THNYflR1fV9DaUwxOX1dQl9gSXtTfkVkWn1adHZQT2A=",REACT_APP_URL:"https://psl-app-vm3"}).REACT_APP_VAT_RATE,"%) :",O(h.reduce((function(e,t){return e+t.vat}),0))," "]})," ",Object(v.jsxs)("h6",{style:{padding:0,margin:0},children:[Object(v.jsx)("hr",{className:"my-1"}),Object(v.jsxs)("strong",{children:["TOTAL PAYABLE",":"," "]}),n.currency," ",null!==n&&void 0!==n&&n.discountType?"selective"===(null===n||void 0===n?void 0:n.discountType)?O(h.reduce((function(e,t){return e+t.totalPayable}),0)-(null===n||void 0===n?void 0:n.totalDiscount)):O(null===n||void 0===n?void 0:n.totalDiscount):O(h.reduce((function(e,t){return e+t.totalPayable}),0))]})]})}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{className:"shadow-5xl",style:Object(a.a)(Object(a.a)({},x.comments),{},{top:465}),children:Object(v.jsx)("h6",{children:y||"No remarks"})})})]}),I&&Object(v.jsx)(j.a,{updateItemData:C,setUpdateItemData:N,setShowUpdate:D,gridData:h,setGridData:g,showDiscountField:null===n||void 0===n?void 0:n.discountType})]})}},60:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return f}));var a=n(5),i=n(20),r=n(26),c=n(8),o=n(2),s=n.n(o),l=n(38),u=n(146),d=n(1),b=s.a.createContext(),p=function(){return Object(o.useContext)(b)},j=localStorage.getItem("https://psl-app-vm3BRANCH_NAME"),h=localStorage.getItem("https://psl-app-vm3BRANCH_VALUE"),f=function(e){var t=e.children,n=Object(o.useState)(!1),s=Object(c.a)(n,2),p=s[0],f=s[1],m=Object(o.useState)({branchName:j,branchId:h}),v=Object(c.a)(m,2),O=v[0],x=v[1];console.log({selectedBranch:O});var g=Object(o.useState)(),y=Object(c.a)(g,2),A=y[0],E=y[1],P=Object(l.a)(),T=function(){var e=Object(r.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("/bff/user");case 2:return t=e.sent,console.log({response:t}),e.abrupt("return",null===t||void 0===t?void 0:t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(r.a)(Object(i.a)().mark((function e(t){var n,r,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},t.forEach((function(e){n[null===e||void 0===e?void 0:e.type]=null===e||void 0===e?void 0:e.value})),f(!0),E(n),e.next=6,P.get("/api/GetCompanyName");case 6:r=e.sent,c=r.data,E((function(e){return Object(a.a)(Object(a.a)({},e),{},{companyName:c+", "})}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(r.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("/api/GetBranches");case 2:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=Object(u.a)({queryKey:["user"],queryFn:T,enabled:!1,onSuccess:R,onError:function(e){console.log({err:e}),f(!1),window.location="".concat("/gra-invoicer","/login")}}),N=C.refetch,_=C.isLoading,w=Object(u.a)({enabled:!1,queryKey:["branches"],queryFn:S}),I=w.refetch,D=w.data,L=w.isLoading,k=w.isError;return console.log({branches:D}),Object(d.jsx)(b.Provider,{value:{isAuthenticated:p,user:A,setUser:E,setIsAuthenticated:f,login:function(){console.log("green","/gra-invoicer");window.location.href="".concat("/gra-invoicer","/bff/login?returnUrl=").concat("/gra-invoicer","/admin/index"),console.log("Location","/gra-invoicer",window.location.href)},logout:function(){var e=A["bff:logout_url"];window.location.href="".concat(e,"&returnUrl=/auth/logout")},getUser:N,isLoading:_,getBranches:I,isLoadingBraches:L,branches:D,setSelectedBranch:x,selectedBranch:O,isErrorLoadingBranches:k},children:t})}},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(20),i=n(26),r=n(109),c={authority:"https://psl-app-vm3/evat-auth",client_id:"evat-invoicing-ui",client_root:"https://psl-app-vm3/EvatApi/api/v1",redirect_uri:Object({NODE_ENV:"production",PUBLIC_URL:"/gra-invoicer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHORITY:"https://psl-app-vm3/evat-auth",REACT_APP_BASENAME:"/gra-invoicer",REACT_APP_ClientCorsOrigin:"https://psl-app-vm3",REACT_APP_CLIENT_ID:"evat-invoicing-ui",REACT_APP_CLIENT_ROOT:"https://psl-app-vm3/EvatApi/api/v1",REACT_APP_CLIENT_ROOT_V2:"https://psl-app-vm3/EvatApi/api/v2",REACT_APP_CLIENT_ROOT_V3:"https://psl-app-vm3/EvatApi/api/v3",REACT_APP_CLIENT_SECRET:"L#?+;@e&?7D40p0kYO93e>u}18qI7^",REACT_APP_DASHBOARD_URL:"https://reports.cimsgh.com/bi/site/site1/dashboards/7b5d6da7-6ff6-45c6-800c-fc893d09f5de/EVAT/Sec.%20GRA%20QA%20DASHBOARD?showmydashboards=1&isembed=true&hide_tool=dp&export=true%27",REACT_APP_DEFAULT_USER:"user",REACT_APP_REPORTSERVERPath:"/eVAT/eVAT_Report/",REACT_APP_REPORTSERVICEURL:"https://psl-app-vm3/EvatApi/api/v1/ReportViewer",REACT_APP_SYNCFUSSION_LICENSE:"ORg4AjUWIQA/Gnt2VFhiQlJPd11dXmJWd1p/THNYflR1fV9DaUwxOX1dQl9gSXtTfkVkWn1adHZQT2A=",REACT_APP_URL:"https://psl-app-vm3"}).REACT_APP_REDIRECT_URI,post_logout_redirect_uri:Object({NODE_ENV:"production",PUBLIC_URL:"/gra-invoicer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHORITY:"https://psl-app-vm3/evat-auth",REACT_APP_BASENAME:"/gra-invoicer",REACT_APP_ClientCorsOrigin:"https://psl-app-vm3",REACT_APP_CLIENT_ID:"evat-invoicing-ui",REACT_APP_CLIENT_ROOT:"https://psl-app-vm3/EvatApi/api/v1",REACT_APP_CLIENT_ROOT_V2:"https://psl-app-vm3/EvatApi/api/v2",REACT_APP_CLIENT_ROOT_V3:"https://psl-app-vm3/EvatApi/api/v3",REACT_APP_CLIENT_SECRET:"L#?+;@e&?7D40p0kYO93e>u}18qI7^",REACT_APP_DASHBOARD_URL:"https://reports.cimsgh.com/bi/site/site1/dashboards/7b5d6da7-6ff6-45c6-800c-fc893d09f5de/EVAT/Sec.%20GRA%20QA%20DASHBOARD?showmydashboards=1&isembed=true&hide_tool=dp&export=true%27",REACT_APP_DEFAULT_USER:"user",REACT_APP_REPORTSERVERPath:"/eVAT/eVAT_Report/",REACT_APP_REPORTSERVICEURL:"https://psl-app-vm3/EvatApi/api/v1/ReportViewer",REACT_APP_SYNCFUSSION_LICENSE:"ORg4AjUWIQA/Gnt2VFhiQlJPd11dXmJWd1p/THNYflR1fV9DaUwxOX1dQl9gSXtTfkVkWn1adHZQT2A=",REACT_APP_URL:"https://psl-app-vm3"}).REACT_APP_POST_LOGOUT_REDIRECT,response_type:"code",scope:Object({NODE_ENV:"production",PUBLIC_URL:"/gra-invoicer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHORITY:"https://psl-app-vm3/evat-auth",REACT_APP_BASENAME:"/gra-invoicer",REACT_APP_ClientCorsOrigin:"https://psl-app-vm3",REACT_APP_CLIENT_ID:"evat-invoicing-ui",REACT_APP_CLIENT_ROOT:"https://psl-app-vm3/EvatApi/api/v1",REACT_APP_CLIENT_ROOT_V2:"https://psl-app-vm3/EvatApi/api/v2",REACT_APP_CLIENT_ROOT_V3:"https://psl-app-vm3/EvatApi/api/v3",REACT_APP_CLIENT_SECRET:"L#?+;@e&?7D40p0kYO93e>u}18qI7^",REACT_APP_DASHBOARD_URL:"https://reports.cimsgh.com/bi/site/site1/dashboards/7b5d6da7-6ff6-45c6-800c-fc893d09f5de/EVAT/Sec.%20GRA%20QA%20DASHBOARD?showmydashboards=1&isembed=true&hide_tool=dp&export=true%27",REACT_APP_DEFAULT_USER:"user",REACT_APP_REPORTSERVERPath:"/eVAT/eVAT_Report/",REACT_APP_REPORTSERVICEURL:"https://psl-app-vm3/EvatApi/api/v1/ReportViewer",REACT_APP_SYNCFUSSION_LICENSE:"ORg4AjUWIQA/Gnt2VFhiQlJPd11dXmJWd1p/THNYflR1fV9DaUwxOX1dQl9gSXtTfkVkWn1adHZQT2A=",REACT_APP_URL:"https://psl-app-vm3"}).REACT_APP_scope,pkce:!1,monitorSession:!1},o=new r.UserManager(c);r.Log.logger=console,r.Log.level=r.Log.INFO;var s=function(){var e=Object(i.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.getUser());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(i.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.signinRedirect());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},72:function(e,t,n){"use strict";t.a="data:image/png;base64,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"},84:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var a=n(8),i=n(31),r=n(20),c=n(26),o=n(5),s=n(2),l=n(224),u=n(225),d=n(21),b=(n(248),n(252),n(171)),p=n(245),j=n(394),h=n(110),f=n(80),m=n(144),v=n(165),O=n(136),x=(n(249),n(52)),g=n(39),y=n(149),A=n.n(y),E=n(100),P=n(400),T=n(38),R=n(127),S=n(214),C=n(47),N=n(1),_=[{id:"7466f25a-773e-488f-af26-c443cf8f1950",code:"GHS",name:"Ghana Cedis",homeCurrency:!0},{id:"6b333df2-39aa-427e-91b4-fa9ea6b5af07",code:"USD",name:"US Dollar",homeCurrency:!1},{id:"fe7713c9-c701-44a6-991c-8fec88522539",code:"EUR",name:"Euro",homeCurrency:!1},{id:"67dee4f7-3cb8-41bf-96d2-a4d179dc859d",code:"GBP",name:"Great Britain Pounds",homeCurrency:!1}];var w=function(e){var t=e.refetch,n=Object(g.useHistory)(),y=(Object(E.b)(),Object(T.a)()),w=Object(s.useContext)(O.a).invoices,I=Object(s.useContext)(F),D=I.formData,L=I.setFormData,k=I.gridData,U=I.setGridData,V=I.setShowNewInvoiceModal,H=I.comments,B=I.setComments,Q=Object(s.useState)(!1),W=Object(a.a)(Q,2),z=W[0],q=W[1],M=Object(s.useState)([]),G=Object(a.a)(M,2),J=(G[0],G[1],Object(s.useState)(!1)),K=Object(a.a)(J,2),Y=K[0],X=K[1],Z=Object(s.useState)([]),$=Object(a.a)(Z,2),ee=$[0],te=$[1],ne=Object(s.useState)(!1),ae=Object(a.a)(ne,2),ie=ae[0],re=ae[1],ce=Object(s.useState)(!1),oe=Object(a.a)(ce,2),se=oe[0],le=oe[1],ue=Object(s.useState)(!0),de=Object(a.a)(ue,2),be=de[0],pe=de[1],je=Object(s.useState)(0),he=Object(a.a)(je,2),fe=he[0],me=he[1],ve=Object(s.useState)([]),Oe=Object(a.a)(ve,2),xe=Oe[0],ge=Oe[1],ye=Object(s.useState)("GHS"),Ae=Object(a.a)(ye,2),Ee=Ae[0],Pe=Ae[1],Te=Object(s.useState)(!1),Re=Object(a.a)(Te,2),Se=(Re[0],Re[1],Object(s.useState)(1)),Ce=Object(a.a)(Se,2),Ne=Ce[0],_e=Ce[1],we=Object(s.useState)(1),Ie=Object(a.a)(we,2),De=Ie[0],Le=Ie[1],ke=Object(s.useState)([]),Ue=Object(a.a)(ke,2),Fe=Ue[0],Ve=Ue[1],He=Object(s.useState)({discountAmount:!1,itemDiscountAmnt:!1}),Be=Object(a.a)(He,2),Qe=Be[0],We=Be[1],ze=Object(s.useState)(""),qe=Object(a.a)(ze,2),Me=qe[0],Ge=qe[1],Je=Object(C.a)(),Ke=Je.selectedBranch,Ye=Je.user;console.log({user:Ye}),JSON.parse(sessionStorage.getItem(Object({NODE_ENV:"production",PUBLIC_URL:"/gra-invoicer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHORITY:"https://psl-app-vm3/evat-auth",REACT_APP_BASENAME:"/gra-invoicer",REACT_APP_ClientCorsOrigin:"https://psl-app-vm3",REACT_APP_CLIENT_ID:"evat-invoicing-ui",REACT_APP_CLIENT_ROOT:"https://psl-app-vm3/EvatApi/api/v1",REACT_APP_CLIENT_ROOT_V2:"https://psl-app-vm3/EvatApi/api/v2",REACT_APP_CLIENT_ROOT_V3:"https://psl-app-vm3/EvatApi/api/v3",REACT_APP_CLIENT_SECRET:"L#?+;@e&?7D40p0kYO93e>u}18qI7^",REACT_APP_DASHBOARD_URL:"https://reports.cimsgh.com/bi/site/site1/dashboards/7b5d6da7-6ff6-45c6-800c-fc893d09f5de/EVAT/Sec.%20GRA%20QA%20DASHBOARD?showmydashboards=1&isembed=true&hide_tool=dp&export=true%27",REACT_APP_DEFAULT_USER:"user",REACT_APP_REPORTSERVERPath:"/eVAT/eVAT_Report/",REACT_APP_REPORTSERVICEURL:"https://psl-app-vm3/EvatApi/api/v1/ReportViewer",REACT_APP_SYNCFUSSION_LICENSE:"ORg4AjUWIQA/Gnt2VFhiQlJPd11dXmJWd1p/THNYflR1fV9DaUwxOX1dQl9gSXtTfkVkWn1adHZQT2A=",REACT_APP_URL:"https://psl-app-vm3"}).REACT_APP_OIDC_USER)),Object(s.useEffect)((function(){if("selective"===(null===D||void 0===D?void 0:D.discountType)&&(null===k||void 0===k||!k.length)&&null!==D&&void 0!==D&&D.totalDiscount)return d.b.error("Please add Item(s) first"),void L((function(e){return Object(o.a)(Object(o.a)({},e),{},{totalDiscount:""})}));var e=k.reduce((function(e,t){return e+t.totalPayable}),0);return parseFloat(null===D||void 0===D?void 0:D.totalDiscount)>=e?(d.b.error("Discount amount must be less than total payable"),void L((function(e){return Object(o.a)(Object(o.a)({},e),{},{totalDiscount:0})}))):function(){}}),[null===D||void 0===D?void 0:D.discountType,null===D||void 0===D?void 0:D.totalDiscount]);var Xe=Object(S.a)(["/api/GetCustomers","/api/GetCurrency","/api/GetProductList/".concat(Ee)],(function(e){var t=e[2],n=e[1],a=e[0];if("fulfilled"===(null===t||void 0===t?void 0:t.status)&&(console.log({requstCallback1:null===t||void 0===t?void 0:t.value.data}),Ve(null===t||void 0===t?void 0:t.value.data)),"fulfilled"===(null===n||void 0===n?void 0:n.status)&&(console.log({requstCallback2:null===n||void 0===n?void 0:n.value.data}),(null===n||void 0===n?void 0:n.value.data.length)>0?ge(null===n||void 0===n?void 0:n.value.data):ge(_)),"fulfilled"===(null===a||void 0===a?void 0:a.status)){var i;console.log({requstCallback3:null===a||void 0===a?void 0:a.value.data});var r=null===a||void 0===a?void 0:a.value.data.filter((function(e){return"A"===e.status}));te(r),Ge(null===a||void 0===a||null===(i=a.value.data.find((function(e){return"cash customer"==e.name})))||void 0===i?void 0:i.tin)}})),Ze=(Xe.data,Xe.error,Xe.isLoading),$e=Xe.setUrls,et=function(){var e=Object(c.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re(!0),e.next=3,y.post("/api/PostInvoice/".concat(null===Ke||void 0===Ke?void 0:Ke.code),t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tt=Object(P.a)({mutationFn:et,onSuccess:function(){d.b.success("Invoice successfully saved"),t(),V(!1),re(!1)},onError:function(e){var t,n,a,i,r;if(500===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status))return d.b.error((null===e||void 0===e||null===(i=e.response)||void 0===i?void 0:i.data)||(null===e||void 0===e||null===(r=e.response)||void 0===r?void 0:r.data)||"Error creating invoice"),void re(!1);d.b.error((null===e||void 0===e||null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||(null===e||void 0===e?void 0:e.message)||"Invoice could not be saved."),re(!1)}}).mutate,nt=((new Date).toISOString().split("T")[0],function(){var e=Object(c.a)(Object(r.a)().mark((function e(){var t,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Boolean(null===k||void 0===k?void 0:k.length)){e.next=3;break}return d.b.error("Please add invoice item(s)"),e.abrupt("return");case 3:if(t={date:new Date(null===D||void 0===D?void 0:D.date).toISOString(),dueDate:D.dueDate?new Date(D.dueDate).toISOString():(new Date).toISOString(),remarks:H,nameOfUser:null===Ye||void 0===Ye?void 0:Ye.name,customerName:D.customer,customerTinghcard:D.identity,transactionType:"SALES",currency:D.currency,forexRate:De,amount:k.reduce((function(e,t){return e+t.totalPayable}),0),invoiceItems:k.map((function(e){return{price:e.taxableAmount,itemCode:e.itemCode,itemDescription:e.itemName,unitPrice:e.price,itemDiscount:e.discount,taxCode:"",quantity:e.quantity,vatItemId:e.vatItemId}}))},null===D||void 0===D||!D.discountType){e.next=14;break}if("selective"!==(null===D||void 0===D?void 0:D.discountType)||null!==D&&void 0!==D&&D.totalDiscount){e.next=8;break}return d.b.error("Provide discount amount"),e.abrupt("return");case 8:if(n=k.reduce((function(e,t){return e+t.taxableAmount}),0),!("selective"===(null===D||void 0===D?void 0:D.discountType)&(null===D||void 0===D?void 0:D.totalDiscount)>=n)){e.next=12;break}return d.b.error("Discount amount is invalid"),e.abrupt("return");case 12:t.totalDiscount=Number(D.totalDiscount).toFixed(4),t.discountType=String(D.discountType).toUpperCase();case 14:ot&&(t.customerTinghcard=Me,t.customerName="".concat(D.customer,"(cash customer)")),z?tt(t):d.b.warning("Please add an item first");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),at=function(){var e=Object(c.a)(Object(r.a)().mark((function e(t){var a,i,c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(new Date).toISOString(),e.next=3,y.get("/api/checkIfRatesExist/".concat(null===Ke||void 0===Ke?void 0:Ke.code,"/").concat(t,"/").concat(a));case 3:(i=e.sent)&&(c=i.data,console.log({data:c}),c.length>0?(Le(c[0].exchangeRate),_e("(GHS ".concat(c[0].exchangeRate,"/").concat(c[0].currencyCode,")"))):(d.b.warning("There are no exchange rates set for today. Redirecting you to currency set up to add exchange rates"),setTimeout((function(){n.push("/admin/currency")}),3e3)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){return function(){}}),[w]),Object(s.useEffect)((function(){$e(["/api/GetCustomers","/api/GetCurrency","/api/GetProductList/".concat(Ee)]),L((function(e){return Object(o.a)(Object(o.a)({},e),{},{currency:Ee})}))}),[Ee]);var it,rt=Object(s.useState)(!0),ct=Object(a.a)(rt,2),ot=ct[0],st=ct[1];return Object(s.useEffect)((function(){return L((function(e){return Object(o.a)(Object(o.a)({},e),{},{identity:"",date:new Date(Date.now())})})),function(){}}),[ot]),Object(N.jsxs)(N.Fragment,{children:[ie?Object(N.jsx)(x.a,{}):null,Object(N.jsxs)(b.a,{className:"bg-secondary shadow",style:{width:"40%",height:"550px"},children:[Object(N.jsxs)(p.a,{children:[Object(N.jsx)("div",{style:{zIndex:1e5,display:"flex",flexDirection:"roq",justifyContent:"center",alignItems:"center",position:"absolute"},children:" "}),Object(N.jsx)(d.a,{}),Object(N.jsxs)(j.a,{children:[Object(N.jsx)("h6",{className:"heading-small text-muted mb-2",children:"Invoice Details"}),Object(N.jsx)("div",{className:"pl-lg-4"}),Object(N.jsx)(h.a,{style:{marginBottom:5},children:Object(N.jsxs)(f.a,{lg:"12",children:[Object(N.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(N.jsxs)("label",{className:"form-control-label label-mb-0 ",style:{alignSelf:"center"},children:["Customer ",Object(N.jsx)("code",{style:{color:"darkred"},children:"*"})]}),Object(N.jsxs)("span",{children:[Object(N.jsx)("input",{id:"custType",disabled:Boolean(k.length),className:"m-2 mb-1",type:"checkbox",onChange:function(e){st(e.target.checked),L((function(e){return Object(o.a)(Object(o.a)({},e),{},{customer:""})})),X(!1)},checked:Boolean(ot),value:ot}),Object(N.jsx)("label",{htmlFor:"custType",children:"Cash Customer"})]})]}),ot?Object(N.jsx)(m.a,{className:"form-control font-sm",placeholder:"Cash customer name",value:D.customer,onChange:function(e){return L(Object(o.a)(Object(o.a)({},D),{},{customer:e.target.value}))},bsSize:"sm"}):Object(N.jsx)(l.a,{suggestions:ee,formData:D,setFormData:L,businessPartner:"Customer"})]})}),Object(N.jsxs)(h.a,{style:{marginBottom:5},children:[Object(N.jsxs)(f.a,{lg:"6",children:[Object(N.jsxs)("label",{htmlFor:"custTin",className:"form-control-label",children:[" ","Ghana Card/TIN"]}),Object(N.jsx)(m.a,{disabled:!0,id:"custTin",className:"form-control font-sm",bsSize:"sm",placeholder:"Ghana Card / TIN",value:D.identity,onChange:function(e){return L(Object(o.a)(Object(o.a)({},D),{},{identity:e.target.value}))}})]}),Object(N.jsxs)(f.a,{lg:"6",children:[Object(N.jsxs)("label",{htmlFor:"currency",className:"form-control-label ",children:["Currency ",1===Ne?"":Ne]}),Object(N.jsx)("select",{className:"form-control font-sm",id:"currency",value:Ee,onChange:function(e){Pe(e.target.value),"GHS"!==e.target.value?at(e.target.value):_e("")},disabled:Boolean(k.length),style:{height:29,padding:"0px 5px"},children:xe.map((function(e,t){return Object(N.jsx)("option",{name:e.name,id:e.code,value:e.code,children:e.code},t)}))})," "]})]}),Object(N.jsxs)(h.a,{style:{marginBottom:5},children:[Object(N.jsxs)(f.a,{lg:"6",children:[Object(N.jsxs)("label",{htmlFor:"invoiceDate",className:"form-control-label label-mb-0",children:["Invoice Date ",Object(N.jsx)("code",{style:{color:"darkred"},children:"*"})]}),Object(N.jsx)(A.a,{id:"invoiceDate",maxDate:new Date,placeholderText:"Invoice date",className:"form-control font-sm",showIcon:!0,dateFormat:"yyyy/MM/dd",disabled:Boolean(null===k||void 0===k?void 0:k.length),selected:D.date,minDate:new Date(2023,0,1),onChange:function(e){L(Object(o.a)(Object(o.a)({},D),{},{date:e,dueDate:null}))},style:{height:29,padding:"0px 5px"}})]}),Object(N.jsxs)(f.a,{lg:"6",children:[Object(N.jsx)("label",{htmlFor:"dueDate",className:"form-control-label label-mb-0",children:"Due Date"}),Object(N.jsx)(A.a,{id:"dueDate",minDate:D.date?D.date:null,placeholderText:"Due date",className:"form-control font-sm",disabled:!D.date||Boolean(null===k||void 0===k?void 0:k.length),showIcon:!0,dateFormat:"yyyy/MM/dd",selected:D.dueDate,onChange:function(e){console.log({e:e}),L(Object(o.a)(Object(o.a)({},D),{},{dueDate:e}))},style:{height:29,padding:"0px 5px"}})]})]}),Object(N.jsxs)(h.a,{style:{marginBottom:5},children:[Object(N.jsxs)(f.a,{"data-tip":!0,"data-for":"discount-type",lg:"6",style:{position:"relative"},children:[Object(N.jsx)("label",{className:"form-control-label",htmlFor:"discountType",children:"Discount\xa0Type"}),Object(N.jsxs)("select",{"data-tip":"discount-type",id:"discountType",className:"form-control font-sm",value:D.discountType,onChange:function(e){switch(L(Object(o.a)(Object(o.a)({},D),{},{discountType:e.target.value})),e.target.value){case"general":We({discountAmount:!1,itemDiscountAmnt:!0});break;case"selective":We({discountAmount:!0,itemDiscountAmnt:!1});break;default:We({discountAmount:!1,itemDiscountAmnt:!1})}},style:{height:29,padding:"0px 5px"},children:[Object(N.jsx)("option",{value:"",children:"No discount"}),Object(N.jsx)("option",{value:"selective",children:"Selective"})]})," "]}),Qe.discountAmount&&Object(N.jsxs)(f.a,{lg:"6",children:[Object(N.jsx)("label",{className:"form-control-label label-mb-0",htmlFor:"discountAmt",children:"Discount\xa0Amount"}),Object(N.jsx)(m.a,{type:"number",className:"form-control",placeholder:"Discount amount",id:"discountAmt",step:.01,min:0,value:null===D||void 0===D?void 0:D.totalDiscount,onChange:function(e){return L(Object(o.a)(Object(o.a)({},D),{},{totalDiscount:e.target.value}))},bsSize:"sm"})]})]}),Object(N.jsx)(h.a,{children:Object(N.jsx)(f.a,{lg:"6",children:Object(N.jsx)("button",{style:{backgroundColor:"transparent",border:"none",marginBottom:-50,marginTop:5},type:"button",onClick:function(){null!==D&&void 0!==D&&D.date?D.customer||ot&&D.customer?X(!0):d.b.warning("Please enter customer name first"):d.b.warning("Please enter invoice date first")},children:Y?null:Object(N.jsx)("span",{"aria-hidden":!0,children:Object(N.jsx)("h4",{children:"+ Add Item"})})})})}),Y&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(h.a,{style:{marginBottom:5,marginTop:-20,position:"relative"},children:[Object(N.jsxs)(f.a,{lg:"12",children:[Object(N.jsx)("label",{className:"form-control-label label-mb-0",htmlFor:"input-email",children:"Item"}),Ze?Object(N.jsx)("p",{children:"Please wait, loading items ..."}):Object(N.jsx)(u.a,{gridData:k,suggestions:Fe,formData:D,setFormData:L,setDisabled:pe,setIsTaxable:le})]}),Object(N.jsxs)(f.a,{style:{position:"absolute"},sm:"12",md:12,children:[Object(N.jsx)("input",{className:"form-control-checkbox",id:"isTaxable",type:"checkbox",checked:se,onClick:function(){},hidden:!0}),null!==D&&void 0!==D&&D.itemName?Object(N.jsx)("label",{className:"form-control-label font-sm",htmlFor:"isTaxable",style:{color:"teal",fontSize:11,position:"absolute",right:20,top:10},children:se?"Taxable":"Non-Taxable"}):null]})]}),Object(N.jsxs)(h.a,{style:{marginBottom:10},children:[Object(N.jsxs)(f.a,{lg:"6",children:[Object(N.jsx)("label",{className:"form-control-label label-mb-0",htmlFor:"qty",children:"Quantity"}),Object(N.jsx)(m.a,{disabled:be,className:"form-control-alternative",id:"qty",placeholder:"Quantity",type:"number",value:null===D||void 0===D?void 0:D.quantity,onChange:function(e){L(Object(o.a)(Object(o.a)({},D),{},{quantity:e.target.value}))},onBlur:function(){L((function(e){return Object(o.a)(Object(o.a)({},e),{},{quantity:Number(null===D||void 0===D?void 0:D.quantity).toFixed(4)})}))}})]}),Object(N.jsxs)(f.a,{lg:"6",children:[Object(N.jsxs)("label",{className:"form-control-label label-mb-0",htmlFor:"price",children:["Price(",D.currency,")"," ",se&&(D.isTaxInclusive?"-Tax Incl.":"-Tax Excl.")]}),Object(N.jsx)(m.a,{className:"form-control-alternative",id:"price",placeholder:"Price",type:"number",value:D.price,min:"1",onChange:function(e){return L(Object(o.a)(Object(o.a)({},D),{},{price:e.target.value}))},onBlur:function(){L((function(e){return Object(o.a)(Object(o.a)({},e),{},{price:Number(null===D||void 0===D?void 0:D.price).toFixed(4)})}))}})]})]}),Object(N.jsxs)(h.a,{hidden:!0,style:{marginBottom:5},children:[Object(N.jsxs)(f.a,{lg:"6",style:{paddingTop:"0px"},children:[Object(N.jsx)("input",{className:"form-control-checkbox",id:"isTaxable",type:"checkbox",checked:se}),"\xa0 \xa0",Object(N.jsxs)("label",{className:"form-control-label",htmlFor:"isTaxable",children:["Is it taxable?","     "]})]}),Qe.itemDiscountAmnt&&Object(N.jsxs)(f.a,{lg:"6",children:[Object(N.jsx)("label",{className:"form-control-label label-mb-0",htmlFor:"discountAmnt",children:"Discount Amount"}),Object(N.jsx)(m.a,{className:"form-control-alternative font-sm",id:"discountAmnt",placeholder:"Discount Amount",type:"number",step:.01,value:fe,min:"0",onChange:function(e){return me(e.target.value)},onKeyDown:(it=D.price,void((""!=it&&it<1e-5||"e"==it)&&d.b.info("Please make sure quantity is at greater than 0"))),bsSize:"sm"})]})]}),Object(N.jsx)(h.a,{style:{marginBottom:13},children:Object(N.jsxs)(f.a,{lg:"12",children:[Object(N.jsx)("label",{className:"form-control-label label-mb-0",htmlFor:"remarks",children:"Remarks"}),Object(N.jsx)(m.a,{disabled:!1,className:"form-control-alternative",id:"remarks",placeholder:"Remarks",type:"text",value:H,onChange:function(e){return B(e.target.value)}})]})}),Object(N.jsxs)(h.a,{children:[Object(N.jsx)(f.a,{lg:"6",children:Object(N.jsx)(v.a,{disabled:!(D.quantity>0||ie),color:"primary",onClick:function(){return function(e){if("NON"===e.otherLevies||("CST"===e.otherLevies?(e.price,e.quantity):"TRSM"===e.otherLevies&&(e.price,e.quantity)),""===e.itemName)d.b.warning("Please select an item first");else if(""===e.quantity)d.b.warning("Please provide a value for quantity");else if(""===e.price)d.b.warning("Please provide a value for price");else{var t=Object(R.a)(Object(o.a)(Object(o.a)({},e),{},{isTaxable:se}),fe);U((function(n){return[].concat(Object(i.a)(n),[Object(o.a)(Object(o.a)({},t),{},{otherLeviesType:e.otherLevies})])})),L(Object(o.a)(Object(o.a)({},D),{},{itemName:"",quantity:1,price:""})),me(0),q(!0),pe(!0)}}(D)},type:"button",style:{width:"100%"},size:"sm",children:"ADD ITEM"})}),Object(N.jsx)(f.a,{lg:"6",children:Object(N.jsx)(v.a,{disabled:ie,color:"success",type:"button",onClick:nt,style:{width:"100%"},size:"sm",children:ie?"Submitting...":"SUBMIT INVOICE"})})]}),Object(N.jsx)(h.a,{})]})]})]}),Object(N.jsx)("div",{className:"modal-footer"})]})]})},I=n(56),D=n(401),L=n(113),k=n(112),U={customer:"",identity:"",email:"",tel:"",itemName:"",quantity:"",price:"",isTaxable:!0,vatItemId:"",currency:"",discountType:"",totalDiscount:"",date:"",dueDate:""},F=Object(s.createContext)(null),V=function(e,t){console.log("Logging",e,t)};t.b=function(e){var t=e.setShowNewInvoiceModal,n=e.refetch,i=Object(s.useState)(U),r=Object(a.a)(i,2),c=r[0],o=r[1],l=Object(s.useState)([]),u=Object(a.a)(l,2),d=u[0],b=u[1],p=Object(s.useState)(""),j=Object(a.a)(p,2),h=j[0],f=j[1];return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(D.a,{style:{maxWidth:"max-content",margin:"30px auto"},isOpen:!0,toggle:function(){return console.log("toggled")},children:[Object(N.jsxs)("div",{className:"modal-header",style:{zIndex:100,padding:"10px 30px"},children:[Object(N.jsx)("h2",{className:"modal-title",id:"exampleModalLabel",children:"Create your invoice"}),Object(N.jsx)(v.a,{"aria-label":"Close","data-dismiss":"modal",type:"button",onClick:function(){return t(!1)},size:"sm",children:Object(N.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Object(N.jsx)("div",{className:"modal-body ",style:{display:"flex",width:"70vw",marginTop:-30,resize:"both",overflow:"auto",justifyContent:"center"},children:Object(N.jsxs)(L.ErrorBoundary,{FallbackComponent:k.a,onError:V,children:[" ",Object(N.jsxs)(F.Provider,{value:{formData:c,gridData:d,setFormData:o,setGridData:b,setShowNewInvoiceModal:t,init:U,comments:h,setComments:f},children:[Object(N.jsx)(w,{refetch:n}),Object(N.jsx)(I.a,{})]})]})})]})})}}},[[388,5,6]]]);