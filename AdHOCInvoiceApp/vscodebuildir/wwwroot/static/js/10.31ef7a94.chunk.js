(this["webpackJsonpgra-invoicer"]=this["webpackJsonpgra-invoicer"]||[]).push([[10],{475:function(e,t,c){"use strict";c.d(t,"a",(function(){return l}));var a=c(5),n=c(20),s=c(26),i=c(148),r=c(38),l=(JSON.parse(sessionStorage.getItem(Object({NODE_ENV:"production",PUBLIC_URL:"/gra-invoicer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHORITY:"https://psl-app-vm3/evat-auth",REACT_APP_BASENAME:"/gra-invoicer",REACT_APP_ClientCorsOrigin:"https://psl-app-vm3",REACT_APP_CLIENT_ID:"evat-invoicing-ui",REACT_APP_CLIENT_ROOT:"https://psl-app-vm3/EvatApi/api/v1",REACT_APP_CLIENT_ROOT_V2:"https://psl-app-vm3/EvatApi/api/v2",REACT_APP_CLIENT_ROOT_V3:"https://psl-app-vm3/EvatApi/api/v3",REACT_APP_CLIENT_SECRET:"L#?+;@e&?7D40p0kYO93e>u}18qI7^",REACT_APP_DASHBOARD_URL:"https://reports.cimsgh.com/bi/site/site1/dashboards/7b5d6da7-6ff6-45c6-800c-fc893d09f5de/EVAT/Sec.%20GRA%20QA%20DASHBOARD?showmydashboards=1&isembed=true&hide_tool=dp&export=true%27",REACT_APP_DEFAULT_USER:"user",REACT_APP_REPORTSERVERPath:"/eVAT/eVAT_Report/",REACT_APP_REPORTSERVERURL:"http://192.168.0.71/ReportServer_SSRS/",REACT_APP_REPORTSERVICEURL:"https://psl-app-vm3/EvatApi/api/v1/ReportViewer",REACT_APP_SYNCFUSSION_LICENSE:"ORg4AjUWIQA/Gnt2VFhiQlJPd11dXmJWd1p/THNYflR1fV9DaUwxOX1dQl9gSXtTfkVkWn1adHZQT2A=",REACT_APP_URL:"https://psl-app-vm3",REACT_APP_VERSION:"2.0.0"}).REACT_APP_OIDC_USER)),function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{isEnabled:!0,queryTag:"/?filter="},u=Object(r.a)(),j=d.isEnabled,b=(d.queryTag,function(){var t=Object(s.a)(Object(n.a)().mark((function t(){var c;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.get(e);case 2:return c=t.sent,t.abrupt("return",c.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),h=Object(i.a)({queryKey:[t,c],queryFn:b,onSuccess:function(e){return l(e)},onError:function(e){return o(e)},enabled:j});return Object(a.a)({},h)})},479:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var a=c(5),n=c(20),s=c(26),i=c(87),r=c(248),l=c(38),o=(JSON.parse(sessionStorage.getItem(Object({NODE_ENV:"production",PUBLIC_URL:"/gra-invoicer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHORITY:"https://psl-app-vm3/evat-auth",REACT_APP_BASENAME:"/gra-invoicer",REACT_APP_ClientCorsOrigin:"https://psl-app-vm3",REACT_APP_CLIENT_ID:"evat-invoicing-ui",REACT_APP_CLIENT_ROOT:"https://psl-app-vm3/EvatApi/api/v1",REACT_APP_CLIENT_ROOT_V2:"https://psl-app-vm3/EvatApi/api/v2",REACT_APP_CLIENT_ROOT_V3:"https://psl-app-vm3/EvatApi/api/v3",REACT_APP_CLIENT_SECRET:"L#?+;@e&?7D40p0kYO93e>u}18qI7^",REACT_APP_DASHBOARD_URL:"https://reports.cimsgh.com/bi/site/site1/dashboards/7b5d6da7-6ff6-45c6-800c-fc893d09f5de/EVAT/Sec.%20GRA%20QA%20DASHBOARD?showmydashboards=1&isembed=true&hide_tool=dp&export=true%27",REACT_APP_DEFAULT_USER:"user",REACT_APP_REPORTSERVERPath:"/eVAT/eVAT_Report/",REACT_APP_REPORTSERVERURL:"http://192.168.0.71/ReportServer_SSRS/",REACT_APP_REPORTSERVICEURL:"https://psl-app-vm3/EvatApi/api/v1/ReportViewer",REACT_APP_SYNCFUSSION_LICENSE:"ORg4AjUWIQA/Gnt2VFhiQlJPd11dXmJWd1p/THNYflR1fV9DaUwxOX1dQl9gSXtTfkVkWn1adHZQT2A=",REACT_APP_URL:"https://psl-app-vm3",REACT_APP_VERSION:"2.0.0"}).REACT_APP_OIDC_USER)),function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},d=Object(i.b)(),u=Object(l.a)(),j=function(){var t=Object(s.a)(Object(n.a)().mark((function t(c){var a;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log({postData:c}),console.log({url:e}),t.next=4,u.post(e,c);case 4:return a=t.sent,t.abrupt("return",a.data);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=Object(r.a)({mutationFn:j,onSuccess:function(e){d.invalidateQueries({queryKey:[t,""]}),c(e)},onError:function(e){return o(e)}});return Object(a.a)({},b)})},483:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var a=c(5),n=c(20),s=c(26),i=c(87),r=c(248),l=(c(149),c(38)),o=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},d=Object(i.b)(),u=Object(l.a)(),j=function(){var t=Object(s.a)(Object(n.a)().mark((function t(c){var a;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log({postData:c}),console.log({url:e}),t.next=4,u.put(e,c);case 4:return a=t.sent,t.abrupt("return",a.data);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=Object(r.a)({mutationFn:j,onSuccess:function(e){d.invalidateQueries({queryKey:[t,""]}),c(e)},onError:function(e){return o(e)}});return Object(a.a)({},b)}},493:function(e,t){},508:function(e,t){},509:function(e,t){},668:function(e,t,c){"use strict";c.r(t);var a=c(5),n=c(8),s=c(2),i=c.n(s),r=c(245),l=c(114),o=c(80),d=c(172),u=c(454),j=c(147),b=c(450),h=c(451),p=c(238),m=c(146),O=c(113),x=c(246),f=c(247),v=c(455),g=c(399),T=c(150),y=c(173),C=c(21),S=(c(252),c(52)),A=c.p+"static/media/GRA_INVOICER_ITEMS_TEMPLATE.00b72d6e.xlsx",E=c(249),R=c(9),N=c(31),_=c(538),P=(c(251),c(59)),I=c(60),L=c(1);var w=function(e){var t=e.setuploadedData,c=e.previewData,r=(e.metadata,e.setMetadata,e.setItemsList),d=e.setShow,u=(e.disabled,e.setIsSearched),b=Object(s.useState)([]),h=Object(n.a)(b,2),p=(h[0],h[1]),m=Object(s.useState)(""),x=Object(n.a)(m,2),f=x[0],v=x[1],g=Object(_.a)({accept:".xlsx,.xls,.csv",maxFiles:1,onDrop:function(e){p(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}}),T=g.acceptedFiles,y=g.getRootProps,S=g.getInputProps;console.log({dhajhds:T,previewData:c});var A=Object(I.c)().user,E=Object(s.useState)([]),w=Object(n.a)(E,2),k=w[0],D=w[1],F=Object(s.useState)(0),V=Object(n.a)(F,2),U=(V[0],V[1],Object(s.useState)(0)),H=Object(n.a)(U,2),B=(H[0],H[1],Object(s.useState)(0)),M=Object(n.a)(B,2),z=M[0],Q=M[1];i.a.useEffect((function(){t(T)}),[T]);var Y=T.map((function(e){return Object(L.jsxs)("li",{children:[e.path," - ",e.size," bytes"]},e.path)}));return console.log({acceptedFiles:T,importedRecords:k}),console.log({joy:c}),Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(C.a,{}),Object(L.jsxs)("section",{className:"container",children:[Object(L.jsxs)("div",Object(a.a)(Object(a.a)({},y({className:"dropzone"})),{},{children:[Object(L.jsx)("input",Object(a.a)(Object(a.a)({},S()),{},{onDrop:function(){return console.log(T)}})),Object(L.jsx)("p",{style:{margin:20},children:"Click here to select file"})]})),Object(L.jsxs)("aside",{children:[Object(L.jsx)("h4",{children:"Files"}),Object(L.jsx)("ul",{style:{color:"green"},children:Y})]}),Object(L.jsx)("div",{children:Object(L.jsx)(l.a,{children:Object(L.jsx)(o.a,{lg:"12",children:Object(L.jsxs)(j.a,{children:[Object(L.jsx)("label",{className:"form-control-label",htmlFor:"input-email",children:"Sheet Name"}),Object(L.jsx)("code",{style:{color:"darkred"},children:"*"}),Object(L.jsxs)("select",{className:"form-control",value:f,onChange:function(e){return function(e){v(e.target.value);var t=e.target.value,a=c.Sheets[t];console.log({xdt:a});for(var n=Object.keys(a).map((function(e){return[e,a[e].v]})),s=[],i=[],r=[],l=[],o={},d=0;d<n.length;d++)if(n[d][1]){var u=n[d][0].replace(/[^\d.]/g,"");r.push(u);var j=n[d][0].replace(u,"");l.push(j),o["".concat(n[d][0])]=n[d][1],i.push(o),s.push({Row:u,Column:j,Cell:n[d][0],Value:n[d][1]})}var b=[];b.push({Data:s,Cells:o,Name:t,First:s[0],Last:s[s.length-1],Rows:r.filter((function(e,t,c){return c.indexOf(e)===t})),Columns:l.filter((function(e,t,c){return c.indexOf(e)===t}))}),D(b[0].Data),Q(Number(b[0].Last.Row))}(e)},children:[Object(L.jsx)("option",{children:"Select Sheet"}),c.SheetNames.map((function(e,t){return Object(L.jsx)("option",{disabled:"legend"===e.toLowerCase(),children:e},t)}))]})]})})})}),Object(L.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(L.jsx)("p",{children:T.length>0?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("span",{children:"File attached "}),Object(L.jsx)(P.a,{color:"green"})]}):null}),Object(L.jsx)(O.a,{disabled:0===f.length,color:"primary",onClick:function(){d(!1),function(e){var t=Object(N.a)(new Set(e)),c=t.filter((function(e){return"A"===e.Column})),a=t.filter((function(e){return"B"===e.Column})),n=t.filter((function(e){return"C"===e.Column})),s=t.filter((function(e){return"D"===e.Column})),i=t.filter((function(e){return"E"===e.Column})),l=t.filter((function(e){return"F"===e.Column})),o=t.filter((function(e){return"G"===e.Column})),d=[],j=[],b=[],h=[],p=[],m=[],O=[];c.forEach((function(e){return d.push(e.Value)})),a.forEach((function(e){return j.push(e.Value)})),n.forEach((function(e){return b.push(e.Value)})),s.forEach((function(e){return h.push(e.Value)})),i.forEach((function(e){return p.push(e.Value)})),l.forEach((function(e){return m.push(e.Value)})),o.forEach((function(e){return O.push(e.Value)}));var x=[];x.push(d,j,b,h,p,m,O);for(var f=[],v=[],g={},T=function(e){x.map((function(t,c){g[t[0]]=t[e];var a=Object(R.a)({},t[0],t[e]);v.push(a)})),(f=[].concat(Object(N.a)(f),[g])).push([g][0])},y=1;y<z;y++)T(y);for(var C=[],S=0;S<v.length;S+=7){var E=v.slice(S,S+7);C.push(E)}var _=[];C.map((function(e){var t={};e.map((function(e){t["".concat(Object.keys(e))]="".concat(Object.values(e))})),_.push(t)}));var P=_.map((function(e){return{companyId:null===A||void 0===A?void 0:A.sub,name:e.ItemName,price:e.Price,description:e.Description,istaxable:"Yes"==e.Taxable,isTaxInclusive:"Yes"==e.VATInclusive,otherLevies:e["CST/Toursim"],currencyCode:e.Currency}}));console.log({results:_,renderData:P}),r(P),u(!0)}(k)},children:"Upload"})]})]})]})},k=c(506),D=function(e){var t=e.show,c=e.setShow,a=e.setItemsList,s=e.setIsSearched,r=i.a.useState([]),j=Object(n.a)(r,2),b=j[0],h=j[1],p=i.a.useState({SheetNames:[],Sheets:{}}),m=Object(n.a)(p,2),O=m[0],f=m[1],v=i.a.useState({header:0,start:0,end:0}),g=Object(n.a)(v,2),T=g[0],y=g[1],C=i.a.useState(!0),S=Object(n.a)(C,2),A=S[0],R=S[1];return i.a.useEffect((function(){if(b.length>0){R(!1);var e=new FileReader;e.onabort=function(){return console.log("file reading was aborted")},e.onerror=function(){return console.log("file reading has failed")},e.onload=function(e){var t=e.target.result;console.log({poi:t});var c=k.read(t,{type:"binary"});f({SheetNames:c.SheetNames,Sheets:c.Sheets})},e.readAsArrayBuffer(b[0],"utf-8")}return function(){}}),[b]),Object(L.jsx)("div",{children:Object(L.jsx)(E.a,{className:"modal-dialog-centered modal-md",isOpen:t,children:Object(L.jsxs)(d.a,{className:"shadow",style:{height:"max-content"},children:[Object(L.jsx)(u.a,{className:"bg-white border-0",children:Object(L.jsxs)(l.a,{className:"align-items-center",children:[Object(L.jsx)(o.a,{xs:"8",children:Object(L.jsx)("h3",{className:"mb-0",children:"Drag and Drop File Here"})}),Object(L.jsx)(o.a,{xs:"4",children:Object(L.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return c(!1)},children:Object(L.jsx)("span",{"aria-hidden":!0,children:"x"})})})]})}),Object(L.jsxs)(x.a,{children:[" ",Object(L.jsx)(w,{setuploadedData:h,previewData:O,metadata:T,setMetadata:y,setItemsList:a,setdisabled:R,disabled:A,setShow:c,setIsSearched:s})]})]})})})},F=c(56),V=c(97),U=(c(484),c(181));function H(e){var t=e.message,c=e.showPrompt,a=e.setShowPrompt,n=e.itemToDelete,s=(e.setItemsList,e.setLoading),i=e.setSearchText,r=e.value,l=e.refetch,o=void 0===l?function(){return null}:l,d=Object(U.a)("/api/DeleteItem/".concat(null===n||void 0===n?void 0:n.id),"items",r,(function(){C.b.success("Item successfully deleted from system"),s(!1),i(""),a(!1),o(),console.log("hjhj",o())}),(function(e){s(!1),C.b.error("Could not delete item. Please try again."),a(!1)})),u=d.mutate,j=d.isLoading;return Object(L.jsxs)(L.Fragment,{children:[j&&Object(L.jsx)(S.a,{}),Object(L.jsxs)(E.a,{className:"modal-dialog-centered modal-danger",contentClassName:"bg-gradient-danger",isOpen:c,children:[Object(L.jsxs)("div",{className:"modal-header",children:[Object(L.jsx)("h6",{className:"modal-title",id:"modal-title-notification",children:"Your attention is required"}),Object(L.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){a(!1)},children:Object(L.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Object(L.jsx)("div",{className:"modal-body",children:Object(L.jsxs)("div",{className:"py-3 text-center",children:[Object(L.jsx)("i",{className:"ni ni-bell-55 ni-3x"}),Object(L.jsx)("h4",{className:"heading mt-4",children:"Hi there..."}),Object(L.jsx)("p",{children:t})]})}),Object(L.jsxs)("div",{className:"modal-footer",children:[Object(L.jsx)(O.a,{className:"btn-white",color:"default",type:"button",onClick:function(){n.hasTrans?(C.b.warning("Item has already been used in a transaction. It can not be deleted. Try disabling it instead"),a(!1)):u()},children:"Yes"}),Object(L.jsx)(O.a,{className:"text-white ml-auto",color:"link","data-dismiss":"modal",type:"button",onClick:function(){a(!1)},children:"No"})]})]})]})}var B=c(475),M=c(479),z=c(174),Q=c(483),Y=c(47),W=c(87),q=(t.default=function(){var e=Object(W.b)(),t=Object(Y.a)(),c=t.selectedBranch,i=t.user,E=Object(s.useState)({companyId:null===i||void 0===i?void 0:i.sub,productName:"",description:"",taxable:!1,code:"",taxRate:"",price:""}),R=Object(n.a)(E,2),N=R[0],_=R[1],I=Object(s.useState)([]),w=Object(n.a)(I,2),k=w[0],U=w[1],G=Object(s.useState)(!1),K=Object(n.a)(G,2),J=K[0],X=K[1],Z=Object(s.useState)(!1),$=Object(n.a)(Z,2),ee=$[0],te=$[1],ce=Object(s.useState)(!1),ae=Object(n.a)(ce,2),ne=(ae[0],ae[1]),se=Object(s.useState)(!1),ie=Object(n.a)(se,2),re=ie[0],le=ie[1],oe=Object(s.useState)(!1),de=Object(n.a)(oe,2),ue=de[0],je=de[1],be=Object(s.useState)(!1),he=Object(n.a)(be,2),pe=he[0],me=he[1],Oe=Object(s.useState)(!1),xe=Object(n.a)(Oe,2),fe=xe[0],ve=xe[1],ge=Object(s.useState)(!1),Te=Object(n.a)(ge,2),ye=Te[0],Ce=Te[1],Se=Object(s.useState)(!1),Ae=Object(n.a)(Se,2),Ee=Ae[0],Re=Ae[1],Ne=Object(s.useState)(!0),_e=Object(n.a)(Ne,2),Pe=_e[0],Ie=_e[1],Le=Object(s.useState)(!1),we=Object(n.a)(Le,2),ke=we[0],De=we[1],Fe=Object(s.useState)(null),Ve=Object(n.a)(Fe,2),Ue=Ve[0],He=Ve[1],Be=Object(s.useState)([]),Me=Object(n.a)(Be,2),ze=Me[0],Qe=Me[1],Ye=Object(s.useState)(!1),We=Object(n.a)(Ye,2),qe=We[0],Ge=We[1],Ke=Object(s.useState)(""),Je=Object(n.a)(Ke,2),Xe=Je[0],Ze=Je[1],$e=Object(s.useState)("NON"),et=Object(n.a)($e,2),tt=et[0],ct=et[1],at=Object(s.useState)(""),nt=Object(n.a)(at,2),st=nt[0],it=nt[1],rt=Object(z.a)(st,500),lt=Object(n.a)(rt,1)[0],ot=Object(s.useState)(!1),dt=Object(n.a)(ot,2),ut=dt[0],jt=dt[1],bt=Object(B.a)(lt?"/api/GetItemsList/".concat(lt):"/api/GetItemsList","items",lt,(function(e){if(jt(!0),Ce(!1),console.log({fjkdl:e}),e.length>0){var t=e.map((function(e){return{id:e.id,name:e.name,istaxable:e.taxable,code:e.code,price:e.price,taxRate:e.taxRate,description:e.description,isTaxInclusive:e.isTaxInclusive,otherLevies:e.otherLevies,status:e.status,hasTrans:e.hasTrans,currencyCode:e.currencyCode}}));le(!1),U(t),Re(!0)}else U([])}),(function(e){le(!1),C.b.warning("You have no products/services saved yet")}),{isEnabled:!1,queryTag:"DONT_USE_QUERY_BECAUSE_OF_BFF"}),ht=bt.refetch,pt=(bt.isLoading,bt.isFetching,function(e){var t;C.b.error((null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.Message)||"Technical error! Please contact support"),le(!1)}),mt=Object(M.a)("/api/CreateItem/".concat(null===c||void 0===c?void 0:c.code),"items",(function(e){C.b.success("Item successfully saved"),le(!1),it(null===N||void 0===N?void 0:N.productName),_({id:"",productName:"",description:"",taxable:!0,code:"",taxRate:"",price:""}),ct(""),Ze(""),X(!1),te(!1)}),pt),Ot=mt.mutate,xt=mt.isLoading,ft=Object(Q.a)("/api/UpdateItem/".concat(null===N||void 0===N?void 0:N.id),"updatedItems",(function(e){C.b.success("Successfully Updated"),le(!1),it(null===N||void 0===N?void 0:N.productName),ht(),_({id:"",productName:"",description:"",taxable:!0,code:"",taxRate:"",price:""}),ct(""),Ze(""),X(!1),te(!1)}),pt).mutate,vt=function(e){X(e.istaxable),ne(e.hasTourismLevy),te(e.isTaxInclusive),Ce(!0),_((function(t){return{id:e.id,productName:null===e||void 0===e?void 0:e.name,description:(null===e||void 0===e?void 0:e.description)||"",taxable:null===e||void 0===e?void 0:e.istaxable,code:null===e||void 0===e?void 0:e.code,taxRate:null===e||void 0===e?void 0:e.taxRate,price:null===e||void 0===e?void 0:e.price,currencyCode:null===e||void 0===e?void 0:e.currencyCode,isTaxInclusive:null===e||void 0===e?void 0:e.isTaxInclusive,otherLevies:null===e||void 0===e?void 0:e.otherLevies}})),Ze(e.currencyCode),ct(e.otherLevies),"A"===e.status?Ie(!0):"A"!==e.status&&Ie(!1)},gt=Object(M.a)("/api/CreateItem/".concat(null===c||void 0===c?void 0:c.code),"items",(function(){le(!1),C.b.success("Items List successfully Added"),U([]),ve(!1),ht(),it("")}),(function(e){var t;C.b.error((null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.Message)||"Technical error! Please contact support"),le(!1)})),Tt=gt.mutate,yt=gt.isLoading;console.log({itemsList:k});var Ct=Object(B.a)("/api/GetCurrency","currency","",(function(e){if((null===e||void 0===e?void 0:e.length)>0){le(!1);var t=null===e||void 0===e?void 0:e.map((function(e){return{name:e.name,iso:e.code,homeCurrency:e.homeCurrency,rate:0}}));Qe(t)}}),(function(e){console.log(e)}),{refetchOnMount:!0});return Object(s.useEffect)((function(){return Ct.refetch(),function(){}}),[]),Object(s.useEffect)((function(){!0===ee&&X(!0)}),[ee,J]),Object(s.useEffect)((function(){lt.length>1&&ht(),0===st.length&&ut&&ht()}),[lt,st]),Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(y.a,{message:"This is your products setup page. Manage your products here",pageName:"Item Setup"}),(xt||yt)&&Object(L.jsx)(S.a,{}),Object(L.jsx)(C.a,{}),Object(L.jsx)(r.a,{className:"mt--7",fluid:!0,children:Object(L.jsxs)(l.a,{className:"mt-5",children:[k&&Ee?Object(L.jsx)(o.a,{className:"order-xl-2 mb-5 mb-xl-0",xl:"7",children:Object(L.jsxs)(d.a,{className:"shadow",style:{height:578},children:[Object(L.jsx)(u.a,{className:"bg-secondary border-5",style:{height:126,position:"relative"},children:Object(L.jsxs)(l.a,{className:"align-items-center",children:[Object(L.jsxs)(o.a,{xs:"12",children:[Object(L.jsx)("h3",{className:"mb-0",children:"Products & Services List"}),Object(L.jsx)("br",{}),Object(L.jsx)("div",{className:"navbar-search navbar-search-light form-inline ",children:Object(L.jsxs)(j.a,{className:"mb-0",children:[Object(L.jsxs)(b.a,{className:"input-group-alternative",children:[Object(L.jsx)(h.a,{addonType:"prepend",className:"mt-2",children:Object(L.jsx)(p.a,{children:Object(L.jsx)("i",{className:"fas fa-search"})})}),Object(L.jsx)(m.a,{placeholder:"Search...",type:"text",value:st,onChange:function(e){it(e.target.value)},style:{width:300},onKeyDown:function(e){"Enter"===e.key&&it(e.target.value)}})]}),lt?Object(L.jsx)(O.a,{onClick:function(){U([]),it("")},children:"Reset"}):null]})})]}),Object(L.jsx)(o.a,{className:"text-right",xs:"8",style:{position:"absolute",top:20,right:0},children:Object(L.jsx)(O.a,{onClick:function(){Ce(!1),ve(!1),me(!pe),U([]),Re(!1),_({id:"",productName:"",description:"",taxable:!0,code:"",taxRate:"",price:""})},size:"sm",children:Object(L.jsx)(V.a,{})})})]})}),Object(L.jsx)(x.a,{style:q.body,children:Object(L.jsxs)(f.a,{className:"align-items-center  table-flush",responsive:!0,children:[Object(L.jsx)("thead",{className:"thead-light",children:Object(L.jsxs)("tr",{children:[Object(L.jsx)("th",{style:{width:"30%"},scope:"col",children:"Name"}),Object(L.jsx)("th",{style:{width:"10%"},scope:"col",children:"Currency"}),Object(L.jsx)("th",{style:{textAlign:"right",width:"20%"},scope:"col",children:"Unit Price(GHS)"}),Object(L.jsx)("th",{style:{textAlign:"right",width:"10%"},scope:"col",children:"Taxable"}),Object(L.jsx)("th",{style:{textAlign:"right",width:"10%"},scope:"col",children:"Inclusive"}),Object(L.jsx)("th",{style:{textAlign:"right",width:"10%"},scope:"col",children:"CST/Tourism"}),Object(L.jsx)("th",{style:{textAlign:"right",width:"10%"},scope:"col",children:"Actions"})]})}),Object(L.jsx)("tbody",{children:k.map((function(e,t){var c;return Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{style:{cursor:"pointer"},title:e.name,onClick:function(){return vt(e)},children:null===e||void 0===e||null===(c=e.name)||void 0===c?void 0:c.substr(0,20)}),Object(L.jsx)("td",{children:e.currencyCode}),Object(L.jsx)("td",{style:{textAlign:"right",width:"25%"},children:Object(F.b)(e.price)}),Object(L.jsx)("td",{style:{textAlign:"right"},children:Object(L.jsx)("input",{type:"checkbox",value:e.istaxable,checked:e.istaxable,readOnly:!0})}),Object(L.jsx)("td",{style:{textAlign:"right"},children:Object(L.jsx)("input",{type:"checkbox",value:e.isTaxInclusive,checked:e.isTaxInclusive,readOnly:!0})}),Object(L.jsx)("td",{style:{textAlign:"right"},children:e.otherLevies}),Object(L.jsxs)("td",{style:{textAlign:"right",width:"20%",height:20,cursor:"pointer"},children:[Object(L.jsx)(V.b,{title:"Edit",style:{marginRight:20},onClick:function(){return vt(e)}}),Object(L.jsx)(T.a,{title:"Remove",onClick:function(){return function(e){He(e),De(!0)}(e)}})]})]},t)}))})]})}),Object(L.jsx)(v.a,{style:{height:65},children:Object(L.jsx)(l.a,{style:{marginTop:-10},children:Object(L.jsx)(o.a,{lg:"12",className:"text-align",style:{display:"flex"},children:fe&&Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(O.a,{color:"success",onClick:function(){le(!0);var e=k.map((function(e){return{name:e.name,description:e.description,taxable:e.istaxable,code:"TXC00"+Math.ceil(1e3*Math.random())+(new Date).toISOString().substring(8,10),taxRate:e.istaxable?.125:0,price:Number(e.price),companyId:null===i||void 0===i?void 0:i.sub,isTaxInclusive:e.isTaxInclusive,currencyCode:e.currencyCode,otherLevies:e.otherLevies}}));Tt(e)},size:"sm",children:"Submit Bulk List"})})})})})]})}):null,re?Object(L.jsx)(S.a,{}):null,Object(L.jsx)(o.a,{className:"order-xl-1 mb-5 mb-xl-0",xs:"12",sm:"12",lg:"5",xl:"5",children:Object(L.jsxs)(d.a,{className:"bg-white shadow",style:{height:550,backgroundColor:"#fff"},children:[Object(L.jsx)(u.a,{className:"bg-secondary border-5",style:{height:126},children:Object(L.jsxs)(l.a,{className:"align-items-center",style:{height:"max-content"},children:[Object(L.jsx)(o.a,{className:"text-right",lg:"12",xs:"12",children:Object(L.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat( auto-fit, minmax(150px, 1fr) )",gap:10},children:[Object(L.jsx)(O.a,{color:"info",onClick:function(){ht(),me(!pe),ve(!1)},size:"sm",style:{cursor:pe?"not-allowed":"pointer",paddingLeft:0,marginLeft:0,textAlign:"center"},children:"View Existing Items List"}),Object(L.jsx)(O.a,{color:"info",size:"sm",title:"Download Customer List Excel Template",style:{paddingLeft:0,marginLeft:0},children:Object(L.jsx)("a",{href:A,style:{color:"white"},children:"Download Template"})}),Object(L.jsx)(O.a,{title:"Upload your  excel file",color:"primary",onClick:function(){ve(!0),U([]),le(!1),je(!0)},size:"sm",style:{paddingLeft:0,marginLeft:0},children:"Upload Excel File"})]})}),Object(L.jsx)(o.a,{xs:"12",lg:"12",className:"m-2 pt-0 pb-0",children:Object(L.jsx)("h3",{className:"mb-0",children:"Add Product/Service"})})]})}),Object(L.jsx)(x.a,{style:{minHeight:"max-content",backgroundColor:"#fff"},children:Object(L.jsxs)(g.a,{children:[Object(L.jsx)("h6",{className:"heading-small text-muted",style:{marginTop:-20},children:"Product/Service information"}),Object(L.jsxs)("div",{className:"",style:{marginTop:-10},children:[Object(L.jsxs)(l.a,{children:[Object(L.jsx)(o.a,{lg:"7",children:Object(L.jsxs)(j.a,{children:[Object(L.jsx)("label",{className:"form-control-label",htmlFor:"input-username",children:"Name"})," ",Object(L.jsx)("code",{style:{color:"darkred"},children:"*"}),Object(L.jsx)(m.a,{className:"form-control font-sm",placeholder:"Name of product/service",type:"text",disabled:ye,value:N.productName,onChange:function(e){return _(Object(a.a)(Object(a.a)({},N),{},{productName:e.target.value}))}})]})}),Object(L.jsx)(o.a,{lg:"5",children:Object(L.jsxs)(j.a,{children:[Object(L.jsx)("label",{className:"form-control-label",htmlFor:"input-first-name",children:"Price"})," ",Object(L.jsx)("code",{style:{color:"darkred"},children:"*"}),Object(L.jsx)(m.a,{className:"form-control font-sm",placeholder:"price",type:"number",value:N.price,onChange:function(e){return _(Object(a.a)(Object(a.a)({},N),{},{price:e.target.value}))},onBlur:function(){return _((function(e){return Object(a.a)(Object(a.a)({},e),{},{price:Number(null===N||void 0===N?void 0:N.price).toFixed(4)})}))}})]})})]}),Object(L.jsxs)(l.a,{style:{marginTop:-20},children:[Object(L.jsx)(o.a,{lg:"7",children:Object(L.jsxs)(j.a,{children:[Object(L.jsxs)("label",{className:"form-control-label",htmlFor:"input-username",onClick:function(){return Ge(!qe)},onHover:function(){null!==ze&&void 0!==ze&&ze.length||e.invalidateQueries("currency")},children:["Select Currency"," ",Object(L.jsx)("i",{className:qe?"fas fa-angle-down":"fas fa-angle-up"})," ",Object(L.jsx)("code",{style:{color:"darkred"},children:"*"})]})," ",qe?Object(L.jsx)(d.a,{style:{position:"absolute",width:"96%",zIndex:"1000",margin:0,maxHeight:"200px",overflow:"auto",boxShadow:"5px 10px 5px 0px rgba(189,189,189,0.75)"},children:null===ze||void 0===ze?void 0:ze.map((function(e,t){return Object(L.jsx)(o.a,{lg:"12",md:"3",onClick:function(){Ze(e.iso),Ge(!1)},children:Object(L.jsx)("div",{style:{padding:"10px",borderBottom:"1px solid #e3e3e3",alignContent:"center",marginTop:2,marginBottom:3,cursor:"pointer",height:29,fontSize:12},children:Object(L.jsxs)("div",{children:[Object(L.jsx)("img",{alt:e.name,src:"http://purecatamphetamine.github.io/country-flag-icons/3x2/".concat(e.iso.substr(0,2),".svg"),style:{height:14,marginRight:5}}),e.iso]})},t)},t)}))}):Object(L.jsx)(m.a,{className:"form-control font-sm",placeholder:"Currency",type:"text",disabled:ye,value:Xe,onClick:function(){return Ge(!0)},onChange:function(){return Ze(Xe)},bsSize:"sm"})]})}),Object(L.jsx)(o.a,{sm:"12",lg:"5",className:"mt-4",children:Object(L.jsxs)(j.a,{children:[Object(L.jsx)("input",{className:"form-control-checkbox",type:"checkbox",value:ee,onChange:function(){te(!ee)},checked:ee}),"\xa0 \xa0",Object(L.jsx)("label",{htmlFor:"isTaxInclusive",className:"form-control-label",children:"Tax Inclusive?"})]})})]}),Object(L.jsx)(l.a,{style:{marginTop:-20},children:Object(L.jsx)(o.a,{children:Object(L.jsxs)(j.a,{children:[Object(L.jsx)("label",{className:"form-control-label",htmlFor:"input-email",children:"Description"}),Object(L.jsx)(m.a,{className:"form-control",placeholder:"type something descriptive",type:"textarea",rows:2,value:N.description,onChange:function(e){return _(Object(a.a)(Object(a.a)({},N),{},{description:e.target.value}))},style:{resize:"none",marginTop:-5,fontSize:12}})]})})})]}),Object(L.jsx)("hr",{className:"my-1 mt-0"}),Object(L.jsxs)("h6",{className:"heading-small text-muted mb-0",children:["Tax information ",Object(L.jsx)("code",{style:{color:"darkred"},children:"*"})]}),Object(L.jsx)("div",{className:"pl-lg-4",children:Object(L.jsxs)(l.a,{children:[Object(L.jsxs)(o.a,{lg:"5",className:"pt-4",children:[Object(L.jsx)(m.a,{className:"form-control-checkbox ",type:"checkbox",value:J,onChange:function(){return X(!J)},checked:J}),Object(L.jsx)(j.a,{children:Object(L.jsx)("label",{className:"form-control-label",htmlFor:"input-first-name",children:"Is Taxable?"})})]}),Object(L.jsxs)(o.a,{lg:"7",children:[Object(L.jsx)("label",{className:"form-control-label",htmlFor:"input-first-name",children:"Tourism/CST"}),Object(L.jsxs)("select",{className:"form-control font-sm",value:tt,onChange:function(e){return ct(e.target.value)},style:{height:29,padding:"0px 5px"},children:[Object(L.jsx)("option",{value:"NON",children:"None"}),Object(L.jsx)("option",{value:"CST",children:"CST"}),Object(L.jsx)("option",{value:"TRSM",children:"Tourism"})]})]})]})}),ye&&Object(L.jsx)(l.a,{children:Object(L.jsx)(o.a,{lg:"12",children:Object(L.jsxs)(j.a,{children:[Object(L.jsx)("label",{className:"form-control-label",htmlFor:"input-email",children:"Item Status"}),Object(L.jsxs)(O.a,{className:"form-control",id:"status",name:"status",value:Pe?"Active":"Inactive",onClick:function(){return Ie(!Pe)},children:[Object(L.jsx)(P.d,{color:Pe?"green":"red",style:{marginRight:20}})," ",Pe?"Active":"Inactive"]})]})})})]})}),Object(L.jsx)(v.a,{style:{height:60},children:Object(L.jsx)(l.a,{style:{marginTop:-10},children:Object(L.jsxs)(o.a,{lg:"12",className:"text-align",style:{display:"flex",flexDirection:"row-reverse"},children:[Object(L.jsx)(O.a,{color:"success",onClick:function(){ye?function(e){var t={id:e.id,name:e.productName,status:Pe?"A":"I",description:e.description,taxable:J,code:e.code,taxRate:e.taxRate,price:e.price,currencyCode:e.currencyCode,isTaxInclusive:ee,otherLevies:tt};console.log({postData:t},tt,e),ft(t)}(N):function(e){var t=Object(a.a)(Object(a.a)({},e),{},{istaxable:J,isTaxInclusive:ee,otherLevies:tt,currencyCode:Xe});if(e.productName&&e.price&&""!==Xe){var c=[t].map((function(e){return{name:e.productName,description:(null===e||void 0===e?void 0:e.description)||"",taxable:e.istaxable,otherLevies:e.otherLevies,isTaxInclusive:e.isTaxInclusive,code:"TXC00"+Math.ceil(1e3*Math.random())+(new Date).toISOString().substring(8,10),currencyCode:e.currencyCode,taxRate:e.istaxable?.125:0,price:Number(e.price)}}));le(!0),Ot(c)}else C.b.warning("Please fill all necessary information")}(N)},size:"sm",disabled:re,children:ye?"Update":"Save"}),Object(L.jsx)(O.a,{style:{marginRight:10},color:"secondary",disabled:re,onClick:function(){Ce(!1),ne(!1),X(!1),te(!1),_({id:"",productName:"",description:"",taxable:!0,code:"",taxRate:"",price:""}),Ze(""),ct("")},size:"sm",children:"Clear"})]})})})]})})]})}),Object(L.jsx)(D,{show:ue,setShow:je,setItemsList:U,setIsSearched:Re}),Object(L.jsx)(H,{message:'Are you sure you want to proceed with deleting the item "'.concat(null===Ue||void 0===Ue?void 0:Ue.name,'"?'),showPrompt:ke,setShowPrompt:De,itemToDelete:Ue,setItemsList:U,setLoading:le,setSearchText:it,value:lt,refetch:ht})]})},{body:{marginTop:0,height:"inherit",maxHeight:"inherit",overflow:"auto",marginBottom:40}})}}]);