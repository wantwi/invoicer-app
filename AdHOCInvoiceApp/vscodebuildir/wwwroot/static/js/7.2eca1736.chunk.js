/*! For license information please see 7.2eca1736.chunk.js.LICENSE.txt */
(this["webpackJsonpgra-invoicer"]=this["webpackJsonpgra-invoicer"]||[]).push([[7],{501:function(e,t,i){var s,a,o;a=[i(184)],s=function(){window.ej=window.Syncfusion=window.Syncfusion||{},function(e,t,i){"use strict";var s,a,o,r;t.version="13.3.0.8",t.consts={NamespaceJoin:"-"},t.TextAlign={Center:"center",Justify:"justify",Left:"left",Right:"right"},t.Orientation={Horizontal:"horizontal",Vertical:"vertical"},t.serverTimezoneOffset=0,t.parseDateInUTC=!1,t.persistStateVersion=null,t.locales=t.locales||[],Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(e,t){return e[t]!==i}),Date.prototype.toISOString||function(){function e(e){var t=String(e);return 1===t.length&&(t="0"+t),t}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(),String.format=function(){for(var e=arguments[0],t=0;t<arguments.length-1;t++)e=e.replace(new RegExp("\\{"+t+"\\}","gm"),arguments[t+1]);return e.replace(/\{[0-9]\}/g,"")},jQuery.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},t.defineClass=function(e,s,a,o){if(!e||!a)return i;for(var r=e.split("."),l=window,n=0;n<r.length-1;n++)t.isNullOrUndefined(l[r[n]])&&(l[r[n]]={}),l=l[r[n]];return(o||t.isNullOrUndefined(l[r[n]]))&&(s="function"==typeof s?s:function(){},l[r[n]]=s,l[r[n]].prototype=a),l[r[n]]},t.util={getNameSpace:function(e){var i=e.toLowerCase().split(".");return"ej"===i[0]&&(i[0]="e"),i.join(t.consts.NamespaceJoin)},getObject:function(e,s){var a,o,r;if(!s||!e)return i;for("string"!=typeof e&&(e=JSON.stringify(e)),a=s,o=e.split("."),r=0;r<o.length&&!t.util.isNullOrUndefined(a);r++)a=a[o[r]];return a},createObject:function(e,i,s){for(var a,o=e.split("."),r=s||window,l=r,n=o.length,d=0;d<n;d++)a=o[d],d+1==n?l[a]=i:t.isNullOrUndefined(l[a])&&(l[a]={}),l=l[a];return r},isNullOrUndefined:function(e){return e===i||null===e},exportAll:function(i,s){var a,o,r,l,n,d,h,c,u=[],p=[],m={action:i,method:"post","data-ajax":"false"},g=t.buildTag("form","",null,m);if(0!=s.length){for(h=0;h<s.length;h++)o=h,r=e("#"+s[h]),l=e("#"+s[h]).data(),a=l.ejWidgets,n=e(r).data(a[0]),p.push({id:n._id,locale:n.model.locale}),t.isNullOrUndefined(n)||(d=n._getExportModel(n.model),u.push({name:a[0],type:"hidden",value:n.stringify(d)}),c=t.buildTag("input","",null,u[o]),g.append(c));e("body").append(g),g.submit(),setTimeout((function(){var i,s;if(p.length)for(s=0;s<p.length;s++)t.isNullOrUndefined(p[s].locale)||(i=e("#"+p[s].id).data(),a=i.ejWidgets,e("#"+p[s].id).data(a[0]).model.locale=p[s].locale)}),0),g.remove()}return!0},print:function(i,s){var a,o,r=t.buildTag("div"),l=i.clone();r.append(l),s||(s=window.open("","print","height=452,width=1024,tabbar=no")),s.document.write("<!DOCTYPE html>"),a=e("head").find("link").add("style"),"msie"===t.browserInfo().name?(o="",a.each((function(t,i){"LINK"==i.tagName&&e(i).attr("href",i.href),o+=i.outerHTML})),s.document.write("<html><head></head><body>"+o+r[0].innerHTML+"</body></html>")):(o="",s.document.write("<html><head>"),a.each((function(t,i){"LINK"==i.tagName&&e(i).attr("href",i.href),o+=i.outerHTML})),s.document.writeln(o+"</head><body>"),s.document.writeln(r[0].innerHTML+"</body></html>")),s.document.close(),s.focus(),setTimeout((function(){t.isNullOrUndefined(s.window)||(s.print(),setTimeout((function(){s.close()}),1e3))}),1e3)},ieClearRemover:function(t){var i=e(t).height();t.style.paddingTop=parseFloat(i/2)+"px",t.style.paddingBottom=parseFloat(i/2)+"px",t.style.height="1px",t.style.lineHeight="1px"},sendAjaxRequest:function(t){e.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.successHandler,error:t.errorHandler,beforeSend:t.beforeSendHandler,complete:t.completeHandler})},buildTag:function(t,s,a,o){var r,l=/^[a-z]*[0-9a-z]+/gi.exec(t)[0],n=/#([_a-z0-9-&@\/\\,+()$~%:*?<>{}\[\]]+\S)/gi.exec(t);return n=n?n[n.length-1].replace(/[&@\/\\,+()$~%.:*?<>{}\[\]]/g,""):i,r=(r=/\.([a-z]+[-_0-9a-z ]+)/gi.exec(t))?r[r.length-1]:i,e(document.createElement(l)).attr(n?{id:n}:{}).addClass(r||"").css(a||{}).attr(o||{}).html(s||"")},_preventDefaultException:function(e,t){if(e)for(var i in t)if(t[i].test(e[i]))return!0;return!1},getMaxZindex:function(){var t=1;return((t=Math.max.apply(null,e.map(e("body *"),(function(t){if("absolute"==e(t).css("position")||"fixed"==e(t).css("position"))return parseInt(e(t).css("z-index"))||1}))))==i||null==t)&&(t=1),t},blockDefaultActions:function(e){e.cancelBubble=!0,e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},getDimension:function(t,i){var s,a,o,r=e(t).parents().andSelf().filter(":hidden");return r&&(a={visibility:"hidden",display:"block"},o=[],r.each((function(){var e={};for(var t in a)e[t]=this.style[t],this.style[t]=a[t];o.push(e)})),s=/(outer)/g.test(i)?e(t)[i](!0):e(t)[i](),r.each((function(e){var t=o[e];for(var i in a)this.style[i]=t[i]}))),s},transitionEndEvent:function(){return{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[t.userAgent()]},animationEndEvent:function(){return{"":"animationend",webkit:"webkitAnimationEnd",Moz:"animationend",O:"webkitAnimationEnd",ms:"animationend"}[t.userAgent()]},startEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"touchstart":"mousedown"},endEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"touchend":"mouseup"},moveEvent:function(){return t.isTouchDevice()||e.support.hasPointer?e.support.hasPointer&&!t.isMobile()?"ejtouchmove":"touchmove":"mousemove"},cancelEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"touchcancel":"mousecancel"},tapEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"tap":"click"},tapHoldEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"taphold":"click"},isDevice:function(){return t.getBooleanVal(e("head"),"data-ej-forceset",!1)?t.getBooleanVal(e("head"),"data-ej-device",this._device()):this._device()},isPortrait:function(){var e=document.documentElement;return e&&e.clientWidth/e.clientHeight<1.1},isLowerResolution:function(){return window.innerWidth<=640&&t.isPortrait()&&t.isDevice()||window.innerWidth<=800&&!t.isDevice()||window.innerWidth<=800&&!t.isPortrait()&&t.isWindows()&&t.isDevice()||t.isMobile()},isIOSWebView:function(){return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent)},isAndroidWebView:function(){return!("undefined"==typeof Android)},isWindowsWebView:function(){return-1!=location.href.indexOf("x-wmapp")},_device:function(){return/Android|BlackBerry|iPhone|iPad|iPod|IEMobile|kindle|windows\sce|palm|smartphone|iemobile|mobile|pad|xoom|sch-i800|playbook/i.test(navigator.userAgent.toLowerCase())},isMobile:function(){return/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase())&&/mobile/i.test(navigator.userAgent.toLowerCase())||!0===t.getBooleanVal(e("head"),"data-ej-mobile",!1)},isTablet:function(){return/ipad|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())||!0===t.getBooleanVal(e("head"),"data-ej-tablet",!1)||!t.isMobile()&&t.isDevice()},isTouchDevice:function(){return("ontouchstart"in window||window.navigator.msPointerEnabled&&t.isMobile())&&this.isDevice()},getClearString:function(t){return e.trim(t.replace(/\s+/g," ").replace(/(\r\n|\n|\r)/gm,"").replace(new RegExp(">[\n\t ]+<","g"),"><"))},getBooleanVal:function(t,i,s){var a=e(t).attr(i);return null!=a?"true"==a.toLowerCase():s},_getSkewClass:function(e,t,i){var s=e.width(),a=e.height(),o=e.offset().left,r=e.offset().left+s,l=e.offset().top,n=e.offset().top+a,d=.3*s,h=.3*a;return t<o+d&&i<l+h?"e-m-skew-topleft":t>r-d&&i<l+h?"e-m-skew-topright":t>r-d&&i>n-h?"e-m-skew-bottomright":t<o+d&&i>n-h?"e-m-skew-bottomleft":t>o+d&&i<l+h&&t<r-d?"e-m-skew-top":t<o+d?"e-m-skew-left":t>r-d?"e-m-skew-right":i>n-h?"e-m-skew-bottom":"e-m-skew-center"},_removeSkewClass:function(t){e(t).removeClass("e-m-skew-top e-m-skew-bottom e-m-skew-left e-m-skew-right e-m-skew-topleft e-m-skew-topright e-m-skew-bottomleft e-m-skew-bottomright e-m-skew-center e-skew-top e-skew-bottom e-skew-left e-skew-right e-skew-topleft e-skew-topright e-skew-bottomleft e-skew-bottomright e-skew-center")},_getObjectKeys:function(e){var t,i=[];if(e=Object.prototype.toString.call(e)===Object.prototype.toString()?e:{},!Object.keys){for(t in e)e.hasOwnProperty(t)&&i.push(t);return i}if(Object.keys)return Object.keys(e)},_touchStartPoints:function(e,t){if(e){var i=e.touches?e.touches[0]:e;t._distX=0,t._distY=0,t._moved=!1,t._pointX=i.pageX,t._pointY=i.pageY}},_isTouchMoved:function(e,t){if(e){var i,s,a=e.touches?e.touches[0]:e,o=a.pageX-t._pointX,r=a.pageY-t._pointY;return Date.now(),t._pointX=a.pageX,t._pointY=a.pageY,t._distX+=o,t._distY+=r,i=Math.abs(t._distX),s=Math.abs(t._distY),!(i<5&&s<5)}},listenEvents:function(e,i,s,a,o,r){for(var l=0;l<e.length;l++)t.listenTouchEvent(e[l],i[l],s[l],a,o,r)},listenTouchEvent:function(i,s,a,o,r,l){for(var n,d=o?"removeEventListener":"addEventListener",h=o?"off":"on",c=e(i),u=0;u<c.length;u++)switch(n=c[u],s){case"touchstart":t._bindEvent(n,d,s,a,"mousedown","MSPointerDown","pointerdown",l);break;case"touchmove":t._bindEvent(n,d,s,a,"mousemove","MSPointerMove","pointermove",l);break;case"touchend":t._bindEvent(n,d,s,a,"mouseup","MSPointerUp","pointerup",l);break;case"touchcancel":t._bindEvent(n,d,s,a,"mousecancel","MSPointerCancel","pointercancel",l);break;case"tap":case"taphold":case"ejtouchmove":case"click":e(n)[h](s,a);break;default:"msie"==t.browserInfo().name&&t.browserInfo().version<9?r._on(e(n),s,a):n[d](s,a,!0)}},_bindEvent:function(t,i,s,a,o,r,l){e.support.hasPointer?t[i](window.navigator.pointerEnabled?l:r,a,!0):t[i](s,a,!0)},_browser:function(){return/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in window?"O":""},styles:document.createElement("div").style,userAgent:function(){for(var e="webkitT,t,MozT,msT,OT".split(","),i=0,s=e.length;i<s;i++)if(e[i]+"ransform"in t.styles)return e[i].substr(0,e[i].length-1);return!1},addPrefix:function(e){return""===t.userAgent()?e:(e=e.charAt(0).toUpperCase()+e.substr(1),t.userAgent()+e)},destroyWidgets:function(t){e(t).find("[data-role *= ejm]").each((function(t,i){var s=e(i),a=s.data("ejWidgets");a&&s[a]("destroy")}))},getAttrVal:function(t,i,s){var a=e(t).attr(i);return null!=a?a:s},getOffset:function(t){var i,s={},a=t.offset()||{left:0,top:0};return e.extend(!0,s,a),"static"!=e("body").css("position")&&(i=e("body").offset(),s.left-=i.left,s.top-=i.top),s},getZindexPartial:function(i,s){var a,o,r;if(!t.isNullOrUndefined(i)&&i.length>0)return a=i.parents(),o=e("body").children(),!t.isNullOrUndefined(i)&&i.length>0&&o.splice(o.index(s),1),e(o).each((function(e,t){a.push(t)})),r=Math.max.apply(r,e.map(a,(function(t){if("static"!=e(t).css("position"))return parseInt(e(t).css("z-index"))||1}))),!r||r<1e4?r=1e4:r+=1,r},isValidAttr:function(t,i){var s;return"undefined"!=typeof(t=e(t)[0])[i]||(s=!1,e.each(t,(function(e){if(e.toLowerCase()==i.toLowerCase())return s=!0,!1})),s)}},e.extend(t,t.util),t.widgetBase={droppables:{default:[]},resizables:{default:[]},_renderEjTemplate:function(i,s,a,o,r){var l=null;if(("object"==typeof i||i.startsWith("#")||i.startsWith("."))&&(l=e(i).attr("type")),l){if(l=l.toLowerCase(),t.template[l])return t.template[l](this,i,s,a,o)}else if(!t.isNullOrUndefined(r))return t.template["text/x-"+r](this,i,s,a,o);return t.template.render(this,i,s,a,o)},destroy:function(){var i,s,a,o;if(!this._trigger("destroy")){this.model.enablePersistence&&(this.persistState(),e(window).off("unload",this._persistHandler));try{this._destroy()}catch(r){}for(i=this.element.data("ejWidgets")||[],o=0;o<i.length;o++)i[o]==this.pluginName&&i.splice(o,1);for(i.length||this.element.removeData("ejWidgets");this._events&&(a=[],s=this._events.pop());){for(o=0;o<s[1].length;o++)e.isPlainObject(s[1][o])||a.push(s[1][o]);e.fn.off.apply(s[0],a)}this._events=null,this.element.removeClass(t.util.getNameSpace(this.sfType)).removeClass("e-js").removeData(this.pluginName),this.element=null,this.model=null}},_on:function(i){this._events||(this._events=[]);for(var s=[].splice.call(arguments,1,arguments.length-1),a={},o=s.length;a&&"function"!=typeof a;)a=s[--o];return s[o]=t.proxy(s[o],this),this._events.push([i,s,a,s[o]]),e.fn.on.apply(i,s),this},_off:function(t,i,s,a){var o,r,l,n,d=this._events;if(!d||!d.length)return this;for("function"==typeof s&&(o=a,a=s,s=o),r=i.match(/\S+/g)||[""],l=0;l<d.length;l++)if((n=d[l])[0].length&&(!a||n[2]===a)&&(n[1][0]===i||r[0])&&(!s||n[1][1]===s)&&e.inArray(t[0],n[0])>-1){e.fn.off.apply(t,a?[i,s,n[3]]:[i,s]),d.splice(l,1);break}return this},_trigger:function(i,s){var a,o,r,l=null,n={};return e.extend(n,s),i in this.model&&(l=this.model[i]),l&&("string"==typeof l&&(l=t.util.getObject(l,window)),e.isFunction(l)&&(o=t.event(i,this.model,s),a=l.call(this,o),s&&e.extend(s,o),o.cancel||!t.isNullOrUndefined(a)))?!1===a||o.cancel:(r=Boolean(s),(s=s||{}).originalEventType=i,s.type=this.pluginName+i,o=e.Event(s.type,t.event(s.type,this.model,s)),this.element&&this.element.trigger(o),r&&e.extend(s,o),t.isOnWebForms&&0==o.cancel&&this.model.serverEvents&&this.model.serverEvents.length&&t.raiseWebFormsServerEvents(i,s,n),o.cancel)},setModel:function(t,i){var a,o,r,l;if(!this._trigger("modelChange",{changes:t})){for(a in t){if(!i){if(this.model[a]===t[a]){delete t[a];continue}if(e.isPlainObject(t[a])&&(s(this.model[a],t[a]),e.isEmptyObject(t[a]))){delete t[a];continue}}if(this.dataTypes&&!0!==(o=this._isValidModelValue(a,this.dataTypes,t)))throw"setModel - Invalid input for property :"+a+" - "+o;this.model.notifyOnEachPropertyChanges&&this.model[a]!==t[a]&&(r={oldValue:this.model[a],newValue:t[a]},t[a]=this._trigger(a+"Change",r)?this.model[a]:r.newValue)}e.isEmptyObject(t)||(this._setFirst?((l=t.dataSource)&&delete t.dataSource,e.extend(!0,this.model,t),l&&(this.model.dataSource=l instanceof Array?l.slice():l,t.dataSource=this.model.dataSource),this._setModel&&this._setModel(t)):this._setModel&&!1===this._setModel(t)||e.extend(!0,this.model,t),"enablePersistence"in t&&this._setState(t.enablePersistence))}},option:function(s,a,o){if(!s)return this.model;if(e.isPlainObject(s))return this.setModel(s,o);if("string"==typeof s){s=s.replace(/^model\./,"");var r=t.getObject(s,this.model);if(a===i&&!o)return r;if("enablePersistence"===s)return this._setState(a);if(o&&a===t.extensions.modelGUID)return this._setModel(t.createObject(s,t.getObject(s,this.model),{}));if(o||t.getObject(s,this.model)!==a)return this.setModel(t.createObject(s,a,{}),o)}return i},_isValidModelValue:function(e,t,i){var s,a,o,r=t[e],l=i[e];if(!r)return!0;if("string"==typeof r){if("enum"==r&&(i[e]=l?l.toString().toLowerCase():l,r="string"),"array"===r){if("[object Array]"===Object.prototype.toString.call(l))return!0}else if("data"===r||"parent"===r||typeof l===r)return!0;return"Expected type - "+r}if(l instanceof Array){for(a=0;a<l.length;a++)if(!0!==(s=this._isValidModelValue(e,t,l[a])))return" ["+a+"] - "+s;return!0}for(o in l)if(!0!==(s=this._isValidModelValue(o,r,l)))return o+" : "+s;return!0},_returnFn:function(e,t){-1!=t.indexOf(".")?this._returnFn(e[t.split(".")[0]],t.split(".").slice(1).join(".")):e[t]=e[t].call(e.propName)},_removeCircularRef:function(e){function t(e,s,a){if("object"!=typeof e);else{if(Array.prototype.indexOf||(Array.prototype.indexOf=function(e){return jQuery.inArray(e,this)}),i.indexOf(e)>=0)return void delete a[s];for(var o in i.push(e),e)e.hasOwnProperty(o)&&t(e[o],o,e);i.pop()}}var i=[];return t(e,"obj",null),e},stringify:function(e,i){for(var s,a=this.observables,o=0;o<a.length;o++)s=t.getObject(a[o],e),t.isNullOrUndefined(s)||"function"!=typeof s||this._returnFn(e,a[o]);return i&&(e=this._removeCircularRef(e)),JSON.stringify(e)},_setState:function(i){!0===i?(this._persistHandler=t.proxy(this.persistState,this),e(window).on("unload",this._persistHandler)):(this.deleteState(),e(window).off("unload",this._persistHandler))},_removeProp:function(e,i){t.isNullOrUndefined(e)||(-1!=i.indexOf(".")?this._removeProp(e[i.split(".")[0]],i.split(".").slice(1).join(".")):delete e[i])},persistState:function(){var e,i;if(this._ignoreOnPersist){for(e=l({},this.model),i=0;i<this._ignoreOnPersist.length;i++)this._removeProp(e,this._ignoreOnPersist[i]);e.ignoreOnPersist=this._ignoreOnPersist}else if(this._addToPersist){for(e={},i=0;i<this._addToPersist.length;i++)t.createObject(this._addToPersist[i],t.getObject(this._addToPersist[i],this.model),e);e.addToPersist=this._addToPersist}else e=l({},this.model);this._persistState&&(e.customPersists={},this._persistState(e.customPersists)),window.localStorage?(t.isNullOrUndefined(t.persistStateVersion)||null!=window.localStorage.getItem("persistKey")||window.localStorage.setItem("persistKey",t.persistStateVersion),window.localStorage.setItem("$ej$"+this.pluginName+this._id,JSON.stringify(e))):document.cookie&&(t.isNullOrUndefined(t.persistStateVersion)||null!=t.cookie.get("persistKey")||t.cookie.set("persistKey",t.persistStateVersion),t.cookie.set("$ej$"+this.pluginName+this._id,e))},deleteState:function(){var e;window.localStorage?window.localStorage.removeItem("$ej$"+this.pluginName+this._id):document.cookie&&t.cookie.set("$ej$"+this.pluginName+this._id,e,new Date)},restoreState:function(i){var s,a,o,r=null;if(window.localStorage?r=window.localStorage.getItem("$ej$"+this.pluginName+this._id):document.cookie&&(r=t.cookie.get("$ej$"+this.pluginName+this._id)),r&&(s=JSON.parse(r),this._restoreState&&(this._restoreState(s.customPersists),delete s.customPersists),!1===t.isNullOrUndefined(s)&&(t.isNullOrUndefined(s.ignoreOnPersist)?t.isNullOrUndefined(s.addToPersist)||(this._addToPersist=s.addToPersist,delete s.addToPersist):(this._ignoreOnPersist=s.ignoreOnPersist,delete s.ignoreOnPersist))),t.isNullOrUndefined(s)||t.isNullOrUndefined(this._ignoreOnPersist))this.model=e.extend(!0,this.model,s);else{for(a=0,o=this._ignoreOnPersist.length;a<o;a++)-1!==this._ignoreOnPersist[a].indexOf(".")?t.createObject(this._ignoreOnPersist[a],t.getObject(this._ignoreOnPersist[a],this.model),s):s[this._ignoreOnPersist[a]]=this.model[this._ignoreOnPersist[a]];this.model=s}!i&&r&&this._setModel&&this._setModel(this.model)},ignoreOnPersist:function(e){var t,s,a=[];if("object"==typeof e?a=e:"string"==typeof e&&a.push(e),this._addToPersist===i)for(this._ignoreOnPersist=this._ignoreOnPersist||[],t=0;t<a.length;t++)this._ignoreOnPersist.push(a[t]);else for(t=0;t<a.length;t++)s=this._addToPersist.indexOf(a[t]),this._addToPersist.splice(s,1)},addToPersist:function(t){var s,a,o=[];if("object"==typeof t?o=t:"string"==typeof t&&o.push(t),this._addToPersist===i)for(this._ignoreOnPersist=this._ignoreOnPersist||[],a=0;a<o.length;a++)s=this._ignoreOnPersist.indexOf(o[a]),this._ignoreOnPersist.splice(s,1);else for(a=0;a<o.length;a++)-1===e.inArray(o[a],this._addToPersist)&&this._addToPersist.push(o[a])},formatting:function(i,s,a){var o,r,l,n,d,h,c,u;if(i=i.replace(/%280/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">"),a=t.preferredCulture(a)?a:"en-US",o=i,r=i.split("{0:"),d=i.split("}"),l=r[0],n=d[1],"string"==typeof s&&e.isNumeric(s)&&(s=Number(s)),-1!=i.indexOf("{0:"))return null!=(h=new RegExp("\\{0(:([^\\}]+))?\\}","gm").exec(i))&&null!=s?null!=l&&null!=n?l+t.format(s,h[2],a)+n:t.format(s,h[2],a):null!=s?s:"";if(o.startsWith("{")&&!o.startsWith("{0:")){var p=o.split(""),m=(s=(s||"")+"").split(""),g=/[0aA\*CN<>\?]/gm;for(c=0,u=0;c<p.length;c++)p[c]=g.test(p[c])?"{"+u+++"}":p[c];return String.format.apply(String,[p.join("")].concat(m)).replace("{","").replace("}","")}return null!=this.data&&null==this.data.Value?(e.each(this.data,(function(e,t){o=o.replace(new RegExp("\\{"+e+"\\}","gm"),t)})),o):this.data.Value}},t.WidgetBase=function(){},s=function(t,i){var a,o,r;if(t instanceof Array)for(a=0,o=t.length;a<o;a++)(r=t[a])===i[r]&&delete i[r],e.isPlainObject(i[r])&&e.isPlainObject(r)&&s(r,i[r]);else for(r in t)t[r]===i[r]&&delete i[r],e.isPlainObject(i[r])&&e.isPlainObject(t[r])&&s(t[r],i[r])},t.widget=function(s,o,d){var c,u,p;if("object"!=typeof s)p=d._rootCSS||t.getNameSpace(o),d=t.defineClass(o,(function(i,r){var h,c,u,m,g,_,f,b,v,x,y;if(this.sfType=o,this.pluginName=s,this.instance=n,t.isNullOrUndefined(this._setFirst)&&(this._setFirst=!0),this["ob.values"]={},e.extend(this,t.widgetBase),this.dataTypes)for(h in r)if(!0!==(c=this._isValidModelValue(h,this.dataTypes,r)))throw"setModel - Invalid input for property :"+h+" - "+c;for((u=i.data("ejWidgets")||[]).push(s),i.data("ejWidgets",u),g=0;t.widget.observables&&this.observables&&g<this.observables.length;g++)(m=t.getObject(this.observables[g],r))&&t.createObject(this.observables[g],t.widget.observables.register(m,this.observables[g],this,i),r);if(this.element=i.jquery?i:e(i),this.model=l(!0,{},d.prototype.defaults,r),this.model.keyConfigs=l(this.keyConfigs),this.element.addClass(p+" e-js").data(s,this),this._id=i[0].id,this.model.enablePersistence){if(window.localStorage&&!t.isNullOrUndefined(t.persistStateVersion)&&window.localStorage.getItem("persistKey")!=t.persistStateVersion)for(g in window.localStorage)-1!=g.indexOf("$ej$")&&(window.localStorage.removeItem(g),window.localStorage.setItem("persistKey",t.persistStateVersion));else if(document.cookie&&!t.isNullOrUndefined(t.persistStateVersion)&&t.cookie.get("persistKey")!=t.persistStateVersion)for(f in document.cookie.split(/; */))-1!=f.indexOf("$ej$")&&(t.cookie.set(f.split("=")[0],_,new Date),t.cookie.set("persistKey",t.persistStateVersion));this._persistHandler=t.proxy(this.persistState,this),e(window).on("unload",this._persistHandler),this.restoreState(!0)}if(this._init(r),"object"==typeof this.model.keyConfigs&&!(this.model.keyConfigs instanceof Array)){for(v in b=!1,this.model.keyConfigs.focus&&this.element.attr("accesskey",this.model.keyConfigs.focus),this.model.keyConfigs)if("focus"!==v){b=!0;break}b&&this._keyPressed&&(x=i,y="keydown",this.keySettings&&(x=this.keySettings.getElement&&this.keySettings.getElement()||x,y=this.keySettings.event||y),this._on(x,y,(function(e){if(this.model.keyConfigs){var t=a.getActionFromCode(this.model.keyConfigs,e.which,e.ctrlKey,e.shiftKey,e.altKey),i={code:e.which,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey};t&&!1===this._keyPressed(t,e.target,i,e)&&e.preventDefault()}})))}this._trigger("create")}),d),e.fn[s]=function(a){for(var l,n,c=a,u=0;u<this.length;u++){var m=e(this[u]),g=m.data(s),_=g&&m.hasClass(p),f=null;if(this.length>0&&e.isPlainObject(c)&&(a=t.copyObject({},c)),_){if(a)if(n=[].slice.call(arguments,1),this.length>0&&n[0]&&"option"===c&&e.isPlainObject(n[0])&&(n[0]=t.copyObject({},n[0])),e.isPlainObject(a))g.setModel(a);else if(0!==a.indexOf("_")&&!t.isNullOrUndefined(f=t.getObject(a,g))||0===a.indexOf("model.")){if(!f||!e.isFunction(f)){if(1==arguments.length)return f;g.option(a,arguments[1]);continue}if((l=f.apply(g,n))!==i)return l}else r(o+": function/property - "+a+" does not exist")}else!0!==d.prototype._requiresID||e(this[u]).attr("id")||m.attr("id",h("ejControl_")),a&&"object"!=typeof a?r(s+": methods/properties can be accessed only after plugin creation"):(d.prototype.defaults&&!t.isNullOrUndefined(t.setCulture)&&"locale"in d.prototype.defaults&&"ejChart"!=s&&(!a||"locale"in a?t.isNullOrUndefined(a)&&((a={}).locale=t.setCulture().name):a.locale=t.setCulture().name),new d(m,a))}return-1!=s.indexOf("ejm")&&t.widget.registerInstance(m,s,o,d.prototype),this},t.widget.register(s,o,d.prototype),t.loadLocale(s);else for(c in d=o,s)(u=s[c])instanceof Array&&(d._rootCSS=u[1],u=u[0]),t.widget(c,u,d),s[c]instanceof Array&&(d._rootCSS="")},t.loadLocale=function(i){for(var s=t.locales,a=0,o=s.length;a<o;a++)e.fn["Locale_"+s[a]](i)},e.extend(t.widget,function(){var e={},i=[],s=function(i,s,a){t.isNullOrUndefined(e[i])||r("ej.widget : The widget named "+i+" is trying to register twice."),e[i]={name:i,className:s,proto:a},t.widget.extensions&&t.widget.extensions.registerWidget(i)},a=function(e,t,s,a){i.push({element:e,pluginName:t,className:s,proto:a})};return{register:s,registerInstance:a,registeredWidgets:e,registeredInstances:i}}()),t.widget.destroyAll=function(e){var t,i,s,a;if(e&&e.length)for(t=0;t<e.length;t++)if((s=(i=e.eq(t).data()).ejWidgets)&&s.length)for(a=0;a<s.length;a++)i[s[a]]&&i[s[a]].destroy&&i[s[a]].destroy()},t.cookie={get:function(e){var t=RegExp(e+"=([^;]+)").exec(document.cookie);return t&&t.length>1?t[1]:i},set:function(e,t,i){"object"==typeof t&&(t=JSON.stringify(t)),t=escape(t)+(null==i?"":"; expires="+i.toUTCString()),document.cookie=e+"="+t}},a={getActionFromCode:function(e,t,i,s,o){var r,l,n;for(r in i=i||!1,s=s||!1,o=o||!1,e)if("focus"!==r)for(l=a.getKeyObject(e[r]),n=0;n<l.length;n++)if(t===l[n].code&&i==l[n].isCtrl&&s==l[n].isShift&&o==l[n].isAlt)return r;return null},getKeyObject:function(t){for(var i,s,o,r={isCtrl:!1,isShift:!1,isAlt:!1},l=e.extend(!0,{},r),n=t.split(","),d=[],h=0;h<n.length;h++){if(i=null,-1!=n[h].indexOf("+"))for(s=n[h].split("+"),o=0;o<s.length;o++)i=a.getResult(e.trim(s[o]),r);else i=a.getResult(e.trim(n[h]),e.extend(!0,{},l));d.push(i)}return d},getResult:function(e,t){return"ctrl"===e?t.isCtrl=!0:"shift"===e?t.isShift=!0:"alt"===e?t.isAlt=!0:t.code=parseInt(e,10),t}},t.getScrollableParents=function(t){return e(t).parentsUntil("html").filter((function(){return"visible"!=e(this).css("overflow")})).add(e(window))},t.browserInfo=function(){var i,s,a,o,r={},l=[],n={opera:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,edge:/(edge)(?:.*version|)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie|trident) ([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(i in n)if(n.hasOwnProperty(i)&&(l=navigator.userAgent.match(n[i]))){if(r.name="opr"==l[1].toLowerCase()?"opera":l[1].toLowerCase(),r.version=l[2],r.culture={},r.culture.name=r.culture.language=navigator.language||navigator.userLanguage,"undefined"!=typeof t.globalize){for(s=t.preferredCulture().name,a=navigator.language||navigator.userLanguage?t.preferredCulture(navigator.language||navigator.userLanguage):t.preferredCulture("en-US"),o=0;navigator.languages&&o<navigator.languages.length&&(a=t.preferredCulture(navigator.languages[o])).language!=navigator.languages[o];o++);t.preferredCulture(s),e.extend(!0,r.culture,a)}!navigator.userAgent.match(/Trident\/7\./)||(r.name="msie");break}return r.isMSPointerEnabled="msie"==r.name&&r.version>9&&window.navigator.msPointerEnabled,r.pointerEnabled=window.navigator.pointerEnabled,r},t.eventType={mouseDown:"mousedown touchstart",mouseMove:"mousemove touchmove",mouseUp:"mouseup touchend",mouseLeave:"mouseleave touchcancel",click:"click touchend"},t.event=function(t,i,s){return e.extend(s||{},{type:t,model:i,cancel:!1})},t.proxy=function(e,t,i){return e&&"function"==typeof e?"on"in e&&t?i?e.on(t,i):e.on(t):function(){var s=i?[i]:[];return s.push.apply(s,arguments),e.apply(t||this,s)}:null},t.hasStyle=function(e){var t,i,s=document.documentElement.style;if(e in s)return!0;for(t=["ms","Moz","Webkit","O","Khtml"],e=e[0].toUpperCase()+e.slice(1),i=0;i<t.length;i++)if(t[i]+e in s)return!0;return!1},Array.prototype.indexOf=Array.prototype.indexOf||function(e){var t,i=this.length;if(0===i)return-1;for(t=0;t<i;t++)if(t in this&&this[t]===e)return t;return-1},String.prototype.startsWith=String.prototype.startsWith||function(e){return this.slice(0,e.length)===e};var l=t.copyObject=function(e,s){var a,o,r,n,d,h,c=2;for("boolean"!=typeof e&&(c=1),r=[].slice.call(arguments,c),1===c&&(s=e,e=i),n=0;n<r.length;n++)for(d in r[n])if(a=s[d],(o=r[n][d])!==i&&a!==o&&r[n]!==o&&s!==o)if(o instanceof Array)if(0===n&&e)if("dataSource"===d||"data"===d||"predicates"===d)s[d]=o.slice();else for(s[d]=[],h=0;h<o.length;h++)l(!0,s[d],o);else s[d]=o.slice();else t.isPlainObject(o)?(s[d]=a||{},e?l(e,s[d],o):l(s[d],o)):s[d]=o;return s},n=function(){return this},d=0,h=function(e){return e+d++};t.template={},t.template.render=t.template["text/x-jsrender"]=function(t,i,s,a,o){"#"!==i.slice(0,1)&&(i=["<div>",i,"</div>"].join(""));var r={prop:o,index:a};return e(i).render(s,r)},t.isPlainObject=function(e){if(!e||t.DataManager!==i&&e instanceof t.DataManager||"object"!=typeof e||e.nodeType||jQuery.isWindow(e))return!1;try{if(e.constructor&&!e.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1}catch(o){return!1}var s,a=t.support.isOwnLast;for(s in e)if(a)break;return s===i||e.hasOwnProperty(s)},o=!1,t.util.valueFunction=function(e){return function(s,a){var r=t.getObject(e,this.model);if(!1===o&&(o=t.getObject("observables.getValue",t.widget)),s===i)return t.isNullOrUndefined(o)?"function"==typeof r?r.call(this):r:o(r,a);"function"==typeof r?(this["ob.values"][e]=s,r.call(this,s)):t.createObject(e,s,this.model)}},t.util.getVal=function(e){return"function"==typeof e?e():e},t.support={isOwnLast:function(){var e,t=function(){this.a=1};for(e in t.prototype.b=1,new t)return"b"===e}(),outerHTML:document.createElement("div").outerHTML!==i},r=t.throwError=function(e){try{throw new Error(e)}catch(t){throw t.message+"\n"+t.stack}},t.getRandomValue=function(e,s){var a,o;return e===i||s===i?t.throwError("Min and Max values are required for generating a random number"):("crypto"in window&&"getRandomValues"in crypto?(o=new Uint16Array(1),window.crypto.getRandomValues(o),a=o[0]%(s-e)+e):a=Math.random()*(s-e)+e,0|a)},t.extensions={},t.extensions.modelGUID="{0B1051BA-1CCB-42C2-A3B5-635389B92A50}"}(window.jQuery,window.Syncfusion),function(){$.fn.addEleAttrs=function(e){var t=$(this);$.each(e,(function(e,i){i&&i.specified&&t.attr(i.name,i.value)}))},$.fn.removeEleAttrs=function(e){return this.each((function(){var t=$(this),i=$(this.attributes).clone();$.each(i,(function(i,s){s&&s.specified&&e.test(s.name)&&t.removeAttr(s.name)}))}))},$.fn.attrNotStartsWith=function(e){var t,i,s=[];for(this.each((function(){t=$(this.attributes).clone()})),i=0;i<t.length;i++)t[i]&&t[i].specified&&e.test(t[i].name)||s.push(t[i]);return s},$.fn.removeEleEmptyAttrs=function(){return this.each((function(){var e=$(this),t=$(this.attributes).clone();$.each(t,(function(t,i){i&&i.specified&&""===i.value&&e.removeAttr(i.name)}))}))},$.extend($.support,{has3d:ej.addPrefix("perspective")in ej.styles,hasTouch:"ontouchstart"in window,hasPointer:navigator.msPointerEnabled,hasTransform:!1!==ej.userAgent(),pushstate:"pushState"in history&&"replaceState"in history,hasTransition:ej.addPrefix("transition")in ej.styles}),$.extend($.expr[":"],{attrNotStartsWith:function(e,t,i){for(var s=e.attributes,a=0;a<s.length;a++)if(0===s[a].nodeName.indexOf(i[3]))return!1;return!0}});var e=$.fn.andSelf||$.fn.addBack;$.fn.andSelf=$.fn.addBack=function(){return e.apply(this,arguments)}}(),window.ej=window.Syncfusion=window.Syncfusion||{},function(e,t,i,s){"use strict";var a,o,r,l,n,d,h,c,u;t.DataManager=function(i,a,o){if(!(this instanceof t.DataManager))return new t.DataManager(i,a,o);i||(i=[]),"string"==typeof(o=o||i.adaptor)&&(o=new t[o]);var r=[],l=this;return i instanceof Array?r={json:i,offline:!0}:"object"==typeof i?e.isPlainObject(i)?(i.json||(i.json=[]),i.table&&(i.json=this._getJsonFromElement(i.table,i.headerOption)),r={url:i.url,insertUrl:i.insertUrl,removeUrl:i.removeUrl,updateUrl:i.updateUrl,crudUrl:i.crudUrl,batchUrl:i.batchUrl,json:i.json,headers:i.headers,accept:i.accept,data:i.data,async:i.async,timeTillExpiration:i.timeTillExpiration,cachingPageSize:i.cachingPageSize,enableCaching:i.enableCaching,requestType:i.requestType,key:i.key,crossDomain:i.crossDomain,antiForgery:i.antiForgery,jsonp:i.jsonp,dataType:i.dataType,enableAjaxCache:i.enableAjaxCache,offline:i.offline!==s?i.offline:!("remoteSaveAdaptor"==i.adaptor||i.adaptor instanceof t.remoteSaveAdaptor)&&!i.url,requiresFormat:i.requiresFormat}):(i.jquery||A(i))&&(r={json:this._getJsonFromElement(i),offline:!0,table:i}):"string"==typeof i&&(r={url:i,offline:!1,dataType:"json",json:[]}),r.requiresFormat!==s||t.support.cors||(r.requiresFormat=!!c(r.crossDomain)||r.crossDomain),r.antiForgery&&this.antiForgeryToken(),r.dataType===s&&(r.dataType="json"),this.dataSource=r,this.defaultQuery=a,r.url&&r.offline&&!r.json.length?(this.isDataAvailable=!1,this.adaptor=o||new t.ODataAdaptor,this.dataSource.offline=!1,this.ready=this.executeQuery(a||t.Query()).done((function(e){l.dataSource.offline=!0,l.isDataAvailable=!0,r.json=e.result,l.adaptor=new t.JsonAdaptor}))):this.adaptor=r.offline?new t.JsonAdaptor:new t.ODataAdaptor,!r.jsonp&&this.adaptor instanceof t.ODataAdaptor&&(r.jsonp="callback"),this.adaptor=o||this.adaptor,r.enableCaching&&(this.adaptor=new t.CacheAdaptor(this.adaptor,r.timeTillExpiration,r.cachingPageSize)),this},t.DataManager.prototype={setDefaultQuery:function(e){this.defaultQuery=e},executeQuery:function(i,a,o,r){var l,d,h;return"function"==typeof i&&(r=o,o=a,a=i,i=null),i||(i=this.defaultQuery),i instanceof t.Query||u("DataManager - executeQuery() : A query is required to execute"),(l=e.Deferred()).then(a,o,r),d={query:i},this.dataSource.offline||this.dataSource.url==s?t.isNullOrUndefined(this.dataSource.async)||0!=this.dataSource.async?n((function(){this._localQueryProcess(i,d,l)}),this):this._localQueryProcess(i,d,l):(h=this.adaptor.processQuery(this,i),t.isNullOrUndefined(h.url)?n((function(){d=this._getDeferedArgs(i,h,d),l.resolveWith(this,[d])}),this):this._makeRequest(h,l,d,i)),l.promise()},_localQueryProcess:function(e,t,i){var s=this.executeLocal(e);t=this._getDeferedArgs(e,s,t),i.resolveWith(this,[t])},_getDeferedArgs:function(e,t,i){return e._requiresCount?(i.result=t.result,i.count=t.count):i.result=t,i.getTableModel=I(e._fromTable,i.result,this),i.getKnockoutModel=R(i.result),i},executeLocal:function(i){var s,a;if(this.defaultQuery||i instanceof t.Query||u("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||u("DataManager - executeLocal() : Json data is required to execute"),i=i||this.defaultQuery,s=this.adaptor.processQuery(this,i),i._subQuery){var o=i._subQuery._fromTable,r=i._subQuery._lookup,l=i._requiresCount?s.result:s;for(r&&r instanceof Array&&p(i._subQuery._fKey,o,l,r,i._subQuery._key),a=0;a<l.length;a++)l[a][o]instanceof Array&&(l[a]=e.extend({},l[a]),l[a][o]=this.adaptor.processResponse(i._subQuery.using(t.DataManager(l[a][o].slice(0))).executeLocal(),this,i))}return this.adaptor.processResponse(s,this,i)},_makeRequest:function(i,s,a,o){var r,l=!!o._subQuerySelector,n=h((function(e){a.error=e,s.rejectWith(this,[a])}),this),c=h((function(e,t,i,r,n,d,h){l||(a.xhr=i,a.count=parseInt(t,10),a.result=e,a.request=r,a.aggregates=d,a.getTableModel=I(o._fromTable,e,this),a.getKnockoutModel=R(e),a.actual=n,a.virtualSelectRecords=h,s.resolveWith(this,[a]))}),this),u=h((function(t,i){var s,r,d=e.Deferred(),h={parent:a};return o._subQuery._isChild=!0,s=this.adaptor.processQuery(this,o._subQuery,t?this.adaptor.processResponse(t):i),r=this._makeRequest(s,d,h,o._subQuery),l||d.then((function(e){t&&(p(o._subQuery._fKey,o._subQuery._fromTable,t,e,o._subQuery._key),c(t))}),n),r}),this),m=d((function(e,i,s,a){-1==s.getResponseHeader("Content-Type").indexOf("xml")&&t.dateParse&&(e=t.parseJSON(e));var r=this.adaptor.processResponse(e,this,o,s,a),n=0,d=null,h=e.virtualSelectRecords;o._requiresCount&&(n=r.count,d=r.aggregates,r=r.result),o._subQuery?l||u(r):c(r,n,s,a,e,d,h)}),this),g=e.extend({type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!!t.isNullOrUndefined(this.dataSource.enableAjaxCache)||this.dataSource.enableAjaxCache,beforeSend:h(this._beforeSend,this),processData:!1,success:m,error:n},i);return"async"in this.dataSource&&(g.async=this.dataSource.async),g=e.ajax(g),l&&((r=o._subQuerySelector.call(this,{query:o._subQuery,parent:o}))&&r.length?(g=e.when(g,u(null,r))).then(d((function(e,t,i){var s,a=this.adaptor.processResponse(e[0],this,o,e[2],i[0]),r=0;o._requiresCount&&(r=a.count,a=a.result),s=this.adaptor.processResponse(t[0],this,o._subQuery,t[2],i[1]),r=0,o._subQuery._requiresCount&&(r=s.count,s=s.result),p(o._subQuery._fKey,o._subQuery._fromTable,a,s,o._subQuery._key),l=!1,c(a,r,e[2])}),this),n):l=!1),g},_beforeSend:function(e,t){var i,s,a,o;for(this.adaptor.beforeSend(this,e,t),i=this.dataSource.headers,a=0;i&&a<i.length;a++)for(o in s=[],i[a])s.push(o),e.setRequestHeader(o,i[a][o])},saveChanges:function(i,s,a,o){var r,l,n;return a instanceof t.Query&&(o=a,a=null),r={url:a,key:s||this.dataSource.key},l=this.adaptor.batchRequest(this,i,r,o),this.dataSource.offline?l:(n=e.Deferred(),e.ajax(e.extend({beforeSend:h(this._beforeSend,this),success:d((function(e,t,a,o){n.resolveWith(this,[this.adaptor.processResponse(e,this,null,a,o,i,s)])}),this),error:function(e){n.rejectWith(this,[{error:e}])}},l)),n.promise())},insert:function(i,s,a){var o,r;return i=g.replacer(i,!0),s instanceof t.Query&&(a=s,s=null),o=this.adaptor.insert(this,i,s,a),this.dataSource.offline?o:(r=e.Deferred(),e.ajax(e.extend({type:"POST",contentType:"application/json; charset=utf-8",processData:!1,beforeSend:h(this._beforeSend,this),success:d((function(e,i,s,a){try{t.isNullOrUndefined(e)?e=[]:g.parseJson(e)}catch(o){e=[]}e=this.adaptor.processResponse(g.parseJson(e),this,null,s,a),r.resolveWith(this,[{record:e,dataManager:this}])}),this),error:function(e){r.rejectWith(this,[{error:e,dataManager:this}])}},o)),r.promise())},antiForgeryToken:function(){return t.isNullOrUndefined(e("input[name='_ejRequestVerifyToken']").val())?t.buildTag("input","","",{type:"hidden",name:"_ejRequestVerifyToken",value:t.getGuid()}).appendTo("body"):e("input[name='_ejRequestVerifyToken']").val(t.getGuid()),t.cookie.set("_ejRequestVerifyToken",e("input[name='_ejRequestVerifyToken']").val()),{name:"_ejRequestVerifyToken",value:e("input[name='_ejRequestVerifyToken']").val()}},remove:function(i,s,a,o){var r,l;return"object"==typeof s&&(s=s[i]),a instanceof t.Query&&(o=a,a=null),r=this.adaptor.remove(this,i,s,a,o),this.dataSource.offline?r:(l=e.Deferred(),e.ajax(e.extend({type:"POST",contentType:"application/json; charset=utf-8",beforeSend:h(this._beforeSend,this),success:d((function(e,i,s,a){try{t.isNullOrUndefined(e)?e=[]:g.parseJson(e)}catch(o){e=[]}e=this.adaptor.processResponse(g.parseJson(e),this,null,s,a),l.resolveWith(this,[{record:e,dataManager:this}])}),this),error:function(e){l.rejectWith(this,[{error:e,dataManager:this}])}},r)),l.promise())},update:function(i,s,a,o){var r,l;return s=g.replacer(s,!0),a instanceof t.Query&&(o=a,a=null),r=this.adaptor.update(this,i,s,a,o),this.dataSource.offline?r:(l=e.Deferred(),e.ajax(e.extend({contentType:"application/json; charset=utf-8",beforeSend:h(this._beforeSend,this),success:d((function(e,i,s,a){try{t.isNullOrUndefined(e)?e=[]:g.parseJson(e)}catch(o){e=[]}e=this.adaptor.processResponse(g.parseJson(e),this,null,s,a),l.resolveWith(this,[{record:e,dataManager:this}])}),this),error:function(e){l.rejectWith(this,[{error:e,dataManager:this}])}},r)),l.promise())},_getJsonFromElement:function(i){"string"==typeof i&&(i=e(e(i).html()));var s=(i=i.jquery?i[0]:i).tagName.toLowerCase();return"table"!==s&&u("ej.DataManager : Unsupported htmlElement : "+s),t.parseTable(i)}};var p=function(e,i,s,a,o){var r,l,n={};for(a.result&&(a=a.result),a.GROUPGUID&&u("ej.DataManager: Do not have support Grouping in hierarchy"),r=0;r<a.length;r++)(n[l=t.getObject(e,a[r])]||(n[l]=[])).push(a[r]);for(r=0;r<s.length;r++)s[r][i]=n[t.getObject(o||e,s[r])]},m={accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},g={parseJson:function(e){var t=typeof e;return"string"===t?e=JSON.parse(e,g.jsonReviver):e instanceof Array?g.iterateAndReviveArray(e):"object"===t&&g.iterateAndReviveJson(e),e},iterateAndReviveArray:function(e){for(var t=0;t<e.length;t++)"object"==typeof e[t]?g.iterateAndReviveJson(e[t]):e[t]="string"!=typeof e[t]||/^[\s]*\[|^[\s]*\{|\"/g.test(e[t])?g.parseJson(e[t]):g.jsonReviver("",e[t])},iterateAndReviveJson:function(e){var t;for(var i in e)i.startsWith("__")||("object"==typeof(t=e[i])?t instanceof Array?g.iterateAndReviveArray(t):g.iterateAndReviveJson(t):e[i]=g.jsonReviver(i,t))},jsonReviver:function(e,i){var s,a,o=i,r=/[\-,/,\,.,:,]+/;if("string"==typeof i){if(s=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(i))return t.parseDateInUTC?g.isValidDate(s[0]):g.replacer(new Date(parseInt(s[1])));(t.dateParse?/^(?:(\d{4}\-\d\d\-\d\d)|(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?)$/.test(i):/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(i))&&(a=o.split(/[^0-9]/),/^(\d{4}\-\d\d\-\d\d)$/.test(i)?i=new Date(a[t.dateFormat.split(r).indexOf("yyyy")],a[t.dateFormat.split(r).indexOf("MM")]-1,a[t.dateFormat.split(r).indexOf("dd")]):(i=t.parseDateInUTC?g.isValidDate(i):g.replacer(new Date(i)),isNaN(i)&&(i=g.replacer(new Date(a[0],a[1]-1,a[2],a[3],a[4],a[5])))))}return i},isValidDate:function(e){var t=e;return"string"==typeof t&&0==t.indexOf("/Date(")&&(e=t.replace(/\d+/,(function(e){var t=6e4*new Date(parseInt(e)).getTimezoneOffset(),i=parseInt(e)+t;return g.replacer(new Date(parseInt(i)))}))),"string"==typeof e?(e=(e=e.replace("/Date(",(function(){return""}))).replace(")/",(function(){return""})),new Date(e)instanceof Date?new Date(e):e):e},isJson:function(e){return"string"==typeof e[0]?e:t.parseJSON(e)},isGuid:function(e){return null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(e)},replacer:function(e,i){return t.isPlainObject(e)?g.jsonReplacer(e,i):e instanceof Array?g.arrayReplacer(e):e instanceof Date?g.jsonReplacer({val:e},i).val:e},jsonReplacer:function(e,i){var s,a,o;for(a in e)(s=e[a])instanceof Date&&(o=36e5*t.serverTimezoneOffset*(t.isNullOrUndefined(i)||!1===i?1:-1),e[a]=new Date(+s+o));return e},arrayReplacer:function(e){for(var i=0;i<e.length;i++)t.isPlainObject(e[i])?e[i]=g.jsonReplacer(e[i]):e[i]instanceof Date&&(e[i]=g.jsonReplacer({date:e[i]}).date);return e}};t.isJSON=g.isJson,t.parseJSON=g.parseJson,t.dateParse=!0,t.dateFormat="yyyy-MM-dd",t.isGUID=g.isGuid,t.Query=function(e){return this instanceof t.Query?(this.queries=[],this._key="",this._fKey="","string"==typeof e?this._fromTable=e||"":e&&e instanceof Array&&(this._lookup=e),this._expands=[],this._sortedColumns=[],this._groupedColumns=[],this._subQuery=null,this._isChild=!1,this._params=[],this):new t.Query(e)},t.Query.prototype={key:function(e){return"string"==typeof e&&(this._key=e),this},using:function(e){return e instanceof t.DataManager?(this.dataManagar=e,this):u("Query - using() : 'using' function should be called with parameter of instance ej.DataManager")},execute:function(e,i,s,a){return(e=e||this.dataManagar)&&e instanceof t.DataManager?e.executeQuery(this,i,s,a):u("Query - execute() : dataManager needs to be is set using 'using' function or should be passed as argument")},executeLocal:function(e){return(e=e||this.dataManagar)&&e instanceof t.DataManager?e.executeLocal(this):u("Query - executeLocal() : dataManager needs to be is set using 'using' function or should be passed as argument")},clone:function(){var e=new t.Query;return e.queries=this.queries.slice(0),e._key=this._key,e._isChild=this._isChild,e.dataManagar=this.dataManager,e._fromTable=this._fromTable,e._params=this._params.slice(0),e._expands=this._expands.slice(0),e._sortedColumns=this._sortedColumns.slice(0),e._groupedColumns=this._groupedColumns.slice(0),e._subQuerySelector=this._subQuerySelector,e._subQuery=this._subQuery,e._fKey=this._fKey,e._requiresCount=this._requiresCount,e},from:function(e){return"string"==typeof e&&(this._fromTable=e),this},addParams:function(e,i){return"function"==typeof i||t.isPlainObject(i)?"function"==typeof i&&this._params.push({key:e,fn:i}):this._params.push({key:e,value:i}),this},expand:function(e){return this._expands="string"==typeof e?[].slice.call(arguments,0):e.slice(0),this},where:function(e,i,s,a,o){i=(i||t.FilterOperators.equal).toLowerCase();var r=null;return"string"==typeof e?r=new t.Predicate(e,i,s,a,o):e instanceof t.Predicate?r=e:u("Query - where : Invalid arguments"),this.queries.push({fn:"onWhere",e:r}),this},search:function(e,i,s,a,o){i&&"boolean"!=typeof i?"string"==typeof i&&(i=[i]):a=i=[],"boolean"==typeof s&&(a=s,s=null),(s=s||t.FilterOperators.contains).length<3&&(s=t.data.operatorSymbols[s]);var r=t.data.fnOperators[s]||t.data.fnOperators.processSymbols(s);return this.queries.push({fn:"onSearch",e:{fieldNames:i,operator:s,searchKey:e,ignoreCase:a,ignoreAccent:o,comparer:r}}),this},sortBy:function(e,i,s){var a,o,r,l,n=t.sortOrder.Ascending;if("string"==typeof e&&e.toLowerCase().endsWith(" desc")&&(e=e.replace(/ desc$/i,""),i=t.sortOrder.Descending),e instanceof Array){for(r=0;r<e.length;r++)this.sortBy(e[r],i,s);return this}if("boolean"==typeof i?i=i?t.sortOrder.Descending:t.sortOrder.Ascending:"function"==typeof i&&(n="custom"),i&&"string"!=typeof i||(n=i?i.toLowerCase():t.sortOrder.Ascending,i=t.pvt.fnSort(i)),s)for(a=_(this.queries,"onSortBy"),r=0;r<a.length;r++)if("string"==typeof(o=a[r].e.fieldName)){if(o===e)return this}else if(o instanceof Array)for(l=0;l<o.length;l++)if(o[l]===e||e.toLowerCase()===o[l]+" desc")return this;return this.queries.push({fn:"onSortBy",e:{fieldName:e,comparer:i,direction:n}}),this},sortByDesc:function(e){return this.sortBy(e,t.sortOrder.Descending)},group:function(e,t){return this.sortBy(e,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:e,fn:t}}),this},page:function(e,t){return this.queries.push({fn:"onPage",e:{pageIndex:e,pageSize:t}}),this},range:function(e,t){return("number"!=typeof e||"number"!=typeof t)&&u("Query() - range : Arguments type should be a number"),this.queries.push({fn:"onRange",e:{start:e,end:t}}),this},take:function(e){return"number"!=typeof e&&u("Query() - Take : Argument type should be a number"),this.queries.push({fn:"onTake",e:{nos:e}}),this},skip:function(e){return"number"!=typeof e&&u("Query() - Skip : Argument type should be a number"),this.queries.push({fn:"onSkip",e:{nos:e}}),this},select:function(e){return"string"==typeof e&&(e=[].slice.call(arguments,0)),e instanceof Array||u("Query() - Select : Argument type should be String or Array"),this.queries.push({fn:"onSelect",e:{fieldNames:e}}),this},hierarchy:function(e,i){return e&&e instanceof t.Query||u("Query() - hierarchy : query must be instance of ej.Query"),"function"==typeof i&&(this._subQuerySelector=i),this._subQuery=e,this},foreignKey:function(e){return"string"==typeof e&&(this._fKey=e),this},requiresCount:function(){return this._requiresCount=!0,this},aggregate:function(e,t){this.queries.push({fn:"onAggregates",e:{field:t,type:e}})}},t.Adaptor=function(e){this.dataSource=e,this.pvt={},this.init.apply(this,[].slice.call(arguments,1))},t.Adaptor.prototype={options:{from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates",antiForgery:"antiForgery"},init:function(){},extend:function(t){var i,s,a=function(t){this.dataSource=t,this.options&&(this.options=e.extend({},this.options)),this.init.apply(this,[].slice.call(arguments,0)),this.pvt={}};for(s in a.prototype=new this.type,a.prototype.type=a,i=a.prototype.base={},t)a.prototype[s]&&(i[s]=a.prototype[s]);return e.extend(!0,a.prototype,t),a},processQuery:function(){},processResponse:function(e){return e.d?e.d:e},convertToQueryString:function(t){return e.param(t)},type:t.Adaptor},t.UrlAdaptor=(new t.Adaptor).extend({processQuery:function(e,t,i){var s,o,r,l,n,d,h=_(t.queries,"onSortBy"),u=_(t.queries,"onGroup"),p=_(t.queries,"onWhere"),m=_(t.queries,"onSearch"),g=_(t.queries,"onAggregates"),v=f(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),x=t._params,y=e.dataSource.url,w=null,S=this.options,C={sorted:[],grouped:[],filters:[],searches:[],aggregates:[]};for(v.onPage?(s=v.onPage,o=((o=a(s.pageIndex,t))-1)*(w=a(s.pageSize,t))):v.onRange&&(o=(s=v.onRange).start,w=s.end-s.start),r=0;r<h.length;r++)s=a(h[r].e.fieldName,t),C.sorted.push(b(this,"onEachSort",{name:s,direction:h[r].e.direction},t));for(i&&(s=this.getFiltersFrom(i,t))&&C.filters.push(b(this,"onEachWhere",s.toJSON(),t)),r=0;r<p.length;r++)for(n in C.filters.push(b(this,"onEachWhere",p[r].e.toJSON(),t)),C.filters[r])c(C[n])&&delete C[n];for(r=0;r<m.length;r++)s=m[r].e,C.searches.push(b(this,"onEachSearch",{fields:s.fieldNames,operator:s.operator,key:s.searchKey,ignoreCase:s.ignoreCase},t));for(r=0;r<u.length;r++)C.grouped.push(a(u[r].e.fieldName,t));for(r=0;r<g.length;r++)s=g[r].e,C.aggregates.push({type:s.type,field:a(s.field,t)});for(n in(l={})[S.from]=t._fromTable,S.expand&&(l[S.expand]=t._expands),l[S.select]=v.onSelect?b(this,"onSelect",a(v.onSelect.fieldNames,t),t):"",l[S.count]=t._requiresCount?b(this,"onCount",t._requiresCount,t):"",l[S.search]=C.searches.length?b(this,"onSearch",C.searches,t):"",l[S.skip]=v.onSkip?b(this,"onSkip",a(v.onSkip.nos,t),t):"",l[S.take]=v.onTake?b(this,"onTake",a(v.onTake.nos,t),t):"",l[S.antiForgery]=e.dataSource.antiForgery?e.antiForgeryToken().value:"",l[S.where]=C.filters.length||C.searches.length?b(this,"onWhere",C.filters,t):"",l[S.sortBy]=C.sorted.length?b(this,"onSortBy",C.sorted,t):"",l[S.group]=C.grouped.length?b(this,"onGroup",C.grouped,t):"",l[S.aggregates]=C.aggregates.length?b(this,"onAggregates",C.aggregates,t):"",l.param=[],b(this,"addParams",{dm:e,query:t,params:x,reqParams:l}),l)(c(l[n])||""===l[n]||0===l[n].length||"params"===n)&&delete l[n];return S.skip in l&&S.take in l||null===w||(l[S.skip]=b(this,"onSkip",o,t),l[S.take]=b(this,"onTake",w,t)),d=this.pvt,this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(l),url:y,ejPvtData:d,type:"POST",contentType:"application/json; charset=utf-8"}:(s=this.convertToQueryString(l,t,e),{type:"GET",url:(s=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+s).length?y.replace(/\/*$/,s):y,ejPvtData:d})},convertToQueryString:function(t,i,s){return s.dataSource.url&&-1!==s.dataSource.url.indexOf("?")?e.param(t):"?"+e.param(t)},processResponse:function(e,i,a,o,r,l){var n,d,h,c,u,p=r.ejPvtData||{},m=e.groupDs;if(o&&o.getResponseHeader("Content-Type")&&-1!=o.getResponseHeader("Content-Type").indexOf("xml")&&9==e.nodeType)return a._requiresCount?{result:[],count:0}:[];if((n=JSON.parse(r.data))&&"batch"===n.action&&e.added)return l.added=e.added,l;if(e.d&&(e=e.d),p&&p.aggregates&&p.aggregates.length){var g,_=p.aggregates,f={},b={};for(("count"in e&&(f.count=e.count),e.result&&(f.result=e.result),e.aggregate&&(e=e.aggregate),h=0);h<_.length;h++)(g=t.aggregates[_[h].type])&&(b[_[h].field+" - "+_[h].type]=g(e,_[h].field));f.aggregates=b,e=f}if(p&&p.groups&&p.groups.length){for((d=p.groups,f={},"count"in e&&(f.count=e.count),e.aggregates&&(f.aggregates=e.aggregates),e.result&&(e=e.result),h=0);h<d.length;h++)c=null,u=k(d[h],a.queries),t.isNullOrUndefined(m)||(m=t.group(m,d[h],null,u)),e=t.group(e,d[h],p.aggregates,u,c,m);return f.count!=s?f.result=e:f=e,f}return e},onGroup:function(e){this.pvt.groups=e},onAggregates:function(e){this.pvt.aggregates=e},batchRequest:function(e,t,i,s){var a={changed:t.changed,added:t.added,deleted:t.deleted,action:"batch",table:i.url,key:i.key,antiForgery:e.dataSource.antiForgery?e.antiForgeryToken().value:""};return s&&this.addParams({dm:e,query:s,params:s._params,reqParams:a}),{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(a)}},beforeSend:function(){},insert:function(e,t,i,s){var a={value:t,table:i,action:"insert",antiForgery:e.dataSource.antiForgery?e.antiForgeryToken().value:""};return s&&this.addParams({dm:e,query:s,params:s._params,reqParams:a}),{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(a)}},remove:function(e,t,i,s,a){var o={key:i,keyColumn:t,table:s,action:"remove",antiForgery:e.dataSource.antiForgery?e.antiForgeryToken().value:""};return a&&this.addParams({dm:e,query:a,params:a._params,reqParams:o}),{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(o)}},update:function(e,t,i,s,a){var o={value:i,action:"update",keyColumn:t,key:i[t],table:s,antiForgery:e.dataSource.antiForgery?e.antiForgeryToken().value:""};return a&&this.addParams({dm:e,query:a,params:a._params,reqParams:o}),{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(o)}},getFiltersFrom:function(e,i){var s;e instanceof Array&&e.length||u("ej.SubQuery: Array of key values required");var a,o=i._fKey,r=o,l=i._key,n=[],d="object"!=typeof e[0];for("object"!=typeof e[0]&&(r=null),s=0;s<e.length;s++)a=d?e[s]:t.pvt.getObject(l||r,e[s]),n.push(new t.Predicate(o,"==",a));return t.Predicate.or(n)},addParams:function(e){var t,i,s=e.dm,a=e.query,o=e.params,r=e.reqParams;for(r.params={},t=0;i=o[t];t++)r[i.key]&&u("ej.Query: Custom Param is conflicting other request arguments"),r[i.key]=i.value,i.fn&&(r[i.key]=i.fn.call(a,i.key,a,s)),r.params[i.key]=r[i.key]}}),t.WebMethodAdaptor=(new t.UrlAdaptor).extend({processQuery:function(e,i,s){var a=t.UrlAdaptor.prototype.processQuery(e,i,s),o=t.parseJSON(a.data),r={};return r.value=o,b(this,"addParams",{dm:e,query:i,params:i._params,reqParams:r}),{data:JSON.stringify(r),url:a.url,ejPvtData:a.ejPvtData,type:"POST",contentType:"application/json; charset=utf-8"}},addParams:function(e){var t,i,s,a,o=e.dm,r=e.query,l=e.params,n=e.reqParams;for(n.params={},t=0;i=l[t];t++)n[i.key]&&u("ej.Query: Custom Param is conflicting other request arguments"),s=i.key,a=i.value,i.fn&&(a=i.fn.call(r,i.key,r,o)),n[s]=a,n.params[s]=n[s]}}),t.CacheAdaptor=(new t.UrlAdaptor).extend({init:function(e,i,s){var a,o;t.isNullOrUndefined(e)||(this.cacheAdaptor=e),this.pageSize=s,this.guidId=t.getGuid("cacheAdaptor"),a={keys:[],results:[]},window.localStorage&&window.localStorage.setItem(this.guidId,JSON.stringify(a)),o=this.guidId,t.isNullOrUndefined(i)||setInterval((function(){for(var e=t.parseJSON(window.localStorage.getItem(o)),s=[],a=0;a<e.results.length;a++)e.results[a].timeStamp=new Date-new Date(e.results[a].timeStamp),new Date-new Date(e.results[a].timeStamp)>i&&s.push(a);for(a=0;a<s.length;a++)e.results.splice(s[a],1),e.keys.splice(s[a],1);window.localStorage.removeItem(o),window.localStorage.setItem(o,JSON.stringify(e))}),i)},generateKey:function(e,t){var i,s,a,o,r=_(t.queries,"onSortBy"),l=_(t.queries,"onGroup"),n=_(t.queries,"onWhere"),d=_(t.queries,"onSearch"),h=(_(t.queries,"onPage"),f(t.queries,["onSelect","onPage","onSkip","onTake","onRange"])),c=(t._params,e);for(h.onPage&&(c+=h.onPage.pageIndex),r.forEach((function(e){c+=e.e.direction+e.e.fieldName})),l.forEach((function(e){c+=e.e.fieldName})),d.forEach((function(e){c+=e.e.searchKey})),i=0;i<n.length;i++)if((s=n[i]).e.isComplex){for((a=t.clone()).queries=[],o=0;o<s.e.predicates.length;o++)a.queries.push({fn:"onWhere",e:s.e.predicates[o],filter:t.queries.filter});c+=s.e.condition+this.generateKey(e,a)}else c+=s.e.field+s.e.operator+s.e.value;return c},processQuery:function(e,i){var s,a,o=this.generateKey(e.dataSource.url,i);return window.localStorage&&(s=t.parseJSON(window.localStorage.getItem(this.guidId))),null==(a=s?s.results[s.keys.indexOf(o)]:null)||this._crudAction||this._insertAction?(this._crudAction=null,this._insertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):a},processResponse:function(i,s,a,o,r,l){var n;if(this._insertAction||r&&this.cacheAdaptor.options.batch&&r.url.endsWith(this.cacheAdaptor.options.batch)&&"post"===r.type.toLowerCase())return this.cacheAdaptor.processResponse(i,s,a,o,r,l);i=this.cacheAdaptor.processResponse.apply(this,[].slice.call(arguments,0));var d=this.generateKey(s.dataSource.url,a),h={};for(window.localStorage&&(h=t.parseJSON(window.localStorage.getItem(this.guidId))),-1!=(n=e.inArray(d,h.keys))&&(h.results.splice(n,1),h.keys.splice(n,1)),h.results[h.keys.push(d)-1]={keys:d,result:i.result,timeStamp:new Date,count:i.count};h.results.length>this.pageSize;)h.results.splice(0,1),h.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(h)),i},update:function(e,t,i,s){return this._crudAction=!0,this.cacheAdaptor.update(e,t,i,s)},insert:function(e,t,i){return this._insertAction=!0,this.cacheAdaptor.insert(e,t,i)},remove:function(e,t,i,s){return this._crudAction=!0,this.cacheAdaptor.remove(e,t,i,s)},batchRequest:function(e,t,i){return this.cacheAdaptor.batchRequest(e,t,i)}});var _=function(e,t){return e.filter((function(e){return e.fn===t}))||[]},f=function(e,t){for(var i=e.filter((function(e){return-1!==t.indexOf(e.fn)})),s={},a=0;a<i.length;a++)s[i[a].fn]||(s[i[a].fn]=i[a].e);return s},b=function(e,t,i,s){if(e[t]){var a=e[t](i,s);c(a)||(i=a)}return i};t.ODataAdaptor=(new t.UrlAdaptor).extend({options:{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},onEachWhere:function(e,t){return e.isComplex?this.onComplexPredicate(e,t):this.onPredicate(e,t)},_typeStringQuery:function(e,i,s,a,o){return-1!=s.indexOf("'")&&(s=s.replace(new RegExp(/'/g),"''")),/[ !@@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(s)&&(s=encodeURIComponent(s)),s="'"+s+"'",i&&(a="cast("+a+", 'Edm.String')"),t.isGUID(s)&&(o="guid"),e.ignoreCase&&(o||(a="tolower("+a+")"),s=s.toLowerCase()),{val:s,guid:o,field:a}},onPredicate:function(e,i,s){var a,o,r,l,n,d,h="",c=e.value,u=typeof c,p=this._p(e.field);if(c instanceof Date&&(c="datetime'"+g.replacer(c).toJSON()+"'"),"string"===u&&(c=(l=this._typeStringQuery(e,s,c,p,o)).val,p=l.field,o=l.guid),a=t.data.odBiOperator[e.operator],""!=e.anyCondition&&a)return h+=c.table,h+="/"+e.anyCondition,h+="(d:d/",h+=p,h+=a,(h+=c.value)+")";if("in"==e.operator||"notin"==e.operator){for(h+="(",r=0;r<c.length;r++)c[r]instanceof Date&&(c[r]="datetime'"+g.replacer(c[r]).toJSON()+"'"),"string"==typeof c[r]&&(l=this._typeStringQuery(e,s,c[r],p,o),c[r]=l.val,p=l.field,o=l.guid),h+=p,h+=a,h+=c[r],r!=c.length-1&&(h+="in"==e.operator?" or ":" and ");return h+")"}return a?this.onOperation(h,a,p,c,o):(a=t.data.odUniOperator[e.operator])&&"string"===u?("substringof"===a&&(n=c,c=p,p=n),h+=a+"(",h+=p+",",o&&(h+=o),h+=c+")","notcontains"==e.operator&&(h+=" eq false"),""!=e.anyCondition&&a?(d+=c.table,d+="/"+e.anyCondition,h+=h,(d+="(d:d/")+")"):h):""},onOperation:function(e,t,i,s,a){return e+=i,e+=t,a&&(e+=a),e+s},onComplexPredicate:function(e,t){for(var i=[],s=0;s<e.predicates.length;s++)i.push("("+this.onEachWhere(e.predicates[s],t)+")");return i.join(" "+e.condition+" ")},onWhere:function(e){return this.pvt.searches&&e.push(this.onEachWhere(this.pvt.searches,null,!0)),e.join(" and ")},onEachSearch:function(e){var i,s;for(0===e.fields.length&&u("Query() - Search : oData search requires list of field names to search"),i=this.pvt.searches||[],s=0;s<e.fields.length;s++)i.push(new t.Predicate(e.fields[s],e.operator,e.key,e.ignoreCase));this.pvt.searches=i},onSearch:function(){return this.pvt.searches=t.Predicate.or(this.pvt.searches),""},onEachSort:function(e){var t,i=[];if(e.name instanceof Array)for(t=0;t<e.name.length;t++)i.push(this._p(e.name[t]));else i.push(this._p(e.name)+("descending"===e.direction?" desc":""));return i.join(",")},onSortBy:function(e){return e.reverse().join(",")},onGroup:function(e){return this.pvt.groups=e,""},onSelect:function(e){for(var t=0;t<e.length;t++)e[t]=this._p(e[t]);return e.join(",")},onAggregates:function(e){return this.pvt.aggregates=e,""},onCount:function(e){return!0===e?"allpages":""},beforeSend:function(e,t,i){i.url.endsWith(this.options.batch)&&"post"===i.type.toLowerCase()&&(t.setRequestHeader("Accept",m.multipartAccept),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined")),e.dataSource.crossDomain||(t.setRequestHeader("DataServiceVersion","2.0"),t.setRequestHeader("MaxDataServiceVersion","2.0"))},processResponse:function(i,s,a,o,r,l){var n,d,h,u,p,m,_,f,b,v;if(!t.isNullOrUndefined(i.d)&&(n=a&&a._requiresCount?i.d.results:i.d,!t.isNullOrUndefined(n)))for(b=0;b<n.length;b++)t.isNullOrUndefined(n[b].__metadata)||delete n[b].__metadata;if(d=r&&r.ejPvtData,o&&o.getResponseHeader("Content-Type")&&-1!=o.getResponseHeader("Content-Type").indexOf("xml")&&9==i.nodeType)return a._requiresCount?{result:[],count:0}:[];if(r&&this.options.batch&&r.url.endsWith(this.options.batch)&&"post"===r.type.toLowerCase()){if(h=(h=o.getResponseHeader("Content-Type")).substring(h.indexOf("=batchresponse")+1),(i=i.split(h)).length<2)return;for(i=i[1],m=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(i),i.replace(m[0],""),_=m[1],b=(i=i.split(_)).length;b>-1;b--)/\bContent-ID:/i.test(i[b])&&/\bHTTP.+201/.test(i[b])&&(u=parseInt(/\bContent-ID: (\d+)/i.exec(i[b])[1]),l.added[u]&&(p=g.parseJson(/^\{.+\}/m.exec(i[b])[0]),e.extend(l.added[u],this.processResponse(p))));return l}var x=o&&o.getResponseHeader("DataServiceVersion"),y=null,w={};if(x=x&&parseInt(x,10)||2,a&&a._requiresCount&&((i.__count||i["odata.count"])&&(y=i.__count||i["odata.count"]),i.d&&(i=i.d),(i.__count||i["odata.count"])&&(y=i.__count||i["odata.count"])),3===x&&i.value&&(i=i.value),i.d&&(i=i.d),x<3&&i.results&&(i=i.results),d&&d.aggregates&&d.aggregates.length){var S,C=d.aggregates,T={};for(b=0;b<C.length;b++)(S=t.aggregates[C[b].type])&&(T[C[b].field+" - "+C[b].type]=S(i,C[b].field));w=T}if(d&&d.groups&&d.groups.length)for(f=d.groups,b=0;b<f.length;b++)v=k(f[b],a.queries),i=t.group(i,f[b],d.aggregates,v);return c(y)?i:{result:i,count:y,aggregates:w}},convertToQueryString:function(e,t,i){var s,a=[],o=e.table||"";for(s in delete e.table,i.dataSource.requiresFormat&&(e.$format="json"),e)a.push(s+"="+e[s]);return a=a.join("&"),i.dataSource.url&&-1!==i.dataSource.url.indexOf("?")&&!o?a:a.length?o+"?"+a:o||""},insert:function(e,t,i){return{url:e.dataSource.url.replace(/\/*$/,i?"/"+i:""),data:JSON.stringify(t)}},remove:function(e,i,s,a){return"string"==typeof s?{type:"DELETE",url:t.isGUID(s)?e.dataSource.url.replace(/\/*$/,a?"/"+a:"")+"("+s+")":e.dataSource.url.replace(/\/*$/,a?"/"+a:"")+"('"+s+"')"}:{type:"DELETE",url:e.dataSource.url.replace(/\/*$/,a?"/"+a:"")+"("+s+")"}},update:function(e,i,s,a){return{type:"PUT",url:"string"==typeof s[i]?t.isGUID(s[i])?e.dataSource.url.replace(/\/*$/,a?"/"+a:"")+"("+s[i]+")":e.dataSource.url.replace(/\/*$/,a?"/"+a:"")+"('"+s[i]+"')":e.dataSource.url.replace(/\/*$/,a?"/"+a:"")+"("+s[i]+")",data:JSON.stringify(s),accept:this.options.accept}},batchRequest:function(e,i,s){var a=s.guid=t.getGuid(m.batchPre),o=e.dataSource.url.replace(/\/*$/,"/"+this.options.batch),r={url:s.url,key:s.key,cid:1,cSet:t.getGuid(m.changeSet)},l="--"+a+"\n";return l+="Content-Type: multipart/mixed; boundary="+r.cSet.replace("--","")+"\n",this.pvt.changeSet=0,l+=this.generateInsertRequest(i.added,r),l+=this.generateUpdateRequest(i.changed,r),l+=this.generateDeleteRequest(i.deleted,r),l+=r.cSet+"--\n",{type:"POST",url:o,contentType:"multipart/mixed; charset=UTF-8;boundary="+a,data:l+="--"+a+"--"}},generateDeleteRequest:function(e,t){var i,s,a;if(!e)return"";for(i="",a=0;a<e.length;a++)i+="\n"+t.cSet+"\n",i+=m.changeSetContent+"\n\n",i+="DELETE ",s="string"==typeof e[a][t.key]?"'"+e[a][t.key]+"'":e[a][t.key],i+=t.url+"("+s+") HTTP/1.1\n",i+="If-Match : * \n",i+="Accept: "+m.accept+"\n",i+="Content-Id: "+this.pvt.changeSet+++"\n",i+=m.batchChangeSetContentType+"\n";return i+"\n"},generateInsertRequest:function(e,t){var i,s;if(!e)return"";for(i="",s=0;s<e.length;s++)i+="\n"+t.cSet+"\n",i+=m.changeSetContent+"\n\n",i+="POST ",i+=t.url+" HTTP/1.1\n",i+="Accept: "+m.accept+"\n",i+="Content-Id: "+this.pvt.changeSet+++"\n",i+=m.batchChangeSetContentType+"\n\n",i+=JSON.stringify(e[s])+"\n";return i},generateUpdateRequest:function(e,t){var i,s,a;if(!e)return"";for(i="",a=0;a<e.length;a++)i+="\n"+t.cSet+"\n",i+=m.changeSetContent+"\n\n",i+="PUT ",s="string"==typeof e[a][t.key]?"'"+e[a][t.key]+"'":e[a][t.key],i+=t.url+"("+s+") HTTP/1.1\n",i+="If-Match : * \n",i+="Accept: "+m.accept+"\n",i+="Content-Id: "+this.pvt.changeSet+++"\n",i+=m.batchChangeSetContentType+"\n\n",i+=JSON.stringify(e[a])+"\n\n";return i},_p:function(e){return e.replace(/\./g,"/")}}),t.ODataV4Adaptor=(new t.ODataAdaptor).extend({options:{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$count",search:"$search",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},onCount:function(e){return!0===e?"true":""},onPredicate:function(e,i,s){var a="",o=e.value instanceof Date;return t.data.odUniOperator.contains="contains",a=t.ODataAdaptor.prototype.onPredicate.call(this,e,i,s),t.data.odUniOperator.contains="substringof",o&&(a=a.replace(/datetime'(.*)'$/,"$1")),a},onOperation:function(e,t,i,s,a){return a?(e+="("+i,e+=t,e+=s.replace(/["']/g,"")+")"):(e+=i,e+=t,e+=s),e},onEachSearch:function(e){var t=this.pvt.search||[];t.push(e.key),this.pvt.search=t},onSearch:function(){return this.pvt.search.join(" OR ")},beforeSend:function(){},processQuery:function(e,i){for(var s,a,o=/\/[\d*\/]*/g,r="",l=i._expands.length-1;l>0;l--)if(r.indexOf(i._expands[l])>=0)i._expands.pop();else if(o.test(i._expands[l])){for(s=(r=i._expands.pop()).replace(o,"($expand="),a=0;a<r.split(o).length-1;a++)s+=")";i._expands.unshift(s),l++}return t.ODataAdaptor.prototype.processQuery.apply(this,[e,i])},processResponse:function(i,s,a,o,r,l){var n,d,h,u,p,m,_,f,b,v,x=r&&r.ejPvtData;if(o&&o.getResponseHeader("Content-Type")&&-1!=o.getResponseHeader("Content-Type").indexOf("xml")&&9==i.nodeType)return a._requiresCount?{result:[],count:0}:[];if(r&&this.options.batch&&r.url.endsWith(this.options.batch)&&"post"===r.type.toLowerCase()){if(n=(n=o.getResponseHeader("Content-Type")).substring(n.indexOf("=batchresponse")+1),(i=i.split(n)).length<2)return;for(i=i[1],u=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(i),i.replace(u[0],""),p=u[1],b=(i=i.split(p)).length;b>-1;b--)/\bContent-ID:/i.test(i[b])&&/\bHTTP.+201/.test(i[b])&&(d=parseInt(/\bContent-ID: (\d+)/i.exec(i[b])[1]),l.added[d]&&(h=g.parseJson(/^\{.+\}/m.exec(i[b])[0]),e.extend(l.added[d],this.processResponse(h))));return l}if(m=null,_={},a&&a._requiresCount&&"@odata.count"in i&&(m=i["@odata.count"]),i=t.isNullOrUndefined(i.value)?i:i.value,x&&x.aggregates&&x.aggregates.length){var y,w=x.aggregates,S={};for(b=0;b<w.length;b++)(y=t.aggregates[w[b].type])&&(S[w[b].field+" - "+w[b].type]=y(i,w[b].field));_=S}if(x&&x.groups&&x.groups.length)for(f=x.groups,b=0;b<f.length;b++)v=k(f[b],a.queries),i=t.group(i,f[b],x.aggregates,v);return c(m)?i:{result:i,count:m,aggregates:_}}}),t.JsonAdaptor=(new t.Adaptor).extend({processQuery:function(e,t){for(var i,a,o=e.dataSource.json.slice(0),r=o.length,l=!0,n={},d=0;d<t.queries.length;d++)i=this[(a=t.queries[d]).fn].call(this,o,a.e,t),"onAggregates"==a.fn?n[a.e.field+" - "+a.e.type]=i:o=i!==s?i:o,("onPage"===a.fn||"onSkip"===a.fn||"onTake"===a.fn||"onRange"===a.fn)&&(l=!1),l&&(r=o.length);return t._requiresCount&&(o={result:o,count:r,aggregates:n}),o},batchRequest:function(e,t,i){for(var s=0;s<t.added.length;s++)this.insert(e,t.added[s]);for(s=0;s<t.changed.length;s++)this.update(e,i.key,t.changed[s]);for(s=0;s<t.deleted.length;s++)this.remove(e,i.key,t.deleted[s]);return t},onWhere:function(e,t){return e?e.filter((function(e){return t.validate(e)})):e},onAggregates:function(e,i){var s=t.aggregates[i.type];return e&&s&&0!=e.length?s(e,i.field):null},onSearch:function(e,i){return e&&e.length?(0===i.fieldNames.length&&t.pvt.getFieldList(e[0],i.fieldNames),e.filter((function(e){for(var s=0;s<i.fieldNames.length;s++)if(i.comparer.call(e,t.pvt.getObject(i.fieldNames[s],e),i.searchKey,i.ignoreCase,i.ignoreAccent))return!0;return!1}))):e},onSortBy:function(e,i,s){var o,r,l;if(!e)return e;if(!(r=a(i.fieldName,s)))return e.sort(i.comparer);if(r instanceof Array){for(l=(r=r.slice(0)).length-1;l>=0;l--)r[l]&&(o=i.comparer,r[l].endsWith(" desc")&&(o=t.pvt.fnSort(t.sortOrder.Descending),r[l]=r[l].replace(" desc","")),e=L(e,r[l],o,[]));return e}return L(e,r,i.comparer,s?s.queries:[])},onGroup:function(e,i,s){var o,r,l,n,d;if(!e)return e;if(r=[],(o=_(s.queries,"onAggregates")).length)for(n=0;n<o.length;n++)l=o[n].e,r.push({type:l.type,field:a(l.field,s)});return d=k(i.fieldName,s.queries),t.group(e,a(i.fieldName,s),r,d)},onPage:function(e,t,i){var s=a(t.pageSize,i),o=(a(t.pageIndex,i)-1)*s,r=o+s;return e?e.slice(o,r):e},onRange:function(e,t){return e?e.slice(a(t.start),a(t.end)):e},onTake:function(e,t){return e?e.slice(0,a(t.nos)):e},onSkip:function(e,t){return e?e.slice(a(t.nos)):e},onSelect:function(e,i){return e?t.select(e,a(i.fieldNames)):e},insert:function(e,t){return e.dataSource.json.push(t)},remove:function(e,i,s){var a,o=e.dataSource.json;for("object"==typeof s&&(s=t.getObject(i,s)),a=0;a<o.length&&t.getObject(i,o[a])!==s;a++);return a!==o.length?o.splice(a,1):null},update:function(i,s,a){for(var o=i.dataSource.json,r=t.getObject(s,a),l=0;l<o.length&&t.getObject(s,o[l])!==r;l++);return l<o.length?e.extend(o[l],a):null}}),t.ForeignKeyAdaptor=function(i,a){var o=(new t[a||"JsonAdaptor"]).extend({init:function(){var e,s;for(this.foreignData=[],this.key=[],this.adaptorType=a,this.value=[],this.fValue=[],this.keyField=[],e=i,s=0;s<e.length;s++)this.foreignData[s]=e[s].dataSource,this.key[s]=e[s].foreignKeyField,this.fValue[s]=t.isNullOrUndefined(e[s].field)?e[s].foreignKeyValue:e[s].field+"_"+e[s].foreignKeyValue,this.value[s]=e[s].foreignKeyValue,this.keyField[s]=e[s].field||e[s].foreignKeyField,this.initial=!0},processQuery:function(e,i){var s,a,o,r=e.dataSource.json;if(this.initial){for(s=0;s<r.length;s++)for(a=this,o=0;o<this.foreignData.length;o++)this.foreignData[o].filter((function(e){t.getObject(a.key[o],e)==t.getObject(a.keyField[o],r[s])&&(r[s][a.fValue[o]]=t.getObject(a.value[o],e))}));this.initial=!1}return this.base.processQuery.apply(this,[e,i])},setValue:function(i){for(var a,o,r,l=0;l<this.foreignData.length;l++)a=this,"string"!=typeof(o=i[this.fValue[l]])||isNaN(o)||(o=t.parseFloat(o)),r=e.grep(a.foreignData[l],(function(e){return e[a.value[l]]==o}))[0],t.isNullOrUndefined(r)&&(r=e.grep(a.foreignData[l],(function(e){return e[a.key[l]]==o}))[0],t.getObject(this.value[l],r)!=s&&t.createObject(a.value[l],t.getObject(this.value[l],r),i)),t.getObject(this.value[l],r)!=s&&t.createObject(this.keyField[l],t.getObject(this.key[l],r),i)},insert:function(e,t,i){return this.setValue(t),{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify({value:t,table:i,action:"insert",antiForgery:e.dataSource.antiForgery?e.antiForgeryToken().value:""})}},update:function(e,i,s,a){return this.setValue(s),t.JsonAdaptor.prototype.update(e,i,s,a),{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify({value:s,action:"update",keyColumn:i,key:s[i],table:a,antiForgery:e.dataSource.antiForgery?e.antiForgeryToken().value:""})}}});return e.extend(this,new o),this},t.remoteSaveAdaptor=(new t.JsonAdaptor).extend({beforeSend:t.UrlAdaptor.prototype.beforeSend,insert:t.UrlAdaptor.prototype.insert,update:t.UrlAdaptor.prototype.update,remove:t.UrlAdaptor.prototype.remove,addParams:t.UrlAdaptor.prototype.addParams,batchRequest:function(e,t,i,s){var a={changed:t.changed,added:t.added,deleted:t.deleted,action:"batch",table:i.url,key:i.key,antiForgery:e.dataSource.antiForgery?e.antiForgeryToken().value:""};return s&&this.addParams({dm:e,query:s,params:s._params,reqParams:a}),{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(a)}},processResponse:function(e,i,s,a,o,r,l){if(t.isNullOrUndefined(r))return e.d?e.d:e;e.d&&(e=e.d),e.added&&(r.added=t.parseJSON(e.added)),e.changed&&(r.changed=t.parseJSON(e.changed)),e.deleted&&(r.deleted=t.parseJSON(e.deleted));for(var n=0;n<r.added.length;n++)t.JsonAdaptor.prototype.insert(i,r.added[n]);for(n=0;n<r.changed.length;n++)t.JsonAdaptor.prototype.update(i,l,r.changed[n]);for(n=0;n<r.deleted.length;n++)t.JsonAdaptor.prototype.remove(i,l,r.deleted[n]);return e}}),t.WebApiAdaptor=(new t.ODataAdaptor).extend({insert:function(e,t){return{type:"POST",url:e.dataSource.url,data:JSON.stringify(t)}},remove:function(e,t,i){return{type:"DELETE",url:e.dataSource.url+"/"+i,data:JSON.stringify(i)}},update:function(e,t,i){return{type:"PUT",url:e.dataSource.url,data:JSON.stringify(i)}},batchRequest:function(i,s,a){var o=a.guid=t.getGuid(m.batchPre),r=[];return e.each(s.added,(function(e,t){r.push("--"+o),r.push("Content-Type: application/http; msgtype=request",""),r.push("POST "+i.dataSource.insertUrl+" HTTP/1.1"),r.push("Content-Type: application/json; charset=utf-8"),r.push("Host: "+location.host),r.push("",t?JSON.stringify(t):"")})),e.each(s.changed,(function(e,t){r.push("--"+o),r.push("Content-Type: application/http; msgtype=request",""),r.push("PUT "+i.dataSource.updateUrl+" HTTP/1.1"),r.push("Content-Type: application/json; charset=utf-8"),r.push("Host: "+location.host),r.push("",t?JSON.stringify(t):"")})),e.each(s.deleted,(function(e,t){r.push("--"+o),r.push("Content-Type: application/http; msgtype=request",""),r.push("DELETE "+i.dataSource.removeUrl+"/"+t[a.key]+" HTTP/1.1"),r.push("Content-Type: application/json; charset=utf-8"),r.push("Host: "+location.host),r.push("",t?JSON.stringify(t):"")})),r.push("--"+o+"--",""),{type:"POST",url:i.dataSource.batchUrl||i.dataSource.crudUrl||i.dataSource.url,data:r.join("\r\n"),contentType:'multipart/mixed; boundary="'+o+'"'}},processResponse:function(e,i,s,a,o){var r,l,n,d=o&&o.ejPvtData;if(o&&"post"!=o.type.toLowerCase()){var h=a&&a.getResponseHeader("DataServiceVersion"),u=null,p={};if(h=h&&parseInt(h,10)||2,s&&s._requiresCount&&(c(e.Count)||(u=e.Count)),h<3&&e.Items&&(e=e.Items),d&&d.aggregates&&d.aggregates.length){var m,g=d.aggregates,_={};for(l=0;l<g.length;l++)(m=t.aggregates[g[l].type])&&(_[g[l].field+" - "+g[l].type]=m(e,g[l].field));p=_}if(d&&d.groups&&d.groups.length)for(r=d.groups,l=0;l<r.length;l++)n=k(r[l],s.queries),e=t.group(e,r[l],d.aggregates,n);return c(u)?e:{result:e,count:u,aggregates:p}}}}),a=function(e,t){return"function"==typeof e?e.call(t||{}):e},t.TableModel=function(i,s,a,o){var r,l,n,d;if(!O(this,t.TableModel))return new t.TableModel(s);for(O(s,Array)||u("ej.TableModel - Json Array is required"),r=[],n=h(y,this),d=0;d<s.length;d++)(l=new t.Model(s[d],this)).state="unchanged",l.on("stateChange",n),o&&l.computes(o),r.push(l);return this.name=i||"table1",this.rows=t.NotifierArray(r),this._deleted=[],this._events=e({}),this.dataManager=a,this._isDirty=!1,this},t.TableModel.prototype={on:function(e,t){this._events.on(e,t)},off:function(e,t){this._events.off(e,t)},setDataManager:function(e){this.dataManagar=e},saveChanges:function(){if(this.dataManager&&O(this.dataManager,t.DataManager)||u("ej.TableModel - saveChanges : Set the dataManager using setDataManager function"),this.isDirty()){var e=this.dataManager.saveChanges(this.getChanges(),this.key,this.name);e.done(h((function(e){for(var t=this.toArray(),i=0;i<t.length;i++)"added"===t.state&&t.set(this.key,e.added.filter((function(e){return e[this.key]===t.get(this.key)}))[0][this.key]),t[i].markCommit();this._events.triggerHandler({type:"save",table:this})}),this)),e.fail(h((function(e){this.rejectChanges(),this._events.triggerHandler({type:"reject",table:this,error:e})}),this)),this._isDirty=!1}},rejectChanges:function(){for(var e=this.toArray(),t=0;t<e.length;t++)e[t].revert(!0);this._isDirty=!1,this._events.triggerHandler({type:"reject",table:this})},insert:function(e){var i=new t.Model(e);i._isDirty=this._isDirty=!0,this.rows.push(i),this._events.triggerHandler({type:"insert",model:i,table:this})},update:function(e){var t;this.key||u("TableModel - update : Primary key should be assigned to TableModel.key");var i,s=e,a=this.key,o=s[a];for(t in i=this.rows.array.filter((function(e){return e.get(a)===o})),i=i[0],s)i.set(t,s[t]);this._isDirty=!0,this._events.triggerHandler({type:"update",model:i,table:this})},remove:function(e){var t,i,a,o;for(this.key||u("TableModel - update : Primary key should be assigned to TableModel.key"),t=this.key,i=-1,e&&"object"==typeof e&&(e=e[t]!==s?e[t]:e.get(t)),o=0;o<this.rows.length();o++)if(this.rows.array[o].get(t)===e){i=o;break}i>-1&&((a=this.rows.removeAt(i)).markDelete(),this._deleted.push({model:a,position:i}),this._isDirty=!0,this._events.triggerHandler({type:"remove",model:a,table:this}))},isDirty:function(){return this._isDirty},getChanges:function(){for(var e={added:[],changed:[]},i=this.toArray(),s=0;s<i.length;s++)e[i[s].state]&&e[i[s].state].push(i[s].json);return e.deleted=t.select(this._deleted,["model"]),e},toArray:function(){return this.rows.toArray()},setDirty:function(e,t){this._isDirty!==!!e&&(this._isDirty=!!e,this._events.triggerHandler({type:"dirty",table:this,model:t}))},get:function(e){return this.rows.array[e]},length:function(){return this.rows.array.length},bindTo:function(t){var i,s,a=o,l=e(t.html()),n=this.toArray();for(e.inArray(t.prop("tagName").toLowerCase(),["table","tbody"])&&(a=r),a.insertBefore(t),t.detach().empty(),s=0;s<n.length;s++)i=l.clone(),n[s].bindTo(i),t.append(i);t.insertAfter(a),a.remove()}},o=i?e(document.createElement("div")):{},r=i?e(document.createElement("tr")):{},t.Model=function(i,s,a){"string"==typeof s&&(a=s,s=null),this.$id=E("m"),this.json=i,this.table=s instanceof t.TableModel?s:null,this.name=a||this.table&&this.table.name,this.dataManager=s instanceof t.DataManager?s:s.dataManagar,this.actual={},this._events=e({}),this.isDirty=!1,this.state="added",this._props=[],this._computeEls={},this._fields={},this._attrEls={},this._updates={},this.computed={}},t.Model.prototype={computes:function(t){e.extend(this.computed,t)},on:function(e,t){this._events.on(e,t)},off:function(e,t){this._events.off(e,t)},set:function(e,t){var i,a,o=this.json,r=e;for(e=e.split("."),a=0;a<e.length-1;a++)o=o[(e=e[0])[0]];this.isDirty=!0,this.changeState("changed",{from:"set"}),i=o[e],this.actual[e]!==s||e in this.actual||(this.actual[e]=t),o[e]=t,this._updateValues(e,t),this._events.triggerHandler({type:r,current:t,previous:i,model:this})},get:function(e){return t.pvt.getObject(e,this.json)},revert:function(e){for(var t in this.actual)this.json[t]=this.actual[t];this.isDirty=!1,e?this.state="unchanged":this.changeState("unchanged",{from:"revert"})},save:function(i,s){return i=i||this.dataManagar,s=s||i.dataSource.key,i||u("ej.Model - DataManager is required to commit the changes"),"added"===this.state?i.insert(this.json,this.name).done(t.proxy((function(t){e.extend(this.json,t.record)}),this)):"changed"===this.state?i.update(s,this.json,this.name):"deleted"===this.state?i.remove(s,this.json,this.name):void 0},markCommit:function(){this.isDirty=!1,this.changeState("unchanged",{from:"commit"})},markDelete:function(){this.changeState("deleted",{from:"delete"})},changeState:function(t,i){if(this.state!==t){if("added"===this.state){if("deleted"!==t)return;t="unchanged"}var s=t;i=i||{},this.state=t,this._events.triggerHandler(e.extend({type:"stateChange",current:t,previous:s,model:this},i))}},properties:function(){if(this._props.length)return this._props;for(var e in this.json)this._props.push(e),this._updates[e]={read:[],input:[]};return this._props},bindTo:function(t){var i,s,a,o,r=e(t),l=r.find("[ej-observe], [ej-computed], [ej-prop]"),n=l.length;for(r.data("ejModel",this),a={fields:[],props:[],computes:[]},o=0;o<n;o++)(s=(i=l.eq(o)).attr("ej-prop"))&&this._processAttrib(s,i,a),(s=i.attr("ej-observe"))&&-1!==this._props.indexOf(s)?this._processField(i,s,a):(s=i.attr("ej-computed"))&&this._processComputed(s,i,a);r.data("ejModelBinding"+this.$id,a)},unbind:function(t){var i,s,a,o,r,l,n,d={props:this._attrEls,computes:this._computeEls},h=!1;for(s in t&&(d=e(t).removeData("ejModel").data("ejModelBinding"+this.$id)||d,h=!0),this.computed)i=d.computes[s],s=this.computed[s],i&&s.deps&&(this.off(s.deps.join(" "),i.handle),h&&delete this._computeEls[s]);for(s in h||(this._computeEls={}),d.props)(i=d.props[s])&&(this.off(i.deps.join(" "),i.handle),delete d.props[s],h&&delete this._attrEls[s]);if(h||(this._attrEls={}),d.fields&&d.fields.length)for(a=d.fields.length,n=0;n<a;n++)o=d.fields[n],e(o).off("change",null,this._changeHandler),l=-1!==this.formElements.indexOf(o.tagName.toLowerCase())?"input":"read",-1!==(r=this._updates[l].indexOf(o))&&this._updates[l].splice(r,1)},_processComputed:function(e,t,i){if(e){var s,a,o=x(e),r=-1!==this.formElements.indexOf(t[0].tagName.toLowerCase())?"val":"html";this.computed[e]&&this.computed[o]||(this.computed[o]={value:new Function("var e = this; return "+e),deps:this._generateDeps(e)},e=o),(s=this.computed[e]).get||(s.get=function(){s.value.call(this.json)}),a=s.deps,s=s.value,this._updateDeps(a),this._updateElement(t,r,s),s={el:t,handle:h(this._computeHandle,this,{value:e,type:r})},this._computeEls[e]=s,i.computes[e]=s,this.on(a.join(" "),s.handle)}},_computeHandle:function(e){var t=this._computeEls[e.value];t&&this.computed[e.value]&&this._updateElement(t.el,e.type,this.computed[e.value].value)},_updateElement:function(t,i,s){t[i](s.call(e.extend({},this.json,this.computed)))},_updateDeps:function(e){for(var i=0;i<e.length;i++)!(e[i]in this.json)&&e[i]in this.computed&&t.merge(e,this.computed[e[i]].deps)},_generateDeps:function(e){for(var t,i=e.replace(/(^e\.)|( e\.)/g,"#%^*##ej.#").split("#%^*#"),s=[],a=0;a<i.length;a++)i[a].startsWith("#ej.#")&&(t=i[a].replace("#ej.#","").split(" ")[0])&&-1!==this._props.indexOf(t)&&s.push(t);return s},_processAttrib:function(e,t,i){var s,a,o,r,l={};for(e=e.replace(/^ +| +$/g,"").split(";"),o=0;o<e.length;o++)e[o]=e[o].split(":"),e[o].length<2||(l[s=e[o][0].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,"")]=e[o][1].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,""));for(s in r=[],e=l)r.push(e[s]);this._updateDeps(r),this._updateProps(t,e),l=E("emak"),a={el:t,handle:h(this._attrHandle,this,l),value:e,deps:r},t.prop("ejmodelattrkey",l),i.props[l]=a,this._attrEls[l]=a,this.on(r.join(" "),a.handle)},_attrHandle:function(e){var t=this._attrEls[e];t&&this._updateProps(t.el,t.value)},_updateProps:function(t,i){var s,a=this.json,o=this.computed;for(var r in i)(s=i[r])in a?s=a[s]:s in o&&(s=o[s])&&(s=s.value.call(e.extend({},this.json,o))),c(s)||t.prop(r,s)},_updateValues:function(e,t){var i=this._updates[e];i&&(i.read||i.input)&&(this._ensureItems(i.read,"html",t),this._ensureItems(i.input,"val",t))},_ensureItems:function(t,i,s){if(t)for(var a=t.length-1;a>-1;a--)t[a].offsetParent?e(t[a])[i](s):t.splice(a,1)},_changeHandler:function(t){t.data.self.set(t.data.prop,e(this).val())},_processField:function(e,t,i){var s={self:this,prop:t},a=this.get(t);return i.fields.push(e[0]),-1===this.formElements.indexOf(e[0].tagName.toLowerCase())?(e.html(a),this._updates[t].read.push(e[0])):(e.val(a).off("change",null,this._changeHandler).on("change",null,s,this._changeHandler),this._updates[t].input.push(e[0]))},formElements:["input","select","textarea"]};var v=/[^\w]+/g,x=function(e){return e.replace(v,"_")},y=function(e){this.setDirty(!0,e.model)};if(t.Predicate=function(e,i,s,a,o){if(!(this instanceof t.Predicate))return new t.Predicate(e,i,s,a,o);if(this.ignoreAccent=!1,"string"==typeof e){var r="";-1!=i.toLowerCase().indexOf(" any")?(i=i.replace(" any",""),r="any"):-1!=i.toLowerCase().indexOf(" all")&&(i=i.replace(" all",""),r="all"),this.field=e,this.operator=i,this.value=s,this.ignoreCase=a,this.ignoreAccent=o,this.isComplex=!1,this.anyCondition=r,this._comparer=t.data.fnOperators.processOperator(""!=r?r:this.operator)}else(e instanceof t.Predicate&&s instanceof t.Predicate||s instanceof Array)&&(this.isComplex=!0,this.condition=i.toLowerCase(),this.predicates=[e],s instanceof Array?[].push.apply(this.predicates,s):this.predicates.push(s));return this},t.Predicate.and=function(){return l._combinePredicates([].slice.call(arguments,0),"and")},t.Predicate.or=function(){return l._combinePredicates([].slice.call(arguments,0),"or")},t.Predicate.fromJSON=function(e){var t,i,s;if(O(e,Array)){for(t=[],i=0,s=e.length;i<s;i++)t.push(l._fromJSON(e[i]));return t}return l._fromJSON(e)},l={_combinePredicates:function(e,i){if(!e.length)return s;if(1===e.length){if(!O(e[0],Array))return e[0];e=e[0]}return new t.Predicate(e[0],i,e.slice(1))},_combine:function(e,i,s,a,o,r,l){return i instanceof t.Predicate?t.Predicate[o](e,i):"string"==typeof i?t.Predicate[o](e,new t.Predicate(i,s,a,r,l)):u("Predicate - "+o+" : invalid arguments")},_fromJSON:function(e){var i;if(!e||O(e,t.Predicate))return e;var s=e.predicates||[],a=s.length,o=[];for(i=0;i<a;i++)o.push(l._fromJSON(s[i]));return e.isComplex?new t.Predicate(o[0],e.condition,o.slice(1)):new t.Predicate(e.field,e.operator,t.parseJSON({val:e.value}).val,e.ignoreCase,e.ignoreAccent)}},t.Predicate.prototype={and:function(e,t,i,s,a){return l._combine(this,e,t,i,"and",s,a)},or:function(e,t,i,s,a){return l._combine(this,e,t,i,"or",s,a)},validate:function(e){var i,s,a,o=this.predicates;if(!this.isComplex)return this._comparer.call(this,t.pvt.getObject(this.field,e),this.value,this.ignoreCase,this.ignoreAccent);for(i="and"===this.condition,a=0;a<o.length;a++)if(s=o[a].validate(e),i){if(!s)return!1}else if(s)return!0;return i},toJSON:function(){var e,t,i;if(this.isComplex)for(e=[],t=this.predicates,i=0;i<t.length;i++)e.push(t[i].toJSON());return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:e,anyCondition:this.anyCondition}}},t.dataUtil={swap:function(e,t,i){if(t!=i){var s=e[t];e[t]=e[i],e[i]=s}},mergeSort:function(e,i,s){return s&&"string"!=typeof s||(s=t.pvt.fnSort(s,!0)),"function"==typeof i&&(s=i,i=null),t.pvt.mergeSort(e,i,s)},max:function(e,i,s){return"function"==typeof i&&(s=i,i=null),t.pvt.getItemFromComparer(e,i,s||t.pvt.fnDescending)},min:function(e,i,s){return"function"==typeof i&&(s=i,i=null),t.pvt.getItemFromComparer(e,i,s||t.pvt.fnAscending)},distinct:function(e,t,i){for(var s,a=[],o={},r=0;r<e.length;r++)(s=D(e,t,r))in o||(a.push(i?e[r]:s),o[s]=1);return a},sum:function(e,t){for(var i,s=0,a="number"!=typeof D(e,t,0),o=0;o<e.length;o++)i=D(e,t,o),isNaN(i)||null===i||(a&&(i=+i),s+=i);return s},avg:function(e,i){return t.sum(e,i)/e.length},select:function(e,i){for(var s=[],a=0;a<e.length;a++)s.push(t.pvt.extractFields(e[a],i));return s},group:function(i,s,a,o,r,l){var n,d,h,c,u,p,m,g,_,f;if(r=r||1,i.GROUPGUID==t.pvt.consts.GROUPGUID){for(_=0;_<i.length;_++)t.isNullOrUndefined(l)?(i[_].items=t.group(i[_].items,s,a,o,i.level+1),i[_].count=i[_].items.length):(n=-1,f=e.grep(l,(function(e){return e.key==i[_].key})),n=l.indexOf(f[0]),i[_].items=t.group(i[_].items,s,a,o,i.level+1,l[n].items),i[_].count=l[n].count);return i.childLevels+=1,i}for(d={},(h=[]).GROUPGUID=t.pvt.consts.GROUPGUID,h.level=r,h.childLevels=0,h.records=i,p=0;p<i.length;p++)c=D(i,s,p),t.isNullOrUndefined(o)||(c=o(c,s)),d[c]||(d[c]={key:c,count:0,items:[],aggregates:{},field:s},h.push(d[c]),t.isNullOrUndefined(l)||(u=e.grep(l,(function(e){return e.key==d[c].key})),d[c].count=u[0].count)),d[c].count=t.isNullOrUndefined(l)?d[c].count+=1:d[c].count,d[c].items.push(i[p]);if(a&&a.length)for(p=0;p<h.length;p++){for(m={},_=0;_<a.length;_++)g=t.aggregates[a[_].type],t.isNullOrUndefined(l)?g&&(m[a[_].field+" - "+a[_].type]=g(h[p].items,a[_].field)):(f=e.grep(l,(function(e){return e.key==h[p].key})),g&&(m[a[_].field+" - "+a[_].type]=g(f[0].items,a[_].field)));h[p].aggregates=m}return h},parseTable:function(i,s,a){var o,r,l,n,d,h,c,u=i.rows,p=[],m=[];if(!u.length)return[];switch(a=a||0,(s||"").toLowerCase()){case t.headerOption.tHead:o=i.tHead.rows[a];break;case t.headerOption.row:default:o=i.rows[a]}for(l=o.cells,r=0;r<l.length;r++)p.push(e.trim(l[r].innerHTML));for(r=a+1;r<u.length;r++){for(n={},d=u[r].cells,h=0;h<d.length;h++)c=d[h].innerHTML,n[p[h]]="string"==typeof c&&e.isNumeric(c)?Number(c):c;m.push(n)}return m}},t.headerOption={tHead:"thead",row:"row"},t.aggregates={sum:function(e,i){return t.sum(e,i)},average:function(e,i){return t.avg(e,i)},minimum:function(e,i){return t.getObject(i,t.min(e,i))},maximum:function(e,i){return t.getObject(i,t.max(e,i))},truecount:function(e,i){var s=t.Predicate(i,"equal",!0);return t.DataManager(e).executeLocal(t.Query().where(s)).length},falsecount:function(e,i){var s=t.Predicate(i,"equal",!1);return t.DataManager(e).executeLocal(t.Query().where(s)).length},count:function(e){return e.length}},t.pvt={filterQueries:_,mergeSort:function(e,i,s){if(e.length<=1)return e;var a=parseInt(e.length/2,10),o=e.slice(0,a),r=e.slice(a);return o=t.pvt.mergeSort(o,i,s),r=t.pvt.mergeSort(r,i,s),t.pvt.merge(o,r,i,s)},getItemFromComparer:function(e,i,s){var a,o,r,l=0,n="string"==typeof D(e,i,0);if(e.length)for(;t.isNullOrUndefined(a)&&l<e.length;)a=D(e,i,l),r=e[l++];for(;l<e.length;l++)o=D(e,i,l),t.isNullOrUndefined(o)||(n&&(a=+a,o=+o),s(a,o)>0&&(a=o,r=e[l]));return r},quickSelect:function(e,i,s,a,o,r){if(s==a)return e[s];var l=t.pvt.partition(e,i,s,a,r),n=l-s+1;return n==o?e[l]:o<n?t.pvt.quickSelect(e,i,s,l-1,o,r):t.pvt.quickSelect(e,i,l+1,a,o-n,r)},extractFields:function(e,i){var s,a={};if(1==i.length)return t.pvt.getObject(i[0],e);for(s=0;s<i.length;s++)a[i[s].replace(".",t.pvt.consts.complexPropertyMerge)]=t.pvt.getObject(i[s],e);return a},partition:function(e,i,s,a,o){var r,l=parseInt((s+a)/2,10),n=D(e,i,l);for(t.swap(e,l,a),l=s,r=s;r<a;r++)o(D(e,i,r),n)&&(t.swap(e,r,l),l++);return t.swap(e,l,a),l},fnSort:function(e){return(e=e?e.toLowerCase():t.sortOrder.Ascending)==t.sortOrder.Ascending?t.pvt.fnAscending:t.pvt.fnDescending},fnGetComparer:function(e,i){return function(s,a){return i(t.pvt.getObject(e,s),t.pvt.getObject(e,a))}},fnAscending:function(e,i){return t.isNullOrUndefined(i)&&t.isNullOrUndefined(e)||null===i||i===s?-1:"string"==typeof e?e.localeCompare(i):null===e||e===s?1:e-i},fnDescending:function(e,i){return t.isNullOrUndefined(i)&&t.isNullOrUndefined(e)?-1:null===i||i===s?1:"string"==typeof e?-1*e.localeCompare(i):null===e||e===s?-1:i-e},merge:function(e,t,i,s){for(var a,o=[];e.length>0||t.length>0;)a=e.length>0&&t.length>0?s?s(D(e,i,0),D(t,i,0))<=0?e:t:e[0][i]<e[0][i]?e:t:e.length>0?e:t,o.push(a.shift());return o},getObject:function(e,t){var i,a,o;if(!t)return s;if(!e)return t;if(-1===e.indexOf("."))return t[e];for(i=t,a=e.split("."),o=0;o<a.length&&null!=i;o++)i=i[a[o]];return i},createObject:function(e,t,i){for(var a=e.split("."),o=i||window,r=o,l=0;l<a.length;l++)l+1==a.length?r[a[l]]=t===s?{}:t:null==r[a[l]]&&(r[a[l]]={}),r=r[a[l]];return o},ignoreDiacritics:function(e){return"string"!=typeof e?e:e.split("").map((function(e){return e in t.data.diacritics?t.data.diacritics[e]:e})).join("")},getFieldList:function(e,i,a){if(a===s&&(a=""),i===s||null===i)return t.pvt.getFieldList(e,[],a);for(var o in e)"object"!=typeof e[o]||e[o]instanceof Array?i.push(a+o):t.pvt.getFieldList(e[o],i,a+o+".");return i}},t.FilterOperators={lessThan:"lessthan",greaterThan:"greaterthan",lessThanOrEqual:"lessthanorequal",greaterThanOrEqual:"greaterthanorequal",equal:"equal",contains:"contains",startsWith:"startswith",endsWith:"endswith",notEqual:"notequal"},t.data={},t.data.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},t.data.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne ",in:" eq ",notin:" ne "},t.data.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof",notcontains:"substringof"},t.data.diacritics={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"},t.data.fnOperators={equal:function(e,i,s,a){return a&&(e=t.pvt.ignoreDiacritics(e),i=t.pvt.ignoreDiacritics(i)),s?j(e)==j(i):e==i},notequal:function(e,i,s,a){return a&&(e=t.pvt.ignoreDiacritics(e),i=t.pvt.ignoreDiacritics(i)),!t.data.fnOperators.equal(e,i,s)},notin:function(e,i,s){for(var a=0;a<i.length;a++)if(0==t.data.fnOperators.notequal(e,i[a],s))return!1;return!0},lessthan:function(e,t,i){return i?j(e)<j(t):e<t},greaterthan:function(e,t,i){return i?j(e)>j(t):e>t},lessthanorequal:function(e,t,i){return i?j(e)<=j(t):e<=t},greaterthanorequal:function(e,t,i){return i?j(e)>=j(t):e>=t},contains:function(e,i,s,a){return a&&(e=t.pvt.ignoreDiacritics(e),i=t.pvt.ignoreDiacritics(i)),s?!c(e)&&!c(i)&&-1!=j(e).indexOf(j(i)):!c(e)&&!c(i)&&-1!=e.toString().indexOf(i)},notcontains:function(e,i,s,a){return a&&(e=t.pvt.ignoreDiacritics(e),i=t.pvt.ignoreDiacritics(i)),!t.data.fnOperators.contains(e,i,s)},notnull:function(e){return null!==e},isnull:function(e){return null===e},startswith:function(e,i,s,a){return a&&(e=t.pvt.ignoreDiacritics(e),i=t.pvt.ignoreDiacritics(i)),s?e&&i&&j(e).startsWith(j(i)):e&&i&&e.startsWith(i)},endswith:function(e,i,s,a){return a&&(e=t.pvt.ignoreDiacritics(e),i=t.pvt.ignoreDiacritics(i)),s?e&&i&&j(e).endsWith(j(i)):e&&i&&e.endsWith(i)},all:function(e,i,s){for(var a=0;a<i.length;a++)if(0==t.data.fnOperators[this.operator](e,i[a],s))return!1;return!0},any:function(e,i,s){for(var a=0;a<i.length;a++)if(1==t.data.fnOperators[this.operator](e,i[a],s))return!0;return!1},processSymbols:function(e){var i,s=t.data.operatorSymbols[e];return s&&(i=t.data.fnOperators[s])?i:u("Query - Process Operator : Invalid operator")},processOperator:function(e){var i=t.data.fnOperators[e];return i||t.data.fnOperators.processSymbols(e)}},t.data.fnOperators.in=function(e,i,s){for(var a=0;a<i.length;a++)if(1==t.data.fnOperators.equal(e,i[a],s))return!0;return!1},t.NotifierArray=function(i){return O(this,t.NotifierArray)?(this.array=i,this._events=e({}),this._isDirty=!1,this):new t.NotifierArray(i)},t.NotifierArray.prototype={on:function(e,t){this._events.on(e,t)},off:function(e,t){this._events.off(e,t)},push:function(e){var t;return t=O(e,Array)?[].push.apply(this.array,e):this.array.push(e),this._raise("add",{item:e,index:this.length()-1}),t},pop:function(){var e=this.array.pop();return this._raise("remove",{item:e,index:this.length()-1}),e},addAt:function(e,t){return this.array.splice(e,0,t),this._raise("add",{item:t,index:e}),t},removeAt:function(e){var t=this.array.splice(e,1)[0];return this._raise("remove",{item:t,index:e}),t},remove:function(e){var t=this.array.indexOf(e);return t>-1&&(this.array.splice(t,1),this._raise("remove",{item:e,index:t})),t},length:function(){return this.array.length},_raise:function(t,i){this._events.triggerHandler(e.extend({type:t},i)),this._events.triggerHandler({type:"all",name:t,args:i})},toArray:function(){return this.array}},e.extend(t,t.dataUtil),Array.prototype.forEach=Array.prototype.forEach||function(e,t){for(var i=0,s=this.length;i<s;++i)e.call(t,this[i],i,this)},Array.prototype.indexOf=Array.prototype.indexOf||function(e){var t,i=this.length;if(0===i)return-1;for(t=0;t<i;t++)if(t in this&&this[t]===e)return t;return-1},Array.prototype.filter=Array.prototype.filter||function(e){var t,i,s,a;if("function"!=typeof e)throw new TypeError;for(t=[],i=arguments[1]||this,s=0;s<this.length;s++)a=this[s],e.call(i,a,s,this)&&t.push(a);return t},String.prototype.endsWith=String.prototype.endsWith||function(e){return this.slice(-e.length)===e},String.prototype.startsWith=String.prototype.startsWith||function(e){return this.slice(0,e.length)===e},t.support||(t.support={}),t.support.stableSort=function(){for(var e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16].sort((function(){return 0})),t=0;t<17;t++)if(t!==e[t])return!1;return!0}(),t.support.cors=e.support.cors,!e.support.cors&&window.XDomainRequest){var w=/^https?:\/\//i,S=/^get|post$/i,C=new RegExp("^"+location.protocol,"i"),T=/\/xml/i;e.ajaxTransport("text html xml json",(function(e,t){if(e.crossDomain&&e.async&&S.test(e.type)&&w.test(t.url)&&C.test(t.url)){var i=null,a=(t.dataType||"").toLowerCase();return{send:function(o,r){i=new XDomainRequest,/^\d+$/.test(t.timeout)&&(i.timeout=t.timeout),i.ontimeout=function(){r(500,"timeout")},i.onload=function(){var e,t="Content-Length: "+i.responseText.length+"\r\nContent-Type: "+i.contentType,o={code:200,message:"success"},l={text:i.responseText};try{if("json"===a)try{l.json=JSON.parse(i.responseText)}catch(h){o.code=500,o.message="parseerror"}else if("xml"===a||"text"!==a&&T.test(i.contentType)){(e=new ActiveXObject("Microsoft.XMLDOM")).async=!1;try{e.loadXML(i.responseText)}catch(h){e=s}if(!e||!e.documentElement||e.getElementsByTagName("parsererror").length)throw o.code=500,o.message="parseerror","Invalid XML: "+i.responseText;l.xml=e}}catch(j){throw j}finally{r(o.code,o.message,l,t)}},i.onerror=function(){r(500,"error",{text:i.responseText})},-1!=navigator.userAgent.indexOf("MSIE 9.0")&&(i.onprogress=function(){}),i.open(e.type,e.url),i.send(t.data)},abort:function(){i&&i.abort()}}}}))}e.support.cors=!0,t.sortOrder={Ascending:"ascending",Descending:"descending"},t.pvt.consts={GROUPGUID:"{271bbba0-1ee7}",complexPropertyMerge:"_"},n=function(e,t){t&&(e=h(e,t)),(window.setImmediate||window.setTimeout)(e,0)},t.support.enableLocalizedSort=!1;var L=function(e,i,s,a){return t.support.stableSort?t.support.enableLocalizedSort||"string"!=typeof t.pvt.getObject(i,e[0]||{})||s!==t.pvt.fnAscending&&s!==t.pvt.fnDescending||1!==a.filter((function(e){return"onSortBy"===e.fn})).length?e.sort(t.pvt.fnGetComparer(i,s)):P(e,i,s===t.pvt.fnDescending):t.mergeSort(e,i,s)},k=function(i,s){for(var a=e.grep(s,(function(e){return"onGroup"==e.fn})),o=0;o<a.length;o++)if(t.getObject("fieldName",a[o].e)==i)return t.getObject("fn",a[o].e)},P=function(e,i,s){var a=Object.prototype.toString;Object.prototype.toString=-1===i.indexOf(".")?function(){return this[i]}:function(){return t.pvt.getObject(i,this)},e=e.sort(),Object.prototype.toString=a,s&&e.reverse()},j=function(e){return e?e.toLowerCase?e.toLowerCase():e.toString().toLowerCase():0===e||!1===e?e.toString():""},D=function(e,i,s){return i?t.pvt.getObject(i,e[s]):e[s]},A=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&1===e.nodeType&&"object"==typeof e&&"string"==typeof e.nodeName},O=function(e,t){return e instanceof t},I=function(e,i,s,a){return function(o){return"object"==typeof o&&(a=o,o=null),new t.TableModel(o||e,i,s,a)}},R=function(t){return function(i,s){var a,o,r,l,n;for((s=s||window.ko)||u("Knockout is undefined"),o=[],n=0;n<t.length;n++){for(r in a={},t[n])r.startsWith("_")||(a[r]=s.observable(t[n][r]));for(r in i)l=i[r],e.isPlainObject(l)?(l.owner||(l.owner=a),l=s.computed(l)):l=s.computed(l,a),a[r]=l;o.push(a)}return s.observableArray(o)}},M=0,E=function(e){return e+(M+=1)};t.getGuid=function(e){var t,i="0123456789abcdef";return(e||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,(function(e,s){if("crypto"in window&&"getRandomValues"in crypto){var a=new Uint8Array(1);window.crypto.getRandomValues(a),t=a[0]%16|0}else t=16*Math.random()|0;return i[19===s?3&t|8:t]}))},d=function(e,t){return function(){var i=[].slice.call(arguments,0);return i.push(this),e.apply(t||this,i)}},h=function(e,t,i){return"bind"in e?i?e.bind(t,i):e.bind(t):function(){var s=i?[i]:[];return s.push.apply(s,arguments),e.apply(t||this,s)}},t.merge=function(e,t){e&&t&&Array.prototype.push.apply(e,t)},c=function(e){return e===s||null===e},u=function(e){try{throw new Error(e)}catch(t){throw t.message+"\n"+t.stack}}}(window.jQuery,window.Syncfusion,window.document),function(e,t){function i(){var e={},t=[],i={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var s in i)if(i.hasOwnProperty(s)&&(t=navigator.userAgent.match(i[s]))){e.name=t[1].toLowerCase(),e.version=t[2],!navigator.userAgent.match(/Trident\/7\./)||(e.name="msie");break}return e.isMSPointerEnabled="msie"==e.name&&e.version>9&&window.navigator.msPointerEnabled,e.pointerEnabled=window.navigator.pointerEnabled,e}function s(t,i,s){var a=s.type;s.type=i,e.event.dispatch.call(t,s),s.type=a}function a(e,t){if(t)for(prop in t)prop in e||(e[prop]=t[prop])}function o(e){return e.originalEvent.touches?e.originalEvent.touches[0]:c?e.originalEvent:e}function r(e){var i=c?e.originalEvent.pointerType:e.originalEvent.touches?"touch":"mouse",s=c&&u==t?4==i?"mouse":"touch":i;return e.pointerType=s,"mousedown"!=e.type&&"mouseup"!=e.type&&a(e,e.originalEvent),"touch"==s&&(e.button=t),e}function l(t,i,s){var a,o,r,l,n,d={};return s&&(n=s.originalEvent.touches?[s.originalEvent.touches[0],t.originalEvent.changedTouches[0]]:[s.originalEvent,t.originalEvent],i._isSwipe||i._isdrag?(a=e.event.special.pinch._getdistance(n[0],n[1]),o=i.time,l={pageX:i.stopPoint.pageX,pageY:i.stopPoint.pageY}):i._isPinch&&(a=e.event.special.pinch.distance(t),o=t.timeStamp-s.timeStamp,r=i._pinchDistance),i._isDelta&&(d._dTime=t.timeStamp-s.timeStamp,d._x=n[1].pageX-n[0].pageX,d._y=n[1].pageY-n[0].pageY)),{options:t,delta:{time:d._dTime||null,X:d._x||null,Y:d._y||null},distance:a,scale:i._isPinch?r:null,time:o,velocity:{XY:a/d._dTime||null,X:d._x/d._dTime||null,Y:d._y/d._dTime||null},currentPosition:{pageX:l?l.pageX:null,pageY:l?l.pageY:null}}}function n(){return(new Date).getTime()}function d(e){c&&e.css("-ms-touch-action","pinch-zoom").css("touch-action","pinch-zoom")}var h=e(document);e.each("touchstart touchmove touchend tap doubletap taphold swipe swipeleft swiperight pinch pinchin pinchout pinchstop scrollstart scrollstop".split(" "),(function(t,i){e.fn[i]=function(e){return e?this.on(i,e):this.trigger(i)},e.attrFn&&(e.attrFn[i]=!0)}));var c=i().isMSPointerEnabled,u=i().pointerEnabled,p="ontouchstart"in window,m="scroll",g="undefined"==typeof orientation,_=navigator.userAgent.match(/iPhone|iPad|iPod/i),f=c?u?"pointerdown":"MSPointerDown":p?"touchstart":"mousedown",b=c?u?"pointerup":"MSPointerUp":_||p?"touchend":"mouseup",v=c?u?"pointermove":"MSPointerMove":p?"touchmove":"mousemove",x=c?u?"pointercancel":"MSPointerCancel":p?"touchcancel":"mouseleave",y=c||!g?f:_?"touchstart":"touchstart mousedown",w=c||!g?b:"touchend mouseup",S=c||!g?v:"touchmove mousemove",C=i(),T="msie"==C.name&&"9.0"==C.version;e.event.special.ejtouchmove={setup:function(){function t(){}function i(e){if(e.originalEvent&&(!e.which||1===e.which)){e.target;var t=e.originalEvent;c&&(r={x:t.x,y:t.y}),n.on(v,o)}}function o(e){if(!e.which||1===e.which){e.target;var t=e.originalEvent;a(e,e.originalEvent),(!c||!r||Math.abs(r.x-t.x)>10||Math.abs(r.y-t.y)>10&&c)&&s(l,"ejtouchmove",e)}}var r,l=this,n=e(l);n.on(f,i),h.on(b,t),r={}}},e.event.special.swipeupdown={setup:function(){var i=e(this);d(i),i.on(f,(function(s){function a(e){if(e.preventDefault(),h){var t=o(e);r={time:(new Date).getTime(),coords:[t.pageX,t.pageY]},Math.abs(h.coords[1]-r.coords[1])>10&&e.preventDefault()}}if(s.originalEvent){var r,n=s,d=o(s),h={time:(new Date).getTime(),coords:[d.pageX,d.pageY],origin:e(s.target)};i.on(v,a).one(b,(function(s){if(i.off(v,a),h&&r&&r.time-h.time<1e3&&Math.abs(h.coords[1]-r.coords[1])>30&&Math.abs(h.coords[0]-r.coords[0])<75){var o=l(s,{time:r.time-h.time,_isSwipe:!0,_isDelta:!0,stopPoint:r},n);h.origin.trigger(e.extend(!0,{type:"swipeupdown"},o)).trigger(e.extend(!0,{type:h.coords[1]>r.coords[1]?"swipeup":"swipedown"},o))}h=r=t}))}}))}},e.event.special.scrollstart={isEnabled:!0,setup:function(){function t(e,t){s(o,(i=t)?"scrollstart":"scrollstop",e)}var i,a,o=this;e(o).on(m,(function(s){e.event.special.scrollstart.isEnabled&&(i||t(s,!0),clearTimeout(a),a=setTimeout((function(){t(s,!1)}),250))}))}},e.event.special.tap={doubleTapThreshold:500,tapholdThreshold:650,canDoubleTap:function(t){return n()-t.doubleTapStartTime<=e.event.special.tap.doubleTapThreshold},setup:function(){var t,i=this,a=e(i),o=a.data();d(a),o.isDoubleTapWait=!1,o.stopProcess=!1,o.preTouchend=null,o.preTouchstart=null,a.on(y,(function(l){function d(){clearTimeout(f),a.off(w,u),T&&h.off(w,u),h.off(w,d),a.off(x,d),a.off(S,c),a.off("dragstart",m)}function c(e){var t=10,i=e.originalEvent.changedTouches?e.originalEvent.changedTouches[0]:e.originalEvent,s=l.originalEvent.changedTouches?l.originalEvent.changedTouches[0]:l.originalEvent;i.pageX-s.pageX<t&&i.pageX-s.pageX>-t&&i.pageY-s.pageY<t&&i.pageY-s.pageY>-t||("mousemove"==e.type||"pointermove"==e.type&&"mouse"==e.originalEvent.pointerType||"MSPointerMove"==e.type&&4==e.originalEvent.pointerType?(clearTimeout(f),a.off(x,d),a.off(S,c)):d())}function u(a){var h,c;"touchend"==a.type&&(o.preTouchend=n()),d(),t!=a.target&&("mouseup"==a.type||l.type,1)&&(h=a.target,jQuery.contains(t,h)?p(a,t):jQuery.contains(h,t)||(c=e(t).parents().has(e(h)).first()[0],ej.isNullOrUndefined(c)||p(a,c))),g===a.currentTarget&&(s(i,"tap",e.extend(r(a),{time:n()-o.startTime})),o.isDoubleTapWait&&e.event.special.tap.canDoubleTap(o)?(o.isDoubleTapWait=!1,s(i,"doubletap",e.extend(r(a),{time:n()-o.doubleTapStartTime}))):(o.isDoubleTapWait&&(o.isDoubleTapWait=!1,o.doubleTapStartTime=o.startTime),e.event.special.tap.canDoubleTap(o)&&(o.isDoubleTapWait=!0)))}function p(e,t){e.target=t,e.toElement=t}function m(){d()}var g,_,f,b,v;if(l.originalEvent)if("mousedown"==l.type||l.type,t=l.target,(o=a.data()).startTime=n(),o.isDoubleTapWait||(o.doubleTapStartTime=o.startTime),"touchstart"==l.type&&(o.preTouchstart=o.startTime),o.stopProcess="mousedown"==l.type&&(o.startTime-o.preTouchend<300||o.startTime-o.preTouchstart<30),g=l.currentTarget,_=l.originalEvent,l.which&&1!==l.which||o.stopProcess)o.stopProcess&&(o.stopProcess=!1);else{for(v in a.on(w,u),h.on(w,d),T&&h.on(w,u),a.on(x,d),a.on(S,c),a.on("dragstart",m),b={},_)b[v]=_[v];f=setTimeout((function(){o.isDoubleTapWait&&(o.isDoubleTapWait=!1),s(i,"taphold",e.extend(r(l),{options:b,time:n()-o.startTime}))}),e.event.special.tap.tapholdThreshold)}}))}},e.event.special.swipe={scrollSupression:10,duration:1e3,horizontalDistance:30,verticalDistance:75,pointers:window.navigator.msPointerEnabled,startPoint:function(t){var i=o(t);return{time:(new Date).getTime(),Items:i,coords:[i.pageX,i.pageY],origin:e(t.target)}},stopPoint:function(e){var t=o(e);return{time:(new Date).getTime(),Items:t,coords:[t.pageX,t.pageY]}},handleSwipe:function(t,i,s,a){if((t.Items.pageY!=t.Items.clientY||i.Items.pageY!=i.Items.clientY)&&(e.event.special.swipe.horizontalDistance=130),i.time-t.time<e.event.special.swipe.duration&&Math.abs(t.coords[0]-i.coords[0])>e.event.special.swipe.horizontalDistance&&Math.abs(t.coords[1]-i.coords[1])<e.event.special.swipe.verticalDistance){var o=l(s,{time:i.time-t.time,_isSwipe:!0,_isDelta:!0,stopPoint:i},a);t.origin.trigger(e.extend(!0,{type:"swipe"},o)).trigger(e.extend(!0,{type:t.coords[0]>i.coords[0]?"swipeleft":"swiperight"},o))}},setup:function(){var i=e(this);d(i),i.on(f,(function(s){function a(t){r&&(o=e.event.special.swipe.stopPoint(t),Math.abs(r.coords[0]-o.coords[0])>e.event.special.swipe.scrollSupression&&t.preventDefault())}if(s.originalEvent){var o,r=e.event.special.swipe.startPoint(s),l=s;e(s.target).data("_dataTouchStart",{event:s,_now:(new Date).getTime()}),i.on(v,a).one(b,(function(s){i.off(v,a),r&&o&&e.event.special.swipe.handleSwipe(r,o,s,l),r=o=t}))}}))}},e.event.special.pinch={distance:function(t){return t.originalEvent.touches.length<2?null:e.event.special.pinch._getdistance(t.originalEvent.touches[0],t.originalEvent.touches[1])},_getdistance:function(e,t){return Math.sqrt((e.pageX-t.pageX)*(e.pageX-t.pageX)+(e.pageY-t.pageY)*(e.pageY-t.pageY))},setup:function(){var i=e(this);d(i),i.on(f,(function(s){var a;if(s.originalEvent&&(a=s,s.originalEvent.touches&&s.originalEvent.touches.length>=2)){var o,r,n=function(t){r=t,o=e.event.special.pinch.distance(t)||null,d&&o&&Math.abs(d-o)>h&&(e(t.target).trigger(e.extend(!0,{type:d>o?"pinchin":"pinchout"},l(t,{_isPinch:!0,_pinchDistance:c},a))),d=o)},d=e.event.special.pinch.distance(s),h=5,c=d,u=l(s,{_isPinch:!0,_pinchDistance:c},a);e(s.target).trigger(e.extend(!0,{type:"pinch"},u)),i.on(v,n).one(b,(function(){i.off(v,n),e(s.target).trigger(e.extend(!0,{type:"pinchstop"},l(r,{_isPinch:!0,_pinchDistance:o},a))),d=o=t}))}}))}},e.event.special.touchdrag={setup:function(){var i=e(this);d(i),i.on(f,(function(s){function a(t){n&&(r=o(t),e.event.special.pinch._getdistance(n,r)>5&&e(t.target).trigger(e.extend(!0,{type:"touchdrag"},l(t,{_isdrag:!0,stopPoint:r,_isDelta:!0},d))))}if(s.originalEvent){var r,n=o(s),d=s;e(s.target).data("_dataTouchStart",{event:s,_now:(new Date).getTime()}),i.on(v,a).one(b,(function(){i.off(v,a),n=r=t}))}}))}},e.each({scrollstop:"scrollstart",doubletap:"tap",taphold:"tap",swipeleft:"swipe",swiperight:"swipe",swipedown:"swipeupdown",swipeup:"swipeupdown",pinchin:"pinch",pinchout:"pinch",pinchstop:"pinch"},(function(t,i){e.event.special[t]={setup:function(){e(this).on(i,e.noop)}}}))}(jQuery),function(e,t,i){t.widget("ejDraggable","ej.Draggable",{element:null,model:null,validTags:["div","span","a"],defaults:{scope:"default",handle:null,dragArea:null,clone:!1,distance:1,dragOnTaphold:!1,cursorAt:{top:-1,left:-2},dragStart:null,drag:null,dragStop:null,create:null,destroy:null,autoScroll:!1,scrollSensitivity:20,scrollSpeed:20,helper:function(){return e('<div class="e-drag-helper" />').html("draggable").appendTo(document.body)}},_init:function(){this.handler=function(){},this.resizables={},this._wireEvents(),this._browser=t.browserInfo(),this._isIE8="msie"==this._browser.name&&"8.0"==this._browser.version,this._isIE9="msie"==this._browser.name&&"9.0"==this._browser.version,"msie"==this._browser.name&&this.element.addClass("e-pinch"),"edge"==this._browser.name&&this.element.css("touch-action","none")},_setModel:function(e){for(var t in e)switch(t){case"dragArea":this.model.dragArea=e[t];break;case"dragOnTaphold":this.model.dragOnTaphold=e[t];break;case"autoScroll":this.model.autoScroll=e[t]}},_destroy:function(){e(document).off(t.eventType.mouseUp,this._destroyHandler).off(t.eventType.mouseUp,this._dragStopHandler).off(t.eventType.mouseMove,this._dragStartHandler).off(t.eventType.mouseMove,this._dragHandler).off("mouseleave",this._dragMouseOutHandler).off("selectstart",!1),t.widgetBase.droppables[this.scope]=null},_initialize:function(i){var s,a;if(i.target&&i.target.nodeName&&e(i.target).closest("input[type='text'], input[type='checkbox'], textarea, select, option").length)return!0;s=i,i.preventDefault(),i=this._getCoordinate(i),this.target=e(s.currentTarget),this._initPosition={x:i.pageX,y:i.pageY},e(document).on(t.eventType.mouseMove,this._dragStartHandler).on(t.eventType.mouseUp,this._destroyHandler),this.model.clone||(a=this.element.offset(),this._relXposition=i.pageX-a.left,this._relYposition=i.pageY-a.top),e(document.documentElement).trigger(t.eventType.mouseDown,s)},_setDragArea:function(){var i,s,a,o,r,l,n,d=e(this.model.dragArea)[0];if(d){if(o=["left","right","bottom","top"],t.isNullOrUndefined(d.getBoundingClientRect)){for(i=e(this.model.dragArea).outerWidth(),s=e(this.model.dragArea).outerHeight(),n=0;n<o.length;n++)this["border-"+o[n]+"-width"]=0,this["padding-"+o[n]]=0;r=l=0}else{for(i=(a=d.getBoundingClientRect()).width?a.width:a.right-a.left,s=a.height?a.height:a.bottom-a.top,n=0;n<o.length;n++)this["border-"+o[n]+"-width"]=isNaN(parseFloat(e(e(this.model.dragArea)[0]).css("border-"+o[n]+"-width")))?0:parseFloat(e(e(this.model.dragArea)[0]).css("border-"+o[n]+"-width")),this["padding-"+o[n]]=isNaN(parseFloat(e(e(this.model.dragArea)[0]).css("padding-"+o[n])))?0:parseFloat(e(e(this.model.dragArea)[0]).css("padding-"+o[n]));r=e(this.model.dragArea).offset().top,l=e(this.model.dragArea).offset().left}this._left=t.isNullOrUndefined(e(this.model.dragArea).offset())?0+this["border-left-width"]+this["padding-left"]:l+this["border-left-width"]+this["padding-left"],this._top=t.isNullOrUndefined(e(this.model.dragArea).offset())?0+this["border-top-width"]+this["padding-top"]:r+this["border-top-width"]+this["padding-top"],this._right=l+i-[this["border-right-width"]+this["padding-right"]],this._bottom=r+s-[this["border-bottom-width"]+this["padding-bottom"]]}},_dragStart:function(s){var a,o,r,l,n,d;if("touchmove"==s.type||"mousemove"==s.type&&1==(s.buttons!==i?s.buttons:s.which)||this._isIE8||this._isIE9){a=s,s=this._getCoordinate(s),this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0},this.offset=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.position=this._getMousePosition(a);var h=this._initPosition.x-s.pageX,c=this._initPosition.y-s.pageY;if(Math.sqrt(h*h+c*c)>=this.model.distance){if(!(o=this.model.helper({sender:a,element:this.target}))||t.isNullOrUndefined(o))return;if(r=this.model.handle=this.helper=o,this.model.dragStart&&(l=null,"touchmove"==a.type?(n=a.originalEvent.changedTouches[0],l=document.elementFromPoint(n.clientX,n.clientY)):l=a.originalEvent.target||a.target,0==this.model.cursorAt.top&&0==this.model.cursorAt.left&&(l=this._checkTargetElement(s)||l),this._trigger("dragStart",{event:a,element:this.element,target:l,currentTarget:this._getCurrTarget(s)})))return this._destroy(),!1;this.model.dragArea?this._setDragArea():(this._left=this._top=this._right=this._bottom=0,this["border-top-width"]=this["border-left-width"]=0),!t.isNullOrUndefined(r)&&r.length>0&&(d=r.offsetParent().offset(),e(document).off(t.eventType.mouseMove,this._dragStartHandler).off(t.eventType.mouseUp,this._destroyHandler).on(t.eventType.mouseMove,this._dragHandler).on(t.eventType.mouseUp,this._dragStopHandler).on("mouseleave",this._dragMouseOutHandler).on("selectstart",!1),t.widgetBase.droppables[this.model.scope]={draggable:this.element,helper:r.css({position:"absolute",left:this.position.left-d.left,top:this.position.top-d.top}),destroy:this._destroyHandler})}}(this.model.autoScroll&&"touchmove"==s.type||"mousemove"==s.type&&1==(s.buttons!==i?s.buttons:s.which)||this._isIE8||this._isIE9)&&this._getScrollParent(a.target)},_drag:function(i){var s,a,o,r,l,n,d,h,c,u,p;i.preventDefault(),this.position=this._getMousePosition(i),this.position.top<0&&(this.position.top=0),e(document).height()<this.position.top&&(this.position.top=e(document).height()),e(document).width()<this.position.left&&(this.position.left=e(document).width()),u=t.widgetBase.droppables[this.model.scope].helper,this.model.drag&&(n=null,"touchmove"==i.type?(d=i.originalEvent.changedTouches[0],n=document.elementFromPoint(d.clientX,d.clientY)):n=i.originalEvent.target||i.target,0==this.model.cursorAt.top&&0==this.model.cursorAt.left&&(n=this._checkTargetElement(i)||n),h={event:i,element:this.target,target:n,currentTarget:this._getCurrTarget(i),position:{left:null,top:null}},this._trigger("drag",h)),c=this._checkTargetElement(i),t.isNullOrUndefined(c)?this._hoverTarget&&(i.target=i.toElement=this._hoverTarget,this._hoverTarget.object._out(i),this._hoverTarget=null):(i.target=i.toElement=c,c.object._over(i),this._hoverTarget=c),p=(u=t.widgetBase.droppables[this.model.scope].helper).offsetParent().offset(),o=t.isNullOrUndefined(i.pageX)||0===i.pageX&&"touchmove"==i.type?i.originalEvent.changedTouches[0].pageX:i.pageX,r=t.isNullOrUndefined(i.pageY)||0===i.pageY&&"touchmove"==i.type?i.originalEvent.changedTouches[0].pageY:i.pageY,this.model.dragArea?(this._pageX!=o&&(s=this._left>this.position.left?this._left:this._right<this.position.left+u.outerWidth(!0)?this._right-u.outerWidth(!0):this.position.left),this._pageY!=r&&(a=this._top>this.position.top?this._top:this._bottom<this.position.top+u.outerHeight(!0)?this._bottom-u.outerHeight(!0):this.position.top)):(s=this.position.left,a=this.position.top),(a<0||a-[p.top+this["border-top-width"]]<0)&&(a=[p.top+this["border-top-width"]]),(s<0||s-[p.left+this["border-left-width"]]<0)&&(s=[p.left+this["border-left-width"]]),s=h&&h.position&&h.position.left?h.position.left:s,a=h&&h.position&&h.position.top?h.position.top:a,u.css({left:h&&h.position&&h.position.left?s:s-[p.left+this["border-left-width"]],top:h&&h.position&&h.position.top?a:a-[p.top+this["border-top-width"]]}),this.position.left=s,this.position.top=a,this._pageX=o,this._pageY=r,this.model.autoScroll&&(l&&l!=document&&"HTML"!=l.tagName?(e(l).offset().top+l.clientHeight-r<this.model.scrollSensitivity?l.scrollTop=l.scrollTop+this.model.scrollSpeed:r-e(l).offset().top<this.model.scrollSensitivity&&(l.scrollTop=l.scrollTop-this.model.scrollSpeed),(e(l).offset().left+l.clientWidth-o<this.model.scrollSensitivity||o-e(l).offset().left<this.model.scrollSensitivity)&&(l.scrollLeft=l.scrollLeft+this.model.scrollSpeed)):(r-e(document).scrollTop()<this.model.scrollSensitivity?e(document).scrollTop(e(document).scrollTop()-this.model.scrollSpeed):e(window).height()-(r-e(document).scrollTop())<this.model.scrollSensitivity&&e(document).scrollTop(e(document).scrollTop()+this.model.scrollSpeed),o-e(document).scrollLeft()<this.model.scrollSensitivity?e(document).scrollLeft(e(document).scrollLeft()-this.model.scrollSpeed):e(window).width()-(o-e(document).scrollLeft())<this.model.scrollSensitivity&&e(document).scrollLeft(e(document).scrollLeft()+this.model.scrollSpeed)))},_dragStop:function(e){var t,i;("mouseup"==e.type||"touchend"==e.type)&&this._destroy(e),this.model.dragStop&&(t=null,"touchend"==e.type?0==this.model.cursorAt.top&&0==this.model.cursorAt.left?t=e.originalEvent.target||e.target:(i=e.originalEvent.changedTouches[0],t=document.elementFromPoint(i.clientX,i.clientY)):t=e.originalEvent.target||e.target,0==this.model.cursorAt.top&&0==this.model.cursorAt.left&&(t=this._checkTargetElement(e)||t),this._trigger("dragStop",{event:e,element:this.target,target:t,currentTarget:this._getCurrTarget(e)})),this._dragEnd(e)},_dragEnd:function(e){var i=this._checkTargetElement(e);t.isNullOrUndefined(i)||(e.target=e.toElement=i,i.object._drop(e,this.element))},_dragMouseEnter:function(t){e(document).off("mouseenter",this._dragMouseEnterHandler),this._isIE9?this._dragManualStop(t):this._isIE8?0==t.button&&this._dragManualStop(t):0==t.buttons&&this._dragManualStop(t)},_dragManualStop:function(e){null!=this.model.dragStop&&this._trigger("dragStop",{event:e,element:this.target,target:e.originalEvent.target||e.target,currentTarget:this._getCurrTarget(e)}),this._destroy(e)},_dragMouseOut:function(){e(document).on("mouseenter",this._dragMouseEnterHandler)},_checkTargetElement:function(e){var t,i;return"touchmove"==e.type||"touchstart"==e.type||"touchend"==e.type||"taphold"==e.type?(i=e.originalEvent.changedTouches[0],t=document.elementFromPoint(i.clientX,i.clientY)):t=e.target,this.helper&&this._contains(this.helper[0],t)?(this.helper.hide(),t=this._elementUnderCursor(e),this.helper.show(),this._withDropElement(t)):this._withDropElement(t)},_getCurrTarget:function(e){var i,s,a=e.originalEvent&&e.originalEvent.target||e.target;if(!t.isNullOrUndefined(a.style))return i=a.style.display,this.element.is(a)&&(a.style.display="none"),s=null,t.isNullOrUndefined(e.pageX)||t.isNullOrUndefined(e.pageY)||(s=document.elementFromPoint(e.pageX,e.pageY)),a.style.display=i,s},_withDropElement:function(i){if(i){var s=e(i).data("ejDroppable");if(t.isNullOrUndefined(s)&&(s=this._checkParentElement(e(i))),!t.isNullOrUndefined(s))return e.extend(i,{object:s})}},_checkParentElement:function(i){var s,a=e(i).closest(".e-droppable");if(a.length>0&&(s=e(a).data("ejDroppable"),!t.isNullOrUndefined(s)))return s},_elementUnderCursor:function(e){return"touchmove"==e.type||"touchstart"==e.type||"touchend"==e.type||"taphold"==e.type?document.elementFromPoint(e.originalEvent.changedTouches[0].clientX,e.originalEvent.changedTouches[0].clientY):document.elementFromPoint(e.clientX,e.clientY)},_contains:function(t,i){try{return e.contains(t,i)||t==i}catch(s){return!1}},_wireEvents:function(){1==t.isDevice()&&1==this.model.dragOnTaphold?this._on(this.element,"taphold",this._initialize):this._on(this.element,t.eventType.mouseDown,this._initialize),this._dragStartHandler=e.proxy(this._dragStart,this),this._destroyHandler=e.proxy(this._destroy,this),this._dragStopHandler=e.proxy(this._dragStop,this),this._dragHandler=e.proxy(this._drag,this),this._dragMouseEnterHandler=e.proxy(this._dragMouseEnter,this),this._dragMouseOutHandler=e.proxy(this._dragMouseOut,this)},_getMousePosition:function(e){e=this._getCoordinate(e);var t=this.model.clone?e.pageX:e.pageX-this._relXposition,i=this.model.clone?e.pageY:e.pageY-this._relYposition;return{left:t-[this.margins.left+this.model.cursorAt.left],top:i-[this.margins.top+this.model.cursorAt.top]}},_getCoordinate:function(e){var i=e;return("touchmove"==e.type||"touchstart"==e.type||"touchend"==e.type||"taphold"==e.type&&"msie"!=t.browserInfo().name)&&(i=e.originalEvent.changedTouches[0]),i},_getScrollParent:function(e){return e&&e.scrollHeight>e.clientHeight?e:e&&e.parentNode?this._getScrollParent(e.parentNode):void 0}})}(jQuery,Syncfusion),function(e,t){t.widget("ejDroppable","ej.Droppable",{element:null,model:null,validTags:["div","span","a"],dropElements:[],defaults:{accept:null,scope:"default",drop:null,over:null,out:null,create:null,destroy:null},_init:function(){this._mouseOver=!1,this.dropElements.push(this)},_setModel:function(){},_destroy:function(){e(this.element).off("mouseup",e.proxy(this._drop,this))},_over:function(e){this._mouseOver||(this._trigger("over",e),this._mouseOver=!0)},_out:function(e){this._mouseOver&&(this._trigger("out",e),this._mouseOver=!1)},_drop:function(t,i){var s,a=t.target,o=e(a).parents(".e-droppable");for(e(a).hasClass("e-droppable")&&o.push(a),s=0;s<this.dropElements.length;s++)e(o).is(e(this.dropElements[s].element))&&this.dropElements[s]._dropEvent.call(this.dropElements[s],t,i)},_dropEvent:function(i,s){var a,o=t.widgetBase.droppables[this.model.scope],r=!t.isNullOrUndefined(o.helper)&&o.helper.is(":visible");r&&"touchend"==i.type&&e(o.helper).hide(),a=this._isDropArea(i),r&&"touchend"==i.type&&e(o.helper).show(),o&&!t.isNullOrUndefined(this.model.drop)&&r&&a.canDrop&&this.model.drop(e.extend(i,{dropTarget:a.target,dragElement:s},!0),o)},_isDropArea:function(t){var i,s,a,o,r,l={canDrop:!0,target:e(t.target)};if("touchend"==t.type)for(i=t.originalEvent.changedTouches[0],s=document.elementFromPoint(i.clientX,i.clientY),l.canDrop=!1,a=e(s).parents(),o=0;o<this.element.length;o++){if(e(s).is(e(this.element[o])))l={canDrop:!0,target:e(s)};else for(r=0;r<a.length;r++)if(e(this.element[o]).is(e(a[r]))){l={canDrop:!0,target:e(s)};break}if(l.canDrop)break}return l}})}(jQuery,Syncfusion),function(e,t){t.widget("ejResizable","ej.resizable",{element:null,model:null,validTags:["div","span","a"],defaults:{scope:"default",handle:null,distance:1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,cursorAt:{top:1,left:1},resizeStart:null,resize:null,resizeStop:null,create:null,destroy:null,helper:function(){return e('<div class="e-resize-helper" />').html("resizable").appendTo(document.body)}},_init:function(){this.target=this.element,this._browser=t.browserInfo(),this._isIE8="msie"==this._browser.name&&"8.0"==this._browser.version,this._isIE9="msie"==this._browser.name&&"9.0"==this._browser.version,null!=this.handle?e(this.target).delegate(this.handle,t.eventType.mouseDown,e.proxy(this._mousedown,this)).delegate(this.handle,"resizestart",this._blockDefaultActions):e(this.target).on(t.eventType.mouseDown,e.proxy(this._mousedown,this)),this._resizeStartHandler=e.proxy(this._resizeStart,this),this._destroyHandler=e.proxy(this._destroy,this),this._resizeStopHandler=e.proxy(this._resizeStop,this),this._resizeHandler=e.proxy(this._resize,this),this._resizeMouseEnterHandler=e.proxy(this._resizeMouseEnter,this)},_mouseover:function(i){e(i.target).hasClass("e-resizable")?(e(i.target).css({cursor:"se-resize"}),e(this.target).on(t.eventType.mouseDown,e.proxy(this._mousedown,this))):(e(this.target).off(t.eventType.mouseDown),e(this.target).css({cursor:""}))},_blockDefaultActions:function(e){e.cancelBubble=!0,e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},_setModel:function(){},_mousedown:function(i){var s=i;return i=this._getCoordinate(i),this.target=e(s.currentTarget),this._initPosition={x:i.pageX,y:i.pageY},this._pageX=i.pageX,this._pageY=i.pageY,e(document).on(t.eventType.mouseMove,this._resizeStartHandler).on(t.eventType.mouseUp,this._destroyHandler),e(document.documentElement).trigger(t.eventType.mouseDown,s),!1},_resizeStart:function(i){var s;if(e(i.target).hasClass("e-resizable")){i=this._getCoordinate(i);var a,o,r=this._initPosition.x-i.pageX,l=this._initPosition.y-i.pageY;if(Math.sqrt(r*r+l*l)>=this.model.distance){if(null!=this.model.resizeStart&&this._trigger("resizeStart",{event:i,element:this.target}))return;s=this.model.helper({element:this.target}),a=i.pageX-this._pageX+s.outerWidth(),o=i.pageY-this._pageY+s.outerHeight(),this._pageX=i.pageX,this._pageY=i.pageY,this.getElementPosition(s),e(document).off(t.eventType.mouseMove,this._resizeStartHandler).off(t.eventType.mouseUp,this._destroyHandler).on(t.eventType.mouseMove,this._resizeHandler).on(t.eventType.mouseUp,this._resizeStopHandler).on("mouseenter",this._resizeMouseEnterHandler).on("selectstart",!1),t.widgetBase.resizables[this.scope]={resizable:this.target,helper:s.css({width:a,height:o}),destroy:this._destroyHandler}}}},_resize:function(e){var i,s,a,o;e=this._getCoordinate(e),this.getElementPosition(t.widgetBase.resizables[this.scope].helper),o=this.model.helper({element:this.target}),i=e.pageX-this._pageX+o.outerWidth(),s=e.pageY-this._pageY+o.outerHeight(),this._pageX=e.pageX,this._pageY=e.pageY,i<this.model.minWidth&&(a=this.model.minWidth-i,i=this.model.minWidth,this._pageX=e.pageX+a),s<this.model.minHeight&&(a=this.model.minHeight-s,s=this.model.minHeight,this._pageY=e.pageY+a),null!=this.model.maxHeight&&s>this.model.maxHeight&&(a=s-this.model.maxHeight,s=this.model.maxHeight,this._pageY=e.pageY-a),null!=this.model.maxWidth&&i>this.model.maxWidth&&(a=i-this.model.maxWidth,i=this.model.maxWidth,this._pageX=e.pageX-a),t.widgetBase.resizables[this.scope].helper.css({width:i,height:s}),this._trigger("resize",{element:this.target})},_resizeStop:function(e){null!=this.model.resizeStop&&this._trigger("resizeStop",{element:this.target}),("mouseup"==e.type||"touchend"==e.type)&&this._destroy(e)},_resizeMouseEnter:function(e){this._isIE9?this._resizeManualStop(e):this._isIE8?0==e.button&&this._resizeManualStop(e):0==e.buttons&&this._resizeManualStop(e)},_resizeManualStop:function(e){null!=this.model.resizeStop&&this._trigger("resizeStop",{element:this.target}),this._destroy(e)},_destroy:function(){e(document).off(t.eventType.mouseUp,this._destroyHandler).off(t.eventType.mouseUp,this._resizeStopHandler).off(t.eventType.mouseMove,this._resizeStartHandler).off(t.eventType.mouseMove,this._resizeHandler).off("mouseenter",this._resizeMouseEnterHandler).off("selectstart",!1),t.widgetBase.resizables[this.scope]=null},getElementPosition:function(e){return null!=e&&e.length>0?{left:e[0].offsetLeft,top:e[0].offsetTop}:null},_getCoordinate:function(e){var t=e;return("touchmove"==e.type||"touchstart"==e.type||"touchend"==e.type)&&(t=e.originalEvent.changedTouches[0]),t}})}(jQuery,Syncfusion),function(e,t,i,s){"use strict";t.widget("ejScrollBar","ej.ScrollBar",{defaults:{orientation:"horizontal",viewportSize:0,height:18,width:18,smallChange:57,largeChange:57,value:0,maximum:0,minimum:0,buttonSize:18,infiniteScrolling:!1},validTags:["div"],type:"transclude",dataTypes:{buttonSize:"number",smallChange:"number",largeChange:"number"},observables:["value"],value:t.util.valueFunction("value"),_enabled:!0,content:function(){return this._content&&this._content.length||(this._content="horizontal"===this.model.orientation?this.element.find(".e-hhandle"):this.element.find(".e-vhandle")),this._content},_init:function(){this.element.addClass("e-widget"),this._ensureScrollers(),this.content(),this._setInitialValues()},_setInitialValues:function(){this.model.orientation===t.ScrollBar.Orientation.Horizontal?this.element.addClass("e-hscrollbar"):this.element.addClass("e-vscrollbar"),(0!==this.value()||0!==this.model.minimum)&&(this.value()<this.model.minimum&&this.value(this.model.minimum),this.scroll(this.value(),"none"))},_ensureScrollers:function(){e.fn.jquery,this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this._scrollData||(this._scrollData="vertical"===this.model.orientation?this._createScroller("Height","Y","Top","e-v"):this._createScroller("Width","X","Left","e-h"))},_setModel:function(e){for(var t in e){if("value"!==t){this.refresh();break}this.value()&&this.scroll(this.value(),"none")}},_createScroller:function(t,i,s,a){var o,r={};return e.fn.jquery,r.dimension=t,r.xy=i,r.position=s,r.css=a,r.uDimension=t,this._calculateLayout(r),this._createLayout(r),o=this[r.main].find(".e-button"),this._off(o,"mousedown")._on(o,"mousedown",{d:r,step:1},this._spaceMouseDown),this._off(this[r.scroll],"mousedown")._on(this[r.scroll],"mousedown",{d:r},this._spaceMouseDown),this._off(this[r.handler],"mousedown touchstart")._on(this[r.handler],"mousedown touchstart",{d:r},this._mouseDown),r},_createLayout:function(i){var s,a="<div class='"+i.css+"{0}' style='"+i.dimension+":{1}px'>{2}</div>",o=e.fn.jquery,r={};r[i.dimension]=i.modelDim,s=t.buildTag("div."+i.css+"scroll e-box",String.format(a,"up e-chevron-up_01 e-icon e-box e-button",i.buttonSize)+String.format(a,"handlespace",i.handleSpace,String.format(a,"handle e-box e-pinch",i.handle))+String.format(a,"down e-chevron-down_01 e-icon e-box e-button",i.buttonSize),r),this.element.append(s),this.element.find(".e-vhandle").addClass("e-v-line e-icon"),this.element.find(".e-hhandle").addClass("e-h-line e-icon"),"1.7.1"===o||"1.7.2"===o?i.uDimension.toLowerCase():i.uDimension,this[i.handler]=this.element.find("."+i.handler),this[i.handler].css("transition","none"),this[i.scroll]=this[i.handler].parent(),this[i.main]=this[i.scroll].parent(),this[i.main].find(".e-button")["outer"+i.uDimension](i.buttonSize)},_calculateLayout:function(e){var i,a;e.scrollDim="scroll"+e.dimension,e.lPosition=e.position.toLowerCase(),e.clientXy="page"+e.xy,e.scrollVal="scroll"+e.position,e.scrollOneStepBy=this.model.smallChange,e.modelDim=this.model[e.dimension=e.dimension.toLowerCase()],e.handler=e.css+"handle",e.buttonSize=this.model.buttonSize,e.main=e.css+"scroll",e.scroll=e.css+"ScrollSpace",e.handleSpace=e.modelDim-2*e.buttonSize,e.scrollable=this.model.maximum-this.model.minimum,i=this.model.height,"horizontal"===this.model.orientation&&(i=this.model.width),e.handle=this.model.viewportSize/(this.model.maximum-this.model.minimum+this.model.viewportSize)*(i-2*this.model.buttonSize),a=!t.isNullOrUndefined(this.model.elementHeight)&&"string"==typeof this.model.elementHeight&&-1!=this.model.elementHeight.indexOf("%"),e.handle<20&&!a&&(e.handle=20),e.onePx=e.scrollable/(e.handleSpace-e.handle),e.fromScroller=!1,e.up=!0,e.vInterval=s},_updateLayout:function(e){this.element.height(this.model.height),this.element.width(this.model.width);var t=this.element.find("."+e.css+"handle"),i=this.element.find("."+e.css+"handlespace"),a="width"==e.dimension?t.css("left"):t.css("top"),o="width"==e.dimension?i.outerWidth():i.outerHeight();a!==s&&"auto"!==a&&(o>=e.handle+parseFloat(a)||(this.model.enableRTL?t.css("width"===e.dimension?"left":"top",parseFloat(o)-e.handle):t.css("width"===e.dimension?"left":"top",parseFloat(o)-e.handle>0?parseFloat(o)-e.handle:0))),this.element.find("."+e.css+"scroll").css(e.dimension,e.modelDim+"px").find(".e-button").css(e.dimension,this.model.buttonSize).end().find("."+e.css+"handlespace").css(e.dimension,e.handleSpace+"px").find("."+e.css+"handle").css(e.dimension,e.handle+"px")},refresh:function(){this._ensureScrollers(),this.value()&&this.scroll(this.value(),"none"),this._scrollData&&(this._calculateLayout(this._scrollData),this._updateLayout(this._scrollData))},scroll:function(e,i,s,a){var o,r,l=this._scrollData;if(!s)if(this.model.orientation===t.ScrollBar.Orientation.Horizontal){if(this._trigger("scroll",{source:i||"custom",scrollData:this._scrollData,scrollLeft:e,originalEvent:a}))return}else if(this._trigger("scroll",{source:i||"custom",scrollData:this._scrollData,scrollTop:e,originalEvent:a}))return;this._scrollData&&(!this._scrollData.enableRTL||"mousemove"!=a&&"touchmove"!=a||"msie"==t.browserInfo().name?!this._scrollData.enableRTL||"mousemove"!=a&&"touchmove"!=a||"msie"!=t.browserInfo().name?this.value(e):this.value(-1*e):this.value(-l.scrollable+e),this.content().length>0&&(this.model.orientation===t.ScrollBar.Orientation.Horizontal?(e=(o=this.element.find(".e-hhandlespace").width()-this.element.find(".e-hhandle").outerWidth())<(e-this.model.minimum)/this._scrollData.onePx?o:(e-this.model.minimum)/this._scrollData.onePx,this._scrollData.enableRTL&&("mousemove"==a||"touchmove"==a)&&"msie"!=t.browserInfo().name&&(e=o-e)>0&&(e*=-1),this._scrollData.enableRTL&&("mousemove"==a||"touchmove"==a)&&"msie"==t.browserInfo().name&&(e=-e),this._scrollData.enableRTL&&e>0&&!this._scrollData._scrollleftflag&&(e=0),this._scrollData._scrollleftflag&&(e>0&&(e*=-1),this.value(e)),this.content()[0].style.left=e+"px",this._scrollData._scrollleftflag=!1):(e=(r=this.element.find(".e-vhandlespace").height()-this.element.find(".e-vhandle").outerHeight())<(e-this.model.minimum)/this._scrollData.onePx?r:(e-this.model.minimum)/this._scrollData.onePx,"msie"==t.browserInfo().name&&isNaN(e)&&(e=""),this.content()[0].style.top=e+"px")))},_changeTop:function(e,t,i){var s,a;return e.dimension,a=(s=this.value())+t,e.step=t,e.enableRTL&&t<0||t>0&&!e.enableRTL?e.enableRTL?a<-1*this.model.maximum&&(a=-1*this.model.maximum):a>this.model.maximum&&(a=this.model.maximum):e.enableRTL?a>this.model.minimum&&(a=this.model.minimum):a<this.model.minimum&&(a=this.model.minimum),(a!==s||this.model.infiniteScrolling)&&this.scroll(a,i),a!==s},_mouseUp:function(i){if(i.data){var s=i.data.d;clearInterval(s.vInterval),"touchend"==i.type&&e(i.target).removeClass("e-touch"),"mouseup"!==i.type&&"touchend"!==i.type&&(i.toElement||i.relatedTarget||i.target)||(this._prevY=this._d=this._data=null,this._off(e(document),"mousemove touchmove",this._mouseMove),e(document).off("mouseup touchend",t.proxy(this._mouseUp,this)),s.fromScroller=!1,this[s.scroll].off("mousemove"),this[s.handler].off("mousemove").css("transition",""),"thumb"!==i.data.source||t.isNullOrUndefined(this.model)||e.when(this.content()).done(t.proxy((function(){this._trigger("thumbEnd",{originalEvent:i,scrollData:s})}),this))),s.up=!0}},_mouseDown:function(i){this._enabled&&(this._d=i,this._data=this._d.data.d,this._data.target=this._d.target,this._data.fromScroller=!0,this[this._data.handler].css("transition","none"),this._on(e(document),"mousemove touchmove",{d:this._data,source:"thumb"},this._mouseMove),this._trigger("thumbStart",{originalEvent:this._d,scrollData:this._data}),e(document).one("mouseup touchend",{d:this._data,source:"thumb"},t.proxy(this._mouseUp,this)),"touchstart"==i.type&&e(i.target).addClass("e-touch"))},_mouseCall:function(e){e.type="mouseup",this._mouseUp(e)},_mouseMove:function(i){var s,a,o,r=0,l=parseInt(this[this._data.handler].css(this._data.lPosition))||0;if(i.preventDefault(),a=1,t.isNullOrUndefined(i.target.tagName)){if(e(i.target).is(document))return void this._mouseCall(i)}else if("iframe"===i.target.tagName.toLowerCase())return void this._mouseCall(i);o="mousemove"==i.type?i[this._data.clientXy]:i.originalEvent.changedTouches[0][this._data.clientXy],this._prevY&&o!==this._prevY&&(r=o-this._prevY,this.model.infiniteScrolling?(l+=r,this._data.step=r,(this._data.enableRTL?l>0:l<0)&&(l=0),l*(this._data.enableRTL?-1:1)+this._data.handle>=this._data.handleSpace&&(l=(this._data.handleSpace-this._data.handle)*(this._data.enableRTL?-1:1)),s=Math.ceil(l*this._data.onePx),this.scroll(s,"thumb")):(s=r*this._data.onePx,this._changeTop(this._data,s,"thumb",this._d)),this._trigger("thumbMove",{originalEvent:i,direction:this._data.step>0?1:-1,scrollData:this._data})),1===a&&(this._prevY=o)},_spaceMouseDown:function(s){var a,o,r,l;s.data&&this._enabled&&(a=s.data.d,o=this[a.handler][0].getBoundingClientRect(),1===s.which&&s.target!==this[a.handler][0])&&(r=s.data.step?this.model.smallChange:this.model.largeChange,l=s.data.top||o[a.lPosition],s[a.clientXy]=s[a.clientXy]||0,s[a.clientXy]-i.scrollY<l&&(r*=-1),a.target=s.target,this._changeTop(a,r,3===r?"track":"button",s),1!==s.data.step&&this[a.scroll].mousemove((function(){a.up=!0})),a.up=!1,a.vInterval=setInterval(t.proxy((function(){(r<0?l+r/a.onePx<s[a.clientXy]:l+a.handle+r/a.onePx>s[a.clientXy])&&(a.up=!0),a.up?clearInterval(a.vInterval):(this._changeTop(a,r,3===r?"track":"button",s),l=s.data&&s.data.top||o[a.lPosition])}),this),150),e(document).one("mouseup",{d:a},t.proxy(this._mouseUp,this)),e(document).mouseout({d:a},t.proxy(this._mouseUp,this)))},_remove:function(){this.model.orientation===t.ScrollBar.Orientation.Horizontal&&this.element.find(".e-hscroll").remove(),this.model.orientation===t.ScrollBar.Orientation.Vertical&&this.element.find(".e-vscroll").remove(),this._scrollData=null,this._content=null},_destroy:function(){this.element.remove()}}),t.ScrollBar.Orientation={Horizontal:"horizontal",Vertical:"vertical"}}(jQuery,Syncfusion,window),function(e,t,i,s){"use strict";t.widget("ejScroller","ej.Scroller",{_addToPersist:["scrollLeft","scrollTop"],defaults:{height:250,autoHide:!1,animationSpeed:600,width:0,scrollOneStepBy:57,buttonSize:18,scrollLeft:0,scrollTop:0,targetPane:null,scrollerSize:18,enablePersistence:!1,enableRTL:s,enableTouchScroll:!0,preventDefault:!1,enabled:!0,create:null,destroy:null,wheelStart:null,wheelMove:null,wheelStop:null},validTags:["div"],type:"transclude",dataTypes:{buttonSize:"number",scrollOneStepBy:"number"},observables:["scrollTop","scrollLeft"],scrollTop:t.util.valueFunction("scrollTop"),scrollLeft:t.util.valueFunction("scrollLeft"),keyConfigs:{up:"38",down:"40",left:"37",right:"39",pageUp:"33",pageDown:"34",pageLeft:"ctrl+37",pageRight:"ctrl+39"},content:function(){return!this._contentOffsetParent&&this._content&&this._content[0]&&(this._contentOffsetParent=this._content[0].offsetParent),this._content&&this._content.length&&this._contentOffsetParent||(this._content=this.element.children().first().addClass("e-content")),this._content},_setFirst:!0,_updateScroll:!1,_init:function(){t.isNullOrUndefined(this.content()[0])||(this._isJquery3=parseInt(e.fn.jquery)>=3,this._tempWidth=this.model.width,this._prevScrollWidth=this.content()[0].scrollWidth,this._prevScrollHeight=this.content()[0].scrollHeight,this.element.addClass("e-widget"),this.content(),this._browser=t.browserInfo().name,this._wheelStart=!0,this._eleHeight=this.model.height,this._eleWidth=this.model.width,this._isNativeScroll=t.isDevice(),null!=this.model.targetPane&&this.content().find(this.model.targetPane).addClass("e-target-pane"),this.model.enableRTL===s&&(this.model.enableRTL="rtl"===this.element.css("direction")),this.model.autoHide&&this._on(this.element,"mousedown",this._mouseDownInitContent),this._ensureScrollers(),this.model.enableRTL&&(this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft()),this._isNativeScroll&&this.element.addClass("e-native-scroll"),this._on(this.content(),"scroll",this._scroll),null!=this.model.targetPane&&this._on(this.content().find(this.model.targetPane),"scroll",this._scroll),this.scrollLeft()&&this._setScrollLeftValue(this.scrollLeft()),this.scrollTop()&&this.scrollTop(this._isJquery3?Math.ceil(this.scrollTop()):this.scrollTop()),this.content().scrollTop(this.scrollTop()),this.model.autoHide&&this._autohide(),this.model.enabled?this.enable():this.disable(),this._setDimension(),(this._prevScrollWidth!==this.content()[0].scrollWidth||this._prevScrollHeight!==this.content()[0].scrollHeight)&&this.refresh()),this._addActionClass(),this._isNativeScroll&&this._on(this.content(),"scrollstop",this._touchDown)},_mouseDownInitContent:function(){this.model.autoHide&&this._on(e(document),"mouseup",this._mouseUpContent),this.element.addClass("e-scroll-focus")},_addActionClass:function(){"msie"==this._browser&&(this.content().removeClass("e-pinch e-pan-x e-pan-y"),this._vScrollbar&&this._hScrollbar?this.content().addClass("e-pinch"):this._vScrollbar&&!this._hScrollbar?this.content().addClass("e-pan-x"):this._hScrollbar&&!this._vScrollbar&&this.content().addClass("e-pan-y"))},_setDimension:function(){t.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")||(this._vScroll||this._hScroll?this.model.height=this._convertPercentageToPixel(parseInt(this._eleHeight),this.element.parent().height()):e(this.content()[0]).height("")),t.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")||(this._hScroll||this._vScroll?this.model.width=this._convertPercentageToPixel(parseInt(this._eleWidth),this.element.parent().width()):e(this.content()[0]).width(""))},_setScrollLeftValue:function(e){this.model.enableRTL&&(e="mozilla"==t.browserInfo().name?e<0?e:-1*e:!t.isNullOrUndefined(this._rtlScrollLeftValue)&&("chrome"==t.browserInfo().name||this._rtlScrollLeftValue>0)?e<0?this._rtlScrollLeftValue+e:this._rtlScrollLeftValue-e:Math.abs(e)),this.content().scrollLeft(e)},_ensureScrollers:function(){var a,o=e.fn.jquery;this.model.height="string"==typeof this.model.height&&-1!=this.model.height.indexOf("px")?parseInt(this.model.height):this.model.height,this.model.width="string"==typeof this.model.width&&-1!=this.model.width.indexOf("px")?parseInt(this.model.width):this.model.width,this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this._off(this.content(),"mousedown touchstart"),this.content().length>0&&(this.isVScroll()?(this._tempVscrollbar||(this._vScrollbar=this._createScrollbar(t.ScrollBar.Orientation.Vertical,this.isHScroll()),this._tempVscrollbar=this._vScrollbar),this.model.enableTouchScroll&&this._on(this.content(),"mousedown touchstart",{d:this._vScrollbar._scrollData},this._mouseDownOnContent)):(this._vScrollbar=null,this._tempVscrollbar=this._vScrollbar,this.element.children(".e-vscrollbar").remove()),this.isHScroll()?(this._tempHscrollbar||(this._hScrollbar=this._createScrollbar(t.ScrollBar.Orientation.Horizontal,this.isVScroll()),this._tempHscrollbar=this._hScrollbar),this.model.enableTouchScroll&&this._on(this.content(),"mousedown touchstart",{d:this._hScrollbar._scrollData},this._mouseDownOnContent)):(this._hScrollbar=null,this._tempHscrollbar=this._hScrollbar,this.element.children(".e-hscrollbar").remove()),this._vScrollbar||this._hScrollbar||this.content().css({width:"auto",height:"auto"}),this.element.find(".e-hscroll").length>0||this._vScrollbar&&this.content().outerHeight(this.content().outerHeight()-1),"1.7.1"===o||"1.7.2"===o?(this._contentHeight="height",this._contentWidth="width"):(this._contentHeight="outerHeight",this._contentWidth="outerWidth"),this._hScroll=this.isHScroll(),this._vScroll=this.isVScroll(),this._hScroll||this._vScroll?(this.content().addClass("e-content"),a=this._exactElementDimension(this.element),this._elementDimension(a),null!==this.model.targetPane&&this.content().find(this.model.targetPane)[0]!==s?this.content().find(this.model.targetPane)[0].scrollLeft=this.scrollLeft():!this.isHScroll()&&this.element.children(".e-hscrollbar").length>0&&this._ensureScrollers(),isNaN(this._eleWidth)&&this._eleWidth.indexOf("%")>0&&isNaN(this._eleHeight)&&this._eleHeight.indexOf("%")>0&&e(i).on("resize",e.proxy(this._resetScroller,this))):this.content().removeClass("e-content"),this._setDimension(),this._parentHeight=e(this.element).parent().height(),this._parentWidth=e(this.element).parent().width())},_elementDimension:function(e){this._ElementHeight=e.height-(this.border_bottom+this.border_top+this.padding_bottom+this.padding_top),this.content()[this._contentHeight](this._ElementHeight-(this._hScroll&&!this.model.autoHide||this.element.find(".e-hscrollbar").is(":visible")?this.model.scrollerSize:0)),this._ElementWidth=e.width-(this.border_left+this.border_right+this.padding_left+this.padding_right),this.content()[this._contentWidth](this._ElementWidth-(this._vScroll&&!this.model.autoHide||this.element.find(".e-vscrollbar").is(":visible")?this.model.scrollerSize:0))},_convertPercentageToPixel:function(e,t){return Math.floor(e*t/100)},isHScroll:function(){var i,s=parseFloat(e.fn.jquery)>=3?Math.ceil(this.element.width()):this.element.width(),a=this.model.width;if(t.isNullOrUndefined(this.model.width)||(a="string"==typeof this.model.width&&-1!=this.model.width.indexOf("%")?s:parseFloat(e.fn.jquery)>=3&&!isNaN(parseFloat(this.model.width))?Math.ceil(parseFloat(this.model.width)):this.model.width),t.isNullOrUndefined(this._tempWidth)||"string"!=typeof this._tempWidth||-1==this._tempWidth.indexOf("%")){if(a>0){if(i=this.content().find(this.model.targetPane),null!=this.model.targetPane&&i.length)return i[0].scrollWidth+i.siblings().width()>a;if(this.content()[0].scrollWidth>a)return!0;if(this.content()[0].scrollWidth==a){if(this.model.autoHide&&e(this.content()[0]).find("> *").length>0)return e(this.content()[0]).find("> *")[0].scrollWidth>e(this.content()[0]).width();if(e(this.content()[0]).find("> *").length>0)return e(this.content()[0]).find("> *")[0].scrollWidth>(t.isNullOrUndefined(this._tempVscrollbar)?a:a-this.model.scrollerSize)}return!1}return!1}return t.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")?this.content()[0].scrollWidth>s||void 0:this.content()[0].scrollWidth>s},isVScroll:function(){return t.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")?!!(this.model.height>0&&(this.content()[0].scrollHeight>Math.ceil(this.model.height)||this.isHScroll()&&(this.content()[0].scrollHeight==this.model.height||this.content()[0].scrollHeight>this.model.height-(this.model.scrollerSize-2)))):this.content()[0].scrollHeight>this.element.outerHeight()},_setModel:function(e){for(var i in e)switch(i){case"enableRTL":e[i]?(this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft(),t.isNullOrUndefined(this._hScrollbar)||(this._hScrollbar._scrollData.enableRTL=!0)):(this.element.removeClass("e-rtl"),t.isNullOrUndefined(this._hScrollbar)||(this._hScrollbar._scrollData.enableRTL=!1)),this._hScrollbar&&(this.element.find(".e-hhandle").css("left",0),this._hScrollbar.value(0));break;case"preventDefault":this.model.preventDefault=e[i];break;case"scrollLeft":(parseFloat(t.util.getVal(e[i]))<0||!this._hScroll)&&(e[i]=0),this._hScrollbar&&(e[i]=parseFloat(t.util.getVal(e[i]))>this._hScrollbar._scrollData.scrollable?this._hScrollbar._scrollData.scrollable:parseFloat(t.util.getVal(e[i]))),this._setScrollLeftValue(parseFloat(e[i])),this.scrollLeft(e[i]),!this._hScrollbar||this._hScrollbar._scrollData._scrollleftflag&&this.model.enableRTL||this.scrollX(e[i],!0);break;case"scrollTop":this._vScrollbar&&(e[i]=parseFloat(t.util.getVal(e[i]))>this._vScrollbar._scrollData.scrollable?this._vScrollbar._scrollData.scrollable:parseFloat(t.util.getVal(e[i]))),(parseFloat(e[i])<0||!this._vScroll)&&(e[i]=0),this.content().scrollTop(parseFloat(e[i])),this.scrollTop(e[i]),this.scrollY(e[i],!0);break;case"touchScroll":this.model.enableTouchScroll?(this._vScrollbar&&this._on(this.content(),"mousedown touchstart",{d:this._vScrollbar._scrollData},this._mouseDownOnContent),this._hScrollbar&&this._on(this.content(),"mousedown touchstart",{d:this._hScrollbar._scrollData},this._mouseDownOnContent)):this._off(this.content(),"mousedown touchstart");break;case"scrollOneStepBy":this._vScrollbar&&(this._vScrollbar._scrollData.scrollOneStepBy=e[i],this._vScrollbar.model.smallChange=e[i]),this._hScrollbar&&(this._hScrollbar._scrollData.scrollOneStepBy=e[i],this._hScrollbar.model.smallChange=e[i]);break;case"buttonSize":this._vScrollbar&&(this._vScrollbar.model.buttonSize=this.model.buttonSize),this._hScrollbar&&(this._hScrollbar.model.buttonSize=this.model.buttonSize),this.refresh();break;case"height":this._eleHeight=e[i],this.refresh();break;case"width":this._eleWidth=e[i],this.refresh();break;case"enabled":e[i]?this.enable():this.disable();break;default:this.refresh()}},_createScrollbar:function(i,s){var a,o,r,l,n,d,h,c=this,u=document.createElement("div");return i===t.ScrollBar.Orientation.Vertical?(o=this.model.scrollerSize,r=a=t.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")?this.model.height-(s?this.model.scrollerSize:0):this.element.height()-(s?this.model.scrollerSize:0),l=this.content()[0].scrollHeight,n=this.scrollTop()):(o=a=this.model.width-(s?this.model.scrollerSize:0),r=this.model.scrollerSize,t.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")?(d=this.content().find(this.model.targetPane),l=null!=this.model.targetPane&&d.length?d[0].scrollWidth+d.parent().width()-d.width():this.content()[0].scrollWidth):(o=a=this.element.width()-(s?this.model.scrollerSize:0),l=this.content()[0].scrollWidth),n=this.scrollLeft()),this.element.children(".e-hscrollbar").length>0?e(this.element.children(".e-hscrollbar")).before(u):this.element.append(u),e(u).ejScrollBar({elementHeight:c._eleHeight,elementWidth:c._eleWidth,buttonSize:c.model.buttonSize,orientation:i,viewportSize:a,height:r,width:o,maximum:l-a,value:n,smallChange:this.model.scrollOneStepBy,largeChange:3*this.model.scrollOneStepBy,scroll:t.proxy(this._scrollChanged,this),thumbEnd:t.proxy(this._thumbEnd,this),thumbStart:t.proxy(this._thumbStart,this),thumbMove:t.proxy(this._thumbMove,this)}),h=e(u).ejScrollBar("instance"),i!==t.ScrollBar.Orientation.Vertical&&s||this._off(this.element,"msie"==this._browser?"wheel mousewheel":"mousewheel DOMMouseScroll",this._mouseWheel)._on(this.element,"msie"==this._browser?"wheel mousewheel":"mousewheel DOMMouseScroll",{d:h._scrollData},this._mouseWheel),i===t.ScrollBar.Orientation.Horizontal?this._scrollXdata=h._scrollData:this._scrollYdata=h._scrollData,i===t.ScrollBar.Orientation.Horizontal&&this.model.enableRTL&&(h._scrollData.enableRTL=!0),h._enabled=this.model.enabled,h},_updateScrollbar:function(i,s){var a=i===t.ScrollBar.Orientation.Vertical?this._vScrollbar:this._hScrollbar;a&&(i===t.ScrollBar.Orientation.Vertical?(a.model.width=this.model.scrollerSize,a.model.height=a.model.viewportSize=this.model.height-(s?this.model.scrollerSize:0),a.model.maximum=this.content()[0].scrollHeight-a.model.viewportSize,a.model.value=this.scrollTop()):(a.model.width=a.model.viewportSize=this.model.width-(s?this.model.scrollerSize:0),a.model.height=this.model.scrollerSize,a.model.maximum=(null!=this.model.targetPane&&this.content().find(this.model.targetPane).length>0?this.content().find(this.model.targetPane)[0].scrollWidth+(this.content().width()-this.content().find(e(this.model.targetPane)).outerWidth()):this.content()[0].scrollWidth)-a.model.viewportSize,this.model.enableRTL||(a.model.value=this.scrollLeft())))},_autohide:function(){this.model.autoHide?(this.element.addClass("e-autohide"),this._on(this.element,"mouseenter mouseleave touchstart touchend",this._scrollerHover),e(":hover").filter(this.element[0]).length||this.content().siblings(".e-scrollbar.e-js").hide(),this._elementDimension(this._exactElementDimension(this.element))):(this.element.removeClass("e-autohide"),this._off(this.element,"mouseenter mouseleave touchstart touchend",this._scrollerHover),this.content().siblings(".e-scrollbar.e-js").show())},_mouseUpContent:function(t){"mouseup"==t.type&&(this.element.removeClass("e-scroll-focus"),this._autohide(),this._off(e(document),"mouseup",this._mouseUpContent))},_scrollChanged:function(i){this._updateScroll=!0,i.scrollTop!==s?this.scrollY(i.scrollTop,!0,"",i.source):i.scrollLeft!==s&&this.scrollX(i.scrollLeft,!0,"",i.source),this._updateScroll=!1;var a=this;e.when(this.content()).done(t.proxy((function(){a._trigger("scrollEnd",{scrollData:i})})))},_bindBlurEvent:function(s,a){this._scrollEle=e(s).data("ejScrollBar"),this._event=a,this._listener=function(){this._scrollEle._off(e(document),"mousemove touchmove",this._scrollEle._mouseMove),e(document).off("mouseup touchend",t.proxy(this._scrollEle._mouseUp,this._scrollEle)),this._scrollEle._prevY=null,this._off(e(document),"mousemove touchmove",this._mouseMove),this._off(e(document),"mouseup touchend",this._mouseUp),this._off(e(i),"blur"),this._evtData.handler,this._scrollEle._trigger("thumbEnd",{originalEvent:this._event,scrollData:this._evtData})},this._on(e(i),"blur",this._listener)},_thumbStart:function(e){this._evtData=e.scrollData;var t=(e.scrollData.handler,this.element.find("."+e.scrollData.handler).closest(".e-scrollbar"));e.scrollData.handler,t=this.element.find("."+e.scrollData.handler).closest(".e-scrollbar"),this._bindBlurEvent(t,e),this._trigger("thumbStart",e)},_thumbMove:function(e){this._trigger("thumbMove",e)},_thumbEnd:function(t){this._trigger("thumbEnd",t),this._off(e(i),"blur")},refresh:function(i){var s,a;i?(this._tempVscrollbar=null,this.element.children(".e-vscrollbar").remove(),this._tempHscrollbar=null,this.element.children(".e-hscrollbar").remove()):this.element.find(">.e-content").removeAttr("style"),t.isNullOrUndefined(this._eleHeight)||"string"!=typeof this._eleHeight||-1==this._eleHeight.indexOf("%")||this._parentHeight==e(this.element).parent().height()||(s=(s=this._exactElementDimension(this.element.parent())).height-(this.border_bottom+this.border_top+this.padding_bottom+this.padding_top),this.model.height=this._convertPercentageToPixel(parseInt(this._eleHeight),s)),t.isNullOrUndefined(this._eleWidth)||"string"!=typeof this._eleWidth||-1==this._eleWidth.indexOf("%")||this._parentWidth==e(this.element).parent().width()||(s=(s=this._exactElementDimension(this.element.parent())).width-(this.border_left+this.border_right+this.padding_left+this.padding_right),this.model.width=this._convertPercentageToPixel(parseInt(this._eleWidth),s)),this._ensureScrollers(),a=this.model.scrollLeft,this.model.enableRTL?(this.element.hasClass("e-rtl")||this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft(),a>0?this.content().scrollLeft(this._rtlScrollLeftValue-a):this._setScrollLeftValue(a)):this.content().scrollLeft(a),(this.scrollTop()&&t.isNullOrUndefined(this._vScrollbar)||!t.isNullOrUndefined(this._vScrollbar)&&this._vScrollbar&&null!=this._vScrollbar._scrollData&&!this._vScrollbar._scrollData.skipChange)&&this.scrollTop(this._isJquery3?Math.ceil(this.scrollTop()):this.scrollTop()),this.content().scrollTop(this.scrollTop()),this._vScrollbar&&(this._vScrollbar._scrollData.dimension="Height",this._updateScrollbar(t.ScrollBar.Orientation.Vertical,this._hScroll),this._vScroll&&!this._vScrollbar._calculateLayout(this._vScrollbar._scrollData)&&this._vScrollbar._updateLayout(this._vScrollbar._scrollData)),this._hScrollbar&&(this._hScrollbar._scrollData.dimension="Width",this._updateScrollbar(t.ScrollBar.Orientation.Horizontal,this._vScroll),this._hScroll&&!this._hScrollbar._calculateLayout(this._hScrollbar._scrollData)&&this._hScrollbar._updateLayout(this._hScrollbar._scrollData)),"msie"==t.browserInfo().name&&"8.0"==t.browserInfo().version?this.element.find(".e-hhandle").css("left","0px"):null!=this.model.targetPane&&this._on(this.content().find(this.model.targetPane),"scroll",this._scroll),this._addActionClass(),this._autohide()},_exactElementDimension:function(e){var t,i,s,a=e.get(0).getBoundingClientRect(),o=["left","right","top","bottom"];for(t=a.width?a.width:a.right-a.left,i=a.height?a.height:a.bottom-a.top,s=0;s<o.length;s++)this["border_"+o[s]]=isNaN(parseFloat(e.css("border-"+o[s]+"-width")))?0:parseFloat(e.css("border-"+o[s]+"-width")),this["padding_"+o[s]]=isNaN(parseFloat(e.css("padding-"+o[s])))?0:parseFloat(e.css("padding-"+o[s]));return{width:t,height:i}},_keyPressed:function(e,i){if(this.model.enabled){if(-1!==["input","select","textarea"].indexOf(i.tagName.toLowerCase()))return!0;var s,a;if(-1!==["up","down","pageUp","pageDown"].indexOf(e))this._vScrollbar&&("msie"==t.browserInfo().name&&this.model.allowVirtualScrolling&&this._content.focus(),s=this._vScrollbar._scrollData),a="o";else{if(-1===["left","right","pageLeft","pageRight"].indexOf(e))return!0;this._hScrollbar&&(s=this._hScrollbar._scrollData),a="i"}return!s||!this._changeTop(s,(e.indexOf(a)<0?-1:1)*("p"!==e[0]?1:3)*s.scrollOneStepBy,"key")}},scrollY:function(e,i,s,a,o){var r=this;if(""!==e){if(i){if(o={source:a||"custom",scrollData:this._vScrollbar?this._vScrollbar._scrollData:null,scrollTop:e,originalEvent:o},e=this._isJquery3?Math.ceil(o.scrollTop):o.scrollTop,this.scrollTop(e),this._trigger("scroll",o))return;return void this.content().scrollTop(e)}(t.isNullOrUndefined(s)||""===s)&&(s=100),this._vScrollbar&&(e=parseFloat(e)>this._vScrollbar._scrollData.scrollable?this._vScrollbar._scrollData.scrollable:parseFloat(e)),e=this._isJquery3?Math.ceil(e):e,this.scrollTop(e),this.content().stop().animate({scrollTop:e},s,"linear",(function(){r._trigger("scroll",{source:a||"custom",scrollData:r._vScrollbar?r._vScrollbar._scrollData:null,scrollTop:e,originalEvent:o})}))}},scrollX:function(e,i,s,a,o){var r,l=this;if(""!==e){if(this._hScrollbar&&(e=parseFloat(e)>this._hScrollbar._scrollData.scrollable?this._hScrollbar._scrollData.scrollable:parseFloat(e)),r=t.browserInfo().name,this.model.enableRTL&&"mozilla"!=r&&(e<0&&(e=Math.abs(e)),null!=this.model.targetPane?this.content().find(this.model.targetPane)[0]:this.content()[0],"mousemove"!=o&&"touchmove"!=o&&"msie"!=r&&"msie"!=r&&(e=this._hScrollbar._scrollData.scrollable-e)),this.scrollLeft(e),i){if(this._trigger("scroll",{source:a||"custom",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:e,originalEvent:o}))return;return void(null!=this.model.targetPane&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane).scrollLeft(e):this.content().scrollLeft(e))}(t.isNullOrUndefined(s)||""===s)&&(s=100),null!=this.model.targetPane&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane).stop().animate({scrollLeft:e},s,"linear"):this.content().stop().animate({scrollLeft:e},s,"linear",(function(){l._trigger("scroll",{source:a||"custom",scrollData:l._hScrollbar?l._hScrollbar._scrollData:null,scrollLeft:e,originalEvent:o})}))}},enable:function(){var e=this.element.find(".e-vscrollbar,.e-hscrollbar,.e-vscroll,.e-hscroll,.e-vhandle,.e-hhandle,.e-vscroll .e-icon,.e-hscroll .e-icon");e.hasClass("e-disable")&&(e.removeClass("e-disable").attr({"aria-disabled":!1}),this.model.enabled=!0),this._vScrollbar&&(this._vScrollbar._enabled=this.model.enabled),this._hScrollbar&&(this._hScrollbar._enabled=this.model.enabled)},disable:function(){this.element.find(".e-vscrollbar,.e-hscrollbar,.e-vscroll,.e-hscroll,.e-vhandle,.e-hhandle,.e-vscroll .e-icon,.e-hscroll .e-icon").addClass("e-disable").attr({"aria-disabled":!0}),this.model.enabled=!1,this._vScrollbar&&(this._vScrollbar._enabled=this.model.enabled),this._hScrollbar&&(this._hScrollbar._enabled=this.model.enabled)},_changeTop:function(e,i,s,a){var o,r=Math.ceil(null!=this.model.targetPane&&"height"!=e.dimension?this.content().find(this.model.targetPane)[e.scrollVal]():this.content()[e.scrollVal]());return"height"==e.dimension&&0==r&&(r=0!=this.scrollTop()?this.scrollTop():0),o=r+i,(e.enableRTL?o<e.scrollable:o>e.scrollable)&&(o=Math.round(e.scrollable)),(e.enableRTL?o>0:o<0)&&(o=0),o!==r&&(this["scroll"+e.xy](o,!0,"",s,a),"X"!==e.xy||t.isNullOrUndefined(this._hScrollbar)?t.isNullOrUndefined(this._vScrollbar)||this._vScrollbar.scroll(o,s,!0,a):this._hScrollbar.scroll(o,s,!0,a)),o!==r},_mouseWheel:function(t){var s;if((!this._vScrollbar||!t.ctrlKey)&&(this._vScrollbar||t.shiftKey)&&t.data&&this.model.enabled){var a,o=0,r=t.data.d,l=t;if(t=t.originalEvent,this._wheelStart&&this._trigger("wheelStart",{originalEvent:t,scrollData:l.data.d}),this._wheelStart=!1,clearTimeout(e.data(this,"timer")),1!=this._wheelx&&(0==t.wheelDeltaX||0==t.wheelDeltaY)&&(this._wheelx=1),0==navigator.platform.indexOf("Mac")&&0==this._wheelx&&("webkit"==this._browser||"chrome"==this._browser))return!0;"mozilla"==this._browser?t.axis==t.HORIZONTAL_AXIS?r=this._scrollXdata:this._scrollYdata:"msie"==this._browser?("wheel"==t.type&&(o=t.deltaX/120),"mousewheel"==t.type&&t.shiftKey&&(r=this._scrollXdata,t.preventDefault?t.preventDefault():t.returnValue=!1)):this._wheelx&&0!=t.wheelDeltaX&&0==t.wheelDeltaY&&this._scrollXdata&&(r=this._scrollXdata),0==t.wheelDeltaX&&(this._wheelx=t.wheelDeltaX),t.wheelDelta?(o=this._normalizingDelta(t),i.opera&&parseFloat(i.opera.version,10)<10&&(o=-o)):t.detail&&(o=t.detail/3),o&&(l.originalEvent&&(a=l.originalEvent.wheelDelta&&l.originalEvent.wheelDelta>0||l.originalEvent.detail&&l.originalEvent.detail<0?-1:1),this._changeTop(r,o*r.scrollOneStepBy,"wheel",t)?(t.preventDefault?t.preventDefault():l.preventDefault(),this._trigger("wheelMove",{originalEvent:t,scrollData:l.data.d,direction:a})):(this._trigger("scrollEnd",{originalEvent:t,scrollData:l}),this._wheelx=0),s=this,e.data(this,"timer",setTimeout((function(){s._wheelStart=!0,s._trigger("wheelStop",{originalEvent:t,scrollData:l.data.d,direction:a})}),250)))}},_normalizingDelta:function(e){return 0==navigator.platform.indexOf("Mac")?-e.wheelDelta/3:-e.wheelDelta/120},_contentHeightWidth:function(){"block"==this.content().siblings().css("display")&&this.model.autoHide?(this._hScroll&&this.content()[this._contentHeight](this._ElementHeight-this.model.scrollerSize),this._vScroll&&this.content()[this._contentWidth](this._ElementWidth-this.model.scrollerSize)):"none"==this.content().siblings().css("display")&&this.model.autoHide&&(this._vScroll||this._hScroll)&&(this.content()[this._contentHeight](this._ElementHeight),this.content()[this._contentWidth](this._ElementWidth))},_scrollerHover:function(e){this.model.enabled&&("mouseenter"!=e.type&&"touchstart"!=e.type||this.content().siblings().is(":visible")?"mouseleave"!=e.type&&"touchend"!=e.type||this.element.hasClass("e-scroll-focus")||(this.content().siblings().hide(),this._contentHeightWidth(),this._trigger("scrollHide",{originalEvent:e})):(this.content().siblings().css("display","block"),this._contentHeightWidth(),this._ensureScrollers(),this._setScrollLeftValue(this.model.scrollLeft),this._trigger("scrollVisible",{originalEvent:e})))},_mouseUp:function(s){if(s.data){var a=s.data.d;this.model.enableRTL&&("mouseup"==s.type||"touchend"==s.type)&&(this.model.scrollLeft=this._rtlScrollLeftValue-this.model.scrollLeft),"mouseup"!==s.type&&"touchend"!==s.type&&(s.toElement||s.relatedTarget)||(this.content().css("cursor","default"),this._off(e(document),"mousemove touchmove"),this._off(this.content(),"touchmove",this._touchMove),this._off(e(document),"mouseup touchend",this._mouseUp),a.fromScroller=!1,!0!==this._mouseMoved||"thumb"!==s.data.source||t.isNullOrUndefined(this.model)||(e.when(this.content()).done(t.proxy((function(){this._trigger("thumbEnd",{originalEvent:s,scrollData:a})}),this)),this._off(e(i),"blur"))),a.up=!0,this._mouseMoved=!1,i.ontouchmove=null}},_mouseDownOnContent:function(a){var o,r;if(this._startX=a.clientX!=s?a.clientX:a.originalEvent.changedTouches[0].clientX,this._startY=a.clientY!=s?a.clientY:a.originalEvent.changedTouches[0].clientY,this._timeStart=a.timeStamp||Date.now(),this.model.enabled&&(o=a.data.d,this._evtData=a.data,o.handler,r=this.element.find("."+o.handler).closest(".e-scrollbar"),this._bindBlurEvent(r,a),!this._trigger("thumbStart",{originalEvent:a,scrollData:o}))&&(3!=a.which||2!=a.button)){o.fromScroller=!0;var l,n=null,d=1,h=5;this._document=e(document),this._window=e(i),this._mouseMove=function(e){var r,c,u;if(this.model.enableRTL&&this._UpdateScrollLeftValue(a),this._startX+this._startY!=e.clientX+e.clientY){if(this._relDisX=(this._startx=e.clientX!=s?e.clientX:e.originalEvent.changedTouches[0].clientX)-this._startX,this._relDisY=(this._starty=e.clientY!=s?e.clientY:e.originalEvent.changedTouches[0].clientY)-this._startY,this._duration=(e.timeStamp||Date.now())-this._timeStart,this._velocityY=Math.abs(this._relDisY)/this._duration,this._velocityX=Math.abs(this._relDisX)/this._duration,this._swipe=Math.abs(this._relDisX)>Math.abs(this._relDisY)?this._relDisX>0?"left":"right":this._relDisY>0?"up":"down",!t.isNullOrUndefined(e.target.tagName)&&"iframe"===e.target.tagName.toLowerCase())return e.type="mouseup",void this._mouseUp(e);if(r="mousemove"==e.type?e[o.clientXy]:e.originalEvent.changedTouches[0][o.clientXy],n&&r!==n&&(this._mouseMoved=!0,c=r-n,u=this.model[o.scrollVal]-c,1==d&&Math.abs(c)>h&&(l=o.position,d=0),0==d&&(n=r),u>=0&&u<=o.scrollable&&l===o.position)){var p=this._velocityY>.5&&this._duration<50&&"Top"==o.position,m=this._velocityX>.5&&this._duration<50&&"Left"==o.position;(this._velocityY>.5||this._velocityX>.5)&&this._duration<50?p?(u=Math.abs(this._relDisY)+this._duration*this._velocityY,this._startY>this._starty?(u+=this.scrollTop())>o.scrollable&&(u=o.scrollable):(u<this.scrollTop()&&(u=Math.abs(u-this.scrollTop())),u>this.scrollTop()&&(u=0)),this.scrollTop()<=o.scrollable&&this.scrollY(u,!1,this.model.animationSpeed,"thumb")):m&&(u=Math.abs(this._relDisX),this._startX>this._startx?(u+=this.scrollLeft())>o.scrollable&&(u=o.scrollable):(u-=this.scrollLeft(),((u=Math.abs(u))>o.scrollable||u>=this.scrollLeft())&&(u=0)),this.scrollLeft()<=o.scrollable&&this.scrollX(u,!1,this.model.animationSpeed,"thumb")):(this["scroll"+o.xy](u,!0,"","thumb",e.type),"X"===o.xy?this._hScrollbar.scroll(u,"thumb",!0,e.type):t.isNullOrUndefined(this._vScrollbar)||this._vScrollbar.scroll(u,"thumb",!0,e.type),this.content().css("cursor","pointer"),this._trigger("thumbMove",{originalEvent:e,direction:"down"==this._swipe||"right"==this._swipe?1:-1,scrollData:o}))}i.ontouchmove=function(e){(e=e||i.event).preventDefault&&e.preventDefault(),e.returnValue=!1},null==n&&(n=r),(0==Math.round(this._content.scrollTop())&&"down"==this._swipe||(Math.ceil(this._content.scrollTop())==o.scrollable||Math.ceil(this._content.scrollTop())+1==o.scrollable)&&"up"==this._swipe)&&(this._trigger("scrollEnd",{originalEvent:e.originalEvent,scrollData:e}),i.ontouchmove=null)}},this._trigger("touchStart",{originalEvent:a,direction:"down"==this._swipe||"right"==this._swipe?1:-1,scrollData:this._scrollData,scrollTop:this.content().scrollTop(),scrollLeft:this.content().scrollLeft()}),this._on(e(document),"mousemove",{d:o,source:"thumb"},this._mouseMove),this._isNativeScroll?this._on(this.content(),"touchmove",{d:o,source:"thumb"},this._touchMove):this._on(e(document),"touchmove",{d:o,source:"thumb"},this._mouseMove),this._on(e(document),"mouseup touchend",{d:o,source:"thumb"},this._mouseUp)}},_touchMove:function(){this.content().css("cursor","pointer"),this._mouseMoved=!0,this._tempLeft=null!=this.model.targetPane?this.content().find(this.model.targetPane).scrollLeft():this.content().scrollLeft(),this._tempTop=this.content().scrollTop()},_touchDown:function(e){var t;t=this._tempLeft!=this.scrollLeft()?this._scrollXdata:this._tempTop!=this.scrollTop()||this._scrollYdata?this._scrollYdata:this._scrollXdata,this._trigger("scrollStop",{source:"thumb",originalEvent:e,scrollData:t,scrollTop:this.content().scrollTop(),scrollLeft:this.content().scrollLeft()})},_speedScrolling:function(e){var t,i,s,a;if(this._mouseMoved){if(this.element.find(".e-vhandle").length>0&&(t=this.content().scrollTop(),this._tempTop!==t&&(this._trigger("thumbMove",{originalEvent:e,direction:"down"==this._swipe||"right"==this._swipe?1:-1,scrollData:this._scrollData}),this._vScrollbar.scroll(this.content().scrollTop(),"thumb",!0,"touchmove"),e={source:"thumb",scrollData:this._vScrollbar?this._vScrollbar._scrollData:null,scrollTop:this.content().scrollTop(),originalEvent:e},a=this._isJquery3?Math.ceil(e.scrollTop):e.scrollTop,this.scrollTop(a),this._trigger("scroll",e))))return;if(this.element.find(".e-hhandle").length>0&&(s=(i=null!=this.model.targetPane?this.content().find(this.model.targetPane):this.content()).scrollLeft(),this._tempLeft!==s&&(this._trigger("thumbMove",{originalEvent:e,direction:"down"==this._swipe||"right"==this._swipe?1:-1,scrollData:this._scrollData}),this._hScrollbar.scroll(i.scrollLeft(),"thumb",!0,"touchmove"),e={source:"thumb",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:this.content().scrollLeft(),originalEvent:e},a=this._isJquery3?Math.ceil(e.scrollLeft):e.scrollLeft,this.scrollLeft(a),this._trigger("scroll",e))))return;this.content().css("cursor","pointer")}},_scroll:function(s){var a,o,r,l,n,d=[this._vScrollbar?this._vScrollbar._scrollData:null,this._hScrollbar?this._hScrollbar._scrollData:null];for(this._evtData&&(a=this._evtData.d?this._evtData.d:this._evtData),o=0;o<2;o++)(r=d[o])&&!r.skipChange&&(this.model&&(!this.model.targetPane||this.model.targetPane&&a&&"X"!=a.xy)&&("height"===r.dimension?this.scrollTop(s.target[r.scrollVal]):this.scrollLeft(s.target[r.scrollVal])),r.sTop=this.model&&null!=this.model.targetPane&&1==o&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane)[0][r.scrollVal]:"scrollTop"==r.scrollVal?this.scrollTop():this.scrollLeft(),this[r.scrollVal](r.sTop),r.fromScroller||(1===o?(l=this.content()[0],this._rtlScrollLeftValue&&l.scrollWidth-l.clientWidth!=this._rtlScrollLeftValue&&(this._rtlScrollLeftValue=l.scrollWidth-l.clientWidth),r.sTop=this.model&&"mozilla"!=t.browserInfo().name&&this.model.enableRTL&&!this._hScrollbar._scrollData._scrollleftflag?0==this._rtlScrollLeftValue?-1*r.sTop:r.sTop-this._rtlScrollLeftValue:r.sTop,this._hScrollbar.scroll(r.sTop,"",!0)):this._vScrollbar.scroll(r.sTop,"",!0),(2==d.length&&1==o||1==d.length&&0==o)&&(this._externalScroller=!1,this.model&&this._trigger("scroll",{source:"custom",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:this.scrollLeft(),originalEvent:s}))));this._isNativeScroll&&this.model.enableTouchScroll&&this._speedScrolling(s),this._UpdateScrollLeftValue(s),n=this,this._vScrollbar&&this._scrollYdata&&this.model&&this._scrollYdata.scrollable-this.model.scrollOneStepBy>=this.scrollTop()&&(e(":hover").filter(this.element[0]).length||n._off(t.getScrollableParents(n.wrapper),"scroll",null),i.onmousewheel=function(t){n.model&&n.model.preventDefault&&e(":hover").filter(n.element[0]).length&&t.preventDefault()})},_UpdateScrollLeftValue:function(e){this.model&&"touchstart"!=e.type&&"mousedown"!=e.type&&this.model.enableRTL&&this._rtlScrollLeftValue&&this.model.scrollLeft!=this._previousScrollLeft&&(this.model.scrollLeft=this._rtlScrollLeftValue-this.model.scrollLeft,this._previousScrollLeft=this.model.scrollLeft),(this.model&&"touchstart"==e.type||"mousedown"==e.type)&&this.model.enableRTL&&(this.model.scrollLeft=this.content().scrollLeft(),this.option("scrollLeft",this.content().scrollLeft()))},_changevHandlerPosition:function(e){var t=this._vScrollbar;t&&(e=null!=t._scrollData&&e>=t._scrollData.scrollable?t._scrollData.scrollable:e,null!=t&&e>=0&&e<=t._scrollData.scrollable&&t[t._scrollData.handler].css(t._scrollData.lPosition,e/t._scrollData.onePx+"px"))},_changehHandlerPosition:function(e){var t=this._hScrollbar;t&&(e=null!=t._scrollData&&e>=t._scrollData.scrollable?t._scrollData.scrollable:e,null!=t&&top>=0&&e<=t._scrollData.scrollable&&t[t._scrollData.handler].css(t._scrollData.lPosition,e/t._scrollData.onePx+"px"))},_destroy:function(){this._off(this.content(),"scrollstop",this._touchDown),this._off(e(document),"mouseup",this._mouseUpContent),this.element.css({width:"",height:""}).children(".e-vscrollbar,.e-hscrollbar").remove(),this.content().removeClass("e-content").css({width:"",height:""}),this.element.removeClass("e-widget")},_preventDefault:function(e){(e=e||i.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})}(jQuery,Syncfusion,window),function(e,t){function i(e,t){var i,s,a,o,r,l,n,d,h,c,u,p=e||"",m=E,g=(t=t.toString()).indexOf(".")>-1||e.indexOf(".")>-1,_=0,f=0,b="",v="",x=e.split(","),y="0",w=e.toLowerCase().indexOf("e"),S=p.indexOf("#");if(e.indexOf("\\")>-1&&(v=e.substr(0,e.lastIndexOf("\\")+1),S=(e=e.substr(e.lastIndexOf("\\")+1,e.length)).indexOf("#")),w>-1){for(a="",p="",s=e.toLowerCase().split("e"),e.indexOf("+")>-1?e.split("+")[1]:e.split("-")[1],i=(t=parseInt(t).toExponential()).split("e"),_=s[1].length-i[1].length,h=s[1].length-1;h>0;h--)"0"!=s[1][h]?p+=s[1][h]:_>1?(p+="#",_--):p+="0";for(p=(e.indexOf("+")>-1?"+":"")+p.split("").reverse().join(""),h=0;h<i[0].length;h++)a="."!=i[0][h]?a.concat("#"):a.concat(".");a.length>s[0].length&&(a=s[0]),p=v+a+"e"+p}else if(g){if(s=e.split("."),i=t.split("."),s[1]=s[1].replace(/[,.]/g,""),(_=s[0].replace(/[,.]/g,"").length-i[0].replace(/[,.]/g,"").length)<0&&ej.isNullOrUndefined(e.match(/[\[\(\)\]]/g))){for(x=s[0].split(","),b=s[0].split(","),u=x.length-1;u>=0;u--)if(x[u])for(d=x[u].length,h=0,c=Math.abs(_);h<c&&3!==d;h++)b[u]="0"+b[u],d++,_++;if(b=b.join(),_<0)for(ej.isNullOrUndefined(d)||3==d||(b=","+b),h=0,c=Math.abs(_);h<c;h++)3===d&&(b=","+b,d=0),b="0"+b,d++;_=0,p=v+b+"."+s[1]}else if(ej.isNullOrUndefined(e.match(/[\[\(\)\]]/g))){for(o="",d=0,j=(b=s[0].replace(/[,.]/g,"")).length-1;j>=0;j--)3===d?(o=","+o,d=0):d++,o=b[j]+o;p=v+o+"."+s[1]}}else{if(r=0,l=x.splice(1,x.length),_=e.replace(/[,.\[\(\]\)]/g,"").length-t.replace(/[,.]/g,"").length,S>-1){for(n=0,c=e.length;n<c;n++)"#"===e[n]&&r++;(1===r||x[1]&&2===r)&&(y="#"),1===r&&(l=x[0])}if(_<0){for(b=(s=p.split(",")).splice(1,s.length),u=x.length-1;u>=0;u--)if(l[u])for(d=l[u].length,b[u]||(b[u]=""),h=0,c=Math.abs(_)+1;h<c;h++){if(1!=r&&3===d){d=0;break}b[u]=b[u].concat(y),d++,_++}if(b=b.join(),_<0)for(ej.isNullOrUndefined(d)||3==d||(b=","+b),h=0,c=Math.abs(_)+1;h<c;h++)1!=r&&3===d&&(b=","+b,d=0),b=y+b,d++;_=0,p=v+b}f=0}for(var C,T,L=[],k=p.split(""),P=0,j=0,D=!1,A=!1,O=e.indexOf("\\");j<p.length;j++)if("e"===(C=k[j])&&(A=!0),"0"===C&&S<0?_>0&&f<=j?(_--,f++):_>0?_--:T=m[C]:"0"==C&&(A||"0"!=C)||(T=m[C]),"0"===C&&O>-1&&(T=m[C]),j===p.lastIndexOf("\\")&&(D=!1),T&&!D)L[P]={rule:T},P+=1;else for("\\"===C&&(C="",j===p.lastIndexOf("\\")||(D=!0)),C=C.split(""),u=0;u<C.length;u++)L[P]=C[u],P+=1;return{rules:m=L,format:p}}function s(e,t,s){var r,l,n,d;if(ej.isNullOrUndefined(e)||"string"==typeof e||!t)throw"Bad Number Format Exception";if(d=t,n=(r=i(t,e)).rules,(t=r.format).indexOf("\\")>=0){var h=t.lastIndexOf("\\"),c=t.slice(0,h),u=t.slice(h+1,t.length);l=(c+(u=u.replace(/[9?CANa#&]/g,"_"))).replace(/[\\]/g,""),t=t.replace(/[\\]/g,"")}else l=t.replace(/[9?CANa#&]/g,"_");return o(e,t,l=a(l,s),n,s,d)}function a(e,t){var i,s,a,o,r,l;if(0!=e.length){for(r="",s=(i=ej.preferredCulture(t)).numberFormat[","],a=i.numberFormat.currency.symbol,o=i.numberFormat["."],l=0;l<e.length;l++)r+=","==e[l]?s:"."==e[l]?o:"$"==e[l]?a:e[l];e=r}return e}function o(i,s,o,n,d,h){var c,u;if(!ej.isNullOrUndefined(i)){s.toLowerCase().indexOf("e")>-1&&(h.indexOf("+")>-1?h.split("+")[1]:h.split("-")[1],i=i.toExponential(),h.indexOf("-")>-1&&(i=i.replace("+","")));var p,m,g,_,f,b,v,x,y,w=p=m=i.toString(),S=o,C=g=0,T="_",L=s.match(/[\(\[\]\)]/g);if(w=!s.indexOf("\\")>=0?i=m.replace(/[\(\)-]/g,""):_,c=n.length-1,u=p.length-1,ej.isNullOrUndefined(L))for(;C<n.length&&(f=p[g],b=n[C],f!=t)&&(f===b||f===T||"e"===f&&f===b.toLowerCase()?(v=S.substring(0,C),x=S.substring(C),S=v+(f=a(f,d))+x.substr(1,x.length),g+=1,C+=1):n[C].rule!=t?r(s,p.charCodeAt(g),C)?(v=S.substring(0,C),x=S.substring(C),S=v+(y=l(p,g,C,s,o))+x.substr(1,x.length),C++,g++):C++:("e"===b&&(g=p.indexOf("e")+1),C++),!(g>w.length||c<0)););else for(;c>=0&&(f=p[u],b=n[c],f!=t)&&(f===b||f===T||"e"===f&&f===b.toLowerCase()?(v=S.substring(0,c+1),x=S.substring(c+1),f=a(f,d),S=v.substr(0,v.length-1)+f+x,c--,u--):n[c].rule!=t&&r(s,p.charCodeAt(u),c)?(v=S.substring(0,c+1),x=S.substring(c+1),y=l(p,u,c,s,o),S=v.substr(0,v.length-1)+y+x,c--,u--):c--,!(g>w.length||c<0)););if(i)return(S.indexOf("_")-S.indexOf(",")==1||S.indexOf("_")-S.indexOf(".")==1)&&(S=S.slice(0,S.indexOf("_")-1)),""==e.trim(S.replace(/[_]/g,""))?null:S.replace(/[_]/g,"")}}function r(t,i,s){var a=E,o=!1,r=t.substr(s,1),l=String.fromCharCode(i);return e.each(a,(function(e,t){r==e&&(o=!!l.match(new RegExp(t)))})),o}function l(e,t,i,s,a){var o=!1;return s.indexOf(".")>-1&&i===a.length-1&&e[t+1]>5&&(o=!0),o?(parseInt(e[t])+1).toString():e[t]}function n(e,t){return 0===e.indexOf(t)}function d(e,t){return e.substr(e.length-t.length)===t}function h(e){return(e+"").replace(O,"")}function c(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)}function u(e,t,i){for(var s=e.length;s<t;s++)e=i?"0"+e:e+"0";return e}function p(e,t,i){var s,a=t["-"],o=t["+"];switch(i){case"n -":a=" "+a,o=" "+o;case"n-":d(e,a)?s=["-",e.substr(0,e.length-a.length)]:d(e,o)&&(s=["+",e.substr(0,e.length-o.length)]);break;case"- n":a+=" ",o+=" ";case"-n":n(e,a)?s=["-",e.substr(a.length)]:n(e,o)&&(s=["+",e.substr(o.length)]);break;case"(n)":n(e,"(")&&d(e,")")&&(s=["-",e.substr(1,e.length-2)])}return s||["",e]}function m(e,t,i){var s,a=i.groupSizes||[3],o=a[0],r=1,l=ej._round(e,t);isFinite(l)||(l=e);var n=(e=l)+"",d="",h=n.split(/e/i),c=h.length>1?parseInt(h[1],10):0;h=(n=h[0]).split("."),n=h[0],d=h.length>1?h[1]:"",c>0?(n+=(d=u(d,c,!1)).slice(0,c),d=d.substr(c)):c<0&&(d=(n=u(n,1+(c=-c),!0)).slice(-c,n.length)+d,n=n.slice(0,-c)),s=i["."]||".",d=t>0?s+(d.length>t?d.slice(0,t):u(d,t)):"";for(var p=n.length-1,m=i[","]||",",g="";p>=0;){if(0===o||o>p)return n.slice(0,p+1)+(g.length?m+g+d:d);g=n.slice(p-o+1,p+1)+(g.length?m+g:""),p-=o,r<a.length&&(o=a[r],r++)}return n.slice(0,p+1)+m+g+d}function g(e,t,i){var a,o;if(!t||"i"===t)return i.name.length?e.toLocaleString():e.toString();t=t||"D";var r,l=i.numberFormat,n=Math.abs(e),d=-1;switch(t.length>1&&(d=parseInt(t.slice(1),10)),a=t.charAt(0).toUpperCase()){case"D":r="n",n=c(n),-1!==d&&(n=u(""+n,d,!0)),e<0&&(n=-n);break;case"N":(o=l).pattern=o.pattern||["-n"];case"C":(o=o||l.currency).pattern=o.pattern||["-$n","$n"];case"P":(o=o||l.percent).pattern=o.pattern||["-n %","n %"],r=e<0?o.pattern[0]||"-n":o.pattern[1]||"n",-1===d&&(d=o.decimals),n=m(n*("P"===a?100:1),d,o);break;default:return s(e,t,i)}return _(n,r,l)}function _(e,t,i){for(var s,a,o=/n|\$|-|%/g,r="";s=o.lastIndex,a=o.exec(t),r+=t.slice(s,a?a.index:t.length),a;)switch(a[0]){case"n":r+=e;break;case"$":r+=i.currency.symbol||"$";break;case"-":/[1-9]/.test(e)&&(r+=i["-"]||"-");break;case"%":r+=i.percent.symbol||"%"}return r}function f(e,t,i){var s,a,o,r,l,n,d,c,u,m,g;"string"==typeof i&&(t=i,i=10);var _=NaN,f=(t=ej.globalize.findCulture(t)).numberFormat,b=t.numberFormat.pattern[0];if((e=e.replace(/ /g,"")).indexOf(t.numberFormat.currency.symbol)>-1?(e=(e=e.replace(t.numberFormat.currency.symbol||"$","")).replace(t.numberFormat.currency["."]||".",t.numberFormat["."]||"."),b=h(t.numberFormat.currency.pattern[0].replace("$",""))):e.indexOf(t.numberFormat.percent.symbol)>-1&&(e=(e=e.replace(t.numberFormat.percent.symbol||"%","")).replace(t.numberFormat.percent["."]||".",t.numberFormat["."]||"."),b=h(t.numberFormat.percent.pattern[0].replace("%",""))),e=h(e),I.test(e))_=parseFloat(e,"",i);else if(R.test(e))_=parseInt(e,16);else{var v=p(e,f,b),x=v[0],y=v[1];""===x&&"-n"!==f.pattern[0]&&(x=(v=p(e,f,"-n"))[0],y=v[1]),x=x||"+",(o=y.indexOf("e"))<0&&(o=y.indexOf("E")),o<0?(a=y,s=null):(a=y.substr(0,o),s=y.substr(o+1)),n=f["."]||".",(d=a.indexOf(n))<0?(r=a,l=null):(r=a.substr(0,d),l=a.substr(d+n.length)),c=f[","]||",",r=r.split(c).join(""),u=c.replace(/\u00A0/g," "),c!==u&&(r=r.split(u).join("")),m=x+r,null!==l&&(m+="."+l),null!==s&&(m+="e"+((g=p(s,f,b))[0]||"+")+g[1]),!i&&M.test(m)?_=parseFloat(m):i&&(_=parseInt(m,i))}return _}function b(e,t,i){return e<t||e>i}function v(e,t){var i,s,a=new Date;return t<100&&(i="string"==typeof(i=e.twoDigitYearMax)?(new Date).getFullYear()%100+parseInt(i,10):i,(t+=(s=a.getFullYear())-s%100)>i&&(t-=100)),t}function x(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,s=e.length;i<s;i++)if(e[i]===t)return i;return-1}function y(e){return e.split("\xa0").join(" ").toUpperCase()}function w(e){for(var t=[],i=0,s=e.length;i<s;i++)t[i]=y(e[i]);return t}function S(e,t,i){var s,a=e.days,o=e._upperDays;return o||(e._upperDays=o=[w(a.names),w(a.namesAbbr),w(a.namesShort)]),t=y(t),i?-1===(s=x(o[1],t))&&(s=x(o[2],t)):s=x(o[0],t),s}function C(e,t,i){var s,a=e.months,o=e.monthsGenitive||e.months,r=e._upperMonths,l=e._upperMonthsGen;return r||(e._upperMonths=r=[w(a.names),w(a.namesAbbr)],e._upperMonthsGen=l=[w(o.names),w(o.namesAbbr)]),t=y(t),(s=x(i?r[1]:r[0],t))<0&&(s=x(i?l[1]:l[0],t)),s}function T(e,t){for(var i,s=0,a=!1,o=0,r=e.length;o<r;o++)"'"==(i=e.charAt(o))?(a?t.push("'"):s++,a=!1):"\\"==i?(a&&t.push("\\"),a=!a):(t.push(i),a=!1);return s}function L(e,t,i,s){var a;if(!e)return null;for(var o=0,r=0,l=null,n=(t=t.split("")).length,d=function(e){for(var i=0;t[o]===e;)i++,o++;return i>0&&(o-=1),i},h=function(t){var i=new RegExp("^\\d{1,"+t+"}"),s=e.substr(r,t).match(i);return s?(s=s[0],r+=s.length,parseInt(s,10)):null},c=function(t,i){for(var s,a,o,l=0,n=t.length;l<n;l++)if(a=(s=t[l]).length,o=e.substr(r,a),i&&(o=o.toLowerCase()),o==s)return r+=a,l+1;return null},u=function(e){for(var t=0,i=e.length,s=[];t<i;t++)s[t]=(e[t]+"").toLowerCase();return s},p=function(e){var t={};for(var i in e)t[i]=u(e[i]);return t};o<n;o++)"d"===t[o]&&(a=d("d"),s._lowerDays||(s._lowerDays=p(s.days)),l=a<3?h(2):c(s._lowerDays[3==a?"namesAbbr":"names"],!0));return l}function k(e,t){t=t||"F";var i,s=e.patterns,a=t.length;if(1===a){if(!(i=s[t]))throw"Invalid date format string '"+t+"'.";t=i}else 2===a&&"%"===t.charAt(0)&&(t=t.charAt(1));return t}function P(e,t,i){var s,a,o,r,l,d,c,u,p;e=h(e),t=h(t);var m=i.calendar,g=ej.globalize._getDateParseRegExp(m,t),_=new RegExp(g.regExp).exec(e);if(null===_)return null;var f,x=g.groups,y=null,w=null,T=null,k=null,P=0,j=0,D=0,O=0,I=null,R=!1;for(s=0,a=x.length;s<a;s++)if(o=_[s+1]){var M=x[s],E=M.length,V=parseInt(o,10);switch(M){case A.DAY_OF_MONTH_DOUBLE_DIGIT:case A.DAY_OF_MONTH_SINGLE_DIGIT:if(b(T=V,1,31))return null;break;case A.MONTH_THREE_LETTER:case A.MONTH_FULL_NAME:if(b(w=C(m,o,3===E),0,11))return null;break;case A.MONTH_SINGLE_DIGIT:case A.MONTH_DOUBLE_DIGIT:if(b(w=V-1,0,11))return null;break;case A.YEAR_SINGLE_DIGIT:case A.YEAR_DOUBLE_DIGIT:case A.YEAR_FULL:if(b(y=E<4?v(m,V):V,0,9999))return null;break;case A.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case A.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:if(12===(P=V)&&(P=0),b(P,0,11))return null;break;case A.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case A.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:if(b(P=V,0,23))return null;break;case A.MINUTES_SINGLE_DIGIT:case A.MINUTES_DOUBLE_DIGIT:if(b(j=V,0,59))return null;break;case A.SECONDS_SINGLE_DIGIT:case A.SECONDS_DOUBLE_DIGIT:if(b(D=V,0,59))return null;break;case A.MERIDIAN_INDICATOR_FULL:case A.MERIDIAN_INDICATOR_SINGLE:if(!(R=m.PM&&(o===m.PM[0]||o===m.PM[1]||o===m.PM[2]))&&(!m.AM||o!==m.AM[0]&&o!==m.AM[1]&&o!==m.AM[2]))return null;break;case A.DECISECONDS:case A.CENTISECONDS:case A.MILLISECONDS:if(b(O=V*Math.pow(10,3-E),0,999))return null;break;case A.DAY_OF_WEEK_THREE_LETTER:T=L(e,t,i,m);break;case A.DAY_OF_WEEK_FULL_NAME:if(S(m,o,3===E),b(k,0,6))return null;break;case A.TIME_ZONE_OFFSET_FULL:if(2!==(r=o.split(/:/)).length||b(f=parseInt(r[0],10),-12,13)||b(l=parseInt(r[1],10),0,59))return null;I=60*f+(n(o,"-")?-l:l);break;case A.TIME_ZONE_OFFSET_SINGLE_DIGIT:case A.TIME_ZONE_OFFSET_DOUBLE_DIGIT:if(b(f=V,-12,13))return null;I=60*f}}if(d=new Date,c=(u=m.convert)?u.fromGregorian(d)[0]:d.getFullYear(),null===y&&(y=c),null===w&&(w=0),null===T&&(T=1),u){if(null===(d=u.toGregorian(y,w,T)))return null}else if(d.setFullYear(y,w,T),d.getDate()!==T||null!==k&&d.getDay()!==k)return null;return R&&P<12&&(P+=12),d.setHours(P,j,D,O),null!==I&&(p=d.getMinutes()-(I+d.getTimezoneOffset()),d.setHours(d.getHours()+parseInt(p/60,10),p%60)),d}function j(e,t,i){function s(e,t){var i,s=e+"";return t>1&&s.length<t?(i=f[t-2]+s).substr(i.length-t,t):s}function a(){return m||g||(m=b.test(t),g=!0),m}var o,r,l,n,d,h,c=i.calendar,u=c.convert;if(!t||!t.length||"i"===t)return i&&i.name.length?u?j(e,c.patterns.F,i):e.toLocaleString():e.toString();r="s"===t,t=k(c,t),o=[];var p,m,g,_,f=["0","00","000"],b=/([^d]|^)(d|dd)([^d]|$)/g,v=0,x=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;for(!r&&u&&(_=u.fromGregorian(e));;){var y=x.lastIndex,w=x.exec(t);if(v+=T(t.slice(y,w?w.index:t.length),o),!w)break;if(v%2)o.push(w[0]);else switch(n=(l=w[0]).length,l){case A.DAY_OF_WEEK_THREE_LETTER:case A.DAY_OF_WEEK_FULL_NAME:d=3===n?c.days.namesAbbr:c.days.names,o.push(d[e.getDay()]);break;case A.DAY_OF_MONTH_SINGLE_DIGIT:case A.DAY_OF_MONTH_DOUBLE_DIGIT:m=!0,o.push(s(_?_[2]:e.getDate(),n));break;case A.MONTH_THREE_LETTER:case A.MONTH_FULL_NAME:h=_?_[1]:e.getMonth(),o.push(c.monthsGenitive&&a()?c.monthsGenitive[3===n?"namesAbbr":"names"][h]:c.months[3===n?"namesAbbr":"names"][h]);break;case A.MONTH_SINGLE_DIGIT:case A.MONTH_DOUBLE_DIGIT:o.push(s((_?_[1]:e.getMonth())+1,n));break;case A.YEAR_SINGLE_DIGIT:case A.YEAR_DOUBLE_DIGIT:case A.YEAR_FULL:h=_?_[0]:e.getFullYear(),n<4&&(h%=100),o.push(s(h,n));break;case A.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case A.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:0===(p=e.getHours()%12)&&(p=12),o.push(s(p,n));break;case A.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case A.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:o.push(s(e.getHours(),n));break;case A.MINUTES_SINGLE_DIGIT:case A.MINUTES_DOUBLE_DIGIT:o.push(s(e.getMinutes(),n));break;case A.SECONDS_SINGLE_DIGIT:case A.SECONDS_DOUBLE_DIGIT:o.push(s(e.getSeconds(),n));break;case A.MERIDIAN_INDICATOR_SINGLE:case A.MERIDIAN_INDICATOR_FULL:h=e.getHours()<12?c.AM?c.AM[0]:" ":c.PM?c.PM[0]:" ",o.push(1===n?h.charAt(0):h);break;case A.DECISECONDS:case A.CENTISECONDS:case A.MILLISECONDS:o.push(s(e.getMilliseconds(),3).substr(0,n));break;case A.TIME_ZONE_OFFSET_SINGLE_DIGIT:case A.TIME_ZONE_OFFSET_DOUBLE_DIGIT:p=e.getTimezoneOffset()/60,o.push((p<=0?"+":"-")+s(Math.floor(Math.abs(p)),n));break;case A.TIME_ZONE_OFFSET_FULL:p=e.getTimezoneOffset()/60,o.push((p<=0?"+":"-")+s(Math.floor(Math.abs(p)),2)+":"+s(Math.abs(e.getTimezoneOffset()%60),2));break;case A.DATE_SEPARATOR:o.push(c["/"]||"/");break;default:throw"Invalid date format pattern '"+l+"'."}}return o.join("")}function D(e,t){return t.length?D(e[t[0]],t.slice(1)):e}var A;ej.globalize={},ej.cultures={},ej.cultures.default=ej.cultures["en-US"]=e.extend(!0,{name:"en-US",englishName:"English",nativeName:"English",language:"en",isRTL:!1,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{"/":"/",":":":",firstDay:0,week:{name:"Week",nameAbbr:"Wek",nameShort:"Wk"},days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}}},ej.cultures["en-US"]),ej.cultures["en-US"].calendar=ej.cultures["en-US"].calendar||ej.cultures["en-US"].calendars.standard;var O=/^\s+|\s+$/g,I=/^[+-]?infinity$/i,R=/^0x[a-f0-9]+$/i,M=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,E={9:"[0-9 ]",0:"[0-9 ]",a:"[A-Za-z0-9 ]",A:"[A-Za-z0-9]",N:"[0-9]","#":"[0-9]","&":"[^\x7f]+","<":"",">":"",C:"[A-Za-z ]","?":"[A-Za-z]"};A={DAY_OF_WEEK_THREE_LETTER:"ddd",DAY_OF_WEEK_FULL_NAME:"dddd",DAY_OF_MONTH_SINGLE_DIGIT:"d",DAY_OF_MONTH_DOUBLE_DIGIT:"dd",MONTH_THREE_LETTER:"MMM",MONTH_FULL_NAME:"MMMM",MONTH_SINGLE_DIGIT:"M",MONTH_DOUBLE_DIGIT:"MM",YEAR_SINGLE_DIGIT:"y",YEAR_DOUBLE_DIGIT:"yy",YEAR_FULL:"yyyy",HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:"h",HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:"hh",HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:"H",HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:"HH",MINUTES_SINGLE_DIGIT:"m",MINUTES_DOUBLE_DIGIT:"mm",SECONDS_SINGLE_DIGIT:"s",SECONDS_DOUBLE_DIGIT:"ss",MERIDIAN_INDICATOR_SINGLE:"t",MERIDIAN_INDICATOR_FULL:"tt",DECISECONDS:"f",CENTISECONDS:"ff",MILLISECONDS:"fff",TIME_ZONE_OFFSET_SINGLE_DIGIT:"z",TIME_ZONE_OFFSET_DOUBLE_DIGIT:"zz",TIME_ZONE_OFFSET_FULL:"zzz",DATE_SEPARATOR:"/"},ej.globalize._getDateParseRegExp=function(e,t){var i,s,a,o,r,l,n=e._parseRegExp;if(n){if(i=n[t])return i}else e._parseRegExp=n={};for(var d,h=k(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),c=["^"],u=[],p=0,m=0,g=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;null!==(d=g.exec(h));)if(s=h.slice(p,d.index),p=g.lastIndex,(m+=T(s,c))%2)c.push(d[0]);else{switch(o=(a=d[0]).length,a){case A.DAY_OF_WEEK_THREE_LETTER:case A.DAY_OF_WEEK_FULL_NAME:case A.MONTH_FULL_NAME:case A.MONTH_THREE_LETTER:r="(\\D+)";break;case A.MERIDIAN_INDICATOR_FULL:case A.MERIDIAN_INDICATOR_SINGLE:r="(\\D*)";break;case A.YEAR_FULL:case A.MILLISECONDS:case A.CENTISECONDS:case A.DECISECONDS:r="(\\d{"+o+"})";break;case A.DAY_OF_MONTH_DOUBLE_DIGIT:case A.DAY_OF_MONTH_SINGLE_DIGIT:case A.MONTH_DOUBLE_DIGIT:case A.MONTH_SINGLE_DIGIT:case A.YEAR_DOUBLE_DIGIT:case A.YEAR_SINGLE_DIGIT:case A.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:case A.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case A.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:case A.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case A.MINUTES_DOUBLE_DIGIT:case A.MINUTES_SINGLE_DIGIT:case A.SECONDS_DOUBLE_DIGIT:case A.SECONDS_SINGLE_DIGIT:r="(\\d\\d?)";break;case A.TIME_ZONE_OFFSET_FULL:r="([+-]?\\d\\d?:\\d{2})";break;case A.TIME_ZONE_OFFSET_DOUBLE_DIGIT:case A.TIME_ZONE_OFFSET_SINGLE_DIGIT:r="([+-]?\\d\\d?)";break;case A.DATE_SEPARATOR:r="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+a+"'."}r&&c.push(r),u.push(d[0])}return T(h.slice(p),c),c.push("$"),l={regExp:c.join("").replace(/\s+/g,"\\s+"),groups:u},n[t]=l},ej.globalize.addCulture=function(t,i){ej.cultures[t]=e.extend(!0,e.extend(!0,{},ej.cultures.default,i),ej.cultures[t]),ej.cultures[t].calendar=ej.cultures[t].calendars.standard},ej.globalize.preferredCulture=function(e){return e="undefined"!=typeof e&&typeof e==typeof this.cultureObject?e.name:e,this.cultureObject=ej.globalize.findCulture(e),this.cultureObject},ej.globalize.setCulture=function(e){return ej.isNullOrUndefined(this.globalCultureObject)&&(this.globalCultureObject=ej.globalize.findCulture(e)),(e="undefined"!=typeof e&&typeof e==typeof this.globalCultureObject?e.name:e)&&(this.globalCultureObject=ej.globalize.findCulture(e)),ej.cultures.current=this.globalCultureObject,this.globalCultureObject},ej.globalize.culture=function(e){ej.cultures.current=ej.globalize.findCulture(e)},ej.globalize.findCulture=function(t){var i,s,a,o,r;if(t){if(e.isPlainObject(t)&&t.numberFormat&&(i=t),"string"==typeof t){if((s=ej.cultures)[t])return s[t];if(t.indexOf("-")>-1){if(s[a=t.split("-")[0]])return s[a]}else for(o=e.map(s,(function(e){return e})),r=0;r<o.length;r++)if(o[r].name.split("-")[0]===t)return o[r];return ej.cultures.default}}else i=ej.cultures.current||ej.cultures.default;return i},ej.globalize.format=function(e,t,i){var s=ej.globalize.findCulture(i);return"number"==typeof e?e=g(e,t,s):e instanceof Date&&(e=j(e,t,s)),e},ej.globalize._round=function(e,t){var i=Math.pow(10,t);return Math.round(e*i)/i},ej.globalize.parseInt=function(e,t,i){return t||(t=10),Math.floor(f(e,i,t))},ej.globalize.getISODate=function(e){if(e instanceof Date)return e.toISOString()},ej.globalize.parseFloat=function(e,t,i){return"string"==typeof t&&(i=t,t=10),f(e,i)},ej.globalize.parseDate=function(e,t,i){var s,a,o,r,l,n;if(i=ej.globalize.findCulture(i),t){if("string"==typeof t&&(t=[t]),t.length)for(r=0,l=t.length;r<l&&(!(n=t[r])||!(s=P(e,n,i)));r++);}else for(a in o=i.calendar.patterns)if(s=P(e,o[a],i))break;return s||null},ej.globalize.getLocalizedConstants=function(t,i){var s,a=t.replace("ej.","").split(".");return s=D(ej,a),e.extend(!0,{},s.Locale.default,s.Locale[i||this.cultureObject.name])},e.extend(ej,ej.globalize)}(jQuery)},void 0===(o="function"===typeof s?s.apply(t,a):s)||(e.exports=o)},654:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,_defineProperty=__webpack_require__(41).default,n;n=function(){(function($,ej,undefined){ej.widget("boldReportViewer","ej.ReportViewer",{_rootCSS:"e-reportviewer",element:null,model:null,validTags:["div"],defaults:{reportServiceUrl:"",reportServerId:"",reportCacheID:"",serviceAuthorizationToken:"",reportViewerClientId:"",reportViewerId:"",reportPath:"",enableVirtualEvaluation:!1,reportServerUrl:"",dataSources:[],parameters:[],exportSettings:{exportOptions:255,excelFormat:"excel2013",pptFormat:"powerpoint97to2003",wordFormat:"docx",customItems:[],imageQuality:2},toolbarSettings:{items:1023,showToolbar:!0,templateId:"",click:"",showTooltip:!0,customGroups:[],customItems:[]},locale:"en-US",printMode:!1,sizeToReportContent:!1,renderMode:3,printOption:"Default",enablePageCache:!1,enablePageVirtualization:!1,pageSettings:{height:0,width:0,orientation:null,paperSize:null,margins:{top:0,right:0,bottom:0,left:0}},processingMode:"remote",zoomFactor:1,isResponsive:!0,reportLoaded:null,ajaxBeforeLoad:null,ajaxLoad:null,ajaxSuccess:null,ajaxError:null,toolbarRendering:null,toolBarItemClick:null,renderingBegin:null,beforeParameterAdd:null,renderingComplete:null,reportError:null,reportErrorBanner:null,showError:null,reportExport:null,exportProgressChanged:null,printProgressChanged:null,exportItemClick:null,drillThrough:null,hyperlink:null,reportPrint:null,viewReportClick:null,destroy:null,tenantName:null,enableParameterBlockScroller:!0,enableOnScrollNavigation:!0,enableDatasourceBlockScroller:!0,enableNotificationBar:!0,enableDropDownSearch:!1,showExceptionsInDialog:!1,enableAnimation:!0,autoRender:!0,isDataRendered:!1,parameterSettings:{delimiterChar:",",dateTimePickerType:"Default",minDateTime:null,maxDateTime:null,popupHeight:"152px",popupWidth:"auto",itemWidth:"185px",labelWidth:"110px",attributes:{},hideParameterBlock:!1,timeDisplayFormat:"",dateTimeFormat:"",timeInterval:30,accessInternalValue:!1},parameterUpdateStateChange:null,waitingPopupTemplate:null,customBrandSettings:{hideHelpLink:!1,customDomain:"https://help.boldreports.com",customBrandName:"Bold Reports",customLinks:[{name:"ESLicenseMessage",url:"/licensing/license-token/"}]}},dataTypes:{dataSources:"array",parameters:"array",toolbarSettings:{showToolbar:"boolean"}},_dataVisualization:[],_dataVisualItemCount:0,_currentDropdownText:null,_dataSources:null,_reportParametersModel:[],_reloadParams:[],_svg:!0,_reportViewerToken:null,_sessionToken:null,_serviceType:"Default",_dataRefresh:!1,_isForwardDirection:!1,_isSelectedPage:!1,_refresh:!1,_isPageSetupValueChange:!1,_isToolbarClick:!1,_currnetDocMapNodeId:null,_currentBookmarkInfo:null,_isPopupClick:!1,_printMode:!1,_pageSetup:!1,_pageModel:null,_isprint:!1,_cancelPrintExport:!1,_currentPage:1,_pageLayoutPage:1,_machineCulture:null,_reportParameters:null,_paramInfo:null,_reportDataSources:null,_customParameters:[],_reporDataSets:null,_isRDLC:!1,_zoomLevel:2,_preZoomVal:1,_actionUrl:null,_isDocumentMap:!1,_isPageDocMap:!1,_isDrillThroughReport:!1,_pageDocMapFlag:!1,_childReportToken:null,_parents:[],_parentPageXY:null,_browserInfo:null,_serverActionInfo:null,_isDevice:!1,_zoomVal:1,_originX:0,_originY:0,_paperName:null,_excelFormat:null,_wordFormat:null,_isPercentHeight:-1,_isPercentWidth:-1,_isHeight:!1,_currentTogglePosition:0,_isWidth:!1,_isDesign:!1,_paperOrientation:null,_legendPointNames:null,_updateParam:null,_isFitToPage:!1,_isFitToWidth:!1,_isDataLabel:!1,_pageCache:[],_printData:[],_printPageCache:[],_scrollHeight:0,_localeObj:null,_licenseMessage:null,_touchScreen:{startPoint:0,endPoint:0},_isPinchZoom:!1,_pageImagesCache:null,_reportImages:{},_paperSetup:{paperHeight:null,paperWidth:null,MarginTop:0,MarginRight:0,MarginBottom:0,MarginLeft:0},_reportAction:{reportLoad:"ReportLoad",getDataSourceCredential:"GetDataSourceCredential",validateDSCredential:"ValidateDSCredential",updateDSCredential:"UpdateDSCredential",getParameters:"GetParameters",setParameters:"SetParameters",updateParameters:"UpdateParameters",updateDataSource:"UpdateDataSource",getPageModel:"GetPageModel",getPrintModel:"GetPrintModel",drillDown:"DrillDown",clearCache:"ClearCache",documentMap:"DocumentMap",drillThrough:"DrillThrough",sorting:"Sorting",exporting:"Export",clearObjects:"ClearObjects",getImages:"GetImages",updateTextValue:"UpdateTextValue"},_elementsRendered:null,_tags:[{tag:"parameters",attr:["",[{tag:"parameter",attr:["name","labels","values","nullable"]}]]},{tag:"dataSources",attr:["",[{tag:"datasource",attr:["name","value"]}]]}],_setModel:function(e){var t,i,s,a,o,r,l=!1,n=!1;for(t in this._parents.length>0&&this._parents.pop(),e)switch(t){case"reportPath":case"enableVirtualEvaluation":case"reportServerUrl":l=!0;case"reportServiceUrl":this._actionUrl=this.model.reportServiceUrl+"/PostReportAction",this._actionUrl=this._getMultiTenantUrl(this._actionUrl,!0),l=!0;break;case"dataSources":case"parameters":l=!0;break;case"processingMode":n=!0;break;case"zoomFactor":i=$("#"+this._id+"_toolbar_zoom").data("ejDropDownList"),-1!==(s=[.5,.75,1,1.25,1.5,2,4]).indexOf(e[t])&&i.selectItemsByIndices(s.indexOf(e[t]));break;case"printMode":this._updatePreviewLayout(e[t],!1);break;case"toolbarSettings":this._updateToolbarmodel();break;case"locale":this._setCultureInfo();break;case"renderMode":this._reInit();break;case"reportViewerId":this._reportViewerToken=this.model.reportViewerId?this.model.reportViewerId:this._reportViewerToken;break;case"pageSettings":for(a in e[t])switch(a){case"height":this._paperSetup.paperHeight=e[t][a],this._paperName="Custom";break;case"width":this._paperSetup.paperWidth=e[t][a],this._paperName="Custom";break;case"orientation":this._paperOrientation=e[t][a];break;case"paperSize":this._paperName=e[t][a];break;case"margins":for(o in e[t][a])switch(o){case"top":this._paperSetup.MarginTop=e[t][a][o];break;case"bottom":this._paperSetup.MarginBottom=e[t][a][o];break;case"left":this._paperSetup.MarginLeft=e[t][a][o];break;case"right":this._paperSetup.MarginRight=e[t][a][o]}}this._setPageSettings(),this._printMode&&(r=this._printMode?"_getPreviewModel":"_getPageModel",this._ajaxCallMethod(this._reportAction.getPageModel,r,!1));break;case"waitingPopupTemplate":this.model.waitingPopupTemplate=e[t],this.element.find("#"+this._id+"_viewerContainer").data("ejWaitingPopup").setModel({template:this.model.waitingPopupTemplate}),this.element.find("#"+this._id+"_loadingIndicator").data("ejWaitingPopup").setModel({template:this.model.waitingPopupTemplate})}n&&!l&&this.model.reportServiceUrl&&this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.getDataSourceCredential,dataSources:this.model.dataSources,parameters:this.model.parameters}),"_getDataSourceCredential"),this.model.reportPath?l&&this.model.reportServiceUrl&&this._ajaxCallMethod(this._reportAction.clearCache,"_reportReload",!1):(this._initViewer(),this._setPageSize(0,0,0,0))},_reInit:function(){this._destroy(),this._init()},_destroyEJObjects:function(e){for(var t,i,s,a=$(e).find(".e-js"),o=0;o<a.length;o++)if((i=(t=a.eq(o).data()).ejWidgets)&&i.length)for(s=0;s<i.length;s++)t[i[s]]&&t[i[s]].destroy&&t[i[s]].destroy()},_destroy:function(){var e=this.element.find("#"+this._id+"_toolbarContainer"),t=$("#"+this._id+"_printPageSetup"),i=$("#"+this._id+"_viewer_alert_dialog");!ej.isNullOrUndefined(e)&&e.length>0&&e.data("ejToolbar")&&(this._destroyEJObjects(e),e.data("ejToolbar").destroy(),e.remove()),!ej.isNullOrUndefined(t)&&t.length>0&&t.data("ejDialog")&&(this._destroyEJObjects(t),t.data("ejDialog").destroy(),$("#"+this._id+"_printPageSetup").remove()),!ej.isNullOrUndefined(i)&&i.length>0&&i.data("ejDialog")&&(this._destroyEJObjects(i),i.data("ejDialog").destroy(),$("#"+this._id+"_viewer_alert_dialog").remove()),this._destroyEJObjects(this.element),this._clearPageCache(),$("#"+this._id+"_exportForm").remove(),$("#"+this._id+"_toolbar_exportListTip").remove(),$("#"+this._id+"_toolbar_fittoPagePopup").remove(),$("#"+this._id+"_pageInfoPopup").remove(),$("#"+this._id+"_printPageIframe").remove(),this.element.find("#"+this._id+"_licensing_msgContainer").remove(),$(this.element).find(".e-reportviewer-viewer").remove(),this._ajaxCallMethod(this._reportAction.clearCache,"_clearCurrentServerCache",!1)},_destroyExistingObj:function(){$("#"+this._id+"_printPageSetup").remove(),this._parents.length>0&&this._parents.pop()},_hidePageView:function(){$("#"+this._id+"_pageviewOuterContainer").css("display","none")},_destroyPageItems:function(){var e=$("#"+this._id+"_pageviewheaderContainer"),t=$("#"+this._id+"_pageviewfooterContainer"),i=$("#"+this._id+"_pageviewbodyContainer"),s=$("#"+this._id+"_pageviewContainer").find(".e-js");s&&s.length>0&&(this._destroyEJObjects(s),s.prevObject&&s.prevObject.length>0&&this._resetTagStyle(s.prevObject)),s=null,e.length>0&&(e.empty(),this._resetTagStyle(e.parent())),t.length>0&&(t.empty(),this._resetTagStyle(t.parent())),i.length>0&&(i.empty(),this._resetTagStyle(i.parent()))},_resetTagStyle:function(e){e.css({"border-color":"transparent","background-color":"transparent","border-style":"none","border-width":"0pt","background-image":"none"})},_init:function(){this._svg=!!window.SVGSVGElement,this._actionUrl=this.model.reportServiceUrl+"/PostReportAction",this._actionUrl=this._getMultiTenantUrl(this._actionUrl,!0),this._reportViewerToken=this.model.reportViewerId?this.model.reportViewerId:this._reportViewerToken,this._browserInfo=ej.browserInfo(),this.element.hasClass("e-rptdesigner")&&(this._isDesign=!0),this._destroyExistingObj(),this._renderViewer(),this._initViewer(),this._on($(window),"resize",this._viewerResize),$("#"+this._id+"_toolbar_li_gotoparent")&&$("#"+this._id+"_toolbar_li_gotoparent").css("display","none"),this.model.reportServiceUrl&&this._ajaxCallMethod(this._reportAction.reportLoad,"_reportLoaded",!1)},_initViewer:function(){this._wireEvents(),this._initToolbar(),this._destroyPageItems(),this._resetPageNumber(!1),this._clearPageCache(),this._showException(!1),this._currentPage=1,this._pageLayoutPage=this._currentPage,this._setPageSettings(),this._isDocumentMap=!1,this._printMode=this.model.printMode,this._isPageDocMap=!1,this._pageDocMapFlag=!1,this._viewReportEnableDisable(!1);var e=this.model.toolbarSettings;e.templateId||(this._showToolbar(e.showToolbar),this._showPrintButton(e.items&ej.ReportViewer.ToolbarItems.Print),this._showRefreshButton(e.items&ej.ReportViewer.ToolbarItems.Refresh),this._showStopButton(e.items&ej.ReportViewer.ToolbarItems.Stop),this._showExportSetupButton(e.items&ej.ReportViewer.ToolbarItems.ExportSetup),this._showZoomControl(e.items&ej.ReportViewer.ToolbarItems.Zoom),this._showFittoPage(e.items&ej.ReportViewer.ToolbarItems.FittoPage),this._showExportControls(e.items&ej.ReportViewer.ToolbarItems.Export),this._showPrintPageSetupButton(e.items&ej.ReportViewer.ToolbarItems.PageSetup),this._showExportList(),this._showPageNavigationControls(e.items&ej.ReportViewer.ToolbarItems.PageNavigation),this._showParameterBlock(e.items&ej.ReportViewer.ToolbarItems.Parameters),this._showPreviewButton(e.items&ej.ReportViewer.ToolbarItems.PrintLayout),this._showDrillThrough(this._parents.length>0),this._showDocumentMap(!1),this._destroyDocumentMapTree()),this._showViewerBlock(!1),this._setContainerSize(),this.model.reportServiceUrl&&this.model.reportPath?this._showloadingIndicator(!0):this._showloadingIndicator(!1)},_setPageSettings:function(){var e,t,i=!1,s=0,a=0;this._paperName=null,this._paperOrientation=null,this._paperSetup.paperHeight=0,this._paperSetup.paperWidth=0,this._paperSetup.MarginBottom=0,this._paperSetup.MarginLeft=0,this._paperSetup.MarginRight=0,this._paperSetup.MarginTop=0,this.model.pageSettings&&this.model.pageSettings.height>0&&(a=this.model.pageSettings.height,i=!0,this._isPageSetupValueChange=!0),this.model.pageSettings&&this.model.pageSettings.width>0&&(s=this.model.pageSettings.width,i=!0,this._isPageSetupValueChange=!0),this.model.pageSettings.paperSize?(this._paperName=this.model.pageSettings.paperSize,this._isPageSetupValueChange=!0,e=this._getPaperSize(this.model.pageSettings.paperSize),i&&(s>0&&(e.width=s),a>0&&(e.height=a),t="Landscape"==this.model.pageSettings.orientation?this._getPaperName(e.height,e.width):this._getPaperName(e.width,e.height),this._paperName=this.model.pageSettings.paperSize==t?this.model.pageSettings.paperSize:"Custom"),this._paperOrientation="Landscape"==this.model.pageSettings.orientation?"Landscape":"Portrait","Landscape"==this.model.pageSettings.orientation?(this._paperSetup.paperHeight=e.height<e.width?e.height:e.width,this._paperSetup.paperWidth=e.height<e.width?e.width:e.height):(this._paperSetup.paperHeight=e.height,this._paperSetup.paperWidth=e.width)):i&&(s>0&&(this._paperSetup.paperWidth=s),a>0&&(this._paperSetup.paperHeight=a),this._paperName="Custom"),this.model.pageSettings&&this.model.pageSettings.margins&&(this.model.pageSettings.margins.left>0&&(this._paperSetup.MarginLeft=this.model.pageSettings.margins.left,this._isPageSetupValueChange=!0),this.model.pageSettings.margins.right>0&&(this._paperSetup.MarginRight=this.model.pageSettings.margins.right,this._isPageSetupValueChange=!0),this.model.pageSettings.margins.bottom>0&&(this._paperSetup.MarginBottom=this.model.pageSettings.margins.bottom,this._isPageSetupValueChange=!0),this.model.pageSettings.margins.top>0&&(this._paperSetup.MarginTop=this.model.pageSettings.margins.top,this._isPageSetupValueChange=!0))},_renderPageInfoPopup:function(){var e,t,i=$("#"+this._id+"_pageInfoPopup");i.length>0||(i=ej.buildTag("div.e-reportviewer-pagepopupinfo","",{"WHITE-SPACE":"nowrap"},{id:this._id+"_pageInfoPopup"}),(e=ej.buildTag("input.e-reportviewer-pagenumber e-reportviewer-elementalignments ejinputtext","",{},{type:"text",value:this._currentPage,id:this._id+"_popupPageNo"})).css("height","25.5px"),e.css("width","25px"),e.css("background-color","black"),e.css("color","white"),e.css("border-color","black"),(t=ej.buildTag("span.e-reportviewer-popuptotalpage","",{},{})).append(" / "+this._pageModel.TotalPages),i.append(e),i.append(t),$("body").append(i),this._on($("#"+this._id+"_popupPageNo"),"click",this._popupClick),this._on($("#"+this._id+"_popupPageNo"),"keypress",this._onkeyPress)),"block"==i.css("display")?(i.stop().fadeIn(),i.stop().fadeOut(3e3),i.hide(3e3)):(i.show(),i.stop().fadeIn(),i.stop().fadeOut(3e3),i.hide(3e3));var s=$("#"+this._id+"_viewerContainer"),a=s.offset().left+s.width()/2-i.width()/2,o=s.offset().top+s.height()/2-i.height()/2;i.css({left:a,top:o}),this._updatePageNo()},_renderToolBar:function(e){var t,i,s,a,o,r,l,n;this.model.toolbarSettings.templateId?(n=$("#"+this.model.toolbarSettings.templateId),e.append(n),n.ejToolbar({isResponsive:!0,enableSeparator:!0,cssClass:"e-rptviewer-toolbar e-report-responsive-toolbar",height:n.height(),click:this.model.toolbarSettings.click}),n.css("display","block")):(t=ej.buildTag("div.e-reportviewer-toolbarcontainer .e-reportviewer-viewer","",{width:"100%"},{id:this._id+"_toolbarContainer",tabindex:"0"}),e.append(t),this._isDevice?(i=ej.buildTag("ul.e-reportviewer-toolbarul","",{},{id:this._id+"_toolbarUl_exportZoom"}),this._appendToolbarItems(i,"print"),this._appendToolbarItems(i,"export"),this._appendToolbarItems(i,"exportsetup"),this._appendToolbarItems(i,"zoomout"),this._appendToolbarItems(i,"zoomin"),this._appendToolbarItems(i,"pagefit"),t.append(i),s=ej.buildTag("ul.e-reportviewer-toolbarul","",{},{id:this._id+"_toolbarUl_refreshParam"}),this._appendToolbarItems(s,"gotoparent"),this._appendToolbarItems(s,"refresh"),this._appendToolbarItems(s,"parameter"),t.append(s),o=ej.buildTag("ul.e-reportviewer-toolbarul","",{},{id:this._id+"_toolbarUl_navigate"}),this._appendToolbarItems(o,"gotofirst"),this._appendToolbarItems(o,"gotoprevious"),this._appendToolbarItems(o,"gotopage"),this._appendToolbarItems(o,"gotonext"),this._appendToolbarItems(o,"gotolast"),t.append(o)):(a=ej.buildTag("ul.e-reportviewer-toolbarul","",{},{id:this._id+"_toolbarUl_printExport"}),this._appendToolbarItems(a,"print"),this._appendToolbarItems(a,"export"),this._appendToolbarItems(a,"exportsetup"),this._appendToolbarItems(a,"preview"),this._appendToolbarItems(a,"pagesetup"),t.append(a),o=ej.buildTag("ul.e-reportviewer-toolbarul","",{},{id:this._id+"_toolbarUl_navigate"}),this._appendToolbarItems(o,"gotofirst"),this._appendToolbarItems(o,"gotoprevious"),this._appendToolbarItems(o,"gotopage"),this._appendToolbarItems(o,"gotonext"),this._appendToolbarItems(o,"gotolast"),this._appendToolbarItems(o,"gotoparent"),t.append(o),r=ej.buildTag("ul.e-reportviewer-toolbarul","",{},{id:this._id+"_toolbarUl_zoom"}),this._appendToolbarItems(r,"zoomout"),this._appendToolbarItems(r,"zoomin"),this._appendToolbarItems(r,"zoom"),this._appendToolbarItems(r,"pagefit"),t.append(r),l=ej.buildTag("ul.e-reportviewer-toolbarul","",{},{id:this._id+"_toolbarUl_refreshParam"}),this._appendToolbarItems(l,"refresh"),this._appendToolbarItems(l,"stop"),this._appendToolbarItems(l,"documentmap"),this._appendToolbarItems(l,"parameter"),t.append(l),$("#"+this._id+"_toolbar_zoom").ejDropDownList({cssClass:"e-rptviewer-drpdown",height:"27px",width:"80px",change:this._zoomValChange,selectedItem:2,enableAnimation:!0,htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":this._getLocaleString("toolbar","zoom","headerText")}}),$("#"+this._id+"_toolbar_zoom_popup_list_wrapper").addClass("e-reportviewer-zoomSelection_popup"),$("#"+this._id+"_toolbar_zoom_popup ul").addClass("e-reportviewer-zoomSelection_popup-ul")),this._onToolbarRendering({target:t}),this._customToolbarRendering(t.find("ul")),this._isDesign&&this._setTooltip(),t.ejToolbar({cssClass:this._isDesign?"e-rptdesigner":"e-rptviewer",isResponsive:!0,enableSeparator:!this._isDevice,click:$.proxy(this._toolbarClick,this)}))},_customToolbarRendering:function(e){for(var t,i,s,a=$.extend(!0,[],this.model.toolbarSettings.customItems),o=$.extend(!0,[],this.model.toolbarSettings.customGroups),r=[],l=0;l<o.length;l++)r.push(o[l]);for(r.sort(this._sortComparer),t=[],l=0;l<a.length;l++)t.push(a[l]);for(t.sort(this._sortComparer),l=0;l<r.length;l++){for(i=ej.buildTag("ul.e-reportviewer-toolbarul","",{}),s=0;s<r[l].items.length;s++)n=r[l].items[s].type,d=this._getToolbarElement(r[l].items[s],ej.isNullOrUndefined(r[l].groupIndex)?s:r[l].groupIndex,n),i.append(d);ej.isNullOrUndefined(r[l].groupIndex)?$(e).eq(e.length-1).after(i):0==r[l].groupIndex?$(e).eq(r[l].groupIndex).before(i):$(e).hasOwnProperty(r[l].groupIndex)?$(e).eq(r[l].groupIndex-1).after(i):$(e).eq(e.length-1).after(i),r[l].cssClass&&i.addClass(r[l].cssClass)}for(l=0;l<t.length;l++){var n=t[l].type,d=this._getToolbarElement(t[l],ej.isNullOrUndefined(t[l].index)?t[l].index:l,n),h=e[ej.isNullOrUndefined(t[l].groupIndex)||!e.hasOwnProperty(t[l].groupIndex)?e.length-1:t[l].groupIndex];ej.isNullOrUndefined(t[l].index)?$(h.childNodes).eq(h.childNodes.length-1).after(d):0==t[l].index?$(h.childNodes).eq(t[l].index).before(d):$(h.childNodes).hasOwnProperty(t[l].index)?$(h.childNodes).eq(t[l].index-1).after(d):$(h.childNodes).eq(h.childNodes.length-1).after(d)}},_sortComparer:function(e,t){return t.index-e.index},_getToolbarElement:function(e,t,i){var s,a;switch(i){case ej.ReportViewer.InputElement.Default:s=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+e.id,"aria-disabled":"false",role:"button","aria-label":e.id}),a=ej.buildTag("span."+e.cssClass+" e-customoption","",{},{id:this._id+"_toolbar_"+e.id,header:ej.isNullOrUndefined(e.tooltip)?null:e.tooltip.header,content:ej.isNullOrUndefined(e.tooltip)?null:e.tooltip.content,value:e.id,cssClass:e.cssClass,groupIndex:ej.isNullOrUndefined(t)?e.groupIndex:t}),s.append(a);break;case ej.ReportViewer.InputElement.Button:s=ej.buildTag("li.e-custombutton","",{},{id:this._id+"_toolbar_li_"+e.id,header:ej.isNullOrUndefined(e.tooltip)?null:e.tooltip.header,content:ej.isNullOrUndefined(e.tooltip)?null:e.tooltip.content,value:e.id,cssClass:e.cssClass,groupIndex:ej.isNullOrUndefined(t)?e.groupIndex:t}),a=ej.buildTag("input."+e.cssClass+" e-customoption","",{},{type:"button",id:this._id+"_toolbar_"+e.id}),s.append(a),$(a).ejButton({text:e.value,type:"Button",htmlAttributes:{"aria-disabled":"false",role:"button","aria-label":e.id}});break;case ej.ReportViewer.InputElement.Textbox:s=ej.buildTag("li.e-customtextbox","",{},{id:this._id+"_toolbar_li_"+e.id,header:ej.isNullOrUndefined(e.tooltip)?null:e.tooltip.header,content:ej.isNullOrUndefined(e.tooltip)?null:e.tooltip.content,value:e.id,cssClass:e.cssClass,groupIndex:ej.isNullOrUndefined(t)?e.groupIndex:t}),a=ej.buildTag("input."+e.cssClass+" e-customoption","",{},{type:"text",id:this._id+"_toolbar_"+e.id}),s.append(a),a.ejMaskEdit({value:e.value,htmlAttributes:{"aria-disabled":"false",role:"textbox","aria-label":e.id}});break;case ej.ReportViewer.InputElement.Dropdown:s=ej.buildTag("li.e-customdropdown","",{},{id:this._id+"_toolbar_li_"+e.id,header:ej.isNullOrUndefined(e.tooltip)?null:e.tooltip.header,content:ej.isNullOrUndefined(e.tooltip)?null:e.tooltip.content,value:e.id,cssClass:e.cssClass,groupIndex:ej.isNullOrUndefined(t)?e.groupIndex:t}),a=ej.buildTag("select."+e.cssClass+" e-customoption","",{},{id:this._id+"_toolbar_"+e.id}),s.append(a),a.ejDropDownList({value:e.value,htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":e.id}})}return s},_appendToolbarItems:function(e,t){var i,s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"];switch(t){case"print":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","print","headerText")}),a=ej.buildTag("span.e-reportviewer-icon e-reportviewer-print","",{},{id:this._id+"_toolbar_"+t}),i.append(a);break;case"export":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","exportformat","headerText")}),b=ej.buildTag("span.e-reportviewer-icon e-reportviewer-export","",{},{id:this._id+"_toolbar_"+t}),i.append(b);break;case"exportsetup":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","exportsetup","headerText")}),o=ej.buildTag("span.e-reportviewer-icon e-reportviewer-exportsetup","",{},{id:this._id+"_toolbar_"+t}),i.append(o);break;case"pagesetup":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","pagesetup","headerText")}),r=ej.buildTag("span.e-reportviewer-icon e-reportviewer-pagesetup","",{},{id:this._id+"_toolbar_"+t}),i.append(r);break;case"gotofirst":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","first","headerText")}),l=ej.buildTag("span.e-reportviewer-icon e-reportviewer-gotofirst","",{},{id:this._id+"_toolbar_"+t}),i.append(l);break;case"gotolast":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","last","headerText")}),n=ej.buildTag("span.e-reportviewer-icon e-reportviewer-gotolast","",{},{id:this._id+"_toolbar_"+t}),i.append(n);break;case"gotonext":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","next","headerText")}),d=ej.buildTag("span.e-reportviewer-icon e-reportviewer-gotonext","",{},{id:this._id+"_toolbar_"+t}),i.append(d);break;case"gotoprevious":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","previous","headerText")}),h=ej.buildTag("span.e-reportviewer-icon e-reportviewer-gotoprevious","",{},{id:this._id+"_toolbar_"+t}),i.append(h);break;case"gotoparent":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","back","headerText")}),c=ej.buildTag("span.e-reportviewer-icon e-reportviewer-gotoparent","",{},{id:this._id+"_toolbar_"+t}),i.append(c);break;case"gotopage":u=this._getLocaleString("toolbar","pageIndex","headerText"),i=ej.buildTag("li.e-reportviewer-toolbarli e-reportviewer-tbpage","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":u}),p=ej.buildTag("input.e-reportviewer-pagenumber e-reportviewer-elementalignments ejinputtext","",{},{type:"text",value:"0",id:this._id+"_toolbar_"+t,"data-role":"none","aria-disabled":"false",role:"textbox","aria-label":u}),m=ej.buildTag("span.e-reportviewer-labelpageno","",{},{}),i.append(p),i.append(m);break;case"zoomin":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","zoomIn","headerText")}),g=ej.buildTag("span.e-reportviewer-icon e-reportviewer-zoomin","",{},{id:this._id+"_toolbar_"+t}),i.append(g);break;case"zoomout":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","zoomOut","headerText")}),_=ej.buildTag("span.e-reportviewer-icon e-reportviewer-zoomout","",{},{id:this._id+"_toolbar_"+t}),i.append(_);break;case"zoom":i=ej.buildTag("li.e-reportviewer-toolbarli e-reportviewer-ejdropdownlist","",{},{id:this._id+"_toolbar_li_"+t}),(f=ej.buildTag("select.e-reportviewer-tbdiv e-reportviewer-zoomlist","",{},{id:this._id+"_toolbar_"+t,"data-role":"none"})).append("<option>50%</option>"),f.append("<option>75%</option>"),f.append("<option Selected>100%</option>"),f.append("<option>125%</option>"),f.append("<option>150%</option>"),f.append("<option>200%</option>"),f.append("<option>400%</option>"),i.append(f);break;case"pagefit":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","fittopage","headerText")}),b=ej.buildTag("span.e-reportviewer-icon e-reportviewer-pagefit","",{},{id:this._id+"_toolbar_"+t}),i.append(b);break;case"preview":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","printLayout","headerText")}),v=ej.buildTag("span.e-reportviewer-icon e-reportviewer-preview","",{},{id:this._id+"_toolbar_"+t}),i.append(v);break;case"refresh":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","refresh","headerText")}),x=ej.buildTag("span.e-reportviewer-icon e-reportviewer-refresh","",{},{id:this._id+"_toolbar_"+t}),i.append(x);break;case"stop":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","stop","headerText")}),y=ej.buildTag("span.e-reportviewer-icon e-reportviewer-stop","",{},{id:this._id+"_toolbar_"+t}),i.append(y);break;case"documentmap":i=ej.buildTag("li.e-reportviewer-toolbarli","",{display:"none"},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","documentMap","headerText")}),w=ej.buildTag("span.e-reportviewer-icon e-reportviewer-documentmap","",{},{id:this._id+"_toolbar_"+t}),i.append(w);break;case"parameter":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","parameter","headerText")}),S=ej.buildTag("span.e-reportviewer-icon e-reportviewer-parameter","",{},{id:this._id+"_toolbar_"+t}),i.append(S);break;case"pdf":i=ej.buildTag("li.e-reportviewer-popupli e-pdf e-reportviewer-tab-focus-none","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","exportformat","Pdf")+" "+this._getLocaleString("toolbar","exportformat","headerText")}),(s=ej.buildTag("span .e-reportviewer-popupspan e-pdf","",{},{id:this._id+"_toolbar_"+t})).append(L.toolbar.exportformat.Pdf),i.append(s);break;case"xls":i=ej.buildTag("li.e-reportviewer-popupli e-excel e-reportviewer-tab-focus-none","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","exportformat","Excel")+" "+this._getLocaleString("toolbar","exportformat","headerText")}),(s=ej.buildTag("span .e-reportviewer-popupspan e-excel","",{},{id:this._id+"_toolbar_"+t})).append(L.toolbar.exportformat.Excel),i.append(s);break;case"word":i=ej.buildTag("li.e-reportviewer-popupli e-word e-reportviewer-tab-focus-none","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","exportformat","Word")+" "+this._getLocaleString("toolbar","exportformat","headerText")}),(s=ej.buildTag("span .e-reportviewer-popupspan e-word","",{},{id:this._id+"_toolbar_"+t})).append(L.toolbar.exportformat.Word),i.append(s);break;case"html":i=ej.buildTag("li.e-reportviewer-popupli e-html e-reportviewer-tab-focus-none","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","exportformat","Html")+" "+this._getLocaleString("toolbar","exportformat","headerText")}),(s=ej.buildTag("span .e-reportviewer-popupspan e-html","",{},{id:this._id+"_toolbar_"+t})).append(L.toolbar.exportformat.Html),i.append(s);break;case"ppt":i=ej.buildTag("li.e-reportviewer-popupli e-ppt e-reportviewer-tab-focus-none","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","exportformat","PPT")+" "+this._getLocaleString("toolbar","exportformat","headerText")}),(s=ej.buildTag("span .e-reportviewer-popupspan e-ppt","",{},{id:this._id+"_toolbar_"+t})).append(L.toolbar.exportformat.PPT),i.append(s);break;case"csv":i=ej.buildTag("li.e-reportviewer-popupli e-csv e-reportviewer-tab-focus-none","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","exportformat","CSV")+" "+this._getLocaleString("toolbar","exportformat","headerText")}),(s=ej.buildTag("span .e-reportviewer-popupspan e-csv","",{},{id:this._id+"_toolbar_"+t})).append(L.toolbar.exportformat.CSV),i.append(s);break;case"xml":i=ej.buildTag("li.e-reportviewer-popupli e-xml e-reportviewer-tab-focus-none","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","exportformat","XML")+" "+this._getLocaleString("toolbar","exportformat","headerText")}),(s=ej.buildTag("span .e-reportviewer-popupspan e-xml","",{},{id:this._id+"_toolbar_"+t})).append(L.toolbar.exportformat.XML),i.append(s);break;case"fittopage":i=ej.buildTag("li.e-reportviewer-popupli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","fittopage","headerText")});break;case"fittopagewidth":i=ej.buildTag("li.e-reportviewer-popupli e-fitpagewidth e-reportviewer-tab-focus-none","",{width:"auto"},{id:this._id+"_toolbar_li_"+t,isSelect:"false","aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","fittopage","headerText")+" "+this._getLocaleString("toolbar","fittopage","pageWidth")}),C=ej.buildTag("span.e-reportviewer-icon e-reportviewer-emptyconetent","",{"padding-right":"4px",cursor:"pointer"},{id:this._id+"_toolbar_"+t,fitType:"PAGEWIDTH"}),i.append(C),i.append(L.toolbar.fittopage.pageWidth);break;case"fittowholepage":i=ej.buildTag("li.e-reportviewer-popupli e-fitpageheight e-reportviewer-tab-focus-none","",{width:"auto"},{id:this._id+"_toolbar_li_"+t,isSelect:"false","aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","fittopage","headerText")+" "+this._getLocaleString("toolbar","fittopage","pageHeight")}),T=ej.buildTag("span.e-reportviewer-icon e-reportviewer-emptyconetent","",{"padding-right":"4px",cursor:"pointer"},{id:this._id+"_toolbar_"+t,fitType:"WHOLEPAGE"}),i.append(T),i.append(L.toolbar.fittopage.pageHeight)}e.append(i)},_renderToolTipExport:function(){var e=ej.buildTag("div.e-js e-reportviewer-tbdiv e-reportviewer-icon e-reportviewer-exporttip","",{display:"none"},{id:this._id+"_toolbar_exportListTip"});return this._appendToolbarItems(e,"pdf"),this._appendToolbarItems(e,"xls"),this._appendToolbarItems(e,"word"),this._appendToolbarItems(e,"html"),this._appendToolbarItems(e,"ppt"),this._appendToolbarItems(e,"csv"),this._appendToolbarItems(e,"xml"),this._renderCustomExport(e),e},_renderCustomExport:function(e){for(var t,i=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],s=0;s<this.model.exportSettings.customItems.length;s++)t=i.toolbar.exportformat[this.model.exportSettings.customItems[s].value],ej.isNullOrUndefined(t)&&(t=this.model.exportSettings.customItems[s].value),$divouter=ej.buildTag("li.e-reportviewer-popupli e-custom e-reportviewer-tab-focus-none","",{},{id:this._id+"_toolbar_li_customexport_"+s,"aria-disabled":"false",role:"menuitem","aria-label":t+" "+i.toolbar.exportformat.headerText}),$spanTag=ej.buildTag("span.e-reportviewer-popupspan e-custom","",{},{id:this._id+"_toolbar_customexport_"+s}),$spanTag.append(t),$($divouter).addClass(this.model.exportSettings.customItems[s].cssClass),$divouter.append($spanTag),e.append($divouter),$($divouter).insertBefore(e[0].childNodes[this.model.exportSettings.customItems[s].index])},_renderPageFitPopup:function(){var e=ej.buildTag("div.e-js e-reportviewer-tbdiv e-reportviewer-icon e-reportviewer-fittopagetip","",{display:"none"},{id:this._id+"_toolbar_fittoPagePopup"});return this._appendToolbarItems(e,"fittopagewidth"),this._appendToolbarItems(e,"fittowholepage"),e},_renderFitopagePopup:function(){var e=$("#"+this._id+"_pageviewOuterline"),t=$("#"+this._id+"_viewerContainer"),i=$("#"+this._id+"_toolbar_li_fittopagewidth"),s=$("#"+this._id+"_toolbar_li_fittowholepage"),a=t.width(),o=t.height(),r=e[0].clientWidth;o>e[0].clientHeight&&"false"==s.attr("isSelect")?s.css("opacity","0.4"):s.css("opacity","1"),a>r&&"false"==i.attr("isSelect")?i.css("opacity","0.4"):i.css("opacity","1")},_showPrintPageSetupButton:function(e){e?$("#"+this._id+"_toolbar_li_pagesetup").css("display","block"):$("#"+this._id+"_toolbar_li_pagesetup").css("display","none")},_renderPrintPageSetup:function(){var e,t,i,s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],P=ej.buildTag("div.e-reportdesigner-designer-configuration e-userselect","",{display:"table",width:"100%"},{id:this._id+"_printPageSetup"}),j=ej.buildTag("div","",{display:"block",width:"100%"},{id:this._id+"_paperSetup"}),D=ej.buildTag("table","",{width:"100%"},{"border-collapse":"collapse"}),A=$("#"+this._id+".e-reportviewer")[0].getBoundingClientRect(),O=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{}),I=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{}),R=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{}),M=ej.buildTag("td.e-reportviewer-pagesetupheader","",{"padding-top":"0px"},{colspan:"8"}),E=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{},{colspan:"12"});j.append(D),D.append(O),D.append(I),D.append(R),O.append(M),I.append(E),P.append(j);var V=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{}),N=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{}),B=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{});D.append(V),D.append(N),D.append(B),t=ej.buildTag("td.e-reportviewer-pagesetupheader","",{},{colspan:"8"}),V.append(t);var F=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{}),z=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{}),Y=ej.buildTag("td.e-reportviewer-pagesetupheader","",{},{colspan:"8"});F.append(Y),D.append(F),D.append(z),P.ejDialog((e={width:400,position:{X:A.left+A.width/3+20,Y:A.top+50},enableModal:!1,title:k.toolbar.pagesetup?k.toolbar.pagesetup.headerText:k.toolbar.pageSetup,enableResize:!1,enablePersistance:!1},_defineProperty(e,"enableModal",!0),_defineProperty(e,"showFooter",!0),_defineProperty(e,"cssClass","e-js e-rptviewer-dialog"),_defineProperty(e,"close",$.proxy(this._pageSettingClose,this)),e)),i=ej.buildTag("div","",{"font-weight":"bold",width:"100%"},{id:this._id+"_paperSizeLabel"}),s=ej.buildTag("div.e-reportviewer-ejdropdownlist","",{width:"100%","margin-left":"-2px"},{}),i.append(k.pagesetupDialog.paperSize),M.append(i),(a=ej.buildTag("select.e-rptviewer-pagesetup","",{},{id:this._id+"_PaperSize"})).append('<option value="A3">A3</option>'),a.append('<option value="A4">A4</option>'),a.append('<option value="B4(JIS)">B4(JIS)</option>'),a.append('<option value="B5(JIS)">B5(JIS)</option>'),a.append('<option value="Envelope #10">Envelope #10</option>'),a.append('<option value="Envelope Monarch">Envelope Monarch</option>'),a.append('<option value="Executive">Executive</option>'),a.append('<option value="Legal">Legal</option>'),a.append('<option value="Letter">Letter</option>'),a.append('<option value="Tabloid">Tabloid</option>'),a.append('<option value="Custom">Custom</option>'),s.append(a),a.ejDropDownList({cssClass:"e-rptviewer-drpdown",height:"32px",width:"100%",selectedIndex:10,watermarkText:k.waterMark.selectOption,enableAnimation:!0,change:$.proxy(this._setUpChange,this),enableIncrementalSearch:!0,htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":this._getLocaleString("pagesetupDialog","paperSize")}}),E.append(s);var X=ej.buildTag("span","",{},{id:this._id+"_widthLabel"}),W=ej.buildTag("div","",{},{}),H=ej.buildTag("span","",{},{id:this._id+"_heightLabel"}),U=ej.buildTag("div","",{},{}),G=ej.buildTag("span","",{},{id:this._id+"_heightUnitLabel"}),q=ej.buildTag("span","",{},{id:this._id+"_widthUnitLabel"}),Z=ej.buildTag("input.e-reportviewer-textbox","",{},{type:"text",id:this._id+"_paperHeight"}),Q=ej.buildTag("input.e-reportviewer-textbox","",{},{type:"text",id:this._id+"_paperWidth"});U.append(Z),W.append(Q),H.append(k.pagesetupDialog.height+"&nbsp;"),G.append(k.pagesetupDialog.unit+"&nbsp;"),X.append(k.pagesetupDialog.width+"&nbsp;"),q.append(k.pagesetupDialog.unit+"&nbsp;"),R.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"3px"})),(o=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"15px"})).append(H),R.append(o),(r=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"80px"})).append(U),R.append(r),(l=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"10px"})).append(G),R.append(l),R.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"3px"})),(n=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"15px"})).append(X),R.append(n),(d=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"80px"})).append(W),R.append(d),(h=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"10px"})).append(q),R.append(h),Z.ejNumericTextbox({cssClass:"e-rptviewer-updown",decimalPlaces:2,enableStrictMode:!0,width:"80px",minValue:1,enable:!1,htmlAttributes:{"aria-disabled":"false",role:"textbox","aria-label":this._getLocaleString("pagesetupDialog","paperSize")+" "+this._getLocaleString("pagesetupDialog","height")}}),Q.ejNumericTextbox({cssClass:"e-rptviewer-updown",decimalPlaces:2,enableStrictMode:!0,width:"80px",minValue:1,enable:!1,htmlAttributes:{"aria-disabled":"false",role:"textbox","aria-label":this._getLocaleString("pagesetupDialog","paperSize")+" "+this._getLocaleString("pagesetupDialog","width")}});var K=ej.buildTag("div","",{"font-weight":"bold"},{id:this._id+"_marginheader"}),J=ej.buildTag("span","",{},{id:this._id+"_topLabel"}),ee=ej.buildTag("div","",{},{}),te=ej.buildTag("span","",{},{id:this._id+"_topUnitLabel"}),ie=ej.buildTag("span","",{},{id:this._id+"_rightLabel"}),se=ej.buildTag("div","",{},{}),ae=ej.buildTag("span","",{},{id:this._id+"_rightUnitLabel"}),oe=ej.buildTag("div","",{},{id:this._id+"_bottomLabel"}),re=ej.buildTag("div","",{},{}),le=ej.buildTag("span","",{},{id:this._id+"_bottomUnitLabel"}),ne=ej.buildTag("span","",{},{id:this._id+"_leftLabel"}),de=ej.buildTag("div","",{},{}),he=ej.buildTag("span","",{},{id:this._id+"_leftUnitLabel"});K.append(k.pagesetupDialog.margins),t.append(K);var ce=ej.buildTag("input.e-reportviewer-textbox","",{},{type:"text",id:this._id+"_paperMarginTop"}),ue=ej.buildTag("input.e-reportviewer-textbox","",{},{type:"text",id:this._id+"_paperMarginRight"}),pe=ej.buildTag("input.e-reportviewer-textbox","",{},{type:"text",id:this._id+"_paperMarginBottom"}),me=ej.buildTag("input.e-reportviewer-textbox","",{},{type:"text",id:this._id+"_paperMarginLeft"});J.append(k.pagesetupDialog.top+"&nbsp;"),te.append(k.pagesetupDialog.unit+"&nbsp;"),ee.append(ce),ie.append(k.pagesetupDialog.right+"&nbsp;"),ae.append(k.pagesetupDialog.unit+"&nbsp;"),se.append(ue),oe.append(k.pagesetupDialog.bottom+"&nbsp;"),le.append(k.pagesetupDialog.unit+"&nbsp;"),re.append(pe),ne.append(k.pagesetupDialog.left+"&nbsp;"),he.append(k.pagesetupDialog.unit+"&nbsp;"),de.append(me),N.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"3px"})),(c=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"15px"})).append(J),N.append(c),(u=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"80px"})).append(ee),N.append(u),(p=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"50px"})).append(te),N.append(p),N.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"3px"})),(m=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"15px"})).append(ie),N.append(m),(g=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"80px"})).append(se),N.append(g),(_=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"10px"})).append(ae),N.append(_),B.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"3px"})),(f=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"15px"})).append(oe),B.append(f),(b=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"80px"})).append(re),B.append(b),(v=ej.buildTag("td .e-reportviewer-pagesetupcontent","",{width:"10px"})).append(le),B.append(v),B.append(ej.buildTag("td .e-reportviewer-pagesetupcontent","",{width:"3px"})),(x=ej.buildTag("td .e-reportviewer-pagesetupcontent","",{width:"15px"})).append(ne),B.append(x),(y=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"80px"})).append(de),B.append(y),(w=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"10px"})).append(he),B.append(w),S=this._getLocaleString("pagesetupDialog","margins"),ce.ejNumericTextbox({change:function(e){e.value||this.option("value",0)},cssClass:"e-rptviewer-updown",decimalPlaces:2,width:"80px",minValue:0,maxValue:22,htmlAttributes:{"aria-disabled":"false",role:"textbox","aria-label":S+" "+this._getLocaleString("pagesetupDialog","top")}}),ue.ejNumericTextbox({change:function(e){e.value||this.option("value",0)},cssClass:"e-rptviewer-updown",decimalPlaces:2,width:"80px",minValue:0,maxValue:22,htmlAttributes:{"aria-disabled":"false",role:"textbox","aria-label":S+" "+this._getLocaleString("pagesetupDialog","right")}}),pe.ejNumericTextbox({change:function(e){e.value||this.option("value",0)},cssClass:"e-rptviewer-updown",decimalPlaces:2,width:"80px",minValue:0,maxValue:22,htmlAttributes:{"aria-disabled":"false",role:"textbox","aria-label":S+" "+this._getLocaleString("pagesetupDialog","bottom")}}),me.ejNumericTextbox({change:function(e){e.value||this.option("value",0)},cssClass:"e-rptviewer-updown",decimalPlaces:2,width:"80px",minValue:0,maxValue:22,htmlAttributes:{"aria-disabled":"false",role:"textbox","aria-label":S+" "+this._getLocaleString("pagesetupDialog","left")}}),(C=ej.buildTag("div","",{"font-weight":"bold"},{id:this._id+"_orientationLabel"})).append(k.pagesetupDialog.orientation),Y.append(C);var ge=ej.buildTag("div","",{float:"left"},{}),_e=ej.buildTag("div","",{float:"left"},{}),fe=ej.buildTag("div","",{float:"left","margin-top":"-1px"},{id:this._id+"_portraitLabel"}),be=ej.buildTag("input","",{},{type:"radio",id:this._id+"_portrait",value:"Portrait"});_e.append(be),fe.append("&nbsp;"+k.pagesetupDialog.portrait),ge.append(_e),ge.append(fe),be.ejRadioButton({name:"orientation",checked:!0,size:"small",htmlAttributes:{"aria-disabled":"false",role:"radio","aria-label":this._getLocaleString("pagesetupDialog","orientation")+" "+this._getLocaleString("pagesetupDialog","portrait")}});var ve=ej.buildTag("div","",{float:"left"},{}),xe=ej.buildTag("div","",{float:"left"},{}),ye=ej.buildTag("div","",{float:"left","margin-top":"-1px"},{id:this._id+"_landscapeLabel"}),we=ej.buildTag("input","",{},{type:"radio",id:this._id+"_landscape",value:"Landscape"});xe.append(we),ye.append("&nbsp;"+k.pagesetupDialog.landscape),ve.append(xe),ve.append(ye),z.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"3px"})),(T=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"90px"},{colspan:"3"})).append(ge),z.append(T),z.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"3px"})),(L=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"90px"},{colspan:"3"})).append(ve),z.append(L),we.ejRadioButton({name:"orientation",size:"small",htmlAttributes:{"aria-disabled":"false",role:"radio","aria-label":this._getLocaleString("pagesetupDialog","orientation")+" "+this._getLocaleString("pagesetupDialog","landscape")}});var Se=ej.buildTag("input.e-reportviewer-viewreportbutton e-btn","",{float:"right"},{type:"button",value:this._getLocaleString("pagesetupDialog","doneButton"),id:this._id+"_Submit"}),Ce=ej.buildTag("input.e-reportviewer-viewreportbutton e-btn","",{float:"right","margin-left":"10px"},{type:"button",value:this._getLocaleString("pagesetupDialog","cancelButton"),id:this._id+"_Cancel"}),Te=$("#"+this._id+"_printPageSetup_foot");$("#"+this._id+"_printPageSetup_closebutton").attr("title",k.pagesetupDialog.close),Te.append(Ce).append(Se),Se.ejButton({showRoundedCorner:!0,height:30,type:"Button",click:$.proxy(this._pageSetupSubmit,this),cssClass:"e-rptviewer-okbtn",htmlAttributes:{"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("pagesetupDialog","doneButton")}}),Ce.ejButton({showRoundedCorner:!0,height:30,type:"Button",click:$.proxy(this._pageSetupCancel,this),cssClass:"e-rptviewer-cancelbtn",htmlAttributes:{"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("pagesetupDialog","cancelButton")}}),"msie"==this._browserInfo.name?$("#"+this._id+"_PaperSize_input").css("margin-top","-2px"):("opera"==this._browserInfo.name||"webkit"==this._browserInfo.name||"chrome"==this._browserInfo.name||"mozilla"==this._browserInfo.name)&&$("#"+this._id+"_PaperSize_input").css("padding-bottom","3px")},_renderViewerBlockinDevice:function(e){var t=ej.buildTag("div.e-reportviewer-viewer e-reportviewer-viewerblock e-reportviewer-blockstyle","",{},{id:this._id+"_viewBlockContainer"});this._appendChild(e,t[0]);var i=ej.buildTag("div.e-reportviewer-viewerblockcellcontent","",{margin:"1px",padding:"1px",width:"99%",height:"99%",display:"inline-table"},{id:this._id+"_viewerBlockCellContent"}),s=ej.buildTag("div.e-reportviewer-viewerblockcontent","",{width:"100%",height:"auto"}),a=ej.buildTag("div.e-reportviewer-viewreport","",{width:"100%",height:"30px","border-left":"0px",padding:"10px 0"}),o=ej.buildTag("input.e-reportviewer-viewreportbutton e-btn e-rptviewer-viewreport-btn","",{},{type:"button",value:ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale].viewButton:ej.ReportViewer.Locale["en-US"].viewButton,id:this._id+"_viewReportClick","data-role":"none"});return a.append(o),i.append(s),i.append(a),o.ejButton({showRoundedCorner:!0,type:"Button"}),t.append(i),t},_renderViewerBlockinWeb:function(e){var t,i,s=ej.buildTag("div.e-reportviewer-viewer e-reportviewer-viewerblock","",{},{id:this._id+"_viewBlockContainer"});e.append(s);var a=ej.buildTag("table.e-reportviewer-viewerblockcellcontent e-reportviewer-blockcontainer","",{padding:"5px","border-collapse":"collapse"},{id:this._id+"_viewerBlockCellContent"}),o=ej.buildTag("tr","",{width:"100%"}),r=ej.buildTag("td.e-reportviewer-viewerblockcontent","",{padding:"0px"},{id:this._id+"_viewerBlockContent"}),l=ej.buildTag("div.e-reportviewer-viewerblock-parentdiv","",{width:"100%"},{id:this._id+"_viewer_paramblock"}),n=ej.buildTag("div","",{}),d=ej.buildTag("div.e-reportviewer-viewerblock-childdiv","",{},{});return l.append(n),n.append(d),t=ej.buildTag("td.e-reportviewer-viewreport","",{"vertical-align":"middle"},{id:this._id+"_viewReportBlock"}),i=ej.buildTag("input.e-reportviewer-viewreportbutton e-btn e-rptviewer-viewreport-btn","",{},{type:"button",value:this._getLocaleString("viewButton"),id:this._id+"_viewReportClick","data-role":"none","aria-label":this._getLocaleString("viewButton")}),t.append(i),r.append(l),o.append(r),o.append(t),a.append(o),i.ejButton({height:32,cssClass:"e-accent",showRoundedCorner:!0,type:"Button"}),l.ejScroller({scrollerSize:9,enableTouchScroll:!0,buttonSize:0,height:"auto",width:"auto"}),s.append(a),s},_renderViewerContainer:function(e){var t,i,s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y=this._buildTag("div","e-reportviewer-box-border",null,{id:this._id+"_reportviewerContainer"});e.append(y),t=this._buildTag("div","e-reportviewer-viewer e-reportviewer-scrollcontainer e-reportviewer-viewercontainer",null,{id:this._id+"_viewerContainer"}),i={height:"100%",width:"100%","font-size":"8pt"},this._setTagStyle(t,i),s=this._buildTag("div",null,null,{id:this._id+"_loadingIndicator"}),a={margin:"0px",height:"99.8%",width:"100%"},this._setTagStyle(s,a),o=this._buildTag("div",null,null,{id:this._id+"_loadingLabel"},{role:"alert"}),r={display:"none",padding:"2px","background-color":"#ffff99",float:"right",position:"relative","z-index":"1001"},this._setTagStyle(o,r),l=this._buildTag("span",null,null,{id:this._id+"_spanLoadingLable"}),n={display:"block","font-size":"12.5px","font-family":"Arial"},this._setTagStyle(l,n);var w=this._buildTag("div","e-reportviewer-pageviewcontainer",null,{id:this._id+"_pageviewOuterContainer"}),S=this._buildTag("div",null,null,{id:this._id+"_errorMsgContainer"});this._setTagStyle(S,{"text-align":"center",padding:"4px",display:"none"}),d=this._buildTag("span",null,null,{id:this._id+"_errorMsgSpan"}),h={display:"block","font-size":"15px","font-family":"Arial"},this._setTagStyle(d,h),c=this._buildTag("div","e-reportviewer-errorbannercontainer",null,{id:this._id+"_errorBannerContainer"}),u={width:"100%",padding:"12px 0 0 0",display:"none"},this._setTagStyle(c,u),p=this._buildTag("div","e-reportviewer-pageouterline",null,{id:this._id+"_pageviewOuterline"}),(m=this._buildTag("div","e-reportviewer-pageview",null,{id:this._id+"_pageviewContainer"})).style.backgroundColor="#FFFFFF";var C=this._buildTag("div","e-reportviewer-box-border",null,{id:this._id+"_pageviewheaderContainer"}),T={position:"relative","background-color":"transparent"},L=this._buildTag("div","e-reportviewer-box-border",null,{id:this._id+"_pageviewbodyContainer"});this._setTagStyle(L,{position:"relative","background-color":"transparent",overflow:"hidden"});var k=this._buildTag("div","e-reportviewer-box-border",null,{id:this._id+"_pageviewfooterContainer"}),P={position:"relative","background-color":"transparent"},j=this._buildTag("div","pageHeaderBorder e-reportviewer-box-border",null,null);return this._setTagStyle(j,{position:"relative","background-color":"#FFFFFF"}),g=this._buildTag("div","pageBodyBorder e-reportviewer-box-border",null,null),_={position:"relative","background-color":"#FFFFFF","background-position":"center center","background-repeat":"no-repeat"},this._setTagStyle(g,_),f=this._buildTag("div","pageFooterBorder e-reportviewer-box-border",null,null),b={position:"relative","background-color":"#FFFFFF"},this._setTagStyle(f,b),v=ej.buildTag("div.e-reportviewer-alertIcon","",{float:"right",height:"40px",width:"50px",margin:"-55px 10px -35px -117px",position:"relative",cursor:"pointer",display:"none"},{id:this._id+"_AlertIcon"}),this.element.append(v),this._printMode&&(T.overflow="hidden",P.overflow="hidden"),this._setTagStyle(C,T),this._setTagStyle(k,P),this._appendChild(j,C),this._appendChild(g,L),this._appendChild(f,k),this._appendChild(m,j),this._appendChild(m,g),this._appendChild(m,f),this._appendChild(o,l),this._appendChild(t,o),this._appendChild(t,s),this._appendChild(w,c),this._appendChild(p,m),this._appendChild(w,p),this._appendChild(S,d),this._appendChild(t,S),this._appendChild(t,w),this._isDevice?this._renderViewerBlockinDevice(t):(x=this._buildTag("div","e-reportviewer-documentmapcontainer",null,{id:this._id+"_documentmapContainer"}),this._appendChild(y,x)),this._appendChild(y,t),$("#"+s.id).ejWaitingPopup({showOnInit:!1,text:this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.Stop?'<a href="javascript:;" id = "'+this._id+'_loadingindicator_cancel">'+this._getLocaleString("progressMessage","cancelText")+"</a>":"",appendTo:"#"+this._id+"_loadingIndicator",target:"#"+this._id+"_loadingIndicator",cssClass:"e-designer-loader",template:this.model.waitingPopupTemplate}),this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.Stop&&this._on($("#"+this._id+"_loadingindicator_cancel"),"click",(function(){this.cancelRendering(),this._showNavigationIndicator(!1)})),$("#"+t.id).ejWaitingPopup({showOnInit:!1,appendTo:"#"+this._id+"_viewerContainer",target:"#"+this._id+"_viewerContainer",cssClass:"e-designer-loader",htmlAttributes:{role:"alert"},template:this.model.waitingPopupTemplate}),y},_renderViewer:function(){var e,t,i,s,a=this.element.height(),o=this.element.width(),r=ej.buildTag("div.e-reportviewer-viewer","",{});this.element[0].style.height||0==this.element[0].parentElement.clientHeight||(this._isHeight=!0),this.element[0].style.width||0==this.element[0].parentElement.clientWidth||(this._isWidth=!0),0===a&&0!=this.element[0].parentElement.clientHeight?this.element.height(this.element[0].parentElement.clientHeight):"msie"==this._browserInfo.name&&8==this._browserInfo.version&&-1!=this.element[0].style.height.indexOf("%")&&(e=parseInt(this.element[0].style.height),t=(t=this.element[0].parentElement.clientHeight)/100*e,this.element.height(t)),0===o&&0!=this.element[0].parentElement.clientWidth?this.element.width(this.element[0].parentElement.clientWidth):"msie"==this._browserInfo.name&&8==this._browserInfo.version&&-1!=this.element[0].style.width.indexOf("%")&&(i=parseInt(this.element[0].style.width),s=(s=this.element[0].parentElement.clientWidth)/100*i,this.element.width(s)),this.element.append(r),this._isDevice=this.model.renderMode&ej.ReportViewer.RenderMode.Mobile&&this.model.renderMode&ej.ReportViewer.RenderMode.Desktop?this._isMobileDevice():!!(this.model.renderMode&ej.ReportViewer.RenderMode.Mobile),this._renderToolBar(r),this._isDevice||(this._renderViewerBlockinWeb(r),$(".e-reportviewer-toolbarli").ejTooltip({isBalloon:!1,associate:"target",position:{target:{horizontal:"center",vertical:"bottom"},stem:{horizontal:"left",vertical:"top"}},beforeOpen:$.proxy(this._beforeTooltipPopup,this)})),this._renderViewerContainer(r)},_refreshScroller:function(){var e=$("#"+this._id+"_viewer_paramblock").data("ejScroller");e&&(this._setScrollerWidth(this._getItemWidth($("#"+this._id+"_viewerBlockCellContent"))),e.refresh(),this._setParameterBottomBorder())},_setScrollerHeight:function(e){var t=$("#"+this._id+"_viewer_paramblock").data("ejScroller");t&&t.setModel({height:e})},_setScrollerWidth:function(e){var t,i,s=$("#"+this._id+"_viewer_paramblock").data("ejScroller");s&&(t=$("#"+this._id+"_viewReportBlock"),i=this._getItemWidth(t)+parseFloat(t.css("padding-left"))+parseFloat(t.css("padding-right")),s.setModel({width:e-i}))},_getItemWidth:function(e){return e.width()+parseFloat(e.css("border-left-width"))+parseFloat(e.css("border-right-width"))},_renderCredentialBlock:function(e){var t,i,s,a,o,r,l,n,d=ej.buildTag("table","",{},{id:this._id+"_credential_block_table"});for(d.append('<tr height="4px"></tr>'),t=0;t<e.length;t++){var h=e[t],c=ej.buildTag("tr","",{},{}),u=ej.buildTag("td","",{},{colspan:this._isDevice?"1":"5"}),p=this._isDevice?"Specify the Credential for "+h.Name+":":h.Prompt,m=ej.buildTag("span.e-reportviewer-header",p,{});u.append(m),c.append(u),this._isDevice?(d.append(c),d.append('<tr height="4px"></tr>'),s=ej.buildTag("tr","",{},{}),this._appendCredentialItems(s,"namelbl",h),a=ej.buildTag("tr","",{},{}),this._appendCredentialItems(a,"nametxt",h),o=ej.buildTag("tr","",{},{}),this._appendCredentialItems(o,"passwdlbl",h),r=ej.buildTag("tr","",{},{}),this._appendCredentialItems(r,"passwdtxt",h),d.append(s),d.append(a),d.append(o),d.append(r),d.append('<tr height="6px"></tr>')):(i=ej.buildTag("tr","",{},{}),this._appendCredentialItems(i,"namelbl",h),this._appendCredentialItems(i,"nametxt",h),i.append(ej.buildTag("td.e-reportviewer-viewerblockcellcontent","",{width:"7px"},{})),this._appendCredentialItems(i,"passwdlbl",h),this._appendCredentialItems(i,"passwdtxt",h),d.append(c),d.append('<tr height="6px"></tr>'),d.append(i),d.append('<tr height="10px"></tr>'))}this._wiredViewClickEvent(e),l=this._isDevice?".e-reportviewer-viewerblockcontent":".e-reportviewer-viewerblock-childdiv",(n=$("#"+this._id+"_viewBlockContainer").find(l)).empty(),n.append(d)},_wiredViewClickEvent:function(e){this._on($("#"+this._id+"_viewReportClick"),"click",{ds:e},this._viewReportCredentialClick)},_unwiredViewClickEvent:function(){this._off($("#"+this._id+"_viewReportClick"),"click",this._viewReportCredentialClick)},_appendCredentialItems:function(e,t,i){var s,a,o,r,l=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"];switch(t){case"namelbl":s=ej.buildTag("td.e-reportviewer-viewerblockcellcontent","",{},{}),a=ej.buildTag("span.e-reportviewer-content",l.credential.userName+"&nbsp;",{},{id:i.ControlId+"_username_label"}),s.append(a);break;case"nametxt":s=ej.buildTag("td.e-reportviewer-viewerblockcellcontent","",{},{}),o=ej.buildTag("input.e-textbox e-reportviewer-textbox","",{},{type:"text",autocomplete:"off",id:i.ControlId+"_loginName","aria-label":this._getLocaleString("credential","userName")}),s.append(o);break;case"passwdlbl":s=ej.buildTag("td.e-reportviewer-viewerblockcellcontent","",{},{}),a=ej.buildTag("span.e-reportviewer-content",l.credential.password+"&nbsp;",{},{id:i.ControlId+"_password_label"}),s.append(a);break;case"passwdtxt":s=ej.buildTag("td.e-reportviewer-viewerblockcellcontent","",{},{}),r=ej.buildTag("input.e-textbox e-reportviewer-textbox","",{},{type:"password",autocomplete:"off",id:i.ControlId+"_password","aria-label":this._getLocaleString("credential","password")}),s.append(r)}e.append(s)},_viewReportCredentialClick:function(e){for(var t=e.data.ds,i=[],s=0;s<t.length;s++){var a=t[s],o=$("#"+a.ControlId+"_loginName").val(),r=$("#"+a.ControlId+"_password").val();i.push({Name:a.Name,UserName:o,Password:r})}this._dataSources=i,this._ajaxCallMethod(this._reportAction.validateDSCredential,"_validateDSCredential",!1)},_renderParameterBlock:function(e){var t,i,s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I=e.parameters;if(this._reportParametersModel=I,t=e.parametersLayout,null!=(i=e.parameterCustomProperties)&&i.length>0)for(s=0;s<i.length;s++)switch(a=i[s].Name.toLowerCase(),o=i[s].Value,a){case"popupheight":this.model.parameterSettings.popupHeight=o;break;case"popupwidth":this.model.parameterSettings.popupWidth=o;break;case"mindatetime":this.model.parameterSettings.minDateTime=o;break;case"maxdatetime":this.model.parameterSettings.maxDateTime=o;break;case"timedisplayformat":this.model.parameterSettings.timeDisplayFormat=o;break;case"datetimeformat":this.model.parameterSettings.dateTimeFormat=o;break;case"datetimepickertype":"datetime"===o.toLowerCase()&&(this.model.parameterSettings.dateTimePickerType=ej.ReportViewer.DateTimePickerType.DateTime);break;case"timeinterval":this.model.parameterSettings.timeInterval=parseInt(o);break;case"enablefiltersearch":this.model.enableDropDownSearch="true"===o.toLowerCase();break;case"hideparameterblock":this.model.parameterSettings.hideParameterBlock="true"===o.toLowerCase()}if(null!=I&&I.length>0){var R=this._isDevice?".e-reportviewer-viewerblockcontent":".e-reportviewer-viewerblock-childdiv",M=$("#"+this._id+"_viewBlockContainer").find(R),E=this._onRenderBeginAction({reportParameters:$.extend(!0,[],I),parameterBlock:$("#"+this._id+"_viewBlockContainer")});if(!E){if(r=this._buildTag("table",null,null,{id:this._id+"_param_block_table"},{title:this._getLocaleString("parameterBlock")}),l=this._buildTag("tbody",null,null,null),r.setAttribute("data-isViewClick",!1),this._appendChild(r,l),M.empty(),M.append(r),h=[],c=[],t){for(m=0;m<I.length;m++)C=t.GridLayoutDefinition.CellDefinitions?t.GridLayoutDefinition.CellDefinitions.filter((function(e){return e.ParameterName==I[m].Name})):null,C&&0==I[m].Hidden&&(h.push(C[0].RowIndex),c.push(C[0].ColumnIndex));for(d=this._buildTag("td",null,null,{colSpan:I.length>1?"5":"2"}),n=this._buildTag("tr","e-reportviewer-tr",null,null),this._appendChild(n,d),this._appendChild(l,n),g=0,_=0;_<t.GridLayoutDefinition.NumberOfRows;_++)if(-1!=jQuery.inArray(_,h))for(0!=_&&0!=g&&(d=this._buildTag("td",null,null,{colSpan:I.length>1?"5":"2"}),(n=this._buildTag("tr",null,null,null)).style.height="10px",this._appendChild(n,d),this._appendChild(l,n)),g++,(n=this._buildTag("tr",null,null,null)).style.minHeight="20px",this._appendChild(l,n),f=0;f<t.GridLayoutDefinition.NumberOfColumns;f++)-1!=jQuery.inArray(f,c)&&(b=this._buildTag("td","e-reportviewer-viewerblockcellcontent",null,null),v=t.GridLayoutDefinition.CellDefinitions?t.GridLayoutDefinition.CellDefinitions.filter((function(e){return e.ColumnIndex==f&&e.RowIndex==_})):null,this._appendChild(n,b),v&&v.length>0?(x=this._buildTag("td","e-reportviewer-viewerblockcellcontent",null,null),L=this._buildTag("td","e-reportviewer-viewerblockcellcontent",null,null),this._appendChild(n,x),this._appendChild(n,L),C=I.filter((function(e){return e.Name==v[0].ParameterName})),C.length>0&&(p=this._getParamColSize(C[0],"label"),u=this._getParamColSize(C[0],"item"),this._setTagStyle(L,{"min-width":"130px","max-width":u,"padding-right":"auto"!=p?"20px":"5px"}),(D="e-reportviewer-txt-overflow"===(j=this._getTextWidth(C[0].Prompt?C[0].Prompt:C[0].Name,"segoe ui 14.5px")>parseFloat(p)?"e-reportviewer-txt-overflow":"")?this._buildTag("div",null,null,{title:C[0].Prompt?C[0].Prompt:C[0].Name}):this._buildTag("div",null,null,null)).className+=j,D.style.width=p,(A=this._buildTag("span","e-reportviewer-content",null,null)).innerText=C[0].Prompt?C[0].Prompt:C[0].Name+"&nbsp;&nbsp;","auto"==D.style.width?this._setTagStyle(A,{cursor:"default","padding-right":"5px"}):this._setTagStyle(A,{cursor:"default"}),this._appendChild(D,A),this._appendChild(x,D),T=this._buildTag("div",null,null,{id:C[0].ControlId+"_div"}),(O={width:"100%","white-space":"nowrap"}).display="webkit"==this._browserInfo.name?"-webkit-box":"flex",this._setTagStyle(T,O),this._appendChild(L,T),this._renderParameterElements(C[0],T))):((y=this._buildTag("td",null,null,null)).style.minWidth="30px",this._appendChild(n,y),(w=this._buildTag("td",null,null,null)).style.minWidth="130px",this._appendChild(n,w)))}else for(S=0;S<I.length;S++)C=I[S],u=this._getParamColSize(C,"item"),this._isDevice?(r.style.width="100%",d=this._buildTag("td",null,null,null),n=this._buildTag("tr","e-reportviewer-tr",null,null),this._appendChild(n,d),this._appendChild(l,n),n=this._buildTag("tr",null,null,null),this._appendChild(l,n),L=this._buildTag("td","e-reportviewer-viewerblockcellcontent",null,null),A=this._buildTag("span","e-reportviewer-content",C.Prompt+"&nbsp;&nbsp;",null),this._appendChild(L,A),this._appendChild(n,L),n=this._buildTag("tr",null,null,null),this._appendChild(l,n),k=this._buildTag("td","e-reportviewer-viewerblockcellcontent",null,null),this._setTagStyle(k,{"min-width":"130px","max-width":u}),this._appendChild(n,k),T=this._buildTag("div",null,null,{id:C.ControlId+"_div"}),(O={width:"100%","white-space":"nowrap"}).display="webkit"==this._browserInfo.name?"-webkit-box":"flex",this._setTagStyle(T,O),this._appendChild(k,T)):(S%2==0?(0!=S?(d=this._buildTag("td",null,null,{colSpan:I.length>1?"5":"2"}),(n=this._buildTag("tr",null,null,null)).style.height="10px",this._appendChild(n,d),this._appendChild(l,n)):(d=this._buildTag("td",null,null,{colSpan:I.length>1?"5":"2"}),n=this._buildTag("tr","e-reportviewer-tr",null,null),this._appendChild(n,d),this._appendChild(l,n)),n=this._buildTag("tr",null,null,null),this._appendChild(l,n)):(P=this._buildTag("td",null,null,null),this._appendChild(n,P)),L=this._buildTag("td","e-reportviewer-viewerblockcellcontent",null,null),p=this._getParamColSize(C,"label"),(D="e-reportviewer-txt-overflow"===(j=this._getTextWidth(C.Prompt?C.Prompt:C.Name,"segoe ui 14.5px")>parseFloat(p)?"e-reportviewer-txt-overflow":"")?this._buildTag("div",null,null,{title:C.Prompt?C.Prompt:C.Name}):this._buildTag("div",null,null,null)).className+=j,D.style.width=p,(A=this._buildTag("span","e-reportviewer-content",null,null)).innerText=C.Prompt?C.Prompt:C.Name+"&nbsp;&nbsp;",this._setTagStyle(A,{cursor:"default"}),this._appendChild(D,A),this._appendChild(L,D),this._appendChild(n,L),k=this._buildTag("td","e-reportviewer-viewerblockcellcontent",null,null),this._setTagStyle(k,{"min-width":"130px","max-width":u,"padding-right":"20px"}),this._appendChild(n,k),T=this._buildTag("div",null,null,{id:C.ControlId+"_div"}),(O={width:"100%","white-space":"nowrap"}).display="webkit"==this._browserInfo.name?"-webkit-box":"flex",this._setTagStyle(T,O),this._appendChild(k,T)),this._renderParameterElements(C,T);d=this._buildTag("td",null,null,{colSpan:I.length>1?"5":"2"}),this._isDevice&&d.removeAttribute("colSpan"),n=this._buildTag("tr","e-reportviewer-tr",null,null),this._appendChild(n,d),this._appendChild(l,n)}}else this._showParameterBlock(!1);return this._on($("#"+this._id+"_viewReportClick"),"click",{params:this._reportParametersModel},this._viewReportParamsClick),E},_getScrollerHeight:function(e,t){for(var i=0,s=0;s<t;s++)i+=$("#"+e+" tr:eq("+s+")").height();return i},_getTextWidth:function(e,t){var i,s=$("<span>").hide().appendTo(document.body);return s.text(e).css("font",t),i=s.width(),s.remove(),i},_getParamColSize:function(e,t){var i;return"label"===t?(i="auto"===this.model.parameterSettings.labelWidth||Number(this.model.parameterSettings.labelWidth)>110?this.model.parameterSettings.labelWidth:"110px",e.CustomProperties&&e.CustomProperties.LabelWidth&&(i=e.CustomProperties.LabelWidth)):"item"===t&&(i="auto"===this.model.parameterSettings.itemWidth||parseFloat(this.model.parameterSettings.itemWidth)>185?this.model.parameterSettings.itemWidth:"185px",e.CustomProperties&&e.CustomProperties.ItemWidth&&(i=e.CustomProperties.ItemWidth)),isNaN(i)?i:Number(i)},_renderParameterElements:function(e,t){var i,s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I,R,M,E,V=$.extend(!0,{},this.model.parameterSettings),N={parameterModel:e,containerId:e.ControlId+"_div",handled:!1,parameterSettings:V,customProperties:null};if(null!=e.CustomProperties&&e.CustomProperties!=undefined&&(N.customProperties=e.CustomProperties,null!=N.customProperties))for(i in N.customProperties)i&&("datetimepickertype"==i.toLowerCase()||"datetimeuitype"==i.toLowerCase()?V.dateTimePickerType=N.customProperties[i]:"popupheight"==i.toLowerCase()?V.popupHeight=N.customProperties[i]:"popupwidth"==i.toLowerCase()?V.popupWidth=N.customProperties[i]:"itemwidth"==i.toLowerCase()&&(V.itemWidth=N.customProperties[i]));if(this._onBeforeParameterAdd(N),N.handled)(E={labels:[],values:[],nullable:!1}).name=e.Name,E.nullable=e.IsNullable,e.Labels&&e.Labels.length>0?E.labels=e.Labels:e.Label&&E.labels.push(e.Label),e.Values&&e.Values.length>0?E.values=e.Values:e.Value&&E.values.push(e.Value),this._updateCustomParametersModel(E);else if(r=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],l="msie"==this._browserInfo.name&&parseInt(this._browserInfo.version)<=9,"MultiValue"==e.ParameterElementType){if(h=[],$("#"+e.ControlId+"_popup_wrapper").length>0&&$("#"+e.ControlId+"_popup_wrapper").remove(),c=this._buildTag("select","e-rptviewer-multivalue",null,{id:e.ControlId,name:e.Name}),this._setAttributes(c,V.attributes),c.setAttribute("data-sf-name",e.Name),this._appendChild(t,c),d="auto"===V.itemWidth||parseFloat(V.itemWidth)<185?"185px":V.itemWidth,e.AvailableLabels){if(u=this._buildTag("input",null,null,{id:e.ControlId+"_check",type:"checkbox"}),p=this._buildTag("div",null,null,null),this._setTagStyle(p,{"border-bottom":"1px solid #c8c8c8"}),this._appendChild(p,u),m=$.extend(e.DefaultValuesfields,!0),e.Values&&e.Values.length>0&&(m=e.Values),null!=e.AvailableLabels){if(e.IsNullable){if(e.IsNullable)for(f=0;f<e.AvailableLabels.length;f++)null!=e.AvailableValues&&null!=e.AvailableValues[f]&&null!=e.AvailableLabels[f]&&((o=document.createElement("option")).value=e.AvailableValues[f],o.text=e.AvailableLabels[f],-1!=jQuery.inArray(e.AvailableValues[f],m)&&h.push(f),c.add(o))}else for(f=0;f<e.AvailableLabels.length;f++)null!=e.AvailableValues&&((o=document.createElement("option")).value=e.AvailableValues[f],o.text=e.AvailableLabels[f],-1!=jQuery.inArray(e.AvailableValues[f],m)&&h.push(f),c.add(o));e.AvailableLabels.length==m.length&&(n=!0)}$("#"+c.id).ejDropDownList({cssClass:"e-js e-reportviewer-param e-rptviewer-drpdown",width:d,showCheckbox:!0,selectedIndices:h,watermarkText:r.waterMark.selectOption,delimiterChar:V.delimiterChar,beforePopupShown:e.IsDependent?this._beforePopupOpen:"",change:e.IsDependent?this._paramsChangeEvent:"",isInteraction:!0,popupHide:e.IsDependent?this._paramsChangeEvent:"",enableFilterSearch:this.model.enableDropDownSearch,enableAnimation:!0,headerTemplate:p.outerHTML,checkChange:this._chkBoxSelectionChange,isSelectAllChecked:!1,height:28,popupHeight:V.popupHeight,popupWidth:V.popupWidth,htmlAttributes:{"aria-label":e.Prompt}}),$("#"+e.ControlId+"_check").ejCheckBox({cssClass:"e-reportviewer-paramcheckbox",checked:n,isInteraction:!0,name:e.ControlId+"_chk_SelectAll",size:"small",text:r.selectAll,change:this._onCheckAll}),(b=$($("#"+e.ControlId+"_check")).siblings(".e-text")).addClass("e-reportviewer-paramcheckboxlabel"),this._isDevice&&($("#"+e.ControlId+"_check").data("ejCheckBox").setModel({cssClass:"e-reportviewer-device-paramcheckbox"}),b.removeClass("e-reportviewer-paramcheckboxlabel"),b.addClass("e-reportviewer-device-paramcheckbox"))}else if(e.Values){for(g=this._buildTag("input",null,null,{id:e.ControlId+"_check",type:"checkbox"}),_=this._buildTag("div",null,null,null),this._setTagStyle(_,{"border-bottom":"1px solid #c8c8c8"}),this._appendChild(_,g),this._appendChild(t,c),f=0;f<e.Values.length;f++)(o=document.createElement("option")).value=e.Values[f],o.text=e.Labels[f],h.push(f),c.add(o);e.Values.length>0&&(n=!0),$("#"+c.id).ejDropDownList({cssClass:"e-js e-reportviewer-param e-rptviewer-drpdown",width:d,showCheckbox:!0,selectedIndices:h,watermarkText:r.waterMark.selectOption,change:e.IsDependent?this._paramsChangeEvent:"",beforePopupShown:e.IsDependent?this._beforePopupOpen:"",popupHide:e.IsDependent?this._paramsChangeEvent:"",checkChange:this._selectionChanged,headerTemplate:_.outerHTML,enableFilterSearch:this.model.enableDropDownSearch,isSelectAllChecked:!1,height:28,popupHeight:V.popupHeight,popupWidth:V.popupWidth,htmlAttributes:{"aria-label":e.Prompt}}),$("#"+e.ControlId+"_check").ejCheckBox({cssClass:"e-reportviewer-paramcheckbox",checked:n,isInteraction:!0,name:"chk_SelectAll",size:"small",text:r.selectAll,change:this._onCheckAll}),(b=$($("#"+e.ControlId+"_check")).siblings(".e-text")).addClass("e-reportviewer-paramcheckboxlabel")}}else if("ComboBox"==e.ParameterElementType){if(v=this._buildTag("select","e-rptviewer-comboBox",null,{id:e.ControlId,name:e.Name,"data-data":"select"}),this._setAttributes(v,V.attributes),v.setAttribute("data-sf-name",e.Name),x=9999,y=!1,this._appendChild(t,v),null!=e.AvailableLabels)for(f=0;f<e.AvailableLabels.length;f++)"Select a value"!=e.AvailableLabels[f]?null!=e.AvailableValues&&((o=document.createElement("option")).value=e.AvailableValues[f],o.text=e.AvailableLabels[f],e.AvailableValues[f]==e.Value&&(x=f),v.add(o)):"Select a value"==e.AvailableLabels[f]&&(y=!0);y&&(x-=1),w={cssClass:"e-js e-reportviewer-param e-rptviewer-drpdown",width:d="auto"===V.itemWidth||parseFloat(V.itemWidth)<185?"185px":V.itemWidth,watermarkText:r.waterMark.selectValue,beforePopupShown:e.IsDependent?this._beforePopupOpen:"",change:e.IsDependent?this._paramsChangeEvent:"",popupHide:e.IsDependent?this._paramsChangeEvent:"",enableIncrementalSearch:!0,enableFilterSearch:this.model.enableDropDownSearch,enableAnimation:!0,height:28,popupHeight:V.popupHeight,popupWidth:V.popupWidth,htmlAttributes:{"aria-label":e.Prompt}},9999!=x&&(w.selectedIndex=x),$("#"+v.id).ejDropDownList(w),"auto"==V.itemWidth&&(S=$("#"+e.ControlId+"_popup_list_wrapper").width()+$(t).find("#"+e.ControlId+"_dropdown").width())>185&&(t.parent().css("max-width",S),v.data("ejDropDownList").setModel({width:S}))}else if("DateTime"==e.ParameterElementType)C=this._buildTag("input","e-reportviewer-DateTime",null,{id:e.ControlId,type:"text",maxLength:"256",name:e.Name},{"aria-label":e.Prompt}),this._appendChild(t,C),d="auto"==V.itemWidth||parseFloat(V.itemWidth)<185?e.IsNullable?"75%":"100%":e.IsNullable?parseFloat(V.itemWidth)-50+"px":V.itemWidth,"DateTime"==V.dateTimePickerType?$("#"+C.id).ejDateTimePicker({minDateTime:V.minDateTime,maxDateTime:V.maxDateTime,cssClass:l?"e-reportviewer-param-datepicker e-reportviewer-param":"e-reportviewer-param",width:d,value:e._dateTimeValue,change:e.IsDependent?this._paramsChangeEvent:"",locale:this.model.locale,dateTimeFormat:ej.isNullOrUndefined(V.dateTimeFormat)||""==V.dateTimeFormat?e.fullDateFormatString:V.dateTimeFormat,timeDisplayFormat:ej.isNullOrUndefined(V.timeDisplayFormat)||""==V.timeDisplayFormat?e.longTimeFormatString:V.timeDisplayFormat,interval:V.timeInterval,height:28}):$("#"+C.id).ejDatePicker({minDate:V.minDateTime,maxDate:V.maxDateTime,cssClass:l?"e-reportviewer-param-datepicker e-reportviewer-param":"e-reportviewer-param",width:d,value:e._dateValue,change:e.IsDependent?this._paramsChangeEvent:"",locale:this.model.locale,dateFormat:V.dateTimeFormat,height:28}),e.IsNullable&&(s=this._buildTag("span",null,null,null),this._setTagStyle(s,{"WHITE-SPACE":"nowrap"}),l||(R={display:"block","padding-top":"3.5px"},this._setTagStyle(s,R)),(M=this._buildTag("span",null,null,null)).innerHTML="&nbsp;",this._appendChild(t,M),a=this._buildTag("input",null,null,{id:e.ControlId+"_chk",type:"checkbox",name:"chkDateTime",value:this._id}),this._appendChild(s,a),this._appendChild(t,s),s.insertAdjacentHTML("afterend","&nbsp;<span class=e-reportviewer-label style=padding-top:4px>Null</span>"),null!=e.Label&&e.Label.length>0?$("#"+a.id).ejCheckBox({change:this._paramNullChange}):($("#"+a.id).ejCheckBox({change:e.IsDependent?this._depentParamNullChange:this._paramNullChange,checked:!0,htmlAttributes:{"aria-label":"Null"}}),this._paramElementDisable(e.ControlId,"chkDateTime",!0)));else if("RadioButton"==e.ParameterElementType){var B=this._buildTag("table",null,null,null),F=this._buildTag("tbody",null,null,null),z=this._buildTag("tr",null,null,null);this._appendChild(F,z),this._appendChild(B,F),this._appendChild(t,B),l&&(T={float:"left"},this._setTagStyle(B,T)),L=!1,null!=e.Label&&e.Label.length>0&&"true"==e.Label.toLowerCase()&&(L=!0),k=this._buildTag("td",null,null,null),P=this._buildTag("input",null,null,{id:e.ControlId+"_01",type:"radio",name:e.Name}),this._setAttributes(P,V.attributes),this._appendChild(k,P),this._appendChild(z,k),P.insertAdjacentHTML("afterend","&nbsp;<span>True</span>"),$("#"+P.id).ejRadioButton({checked:L,change:e.IsDependent?this._paramsChangeEvent:"",htmlAttributes:{"aria-label":e.Prompt+":True"}}),(j=this._buildTag("td",null,null,null)).style.width="10px",this._appendChild(z,j),D=this._buildTag("td",null,null,null),A=this._buildTag("input",null,null,{id:e.ControlId+"_02",type:"radio",name:e.Name}),this._setAttributes(A,V.attributes),this._appendChild(D,A),this._appendChild(z,D),A.insertAdjacentHTML("afterend","&nbsp;<span>False</span>"),null!=e.Label&&e.Label.length>0&&(L=!L),$("#"+A.id).ejRadioButton({checked:L,change:e.IsDependent?this._paramsChangeEvent:"",htmlAttributes:{"aria-label":e.Prompt+":False"}}),e.IsNullable&&(O=this._buildTag("td",null,null,null),s=this._buildTag("span",null,null,null),this._setTagStyle(s,{"WHITE-SPACE":"nowrap"}),l||(R={display:"block","padding-top":"3.5px"},this._setTagStyle(s,R)),(M=this._buildTag("span",null,null,null)).innerHTML="&nbsp;",this._appendChild(O,M),a=this._buildTag("input",null,null,{id:e.ControlId+"_chk",type:"checkbox",name:"chkRadio",value:this._id}),this._appendChild(O,a),this._appendChild(z,O),O.insertAdjacentHTML("afterend","<span class=e-reportviewer-label style=padding-top:4px>Null</span>"),$("#"+a.id).ejCheckBox({change:e.IsDependent?this._depentParamNullChange:this._paramNullChange}),null!=e.Label&&e.Label.length>0?$("#"+a.id).ejCheckBox({change:this._paramNullChange}):($("#"+a.id).ejCheckBox({change:e.IsDependent?this._depentParamNullChange:this._paramNullChange,checked:!0,htmlAttributes:{"aria-label":"Null"}}),this._paramElementDisable(e.ControlId,"chkRadio",!0)))}else I=this._buildTag("input","e-textbox e-reportviewer-textbox",null,{id:e.ControlId,type:"text",autocomplete:"off",name:e.Name,value:e.Value},{"aria-label":e.Prompt}),this._setAttributes(I,V.attributes),this._appendChild(t,I),d="auto"==V.itemWidth||parseFloat(V.itemWidth)<185?e.IsNullable?"75%":"100%":e.IsNullable?parseFloat(V.itemWidth)-50+"px":V.itemWidth,e.IsNullable?(I.style.width=d,s=this._buildTag("span",null,null,null),this._setTagStyle(s,{"WHITE-SPACE":"nowrap"}),l||(R={display:"block","padding-top":"3.5px"},this._setTagStyle(s,R)),(M=this._buildTag("span",null,null,null)).innerHTML="&nbsp;",this._appendChild(t,M),a=this._buildTag("input",null,null,{id:e.ControlId+"_chk",type:"checkbox",name:"chkTextbox",value:this._id}),this._appendChild(s,a),this._appendChild(t,s),s.insertAdjacentHTML("afterend","&nbsp;<span class=e-reportviewer-label style=padding-top:4px>Null</span>"),$("#"+a.id).ejCheckBox({change:e.IsDependent?this._depentParamNullChange:this._paramNullChange}),null!=e.Label&&e.Label.length>0?$("#"+a.id).ejCheckBox({change:e.IsDependent?this._depentParamNullChange:this._paramNullChange}):($("#"+a.id).ejCheckBox({change:e.IsDependent?this._depentParamNullChange:this._paramNullChange,checked:!0,htmlAttributes:{"aria-label":"Null"}}),this._paramElementDisable(e.ControlId,"chkTextbox",!0))):I.style.width=d,e.IsDependent&&I.addEventListener("change",this._paramsChangeEvent)},_onCheckAll:function(e){var t=e.model.id.substring(0,e.model.id.indexOf("_check")),i=(t.substr(0,t.lastIndexOf("Param")-1),$("#"+t).ejDropDownList("instance"));i.isSelectAllChecked=i._selectedIndices.length==i.listitems.length,e.isChecked?(i.isSelectAllChecked=!0,i.checkAll()):i.isSelectAllChecked&&(i.isSelectAllChecked=!1,i.uncheckAll())},_chkBoxSelectionChange:function(e){var t=this._id.indexOf("Param")<0?e.target.id:this._id,i=(t.substr(0,t.lastIndexOf("Param")-1),$("#"+t).ejDropDownList("instance"));this._selectedIndices.length!=this.listitems.length?(i.isSelectAllChecked=!1,$("#"+t+"_check").ejCheckBox({checked:!1})):(i.isSelectAllChecked=!0,$("#"+t+"_check").ejCheckBox({checked:!0}))},_selectionChanged:function(e){var t,i=this._id.indexOf("Param")<0?e.target.id:this._id,s=i.substr(0,i.lastIndexOf("Param")-1),a=$("#"+s).data("boldReportViewer"),o=ej.ReportViewer.Locale[a.model.locale]?ej.ReportViewer.Locale[a.model.locale]:ej.ReportViewer.Locale["en-US"],r=this._activeItem;if(0==this.selectedIndexValue&&this.selectedTextValue==o.selectAll)if(this.checkedStatus)for(t=1;t<this.listitems.length;t++)this._setModel({selectedIndex:t});else for(t=1;t<this.listitems.length;t++)this.unselectItemsByIndices(t);else this._selectedIndices.length==this.listitems.length-1&&(this.checkedStatus?this._setModel({selectedIndex:0}):this.unselectItemsByIndices(0));this._activeItem=r},_updateParamElements:function(e){var t,i,s,a=this._onRenderBeginAction({reportParameters:$.extend(!0,{},e[0])});if(!a)for(t=0;t<e.length;t++)if(i=e[t],null!=(s=document.getElementById(i.ControlId+"_div")))if(i.IsMultiValue||null!=i.AvailableValues||"Boolean"==i.DataType){for(;s.firstChild;)s.removeChild(s.firstChild);this._renderParameterElements(i,s)}else"DateTime"==i.DataType?(this._isDateTimePicker(i.ControlId)?$("#"+i.ControlId).data("ejDateTimePicker"):$("#"+i.ControlId).data("ejDatePicker")).setModel({value:i.Label}):$("#"+i.ControlId).val(i.Label);return this._updateParametersModel(e),$("#"+this._id+"_viewerBlockCellContent").removeClass("e-reportviewer-paramblock-disable"),this._showparameterLoadingIndicator(!1,null),a},_paramsChangeEvent:function(e){var t,i=this._id!=undefined?this._id:this.id,s=i.indexOf("Param")<0?e.target.id:i,a=s.substr(0,s.lastIndexOf("Param")-1),o=$("#"+a).data("boldReportViewer");o._updateParam=null,("popupHide"!=e.type||e.text==this._currentDropdownText)&&("change"!=e.type||this.popUpShow)||("ejRadioButton"==this.pluginName?o._updateParamLoadingMessage(o,s.substr(0,s.lastIndexOf("_"))):o._updateParamLoadingMessage(o,s),this._currentDropdownText=null,t=o._paramDependentUpdate(s,!1,this,e)),t!=undefined&&(o._updateParam=t,o._ajaxCallMethod(o._reportAction.updateParameters,"_updateParameters",!1))},_beforePopupOpen:function(e){this._currentDropdownText=e.text},_updateParamLoadingMessage:function(e,t){var i;$("#"+e._id+"_viewerBlockCellContent").addClass("e-reportviewer-paramblock-disable");var s=ej.ReportViewer.Locale[e.model.locale]?ej.ReportViewer.Locale[e.model.locale]:ej.ReportViewer.Locale["en-US"],a=null,o=null;if(null!=e._reportParametersModel&&e._reportParametersModel.length>0){for(i=0;i<e._reportParametersModel.length;i++)if(e._reportParametersModel[i].ControlId==t){a=e._reportParametersModel[i];break}for(i=0;i<e._reportParametersModel.length;i++)if(null!=a.RelationInfo&&null!=a.RelationInfo.ReferencedParameters&&a.RelationInfo.ReferencedParameters.length>0&&a.RelationInfo.ReferencedParameters[0]==e._reportParametersModel[i].Name){o=e._reportParametersModel[i].ControlId;break}}e._showparameterLoadingIndicator(!0,s.parameterProcessingMessage,a.Name,a.Prompt,o)},_paramDependentUpdate:function(e,t,i,s){var a,o,r,l={Name:"",Labels:[],Values:[]},n=$("#"+e);if(l.Name=n.attr("name"),t)l.Labels.push(null),l.Values.push(null);else if("ejDropDownList"==i.pluginName){if(l.Name==undefined&&(l.Name=n.attr("data-sf-name")),i.model.showCheckbox)for(a=0;a<i.model.selectedIndices.length;a++)l.Labels.push(i.selectOptionItems[i.model.selectedIndices[a]].text),l.Values.push(i.selectOptionItems[i.model.selectedIndices[a]].value);else-1!=i.model.selectedIndex&&(l.Labels.push(i.selectOptionItems[i.model.selectedIndex].text),l.Values.push(i.selectOptionItems[i.model.selectedIndex].value));if("popupHide"!=s.type&&"change"!=s.type)return}else"ejDatePicker"==i.pluginName?(o=n.data("ejDatePicker").getValue(),l.Labels.push(o),l.Values.push(o)):"ejDateTimePicker"==i.pluginName?(o=n.data("ejDateTimePicker").getValue(),l.Labels.push(o),l.Values.push(o)):"ejRadioButton"==i.pluginName?(r=n.data("ejRadioButton").model.checked,"_01"===n.attr("id").slice(-3)?(l.Labels.push(r),l.Values.push(r)):(l.Labels.push(!1),l.Values.push(!1))):(l.Labels.push(n.val()),l.Values.push(n.val()));return l},_viewReportParamsClick:function(e){var t,i,s,a,o,r,l;if(this.model.sizeToReportContent&&this._setContainerSize(),this._showloadingIndicator(!0),$("#"+this._id+"_viewerBlockCellContent").addClass("e-reportviewer-paramblock-disable"),this._hidePageView(),t=e.data.params,i=this._getParameterJson(t,!0)){for(o in this._reportParameters=i,this._viewReportEnableDisable(!0),this._refresh=!0,this._currentPage=1,$("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcontent table:first").attr("data-isviewclick","true"),s=[],a={},i)a[i[o].name]=i[o];for(r in a)s.push(a[r]);this._onViewReportClick({parameters:s}),this._reportParameters=i=s,l=this._printMode?"_getPreviewModel":"_getPageModel",i.cancel?this._showloadingIndicator(!1):(this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.getPageModel,refresh:this._refresh,dataRefresh:this._dataRefresh,pageindex:this._currentPage,pageInit:this._isToolbarClick,isPrint:this._printMode,dataSources:this.model.dataSources.length>0?this.model.dataSources:null,parameters:i}),l),this._isDevice&&this._toggleParameterBlock()),this.model.autoRender||(this.model.isDataRendered=!0),$("#"+this._id+"_toolbar_li_refresh").hasClass("e-disable")&&$("#"+this._id+"_toolbar_li_refresh").removeClass("e-disable")}else this._showloadingIndicator(!1)},_viewReportEnableDisable:function(e){$("#"+this._id+"_viewReportClick").attr("disabled",e)},_getDefaultParameters:function(e){for(var t,i,s=[],a=[],o=e.parameters;0<o.length;o++)if(o[0].DefaultValues){for(t=0;t<o[0].DefaultValues.length;t++)a.push(o[0].DefaultValues[t]),s.push(o[0].DefaultValues[t]);i=[{Name:o[0].Name,Values:s,Labels:a,Nullable:o[0].IsNullable}],this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.setParameters,parameters:i}),"_setParameters")}},_isDateTimePicker:function(e){return!ej.isNullOrUndefined($("#"+e).data("ejDateTimePicker"))},_getParameterJson:function(e,t){var i,s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],x=e.parameters?e.parameters:e;if(e.paramName!=undefined&&""!=e.paramName)return s=(i=v.alertMessage.RVERR0005).substr(i.indexOf("{"),i.indexOf("}")-3),this._showAlertDialog(i.replace(s,e.paramName),"",!0),!1;for(a=[],o=0;o<x.length;o++){var y=x[o],w=[],S=[],C=!1,T=$("#"+y.ControlId+"_div").find(".e-chkbox-wrap").attr("aria-checked");if("true"==T)C=!0;else if(0==y.Hidden)if("MultiValue"==y.ParameterElementType&&$("#"+y.ControlId).data("ejDropDownList"))if((r=(L=$("#"+y.ControlId).data("ejDropDownList"))._selectedIndices).length>0){for(l=0;l<r.length;l++)S.push(L.selectOptionItems[r[l]].text),w.push(L.selectOptionItems[r[l]].value);if(y.IsNullable)for(n=0;n<y.AvailableLabels.length;n++)null==y.AvailableLabels[n]&&(S.push(""),w.push(""),C=!0)}else{if(0!=r.length||!t||!y.IsNullable)return t&&this._showAlertDialog(v.alertMessage.RVERR0004+" '"+y.Prompt+"'.","",!0),!1;if(null!=y.AvailableLabels)for(d=0;d<y.AvailableLabels.length;d++)null==y.AvailableLabels[d]&&(C=!0);if(!C&&(0==o||x.length==o+1))return this._showAlertDialog(v.alertMessage.RVERR0004+" '"+y.Prompt+"'.","",!0),!1}else if("ComboBox"==y.ParameterElementType&&$("#"+y.ControlId).data("ejDropDownList")){var L,k=(L=$("#"+y.ControlId).data("ejDropDownList")).getSelectedValue(),P=L.getSelectedItem();if(""==k?k=y.Value:null!=y.AvailableValues&&y.AvailableValues.length>0&&y.AvailableValues[L._selectedIndices[0]]!=k&&(k=y.AvailableValues[L._selectedIndices[0]]),P=P&&""==$(P).text()?y.Label:$(P).text(),!(L._selectedIndices.length>0))return t&&this._showAlertDialog(v.alertMessage.RVERR0004+" '"+y.Prompt+"'.","",!0),!1;S.push(P),w.push(k)}else if("DateTime"==y.ParameterElementType&&$("#"+y.ControlId).data("ejDatePicker")){if(h=this._isDateTimePicker(y.ControlId)?$("#"+y.ControlId).data("ejDateTimePicker"):$("#"+y.ControlId).data("ejDatePicker")){if(c=h.getValue(),t&&null==c)return this._showAlertDialog(v.alertMessage.RVERR0010+" '"+y.Prompt+"'. "+v.alertMessage.RVERR0011,"",!0),!1;if(null==c)return!1;S.push(c),w.push(c)}}else if("RadioButton"==y.ParameterElementType&&$("#"+y.ControlId+"_01").data("ejRadioButton")&&$("#"+y.ControlId+"_02").data("ejRadioButton"))if(u=$("#"+y.ControlId+"_01").data("ejRadioButton"),p=$("#"+y.ControlId+"_02").data("ejRadioButton"),"true"==(T=$("#"+y.ControlId+"_div").find(".e-chkbox-wrap").attr("aria-checked")))C=!0;else{if(t&&!u.model.checked&&!p.model.checked)return this._showAlertDialog(v.alertMessage.RVERR0010+" '"+y.Prompt+"'. "+v.alertMessage.RVERR0011,"",!0),!1;if(u.model.checked||p.model.checked)S.push(u.model.checked),w.push(u.model.checked);else if(!u.model.checked&&!p.model.checked)return!1}else{if(m=null,this._customParameters&&this._customParameters.length>0)for(_=0;_<this._customParameters.length;_++)if((g=this._customParameters[_])&&g.name==y.Name){m=g;break}if(m){if(ej.isNullOrUndefined(m.values)||0==m.values.length)return t&&this._showAlertDialog(v.alertMessage.RVERR0004+" '"+y.Prompt+"'.","",!0),!1;for(_=0;_<m.values.length;_++){if(f=m.values[_],!this._validateParameter(t,y,f,v))return!1;(!ej.isNullOrUndefined(f)||y.IsNullable||y.AllowBlank&&""==f)&&("undefined"!=typeof m.labels[_]?S.push(m.labels[_]):S.push(f),w.push(f))}}else{if(f=$("#"+y.ControlId).val(),!this._validateParameter(t,y,f,v))return!1;(!ej.isNullOrUndefined(f)||y.IsNullable||y.AllowBlank&&""==f)&&(S.push(f),w.push(f))}}else"MultiValue"==y.ParameterElementType&&y.Values.length>0?(S=y.Labels,w=y.Values):(f=y.Value,S.push(f),w.push(f));b={name:y.Name,values:w,labels:S,nullable:C},a.push(b)}return a},_validateParameter:function(e,t,i,s){if(e){var a=s.alertMessage.RVERR0012,o=a.substr(a.indexOf("{"),a.indexOf("}")-3);if("Float"!=t.DataType||t.AllowBlank)if("Integer"!=t.DataType||t.AllowBlank){if("String"==t.DataType&&!t.AllowBlank&&(""==i||ej.isNullOrUndefined(i)))return this._showAlertDialog(s.alertMessage.RVERR0010+" '"+t.Prompt+"'. "+s.alertMessage.RVERR0011,"",!0),!1}else{if(""==i||ej.isNullOrUndefined(i))return this._showAlertDialog(s.alertMessage.RVERR0010+" '"+t.Prompt+"'. "+s.alertMessage.RVERR0011,"",!0),!1;if(!i.match("^[-+]?[0-9]+$"))return this._showAlertDialog(a.replace(o,t.Prompt),"",!0),!1}else{if(""==i||ej.isNullOrUndefined(i))return this._showAlertDialog(s.alertMessage.RVERR0010+" '"+t.Prompt+"'. "+s.alertMessage.RVERR0011,"",!0),!1;if(!i.match("^[-+]?[0-9]*.?[0-9]+$"))return this._showAlertDialog(a.replace(o,t.Prompt),"",!0),!1}}else if(!t.AllowBlank&&(""==i||ej.isNullOrUndefined(i)))return!1;return!0},_updateParametersModel:function(e){var t,i,s;if(this._reportParametersModel&&e)for(t=0;t<e.length;t++)for(i=!1,s=0;s<this._reportParametersModel.length;s++){if(this._reportParametersModel[s].Name===e[t].Name){this._reportParametersModel[s]=e[t],i=!0;break}i||this._reportParametersModel.push(e[t])}},_updateCustomParametersModel:function(e){var t,i,s;if(this._customParameters==undefined&&(this._customParameters=[]),this._customParameters&&e&&e.name){if(t=!0,this._customParameters.length>0)for(i=0;i<this._customParameters.length;i++)if((s=this._customParameters[i])&&s.name==e.name){this._customParameters[i]=e,t=!1;break}t&&this._customParameters.push(e)}},_paramNullChange:function(e){var t=e.model.id.split("~");$("#"+e.model.value).data("boldReportViewer")._paramElementDisable(t[0],e.model.name,e.isChecked)},_depentParamNullChange:function(e){var t,i=e.model.id.split("~"),s=this._id.indexOf("Param")<0?e.target.id:i[0];"_chk"===s.slice(-4)&&(s=s.slice(0,-4));var a=s.substr(0,s.lastIndexOf("Param")-1),o=$("#"+a).data("boldReportViewer");$("#"+e.model.value).data("boldReportViewer")._paramElementDisable(i[0],e.model.name,e.isChecked),o._updateParam=null,(t=o._paramDependentUpdate(s,e.isChecked,this,e))!=undefined&&0!=e.isInteraction&&(o._updateParamLoadingMessage(o,s),o._updateParam=t,o._ajaxCallMethod(o._reportAction.updateParameters,"_updateParameters",!1))},_paramElementDisable:function(e,t,i){var s,a,o;"_chk"===e.slice(-4)&&(e=e.slice(0,-4)),"chkDateTime"==t?(s=this._isDateTimePicker(e)?$("#"+e).data("ejDateTimePicker"):$("#"+e).data("ejDatePicker"),i?s.disable():s.enable()):"chkTextbox"==t?i?(document.getElementById(e).setAttribute("disabled","disabled"),document.getElementById(e).style.opacity="0.45"):(document.getElementById(e).removeAttribute("disabled"),document.getElementById(e).style.opacity="1"):"chkRadio"==t&&(a=$("#"+e+"_01").data("ejRadioButton"),o=$("#"+e+"_02").data("ejRadioButton"),i?(a.disable(),o.disable()):(a.enable(),o.enable()))},_selectparamToolItem:function(e){if(!this.model.toolbarSettings.templateId){var t=$("#"+this._id+"_toolbarContainer").data("ejToolbar");e?t.selectItemByID(this._id+"_toolbar_li_parameter"):t.deselectItemByID(this._id+"_toolbar_li_parameter")}},_showParameterBlock:function(e){e?($("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcellcontent").css("display","block"),$("#"+this._id+"_toolbar_li_parameter").css("display","block")):($("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcellcontent").css("display","none"),$("#"+this._id+"_toolbar_li_parameter").css("display","none")),this._isDevice&&(this._showViewerBlock(e),this._showViewerPage(!e))},_toggleParameterBlock:function(){if(this._isDevice){var e="none"==$("#"+this._id+"_viewBlockContainer").css("display");this._showViewerBlock(e),this._showViewerPage(!e),e||this._selectparamToolItem(e)}else this._selectparamToolItem(!("block"==$("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcellcontent").css("display"))),$("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcellcontent").toggle();this._setContainerSize(),this._onElementsRendered({action:"ParameterToggle"})},_setParameterBlockVisibile:function(e){if(!this._isDevice){var t=$("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcellcontent");e?"none"==t.css("display")&&(t.toggle(),this._setContainerSize()):"block"==t.css("display")&&(t.toggle(),this._setContainerSize())}},_closeException:function(){this._showException(!1)},_errorPopupblock:function(e){var t=e.data.exceptionArgs;this._showAlertDialog(t.Message,t.Detail,!1,t.Code)},_onCancelClick:function(e){var t=$("#"+e+"_viewer_alert_dialog").data("ejDialog");$("#"+this._id+"_printPageSetup_wrapper").css("z-index",$("#"+this._id+"_printPageSetup_wrapper").css("z-index")+1),t&&t.close()},_showExceptionDetails:function(e){var t=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],i=$("#"+e+"_msg_container");i.is(":visible")?(i.css("display","none"),$("#"+e+"_alert_link_detail").text(t.alertMessage.showDetails)):($("#"+e+"_viewer_alert_dialog_wrapper").children(".e-dialog-scroller").css("height","auto"),$("#"+e+"_viewer_alert_dialog").css("height","auto"),i.css("display","block"),$("#"+e+"_alert_link_detail").text(t.alertMessage.hideDetails))},_showExceptionBlock:function(e,t){e?(this._showloadingIndicator(!e),this._showViewerBlock(e),this._on($("#"+this._id+"_viewBlockContainer_errmsg"),"click",{exceptionArgs:t},this._errorPopupblock),this._on($("#"+this._id+"_closebutton"),"click",this._closeException),$("#"+this._id+"_errorMsgContainer").css("display","block"),$("#"+this._id+"_viewerBlockCellContent").css("display","none"),$("#"+this._id+"_AlertIcon").css("display","block"),this._on($("#"+this._id+"_AlertIcon"),"click",{exceptionArgs:t},this._errorPopupblock),$("#"+this._id+"_AlertIcon").css("visibility","visible")):(this._off($("#"+this._id+"_viewBlockContainer_errmsg"),"click",this._errorPopupblock),this._off($("#"+this._id+"_closebutton"),"click",this._closeException),$("#"+this._id+"_errorMsgContainer").css("display","none"),this._off($("#"+this._id+"_AlertIcon"),"click",this._errorPopupblock),$("#"+this._id+"_AlertIcon").css("display","none")),t!=undefined&&this._showloadingIndicator(!1),this._setContainerSize()},_showException:function(e,t){if(e&&t!=undefined){if(-1!=t.content.indexOf("Sf_Exception"))var i=t.content.replace("Sf_Exception","");this._onReportError({errmsg:i})}e&&this.model.enableNotificationBar?this._isDevice?this._showAlertDialog(t.content,t.description,!1):this._showExceptionBlock(e,t):this._showExceptionBlock(!1,t)},_showAlertDialog:function(e,t,i,s){var a,o,r,l,n={errorCode:s,errorMessage:e,errorDetail:t};if(this._showparameterLoadingIndicator(!1,null),this._showPrintExportProgressIndicator(!1),this._onShowError(n),!n.cancel){e=n.errorMessage,t=n.errorDetail,s=n.errorCode,a=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],i&&($("#"+this._id+"_viewerBlockCellContent").removeClass("e-reportviewer-paramblock-disable"),this._showparameterLoadingIndicator(!1,null)),$("#"+this._id+".e-reportviewer")[0].getBoundingClientRect();var d=this._renderAlertDialog(s).data("ejDialog");d.setModel({height:"auto"}),$("#"+this._id+"_alert_link_detail").text(a.alertMessage.showDetails),d.open(),o=$("#"+this._id+"_alert_footer_ok"),r=$("#"+this._id+"_viewer_alert_dialog_closebutton"),$("#"+this._id+"_alert_link_div").css("display","block"),this._getTextHeight(e,{width:"430px","font-size":"13px"})>150?(-1!=e.indexOf("StackTrace:")&&(t=e.substring(0,e.indexOf("StackTrace:")),l=e.substring(e.indexOf("StackTrace:")).replace("  at","at"),e=l.replace("StackTrace: \n","")),$("#"+this._id+"_short_content").text(t),$("#"+this._id+"_detail_content").text(e)):-1!=e.indexOf("StackTrace:")?($("#"+this._id+"_short_content").text(e.substring(0,e.indexOf("StackTrace:"))),l=e.substring(e.indexOf("StackTrace:")).replace("  at","at"),$("#"+this._id+"_detail_content").text(l.replace("StackTrace: \n",""))):null!=n.errorDetail&&""!=n.errorDetail?($("#"+this._id+"_short_content").text(e),$("#"+this._id+"_detail_content").text(n.errorDetail)):($("#"+this._id+"_short_content").text(e),$("#"+this._id+"_alert_link_div").css("display","none")),null!=s&&""!=s?($("#"+this._id+"_errorcode_hyper_link").text(s),$("#"+this._id+"_error_code_div").css("display","block")):$("#"+this._id+"_error_code_div").css("display","none"),$(this.element).find(".e-dialog-scroller").css("border-bottom-style","none"),$("#"+this._id+"_msg_container").css("display","none"),$("#"+this._id+"_viewer_alert_dialog_title").css("text-align","center"),$("#"+this._id+"_printPageSetup_wrapper").css("z-index",$("#"+this._id+"_printPageSetup_wrapper").css("z-index")-1),o.unbind("click",$.proxy(this._onCancelClick,this)),r.unbind("click",$.proxy(this._onCancelClick,this)),o.bind("click",$.proxy(this._onCancelClick,this,this._id)),r.bind("click",$.proxy(this._onCancelClick,this,this._id))}},_redirectToOnlineLink:function(e){window.open("https://help.syncfusion.com/wpf/reportviewer/troubleshooting-errors/#"+e.toLowerCase())},_getTextHeight:function(e,t){var i,s=$("<span>").hide().appendTo(document.body);return s.text(e).css(t),i=s.height(),s.remove(),i},_renderAlertDialog:function(e){var t,i=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],s=$("#"+this._id+"_viewer_alert_dialog");if(s.length>0)return s;s=ej.buildTag("div","",{height:"auto"},{id:this._id+"_viewer_alert_dialog"});var a=ej.buildTag("div","",{height:"auto",display:"block"}),o=ej.buildTag("div","",{display:"block",width:"100%",height:"auto"}),r=ej.buildTag("table.e-reportviewer-alert-table","",{}),l=ej.buildTag("tr","",{}),n=ej.buildTag("td","",{"max-width":"430px"},{id:this._id+"_content_cell"}),d=ej.buildTag("div.e-reportviewer-tab-focus-none","",{width:"513px",minHeight:"15px","word-wrap":"break-word","text-align":"justify"},{role:"textbox",tabindex:"0"}),h=ej.buildTag("span","",{"font-size":"13px"},{id:this._id+"_short_content"}),c=ej.buildTag("div","",{display:"block",width:"100%"},{id:this._id+"_error_code_div"}),u=ej.buildTag("span","Error code: ",{"font-size":"14px","font-weight":"600"},{id:this._id+"_error_code"}),p=(e=ej.buildTag("span","",{"font-size":"13px"},{id:this._id+"_error_code_text"}),ej.buildTag("a","",{"font-size":"14px","font-weight":"Medium",color:"#0099FF",outline:"none"},{href:"javascript:void(0);",color:"#0099FF",id:this._id+"_errorcode_hyper_link"})),m=ej.buildTag("div","",{display:"block",width:"100%"},{id:this._id+"_alert_link_div"}),g=ej.buildTag("a",i.alertMessage.showDetails,{"font-size":"12px","font-family":"Segoe UI","font-weight":"600","margin-bottom":"18px","margin-top":"18px",color:"#179bd7","text-decoration":"none",outline:"none"},{href:"javascript:void(0);",color:"#0B0080",id:this._id+"_alert_link_detail"}),_=ej.buildTag("div.e-reportviewer-scroller e-reportviewer-error-content","",{"word-wrap":"break-word","max-height":"111px",height:"auto !important","margin-top":"16px",border:"1px solid #c9cbcc",display:"none","border-radius":"2px"},{id:this._id+"_msg_container"}),f=ej.buildTag("span.e-reportviewer-error-content","",{width:"100%"},{id:this._id+"_detail_content"});return"chrome"==this._browserInfo.name||"mozilla"==this._browserInfo.name?_.css("overflow-y","scroll"):_.css("overflow-y","hidden"),t=ej.buildTag("button.e-reportviewer-alert-okbtn",i.alertMessage.done,{float:"right"},{id:this._id+"_alert_footer_ok"}),$(document.body).append(s),s.append(a),a.append(o),o.append(r),r.append(l),l.append(n),c.append(u),c.append(e),e.append(p),n.append(d),d.append(h),a.append(m),m.append(g),a.append(_),_.append(f),s.ejDialog({title:i.alertMessage.title,target:"#"+this.element.attr("id"),enableModal:!0,enableResize:!1,showRoundedCorner:!0,cssClass:"e-js e-fe-dialog e-reportviewer-alertbox",backgroundScroll:!1,height:"auto",width:573,showOnInit:!0,showFooter:!0}),g.bind("click",$.proxy(this._showExceptionDetails,this,this._id)),p.bind("click",$.proxy(this._redirectToOnlineLink,this,e)),$("#"+this._id+"_viewer_alert_dialog_foot").append(t),t.ejButton({width:"80px",height:"28px",showRoundedCorner:!1,type:"Button",contentType:ej.ContentType.TextAndImage,size:"small"}),_.ejScroller({buttonSize:0,height:"100px",scrollerSize:9}),s},_setContainerSize:function(){var e,t,i=0,s=0,a=0,o=$("#"+this._id).height();this._isDevice||(e=$("#"+this._id+"_viewBlockContainer")).length>0&&"block"==e.css("display").toLowerCase()&&(i=$("#"+this._id+"_viewBlockContainer").height(),s=parseFloat($("#"+this._id+"_viewBlockContainer").css("border-top-width")),a=parseFloat($("#"+this._id+"_viewBlockContainer").css("border-bottom-width")));var r=0,l=0,n=0;this.model.toolbarSettings.templateId?(n=$("#"+this.model.toolbarSettings.templateId).height(),r=parseFloat($("#"+this.model.toolbarSettings.templateId).css("border-top-width")),l=parseFloat($("#"+this.model.toolbarSettings.templateId).css("border-bottom-width"))):(n=$("#"+this._id+"_toolbarContainer").height(),r=parseFloat($("#"+this._id+"_toolbarContainer").css("border-top-width")),l=parseFloat($("#"+this._id+"_toolbarContainer").css("border-bottom-width"))),t=o-(i+s+a)-(n+r+l),this.model.sizeToReportContent?(this._currentTogglePosition>0&&$("html,body").animate({scrollTop:this._currentTogglePosition},1e3),$("#"+this._id+"_viewerContainer").css({height:t+"px"})):$("#"+this._id+"_viewerContainer").css({height:t+"px"}),this._currentTogglePosition=0},_setPageSize:function(e,t,i,s){var a,o,r,l=null,n=null,d=$("#"+this._id+"_pageviewheaderContainer").parent(),h=$("#"+this._id+"_pageviewbodyContainer").parent(),c=$("#"+this._id+"_pageviewfooterContainer").parent();a=parseFloat(d.css("border-top-width")),o=parseFloat(d.css("border-bottom-width"));var u=parseFloat(h.css("border-top-width"))+parseFloat(h.css("border-bottom-width")),p=a+o+i+u+e+(parseFloat(c.css("border-top-width"))+parseFloat(c.css("border-bottom-width")))+s;e=u>0?e:e+2,$("#"+this._id+"_pageviewContainer").css({width:t+"px",height:p+"px"}),$("#"+this._id+"_pageviewheaderContainer").css({width:t+"px",height:i+"px"}),$("#"+this._id+"_pageviewfooterContainer").css({width:t+"px",height:s+"px"}),$("#"+this._id+"_pageviewbodyContainer").css({height:e+"px",width:t+"px"}),r=$("#"+this._id+"_pageviewContainer")[0].getBoundingClientRect(),"msie"==this._browserInfo.name&&8==this._browserInfo.version?(l=r.right-r.left,n=r.bottom-r.top):(l=r.width,n=r.height),$("#"+this._id+"_errorBannerTable").css({width:l+"px"}),$("#"+this._id+"_pageviewOuterline").css({width:l+"px",height:n+"px"})},_renderPageModels:function(e){if(this._destroyPageItems(),$("#"+this._id+"_pageviewOuterContainer").css("display","block"),this.model.sizeToReportContent&&$("#"+this._id+"_viewerContainer").css({height:"auto"}),e){e.ReportStyleModel&&this._applyPageStyle(document.getElementById(this._id+"_pageviewContainer"),e.ReportStyleModel,!1,!0),e.HeaderStyleModel&&this._applyPageStyle(document.getElementById(this._id+"_pageviewContainer").getElementsByClassName("pageHeaderBorder")[0],e.HeaderStyleModel,!1,!1),e.FooterStyleModel&&this._applyPageStyle(document.getElementById(this._id+"_pageviewContainer").getElementsByClassName("pageFooterBorder")[0],e.FooterStyleModel,!1,!1),e.HeaderModel&&e.HeaderModel.length>0&&(this._renderPageControls(e,e.HeaderModel,document.getElementById(this._id+"_pageviewheaderContainer"),!1,null),this._printMode&&$("#"+this._id+"_pageviewheaderContainer").css("overflow","hidden")),e.FooterModel&&e.FooterModel.length>0&&(this._renderPageControls(e,e.FooterModel,document.getElementById(this._id+"_pageviewfooterContainer"),!1,null),this._printMode&&$("#"+this._id+"_pageviewfooterContainer").css("overflow","hidden"));var t=document.getElementById(this._id+"_pageviewbodyContainer");this._printMode&&this._pageModel&&this._pageModel.Columns>1?this._renderMultiColumnPage(this._pageModel,t,!1,0):(e.BodyStyleModel&&this._applyPageStyle(document.getElementById(this._id+"_pageviewContainer").getElementsByClassName("pageBodyBorder")[0],e.BodyStyleModel,!1,!1),e.PageModel&&e.PageModel.length>0&&this._renderPageControls(e,e.PageModel,t,!1,null))}$(".txtToggle_"+this._id).length>0&&this._drillAction(),$(".drillAction_"+this._id).length>0&&this._drillThroughAction(),$(".txtSorting_"+this._id).length>0&&this._sortingAction(),this._isDocumentMap&&!this._printMode&&(this._documentMapAction(),this._isDocumentMap=!1,this._pageDocMapFlag=!0),this._parentPageXY&&($("#"+this._id+"_viewerContainer").animate({scrollTop:this._parentPageXY.y,scrollLeft:this._parentPageXY.x},1e3),this._parentPageXY=null),this.model.printMode?$("#"+this._id+"_pageviewContainer").css({"padding-left":this._pageModel.MarginLeft,"padding-top":this._pageModel.MarginTop,"padding-right":this._pageModel.MarginRight,"padding-bottom":this._pageModel.MarginBottom}):$("#"+this._id+"_pageviewContainer").css("padding","0px")},_renderMultiColumnPage:function(e,t,i,s){var a,o,r,l,n,d=s*e.Columns,h=this._buildTag("div",null,null,{id:this._id+"_multiColumnbodyContainer_"+s});for(this._setTagStyle(h,{position:"relative","background-color":"transparent",display:"table"}),t&&this._appendChild(t,h),a=0,o=d;o<e.Columns+d;o++){r=this._buildTag("div","e-reportviewer-box-border",null,{id:this._id+"_pageviewbodyContainer_"+o}),l=this._buildTag("div","pageBodyBorder e-reportviewer-box-border",null,{id:this._id+"_pageviewbodyBorder_"+o}),this._appendChild(l,r),h&&this._appendChild(h,l);var c={position:"relative","background-color":"transparent"},u={position:"relative","background-color":"#FFFFFF",display:"table-cell","background-position":"center center","background-repeat":"no-repeat"},p=null;o<e.PageData.length&&null!=e.PageData[o]&&(p=e.PageData[o],c.height=p.Height+"px",c.width=p.ColumnWidth+"px",u.left=a+"px",a+=e.ColumnSpacing,n=null,i&&(n="Print"+o),p.PageModel&&p.PageModel.length>0&&r&&this._renderPageControls(p,p.PageModel,r,i,n)),this._setTagStyle(l,u),this._setTagStyle(r,c),p&&p.BodyStyleModel&&r&&this._applyPageStyle(l,p.BodyStyleModel,i,n)}},_applyPageStyle:function(e,t,i,s){var a=i?"PrintImage":"GetResource";t.BackgroundColor?e.style.backgroundColor=t.BackgroundColor:""==t.BackgroundColor&&(e.style.backgroundColor="#FFFFFF"),t.BackgroundSrc?(e.style.backgroundImage=this._getImageDataURL(t.EmbedImageData,i,a,t.BackgroundSrc),null!=t.BackgroundRepeat&&(e.style.backgroundPosition="0px 0px",s&&this._printMode&&!i?(e.style.backgroundPositionX=this._pageModel.MarginLeft+"px",e.style.backgroundPositionY=this._pageModel.MarginTop+"px"):s&&i&&(e.style.position="absolute",e.style.marginLeft=this._pageModel.MarginLeft+"px",e.style.marginTop=this._pageModel.MarginTop+"px"),e.style.backgroundRepeat=this._getBackgroundRepeat(t.BackgroundRepeat))):e.style.backgroundImage="none","Clip"===t.BackgroundRepeat&&(e.style.backgroundClip="auto"),t.Border&&this._applyBorderStyle(t.Border,e)},_getBackgroundRepeat:function(e){switch(e.toLowerCase()){case"repeatx":e="repeat-x";break;case"repeaty":e="repeat-y";break;case"fit":e="round";break;case"clip":e="no-repeat";break;case"repeat":e="repeat"}return e},_renderErrorDialog:function(e){this._showAlertDialog(e.Message,e.Detail,!1,e.Code)},_renderErrorBanner:function(e){var t=this,i=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"];$("#"+this._id+"_errorBannerTable").remove(),$("#"+this._id+"_errorBannerContainer").css("display","block");var s=this._buildTag("table","e-reportviewer-banner-table",null,{id:this._id+"_errorBannerTable"}),a=this._buildTag("tr",null,null,null),o=this._buildTag("td",null,null,{id:this._id+"_errorbanner_table_cell1"}),r=this._buildTag("td",null,null,{id:this._id+"_errorbanner_table_cell2"}),l=this._buildTag("span","e-icon e-cancel e-errorbanner-close-button",null,{id:this._id+"_errorBannerCloseButton"}),n=this._buildTag("span","e-reportviewer-errorbannerheader",null,{id:this._id+"_errorBannerHeader"}),d=this._buildTag("span","e-reportviewer-errorbannerbody",null,{id:this._id+"_errorBannerBody"}),h=this._buildTag("span","e-reportviewer-errorbannerfooter",null,{id:this._id+"_errorBannerFooter"}),c={padding:"8px"},u={color:"rgb(23, 155, 215)",cursor:"pointer","font-weight":"600"};0==Object.keys(e.errorMessages).length||jQuery.isEmptyObject(e.errorMessages)||Object.values(e.errorMessages)[0].Message===undefined||(Object.values(e.errorMessages)[0].Code!==undefined&&n.append(Object.values(e.errorMessages)[0].Code+" : "),d.append(Object.values(e.errorMessages)[0].Message+" "),h.append(i.alertMessage.showDetails),1==Object.keys(e.errorMessages).length&&"General"!==Object.values(e.errorMessages)[0].ItemType?Object.assign(u,{display:"none"}):Object.assign(u,{display:"inline-block"}),this._setTagStyle(l,{background:"none",outline:"none",border:"none",cursor:"pointer"}),this._setTagStyle(s,{margin:"0px auto",background:"#ffddc1","font-size":"14px","box-shadow":"0px 0px 5px 4px rgba(0, 0, 0, 0.17)"}),this._setTagStyle(o,c),this._setTagStyle(r,c),this._setTagStyle(r,{"vertical-align":"top","max-width":"50px"}),this._setTagStyle(h,u),this._setTagStyle(n,{"font-weight":"bold"}),this._appendChild(r,l),this._appendChild(o,n),this._appendChild(o,d),this._appendChild(o,h),this._appendChild(a,o),this._appendChild(a,r),this._appendChild(s,a),this._appendChild($("#"+this._id+"_errorBannerContainer"),s),$("#"+t._id+"_errorBannerCloseButton").click((function(){$("#"+t._id+"_errorBannerContainer").css({display:"none"})})),$("#"+t._id+"_errorBannerFooter").click((function(){Object.values(e.errorMessages)[0].ItemType!==undefined&&"General"!==Object.values(e.errorMessages)[0].ItemType?t._renderErrorBannerDialog(e):t._renderGeneralErrorBannerDialog(e)})))},_renderErrorBannerDialog:function(e){var t,i,s,a=null,o=null,r=ej.buildTag("div.e-reportdesigner-designer-configuration e-userselect","",{display:"table",width:"100%"},{id:this._id+"_errorBannerSetup"}),l=ej.buildTag("div","",{display:"block",width:"550px"},{id:this._id+"_exportFormat"}),n=ej.buildTag("table","",{width:"100%"},{"border-collapse":"collapse"}),d=$("#"+this._id+".e-reportviewer")[0].getBoundingClientRect(),h=ej.buildTag("tr.e-reportviewer-errorBannersetuptr","",{}),c=ej.buildTag("td.e-reportviewer-errorBannersetupheader","",{"padding-top":"0px"},{colspan:"8"}),u=this._buildTag("ol","e-reportviewer-errorlist",null,{id:this._id+"_errorList"});for(this._setTagStyle(u,{margin:"5px 0 0 0","padding-left":"15px"}),l.append(n),n.append(h),h.append(c),r.append(l),"msie"==this._browserInfo.name&&8==this._browserInfo.version?(a=d.right,o=d.bottom):(a=d.width,o=d.height),r.ejDialog((p={width:600,position:{X:d.left+a/3-100,Y:(d.top+o/2)/2},enableModal:!1,title:Object.values(e.errorMessages)[0].Code,enableResize:!1,enablePersistance:!1},_defineProperty(p,"enableModal",!0),_defineProperty(p,"cssClass","e-js e-rptviewer-dialog"),_defineProperty(p,"close",$.proxy(this._exportSetupClose,this)),p)),t=0;t<Object.keys(e.errorMessages).length;t++){var p;Object.values(e.errorMessages)[t].Code!==undefined&&Object.values(e.errorMessages)[t].Message!==undefined&&(i=this._buildTag("li",null,null,null),(s=this._buildTag("p",null,null,null)).append(Object.values(e.errorMessages)[t].Message),i.append(Object.keys(e.errorMessages)[t]),i.append(s),u.append(i))}c.append(u)},_renderGeneralErrorBannerDialog:function(e){var t,i,s=null,a=null,o=ej.buildTag("div","",{display:"table",width:"100%",overflow:"auto"},{id:this._id+"_errorBannerSetup"}),r=ej.buildTag("div","",{display:"block",width:"550px"},{id:this._id+"_exportFormat"}),l=$("#"+this._id+".e-reportviewer")[0].getBoundingClientRect();o.append(r),"msie"==this._browserInfo.name&&8==this._browserInfo.version?(s=l.right,a=l.bottom):(s=l.width,a=l.height),o.ejDialog((t={width:600,position:{X:l.left+s/3-100,Y:(l.top+a/2)/2},enableModal:!1,title:"ERROR DETAILS",enableResize:!1,enablePersistance:!1},_defineProperty(t,"enableModal",!0),_defineProperty(t,"cssClass","e-js e-rptviewer-dialog"),_defineProperty(t,"close",$.proxy(this._exportSetupClose,this)),t)),Object.keys(e.errorMessages).length>0&&Object.values(e.errorMessages)[0]!==undefined&&Object.values(e.errorMessages)[0].Detail!==undefined&&(i=this._buildTag("p",null,null,null),this._setTagStyle(i,{margin:"5px 0 0 5px","padding-left":"10px",height:"300px",color:"black","font-size":"14px "}),i.append(Object.values(e.errorMessages)[0].Detail)),r.append(i)},_renderErrorItemControl:function(e,t,i,s,a){var o,r,l,n,d=this._controlKeyGenerator(this._id+"_"+e.Name,null,i,s),h=this._buildTag("div","e-reportviewer-errormodeltooltip",d.ToolTip,{id:d}),c="#Error",u="Click here for more details.",p={},m={},g={},_=this._buildTag("table","e-reportviewer-alert-table",null,null),f=this._buildTag("tr",null,null,null),b=this._buildTag("td",null,null,{id:this._id+"_tablerow_cell"});return b.style.maxWidth="430px",o=this._buildTag("div","e-reportviewer-errorIcon",null,null),p["-webkit-box-sizing"]=p["-moz-box-sizing"]=p["box-sizing"]="content-box",p.position="absolute",p["word-wrap"]="break-word",p["white-space"]="pre-wrap",p["background-color"]="#FBE7E9",p.cursor="pointer",m["vertical-align"]="middle",m["text-align"]="center",g.width="24px",g.height="24px",g.display="inline-block",g["margin-left"]="auto",g["margin-right"]="auto",g["margin-bottom"]="-5px",a?p.border="1px solid #c8c8c8":(p.top=e.Top+"px",p.left=e.Left+"px"),this._isDataRegionModel(e.ItemType)||a?(m.width=e.Width+"px",m.height=e.Height+"px"):(m.width="80px",m.height="30px"),this._isDataRegionModel(e.ItemType)?c="An error occurred while rendering '"+e.ItemType.toString().replace("Model","")+"' report item.":u="An error occurred while rendering '"+e.ItemType.toString().replace("Model","")+"' report item.",this._appendChild(_,f),this._appendChild(f,b),this._setTagStyle(o,g),this._setTagStyle(_,m),this._setTagStyle(h,p),(r=this._buildTag("span",null,null,{id:this._id+"_errorText"})).textContent=c,l={"font-family":"Segoe UI, Helvetica Neue, Ubuntu, Arial !important","font-size":"14px","font-weight":"500"},this._setTagStyle(r,l),(n=this._buildTag("span","e-reportviewer-tooltiptext",null,{id:this._id+"_toolTipText"})).textContent=u,$("#"+this._id+"_toolTipText").css("bottom","100%"),ej.isNullOrUndefined(e.ErrorInformation)||h.addEventListener("click",$.proxy(this._renderErrorDialog,this,e.ErrorInformation)),this._appendChild(b,o),this._appendChild(b,r),this._appendChild(h,_),this._appendChild(h,n),h},_isDataRegionModel:function(e){return!("LineModel"==e||"ImageModel"==e||"TextBoxModel"==e||"RectangleModel"==e)},_renderPageControls:function(e,t,i,s,a){var o,r,l,n,d=document.createElement("div");for(this._appendChild(i,d),o=0;o<t.length;o++)r=t[o],!ej.isNullOrUndefined(r.ErrorInformation)&&r.ErrorInformation.Message?(l=this._renderErrorItemControl(r,!1,s,a,!1),this._appendChild(d,l)):"TextBoxModel"==r.ItemType?this._renderTextBoxControl(r,!1,null,s,a,d):"LineModel"==r.ItemType?(n=this._renderLineControl(r,null,s,a),this._appendChild(d,n)):"ImageModel"==r.ItemType?this._renderImageControl(r,!1,d,null,s,a):"CustomReportItemModel"==r.ItemType?this._renderCustomReportItemControl(r,!1,d,null,s,a):"TablixModel"==r.ItemType?this._renderTablixControl(r,!1,{},d,null,s,a,e):"GaugeModel"==r.ItemType?this._renderGaugeControl(r,!1,!1,{},d,null,s,a):"RectangleModel"==r.ItemType?this._renderRectangleControl(r,!1,d,null,s,a,e):"ChartModel"==r.ItemType?this._renderChartControl(r,!1,!1,{},d,null,s,a):"MapModel"==r.ItemType?this._renderMapControl(r,!1,d,null,s,a):"SubReportModel"==r.ItemType&&this._renderSubReportControl(r,!1,d,null,s,a,e)},_controlKeyGenerator:function(e,t,i,s){var a=ej.isNullOrUndefined(t)?"":"_"+t;return i&&(a=0==a.length?"_"+s:a+"_"+s),e+a},_addEmbeddedImage:function(e,t,i,s,a){var o=this._reportImages[a]?this._reportImages[a]:a,r=this._buildTag("img",null,null,{alt:"",id:s,src:"data:image/jpeg;base64,"+o});r.width=t,r.height=i,this._appendChild(e,r)},_getImageDataURL:function(e,t,i,s){return e?"url(data:image/png;base64,"+(this._reportImages[s]?this._reportImages[s]:s)+")":"url("+this._getMultiTenantUrl(this.model.reportServiceUrl+"/"+i+"/?key="+s+"&resourcetype=sfimg&isPrint="+t,!1)+")"},_applyBorderStyle:function(e,t){this._applyCellBorderStyle("",e.Default,t),this._applyCellBorderStyle("-left",e.LeftBorder,t),this._applyCellBorderStyle("-right",e.RightBorder,t),this._applyCellBorderStyle("-top",e.TopBorder,t),this._applyCellBorderStyle("-bottom",e.BottomBorder,t)},_applyTextStyle:function(e,t,i,s,a,o,r,l){var n,d,h,c=0,u=0,p=0,m=0,g={topBorder:0,rightBorder:0,bottomBorder:0,leftBorder:0};if(e.Padding&&(e.Padding.Top&&(t.style.paddingTop=e.Padding.Top+"px",c=e.Padding.Top),e.Padding.Right&&(t.style.paddingRight=e.Padding.Right+"px",u=e.Padding.Right),e.Padding.Bottom&&(t.style.paddingBottom=e.Padding.Bottom+"px",p=e.Padding.Bottom),e.Padding.Left&&(t.style.paddingLeft=e.Padding.Left+"px",m=e.Padding.Left)),e.TextBoxBackgroundColor&&(t.style.backgroundColor=e.TextBoxBackgroundColor),o&&l&&(l.isDefaultBorder||l.isLeftBorder||l.isRightBorder||l.isTopBorder||l.isBottomBorder)?this._applyCellBorders(t,e.Border,g,r,l):this._applyTextBoxBorders(t,e.Border,g),"td"==t.tagName.toLowerCase()){var _=parseFloat(m,10)+parseFloat(u,10),f=(parseFloat(c,10),parseFloat(p,10),parseFloat(g.leftBorder,10)+parseFloat(g.rightBorder,10)),b=(parseFloat(g.topBorder,10),parseFloat(g.bottomBorder,10),parseFloat(e.Width,10)-(_+f));if(b<=0&&(i.style.display="none"),t.style.width=b+"px",t.style.height=e.Height+"px",!e.ToggleInfo){for(n=$(i).children(),d=0;d<n.length;d++)(h=$(n[d])).hasClass("e-reportviewer-usersort")||h.width(b);i.style.maxHeight="mozilla"==this._browserInfo.name?"-moz-fit-content":e.Height+"px"}}},_applyTextBoxBorders:function(e,t,i){t&&(t.Default&&(this._applyCellBorderStyle("",t.Default,e),i.topBorder=i.rightBorder=i.bottomBorder=i.leftBorder=t.Default.Thickness),t.LeftBorder&&(this._applyCellBorderStyle("-left",t.LeftBorder,e),i.leftBorder=t.LeftBorder.Thickness),t.RightBorder&&(this._applyCellBorderStyle("-right",t.RightBorder,e),i.rightBorder=t.RightBorder.Thickness),t.TopBorder&&(this._applyCellBorderStyle("-top",t.TopBorder,e),i.topBorder=t.TopBorder.Thickness),t.BottomBorder&&(this._applyCellBorderStyle("-bottom",t.BottomBorder,e),i.bottomBorder=t.BottomBorder.Thickness))},_updateTablixBorderState:function(e){return{isDefaultBorder:this._isBorderAvailable(e.Default),isLeftBorder:this._isBorderAvailable(e.LeftBorder),isRightBorder:this._isBorderAvailable(e.RightBorder),isTopBorder:this._isBorderAvailable(e.TopBorder),isBottomBorder:this._isBorderAvailable(e.BottomBorder)}},_isBorderAvailable:function(e){return!ej.isNullOrUndefined(e)&&!ej.isNullOrUndefined(e.BorderStyle)&&"Default"!=e.BorderStyle&&"None"!=e.BorderStyle&&!ej.isNullOrUndefined(e.Thickness)&&0!=e.Thickness&&!ej.isNullOrUndefined(e.BorderBrush)&&"Transparent"!=e.BorderBrush&&"No Color"!=e.BorderBrush},_applyCellBorders:function(e,t,i,s,a){if(!ej.isNullOrUndefined(t)){var o=this._getCellBorder(t.TopBorder,t),r=this._getCellBorder(t.BottomBorder,t),l=this._getCellBorder(t.LeftBorder,t),n=this._getCellBorder(t.RightBorder,t);ej.isNullOrUndefined(i)||(ej.isNullOrUndefined(o)||(i.topBorder=o.borderWidth),ej.isNullOrUndefined(r)||(i.bottomBorder=r.borderWidth),ej.isNullOrUndefined(l)||(i.leftBorder=l.borderWidth),ej.isNullOrUndefined(n)||(i.rightBorder=n.borderWidth)),ej.isNullOrUndefined(o)||!(s.rowIndex>0)&&(a.isDefaultBorder||a.isTopBorder)||this._applyCellBorderStyle("-top",o.cellBorder,e),ej.isNullOrUndefined(r)||!(s.rowIndex<s.rowLength-1)&&(a.isDefaultBorder||a.isBottomBorder)||this._applyCellBorderStyle("-bottom",r.cellBorder,e),ej.isNullOrUndefined(l)||!(s.colIndex>0)&&(a.isDefaultBorder||a.isLeftBorder)||this._applyCellBorderStyle("-left",l.cellBorder,e),ej.isNullOrUndefined(n)||!(s.colIndex<s.colLength-1)&&(a.isDefaultBorder||a.isRightBorder)||this._applyCellBorderStyle("-right",n.cellBorder,e)}},_applyCellBorderStyle:function(e,t,i){if(t){var s={};s["border"+e+"-width"]=t.Thickness+"px",s["border"+e+"-color"]=null!=t.BorderBrush?t.BorderBrush:"None",s["border"+e+"-style"]=t.BorderStyle,this._setTagStyle(i,s)}},_getCellBorder:function(e,t){return ej.isNullOrUndefined(e)?ej.isNullOrUndefined(t)||ej.isNullOrUndefined(t.Default)?void 0:{cellBorder:t.Default,borderWidth:t.Default.Thickness}:{cellBorder:e,borderWidth:e.Thickness}},_setAttributes:function(e,t,i){var s,a;if(null!=t&&t!=undefined)for(s=Object.keys(t),a=0;a<s.length;a++)e[s[a]]=t[s[a]];if(null!=i&&i!=undefined)for(s=Object.keys(i),a=0;a<s.length;a++)e.setAttribute(s[a],i[s[a]])},_buildTag:function(e,t,i,s,a){var o=document.createElement(e);return null!=t&&t!=undefined&&(o.className=t),null!=i&&i!=undefined&&(o.title=i),this._setAttributes(o,s,a),o},_appendChild:function(e,t){null!=e.append&&e.append!=undefined?e.append(t):e.appendChild(t)},_setTagStyle:function(e,t){var i,s;if(t)for(i=Object.keys(t),s=0;s<i.length;s++)e.style[i[s]]=t[i[s]]},_renderTablixControl:function(e,t,i,s,a,o,r,l){var n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j=this,D=e.Height,A=e.Width,O=j._controlKeyGenerator(j._id+"_"+(null!=e.ItemName?e.ItemName:e.Name),a,o,r),I=this._buildTag("div","e-reportviewer-tab-focus-none",e.ToolTip,{id:O},{role:"table",tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Tablix")+e.Name}),R={},M={};if(this._appendChild(s,I),R.top=e.Top+"px",R.left=e.Left+"px",R["-webkit-box-sizing"]="border-box",R["-moz-box-sizing"]="border-box",R["box-sizing"]="border-box",R.visibility=e.Hidden?"hidden":"visible",t?(D=i.height,A-=parseFloat(I.style.borderLeftWidth,10)+parseFloat(I.style.borderRightWidth,10),D-=parseFloat(I.style.borderTopWidth,10)+parseFloat(I.style.borderBottomWidth,10),R.position="relative"):R.position="absolute",R.width=A+"px",R.height=D+"px",n=this._buildTag("table",null,null,null),d={"border-collapse":"collapse","font-size":"8pt"},this._appendChild(I,n),e.BackgroundColor&&(d["background-color"]=e.BackgroundColor),e.Padding&&(e.Padding.Left&&(d["padding-left"]=e.Padding.Left),e.Padding.Right&&(d["padding-right"]=e.Padding.Right),e.Padding.Top&&(d["padding-top"]=e.Padding.Top),e.Padding.Bottom&&(d["padding-bottom"]=e.Padding.Bottom)),e.TextAlign&&(d["text-align"]=e.TextAlign),e.VerticalAlign&&(d["vertical-align"]=e.VerticalAlign),h=o?"PrintImage":"GetResource",e.BackgroundImageSrc&&(d["background-image"]=this._getImageDataURL(e.EmbedImageData,o,h,e.BackgroundImageSrc)),e.Border&&(this._applyBorderStyle(e.Border,n),M=this._updateTablixBorderState(e.Border)),this._setTagStyle(n,d),this._setTagStyle(I,R),e.CellModels&&e.CellModels.length>0){for(c=this._buildTag("tbody",null,null,null),u=this._buildTag("tr",null,null,null),this._setTagStyle(u,{padding:"0px",margin:"0px",height:"0px",visibility:"collapse"}),(e.Border&&(e.Border.TopBorder&&"None"!=e.Border.TopBorder.BorderStyle||e.Border.Default&&"None"!=e.Border.Default.BorderStyle)||e.CellModels[0][0].Border&&(e.CellModels[0][0].Border.TopBorder&&"None"!=e.CellModels[0][0].Border.TopBorder.BorderStyle||e.CellModels[0][0].Border.Default&&"None"!=e.CellModels[0][0].Border.Default.BorderStyle))&&(u.style.visibility="visible"),this._appendChild(c,u),this._appendChild(n,c),m=null,g=null,p=0;p<e.CellModels[0].length;p++)_=this._buildTag("td",null,null,{rowSpan:"1",colSpan:"1"}),this._appendChild(u,_),this._setTagStyle(_,{padding:"0px",margin:"0px",width:e.ColWidths[p]+"px"});for(f=0;f<e.CellModels.length;f++){for(b=this._buildTag("tr",null,null,null),v={padding:"0px",margin:"0px","text-align":"left",height:e.RowHeights[f]+"px","vertical-align":"top"},this._appendChild(c,b),this._setTagStyle(b,v),x=e.CellModels[f],p=0;p<x.length;p++)if(y=this._buildTag("td",null,null,{rowSpan:"1",colSpan:"1"}),w={padding:"0px",margin:"0px","text-align":"left","-webkit-box-sizing":"content-box","-moz-box-sizing":"content-box","box-sizing":"content-box"},this._appendChild(b,y),this._setTagStyle(y,w),S=x[p].ItemModel){var E=x[p].Border,V=x[p].RowSpan,N=x[p].ColSpan,B={rowIndex:f,rowLength:e.CellModels.length,colIndex:p,colLength:x.length},F=e.RowHeights[f];V>1&&(y.rowSpan=V,F<S.Height&&(F=S.Height)),N>1&&(y.colSpan=N),S.Hidden||(y.style.height="100%",!E||"TextBoxModel"==S.ItemType||j._applyCellBorders(y,E,null,B,M),!ej.isNullOrUndefined(S.ErrorInformation)&&S.ErrorInformation.Message?((C=j._renderErrorItemControl(S,!0,o,r,!0)).style.position="relative",this._appendChild(y,C)):"TextBoxModel"==S.ItemType?((T=j._renderTextBoxControl(S,!0,O+"tablixRow"+f+"xCol"+p,o,r,y)).style.maxHeight="mozilla"==this._browserInfo.name?"-moz-fit-content":"99.9%",y.style.height=F+"px",j._applyTextStyle(S,y,T,e.ColWidths[p],F,!0,B,M)):"LineModel"==S.ItemType?((L=j._renderLineControl(S,O+"tablixRow"+f+"xCol"+p,o,r)).style.position="relative",this._appendChild(y,L)):"ImageModel"==S.ItemType?j._renderImageControl(S,!0,y,O+"tablixRow"+f+"xCol"+p,o,r):"CustomReportItemModel"==S.ItemType?j._renderCustomReportItemControl(S,!0,y,O+"tablixRow"+f+"xCol"+p,o,r):"TablixModel"==S.ItemType?j._renderTablixControl(S,!0,{height:F},y,O+"tablixRow"+f+"xCol"+p,o,r,l):"GaugeModel"==S.ItemType?j._renderGaugeControl(S,!1,!0,{height:F},y,O+"tablixRow"+f+"xCol"+p,o,r):"RectangleModel"==S.ItemType?j._renderRectangleControl(S,!0,y,O+"tablixRow"+f+"xCol"+p,o,r,l):"ChartModel"==S.ItemType?this._renderChartControl(S,!1,!0,{height:F},y,O+"tablixRow"+f+"xCol"+p,o,r):"MapModel"==S.ItemType?this._renderMapControl(S,!1,y,O+"tablixRow"+f+"xCol"+p,o,r):"SubReportModel"==S.ItemType&&j._renderRectangleControl(S,!0,y,O+"tablixRow"+f+"xCol"+p,o,r,l))}else y.style.display="none";x[0].FixedData&&(null==m&&null==g&&(k=this._buildTag("div","",null,{id:O+"_headertable"}),this._setTagStyle(k,{visibility:"hidden"}),I.className="fixed-data",this._appendChild(s,k),this._setTagStyle(k,{top:e.Top+"px",left:e.Left+"px",position:"absolute"}),P=this._buildTag("table",null,null,null),this._appendChild(k,P),this._setTagStyle(P,{"border-collapse":"collapse","font-size":"8pt"})),m=u.cloneNode(!0),g=b.cloneNode(!0),this._appendChild(P,m),this._appendChild(P,g))}}var z=n.getBoundingClientRect(),Y="msie"==this._browserInfo.name&&8==this._browserInfo.version?z.bottom-z.top:z.height,X=Math.max(n.offsetHeight,Y/this._preZoomVal);X>l.Height&&X>e.Height+e.Top&&(!this._isprint||1==this._preZoomVal)&&(l.Height=X+e.Top)},_renderTextBoxControl:function(e,t,i,s,a,o){var r,l,n,d,h,c,u,p,m=this._controlKeyGenerator(this._id+"_"+(null!=e.ItemName?e.ItemName:e.Name),i,s,a),g=this._buildTag("div","e-reportviewer-txtitem e-reportviewer-tab-focus-none",e.ToolTip,{id:m},{role:"textbox",tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Textbox")+e.Name});o!=undefined&&this._appendChild(o,g);var _=this._getCustomPropertyValue(e.CustomProperties,"contenteditable"),f=!ej.isNullOrUndefined(_)&&"true"==_.toLowerCase(),b={};if(b.visibility=e.Hidden?"hidden":"visible",b["-webkit-box-sizing"]="content-box",b["-moz-box-sizing"]="content-box",b["box-sizing"]="content-box",t?t&&(b["word-wrap"]="break-word",b["white-space"]="pre-wrap"):(b.position="absolute",b.top=e.Top+"px",b.left=e.Left+"px",b.width=e.Width+"px",b.height=e.Height+"px",this._applyTextStyle(e,g,null,null,null,!1,null,null)),e.CanGrow||(b.overflow="hidden"),r=s?"PrintImage":"GetResource",e.BackgroundSrc&&(b["background-image"]=this._getImageDataURL(e.EmbedImageData,s,r,e.BackgroundSrc)),e.ToggleInfo&&!this._printMode){var v=e.IsToggle?"ej-reportviewericonscollapse":"ej-reportviewericonsexpand",x=this._buildTag("div","e-reportviewer-toggleicon "+v+" txtToggle_"+this._id,null,null),y={display:"block",width:"14px",height:"14px"};e.Height>14&&(y["margin-top"]="2px"),"msie"==this._browserInfo.name?(y["margin-right"]="1px",y.float="left"):("opera"==this._browserInfo.name||"webkit"==this._browserInfo.name||"chrome"==this._browserInfo.name||"mozilla"==this._browserInfo.name||"edge"==this._browserInfo.name)&&(y.display="table",y["margin-right"]="2px",y.float="left"),x.setAttribute("drillObj",e.ToggleInfo),this._appendChild(g,x),this._setTagStyle(x,y),b.display="msie"==this._browserInfo.name?"inline-block":"block",b["word-wrap"]="inherit",b["white-space"]="inherit"}if(e.Sorting&&!this._printMode&&(l="UpDown"==e.Sorting.Sorting?"sortingUpDown":"Up"==e.Sorting.Sorting?"sortingUp":"sortingDown",d={display:"block",width:"14px",height:"14px","padding-right":"1px","margin-top":"1px",float:"right","vertical-align":"middle"},(n=this._buildTag("div","e-reportviewer-"+l+" txtSorting_"+this._id+" e-reportviewer-usersort",null,null)).setAttribute("sortingObj",JSON.stringify(e.Sorting)),this._appendChild(g,n),this._setTagStyle(n,d),b.display="msie"==this._browserInfo.name?"inline-block":"block",b["word-wrap"]="inherit",b["white-space"]="inherit"),"default"!=e.WritingMode)switch(e.WritingMode){case"vertical":b["writing-mode"]="msie"==this._browserInfo.name?"tb-rl":"vertical-rl";break;case"rotate270":"msie"==this._browserInfo.name?(b["writing-mode"]="tb-rl",b.transform="rotate(180deg)",b["-webkit-transform"]="rotate(180deg)",b["-moz-transform"]="rotate(180deg)",b["-ms-transform"]="rotate(180deg)",b["-o-transform"]="rotate(180deg)"):(b["writing-mode"]="vertical-rl",b.transform="rotate(180deg)",b["-webkit-transform"]="rotate(180deg)",b["-moz-transform"]="rotate(180deg)",b["-ms-transform"]="rotate(180deg)",b["-o-transform"]="rotate(180deg)")}if(e.ActionInfo&&((h=ej.buildTag("div.e-reportviewer-txtboxactioninfo","",{})).data("actionObj",e.ActionInfo),h.addClass("drillAction_"+this._id+" e-reportviewer-drillhover"),h[0].style.height="100%",h[0].style.Width="100%",this._appendChild(g,h[0])),e.Paragraphval)for(c=0;c<e.Paragraphval.length;c++){var w=this._buildTag("div","e-reportviewer-paragrap",null,null),S={},C=e.Paragraphval[c],T=1==e.Paragraphval.length&&1==C.Runs.length;for(u=0;u<C.Runs.length;u++){var L=C.Runs[u],k=this._buildTag(T?"div":"span",null,null,null),P={};P["white-space"]=e.ToggleInfo&&!s?"inherit":"pre-wrap",L.ActionInfo&&!e.ActionInfo&&(k.setAttribute("actionObj",JSON.stringify(L.ActionInfo)),k.className+=" drillAction_"+this._id+" e-reportviewer-drillhover"),L.Style.Font.FontFamily&&(P["font-family"]="'"+L.Style.Font.FontFamily+"'"),L.Style.Font.FontSize&&(P["font-size"]=L.Style.Font.FontSize+"px"),L.Style.Font.FontStyle&&(P["font-style"]=L.Style.Font.FontStyle),L.Style.Font.FontWeight&&(P["font-weight"]=this._getConvertedFontWeight(L.Style.Font.FontWeight)),P.color=L.Style.TextColor?L.Style.TextColor:"black",L.Style.TextDecoration&&(P["text-decoration"]=L.Style.TextDecoration),L.RunText?(p=document.createTextNode(L.RunText),this._appendChild(k,p)):1===C.Runs.length&&""===L.RunText&&(e.Height>C.Runs[0].Style.Font.FontSize||e.Width>C.Runs[0].Style.Font.FontSize)&&(p=document.createTextNode(" "),this._appendChild(k,p)),this._appendChild(w,k),this._setTagStyle(k,P)}f&&(w.contentEditable="true",w.setAttribute("viewer-usid",this._id),w.setAttribute("viewer-usid-paraid",c),$(w).blur((function(){var t,s,a,o,r=$("#"+$(this).attr("viewer-usid")).data("boldReportViewer"),l=$(this).attr("viewer-usid-paraid");r._oldRunValue!=this.innerText&&(e.IsTablixChild?(s=(s=i.substring(i.lastIndexOf("Row"),i.lastIndexOf("x"))).slice(3,s.length),a=(a=i.substring(i.lastIndexOf("Col"),i.length)).slice(3,a.length),o=i.substring(i.lastIndexOf("_")+1,i.indexOf("tablix")),t={reportAction:r._reportAction.updateTextValue,ItemName:e.Name,ReportPath:r.model.reportPath,NewTextValue:this.innerText,ParaIndex:l,isTablixChild:e.IsTablixChild,RowNo:s,ColNo:a,TablixName:o}):t={reportAction:r._reportAction.updateTextValue,ItemName:e.Name,ReportPath:r.model.reportPath,NewTextValue:this.innerText,ParaIndex:l,isTablixChild:e.IsTablixChild},r.doAjaxPost("POST",r._actionUrl,JSON.stringify(t),"actionSuccessMethod"))})),$(w).focus((function(){$("#"+$(this).attr("viewer-usid")).data("boldReportViewer")._oldRunValue=this.innerText}))),t||(S["word-wrap"]="break-word"),C.TextAlignment&&(S["text-align"]=C.TextAlignment),"Default"!=e.Direction&&"Default"==S["text-align"]&&(S["text-align"]="LTR"!=e.Direction?"Right":"Left"),"vertical"==e.WritingMode||"rotate270"==e.WritingMode?(C.LeftIndent&&(S["padding-top"]=C.LeftIndent+"px"),C.RightIndent&&(S["padding-bottom"]=C.RightIndent+"px"),C.SpaceBefore&&(S["padding-right"]=C.SpaceBefore+"px"),C.SpaceAfter&&(S["padding-left"]=C.SpaceAfter+"px")):(C.LeftIndent&&(S["padding-left"]=C.LeftIndent+"px"),C.RightIndent&&("Right"==C.TextAlignment?(S["padding-right"]=C.RightIndent+"px",S.float="right"):S["padding-right"]=C.RightIndent+"px"),C.SpaceBefore&&(S["padding-top"]=C.SpaceBefore+"px"),C.SpaceAfter&&(S["padding-bottom"]=C.SpaceAfter+"px")),C.ListStyle&&(S["list-style-type"]=C.ListStyle),C.HangingIndent&&(S["text-indent"]=C.HangingIndent),t&&(S["min-width"]="99.9%"),C.ListLevel&&0!=C.ListLevel&&"RTL"!=e.Direction?S["margin-left"]="30"*C.ListLevel+"px":0!=C.ListLevel&&"RTL"==e.Direction&&(S["margin-Right"]="30"*C.ListLevel+"px",S.direction="rtl"),"Numbered"==C.ListStyle&&C.ListLevel>=1?1==C.ListLevel||4==C.ListLevel||7==C.ListLevel?(S.display="list-item",S["list-style-type"]="decimal"):2==C.ListLevel||5==C.ListLevel||8==C.ListLevel?(S.display="list-item",S["list-style-type"]="lower-roman"):(3==C.ListLevel||6==C.ListLevel||9==C.ListLevel)&&(S.display="list-item",S["list-style-type"]="lower-alpha"):"Bulleted"==C.ListStyle&&C.ListLevel>=1&&(S.display="list-item",S["list-style-type"]=C.ListStyle),this._setTagStyle(w,S),e.ActionInfo?this._appendChild(h,w):this._appendChild(g,w)}return this._setTagStyle(g,b),g},actionSuccessMethod:function(){},_getChartDate:function(e){return new Date(e.Year,e.Month,e.Day,e.Hour,e.Minute,e.Second,0).toLocaleString()},_getConvertedFontWeight:function(e){var t="normal";switch(e){case"Thin":t="200";break;case"ExtraLight":t="300";break;case"Light":t="400";break;case"Medium":t="500";break;case"SemiBold":t="600";break;case"Bold":t="bold";break;case"ExtraBold":t="800";break;case"Heavy":t="900"}return t},_renderChartControl:function(e,t,i,s,a,o,r,l,n,d){var h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L="chartCtrl";if(e.ChartAreas){h=i&&s.height?s.height:e.Height,c=e.Width,this._legendPointNames=[],u=r?"PrintImage":"GetResource","undefined"==d&&(d=!1),"undefined"==n&&(n=!1),t&&(this._id=o,e.Top=0,e.Left=0);var k=this._controlKeyGenerator(this._id+"_"+(null!=e.ItemName?e.ItemName:e.Name),o,r,l),P=h/e.ChartAreas.length,j=this._buildTag("div","e-reportviewer-tab-focus-none",e.ToolTip,{id:k},{tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Chart")+e.Name}),D={position:i&&s.height?"relative":"absolute",top:e.Top+"px",left:e.Left+"px",width:c+"px",height:h+"px","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box",visibility:e.Hidden?"hidden":"visible"};for(this._appendChild(a,j),e.BackgroundImge&&(D["background-image"]=this._getImageDataURL(e.EmbedImageData,r,u,e.BackgroundImge),D["background-size"]="100% 100%"),e.ChartStyle&&(e.ChartStyle.Border&&!i&&this._applyBorderStyle(e.ChartStyle.Border,j),e.ChartStyle.FillStyle&&(D["background-color"]=e.ChartStyle.FillStyle.BackgroundColor,this._applyBackgroundGradientStyle(e.ChartStyle.FillStyle,j))),this._setTagStyle(j,D),i&&(L=o,s.height&&(h=s.height,c-=parseFloat(D["border-left-width"],10)+parseFloat(D["border-right-width"],10),h-=parseFloat(D["border-top-width"],10)+parseFloat(D["border-bottom-width"],10))),p=0;p<e.ChartAreas.length;p++){var A=e.ChartAreas[p],O={value:0},I={series:[],axes:[],commonSeriesOptions:{marker:{},enableSmartLabels:!1,enableAnimation:!(r||t||n||!this.model.enableAnimation)},chartArea:{border:{width:0}},isResponsive:!0,enableCanvasRendering:d,legendItemRendering:$.proxy(this.legendItemRender,this),locale:e.Language?e.Language:""};if(A.BackgroundImg&&(e.EmbedImageData?(w=this._reportImages[A.BackgroundImg]?this._reportImages[A.BackgroundImg]:A.BackgroundImg,I.backGroundImageUrl="data:image/png;base64,"+w):I.backGroundImageUrl=this._getMultiTenantUrl(this.model.reportServiceUrl+"/"+u+"/?key="+A.BackgroundImg+"&resourcetype=sfimg&isPrint="+r,!1)),e.ChartStyle&&e.ChartStyle.FillStyle&&e.ChartStyle.FillStyle.BackgroundColor&&"White"!=e.ChartStyle.FillStyle.BackgroundColor&&"#00ffffff"!=e.ChartStyle.FillStyle.BackgroundColor&&(I.background=e.ChartStyle.FillStyle.BackgroundColor),A.Style&&(A.Style.FillStyle&&"#00ffffff"!=A.Style.FillStyle.BackgroundColor&&(I.chartArea.background=A.Style.FillStyle.BackgroundColor),A.Style.Border&&A.Style.Border.Default?(A.Style.Border.Default.BorderBrush&&(I.chartArea.border.color=A.Style.Border.Default.BorderBrush),I.chartArea.border.width="Default"==A.Style.Border.Default.BorderStyle||"None"==A.Style.Border.Default.BorderStyle?0:A.Style.Border.Default.Thickness):I.chartArea.border.color="Transparent",I.chartArea.border.opacity=1),e.ChartTiles&&e.ChartTiles.length>0&&(I.title=this._getChartTitle(e.ChartTiles[0])),I.legend=e.ChartLegends&&e.ChartLegends.length>0?this._getChartLegend(e):{visible:!1},I.legend.shape="rectangle",e.CustomProperties&&e.CustomProperties.length>0)for(m=0;m<e.CustomProperties.length;m++)if("legendshape"==e.CustomProperties[m].Name.toLowerCase()){if("thumbnail"==e.CustomProperties[m].Value.toLowerCase()){I.legend.shape="seriestype";break}if("circle"==e.CustomProperties[m].Value.toLowerCase()){I.legend.shape="circle";break}}if(I.colors=[],I.colors[0]="transparent",g=this._buildTag("div",null,e.ToolTip,{id:L+"_"+this._id+"_"+(null!=e.ItemName?e.ItemName:e.Name)+"_"+A.Name+(r?"_"+l:"")}),r||this._dataVisualization.push({name:null!=e.ItemName?e.ItemName:e.Name,id:g.id,type:"ChartModel"}),g.style.height=P+"px",this._appendChild(j,g),e.NoRowModel&&e.ChartNoDataMessage)return null==I.title?I.title=this._getChartTitle(e.ChartNoDataMessage):I.title.subTitle=this._getChartTitle(e.ChartNoDataMessage),I.primaryXAxis={},I.primaryXAxis.visible=!1,I.primaryXAxis.majorGridLines={},I.primaryXAxis.majorGridLines.visible=!1,I.primaryYAxis={},I.primaryYAxis.visible=!1,I.primaryYAxis.majorGridLines={},I.primaryYAxis.majorGridLines.visible=!1,void $("#"+g.id).ejChart(I);for("DataBar"==e.DesignerMode?(I.commonSeriesOptions.columnWidth=2,I.elementSpacing=0,I.margin={left:5,right:5,top:5,bottom:5}):I.margin={left:5,right:5,top:5,bottom:5},_=0;_<A.ChartSeries.length;_++)if(A.ChartSeries[_].Visibility){var R=I.series.length,M=A.ChartSeries[_],E=[],V=[],N=[],B=M.Legend&&M.Legend.LegendText?M.Legend.LegendText:""==M.Label&&"EmptySeriesName"==M.Name?M.Name:M.Label;M.TooltipY=B;var F=!1,z=!1,Y=!1,X=null,W=null,H=null==M.CategoryAxisName?"primary":M.CategoryAxisName.toLowerCase(),U=null==M.ValueAxisName?"primary":M.ValueAxisName.toLowerCase(),G=$.grep(A.ChartAreaXAxis,(function(e){return e.Name.toLowerCase()==H})).map((function(e){return e})),q=$.grep(A.ChartAreaYAxis,(function(e){return e.Name.toLowerCase()==U})).map((function(e){return e}));if(null!=M.CustomProperties){for(f=0;f<M.CustomProperties.length;f++)null!=(b=M.CustomProperties[f]).Value&&(v=b.Name.toLowerCase(),x=b.Value.toLowerCase(),"enabletrendline"==v&&"true"==x&&(F=!0),z||(z=this._getTrendlineType(v,x)),Y||"showtrendlinelegend"==v&&"false"==x&&(Y=!0));F&&z&&N.push(this._getTrendline(M.CustomProperties,N,Y))}switch(M.Style&&M.Style.Border&&M.Style.Border.Default&&(I.commonSeriesOptions.border={},M.Style.Border.Default.BorderBrush&&(I.commonSeriesOptions.border.color=M.Style.Border.Default.BorderBrush),0!=M.Style.Border.Default.Thickness&&(I.commonSeriesOptions.border.width=M.Style.Border.Default.Thickness),"Dashed"==M.Style.Border.Default.BorderStyle?I.commonSeriesOptions.border.dashArray="2,4":"Dotted"==M.Style.Border.Default.BorderStyle&&(I.commonSeriesOptions.border.dashArray="2,2")),A.Chart3D&&A.Chart3D.Enabled&&this._is3DChartType(M.Type)&&this._update3DChartProperties(I,A,e,M.Type),this._isDataLabel=!1,M.Type){case"column":for(S=0;S<M.PointValues.length;S++)null!=M.PointValues[S].Y&&M.PointValues[S].Y!=undefined&&E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,B),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==H?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),W="YAxis"),I.series.push({trendlines:N,points:E,type:"column",columnFacet:"Cylinder"===this._getCustomPropertyValue(M.CustomProperties,"drawingstyle")?"cylinder":"rectangle",name:B,xAxisName:X,yAxisName:W,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"stackingcolumn":for(S=0;S<M.PointValues.length;S++)E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,B),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);I.legendBoundsCalculate=this._legendOrder,I.toolTipInitialize=this._updateStackingColumnTooltip,"primary"==H?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},W="YAxis"),I.series.push({trendlines:N,points:E,type:"stackingcolumn",columnFacet:"Cylinder"===this._getCustomPropertyValue(M.CustomProperties,"drawingstyle")?"cylinder":"rectangle",isStacking:!0,name:B,xAxisName:X,yAxisName:W,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"stackingcolumn100":for(S=0;S<M.PointValues.length;S++)E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,B),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);I.toolTipInitialize=this._updateStackingColumnTooltip,"primary"==H?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},W="YAxis"),I.series.push({trendlines:N,points:E,type:"stackingcolumn100",columnFacet:"Cylinder"===this._getCustomPropertyValue(M.CustomProperties,"drawingstyle")?"cylinder":"rectangle",name:B,xAxisName:X,yAxisName:W,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"bar":for(I.viewerInstance=this,I.loaded=this._barChartLoad,S=0;S<M.PointValues.length;S++)null!=M.PointValues[S].Y&&M.PointValues[S].Y!=undefined&&E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,B),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==H?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},W="YAxis"),I.series.push({trendlines:N,points:E,type:"bar",columnFacet:"Cylinder"===this._getCustomPropertyValue(M.CustomProperties,"drawingstyle")?"cylinder":"rectangle",name:B,xAxisName:X,yAxisName:W,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel))),"DataBar"==e.DesignerMode&&(I.primaryXAxis.majorTickLines.size=0,I.primaryYAxis.majorTickLines.size=0);break;case"stackingbar":for(S=0;S<M.PointValues.length;S++)null!=M.PointValues[S].Y&&M.PointValues[S].Y!=undefined&&E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):e.PaletteColors[O.value<e.PaletteColors.length?O.value:0],text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,B),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==H?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},W="YAxis"),I.series.push({trendlines:N,points:E,type:"stackingbar",columnFacet:"Cylinder"===this._getCustomPropertyValue(M.CustomProperties,"drawingstyle")?"cylinder":"rectangle",name:B,xAxisName:X,yAxisName:W,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"stackingbar100":for(S=0;S<M.PointValues.length;S++)null!=M.PointValues[S].Y&&M.PointValues[S].Y!=undefined&&E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,B),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==H?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},W="YAxis"),I.series.push({trendlines:N,points:E,type:"stackingbar100",columnFacet:"Cylinder"===this._getCustomPropertyValue(M.CustomProperties,"drawingstyle")?"cylinder":"rectangle",name:B,xAxisName:X,yAxisName:W,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"line":for(S=0;S<M.PointValues.length;S++)null!=M.PointValues[S].Y&&M.PointValues[S].Y!=undefined&&E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color&&S<M.PointValues.length-1?this._getSeriesColor(M.PointValues[S+1],O,e.PaletteColors):null,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,B),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==H?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),W="YAxis"),I.series.push({trendlines:N,points:E,type:"line",name:B,xAxisName:X,yAxisName:W,visibility:M.Visibility?"visible":"hidden"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"spline":for(S=0;S<M.PointValues.length;S++)E.push({fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,B),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==H?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},W="YAxis"),I.series.push({trendlines:N,points:E,type:"spline",name:B,xAxisName:X,yAxisName:W,visibility:M.Visibility?"visible":"hidden"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"stepline":for(S=0;S<M.PointValues.length;S++)E.push({fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,B),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==H?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},W="YAxis"),I.series.push({trendlines:N,points:E,type:"stepline",name:B,xAxisName:X,yAxisName:W,visibility:M.Visibility?"visible":"hidden"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"pie":for(S=0;S<M.PointValues.length;S++)null!=M.PointValues[S].Y&&M.PointValues[S].Y!=undefined&&(C=this._getSeriesColor(M.PointValues[S],O,e.PaletteColors),E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].Y,q[0].LabelFormat),fill:C,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,M.PointValues[S].X),M.PointValues[S].Style&&M.PointValues[S].Style.Border&&M.PointValues[S].Style.Border.Default&&this._setBorderProp(M.PointValues[S].Style.Border,E[E.length-1]),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo)),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);I.series.push({trendlines:N,startAngle:90,points:E,type:"pie",name:B,visibility:M.Visibility?"visible":"hide"}),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker={dataLabel:this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)});break;case"explodedpie":for(S=0;S<M.PointValues.length;S++)null!=M.PointValues[S].Y&&M.PointValues[S].Y!=undefined&&(C=this._getSeriesColor(M.PointValues[S],O,e.PaletteColors),E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].Y,q[0].LabelFormat),fill:C,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,M.PointValues[S].X),M.PointValues[S].Style&&M.PointValues[S].Style.Border&&M.PointValues[S].Style.Border.Default&&this._setBorderProp(M.PointValues[S].Style.Border,E[E.length-1]),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo)),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);I.series.push({trendlines:N,startAngle:90,points:E,type:"pie",explodeAll:!0,explodeOffset:8,name:B,visibility:M.Visibility?"visible":"hide"}),I.series[R].explodeIndex=0,M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker={dataLabel:this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)});break;case"doughnut":for(S=0;S<M.PointValues.length;S++)null!=M.PointValues[S].Y&&M.PointValues[S].Y!=undefined&&(C=this._getSeriesColor(M.PointValues[S],O,e.PaletteColors),E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].Y,q[0].LabelFormat),fill:C,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,M.PointValues[S].X),M.PointValues[S].Style&&M.PointValues[S].Style.Border&&M.PointValues[S].Style.Border.Default&&this._setBorderProp(M.PointValues[S].Style.Border,E[E.length-1]),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo)),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);I.series.push({trendlines:N,startAngle:90,points:E,type:"doughnut",name:B,visibility:M.Visibility?"visible":"hide"}),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker={dataLabel:this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)});break;case"pyramid":for(S=0;S<M.PointValues.length;S++)null!=M.PointValues[S].Y&&M.PointValues[S].Y!=undefined&&(C=this._getSeriesColor(M.PointValues[S],O,e.PaletteColors),E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].Y,q[0].LabelFormat),fill:C,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,M.PointValues[S].X),M.PointValues[S].Style&&M.PointValues[S].Style.Border&&M.PointValues[S].Style.Border.Default&&this._setBorderProp(M.PointValues[S].Style.Border,E[E.length-1]),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo)),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);I.series.push({trendlines:N,points:E,type:"pyramid",name:B,visibility:M.Visibility?"visible":"hide"}),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker={dataLabel:this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)});break;case"funnel":for(S=0;S<M.PointValues.length;S++)null!=M.PointValues[S].Y&&M.PointValues[S].Y!=undefined&&(C=this._getSeriesColor(M.PointValues[S],O,e.PaletteColors),E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].Y,q[0].LabelFormat),fill:C,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,M.PointValues[S].X),M.PointValues[S].Style&&M.PointValues[S].Style.Border&&M.PointValues[S].Style.Border.Default&&this._setBorderProp(M.PointValues[S].Style.Border,E[E.length-1]),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo)),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);I.series.push({trendlines:N,points:E,type:"funnel",name:B,visibility:M.Visibility?"visible":"hide"}),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker={dataLabel:this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)});break;case"area":for(S=0;S<M.PointValues.length;S++)E.push({fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,B),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==H?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},W="YAxis"),I.series.push({trendlines:N,points:E,type:"area",name:B,xAxisName:X,yAxisName:W,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"splinearea":for(S=0;S<M.PointValues.length;S++)E.push({fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,B),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==H?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},W="YAxis"),I.series.push({trendlines:N,points:E,type:"splinearea",name:B,xAxisName:X,yAxisName:W,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"stackingarea":for(S=0;S<M.PointValues.length;S++)E.push({fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,B),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==H?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},W="YAxis"),I.series.push({trendlines:N,points:E,type:"stackingarea",name:B,xAxisName:X,yAxisName:W,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"stackingarea100":for(S=0;S<M.PointValues.length;S++)E.push({fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,B),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==H?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},W="YAxis"),I.series.push({trendlines:N,points:E,type:"stackingarea100",name:B,xAxisName:X,yAxisName:W,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"rangearea":for(S=0;S<M.PointValues.length;S++)E.push({fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),low:M.PointValues[S].Low?M.PointValues[S].Low:0,high:this._getAxisLabelFormatedValues(M.PointValues[S].High?M.PointValues[S].High:0,q[0].LabelFormat),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,B),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==H?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},W="YAxis"),I.series.push({trendlines:N,points:E,type:"rangearea",name:B,xAxisName:X,yAxisName:W,visibility:M.Visibility?"visible":"hide"}),ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat||this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"rangebar":case"rangecolumn":for(S=0;S<M.PointValues.length;S++)E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),low:M.PointValues[S].Low?M.PointValues[S].Low:0,high:this._getAxisLabelFormatedValues(M.PointValues[S].High?M.PointValues[S].High:0,q[0].LabelFormat),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,B),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==H?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},W="YAxis"),I.series.push({trendlines:N,points:E,type:"rangecolumn",name:B,xAxisName:X,yAxisName:W,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"boxplot":for(S=0;S<M.PointValues.length;S++)w=[M.PointValues[S].High,M.PointValues[S].Low,M.PointValues[S].Start,M.PointValues[S].End,M.PointValues[S].Mean,M.PointValues[S].Median],E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(w),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,B),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);I.loaded=$.proxy(this._boxplotLoaded,this,g[0].id),"primary"==H?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},W="YAxis"),I.series.push({trendlines:N,points:E,type:"boxandwhisker",boxPlotMode:"exclusive",name:B,xAxisName:X,yAxisName:W,visibility:M.Visibility?"visible":"hide"}),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"rangestock":for(S=0;S<M.PointValues.length;S++)E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),low:M.PointValues[S].Low?M.PointValues[S].Low:0,high:this._getAxisLabelFormatedValues(M.PointValues[S].High?M.PointValues[S].High:0,q[0].LabelFormat),open:M.PointValues[S].Start?M.PointValues[S].Start:0,close:M.PointValues[S].End?M.PointValues[S].End:0,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,B),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==H?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},W="YAxis"),I.series.push({trendlines:N,points:E,type:"hiloopenclose",name:B,xAxisName:X,yAxisName:W,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"candlestick":for(S=0;S<M.PointValues.length;S++)E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),low:M.PointValues[S].Low?M.PointValues[S].Low:0,high:this._getAxisLabelFormatedValues(M.PointValues[S].High?M.PointValues[S].High:0,q[0].LabelFormat),open:M.PointValues[S].Start?M.PointValues[S].Start:0,close:M.PointValues[S].End?M.PointValues[S].End:0,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,B),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==H?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},W="YAxis"),I.series.push({trendlines:N,points:E,type:"candle",name:B,xAxisName:X,yAxisName:W,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"errorbar":for(S=0;S<M.PointValues.length;S++)E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,B),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==H?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},W="YAxis"),I.series.push({trendlines:N,points:E,type:"scatter",errorBar:{visibility:"visible",type:"percentage"},name:B,xAxisName:X,yAxisName:W,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"scatter":for(S=0;S<M.PointValues.length;S++)E.push({fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,B),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==H?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),W="YAxis"),I.series.push({trendlines:N,points:E,type:"scatter",name:B,xAxisName:X,yAxisName:W,visibility:M.Visibility?"visible":"hidden"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"bubble":for(S=0;S<M.PointValues.length;S++)E.push({fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),size:.5,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,B),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);I.series.push({trendlines:N,points:E,type:"bubble",name:B,visibility:M.Visibility?"visible":"hide"}),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"polar":for(S=0;S<M.PointValues.length;S++)E.push({fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,B),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties,e.EmbedImageData):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},W="YAxis"),I.series.push({trendlines:N,points:E,type:"polar",name:B,yAxisName:W,visibility:M.Visibility?"visible":"hide"}),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"radar":for(S=0;S<M.PointValues.length;S++)E.push({fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,B),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==U?(I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties,e.EmbedImageData),I.primaryXAxis={range:{interval:1}}):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},W="YAxis"),I.series.push({trendlines:N,points:E,type:"radar",drawType:"area",name:B,yAxisName:W,visibility:M.Visibility?"visible":"hide"}),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"explodeddoughnut":for(S=0;S<M.PointValues.length;S++)null!=M.PointValues[S].Y&&M.PointValues[S].Y!=undefined&&(C=this._getSeriesColor(M.PointValues[S],O,e.PaletteColors),M.PointValues[S].Y&&E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].Y,q[0].LabelFormat),fill:C,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,M.PointValues[S].X),M.PointValues[S].Style&&M.PointValues[S].Style.Border&&M.PointValues[S].Style.Border.Default&&this._setBorderProp(M.PointValues[S].Style.Border,E[S]),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo)),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);I.series.push({trendlines:N,startAngle:90,points:E,type:"doughnut",explodeAll:!0,name:B,visibility:M.Visibility?"visible":"hide"}),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker={dataLabel:this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)})}I.series.length>0&&(M.PointValues.length>0&&(I.series[R].fill=this._getSeriesColor(M.PointValues[0],O,e.PaletteColors),M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&(I.series[R].width=M.PointValues[0].Style.Border.Default.Thickness)),V.length>0&&(I.pointRegionClick=this._drillThroughClick,I.ejreportid=this._id,g.setAttribute(g.id+"actionObj_Series"+_,JSON.stringify(V)),I.pointRegionMouseMove=this._chartSeriesMouseHover),this._updateSmartLabel(I,R,M,M.Type))}$("#"+g.id).ejChart(I)}}else if(e.NoRowModel&&e.ChartNoDataMessage){I={series:[],chartArea:{border:{width:0}},isResponsive:!0,enableCanvasRendering:d},k=this._controlKeyGenerator(this._id+"_"+(null!=e.ItemName?e.ItemName:e.Name),o,r,l);var Z=this._buildTag("div",null,e.ToolTip,{id:k});return this._appendChild(a,Z),this._setTagStyle(Z,{position:i&&s.height?"relative":"absolute",top:e.Top+"px",left:e.Left+"px",width:e.Width+"px",height:e.Height+"px","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"}),e.ChartStyle&&e.ChartStyle.Border&&this._applyBorderStyle(e.ChartStyle.Border,Z),T=this._buildTag("div",null,e.ToolTip,{id:L+"_"+this._id+"_"+(null!=e.ItemName?e.ItemName:e.Name)+"_"+e.ChartNoDataMessage.Name+(r?"_"+l:"")}),r||this._dataVisualization.push({name:null!=e.ItemName?e.ItemName:e.Name,id:T.id,type:"ChartModel"}),T.style.height=e.Height+"px",this._appendChild(Z,T),e.ChartTiles&&e.ChartTiles.length>0&&e.ChartTiles[0].Visible&&(I.title=this._getChartTitle(e.ChartTiles[0])),null==I.title||null!=I.title&&""==I.title.text?I.title=this._getChartTitle(e.ChartNoDataMessage):I.title.subTitle=this._getChartTitle(e.ChartNoDataMessage),I.primaryXAxis={},I.primaryXAxis.visible=!1,I.primaryXAxis.majorGridLines={},I.primaryXAxis.majorGridLines.visible=!1,I.primaryYAxis={},I.primaryYAxis.visible=!1,I.primaryYAxis.majorGridLines={},I.primaryYAxis.majorGridLines.visible=!1,void $("#"+T.id).ejChart(I)}},_setIsDataLabel:function(e){!this._isDataLabel&&e&&(this._isDataLabel=!0)},_getAxisLabelFormatedValues:function(e,t){return ej.isNullOrUndefined(e)||"#,0,,;(#,0,,)"!=t?e:e/1e6},_update3DChartProperties:function(e,t,i,s){e.enable3D=t.Chart3D.Enabled,e.enableRotation=t.Chart3D.Enabled,e.depth=t.Chart3D.DepthRatio,e.crosshair={visible:!0},e.rotation=t.Chart3D.Rotation,e.loaded=$.proxy(this._chartLoaded,this),e.chartMouseMove=$.proxy(this._chartMouseMove,this);var a=this._getCustomPropertyValue(i.CustomProperties,"tilt"),o=this._getCustomPropertyValue(i.CustomProperties,"columnwidth");null!=a&&(e.tilt=a),null!=o&&(e.commonSeriesOptions.columnWidth=o),this._isShapeChartType(s)||(e.perspectiveAngle=t.Chart3D.Perspective,e.wallSize=t.Chart3D.WallThickness)},chartLoadEvent:function(e,t,i,s){s&&this._updateStackingColumn(e),e.load=function(e){var a,o,r,l,n,d,h,c,u,p,m,g,_;if(null!==t||null!==i)for(a=e.model.series.length,o=0;o<a;o++)for(r=e.model.series[o].points.length,l=0;l<r;l++)e.model.series[o].points[l].x=ej.parseDate(e.model.series[o].points[l].x,i,t);if(s){var f=e.model.primaryYAxis.range?e.model.primaryYAxis.range:{},b=e.model.series,v=!f.min,x=!f.max;for(v&&(f.min=1/0),x&&(f.max=null),n=0;n<b.length;n++)for(d=b[n].points,h=0;h<d.length;h++)c=new Date(d[h].y),b[n].points[h].y=c,c<f.min&&(f.min=c),"stackingcolumn"===b[n].type?f.max?(f.max=new Date(f.max),f.max.setHours(f.max.getHours()+c.getHours()),f.max.setMinutes(f.max.getMinutes()+c.getMinutes()),f.max.setSeconds(f.max.getSeconds()+c.getSeconds())):f.max=new Date(f.min.getTime()):c>f.max&&(f.max=c);for(f.min=v?new Date(new Date(f.min).setSeconds(new Date(f.min).getSeconds()-10)).toISOString():new Date(f.min).toISOString(),f.max=x?new Date(new Date(f.max).setSeconds(new Date(f.max).getSeconds()+20)).toISOString():new Date(f.max).toISOString(),e.model.primaryYAxis.range=f,u=$.extend(!0,{},b),p=0;p<b.length;p++)if("stackingcolumn"===e.model.series[p].type)for(_=0;_<e.model.series[p].points.length;_++)0===p?(e.model.series[p].points[_].y=new Date(u[p].points[_].y),m=e.model.series[p].points[_].y):((g=new Date(e.model.series[p].points[_].y)).setHours(m.getHours()+g.getHours()),g.setMinutes(m.getMinutes()+g.getMinutes()),g.setSeconds(m.getSeconds()+g.getSeconds()),e.model.series[p].points[_].y=new Date(g.getTime()-m),m=g)}}},_updateStackingColumn:function(e){e.seriesRendering=function(e){"stackingcolumn"===e.model.series[0].type&&e.data.series.name===e.model.series[0].name&&(e.model.series[0].stackedValue.StartValues[0]=new Date(e.model.primaryYAxis.range.min).getTime())},e.toolTipInitialize=function(e){if("stackingcolumn"===e.model.series[0].type){var t=e.data.currentText.split(":",3);t.push(e.model.series[e.data.seriesIndex].points[e.data.pointIndex].YValues[0]),e.data.currentText=t.join(":")}}},legendItemRender:function(e){if(!ej.isNullOrUndefined(this._legendPointNames))for(var t=0;t<this._legendPointNames.length;t++)e.data.legendItem.Text===this._legendPointNames[t]&&(e.data.legendItem.Text="",e.cancel=!0)},addLegendName:function(e,t){ej.isNullOrUndefined(e)||"true"!=e.toLowerCase()||this._legendPointNames.push(t)},_boxplotLoaded:function(e,t){for(var i,s,a=t.model._visibleSeries,o=0;o<a.length;o++)for(i=t.model._visibleSeries[o]._visiblePoints,s=0;s<i.length;s++){var r="#"+e+"_svg_Series"+o+"_Point"+s,l=parseFloat($(r)[0].getAttribute("x")),n=parseFloat($(r)[0].getAttribute("width")),d=i[s].boxPlotLocation[0],h="M "+l+" "+d.Y+" L "+(l+n)+" "+d.Y+" Z",c=document.querySelectorAll(r+"_whisker")[2];c.setAttribute("d",h),c.setAttribute("stroke-dasharray","3,5")}},_chartLoaded:function(e){this._applySeriesBorder(e)},_chartMouseMove:function(e){this._applySeriesBorder(e)},_applySeriesBorder:function(){for(var e,t=$("path[id*='_Region_Series_']").attr("style","stroke-width: 1; stroke: #505050;"),i=0;i<t.length;i++)(e=t[i].getAttribute("d")).indexOf("z")<0&&t[i].setAttribute("d",e+"z")},_updateSmartLabel:function(e,t,i,s){var a,o,r,l,n,d,h,c;if(!ej.isNullOrUndefined(i)){if(a=e.series[t],i.TooltipX||i.TooltipY){if(o=!1,r=!1,a.points&&a.points.length>0)for(o=!0,l=0;l<a.points.length;l++)if(r=!!a.points[l].tooltip,n=a.points[l].text,ej.isNullOrUndefined(n)||0==n.length){o=!1;break}a.tooltip=r?{format:"#point.tooltip#<br/>",visible:!0}:{format:" "+(null==i.TooltipX?"":i.TooltipX+" : #point.x#<br/>")+(null==i.TooltipY?"":i.TooltipY+" : "+(o?"#point.text#":"#point.y#")),visible:!0}}else a.tooltip={format:" x: #point.x#<br/>y: #point.y#",visible:!0};if(ej.isNullOrUndefined(i.ChartSmartLabel)||i.ChartSmartLabel.Disabled||(e.commonSeriesOptions.enableSmartLabels=!0),!ej.isNullOrUndefined(i.CustomProperties)&&i.CustomProperties.length>0)for(d=0;d<i.CustomProperties.length;d++)h=this._getCustomProp(i.CustomProperties[d],s),!ej.isNullOrUndefined(h)&&!ej.isNullOrUndefined(h.Value)&&h.Value.length>0&&(e.commonSeriesOptions.enableSmartLabels=!0,this._isShapeChartType(s)?(a.labelPosition="OutsideInColumn"===h.Value?"outside":h.Value.toLowerCase(),"pie"==s&&"outside"==e.series[t].labelPosition&&(e.commonSeriesOptions.pieCoefficient=.5),("doughnut"==s||"explodeddoughnut"==s)&&"doughnutradius"==h.Name.toLowerCase()&&(e.series[t].doughnutCoefficient=h.Value)):"labelstyle"==h.Name.toLowerCase()&&(c=this._getPosition(h.Value),a.marker.dataLabel.horizontalTextAlignment=c.horizontalTextAlignment,a.marker.dataLabel.textPosition=c.textPosition),(this._isColumnChartType(s)||this._isBarChartType(s)||this._isRangeChartType(s))&&("pointwidth"==h.Name.toLowerCase()||"pixelpointwidth"==h.Name.toLowerCase())&&(e.series[t].columnWidth=h.Value))}},_getTrendlineType:function(e,t){return"trendlinetype"==e&&("linear"==t||"exponential"==t||"logarithmic"==t||"power"==t||"polynomial"==t||"movingaverage"==t)},_getTrendline:function(e,t,i){for(var s,a={},o=0;o<e.length;o++)switch((s=e[o]).Name.toLowerCase()){case"trendlinetype":a.type=s.Value;break;case"trendlinecolor":a.fill=s.Value;break;case"enabletrendline":a.visibility="visible";break;case"trendlinelegendtext":a.name=s.Value;break;case"trendlinewidth":a.width=s.Value;break;case"trendlineopacity":a.opacity=s.Value;break;case"trendlinestrokedasharray":a.dashArray=s.Value;break;case"trendlineperiod":a.period=s.Value;break;case"trendlineintercept":a.intercept=s.Value;break;case"trendlineforwardcast":a.forwardForecast=s.Value;break;case"trendlinebackwardcast":a.backwardForecast=s.Value;break;case"trendlinepolynomialorder":a.polynomialOrder=s.Value;break;case"showtrendlinelegend":i&&(a.visibleOnLegend="hidden");break;case"trendlinetooltip":a.tooltip=s.Value}return a},_isShapeChartType:function(e){return"pie"==e||"explodedpie"==e||"doughnut"==e||"explodeddoughnut"==e||"pyramid"==e||"funnel"==e},_isColumnChartType:function(e){return"column"==e||"stackingcolumn"==e||"stackingcolumn100"==e},_isBarChartType:function(e){return"bar"==e||"stackingbar"==e||"stackingbar100"==e},_isRangeChartType:function(e){return"rangecolumn"==e||"rangebar"==e||"rangearea"==e||"rangestock"==e||"errorbar"==e||"candlestick"==e},_is3DChartType:function(e){return"column"==e||"stackingcolumn"==e||"stackingcolumn100"==e||"bar"==e||"stackingbar"==e||"stackingbar100"==e||"pie"==e||"doughnut"==e},_getCustomPropertyValue:function(e,t){if(!ej.isNullOrUndefined(e)&&e.length>0)for(var i=0;i<e.length;i++)if(e[i].Name.toLowerCase()===t)return e[i].Value;return null},_getCustomProp:function(e,t){switch(t){case"pie":case"explodedpie":case"doughnut":case"explodeddoughnut":if("pielabelstyle"===e.Name.toLowerCase()||"doughnutradius"===e.Name.toLowerCase())return e;case"funnel":if("funnellabelstyle"===e.Name.toLowerCase())return e;case"pyramid":if("pyramidlabelstyle"===e.Name.toLowerCase())return e;case"bar":case"stackingbar":case"stackingbar100":case"column":case"stackingcolumn":case"stackingcolumn100":case"rangecolumn":case"rangebar":case"candlestick":if("pixelpointwidth"===e.Name.toLowerCase()||"barlabelstyle"===e.Name.toLowerCase()||"pointwidth"===e.Name.toLowerCase())return e;case"line":case"spline":case"stepline":case"linewithmarkers":case"splinewithmarkers":case"area":case"splinearea":case"scatter":case"bubble":case"rangearea":case"polar":case"radar":if("labelstyle"===e.Name.toLowerCase())return e}},_setBorderProp:function(e,t){switch(t.border={},e.Default.BorderBrush&&(t.border.color=e.Default.BorderBrush),"None"!=e.Default.BorderStyle?t.border.width=e.Default.Thickness:(t.border.width=0,t.border.color="transparent"),e.Default.BorderStyle){case"Dotted":t.border.dashArray="3,3";break;case"Dashed":t.border.dashArray="10,10";break;case"DashDot":t.border.dashArray="10,10,4,10";break;case"DashDotDot":t.border.dashArray="20,10,4,4,4,10";break;default:t.border.dashArray="0"}},_chartSeriesMouseHover:function(e){if(ej.isNullOrUndefined($("#"+this._id).data(this._id+"actionObj_Series"+e.data.region.SeriesIndex)))return!1;$("#"+this._id+"_svg_Series"+e.data.region.SeriesIndex+"_Point"+e.data.region.Region.PointIndex).css("cursor","pointer")},_getChartTitle:function(e){var t={font:{size:"10pt"},border:{width:1,color:"transparent"},text:"",textAlignment:"",background:"",visible:!1};return e.Caption&&e.Visible&&(t.visible=e.Visible,t.text=e.Caption,t.textAlignment=this._getTextAlignment(e.Position),e.Style&&(t.font.color=e.Style.Color?e.Style.Color:"Black",e.Style.FillStyle&&e.Style.FillStyle.BackgroundColor&&(t.background=e.Style.FillStyle.BackgroundColor),e.Style.Font&&(e.Style.Font.FontFamily&&(t.font.fontFamily=e.Style.Font.FontFamily),e.Style.Font.FontStyle&&(t.font.fontStyle="Default"!==e.Style.Font.FontStyle?e.Style.Font.FontStyle.toLowerCase():""),e.Style.Font.FontWeight&&(t.font.fontWeight=this._getFontWeight(e.Style.Font.FontWeight)),0!=e.Style.Font.FontSize&&(t.font.size=e.Style.Font.FontSize+"px")),e.Style.Border&&this._setBorderProp(e.Style.Border,t))),t},_getFontWeight:function(e){var t="";switch(e){case"Default":default:t="";break;case"Normal":t="regular";break;case"Thin":case"ExtraLight":case"Light":t="lighter";break;case"Bold":case"ExtraBold":case"SemiBold":case"Heavy":t="bold"}return t},_getTextAlignment:function(e){var t;switch(e){case"TopCenter":case"Default":case"Center":default:t="center";break;case"Left":case"TopLeft":case"Near":t="near";break;case"Right":case"TopRight":case"Far":t="far"}return t},_getSeriesMarker:function(e,t,i){var s,a={border:{},size:{},visible:!1};return e.ChartMarker&&(s=e.ChartMarker.MarkerType,a.visible=!0,a.shape="scatter"!==t||"None"!==s&&"Auto"!==s?this._getMarkerType(s):this._getMarkerShape(i),e.ChartMarker.Color&&(a.fill=e.ChartMarker.Color),e.ChartMarker.BorderColor&&(a.border.color=e.ChartMarker.BorderColor),e.ChartMarker.Borderwidth&&(a.border.width=e.ChartMarker.Borderwidth),e.ChartMarker.Size&&(a.size.height=a.size.width=e.ChartMarker.Size)),a},_getMarkerShape:function(e){var t="rectangle";return e%6==0?t="rectangle":e%6==1?t="circle":e%6==2?t="diamond":e%6==3?t="triangle":e%6==4?t="cross":e%6==5&&(t="star"),t},_getMarkerType:function(e){switch(e){case"Auto":case"Square":return"rectangle";case"Circle":return"circle";case"Diamond":return"diamond";case"Triangle":return"triangle";case"Cross":return"cross";case"Star4":case"Star5":case"Star6":case"Star10":return"star";default:return"none"}},_getMarkerDataLabel:function(e){var t,i={connectorLine:{},font:{},border:{},showEdgeLabels:!0};return i.visible=(this._isDataLabel||e.UsExvalueAsLabel)&&e.Visible,e.Visible&&(i.connectorLine.type="line",i.connectorLine.width=.5,i.angle=e.Rotation,i.font.color=e.TextColor?e.TextColor:"Black",e.Font&&(i.font.fontFamily=e.Font.FontFamily,i.font.fontStyle="Default"==e.Font.FontStyle||"Normal"==e.Font.FontStyle?"normal":"italic",i.font.fontWeight="Light"==e.Font.FontWeight?"lighter":e.Font.FontWeight.toLowerCase(),i.font.size=e.Font.FontSize+"px"),e.BorderStyle&&"None"!=e.BorderStyle&&(i.border.color=e.BorderColor,i.border.width=e.BorderWidth?e.BorderWidth:1.333,i.shape="Rectangle"),e.BackGroundColor&&(i.fill=e.BackGroundColor),t=this._getPosition(e.Position),i.horizontalTextAlignment=t.horizontalTextAlignment,i.textPosition=t.textPosition,i.textAnchor=t.textAnchor),i},_getPosition:function(e){var t={y:0};switch(e){case"Auto":case"Top":t.horizontalTextAlignment="center",t.textPosition="top",t.textAnchor="start";break;case"TopLeft":t.horizontalTextAlignment="near",t.textPosition="top",t.textAnchor="start";break;case"TopRight":t.horizontalTextAlignment="far",t.textPosition="top",t.textAnchor="start";break;case"Center":t.horizontalTextAlignment="center",t.textPosition="middle",t.textAnchor="middle",t.y=4;break;case"Left":t.horizontalTextAlignment="near",t.textPosition="middle",t.textAnchor="middle",t.y=4;break;case"Right":t.horizontalTextAlignment="far",t.textPosition="middle",t.textAnchor="middle",t.y=4;break;case"Bottom":t.horizontalTextAlignment="center",t.textPosition="bottom",t.textAnchor="start",t.y=4;break;case"BottomLeft":t.horizontalTextAlignment="near",t.textPosition="bottom",t.textAnchor="start",t.y=4;break;case"BottomRight":t.horizontalTextAlignment="far",t.textPosition="bottom",t.textAnchor="start",t.y=4;break;default:t.horizontalTextAlignment="",t.textPosition="top",t.textAnchor="middle"}return t},_getChartLegend:function(e){var t,i=e.ChartLegends[0],s={shape:"seriestype",enableScrollbar:!1,toggleSeriesVisibility:!0,font:{},border:{},background:"",title:{text:"",textAlignment:"",font:{}}};if(e.CustomProperties&&e.CustomProperties.length>0)for(t=0;t<e.CustomProperties.length;t++){if("enablechartlegendscroller"==e.CustomProperties[t].Name.toLowerCase()&&"true"==e.CustomProperties[t].Value){s.enableScrollbar=!0;break}if("disablelegendinteraction"==e.CustomProperties[t].Name.toLowerCase()&&"true"==e.CustomProperties[t].Value){s.toggleSeriesVisibility=!1;break}if("legendmaxautosize"==e.CustomProperties[t].Name.toLowerCase()&&null!=e.CustomProperties[t].Value){s.legendContainerWidth=e.CustomProperties[t].Value;break}}return s.visible=i.Visibilty,i.Alignment&&(s.alignment=i.Alignment),i.Position&&(s.position=i.Position),i.Style&&(s.font.color=i.Style.Color?i.Style.Color:"gray",i.Style.FillStyle&&i.Style.FillStyle.BackgroundColor&&(s.background=i.Style.FillStyle.BackgroundColor),i.Style.Font&&(i.Style.Font.FontFamily&&(s.font.fontFamily=i.Style.Font.FontFamily),i.Style.Font.FontStyle&&(s.font.fontStyle=i.Style.Font.FontStyle),i.Style.Font.FontWeight&&(s.font.fontWeight=i.Style.Font.FontWeight),0!=i.Style.Font.FontSize&&(s.font.size=i.Style.Font.FontSize+"px")),i.Style.Border&&i.Style.Border.Default&&(i.Style.Border.Default.BorderBrush&&"None"!=i.Style.Border.Default.BorderStyle&&(s.border.color="Default"==i.Style.Border.Default.BorderStyle?"transparent":i.Style.Border.Default.BorderBrush),0!=i.Style.Border.Default.Thickness&&(s.border.width=i.Style.Border.Default.Thickness))),i.LegendTile&&(i.LegendTile.Caption&&(s.title.text=i.LegendTile.Caption),i.LegendTile.Style&&(i.LegendTile.Style.Color&&(s.title.font.color=i.LegendTile.Style.Color),i.LegendTile.Style.Font&&(i.LegendTile.Style.Font.FontFamily&&(s.title.font.fontFamily=i.LegendTile.Style.Font.FontFamily),i.LegendTile.Style.Font.FontStyle&&(s.title.font.fontStyle="Default"!==i.LegendTile.Style.Font.FontStyle?i.LegendTile.Style.Font.FontStyle.toLowerCase():""),i.LegendTile.Style.Font.FontWeight&&(s.title.font.fontWeight=this._getFontWeight(i.LegendTile.Style.Font.FontWeight)),0!=i.LegendTile.Style.Font.FontSize&&(s.title.font.size=i.LegendTile.Style.Font.FontSize+"px"))),i.LegendTile.TileAlignment&&(s.title.textAlignment=this._getTextAlignment(i.LegendTile.TileAlignment))),s},_getSeriesColor:function(e,t,i){var s;return null!=i&&(t.value=t.value<i.length?t.value:0),e.Style&&e.Style.Color?s=e.Style.Color:null!=i&&i.length>0&&(s=i[t.value],t.value++),s},_legendOrder:function(e){e.model.legendCollection.reverse()},_updateStackingColumnTooltip:function(e){("stackingcolumn"===e.model.series[0].type||"stackingcolumn100"===e.model.series[0].type)&&e.model.series[e.data.seriesIndex].points[e.data.pointIndex].tooltip&&(e.data.currentText=e.model.series[e.data.seriesIndex].points[e.data.pointIndex].tooltip)},_applyBackgroundGradientStyle:function(e,t){var i;switch(e.BackgroundGradientType){case"LeftRight":i="to right",t.style.background="linear-gradient("+i+","+e.BackgroundColor+", "+e.BackgroundGradientEndcolor+")";break;case"TopBottom":t.style.background="linear-gradient("+e.BackgroundColor+", "+e.BackgroundGradientEndcolor+")";break;case"Center":t.style.background="radial-gradient("+e.BackgroundColor+", "+e.BackgroundGradientEndcolor+")";break;case"DiagonalLeft":i="to bottom right",t.style.background="linear-gradient("+i+","+e.BackgroundColor+", "+e.BackgroundGradientEndcolor+")";break;case"DiagonalRight":i="to bottom left",t.style.background="linear-gradient("+i+","+e.BackgroundColor+", "+e.BackgroundGradientEndcolor+")";break;case"HorizontalCenter":t.style.background="linear-gradient("+e.BackgroundColor+","+e.BackgroundGradientEndcolor+", "+e.BackgroundColor+")";break;case"VerticalCenter":t.style.background="linear-gradient(90deg,"+e.BackgroundColor+","+e.BackgroundGradientEndcolor+", "+e.BackgroundColor+")"}},_barChartLoad:function(e){var t,i,s;for($(this.gSeriesEle)[0].setAttribute("clip-path",""),t=e.model.series,i=0;i<t.length;i++)(s=$(this.gSeriesEle).find("#"+this.svgObject.id+"_TextGroup_"+i))&&s.length>0&&s[0].setAttribute("clip-path","");null!=this.model.viewerInstance&&this.model.viewerInstance._applySeriesBorder()},_getChartAxis:function(e,t,i,s,a,o,r,l,n){var d,h,c,u,p,m,g={title:{font:{}},font:{},range:{},axisLine:{},majorGridLines:{},minorGridLines:{},majorTickLines:{},minorTickLines:{},minorTicksPerInterval:{},tickLinesPosition:{},multiLevelLabels:[],stripLine:[],edgeLabelPlacement:"shift"};if(l&&l.length>0)for(u=0;u<l.length;u++)("XAxis"==i&&"XAxisRangePadding"==l[u].Name||"YAxis"==i&&"YAxisRangePadding"==l[u].Name)&&(g.rangePadding=l[u].Value),("XAxis"==i&&"XAxisEdgeLabelPlacement"==l[u].Name||"YAxis"==i&&"YAxisEdgeLabelPlacement"==l[u].Name)&&(g.edgeLabelPlacement=l[u].Value);if(g.font.color=e.LabelColor?e.LabelColor:"gray",e.LabelFont&&(g.font.fontFamily=e.LabelFont.FontFamily,g.font.size=e.HideLabels?"0px":e.LabelFont.FontSize,g.font.fontStyle="Default"==e.LabelFont.FontStyle?"Normal":e.LabelFont.FontStyle,g.font.fontWeight=e.LabelFont.FontWeight),"XAxis"==i&&(g.isIndexed=t,e.CategoryLabel))for(h in d=e.CategoryLabel,g.crosshairLabel={visible:d.Enable},g.valueType="category",g.labelBorder={width:1,color:"transparent",type:"none"},g.textAlignment=d.TextAlignment?d.TextAlignment:"center",d.BorderColor&&(g.labelBorder.color=d.BorderColor),d.BorderStyle&&(g.labelBorder.type=d.BorderStyle),d.LabelPoints)for(c=d.LabelPoints[h],u=0;u<c.length;u++)g.multiLevelLabels.push({visible:!0,text:c[u].Text,start:c[u].Start,end:c[u].End,level:h,font:g.font,textAlignment:g.textAlignment,border:g.labelBorder});if(null!=e.ChartStripLines&&e.ChartStripLines.length>0)for(p=e.ChartStripLines.length,m=0;m<p;m++)g.stripLine.push(this._getStripLines(e.ChartStripLines[m],n));return e.ChartAxisTitle&&(e.ChartAxisTitle.Caption&&(g.title.text=e.ChartAxisTitle.Caption),e.ChartAxisTitle.TextColor&&(g.title.font.color=e.ChartAxisTitle.TextColor),e.ChartAxisTitle.Font&&(e.ChartAxisTitle.Font.FontSize&&(g.title.font.size=e.ChartAxisTitle.Font.FontSize),e.ChartAxisTitle.Font.FontFamily&&(g.title.font.fontFamily=e.ChartAxisTitle.Font.FontFamily),e.ChartAxisTitle.Font.FontStyle&&(g.title.font.fontStyle=e.ChartAxisTitle.Font.FontStyle))),(null!=e.Maximum||null!=e.Minimum)&&(g.setRange=!0,g.range.min=e.Minimum,g.range.max=e.Maximum,e.IsDateMin&&(g.range.min=this._getChartDate(e.Minimum)),e.IsDateMax&&(g.range.max=this._getChartDate(e.Maximum))),0!=e.Interval&&(g.setRange=!0,"XAxis"==i&&(g.valueType="category"),g.range.interval=e.Interval),g.labelFormat=e.LabelFormat,"#,0,,;(#,0,,)"==e.LabelFormat&&(g.labelFormat=null),"0\\%"==e.LabelFormat&&(g.labelFormat="{value}%",null==e.Minimum&&(g.range.min=0)),"XAxis"==i||a?"XAxis"==i&&("spline"==s||"line"==s||"stepline"==s)&&(g.labelPlacement="onticks",g.rangePadding="additional"):g.labelPlacement="onticks",e.ChartMajorGridLines&&(g.majorGridLines=this._getGridLines(e.ChartMajorGridLines)),e.ChartMinorGridLines&&(g.minorGridLines=this._getGridLines(e.ChartMinorGridLines)),e.ChartMajorTickMarks&&(g.majorTickLines=this._getTickMarks(e.ChartMajorTickMarks),g.tickLinesPosition=e.ChartMajorTickMarks.Type.toLowerCase()),e.ChartMinorTickMarks&&(g.minorTickLines=this._getTickMarks(e.ChartMinorTickMarks),g.minorTicksPerInterval=0!=e.ChartMinorTickMarks.Interval?e.ChartMinorTickMarks.Interval:4,g.tickLinesPosition=e.ChartMinorTickMarks.Type.toLowerCase()),null!=e.Labels&&e.Labels.length>0?g.labelIntersectAction="trim":e.LabelsAutoFitEnabled?g.labelIntersectAction=e.PrExventWordWrap&&e.PrExventLabelOffset?"none"!=e.AllowLabelRotation?e.AllowLabelRotation:"trim":e.PrExventLabelOffset?"wrapByWord":"multipleRows":e.Angle?g.labelRotation=e.Angle:g.labelIntersectAction=e.LabelOverFlowMode,e.LineColor&&(g.axisLine.color=e.LineColor),e.LineWidth&&(g.axisLine.width=e.LineWidth),e.HideEndLabels&&(g.edgeLabelPlacement="hide"),g.visible="True"==e.VisibleStatus||"Auto"==e.VisibleStatus?g.axisLine.visible=!0:g.axisLine.visible=!1,"None"==e.LineStyle&&(g.axisLine.visible=!1),"XAxis"==i&&(g.valueType=ej.isNullOrUndefined(o)||"DateTime"!=o||null==e.LabelFormat?"category":"datetimecategory"),ej.isNullOrUndefined(o)||"DateTime"!=o||"Years"!=e.IntervalType&&"Months"!=e.IntervalType&&"Days"!=e.IntervalType&&"Hours"!=e.IntervalType&&"Minutes"!=e.IntervalType&&"Seconds"!=e.IntervalType&&"Milliseconds"!=e.IntervalType&&"Weeks"!=e.IntervalType||(g.intervalType=e.IntervalType.toLowerCase(),ej.isNullOrUndefined(g.valueType)&&(g.valueType="datetime")),(e.IsDateMin||e.IsDateMax)&&(ej.isNullOrUndefined(g.valueType)&&(g.valueType="datetime"),("Years"==e.IntervalType||"Months"==e.IntervalType||"Days"==e.IntervalType||"Hours"==e.IntervalType||"Minutes"==e.IntervalType||"Seconds"==e.IntervalType||"Milliseconds"==e.IntervalType||"Weeks"==e.IntervalType)&&(g.intervalType=e.IntervalType.toLowerCase())),"Secondary"==r&&(g.opposedPosition=!0,g.name=i),g},_getStripLines:function(e,t){var i,s,a={font:{},visible:!0,zIndex:"behind",start:e.IntervalOffset,width:e.StripWidth,isRepeat:!!(e.Interval&&e.Interval>0),repeatEvery:e.Interval?e.Interval:0,text:e.Title,textAlignment:this._getStripLineTextAlign(e.Style.TextAlign)};return a.sizeType="Default"==e.IntervalType?"auto":"Number"==e.IntervalType?"pixel":e.IntervalType.toLowerCase(),e.Style&&(e.Style.FillStyle&&e.Style.FillStyle.BackgroundColor&&(a.color=e.Style.FillStyle.BackgroundColor),e.BackgroundImg&&(i=this.model.printMode?"PrintImage":"GetResource",t?(s=this._reportImages[e.BackgroundImg]?this._reportImages[e.BackgroundImg]:e.BackgroundImg,a.imageUrl="data:image/png;base64,"+s):a.imageUrl=this._getMultiTenantUrl(this.model.reportServiceUrl+"/"+i+"/?key="+e.BackgroundImg+"&resourcetype=sfimg&isPrint="+this.model.printMode,!1)),e.Style.Border&&"Default"!=e.Style.Border.Default.BorderStyle&&"None"!=e.Style.Border.Default.BorderStyle?(e.Style.Border.Default.BorderBrush&&(a.borderColor=e.Style.Border.Default.BorderBrush),0!=e.Style.Border.Default.Thickness&&(a.borderWidth=e.Style.Border.Default.Thickness)):a.borderWidth=0,e.Style.Color&&(a.font.color=e.Style.Color),e.Style.Font&&(e.Style.Font.FontFamily&&(a.font.fontFamily=e.Style.Font.FontFamily),0!=e.Style.Font.FontSize&&(a.font.size=e.Style.Font.FontSize+"px"),e.Style.Font.FontStyle&&(a.font.fontStyle="Default"!==e.Style.Font.FontStyle?e.Style.Font.FontStyle.toLowerCase():""),e.Style.Font.FontWeight&&(a.font.fontWeight=this._getConvertedFontWeight(e.Style.Font.FontWeight)))),a},_getStripLineTextAlign:function(e){switch(e.toLowerCase()){case"left":default:return"middletop";case"center":return"middlecenter";case"right":return"middlebottom"}},_getGridLines:function(e){var t={};return t.visible=e.Enabled,e.Enabled&&e.Style&&e.Style.Default&&(e.Style.Default.BorderBrush&&(t.color=e.Style.Default.BorderBrush),"None"!=e.Style.Default.BorderStyle&&(t.width=e.Style.Default.Thickness),"Dashed"==e.Style.Default.BorderStyle?t.dashArray="2,4":"Dotted"==e.Style.Default.BorderStyle&&(t.dashArray="2,2")),t},_getTickMarks:function(e){var t={};return t.visible=e.Enabled,e.Enabled&&(e.Style&&e.Style.Default&&(e.Style.Default.BorderBrush&&(t.color=e.Style.Default.BorderBrush),e.Style.Default.Thickness&&(t.width=e.Style.Default.Thickness),"None"==e.Style.Default.BorderStyle&&(t.visible=!1)),e.Length&&(t.size=e.Length)),t},_renderImageControl:function(e,t,i,s,a,o){var r,l,n,d,h=this._controlKeyGenerator(this._id+"_"+(null!=e.ItemName?e.ItemName:e.Name),s,a,o),c=this._buildTag("div","e-reportviewer-tab-focus-none",e.ToolTip,{id:h},{tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Image")+e.Name}),u={};this._appendChild(i,c),u["-webkit-box-sizing"]="border-box",u["-moz-box-sizing"]="border-box",u["box-sizing"]="border-box",u.position=t&&e.IsTablixChild?"relative":"absolute",u.top=e.Top+"px",u.left=e.Left+"px",u.width=e.Width+"px",u.height=e.Height+"px",u.overflow="hidden",u.visibility=e.Hidden?"hidden":"visible",u["padding-left"]=e.PaddingLeft+"px",u["padding-right"]=e.PaddingRight+"px",u["padding-top"]=e.PaddingTop+"px",u["padding-bottom"]=e.PaddingBottom+"px",e.ActionInfo&&(c.setAttribute("actionObj",JSON.stringify(e.ActionInfo)),c.className+=" drillAction_"+this._id+" e-reportviewer-drillhover"),e.Border&&!e.IsTablixChild&&this._applyBorderStyle(e.Border,c),null==e.ExternalImageUrl&&e.EmbedImageData?this._addEmbeddedImage(c,e.ImageWidth,e.ImageHeight,h+"_imgTag",e.ImageUrl):(r=e.ExternalImageUrl?e.ExternalImageUrl:this._getMultiTenantUrl(this.model.reportServiceUrl+"/GetResource/?key="+e.ImageUrl+"&resourcetype=sfimg&isPrint="+a,!1),(l=this._buildTag("img",null,null,{alt:"",id:h+"_imgTag",onload:e.ExternalImageUrl?"ej.ReportViewer.prototype._updateImageScale(this)":"",src:a?"":r,"data-imgUrl":r})).style.width=e.ImageWidth+"px",l.style.height=e.ImageHeight+"px",this._appendChild(c,l),e.Angle&&"0"!=e.Angle&&(n={},d=e.Angle,n.transform="rotate("+d+"deg)",n["-webkit-transform"]="rotate("+d+"deg)",n["-ms-transform"]="rotate("+d+"deg)",n["-moz-transform"]="rotate("+d+"deg)",n["-o-transform"]="rotate("+d+"deg)",this._setTagStyle(l,n))),this._setTagStyle(c,u)},_updateImageScale:function(e){if("Uniform"==e.id){var t=Math.min(e.parentNode.offsetWidth/e.naturalWidth,e.parentNode.offsetHeight/e.naturalHeight);e.style.width=e.naturalWidth*t+"px",e.style.height=e.naturalHeight*t+"px"}else"UniformToFill"==e.id&&(e.style.width=e.naturalWidth+"px",e.style.height=e.naturalHeight+"px")},_renderCustomReportItemControl:function(e,t,i,s,a,o){var r,l,n=this._controlKeyGenerator(this._id+"_"+(null!=e.ItemName?e.ItemName:e.Name),s,a,o),d=this._buildTag("div","e-reportviewer-tab-focus-none",e.ToolTip,{id:n},{tabindex:"0","aria-lable":this._getLocaleString("reportItemLabel","Custom")+e.Name}),h={};return this._appendChild(i,d),h["-webkit-box-sizing"]="border-box",h["-moz-box-sizing"]="border-box",h["box-sizing"]="border-box",h.position=t&&e.IsTablixChild?"relative":"absolute",h.top=e.Top+"px",h.left=e.Left+"px",h.width=e.Width+"px",h.height=e.Height+"px",h.overflow="hidden",h.visibility=e.Hidden?"hidden":"visible",h["padding-left"]=e.PaddingLeft+"px",h["padding-right"]=e.PaddingRight+"px",h["padding-top"]=e.PaddingTop+"px",h["padding-bottom"]=e.PaddingBottom+"px",e.ActionInfo&&(d.setAttribute("actionObj",JSON.stringify(e.ActionInfo)),d.className+=" drillAction_"+this._id+" e-reportviewer-drillhover"),e.Border&&!e.IsTablixChild&&this._applyBorderStyle(e.Border,d),e.EmbedImageData?this._addEmbeddedImage(d,e.Width,e.Height,n+"_imgTag",e.ImageUrl):(r=this._getMultiTenantUrl(this.model.reportServiceUrl+"/GetResource/?key="+e.ImageUrl+"&resourcetype=sfimg&isPrint="+a,!1),(l=this._buildTag("img",null,null,{alt:"",id:n+"_imgTag",onload:"",src:a?"":r,"data-imgUrl":r})).width=e.imageWidth,l.height=e.imageHeight,this._appendChild(d,l)),this._setTagStyle(d,h),d},_renderRectangleControl:function(e,t,i,s,a,o,r){var l,n,d,h,c,u=this._controlKeyGenerator(this._id+"_"+(null!=e.ItemName?e.ItemName:e.Name),s,a,o),p=this._buildTag("div","e-reportviewer-tab-focus-none",e.ToolTip,{id:u},{tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Rectangle")+e.Name}),m={};if(this._appendChild(i,p),m["-webkit-box-sizing"]="border-box",m["-moz-box-sizing"]="border-box",m["box-sizing"]="border-box",m.position=t?"relative":"absolute",m.top=e.Top+"px",m.left=e.Left+"px",m.width=e.Width+"px",m.height=e.Height+"px",m["background-color"]=e.BackgroundColor,m.visibility=e.Hidden?"hidden":"visible",l=a?"PrintImage":"GetResource",e.BackgroundImageSrc&&(m["background-image"]=this._getImageDataURL(e.EmbedImageData,a,l,e.BackgroundImageSrc)),e.BackgroundRepeat&&(m["background-repeat"]=this._getBackgroundRepeat(e.BackgroundRepeat)),e.Border&&!t&&this._applyBorderStyle(e.Border,p),e.IsTablixChild&&e.ReportModels&&e.ReportModels.length>0)for(n=0;n<e.ReportModels.length;n++)(d=e.ReportModels[n])&&(!ej.isNullOrUndefined(d.ErrorInformation)&&d.ErrorInformation.Message?(h=this._renderErrorItemControl(d,!1,a,o,!1),this._appendChild(p,h)):"TextBoxModel"==d.ItemType?this._renderTextBoxControl(d,!1,u+"_"+d.Name,a,o,p):"LineModel"==d.ItemType?(c=this._renderLineControl(d,u+"_"+d.Name,a,o),this._appendChild(p,c)):"ImageModel"==d.ItemType?this._renderImageControl(d,!1,p,u+"_"+d.Name,a,o):"CustomReportItemModel"==d.ItemType?this._renderCustomReportItemControl(d,!1,p,u+"_"+d.Name,a,o):"TablixModel"==d.ItemType?this._renderTablixControl(d,!1,{},p,u+"_"+d.Name,a,o,r):"GaugeModel"==d.ItemType?this._renderGaugeControl(d,!1,!1,{},p,u+"_"+d.Name,a,o):"RectangleModel"==d.ItemType?this._renderRectangleControl(d,!1,p,u+NaN+d.Name,a,o,r):"ChartModel"==d.ItemType?this._renderChartControl(d,!1,!1,{},p,u+"_"+d.Name,a,o):"MapModel"==d.ItemType?this._renderMapControl(d,!1,p,u+"_"+d.Name,a,o):"SubReportModel"==d.ItemType&&this._renderRectangleControl(d,!1,p,u+NaN+d.Name,a,o,r));this._setTagStyle(p,m)},_renderMapControl:function(e,t,i,s,a,o){var r,l,n=e.MapProperties;t&&(this._id=s,e.Top=0,e.Left=0);var d=this._controlKeyGenerator(this._id+"_"+(null!=e.ItemName?e.ItemName:e.Name),s,a,o),h=this._buildTag("div","e-reportviewer-tab-focus-none",n.ToolTip,{id:d},{tabindex:"0","aria-lable":this._getLocaleString("reportItemLabel","Map")+e.Name}),c={"-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"};if(this._appendChild(i,h),c.position="absolute",c.top=e.Top+"px",c.left=e.Left+"px",c.height=e.Height+"px",c.width=e.Width+"px",c.visibility=e.Hidden?"hidden":"visible",e.IsTablixChild&&(c.position="relative"),n.ActionInfo&&(h.className+=" drillAction_"+this._id+" e-reportviewer-drillhover",h.setAttribute("actionObj",JSON.stringify(n.ActionInfo))),n.Border&&this._applyBorderStyle(n.Border,h),this._setTagStyle(h,c),n.MapViewport){var u=n.MapViewport,p=this._buildTag("div","",n.ToolTip,{id:d+"_"+(null!=e.ItemName?e.ItemName:e.Name),width:"100%",height:"100%"},{}),m={};this._appendChild(h,p),r=n.MapPolygonLayers&&n.MapPolygonLayers.length>0?n.MapPolygonLayers[0]:null,(l={}).layers=[{type:"Layer",layerType:"Geometry",shapeData:r.MapFields,shapePropertyPath:r.MapBindingFieldPairs?r.MapBindingFieldPairs.FieldName:"name",shapeDataPath:"Value",dataSource:e.MapModelData,highlightSettings:{enable:!1},tooltipSettings:this._getTooltipSettings(r),dataLabelSettings:this._getLabelSettings(r),shapeSettings:this._getShapeSettings(r),markerSettings:this._getMarkerSettings(r,e.MapMarkerData),visible:!(!r||!r.MapPolygonTemplate)&&!r.MapPolygonTemplate.Hidden}],l.height=this._getCalculatedHeight(e.Height,h)+"px",l.width=this._getCalculatedWidth(e.Width,h)+"px",l.background=n.Background.BackgroundColor,l.mapsArea={background:n.Background.BackgroundColor},l.projectionType=this._getMapProjection(u),l.titleSettings=this._getTitleSetting(n.MapTitles),l.legendSettings=this._getLegendSettings(n,l.width,l.height),m.position="relative",this._setTagStyle(p,m),new ejs.maps.Maps(l).appendTo($("#"+p.id)[0])}a||this._dataVisualization.push({name:null!=e.ItemName?e.ItemName:e.Name,id:p.id,type:"MapModel"})},_getCalculatedWidth:function(e,t){return e-("none"!=t.style.borderLeftStyle&&t.style.borderLeftWidth?parseFloat(t.style.borderLeftWidth,10):0)-("none"!=t.style.borderRightStyle&&t.style.borderRightWidth?parseFloat(t.style.borderRightWidth,10):0)},_getCalculatedHeight:function(e,t){return e-("none"!=t.style.borderTopStyle&&t.style.borderTopWidth?parseFloat(t.style.borderTopWidth,10):0)-("none"!=t.style.borderBottomStyle&&t.style.borderBottomWidth?parseFloat(t.style.borderBottomWidth,10):0)},_getTitleSetting:function(e){var t,i=null;return e&&e.length>0&&(i=(t=e[0]).Hidden?{text:""}:{text:t.Text?t.Text:"Map Title",alignment:t.Style.TextAlign?this._getMapTitleAlignment(t.Style.TextAlign):"Left",textStyle:{color:t.Style.TextColor?t.Style.TextColor:"Gray",size:t.Style.Font.FontSize?t.Style.Font.FontSize:"10pt",fontFamily:t.Style.Font.FontFamily?t.Style.Font.FontFamily:"Arial",fontStyle:t.Style.Font.FontStyle?t.Style.Font.FontStyle:"Default",fontWeight:t.Style.Font.FontWeight?this._getConvertedFontWeight(t.Style.Font.FontWeight):"Normal"}}),i},_getMapTitleAlignment:function(e){var t="";switch(e.toLowerCase()){case"center":default:t="Center";break;case"left":t="Near";break;case"right":t="Far"}return t},_getTooltipSettings:function(e){var t=null;return e&&(t={visible:!0,valuePath:"ToolTipPath"}),t},_getShapeSettings:function(e){var t=null;return e&&e.ShapeSettings&&(t={colorMapping:[],colorValuePath:null,valuePath:null,fill:e.MapPolygonTemplate&&e.MapPolygonTemplate.BackGround&&e.MapPolygonTemplate.BackGround.BackgroundColor?e.MapPolygonTemplate.BackGround.BackgroundColor:"#E5E5E5",border:{color:e.MapPolygonTemplate&&e.MapPolygonTemplate.Border&&e.MapPolygonTemplate.Border.BorderBrush?e.MapPolygonTemplate.Border.BorderBrush:"#ffffff",width:e.MapPolygonTemplate&&e.MapPolygonTemplate.Border&&e.MapPolygonTemplate.Border.Thickness?e.MapPolygonTemplate.Border.Thickness:.75}},e&&e.ShapeColorMappings&&e.ShapeColorMappings.length>0&&(t.colorMapping=e.ShapeColorMappings,t.colorValuePath=e.ShapeSettings.ShapeColorValuePath,t.valuePath=e.ShapeSettings.ShapeValuePath)),t},_getMarkerSettings:function(e,t){var i,s=[];return e&&e.MapCenterPointTemplate&&t.length>0&&(i=e.MapCenterPointTemplate.Size?e.MapCenterPointTemplate.Size:"10",s=[{visible:!e.MapCenterPointTemplate.Hidden,dataSource:t,latitudeValuePath:"LatitudeValuePath",longitudeValuePath:"LongitudeValuePath",colorValuePath:"Color",shapeValuePath:"MapMarkerStyle",imageUrlValuePath:"ImagePath",animationDuration:this.model.enableAnimation?1e3:0,width:i,height:i,border:this._getMarkerBorder(e),tooltipSettings:this._getTooltipSettings(e)}]),s},_getMarkerBorder:function(e){return{color:e.MapCenterPointTemplate.Border&&e.MapCenterPointTemplate.Border.BorderBrush?e.MapCenterPointTemplate.Border.BorderBrush:"#808080",width:e.MapCenterPointTemplate.Border&&e.MapCenterPointTemplate.Border.Thickness?e.MapCenterPointTemplate.Border.Thickness:.75}},_setBubbleSettings:function(e,t){var i=null;return t.MapCenterPointRules&&t.MapCenterPointRules.length>0&&t.MapCenterPointRules.MapSizeRule&&(i={maxRadius:t.BubbleSettings.MaxSize,minRadius:t.BubbleSettings.MinSize,colorValuePath:null==t.BubbleSettings.ColorValuePath?"Value":t.BubbleSettings.ColorValuePath,valuePath:t.BubbleSettings.ValuePath},t.BubbleColorMappings&&t.BubbleColorMappings.length>1&&(i.colorMappings=t.BubbleColorMappings)),i&&(e.layers[0].bubbleSettings=i),e},_getLabelSettings:function(e){if(e&&e.MapPolygonTemplate&&!e.MapPolygonTemplate.Hidden&&e.ShapeSettings){var t=e.MapPolygonTemplate.ShowLabel?"Trim":"None";return{visible:!!e.MapPolygonTemplate.ShowLabel,labelPath:e.ShapeSettings.LabelPath,textStyle:{color:e.MapPolygonTemplate.Style&&e.MapPolygonTemplate.Style.TextColor?e.MapPolygonTemplate.Style.TextColor:"Black",fontFamily:e.MapPolygonTemplate.Style&&e.MapPolygonTemplate.Style.Font&&e.MapPolygonTemplate.Style.Font.FontFamily?e.MapPolygonTemplate.Style.Font.FontFamily:"Arial",fontStyle:e.MapPolygonTemplate.Style&&e.MapPolygonTemplate.Style.Font&&e.MapPolygonTemplate.Style.Font.FontStyle?e.MapPolygonTemplate.Style.Font.FontStyle:"Default",fontWeight:e.MapPolygonTemplate.Style&&e.MapPolygonTemplate.Style.Font&&e.MapPolygonTemplate.Style.Font.FontWeight?this._getConvertedFontWeight(e.MapPolygonTemplate.Style.Font.FontWeight):"Normal",size:e.MapPolygonTemplate.Style&&e.MapPolygonTemplate.Style.Font&&e.MapPolygonTemplate.Style.Font.FontSize?e.MapPolygonTemplate.Style.Font.FontSize:"10pt"},smartLabelMode:t,intersectionAction:t}}},_isValidColorCode:function(e){return/^#[0-9a-fA-F]{6}$/gi.test(e)},_getMapProjection:function(e){var t,i="Mercator";if(e.MapProjection)switch(t=e.MapProjection){case"HammerAitoff":i="AitOff";break;case"Fahey":i="Miller";break;case"Eckert1":i="Eckert5";break;case"Bonne":i="Eckert6";break;case"Equirectangular":case"Eckert3":case"Mercator":i=t}return i},_getLegendSettings:function(e,t,i){var s,a,o,r={};return e.MapLegends&&e.MapLegends.length>0&&((s=e.MapLegends[0]).Hidden?r={visible:!1}:(r.visible=!s.Hidden,r.showLegendPath=!0,r.background="LightGrey",s.Position&&(a=this._getMapLegendPosition(s.Position),o=this._getMapLegendSize(a.position,t,i),r.position=a.position,r.orientation="Left"===a.position||"Right"===a.position?"Vertical":"Horizontal",r.alignment=a.alignment,r.width=o.width,r.height=o.height),s.LegendMode&&(r.mode=s.LegendMode?s.LegendMode:"Default","Interactive"===s.LegendMode&&("Vertical"===r.orientation?(r.height="70%",r.width="10"):(r.height="10",r.width=""))),s.BackGround&&s.BackGround.BackgroundColor&&(r.background=s.BackGround.BackgroundColor.startsWith("#")&&!this._isValidColorCode(s.BackGround.BackgroundColor)?"LightGrey":s.BackGround.BackgroundColor),s.Border&&"None"!=s.Border.BorderStyle&&(r.border={},s.Border.BorderBrush&&(r.border.color=s.Border.BorderBrush),0!=s.Border.Thickness&&(r.border.width=s.Border.Thickness)),s.Style&&(r.textStyle={},r.textStyle.color=s.Style.TextColor?s.Style.TextColor:"Black",s.Style.Font&&(s.Style.Font.FontFamily&&(r.textStyle.fontFamily=s.Style.Font.FontFamily?s.Style.Font.FontFamily:"Arial"),s.Style.Font.FontStyle&&(r.textStyle.fontStyle=s.Style.Font.FontStyle?s.Style.Font.FontStyle:"default"),s.Style.Font.FontWeight&&(r.textStyle.fontWeight=s.Style.Font.FontWeight?s.Style.Font.FontWeight:"bold"),0!=s.Style.Font.FontSize&&(r.textStyle.size=s.Style.Font.FontSize?s.Style.Font.FontSize+"px":"10px"))),s.MapLegendTitle&&(r.title={},s.MapLegendTitle.Caption&&(r.title.text=s.MapLegendTitle.Caption),s.MapLegendTitle.Style&&(r.titleStyle={},r.titleStyle.color=s.MapLegendTitle.Style.TextColor?s.MapLegendTitle.Style.TextColor:"Black",s.MapLegendTitle.Style.Font&&(s.MapLegendTitle.Style.Font.FontFamily&&(r.titleStyle.fontFamily=s.MapLegendTitle.Style.Font.FontFamily?s.MapLegendTitle.Style.Font.FontFamily:"Arial"),s.MapLegendTitle.Style.Font.FontStyle&&(r.titleStyle.fontStyle=s.MapLegendTitle.Style.Font.FontStyle?s.MapLegendTitle.Style.Font.FontStyle:"default"),s.MapLegendTitle.Style.Font.FontWeight&&(r.titleStyle.fontWeight=s.MapLegendTitle.Style.Font.FontWeight?s.MapLegendTitle.Style.Font.FontWeight:"bold"),0!=s.MapLegendTitle.Style.Font.FontSize&&(r.titleStyle.size=s.MapLegendTitle.Style.Font.FontSize?s.MapLegendTitle.Style.Font.FontSize+"px":"10px")))),r.shape="Rectangle")),r},_getMapLegendSize:function(e,t,i){var s={width:"60px",height:"30px"};if(e)switch(e){case"Top":case"Bottom":s.width=(parseInt(t,10)-10).toString()+"px";break;case"Left":case"Right":s.height=(parseInt(i,10)-10).toString()+"px"}return s},_getMapLegendPosition:function(e){var t={position:"Right",alignment:"Center"};switch(e){case"TopLeft":t={position:"Top",alignment:"Near"};break;case"TopCenter":t={position:"Top",alignment:"Center"};break;case"TopRight":t={position:"Top",alignment:"Far"};break;case"LeftTop":t={position:"Left",alignment:"Near"};break;case"LeftCenter":t={position:"Left",alignment:"Center"};break;case"LeftBottom":t={position:"Left",alignment:"Far"};break;case"RightTop":t={position:"Right",alignment:"Near"};break;case"RightCenter":t={position:"Right",alignment:"Center"};break;case"RightBottom":t={position:"Right",alignment:"Far"};break;case"BottomLeft":t={position:"Bottom",alignment:"Near"};break;case"BottomCenter":t={position:"Bottom",alignment:"Center"};break;case"BottomRight":t={position:"Bottom",alignment:"Far"}}return t},_renderGaugeControl:function(e,t,i,s,a,o,r,l){var n,d,h,c,u,p,m,g=e.GaugePanel;t&&(this._id=o,e.Top=0,e.Left=0);var _=this._controlKeyGenerator(this._id+"_"+(null!=e.ItemName?e.ItemName:e.Name),o,r,l),f=this._buildTag("div","e-reportviewer-tab-focus-none",null,{id:_},{tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Gauge")+e.Name}),b={"-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box",overflow:"hidden"};this._appendChild(a,f),b.position="absolute",b.visibility=e.Hidden?"hidden":"visible",n=e.Height,d=e.Width,e.Top&&(b.top=e.Top+"px"),e.Left&&(b.left=e.Left+"px"),h="Horizontal",c=0,g.RadialGauges&&g.RadialGauges.length>0&&(c+=g.RadialGauges.length),g.LinearGauges&&g.LinearGauges.length>0&&(c+=g.LinearGauges.length),g.Indicator&&g.Indicator.length>0&&(c+=g.Indicator.length),u=r?"PrintImage":"GetResource",g.GaugeFrame&&g.GaugeFrame.FrameImage&&(b["background-image"]=this._getImageDataURL(g.EmbedImageData,r,u,g.GaugeFrame.FrameImage)),g.Border&&!i&&this._applyBorderStyle(g.Border,f),0!=c&&(n>d?(n/=c,h="Vertical"):d/=c),g.RadialGauges&&g.RadialGauges.length>0&&this._renderRadialGauge(e,f,null!=e.ItemName?e.ItemName:e.Name,h,d,n,o,r,l),g.LinearGauges&&g.LinearGauges.length>0&&this._renderLinearGauge(e,f,null!=e.ItemName?e.ItemName:e.Name,h,d,n,o,r,l),g.Indicator&&g.Indicator.length>0&&(p=i?0:parseFloat(f.style.borderLeftWidth,10)+parseFloat(f.style.borderRightWidth,10),m=i?0:parseFloat(f.style.borderTopWidth,10)+parseFloat(f.style.borderBottomWidth,10),this._renderIndicator(g.Indicator,g,f,null!=e.ItemName?e.ItemName:e.Name,d-p,n-m,o,r,l)),g.GaugeLabel&&g.GaugeLabel.length>0&&this._renderGaugeLabel(e,f),i?(b.position="relative",b.width=d+"px",b.height=s&&s.height>n?s.height+"px":n+"px",b["background-color"]=g.BackgroundColor):(b.width=e.Width+"px",b.height=e.Height+"px",b["background-color"]=g.BackgroundColor),this._setTagStyle(f,b)},_renderGaugeLabel:function(e,t){var i;if(!(e.GaugePanel.RadialGauges&&e.GaugePanel.RadialGauges.length>0&&"None"!==e.GaugePanel.GaugeLabel[0].ParentItem)){var s=e.GaugePanel.GaugeLabel[0],a=this._buildTag("div",".e-gauge-label"),o={left:s.Left+"%",top:s.Top+"%","background-color":s.BackgroundColor,"border-color":s.Style.BorderColor,"border-width":s.Style.BorderWidth+"px","border-style":s.Style.Borderstyle,position:"absolute",height:s.Height+"%",width:s.Width+"%","font-size":s.Font.FontSize+"px","font-weight":this._getConvertedFontWeight(s.Font.FontWeight),"font-style":"Default"===s.Font.FontStyle||"Normal"===s.Font.FontStyle?"normal":"italic","font-family":s.Font.FontFamily,color:s.TextColor,"text-decoration":s.TextDecoration,"text-align":s.TextAlign,"z-index":1};this._setTagStyle(a,o),i=this._buildTag("span",".e-gauge-label-content"),$(i).text(s.Text),this._appendChild(a,i),this._updateGaugeLabelVerticalAlign(s.VerticalAlignment,$(a)),this._appendChild(t,a)}},_updateGaugeLabelVerticalAlign:function(e,t){switch(e){case"Default":t.css("display",""),t.children().css({"vertical-align":"",display:""});break;case"Top":t.css("display","table"),t.children().css({"vertical-align":"top",display:"table-cell"});break;case"Middle":t.css("display","table"),t.children().css({"vertical-align":"middle",display:"table-cell"});break;case"Bottom":t.css("display","table"),t.children().css({"vertical-align":"bottom",display:"table-cell"})}},_renderIndicator:function(e,t,i,s,a,o,r,l,n){for(var d,h,c,u,p,m,g="http://www.w3.org/2000/svg",_=0;_<e.length;_++){for(d=e[_],h=this._buildTag("div","e-reportviewer-tab-focus-none",d.ToolTip,{id:this._controlKeyGenerator(this._id+"_"+s+"_"+d.Name,r,l,n)},{tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Indicator")+d.Name}),l||this._dataVisualization.push({name:s,id:h.id,type:"GaugeModel",itemType:"Indicator"}),c={left:d.Left+"%",top:d.Top+"%",width:d.Width+"%",height:d.Height+"%",position:"inherit",border:"1px dashed transparent",overflow:"hidden","box-sizing":"border-box"},this._setTagStyle(h,c),u=document.createElementNS(g,"svg"),p="height:inherit; width:inherit; position:inherit; top:inherit; left:inherit;",t.BackgroundColor&&"White"!=t.BackgroundColor&&(p=p+" background-color: "+t.BackgroundColor+";"),u.setAttribute("class","e-indicator-item"),u.setAttributeNS(null,"style",p),u.setAttributeNS(null,"viewBox","0 0 32 32"),this._appendChild(h,u),m=0;m<d.IndicatorState.length;m++){var f=d.IndicatorState[m].IndicatorStyle,b=d.IndicatorState[m].StartValue.Value,v=d.IndicatorState[m].EndValue.Value,x=b;if(b>=v&&(b=v,v=x),d.IndicatorData.Value>=b&&d.IndicatorData.Value<=v){fillColor=d.IndicatorState[m].FillColor,u.setAttributeNS(null,"style",p+"transform: scale("+d.IndicatorState[m].ScaleFactor+");");var y=this._getIndicatorIconPaths(f),w=document.createElementNS(g,"g"),S=this;y.forEach((function(e){var t=document.createElementNS(g,e.tag);e.class&&(t.setAttribute("class",e.class),S._setTagStyle(t,{fill:"e-indicator-color"===e.class?fillColor:"transparent"})),S._setAttributes(t,null,e.attr),S._appendChild(w,t)})),this._appendChild(u,w);break}}this._appendChild(i,h)}},_getIndicatorIconPaths:function(e){var t=[];switch(e){case"Circle":case"ThreeSignsCircle":case"QuartersAllFilled":case"TrafficLightUnrimmed":t=[{tag:"circle",class:"e-indicator-color",attr:{cx:"16",cy:"16",r:"14.5"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M16,31A15,15,0,1,1,31,16,15,15,0,0,1,16,31ZM16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Z"}}];break;case"Flag":t=[{tag:"rect",class:"e-indicator-color",attr:{x:"6",y:"1",width:"10",height:"14"}},{tag:"path",class:"e-indicator-color",attr:{d:"M17,16H5V0H17ZM7,14h8V2H7Z"}},{tag:"rect",class:"e-indicator-color",attr:{x:"16",y:"5",width:"10",height:"14"}},{tag:"path",class:"e-indicator-color",attr:{d:"M27,20H15V4H27ZM17,18h8V6H17Z"}},{tag:"rect",class:"e-indicator-color",attr:{x:"5",width:"2",height:"32"}}];break;case"ArrowDown":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"25.58 14.32 18.06 21.7 18.06 2.28 14.06 2.28 14.06 21.7 6.42 14.19 3.52 17.04 16 29.32 28.48 17.16 25.58 14.32"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M16,30.72,2.09,17l4.33-4.25,6.64,6.53v-18h6v18l6.52-6.4,4.33,4.25ZM4.94,17,16,27.92,27.05,17.16l-1.47-1.44-8.52,8.37V3.28h-2V24.09l-8.64-8.5Z"}}];break;case"ArrowDownIncline":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"22.93 8.93 22.95 19.95 8.42 5.42 5.47 8.37 19.91 22.98 7.86 22.98 7.86 27 26.94 27 26.94 8.93 22.93 8.93"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M27.94,28H6.86V22H17.52L4.06,8.37,8.42,4,21.94,17.53l0-9.6h6ZM8.86,26H25.94V9.93h-2l0,12.44L8.42,6.83,6.88,8.37,22.31,24H8.86Z"}}];break;case"ArrowSide":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"14.39 6.01 21.99 13.56 2 13.55 2 17.6 21.99 17.72 13.7 25.99 16.46 28.74 29.59 15.66 17.16 3.26 14.39 6.01"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M16.47,30.15,12.29,26l7.29-7.28L1,18.6V12.55H19.56L13,6l4.18-4.17L31,15.66ZM15.12,26l1.35,1.34,11.7-11.67-11-11L15.81,6l8.61,8.55H3v2.06l21.39.13Z"}}];break;case"ArrowUp":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"6.42 17.68 13.94 10.3 13.94 29.72 17.94 29.72 17.94 10.3 25.58 17.81 28.48 14.96 16 2.68 3.52 14.84 6.42 17.68"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M18.94,30.72h-6v-18l-6.52,6.4L2.09,14.83,16,1.28,29.91,15l-4.33,4.25-6.64-6.53Zm-4-2h2V7.91l8.64,8.5L27.06,15,16,4.08,5,14.84l1.47,1.44,8.52-8.37Z"}}];break;case"ArrowUpIncline":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"22.93 23.07 22.95 12.05 8.42 26.59 5.47 23.63 19.91 9.02 7.86 9.02 7.86 5 26.94 5 26.94 23.07 22.93 23.07"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M8.42,28,4.06,23.63,17.52,10H6.86V4H27.94V24.07h-6l0-9.6ZM6.88,23.63l1.54,1.54L24,9.63l0,12.44h2V6H8.86V8H22.31Z"}}];break;case"LightArrowDown":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"16.11 31 3.99 19.44 5.37 18 16.1 28.23 26.61 18.05 28 19.48 16.11 31"}},{tag:"rect",class:"e-indicator-color",attr:{x:"15",y:"1",width:"2",height:"29"}}];break;case"LightArrowDownIncline":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"30 30 13 30 13 28 28 28 28 13 30 13 30 30"}},{tag:"rect",class:"e-indicator-color",attr:{x:"15.5",y:"-1.59",width:"2",height:"36.18",transform:"translate(-6.83 16.5) rotate(-44.99)"}}];break;case"LightArrowSide":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"18.38 28 17 26.55 28.1 16 17 5.45 18.38 4 31 16 18.38 28"}},{tag:"rect",class:"e-indicator-color",attr:{x:"1",y:"15",width:"29",height:"1.99"}}];break;case"LightArrowUp":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"26.62 14.01 15.9 3.77 5.39 13.96 4 12.52 15.89 1 28 12.56 26.62 14.01"}},{tag:"rect",class:"e-indicator-color",attr:{x:"15",y:"2",width:"2",height:"29"}}];break;case"LightArrowUpIncline":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"30 19 28 19 28 4 13 4 13 2 30 2 30 19"}},{tag:"rect",class:"e-indicator-color",attr:{x:"-1.59",y:"14.5",width:"36.18",height:"2",transform:"translate(-6.13 16.21) rotate(-45)"}}];break;case"ButtonStop":t=[{tag:"rect",class:"e-indicator-color",attr:{x:"4",y:"3.66",width:"24",height:"24"}}];break;case"ButtonPlay":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"4 -0.34 28 15.66 4 31.66 4 -0.34"}}];break;case"ButtonPause":t=[{tag:"rect",class:"e-indicator-color",attr:{x:"4",y:"1.66",width:"8",height:"28"}},{tag:"rect",class:"e-indicator-color",attr:{x:"20",y:"1.66",width:"8",height:"28"}}];break;case"FaceSmile":t=[{tag:"circle",class:"e-indicator-color",attr:{cx:"16",cy:"16",r:"15"}},{tag:"path",attr:{d:"M16,24a6.49,6.49,0,0,1-4.31-1.64A1,1,0,0,1,13,20.89a4.47,4.47,0,0,0,6.09-.12A1,1,0,1,1,20.5,22.2,6.43,6.43,0,0,1,16,24Z",fill:"#fff"}},{tag:"circle",attr:{cx:"11",cy:"12",r:"2",fill:"#fff"}},{tag:"circle",attr:{cx:"21",cy:"12",r:"2",fill:"#fff"}}];break;case"FaceNeutral":t=[{tag:"circle",class:"e-indicator-color",attr:{cx:"16",cy:"16",r:"15"}},{tag:"circle",attr:{cx:"11",cy:"12",r:"2",fill:"#fff"}},{tag:"circle",attr:{cx:"21",cy:"12",r:"2",fill:"#fff"}},{tag:"path",attr:{d:"M19.9,23.3h-7.5c-0.6,0-1-0.4-1-1s0.4-1,1-1h7.5c0.6,0,1,0.4,1,1S20.4,23.3,19.9,23.3z",fill:"#fff"}}];break;case"FaceFrown":t=[{tag:"circle",class:"e-indicator-color",attr:{cx:"16",cy:"16",r:"15"}},{tag:"path",attr:{d:"M12.36,24a1,1,0,0,1-.69-1.72,6.47,6.47,0,0,1,8.8-.18,1,1,0,0,1,.09,1.41,1,1,0,0,1-1.42.08,4.48,4.48,0,0,0-6.09.13A1,1,0,0,1,12.36,24Z",fill:"#fff"}},{tag:"circle",attr:{cx:"11",cy:"12",r:"2",fill:"#fff"}},{tag:"circle",attr:{cx:"21",cy:"12",r:"2",fill:"#fff"}}];break;case"BoxesAllFilled":t=[{tag:"path",attr:{d:"M31,31H1V1H31ZM3,29H29V3H3Z",fill:"transparent"}},{tag:"rect",attr:{x:"15",y:"3",fill:"transparent",width:"2",height:"27"}},{tag:"rect",attr:{x:"3",y:"15",fill:"transparent",width:"27",height:"2"}},{tag:"rect",class:"e-indicator-color",attr:{x:"3",y:"17",width:"12",height:"12"}},{tag:"rect",class:"e-indicator-color",attr:{x:"3",y:"3",width:"12",height:"12"}},{tag:"rect",class:"e-indicator-color",attr:{x:"17",y:"3",width:"12",height:"12"}},{tag:"rect",class:"e-indicator-color",attr:{x:"17",y:"17",width:"12",height:"12"}}];break;case"BoxesNoneFilled":t=[{tag:"path",attr:{d:"M31,31H1V1H31ZM3,29H29V3H3Z",fill:"transparent"}},{tag:"rect",attr:{x:"15",y:"3",fill:"transparent",width:"2",height:"27"}},{tag:"rect",attr:{x:"3",y:"15",fill:"transparent",width:"27",height:"2"}},{tag:"rect",attr:{x:"3",y:"17",fill:"lightgrey",width:"12",height:"12"}},{tag:"rect",attr:{x:"3",y:"3",fill:"lightgrey",width:"12",height:"12"}},{tag:"rect",attr:{x:"17",y:"3",fill:"lightgrey",width:"12",height:"12"}},{tag:"rect",attr:{x:"17",y:"17",fill:"lightgrey",width:"12",height:"12"}}];break;case"BoxesOneFilled":t=[{tag:"path",attr:{d:"M31,31H1V1H31ZM3,29H29V3H3Z",fill:"transparent"}},{tag:"rect",attr:{x:"15",y:"3",fill:"transparent",width:"2",height:"27"}},{tag:"rect",attr:{x:"3",y:"15",fill:"transparent",width:"27",height:"2"}},{tag:"rect",class:"e-indicator-color",attr:{x:"3",y:"17",width:"12",height:"12"}},{tag:"rect",attr:{x:"3",y:"3",fill:"lightgrey",width:"12",height:"12"}},{tag:"rect",attr:{x:"17",y:"3",fill:"lightgrey",width:"12",height:"12"}},{tag:"rect",attr:{x:"17",y:"17",fill:"lightgrey",width:"12",height:"12"}}];break;case"BoxesTwoFilled":t=[{tag:"path",attr:{d:"M31,31H1V1H31ZM3,29H29V3H3Z",fill:"transparent"}},{tag:"rect",attr:{x:"15",y:"3",fill:"transparent",width:"2",height:"27"}},{tag:"rect",attr:{x:"3",y:"15",fill:"transparent",width:"27",height:"2"}},{tag:"rect",class:"e-indicator-color",attr:{x:"3",y:"17",width:"12",height:"12"}},{tag:"rect",attr:{x:"3",y:"3",fill:"lightgrey",width:"12",height:"12"}},{tag:"rect",attr:{x:"17",y:"3",fill:"lightgrey",width:"12",height:"12"}},{tag:"rect",class:"e-indicator-color",attr:{x:"17",y:"17",width:"12",height:"12"}}];break;case"BoxesThreeFilled":t=[{tag:"path",attr:{d:"M31,31H1V1H31ZM3,29H29V3H3Z",fill:"transparent"}},{tag:"rect",attr:{x:"15",y:"3",fill:"transparent",width:"2",height:"27"}},{tag:"rect",attr:{x:"3",y:"15",fill:"transparent",width:"27",height:"2"}},{tag:"rect",class:"e-indicator-color",attr:{x:"3",y:"17",width:"12",height:"12"}},{tag:"rect",class:"e-indicator-color",attr:{x:"3",y:"3",width:"12",height:"12"}},{tag:"rect",attr:{x:"17",y:"3",fill:"lightgrey",width:"12",height:"12"}},{tag:"rect",class:"e-indicator-color",attr:{x:"17",y:"17",width:"12",height:"12"}}];break;case"QuartersNoneFilled":t=[{tag:"circle",attr:{cx:"16",cy:"16",r:"14",fill:"transparent"}},{tag:"path",class:"e-indicator-color",attr:{d:"M16,3A13,13,0,1,1,3,16,13,13,0,0,1,16,3m0-2A15,15,0,1,0,31,16,15,15,0,0,0,16,1Z"}},{tag:"circle",attr:{cx:"16",cy:"16",r:"13",fill:"transparent"}}];break;case"QuartersOneFilled":t=[{tag:"path",class:"e-indicator-color",attr:{d:"M29,16A13,13,0,0,0,16,3V16Z"}},{tag:"path",class:"e-indicator-color",attr:{d:"M16,3A13,13,0,1,1,3,16,13,13,0,0,1,16,3m0-2A15,15,0,1,0,31,16,15,15,0,0,0,16,1Z"}}];break;case"QuartersTwoFilled":t=[{tag:"path",class:"e-indicator-color",attr:{d:"M16,1V31A15,15,0,0,0,16,1Z"}},{tag:"path",class:"e-indicator-color",attr:{d:"M16,3A13,13,0,1,1,3,16,13,13,0,0,1,16,3m0-2A15,15,0,1,0,31,16,15,15,0,0,0,16,1Z"}}];break;case"QuartersThreeFilled":t=[{tag:"path",class:"e-indicator-color",attr:{d:"M16,1V16H1A15,15,0,1,0,16,1Z"}},{tag:"path",class:"e-indicator-color",attr:{d:"M16,3A13,13,0,1,1,3,16,13,13,0,0,1,16,3m0-2A15,15,0,1,0,31,16,15,15,0,0,0,16,1Z"}}];break;case"SignalMeterFourFilled":t=[{tag:"rect",class:"e-indicator-color",attr:{x:"23",y:"2",width:"4",height:"28"}},{tag:"path",attr:{d:"M29,32H21V0h8Zm-6-2h4V2H23Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"17",y:"8",width:"4",height:"22"}},{tag:"path",attr:{d:"M23,32H15V6h8Zm-6-2h4V8H17Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"11",y:"15",width:"4",height:"15"}},{tag:"path",attr:{d:"M17,32H9V13h8Zm-6-2h4V15H11Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"5",y:"21",width:"4",height:"9"}},{tag:"path",attr:{d:"M11,32H3V19h8ZM5,30H9V21H5Z",fill:"transparent"}}];break;case"SignalMeterNoneFilled":t=[{tag:"rect",attr:{x:"23",y:"2",fill:"lightgrey",width:"4",height:"28"}},{tag:"path",attr:{d:"M29,32H21V0h8Zm-6-2h4V2H23Z",fill:"transparent"}},{tag:"rect",attr:{x:"17",y:"8",fill:"lightgrey",width:"4",height:"22"}},{tag:"path",attr:{d:"M23,32H15V6h8Zm-6-2h4V8H17Z",fill:"transparent"}},{tag:"rect",attr:{x:"11",y:"15",fill:"lightgrey",width:"4",height:"15"}},{tag:"path",attr:{d:"M17,32H9V13h8Zm-6-2h4V15H11Z",fill:"transparent"}},{tag:"rect",attr:{x:"5",y:"21",fill:"lightgrey",width:"4",height:"9"}},{tag:"path",attr:{d:"M11,32H3V19h8ZM5,30H9V21H5Z",fill:"transparent"}}];break;case"SignalMeterOneFilled":t=[{tag:"rect",attr:{x:"23",y:"2",fill:"lightgrey",width:"4",height:"28"}},{tag:"path",attr:{d:"M29,32H21V0h8Zm-6-2h4V2H23Z",fill:"transparent"}},{tag:"rect",attr:{x:"17",y:"8",fill:"lightgrey",width:"4",height:"22"}},{tag:"path",attr:{d:"M23,32H15V6h8Zm-6-2h4V8H17Z",fill:"transparent"}},{tag:"rect",attr:{x:"11",y:"15",fill:"lightgrey",width:"4",height:"15"}},{tag:"path",attr:{d:"M17,32H9V13h8Zm-6-2h4V15H11Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"5",y:"21",width:"4",height:"9"}},{tag:"path",attr:{d:"M11,32H3V19h8ZM5,30H9V21H5Z",fill:"transparent"}}];break;case"SignalMeterThreeFilled":t=[{tag:"rect",attr:{x:"23",y:"2",fill:"lightgrey",width:"4",height:"28"}},{tag:"path",attr:{d:"M29,32H21V0h8Zm-6-2h4V2H23Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"17",y:"8",width:"4",height:"22"}},{tag:"path",attr:{d:"M23,32H15V6h8Zm-6-2h4V8H17Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"11",y:"15",width:"4",height:"15"}},{tag:"path",attr:{d:"M17,32H9V13h8Zm-6-2h4V15H11Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"5",y:"21",width:"4",height:"9"}},{tag:"path",attr:{d:"M11,32H3V19h8ZM5,30H9V21H5Z",fill:"transparent"}}];break;case"SignalMeterTwoFilled":t=[{tag:"rect",attr:{x:"23",y:"2",fill:"lightgrey",width:"4",height:"28"}},{tag:"path",attr:{d:"M29,32H21V0h8Zm-6-2h4V2H23Z",fill:"transparent"}},{tag:"rect",attr:{x:"17",y:"8",fill:"lightgrey",width:"4",height:"22"}},{tag:"path",attr:{d:"M23,32H15V6h8Zm-6-2h4V8H17Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"11",y:"15",width:"4",height:"15"}},{tag:"path",attr:{d:"M17,32H9V13h8Zm-6-2h4V15H11Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"5",y:"21",width:"4",height:"9"}},{tag:"path",attr:{d:"M11,32H3V19h8ZM5,30H9V21H5Z",fill:"transparent"}}];break;case"StarQuartersAllFilled":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"26 29.2 16.43 23.04 6.87 29.2 11.22 18.64 3.4 10.71 12.96 10.71 16.43 2.79 19.04 10.71 28.6 10.71 20.78 18.64 26 29.2"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"16.29 24.2 16.29 21.84 9.01 26.5 12.39 18.32 5.79 11.66 13.37 11.66 16.05 5.74 16.05 0 12.06 9.67 1 9.67 10.04 18.78 4.73 31.61 16.29 24.2"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"31 9.82 19.52 9.82 16.05 0 16.05 0.15 16.05 5.74 17.19 9.17 17.19 9.14 18.08 11.81 26.21 11.81 19.57 18.51 23.5 26.43 17.43 22.54 17.43 22.54 16.29 21.78 16.29 24.17 28.5 32 21.99 18.9 31 9.82"}}];break;case"StarQuartersNoneFilled":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"16.29 24.2 16.29 21.84 9.01 26.5 12.39 18.32 5.79 11.66 13.37 11.66 16.05 5.74 16.05 0 12.06 9.67 1 9.67 10.04 18.78 4.73 31.61 16.29 24.2"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"31 9.82 19.52 9.82 16.05 0 16.05 0.15 16.05 5.74 17.19 9.17 17.19 9.14 18.08 11.81 26.21 11.81 19.57 18.51 23.5 26.43 17.43 22.54 17.43 22.54 16.29 21.78 16.29 24.17 28.5 32 21.99 18.9 31 9.82"}}];break;case"StarQuartersOneFilled":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"13.4,25.1 6.9,29.1 11.2,18.5 3.4,10.7 13.4,10.7"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"16.3,24.2 16.3,21.8 9,26.5 12.4,18.3 5.8,11.7 13.4,11.7 16,5.7 16,0 12.1,9.7 1,9.7 10,18.8   4.7,31.6"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"13.4,26.1 13.4,23.7 9,26.5 12.4,18.3 5.8,11.7 13.4,11.7 13.4,6.5 12.1,9.7 1,9.7 10,18.8 4.7,31.6"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"31,9.8 19.5,9.8 16,0 16,0.2 16,5.7 17.2,9.2 17.2,9.1 18.1,11.8 26.2,11.8 19.6,18.5 23.5,26.4   17.4,22.5 17.4,22.5 16.3,21.8 16.3,24.2 28.5,32 22,18.9"}}];break;case"StarQuartersTwoFilled":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"16.43 22.93 6.87 29.06 11.22 18.55 3.39 10.66 12.71 10.66 16.05 2.78"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"16.29 24.2 16.29 21.84 9.01 26.5 12.39 18.32 5.79 11.66 13.37 11.66 16.05 5.74 16.05 0 12.06 9.67 1 9.67 10.04 18.78 4.73 31.61 16.29 24.2"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"31 9.82 19.52 9.82 16.05 0 16.05 0.15 16.05 5.74 17.19 9.17 17.19 9.14 18.08 11.81 26.21 11.81 19.57 18.51 23.5 26.43 17.43 22.54 17.43 22.54 16.29 21.78 16.29 24.17 28.5 32 21.99 18.9 31 9.82"}}];break;case"StarQuartersThreeFilled":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"16.4,22.9 6.9,29.1 11.2,18.5 3.4,10.7 12.7,10.7 16,2.8 18.1,10 18.1,24.3"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"16.3,24.2 16.3,21.8 9,26.5 12.4,18.3 5.8,11.7 13.4,11.7 16,5.7 16,0 12.1,9.7 1,9.7 10,18.8   4.7,31.6"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"31,9.8 19.5,9.8 16,0 16,0.2 16,5.7 17.2,9.1 18.1,11.8 26.2,11.8 19.6,18.5 23.5,26.4 17.4,22.5   17.4,22.5 16.3,21.8 16.3,24.2 28.5,32 22,18.9"}}];break;case"ThreeSignsDiamond":t=[{tag:"rect",class:"e-indicator-color",attr:{x:"6.26",y:"6.26",width:"19.49",height:"19.49",transform:"translate(16, -6.73) rotate(45)"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M16,31.19.81,16,16,.81,31.19,16ZM3.64,16,16,28.36,28.36,16,16,3.64Z"}}];break;case"ThreeSignsTriangle":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"16 2.24 1.62 31 30.38 31 16 2.24"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M32,32H0L16,0ZM3.24,30H28.76L16,4.47Z"}}];break;case"ThreeSymbolCheck":t=[{tag:"circle",class:"e-indicator-color",attr:{cx:"16",cy:"16",r:"14.5"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M16,31.5A15.5,15.5,0,1,1,31.5,16,15.51,15.51,0,0,1,16,31.5Zm0-29A13.5,13.5,0,1,0,29.5,16,13.52,13.52,0,0,0,16,2.5Z"}},{tag:"polygon",attr:{points:"4.01 16.74 6.99 13.76 12.49 19.26 23.99 7.76 26.99 10.76 12.51 25.24 4.01 16.74",fill:"#fff"}},{tag:"path",class:"e-indicator-color",attr:{d:"M12.51,26.66,2.59,16.74,7,12.34l5.5,5.5L24,6.34l4.42,4.42ZM5.42,16.74l7.09,7.09L25.58,10.76,24,9.17l-11.5,11.5L7,15.17Z"}}];break;case"ThreeSymbolCross":t=[{tag:"circle",class:"e-indicator-color",attr:{cx:"16",cy:"16",r:"14"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M16,31A15,15,0,1,1,31,16,15,15,0,0,1,16,31ZM16,3A13,13,0,1,0,29,16,13,13,0,0,0,16,3Z"}},{tag:"polygon",attr:{points:"26.58 9.79 22.21 5.41 16 11.62 9.79 5.41 5.42 9.79 11.62 16 5.42 22.21 9.79 26.59 16 20.38 22.21 26.59 26.58 22.21 20.38 16 26.58 9.79",fill:"#fff"}},{tag:"path",class:"e-indicator-color",attr:{d:"M22.21,28,16,21.79,9.79,28,4,22.21,10.21,16,4,9.79,9.79,4,16,10.21,22.21,4,28,9.79,21.79,16,28,22.21ZM16,19l6.21,6.21,3-3L19,16l6.21-6.21-3-3L16,13,9.79,6.83l-3,3L13,16,6.83,22.21l3,3Z"}}];break;case"ThreeSymbolExclamation":t=[{tag:"circle",class:"e-indicator-color",attr:{cx:"16",cy:"16",r:"14"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M16,31A15,15,0,1,1,31,16,15,15,0,0,1,16,31ZM16,3A13,13,0,1,0,29,16,13,13,0,0,0,16,3Z"}},{tag:"rect",attr:{x:"13",y:"3.92",fill:"#fff",width:"6",height:"15.83"}},{tag:"path",class:"e-indicator-color",attr:{d:"M20,20.75H12V2.92h8Zm-6-2h4V4.92H14Z"}},{tag:"ellipse",attr:{cx:"16",cy:"24.75",rx:"4.17",ry:"3.33",fill:"#fff"}},{tag:"path",class:"e-indicator-color",attr:{d:"M16,29.08c-2.85,0-5.17-1.94-5.17-4.33s2.32-4.33,5.17-4.33,5.17,1.94,5.17,4.33S18.85,29.08,16,29.08Zm0-6.66c-1.72,0-3.17,1.07-3.17,2.33s1.45,2.33,3.17,2.33,3.17-1.07,3.17-2.33S17.72,22.42,16,22.42Z"}}];break;case"ThreeSymbolUnCircledCheck":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"1.01 18.24 3.99 15.26 10.49 21.76 27.99 4.26 30.99 7.26 10.51 27.74 1.01 18.24"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M10.51,29.16-.41,18.24,4,13.84l6.5,6.5L28,2.84l4.42,4.42ZM2.42,18.24l8.09,8.09L29.58,7.26,28,5.67l-17.5,17.5L4,16.67Z"}}];break;case"ThreeSymbolUnCircledCross":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"29.59 5.81 26.19 2.41 16 12.6 5.81 2.41 2.41 5.81 12.6 16 2.41 26.19 5.81 29.59 16 19.4 26.19 29.59 29.59 26.19 19.4 16 29.59 5.81"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M26.19,31,16,20.81,5.81,31,1,26.19,11.19,16,1,5.81,5.81,1,16,11.19,26.19,1,31,5.81,20.81,16,31,26.19ZM16,18l10.19,10.2,2-2L18,16,28.17,5.81l-2-2L16,14,5.81,3.82l-2,2L14,16,3.83,26.19l2,2Z"}}];break;case"ThreeSymbolUnCircledExclamation":t=[{tag:"rect",class:"e-indicator-color",attr:{x:"13",y:"2",width:"6",height:"19"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M20,22H12V1h8Zm-6-2h4V3H14Z"}},{tag:"rect",class:"e-indicator-color",attr:{x:"13",y:"25",width:"6",height:"6"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M20,32H12V24h8Zm-6-2h4V26H14Z"}}];break;case"TrafficLight":t=[{tag:"rect",attr:{x:"2",y:"2",fill:"black",width:"28",height:"28"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M31,31H1V1H31ZM3,29H29V3H3Z"}},{tag:"circle",class:"e-indicator-color",attr:{cx:"16",cy:"16",r:"11"}},{tag:"path",attr:{d:"M16,28A12,12,0,1,1,28,16,12,12,0,0,1,16,28ZM16,6A10,10,0,1,0,26,16,10,10,0,0,0,16,6Z",fill:"black"}}];break;case"TriangleDash":t=[{tag:"rect",class:"e-indicator-color",attr:{x:"2",y:"12",width:"28",height:"8"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M31,21H1V11H31ZM3,19H29V13H3Z"}}];break;case"TriangleDown":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"16 24.34 3 7 29 7 16 24.34"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M16,26,1,6H31ZM5,8,16,22.67,27,8Z"}}];break;case"TriangleUp":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"16 7.67 29 25 3 25 16 7.67"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M31,26H1L16,6ZM5,24H27L16,9.33Z"}}];break;case"None":t=[]}return t},_renderRadialGauge:function(e,t,i,s,a,o,r,l,n){var d,h=e.GaugePanel.RadialGauges[0],c={scale:h.ScaleProperties[0],pointer:h.ScaleProperties[0].RadialPointer?h.ScaleProperties[0].RadialPointer[0]:undefined,range:h.ScaleProperties[0].Range?h.ScaleProperties[0].Range[0]:undefined},u=this._buildTag("div","e-reportviewer-tab-focus-none",h.ToolTip,{id:this._controlKeyGenerator(this._id+"_"+i+"_"+h.Name,r,l,n)},{tabindex:"0","aria-label":h.Name});l||this._dataVisualization.push({name:i,id:u.id,type:"GaugeModel",itemType:"Radial"}),d={position:"relative",left:h.Left+"%",top:h.Top+"%",width:h.Width+"%",height:h.Height+"%",border:"1px dashed transparent",overflow:"hidden","box-sizing":"border-box"},this._setTagStyle(u,d),this._appendChild(t,u);var p=c.pointer&&c.pointer.Value>c.scale.Maximum?this._getGaugeMaxValue(c.pointer.Value):c.scale.Maximum,m=c.pointer&&c.pointer.Value>c.scale.Maximum?this._getGaugeMaxValue(c.pointer.Value):c.scale.ScaleInterval,g=new ejs.circulargauge.CircularGauge({background:"transparent",height:"302px",width:"302px",loaded:function(t){var i=$(t.gauge.element.querySelector("svg"));i[0].setAttributeNS(null,"viewBox","0 0 300 300"),i.css({height:"100%",width:"100%",position:"absolute",top:h.PivotY-50+"%",left:h.PivotX-50+"%"}),e.GaugePanel.GaugeLabel&&e.GaugePanel.GaugeLabel.length>0&&"None"!==e.GaugePanel.GaugeLabel[0].ParentItem&&this._renderGaugeItemLabel(e,c,i)}.bind(this),axes:[{minimum:c.scale.Minimum,maximum:p,startAngle:180+c.scale.StartAngle,endAngle:180+c.scale.StartAngle+c.scale.SweepAngle,direction:c.scale.Reversed?"AntiClockWise":"ClockWise",showLastLabel:c.scale.Label.ShowEndLabels,labelStyle:{autoAngle:c.scale.Label.RotateLabels,font:{size:c.scale.Label.Hidden?"0":c.scale.Label.FontSize+"px",fontFamily:c.scale.Label.FontFamily,color:c.scale.Label.Color,fontStyle:"Default"===c.scale.Label.FontStyle||"Normal"===c.scale.Label.FontStyle?"normal":"italic",fontWeight:this._getConvertedFontWeight(c.scale.Label.FontWeight)},position:c.scale.Label.LabelPlacement,offset:c.scale.Label.RotateLabels?7:3},lineStyle:{width:c.scale.ScaleWidth,color:c.scale.BackgroundColor},majorTicks:{interval:"null"===c.scale.TickMark.MajorTickInterval?"null"===c.scale.ScaleInterval?null:parseFloat(m):parseFloat(c.scale.TickMark.MajorTickInterval),height:c.scale.TickMark.MajorTickHide?0:c.scale.TickMark.MajorTickLength,width:c.scale.TickMark.MajorTickWidth,position:c.scale.TickMark.MajorTickPlacement,color:c.scale.TickMark.MajorTickColor},minorTicks:{interval:"null"===c.scale.TickMark.MinorTickInterval?null:parseFloat(c.scale.TickMark.MinorTickInterval),height:c.scale.TickMark.MinorTickHide?0:c.scale.TickMark.MinorTickLength,width:c.scale.TickMark.MinorTickWidth,position:c.scale.TickMark.MinorTickPlacement,color:c.scale.TickMark.MinorTickColor},pointers:this._updateRadialPointers(["Circle","Rectangle","Triangle","Diamond"],h.ScaleProperties[0].RadialPointer),ranges:this._updateRadialRanges(h.ScaleProperties[0].Range)}]});g.appendTo(u)},_updateRadialPointers:function(e,t){var i,s,a=[];if(null!=t&&t.length>0)for(i=0;i<t.length;i++)s=this._getRadialPointerSize(t[i]),a.push({value:t[i].Value,color:t[i].BackgroundColor,position:t[i].Placement,cap:{radius:t[i].CapHidden?0:t[i].CapRadius/2,color:t[i].CapBackGroundColor},type:"Bar"===t[i].Type?"RangeBar":t[i].Type,markerWidth:s.width,pointerWidth:s.width,markerHeight:s.height,markerShape:-1===e.indexOf(t[i].MarkerStyle)?"Triangle":t[i].MarkerStyle,animation:{enable:!1}});return a},_updateRadialRanges:function(e){var t,i=[];if(null!=e&&e.length>0)for(t=0;t<e.length;t++)i.push({start:e[t].StartValue,end:e[t].EndValue,startWidth:e[t].StartWidth,endWidth:e[t].EndWidth,color:e[t].BackgroundColor,position:e[t].RangePlacement,linearGradient:{startValue:"0%",endValue:"100%",colorStop:[{color:e[t].BackgroundColor,offset:"0%",opacity:.9},{color:e[t].BackgroundGradientEndcolor,offset:"70%",opacity:.9}]}});return i},_getGaugeMaxValue:function(e){var t,i,s,a,o,r,l,n=e/10,d=e/100,h=d>=1?d:n>=1?n:e,c=null;h<1&&(i=100*h,(t=10*h)>=1?c=!0:i>=1&&(c=!1),h=t<1?i<1?h:i:t);var u=h/20+h,p=0;if(h>=4&&h<=8)p=Math.ceil(u);else for(s=Math.ceil(10*u),(a=[]).push(8*Math.ceil(s/8)/10),a.push(7*Math.ceil(s/7)/10),a.push(6*Math.ceil(s/6)/10),a.push(Math.ceil(s/5)/2),o=0;o<a.length&&(r=0===o?a[o]:p,l=a[o+1],p=Math.abs(r-h)<Math.abs(l-h)?r:l,2!==o);o++);return!0===c||!1===c?!0===c?p/10:p/100:p*(d>=1?100:n>=1?10:1)},_getRadialGaugeType:function(e,t){var i=t.scale.StartAngle.toString(),s=t.scale.SweepAngle.toString(),a=e.GaugePanel.RadialGauges[0].PivotY.toString();return"20"===i&&"320"===s&&"50"===a?"Radial":"90"===i&&"180"===s&&"68"===a?"HalfCircle":"Auto"},_updateGaugeLabelSize:function(e,t,i){var s=this._getRadialGaugeType(e,t),a=t.pointer?t.pointer.Type:"",o="HalfCircle"===s&&"Needle"===a?"65":"Radial"===s&&"Needle"===a?"95":"50";i.attr({x:"50%",y:o+"%"})},_getRadialPointerSize:function(e){var t={},i="Marker"===e.Type&&-1!==["Circle","Rectangle","Triangle","Diamond"].indexOf(e.MarkerStyle)&&"Triangle"!==e.MarkerStyle;return t.width=i?e.MarkerLength:e.Width,t.height=i?e.Width:e.MarkerLength,t},_renderGaugeItemLabel:function(e,t,i){var s,a=e.GaugePanel.GaugeLabel[0],o="http://www.w3.org/2000/svg",r=$(document.createElementNS(o,"g"));r[0].setAttribute("class","e-anotation"),s=$(document.createElementNS(o,"text")),r.append(s),i[0].appendChild(r[0]),s.attr({fill:a.TextColor,"font-size":a.Font.FontSize+"px","font-family":a.Font.FontFamily,"font-style":"Default"===a.Font.FontStyle||"Normal"===a.Font.FontStyle?"normal":"italic","font-weight":this._getConvertedFontWeight(a.Font.FontWeight),"text-decoration":a.TextDecoration,"text-anchor":"middle","dominant-baseline":"middle"}),s.text(a.Text),this._updateGaugeLabelSize(e,t,s)},_renderLinearGauge:function(e,t,i,s,a,o,r,l,n){var d,h=e.GaugePanel.LinearGauges[0],c={scale:h.ScaleProperties[0],pointer:h.ScaleProperties[0].LinearPointer?h.ScaleProperties[0].LinearPointer[0]:undefined,range:h.ScaleProperties[0].Range?h.ScaleProperties[0].Range[0]:undefined},u=this._getLinearGaugeOrientationInfo(h.Orientation,e.Height,e.Width),p=this._buildTag("div","e-reportviewer-tab-focus-none",h.ToolTip,{id:this._controlKeyGenerator(this._id+"_"+i+"_"+h.Name,r,l,n)},{tabindex:"0","aria-label":h.Name});l||this._dataVisualization.push({name:i,id:p.id,type:"GaugeModel",itemType:"Linear"}),d={position:"inherit",left:h.Left+"%",top:h.Top+"%",width:h.Width+"%",height:h.Height+"%",border:"1px dashed transparent",overflow:"hidden","box-sizing":"border-box"},this._setTagStyle(p,d),this._appendChild(t,p);var m=c.pointer&&c.pointer.Value>c.scale.Maximum?this._getGaugeMaxValue(c.pointer.Value):c.scale.Maximum,g=c.pointer&&c.pointer.Value>c.scale.Maximum?this._getGaugeMaxValue(c.pointer.Value):c.scale.ScaleInterval;new ejs.lineargauge.LinearGauge({orientation:u.orientation,background:e.GaugePanel.BackgroundColor,width:u.width+"px",height:u.height+"px",axes:[{minimum:c.scale.Minimum,maximum:m,isInversed:c.scale.Reversed,showLastLabel:c.scale.Label.ShowEndLabels,labelStyle:{font:{size:c.scale.Label.Hidden?"0":c.scale.Label.FontSize+"px",fontFamily:c.scale.Label.FontFamily,color:c.scale.Label.Color,fontStyle:"Default"===c.scale.Label.FontStyle||"Normal"===c.scale.Label.FontStyle?"normal":"italic",fontWeight:this._getConvertedFontWeight(c.scale.Label.FontWeight)},position:c.scale.Label.LabelPlacement},line:{width:c.scale.ScaleWidth,color:c.scale.BackgroundColor},majorTicks:{interval:"null"===c.scale.TickMark.MajorTickInterval?"null"===c.scale.ScaleInterval?null:parseFloat(g):parseFloat(c.scale.TickMark.MajorTickInterval),height:c.scale.TickMark.MajorTickHide?0:c.scale.TickMark.MajorTickLength,width:c.scale.TickMark.MajorTickWidth,position:c.scale.TickMark.MajorTickPlacement,color:c.scale.TickMark.MajorTickColor},minorTicks:{interval:"null"===c.scale.TickMark.MinorTickInterval?null:parseFloat(c.scale.TickMark.MinorTickInterval),height:c.scale.TickMark.MinorTickHide?0:c.scale.TickMark.MinorTickLength,width:c.scale.TickMark.MinorTickWidth,position:c.scale.TickMark.MinorTickPlacement,color:c.scale.TickMark.MinorTickColor},pointers:this._updateLinearPointers(["Circle","Rectangle","Triangle","Diamond"],["Bar","Marker"],u,h.ScaleProperties[0].LinearPointer),ranges:this._updateLinearRanges(h.ScaleProperties[0].Range)}]}).appendTo(p)},_updateLinearPointers:function(e,t,i,s){var a,o=[];if(null!=s&&s.length>0)for(a=0;a<s.length;a++)o.push({color:s[a].BackgroundColor,position:s[a].Placement,type:-1===t.indexOf(s[a].Type)?"Marker":s[a].Type,value:s[a].Value,width:this._updateLinearPointerSize(s[a],i.orientation).width,height:this._updateLinearPointerSize(s[a],i.orientation).height,markerType:-1===e.indexOf(s[a].MarkerStyle)?"Triangle":s[a].MarkerStyle,animation:{enable:!1}});return o},_updateLinearRanges:function(e){var t,i=[];if(null!=e&&e.length>0)for(t=0;t<e.length;t++)i.push({start:e[t].StartValue,end:e[t].EndValue,startWidth:e[t].StartWidth,endWidth:e[t].EndWidth,color:e[t].BackgroundColor,position:"Inside"==e[t].RangePlacement?"Outside":"Outside"==e[t].RangePlacement?"Inside":"Cross",linearGradient:{startValue:"0%",endValue:"100%",colorStop:[{color:e[t].BackgroundColor,offset:"0%",opacity:1},{color:e[t].BackgroundGradientEndcolor,offset:"100%",opacity:1}]}});return i},_getLinearGaugeOrientationInfo:function(e,t,i){var s={};return s.orientation="Auto"===e?t<i?"Horizontal":"Vertical":e,s.height=t,s.width=i,s},_updateLinearPointerSize:function(e,t){var i,s;switch(t){case"Horizontal":s="Marker"===e.Type?e.Width:e.MarkerLength,i="Marker"===e.Type?e.MarkerLength:e.Width;break;case"Vertical":s="Marker"===e.Type?e.MarkerLength:e.Width,i="Marker"===e.Type?e.Width:e.MarkerLength}return{width:s,height:i}},_renderLineControl:function(e,t,i,s){var a,o,r,l,n,d="http://www.w3.org/2000/svg",h=this._controlKeyGenerator(this._id+"_"+(null!=e.ItemName?e.ItemName:e.Name),t,i,s),c=this._buildTag("div","e-reportviewer-tab-focus-none",null,{id:h},{tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Line")+e.Name}),u={position:"absolute","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"};return u.top=e.Top+"px",u.left=e.Left+"px",u.width=0==e.Width?"11.00064px":e.Width+"px",u.height=0==e.Height?"16.00128px":e.Height+"px",u.visibility=e.Hidden?"hidden":"visible",this._setTagStyle(c,u),this._svg?((a=document.createElementNS(d,"svg")).setAttributeNS(null,"width",0==e.Width?"11.00064":e.Width+e.LineWidth),a.setAttributeNS(null,"height",0==e.Height?"16.00128":e.Height+e.LineWidth),(o={})["vertical-align"]="top",this._setTagStyle(a,o),(r=document.createElementNS(d,"line")).setAttributeNS(null,"x1",0==e.X1?e.LineWidth:e.X1),r.setAttributeNS(null,"y1",0==e.Y1?e.LineWidth:e.Y1),r.setAttributeNS(null,"x2",0==e.X2?e.LineWidth:e.X2),r.setAttributeNS(null,"y2",0==e.Y2?e.LineWidth:e.Y2),r.setAttributeNS(null,"stroke",e.LineColor),r.setAttributeNS(null,"stroke-width",e.LineWidth),r.setAttributeNS(null,"shape-rendering","crispEdges"),"Dashed"==e.LineStyle?r.setAttributeNS(null,"stroke-dasharray",2*e.LineWidth+","+2*e.LineWidth):"Dotted"==e.LineStyle&&r.setAttributeNS(null,"stroke-dasharray",e.LineWidth),this._appendChild(a,r),this._appendChild(c,a)):(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:fill, v\\:path, v\\:polyline, v\\:line, v\\:rect,v\\:shape,v\\:oval, v\\:stroke{ behavior:url(#default#VML); display: inline-block; } ",l=document.createElement("<v:line id='line' from='"+e.X1+","+e.Y1+"' to='"+e.X2+","+e.Y2+"' strokecolor='"+e.LineColor+"' strokeweight='"+e.LineWidth+"pt'><v:stroke dashstyle='dot'></v:stroke></v:line>"),n=document.createElement("v:stroke"),"Dotted"==e.LineStyle?n.setAttribute("dashstyle","dot"):"Dashed"==e.LineStyle?n.setAttribute("dashstyle","dash"):n.setAttribute("dashstyle","solid"),n.outerHTML=n.outerHTML,this._appendChild(l,n),l.style.position="absolute",l.style.width=e.Width,l.style.height=e.Height,l.style.visibility="visible",this._appendChild(c,l)),c},_renderSubReportControl:function(e,t,i,s,a,o,r){var l,n,d,h,c=this._controlKeyGenerator(this._id+"_"+(null!=e.ItemName?e.ItemName:e.Name),s,a,o),u=this._buildTag("div","e-reportviewer-tab-focus-none",e.ToolTip,{id:c},{tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Subreport")+e.Name}),p={"-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"};if(this._appendChild(i,u),p.position=t?"relative":"absolute",p.top=e.Top+"px",p.left=e.Left+"px",p.width=e.Width+"px",p.height=e.Height+"px",p["background-color"]=e.BackgroundColor,p.visibility=e.Hidden?"hidden":"visible",l=a?"PrintImage":"GetResource",e.BackgroundImageSrc&&(p["background-image"]=this._getImageDataURL(e.EmbedImageData,a,l,e.BackgroundImageSrc)),e.Padding&&(e.Padding.Left&&(p["padding-left"]=e.Padding.Left+"px"),e.Padding.Right&&(p["padding-right"]=e.Padding.Right+"px"),e.Padding.Top&&(p["padding-top"]=e.Padding.Top+"px"),e.Padding.Bottom&&(p["padding-bottom"]=e.Padding.Bottom+"px")),e.Style&&(e.Style.Font&&(e.Style.Font.FontFamily&&(p["font-family"]="'"+e.Style.Font.FontFamily+"'"),e.Style.Font.FontSize&&(p["font-size"]=e.Style.Font.FontSize+"px"),e.Style.Font.FontStyle&&(p["font-style"]=e.Style.Font.FontStyle),e.Style.Font.FontWeight&&(p["font-weight"]=this._getConvertedFontWeight(e.Style.Font.FontWeight))),p.color=e.Style.TextColor?e.Style.TextColor:"black",e.Style.TextDecoration&&(p["text-decoration"]=e.Style.TextDecoration)),e.TextAlign&&(p["text-align"]=e.TextAlign),e.VerticalAlign&&(p["vertical-align"]=e.VerticalAlign),e.Border&&!t&&this._applyBorderStyle(e.Border,u),this._setTagStyle(u,p),e.ReportItemModels&&e.ReportItemModels.length>0)for(n=0;n<e.ReportItemModels.length;n++)(d=e.ReportItemModels[n])&&("TextBoxModel"==d.ItemType?this._renderTextBoxControl(d,!1,c+"_"+d.Name,a,o,u):"LineModel"==d.ItemType?(h=this._renderLineControl(d,c+"_"+d.Name,a,o),this._appendChild(u,h)):"ImageModel"==d.ItemType?this._renderImageControl(d,!1,u,c+"_"+d.Name,a,o):"CustomReportItemModel"==d.ItemType?this._renderCustomReportItemControl(d,!1,u,c+"_"+d.Name,a,o):"TablixModel"==d.ItemType?this._renderTablixControl(d,!1,{},u,c+"_"+d.Name,a,o,r):"GaugeModel"==d.ItemType?this._renderGaugeControl(d,!1,!1,{},u,c+"_"+d.Name,a,o):"RectangleModel"==d.ItemType?this._renderRectangleControl(d,!1,u,c+NaN+d.Name,a,o,r):"ChartModel"==d.ItemType?this._renderChartControl(d,!1,!1,{},u,c+"_"+d.Name,a,o):"MapModel"==d.ItemType?this._renderMapControl(d,!1,u,c+"_"+d.Name,a,o):"SubReportModel"==d.ItemType&&this._renderSubReportControl(d,!1,u,c+NaN+d.Name,a,o,r))},doAjaxPost:function(e,t,i,s){var a,o=this,r=s,l=ej.ReportViewer.Locale[o.model.locale]?ej.ReportViewer.Locale[o.model.locale]:ej.ReportViewer.Locale["en-US"],n={reportViewerToken:o._reportViewerToken,reportViewerClientId:o._reportViewerToken,serviceAuthorizationToken:o.model.serviceAuthorizationToken?o.model.serviceAuthorizationToken:"",serverUrl:o.model.reportServerUrl?o.model.reportServerUrl:"",headerReq:[],headers:[],data:null,inVokemethod:s};o._onAjaxRequest(n),o.model.reportCacheID=o.model.reportServerId,a=jQuery.parseJSON(i),n.reportViewerToken&&n.reportViewerToken.length>0&&(a.reportViewerToken=n.reportViewerToken,a.reportViewerClientId=n.reportViewerToken),o._sessionToken&&(a.sessionToken=o._sessionToken),o.model.reportCacheID&&o.model.reportCacheID.length>0&&(a.reportCacheID=o.model.reportCacheID),n.data&&(a.customData=n.data),!ej.isNullOrUndefined(n.actionName)&&n.actionName.trim().length>0&&(t=t.replace(t.substr(t.lastIndexOf("/")+1),n.actionName.trim())),i=JSON.stringify(a),$.ajax({type:e,url:t,crossDomain:!0,contentType:"application/json; charset=utf-8",dataType:"json",data:i,beforeSend:function(e){var t;if(("_getPageModel"==r||"_getPreviewModel"==r)&&(o._isToolbarClick?o._showNavigationIndicator(!0):o._showloadingIndicator(!0)),"SelfHost"!=o._serviceType&&(n.serviceAuthorizationToken&&n.serviceAuthorizationToken.length>0&&(e.setRequestHeader("serviceAuthorizationToken",n.serviceAuthorizationToken),n.reportViewerToken&&n.reportViewerToken.length>0&&e.setRequestHeader("reportViewerToken",n.reportViewerToken)),n.serverUrl&&n.serverUrl.length>0&&e.setRequestHeader("serverUrl",n.serverUrl),n.headerReq&&n.headerReq.length>0))for(t=0;t<n.headerReq.length;t++)e.setRequestHeader(n.headerReq[t].Key,n.headerReq[t].Value);if(n.headers&&n.headers.length>0)for(t=0;t<n.headers.length;t++)e.setRequestHeader(n.headers[t].Key,n.headers[t].Value)},success:function(e){if("string"==typeof e&&"Sf_legacy"!=e)try{e=JSON.parse(e)}catch(i){}if(e&&e.serviceType&&e.serviceType!==o._serviceType&&(o._serviceType=e.serviceType),o._cancelPrintExport)o._showPrintExportProgressIndicator(!1),o._cancelPrintExport=!1;else if(o._cancelProcessing)o._renderErrorMsg(o._getLocaleString("errorMessage","cancelReportProcessMsg")),o._viewReportEnableDisable(!1),o._isToolbarClick=!0,o._cancelProcessing=!1,o._currnetDocMapNodeId=null,o._currentBookmarkInfo=null;else if(o.model&&e.errorInfo){var t={errmsg:e.errorInfo.Message};o._onReportError(t),e.exportError!=undefined||t.cancel||(o._renderErrorMsg(t.errmsg),o._showExceptionBlock(!0,e.errorInfo)),e.showAlert&&!t.cancel&&o._showAlertDialog(t.errmsg,null,!1)}else o.model&&(e&&"undefined"!=typeof e.Data&&(e=e.Data),"string"==typeof e&&"Sf_legacy"!=e&&o._renderErrorMsg(l.alertMessage.RVERR0003+" InVokemethod:- "+r+":"+e),"object"!=typeof e||ej.isNullOrUndefined(o.model)||o._onAjaxSuccess(e),e&&e.licensingMessage&&(o._licenseMessage=e.licensingMessage),o[r](e))},error:function(e){o.model&&"_clearCurrentServerCache"!=r&&(o._onAjaxFailure(e),0==e.readyState?"_exportReport"==r?(o._showAlertDialog(l.errorMessage.exportAjaxFailureMsg==undefined?null:l.errorMessage.exportAjaxFailureMsg,null,!1),o._showPrintExportProgressIndicator(!1)):"_getPrintModel"==r?(o._renderErrorMsg(l.errorMessage.printAjaxFailureMsg==undefined?null:l.errorMessage.printAjaxFailureMsg),o._showPrintExportProgressIndicator(!1)):o._renderErrorMsg(l.errorMessage.reportLoadAjaxFailureMsg==undefined?null:l.errorMessage.reportLoadAjaxFailureMsg):o._renderErrorMsg(e.responseText))}})},_renderErrorMsg:function(e){if($("#"+this._id+"_pageviewContainer").css("display","none"),$("#"+this._id+"_viewerBlockCellContent").removeClass("e-reportviewer-paramblock-disable"),$("#"+this._id+"_toolbarUl_navigate").addClass("e-reportviewer-toolbar-disable"),this._isDevice?$("#"+this._id+"_toolbarUl_exportZoom").addClass("e-reportviewer-toolbar-disable"):($("#"+this._id+"_toolbarUl_printExport").addClass("e-reportviewer-toolbar-disable"),$("#"+this._id+"_toolbarUl_zoom").addClass("e-reportviewer-toolbar-disable")),this._showNavigationIndicator(!1),this._showparameterLoadingIndicator(!1,null),this._showPrintExportProgressIndicator(!1),!ej.isNullOrUndefined(e)&&e.length>0){var t={cancel:!1,errorMessages:[]},i={};i.Detail=e,i.Message="A general error occurred when viewing the report.",i.ItemType="General",t.errorMessages.push(i),this._onRenderErrorBanner(t),t.cancel||this._renderErrorBanner(t)}this._showloadingIndicator(!1),this._onElementsRendered({action:"Error"})},_ajaxCallMethod:function(e,t,i,s){e==this._reportAction.reportLoad||"reloadReport"==e?this.model.parameters&&this.model.parameters.length>0?this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.reportLoad,parameters:this.model.parameters,isReloadReport:"reloadReport"===e,controlId:this._id,reportPath:this.model.reportPath,enableVirtualEvaluation:this.model.enableVirtualEvaluation,reportServerUrl:this.model.reportServerUrl,processingMode:this.model.processingMode,locale:this.model.locale,customBrandSettings:this.model.customBrandSettings}),t):this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.reportLoad,isReloadReport:"reloadReport"===e,controlId:this._id,reportPath:this.model.reportPath,enableVirtualEvaluation:this.model.enableVirtualEvaluation,reportServerUrl:this.model.reportServerUrl,processingMode:this.model.processingMode,locale:this.model.locale,accessInternalValue:this.model.parameterSettings.accessInternalValue,customBrandSettings:this.model.customBrandSettings}),t):e==this._reportAction.validateDSCredential?this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.validateDSCredential,dataSourceCredentials:this._dataSources}),t):(e==this._reportAction.getParameters||e==this._reportAction.getPrintModel)&&(this.model.parameters&&(s=this.model.parameters),this._reloadParams&&this._reloadParams.length>0&&(s=this._reloadParams),this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:e,parameters:this._isDrillThroughReport?null:s,dataSources:this.model.dataSources.length>0?this.model.dataSources:null,PageSetup:this._printMode?null:this._paperSetup}),t),this._reloadParams=[]),e==this._reportAction.updateParameters?this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.updateParameters,updateParam:this._updateParam}),"_updateParameters"):e!=this._reportAction.getPageModel||i?e==this._reportAction.drillDown||e==this._reportAction.sorting?this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:e,pageindex:this._currentPage,toggleInfo:_serverActionInfo,refresh:!1,dataRefresh:!1,pageInit:this._isToolbarClick,isPrint:this._printMode}),t):e==this._reportAction.documentMap||e==this._reportAction.clearCache?this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:e}),t):e==this._reportAction.getPageModel&&i&&this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.getPageModel,refresh:this._refresh,dataRefresh:this._dataRefresh,pageindex:this._currentPage,pageInit:this._isToolbarClick,isPrint:this._printMode,dataSources:this.model.dataSources.length>0?this.model.dataSources:null,PageSetup:this._paperSetup}),t):(ej.isNullOrUndefined(s)&&(s=this.model.parameters.length>0?this.model.parameters:null),this._reloadParams&&this._reloadParams.length>0&&(s=this._reloadParams),this._printMode&&this._isPageSetupValueChange?(this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.getPageModel,refresh:this._refresh,dataRefresh:this._dataRefresh,pageindex:this._currentPage,pageInit:this._isToolbarClick,isPrint:this._printMode,dataSources:this.model.dataSources.length>0?this.model.dataSources:null,parameters:s,PageSetup:this._paperSetup}),t),this._isPageSetupValueChange=!1):this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.getPageModel,refresh:this._refresh,dataRefresh:this._dataRefresh,pageindex:this._currentPage,pageInit:this._isToolbarClick,isPrint:this._printMode,dataSources:this.model.dataSources.length>0?this.model.dataSources:null,parameters:s}),t),this._reloadParams=[])},_loadReportFromBegin:function(){this._showloadingIndicator(!0),this._off($("#"+this._id+"_viewReportClick"),"click",this._viewReportParamsClick),this._destroyPageItems(),this._clearPageCache(),this._showNavigationIndicator(!1),this._viewReportEnableDisable(!1),this._showException(!1),this._reportParametersModel&&(this._reloadParams=this._getParameterJson(this._reportParametersModel,!1),this._reloadParams&&(this._reportParameters=this._reloadParams)),this._ajaxCallMethod("reloadReport","_reportLoaded",!1)},_isReloadResult:function(e){return!!e.reloadReport},_reportLoaded:function(e){var t,i,s,a;this._isReloadResult(e)?this._loadReportFromBegin(e):(t=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],"inProgress"==e.inProgress?(this._reportViewerToken=e.reportViewerToken,i={inProgress:"inProgress",reportAction:this._reportAction.reportLoad,reportViewerToken:e.reportViewerToken},this.doAjaxPost("POST",this._actionUrl,JSON.stringify(i),"_reportLoaded")):"object"==typeof e&&e.isReportLoad?e?(this._paramInfo=e.paramInfo,this._reportParameters=e.reportParameters,this._reportDataSources=e.dataSources,this._reporDataSets=e.dataSets,this._reportViewerToken=e.reportViewerToken,this._serviceType=e.serviceType,this._isRDLC=e.isRDLC,this._onReportLoaded(),null!=e.dataSources?this._getDataSourceCredential(e.dataSources):"Params"==e.paramInfo?this._ajaxCallMethod(this._reportAction.getParameters,"_getParameters",!1):(s=this._printMode?"_getPreviewModel":"_getPageModel",this._ajaxCallMethod(this._reportAction.getPageModel,s,!1))):(a=this._onReportError({errmsg:"ReportViewer failed to load the Report"}),this._showException(!a,{content:t.alertMessage.RVERR0001,description:""})):(this._reportViewerToken=e.reportViewerToken,this._sessionToken=e.sessionToken,!ej.isNullOrUndefined(e.paramInfo)&&e.paramInfo&&(this._paramInfo=e.paramInfo),!ej.isNullOrUndefined(e.serviceType)&&e.serviceType&&(this._serviceType=e.serviceType),!ej.isNullOrUndefined(e.parameters)&&e.parameters?this._getParameters(e):!ej.isNullOrUndefined(e.reportPageModel)&&e.reportPageModel?this._getPageModel(e):(a=this._onReportError({errmsg:"Report Loaded:"+e,innerMessage:e}),this._showException(!a,{content:t.alertMessage.reportLoad+e,description:t.alertMessage.RVERR0001}))))},_getDataSourceCredential:function(e){if(ej.isNullOrUndefined(e)||"Sf_legacy"==e)this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.updateDataSource}),"_updateDataSource");else if(this._renderCredentialBlock(e),this._showViewerBlock(!0),this.model.enableDatasourceBlockScroller&&e&&e.length>=2){var t=this._getScrollerHeight(this._id+"_credential_block_table",5);this._setScrollerHeight(t)}else this._setScrollerHeight("auto");this._refreshScroller(),this._showloadingIndicator(!1),this._setContainerSize(),this._showloadingIndicator(!0),this._onElementsRendered({action:"Credential"})},_validateDSCredential:function(e){var t,i;"Sf_legacy"==e?(this._showloadingIndicator(!1),this._showViewerBlock(!1),this._setContainerSize(),this._showloadingIndicator(!0),"Params"==this._paramInfo?this._ajaxCallMethod(this._reportAction.getParameters,"_getParameters",!1):(t=this._printMode?"_getPreviewModel":"_getPageModel",this._ajaxCallMethod(this._reportAction.getPageModel,t,!1)),this._dataSources=null,this._unwiredViewClickEvent()):(i=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],this._showAlertDialog(e,i.alertMessage.RVERR0008,!1))},_showLicenseMsg:function(e){var t,i=document.getElementById(this._id+"_licensing_msgContainer");if(ej.isNullOrUndefined(i)){i=this._buildTag("div","",null,{id:this._id+"_licensing_msgContainer"});var s=this._buildTag("div","e-licensing-container",null,{id:this._id+"_licensing_content"}),a={display:"table",position:"absolute",width:"100%",height:"100%","pointer-events":"none","z-index":ej.util.getZindexPartial(this.element)},o={width:"100%",height:"100%","font-weight":"bold","font-family":"Arial",color:"black",opacity:"0.2","text-align":"center","vertical-align":"middle","pointer-events":"none",display:"table-cell",filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)"};"msie"===this._browserInfo.name||"edge"===this._browserInfo.name||"webkit"===this._browserInfo.name?(a["margin-top"]="Trial"===e?"75px":"175px",o.overflow="hidden",o["font-size"]="Trial"===e?"70px":"50px"):(a.overflow="hidden",o["font-size"]=("Trial"===e?100:70)+"px"),t="Trial"===e?210:750,$("#"+this._id+"_pageviewContainer").height()>t?(o.transform="rotate(-45deg)",o["-webkit-transform"]="rotate(-45deg)",o["-moz-transform"]="rotate(-45deg)",o["-ms-transform"]="rotate(-45deg)",o["-o-transform"]="rotate(-45deg)"):("msie"===this._browserInfo.name||"edge"===this._browserInfo.name||"webkit"===this._browserInfo.name)&&(a["margin-top"]="10px"),this._setTagStyle(i,a),this._setTagStyle(s,o),i.appendChild(s),document.getElementsByClassName("pageBodyBorder")[0].insertBefore(i,document.getElementById(this._id+"_pageviewbodyContainer")),s.innerText=e}},_updateDSCredential:function(){this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.updateDataSource}),"_updateDataSource")},_updateParameter:function(e){var t,i;if(e){var s=!1,a=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],o=null;for(t=0;t<this._reportParametersModel.length;t++)(i=this._reportParametersModel[t])&&e&&i.Name==e.name&&i.IsDependent&&(s=!0,o=i);$("#"+this._id+"_viewerBlockCellContent").addClass("e-reportviewer-paramblock-disable"),this._updateCustomParametersModel(e),s&&o?this._showparameterLoadingIndicator(!0,a.parameterProcessingMessage,o.Name,o.Prompt):this._showparameterLoadingIndicator(!0,a.parameterProcessingMessage),s?(this._updateParam=e,this._ajaxCallMethod(this._reportAction.updateParameters,"_updateParameters",!1)):($("#"+this._id+"_errorMsgContainer").css("display","none"),$("#"+this._id+"_viewerBlockCellContent").removeClass("e-reportviewer-paramblock-disable"),this._showparameterLoadingIndicator(!1,null))}},_getParameters:function(e){var t,i,s,a,o,r;"Sf_legacy"!=e?((t=this._renderParameterBlock(e))?(this._setContainerSize(),this._getDefaultParameters(e)):(e.parameters&&0==e.parameters.length?this._showViewerBlock(!1):this._showViewerBlock(!0),this._showloadingIndicator(!1),this.model.enableParameterBlockScroller&&e.parameters&&e.parameters.length>=5?(i=this._getScrollerHeight(this._id+"_param_block_table",5),this._setScrollerWidth(this._getItemWidth($("#"+this._id+"_viewerBlockCellContent"))),this._setScrollerHeight(i)):this._setScrollerHeight("auto"),this._setParameterBottomBorder(),this._setContainerSize(),this._showloadingIndicator(!0),(s=this._getParameterJson(e,!1))&&(this._reportParameters=s),(this.model.autoRender||this._isDrillThroughReport||this.model.isDataRendered)&&s?(r=this._printMode?"_getPreviewModel":"_getPageModel",this._ajaxCallMethod(this._reportAction.getPageModel,r,!1,s),this._isDevice&&this._toggleParameterBlock()):(this._showloadingIndicator(!1),this._hidePageView(),$("#"+this._id+"_toolbar_li_refresh").addClass("e-disable"),this._onElementsRendered({action:"Parameters"}))),this._refreshScroller(),!t&&this.model.autoRender&&s&&!this._isDevice&&this.model.parameterSettings.hideParameterBlock&&!this._dataRefresh&&(a=$("#"+this._id+"_viewBlockContainer").height(),o=$("#"+this._id+"_loadingIndicator_WaitingPopup"),this._toggleParameterBlock(),o.css("height",o.height()+a))):(this._showParameterBlock(!1),this._isForwardDirection=!0,r=this._printMode?"_getPreviewModel":"_getPageModel",this._ajaxCallMethod(this._reportAction.getPageModel,r,!1))},_setParameterBottomBorder:function(){var e=$("#"+this._id+"_viewer_paramblock").data("ejScroller");e&&(e.isHScroll()?$("#"+this._id+"_viewerBlockContent").css("border-bottom-style","solid"):$("#"+this._id+"_viewerBlockContent").css("border-bottom-style","none"))},_setParameters:function(e){var t,i,s=$("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcontent table:first").attr("data-isviewclick");"boolean"==typeof e&&(0==e?(this._showloadingIndicator(!0),this._setContainerSize(),this._isDevice&&(this._showViewerBlock(!1),this._showViewerPage(!0),this._selectparamToolItem(!1)),this._currentPage=1,this._clearPageCache(),this._isForwardDirection=!0,t=this._printMode?"_getPreviewModel":"_getPageModel",this._ajaxCallMethod(this._reportAction.getPageModel,t,!1)):(this._showloadingIndicator(!1),this._hidePageView(),"true"==s&&(i=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],this._viewReportEnableDisable(!1),this._showAlertDialog(i.alertMessage.RVERR0004,"",!0))))},_updateParameters:function(e){"Sf_legacy"!=e&&this._updateParamElements(e),$("#"+this._id+"_errorMsgContainer").css("display","none"),$("#"+this._id+"_viewerBlockCellContent").removeClass("e-reportviewer-paramblock-disable"),this._showparameterLoadingIndicator(!1,null)},_updateDataSource:function(){this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.getParameters}),"_getParameters")},_clearObjects:function(e){var t={reportAction:this._reportAction.clearObjects,reportViewerToken:this._reportViewerToken,previousAction:e,isPrint:this._printMode};this.doAjaxPost("POST",this._actionUrl,JSON.stringify(t),"_clearCurrentServerCache")},_embedImageRequest:function(e){var t,i=this.model.reportServiceUrl+"/PostReportAction";i=this._getMultiTenantUrl(i,!0),t={reportAction:this._reportAction.getImages,controlID:this._reportViewerToken,serviceAuthorizationToken:this.model.serviceAuthorizationToken?this.model.serviceAuthorizationToken:""},this.doAjaxPost("POST",i,JSON.stringify(t),e)},_inProgressRequest:function(e,t){var i={inProgress:"inProgress",reportAction:this._reportAction.getPageModel,reportViewerToken:e};this.doAjaxPost("POST",this._actionUrl,JSON.stringify(i),t)},_getPageModel:function(e){this._isReloadResult(e)?this._loadReportFromBegin(e):"inProgress"==e.inProgress?this._inProgressRequest(e.reportViewerToken,"_getPageModel"):e.embedImageData?(this._pageImagesCache=e,this._embedImageRequest("_getPageImages")):(this._clearObjects(this._reportAction.getPageModel),this._renderCurrentPageModels(e),$("#"+this._id+"_toolbar_li_refresh").hasClass("e-disable")&&$("#"+this._id+"_toolbar_li_refresh").removeClass("e-disable"))},_getPageImages:function(e){this._isReloadResult(e)?this._loadReportFromBegin(e):"inProgress"==e.inProgress?this._inProgressRequest(e.reportViewerToken,"_getPageModel"):(this._reportImages=e.reportImagesData,this._clearObjects(this._reportAction.getPageModel),this._renderCurrentPageModels(this._pageImagesCache))},_renderCurrentPageModels:function(e){var t,i,s,a,o,r,l;if(e){if(this._showNavigationIndicator(!1),this._showloadingIndicator(!1),this._viewReportEnableDisable(!1),$("#"+this._id+"_viewerBlockCellContent").removeClass("e-reportviewer-paramblock-disable"),("NoParams"==this._paramInfo||"HiddenParams"==this._paramInfo)&&this._showParameterBlock(!1),this._showparameterLoadingIndicator(!1,null),$("#"+this._id+"_pageviewContainer").css("display","block"),$("#"+this._id+"_errorMsgContainer").css("display","none"),$("#"+this._id+"_toolbarUl_navigate").removeClass("e-reportviewer-toolbar-disable"),this._isDevice?$("#"+this._id+"_toolbarUl_exportZoom").removeClass("e-reportviewer-toolbar-disable"):($("#"+this._id+"_toolbarUl_printExport").removeClass("e-reportviewer-toolbar-disable"),$("#"+this._id+"_toolbarUl_zoom").removeClass("e-reportviewer-toolbar-disable")),"IsDrillDown"===e||"IsSorting"===e)return;if(e.isDocumentMap&&(this._refresh?(this._showDocumentMap(e.isDocumentMap),(t=$("#"+this._id+"_ejtreeView").data("ejTreeView"))?t.collapseAll():this._isDocumentMap=this._isPageDocMap=e.isDocumentMap):this._isDocumentMap=this._isPageDocMap=e.isDocumentMap),e.errorInfo&&e.errorInfo.length>0?(i=this._onReportError({errmsg:e.errorInfo}),s=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],this._showException(!i,{content:e.errorInfo,description:s.alertMessage.RVERR0002})):e.reportItemPerformancesInfo&&Object.values(e.reportItemPerformancesInfo).length>0?((a={cancel:!1,errorMessages:[]}).errorMessages=e.reportItemPerformancesInfo,this._onRenderErrorBanner(a),a.cancel||this._renderErrorBanner(a)):this._showException(!1),e.reportPageModel&&e.reportPageModel.PageData){if(this._pageModel=e.reportPageModel,this._dataVisualization.length>0&&(this._dataVisualization=[]),this._onRenderBeginAction(),this._gotoPage(this._currentPage),this._isToolbarClick||this._enableToolbarItems(),this._pageLayoutPage=this._currentPage,this._onRenderingComplete({reportParameters:this._reportParameters}),this._enablePreviewItem(),this._currnetDocMapNodeId&&this._currnetDocMapNodeId.length>0&&this._scrollDocMapItemView(),this._currentBookmarkInfo&&this._scrollToBookmark(),o=this._pageModel.PageData[0].CustomProperties)for(r=0;r<o.length;r++)"ZOOMFACTOR"===o[r].Name.toUpperCase()&&this._setModel({zoomFactor:Number(o[r].Value)});this._refresh=!1,this._dataRefresh=!1}this._currnetDocMapNodeId=null,this._currentBookmarkInfo=null,e.pgsetting&&this._updatePageSetup(e.pgsetting),e.exportsetting&&this._updateExportSetup(e.exportsetting),(this.model.enablePageVirtualization||this.model.enablePageCache)&&(this._storePageCache(this._currentPage),this._renderPages()),this._isFitToPage&&(l=this._fitToPage("fitToPage"),this._applyDropDownVal(l,!1,!0),$("#"+this._id+"_viewerContainer").scrollTop(0)),this._isFitToWidth&&(l=this._fitToPage("fitToWidth"),this._applyDropDownVal(l,!0,!1)),this._onElementsRendered({action:"PageModel"})}},_onRenderBeginAction:function(e){this._onRenderingBegin(e)},_enablePreviewItem:function(){var e=$("#"+this._id+"_toolbar_li_preview");e.hasClass("e-disable")&&$("#"+this._id+"_toolbarContainer").ejToolbar("enableItem",e)},_getPreviewModel:function(e){this._isReloadResult(e)?this._loadReportFromBegin(e):"inProgress"==e.inProgress?this._inProgressRequest(e.reportViewerToken,"_getPreviewModel"):e.embedImageData?(this._pageImagesCache=e,this._embedImageRequest("_getPreviewImages")):(this._clearObjects(this._reportAction.getPageModel),this._renderPreviewPageModels(e))},_getPreviewImages:function(e){this._isReloadResult(e)?this._loadReportFromBegin(e):"inProgress"==e.inProgress?this._inProgressRequest(e.reportViewerToken,"_getPreviewModel"):(this._reportImages=e.reportImagesData,this._clearObjects(this._reportAction.getPageModel),this._renderPreviewPageModels(this._pageImagesCache))},_renderPreviewPageModels:function(e){var t;("NoParams"==this._paramInfo||"HiddenParams"==this._paramInfo)&&this._showParameterBlock(!1),this._showNavigationIndicator(!1),this._showloadingIndicator(!1),this._viewReportEnableDisable(!1),this._showparameterLoadingIndicator(!1,null),$("#"+this._id+"_viewerBlockCellContent").removeClass("e-reportviewer-paramblock-disable"),$("#"+this._id+"_pageviewContainer").css("display","block"),$("#"+this._id+"_errorMsgContainer").css("display","none"),$("#"+this._id+"_toolbarUl_navigate").removeClass("e-reportviewer-toolbar-disable"),$("#"+this._id+"_toolbarUl_printExport").removeClass("e-reportviewer-toolbar-disable"),$("#"+this._id+"_toolbarUl_zoom").removeClass("e-reportviewer-toolbar-disable"),e&&(e.isDocumentMap&&(this._isDocumentMap=e.isDocumentMap,this._isPageDocMap=this._isDocumentMap,this._pageDocMapFlag=!1),e.reportPageModel&&e.reportPageModel.PageData&&(this._pageModel=e.reportPageModel,this._isToolbarClick||(this._selectPreviewToolItem(!0),this._enableToolbarItems()),this._dataVisualization.length>0&&(this._dataVisualization=[]),this._gotoPage(this._currentPage),this._refresh=!1,this._initialPageSetup(e),this._onRenderingComplete({reportParameters:this._reportParameters})),e.pgsetting&&this._updatePageSetup(e.pgsetting),(this.model.enablePageVirtualization||this.model.enablePageCache)&&(this._storePageCache(this._currentPage),this._renderPages()),this._enablePreviewItem()),this._isFitToPage&&(t=this._fitToPage("fitToPage"),this._applyDropDownVal(t,!1,!0),$("#"+this._id+"_viewerContainer").scrollTop(0)),this._isFitToWidth&&(t=this._fitToPage("fitToWidth"),this._applyDropDownVal(t,!0,!1)),this._onElementsRendered({action:"PreviewModel"})},_getPrintModel:function(e){var t,i,s,a;if(this._isReloadResult(e))this._loadReportFromBegin(e);else if(t={stage:"preparation",currentPage:e.currentpage,preparationStage:e.preparationStage,totalPages:e.totalpages,handled:!1,containerId:this._id+"_viewerContainer"},this._onPrintProgressChanged(t),"dataPreparation"==e.preparationStage&&e.totalPages>1&&e.currentPage>1&&(i=Math.floor(e.currentPage/e.totalPages*100))>0&&(t.handled||this._showPrintExportProgressIndicator(!0,_getLocaleString("progressMessage")==undefined?null:String.format(_getLocaleString("progressMessage","printPreparationMessage"),i))),"inProgress"==e.inProgress){if(s={reportAction:this._reportAction.getPrintModel,printReportId:e.printReportId},e.reportPageModel&&e.reportPageModel&&e.reportPageModel.PageData.length>0)for(a=0;a<e.reportPageModel.PageData.length;a++)this._printData.push(e.reportPageModel.PageData[a]);this.doAjaxPost("POST",this._actionUrl,JSON.stringify(s),"_getPrintModel")}else if(this._clearObjects(this._reportAction.getPrintModel),e&&e.reportPageModel.PageData&&e.reportPageModel.PageData.length>0){for(a=0;a<e.reportPageModel.PageData.length;a++)this._printData.push(e.reportPageModel.PageData[a]);e.reportPageModel.PageData=this._printData,"None"==this.model.printOption?this._renderSilentPrinting(e):this._printReport(e)}},_documentMapModel:function(e){e&&e.DocumentMapNode&&e.DocumentMapNode.length>0&&(this._showDocumentMap(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.DocumentMap),this._containerSplit(e.DocumentMapNode))},_drillThroughModel:function(e){var t={x:$("#"+this._id+"_viewerContainer").scrollLeft(),y:$("#"+this._id+"_viewerContainer").scrollTop()},i=this._cloneReportViewerProperties();this._parents.push({pagePos:t,parentPro:i}),this._setInitialization(),this._reportViewerToken=i._childReportToken,this._unwireEvents(),this._initViewer(),this._reportLoaded(e)},_gotoParentReportModel:function(){var e,t;this._setParentReportViewerProperties(),e=this._currentPage,this._unwireEvents(),this._initViewer(),this._currentPage=e,"Params"==this._paramInfo?this._ajaxCallMethod(this._reportAction.getParameters,"_getParameters",!1):(this._selectparamToolItem(!1),this._showParameterBlock(!1),t=this._printMode?"_getPreviewModel":"_getPageModel",this._ajaxCallMethod(this._reportAction.getPageModel,t,!1))},_clearCurrentServerCache:function(){},_print:function(){var e={stage:"beginPrint",handled:!1,containerId:this._id+"_viewerContainer",waitingPopupTemplate:this.model.waitingPopupTemplate};this._onPrintProgressChanged(e),e.handled||this._showPrintExportProgressIndicator(!0,this._getLocaleString("progressMessage")==undefined?null:this._getLocaleString("progressMessage","printLoadingMessage"),e.waitingPopupTemplate),this._ajaxCallMethod(this._reportAction.getPrintModel,"_getPrintModel",!1)},_printReport:function(e){var t=e.reportPageModel,i={stage:"printStarted",handled:!1,containerId:this._id+"_viewerContainer"};this._onPrintProgressChanged(i),i.handled||this._showPrintExportProgressIndicator(!1),e.embedImageData?(this._pageImagesCache=t,this._embedImageRequest("_getPrintingImages")):this._renderPrintPageModels(t)},_getPrintingImages:function(e){if(this._isReloadResult(e))this._loadReportFromBegin(e);else if("inProgress"==e.inProgress){var t={reportAction:this._reportAction.getPrintModel,printReportId:e.printReportId};this.doAjaxPost("POST",this._actionUrl,JSON.stringify(t),"_getPrintModel")}else this._reportImages=e.reportImagesData,this._renderPrintPageModels(this._pageImagesCache)},_renderPrintPageModels:function(e){var t,i,s,a,o,r,l,n,d,h,c,u=e.PaperHeight,p=e.PaperWidth,m=e.MarginTop,g=e.MarginLeft;this._isprint=!0;var _=$("head").find("link"),f="msie"==this._browserInfo.name&&parseInt(this._browserInfo.version)<=9,b="Default"==this.model.printOption&&"mozilla"!=this._browserInfo.name?window.open("","pint","tabbar=no,scrollbars = yes,resizable = yes"):window.open("","_blank"),v="<style>h1 {display:block;height:0px;page-break-after:always;}@page { size:"+p+"px "+u+"px; margin:0px;}@media print{ div {-webkit-print-color-adjust: exact; "+("mozilla"==this._browserInfo.name?"page-break-inside:avoid":"")+" } #header, #footer { display:none } }</style>",x=!0;if(null!=b)try{if(b.document.write("<!DOCTYPE html>"),b.printDelay=500,x=(t=this._onReportPrint({printWind:b,isStyleLoad:!1})).isStyleLoad,t.cancel)return;for(i="msie"===this._browserInfo.name?'<body style="width:'+p+'px">':"<body>",x?(s="",_.each((function(e,t){$(t).attr("href",t.href),s+=t.outerHTML})),b.document.write("<html><head>"+s+v+"</head>"+i)):b.document.write("<html><head>"+v+"</head>"+i),a=ej.buildTag("div","",{display:"block",padding:"2px","background-color":"#ffff99",float:"right"},{id:"PrintloadingLabel"}),(o=ej.buildTag("span","",{display:"block","font-size":"12.5px","font-family":"Arial"},{id:"PrintspanLoadingLable"})).text("Loading print content..."),a.append(o),b.document.write(a[0].outerHTML),r=0;r<e.TotalPages;r++)l=e.PageData[r],e.Columns>1&&(n=r*e.Columns)<e.PageData.length&&(l=e.PageData[n]),ej.isNullOrUndefined(l)||(b.document.write('<div style="position: relative; height:'+l.Height+"px;width:"+l.Width+"px;"+("mozilla"==this._browserInfo.name?"page-break-inside:avoid":"")+';">'),d=this._renderPrintContainer(l,m,g,r,e),b.document.write(d),b.document.write("</div>"),f?f&&r<e.TotalPages&&b.document.write("<h1></h1>"):b.document.write("<h1></h1>"));h=b.printDelay&&b.printDelay===parseInt(b.printDelay,10)?b.printDelay:500,b.document.write("</body></html>"),b.document.close(),b.focus(),(c=b.document.getElementById("PrintloadingLabel")).parentNode.removeChild(c),setTimeout((function(){try{ej.isNullOrUndefined(b.window)||(b.print(),setTimeout((function(){try{b.close()}catch(e){}}),300))}catch(e){}}),h),this._printData=[],this._isprint=!1,this._onElementsRendered({action:"Print"})}catch(y){}},_renderSilentPrinting:function(e){var t,i,s,a,o,r,l,n,d=e.reportPageModel,h={stage:"printStarted",handled:!1,containerId:this._id+"_viewerContainer"};this._onPrintProgressChanged(h),h.handled||this._showPrintExportProgressIndicator(!1);var c=d.PaperHeight,u=d.PaperWidth,p=d.MarginTop,m=d.MarginLeft,g=$("head").find("link"),_="msie"==this._browserInfo.name&&parseInt(this._browserInfo.version)<=9,f="<style>h1 {display:block;height:0px;page-break-after:always;}@page { size:"+u+"px "+c+"px; margin:0px;}@media print{ div {-webkit-print-color-adjust: exact;} #header, #footer { display:none } }</style>",b=$("#"+this._id+"_printPageIframe");if(b.length>0||((b=$('<iframe id="'+this._id+'_printPageIframe"></iframe>')).css({height:".0001px",width:".0001px",backgroundColor:"Transparent",border:"none"}),$("body").append(b)),null!=(t=b[0].contentWindow?b[0].contentWindow:b[0].contentDocument.document?b[0].contentDocument.document:b[0].contentDocument)){for(t.document.open(),t.document.write("<!DOCTYPE html>"),t.printDelay=500,isCssLoad=this._onReportPrint({printFrame:t,isStyleLoad:!1}),i="msie"===this._browserInfo.name?'<body style="width:'+u+'px">':"<body>",isCssLoad?(s="",g.each((function(e,t){$(t).attr("href",t.href),s+=t.outerHTML})),t.document.write("<html><head>"+s+f+"</head>"+i)):t.document.write("<html><head>"+f+"</head>"+i),a=0;a<d.TotalPages;a++)o=d.PageData[a],d.Columns>1&&(r=a*d.Columns)<d.PageData.length&&(o=d.PageData[r]),ej.isNullOrUndefined(o)||(t.document.write('<div style="position:relative;height:'+c+"px;width:"+u+"px;"+("mozilla"==this._browserInfo.name?"page-break-inside:avoid":"")+';">'),l=this._renderPrintContainer(o,p,m,a,d),t.document.write(l),t.document.write("</div>"),_?_&&a<d.TotalPages&&t.document.write("<h1></h1>"):t.document.write("<h1></h1>"));n=t.printDelay&&t.printDelay===parseInt(t.printDelay,10)?t.printDelay:500,t.document.write("</body></html>"),t.document.close(),t.focus(),setTimeout((function(){ej.isNullOrUndefined(t.window)||(t.print(),setTimeout((function(){t.window.close()}),300))}),n)}},_renderPrintContainer:function(e,t,i,s,a){var o,r,l,n=document.createElement("div");document.body.appendChild(n),this._setTagStyle(n,{overflow:"auto",width:"1px",height:"1px"}),o=this._buildTag("div",null,null,null),r={position:"relative","background-color":"transparent","font-size":"8pt"},this._appendChild(n,o),this._setTagStyle(o,r);var d=this._buildTag("div",null,null,null),h={position:"relative","background-color":"transparent",width:e.Width+"px",height:e.HeaderHeight+"px"},c=this._buildTag("div","pageHeaderBorder",null,null),u={position:"relative","background-color":"#FFFFFF",left:i+"px",top:t+"px"};this._appendChild(c,d),this._appendChild(o,c),this._setTagStyle(c,u);var p=this._buildTag("div",null,null,null),m={position:"relative","background-color":"transparent",width:e.Width+"px",height:e.Height+"px"},g=this._buildTag("div","pageBodyBorder",null,null),_={position:"relative","background-color":"#FFFFFF",left:i+"px",top:t+"px","background-position":"center center","background-repeat":"no-repeat"};this._appendChild(g,p),this._appendChild(o,g),this._setTagStyle(g,_);var f=this._buildTag("div",null,null,null),b={position:"relative","background-color":"transparent",width:e.Width+"px",height:e.FooterHeight+"px"},v=this._buildTag("div","pageFooterBorder",null,null),x={position:"relative","background-color":"#FFFFFF",left:i+"px",top:t+"px"};return this._setTagStyle(v,x),this._appendChild(v,f),this._appendChild(o,v),(this._printMode||this._isprint)&&(h.overflow="hidden",b.overflow="hidden"),this._setTagStyle(d,h),this._setTagStyle(f,b),e.ReportStyleModel&&this._applyPageStyle(o,e.ReportStyleModel,!0,!0),e.HeaderStyleModel&&this._applyPageStyle(c,e.HeaderStyleModel,!0,!1),e.FooterStyleModel&&this._applyPageStyle(v,e.FooterStyleModel,!0,!1),e.HeaderModel&&e.HeaderModel.length>0&&this._renderPageControls(e,e.HeaderModel,d,!0,"Print"+s),e.FooterModel&&e.FooterModel.length>0&&this._renderPageControls(e,e.FooterModel,f,!0,"Print"+s),a&&a.Columns>1?this._renderMultiColumnPage(a,p,!0,s):(e.BodyStyleModel&&this._applyPageStyle(g,e.BodyStyleModel,!0,!1),e.PageModel&&e.PageModel.length>0&&this._renderPageControls(e,e.PageModel,p,!0,"Print"+s)),m.height=e.Height+"px",this._setTagStyle(p,m),$(n).find("img").each((function(e,t){null!=t["data-imgUrl"]&&"undefined"!=t["data-imgUrl"]&&t.setAttribute("src",t["data-imgUrl"])})),l=n.innerHTML.replace(/PrintImage/g,"GetResource"),document.body.removeChild(n),l},_showPrintButton:function(e){e?$("#"+this._id+"_toolbar_li_print").css("display","block"):$("#"+this._id+"_toolbar_li_print").css("display","none")},_exportMenuClick:function(e){var t,i=$(e.target);if(i){i.hasClass("e-pdf")?t="PDF":i.hasClass("e-word")?t="Word":i.hasClass("e-excel")?t="Excel":i.hasClass("e-html")?t="Html":i.hasClass("e-ppt")?t="PPT":i.hasClass("e-csv")?t="CSV":i.hasClass("e-xml")?t="XML":i.hasClass("e-custom")&&($(e.target.textContent),t=$(e.target).text());var s={value:t,fileName:""},a=this._onExportItemClick(s),o="";s.fileName&&s.fileName.length>0&&(o=s.fileName),a||i.hasClass("e-custom")||this._processExport(t,o)}},_processExport:function(e,t){var i,s,a,o,r;e&&("pdf"==(s=e.toLowerCase())?i="PDF":"word"==s?i="Word_"+this.model.exportSettings.wordFormat:"excel"==s?i="Excel_"+this.model.exportSettings.excelFormat:"html"==s?i="Html":"ppt"==s?i="PPT_"+this.model.exportSettings.pptFormat:"csv"==s?i="CSV":"xml"==s&&(i="XML"),i&&(a={format:e,stage:"beginExport",handled:!1,containerId:this._id+"_viewerContainer",waitingPopupTemplate:this.model.waitingPopupTemplate},this._onExportProgressChanged(a),a.handled||this._showPrintExportProgressIndicator(!0,this._getLocaleString("progressMessage")==undefined?null:this._getLocaleString("progressMessage","exportLoadingMessage"),a.waitingPopupTemplate),o=this.model.reportServiceUrl+"/PostReportAction",o=this._getMultiTenantUrl(o,!0),r={reportAction:this._reportAction.exporting,controlID:this._reportViewerToken,resourcetype:i,serviceAuthorizationToken:this.model.serviceAuthorizationToken?this.model.serviceAuthorizationToken:"",isPrint:!1,reportName:t,pageindex:this._currentPage,imageQuality:this.model.exportSettings.imageQuality},this.doAjaxPost("POST",o,JSON.stringify(r),"_exportReport")))},_convertModelToImage:function(e,t,i){var s,a,o,r=this._buildTag("div",null,null,{visibility:"hidden",position:"absolute",width:"0px",height:"0px"},null);for(document.body.appendChild(r),"ChartModel"==e.ItemType?(this._renderChartControl(e,!1,!1,{},r,null,!1,null,!0,"msie"==this._browserInfo.name),o=e.ItemName?e.ItemName:e.Name,document.getElementById(this._id+"_"+o).style.visibility="collapse",a="#chartCtrl_"+this._id+"_"+o+"_"+(null!=e.ChartAreas?e.ChartAreas[0].Name:e.ChartNoDataMessage.Name),"msie"==this._browserInfo.name?this._getChartImageData($(a).ejChart("instance"),o,i):this._getImageFromSvg(a,o,i,t,"chart")):"GaugeModel"==e.ItemType?(this._renderGaugeControl(e,!1,!1,{},r,null,!1,null),a="#"+this._dataVisualization[this._dataVisualization.length-1].id,o=e.ItemName?e.ItemName:e.Name,document.getElementById(this._id+"_"+o).style.visibility="collapse",s=!ej.isNullOrUndefined(e.GaugePanel.Indicator)&&e.GaugePanel.Indicator.length>0?"Indicator":!ej.isNullOrUndefined(e.GaugePanel.RadialGauges)&&e.GaugePanel.RadialGauges.length>0?"Radial":"Linear",this._getImageFromSvg(a,o,i,t,s)):"MapModel"==e.ItemType&&(this._renderMapControl(e,!1,r,null,!1,null),a="#"+this._dataVisualization[this._dataVisualization.length-1].id,o=e.ItemName?e.ItemName:e.Name,document.getElementById(this._id+"_"+o).style.visibility="collapse",this._getImageFromSvg(a,o,i,t));r.firstChild;)r.removeChild(r.firstChild)},_getImageFromSvg:function(e,t,i,s,a){var o,r,l=this.model.exportSettings.imageQuality;if("chart"==a){(o=$(e).ejChart("instance")).model.exportSettings.type="svg";var n=decodeURIComponent(o.export()),d=(p=this._buildTag("canvas",null,null,{width:o.svgWidth*l,height:o.svgHeight*l},null)).getContext("2d");document.body.appendChild(p);var h,c=window.URL.createObjectURL(new Blob([n],{type:"image/svg+xml"})),u=this;(h=new Image).onload=function(){d.setTransform(l,0,0,l,0,0),d.webkitImageSmoothingEnabled=!1,d.mozImageSmoothingEnabled=!1,d.imageSmoothingEnabled=!1,d.drawImage(h,0,0);var e=p.toDataURL();$(p).remove(),i[t]?_dataVisualItemCount--:i[t]=e.replace(e.substr(0,e.lastIndexOf(",")+1),""),_dataVisualItemCount==Object.keys(i).length&&u._dataVisualizationRequest(i,s)},h.src=c}else{n=document.querySelector(e).querySelector("svg");var p,m=(new XMLSerializer).serializeToString(n),g=n.getBoundingClientRect();d=(p=this._buildTag("canvas",null,null,{width:"Indicator"===a?g.width*l:g.width,height:"Indicator"===a?g.height*l:g.height},null)).getContext("2d"),document.body.appendChild(p),r="Indicator"===a?window.URL.createObjectURL(new Blob([m],{type:"image/svg+xml"})):"data:image/svg+xml;base64,"+btoa(m),h=this._buildTag("img",null,null,{src:r,width:g.width,height:g.height},null),document.body.appendChild(h),u=this,h.onload=function(){"Indicator"===a?d.drawImage(h,0,0):"Radial"===a?g.width<g.height?d.drawImage(h,0,0,g.width,g.width):d.drawImage(h,0,0,g.height,g.height):d.drawImage(h,0,0,g.width,g.height);var e="Indicator"===a?p.toDataURL():p.toDataURL("image/png",1);$(p).remove(),$(h).remove(),i[t]?_dataVisualItemCount--:i[t]=e.replace(e.substr(0,e.lastIndexOf(",")+1),""),_dataVisualItemCount==Object.keys(i).length&&u._dataVisualizationRequest(i,s)}}},_getChartImageData:function(e,t,i){var s=e.export().toDataURL("image/png",1);i[t]=s.replace(s.substr(0,s.lastIndexOf(",")+1),"")},_getMapImageData:function(e,t,i){var s=e.export("SVG",this.model.reportName).toDataURL("image/png",1);i[t]=s.replace(s.substr(0,s.lastIndexOf(",")+1),"")},_visualizationExport:function(e){var t,i,s,a,o=e.exportModels,r={};for(_dataVisualItemCount=o?o.length+this._dataVisualization.length:this._dataVisualization.length,t=0;t<this._dataVisualization.length;t++)"ChartModel"==this._dataVisualization[t].type?"msie"==this._browserInfo.name?(s=!1,(i=$("#"+this._dataVisualization[t].id).ejChart("instance")).model&&(i.model.enable3D&&(i.model.enable3D=i.model.enableRotation=!1,s=!0),i.model.enableCanvasRendering=!0,i.redraw(),this._getChartImageData(i,this._dataVisualization[t].name,r),i.model.enableCanvasRendering=!1,s&&!i.model.enable3D&&(i.model.enable3D=i.model.enableRotation=!0),i.redraw())):this._getImageFromSvg("#"+this._dataVisualization[t].id,this._dataVisualization[t].name,r,e,"chart"):"GaugeModel"==this._dataVisualization[t].type?this._getImageFromSvg("#"+this._dataVisualization[t].id,this._dataVisualization[t].name,r,e,this._dataVisualization[t].itemType):"MapModel"==this._dataVisualization[t].type&&this._getImageFromSvg("#"+this._dataVisualization[t].id,this._dataVisualization[t].name,r,e);if(o)for(a=0;a<o.length;a++)this._convertModelToImage(o[a],e,r);return r},_dataVisualizationRequest:function(e,t){var i={reportAction:this._reportAction.exporting,controlID:this._reportViewerToken,resourcetype:t.resourcetype,serviceAuthorizationToken:this.model.serviceAuthorizationToken?this.model.serviceAuthorizationToken:"",isPrint:!1,reportName:t.reportName,ExportImages:e,pageindex:this._currentPage};this.doAjaxPost("POST",this._getMultiTenantUrl(this.model.reportServiceUrl+"/PostReportAction",!0),JSON.stringify(i),"_exportReport")},_exportReport:function(e){var t,i,s,a,o,r,l,n,d,h,c=this.model.reportServiceUrl+("NETCore"==this._serviceType||"SelfHost"==this._serviceType?"/PostFormReportAction":"/PostReportAction");if(c=this._getMultiTenantUrl(c,!0),i={reportAction:this._reportAction.exporting,controlID:this._reportViewerToken,serviceAuthorizationToken:this.model.serviceAuthorizationToken?this.model.serviceAuthorizationToken:"",isPrint:!1,downloadreportid:e.downloadreportid,sessionToken:JSON.stringify(this._sessionToken)},a={stage:"preparation",format:e.format,preparationStage:e.preparationStage,currentPage:e.currentpage,totalPages:e.totalpages,handled:!1,containerId:this._id+"_viewerContainer"},this._onExportProgressChanged(a),"documentPreparation"==e.preparationStage&&e.totalPages>1&&e.currentPage>1&&(t=Math.floor(e.currentPage/e.totalPages*100))>0&&(a.handled||this._showPrintExportProgressIndicator(!0,this._getLocaleString("progressMessage")==undefined?null:String.format(_getLocaleString("progressMessage","exportPreparationMessage"),t))),"inProgress"==e.inProgress)i={reportAction:this._reportAction.exporting,downloadreportid:e.downloadreportid},this.doAjaxPost("POST",this._getMultiTenantUrl(this.model.reportServiceUrl+"/PostReportAction",!0),JSON.stringify(i),"_exportReport");else if(e.clientExport)s=this._visualizationExport(e),_dataVisualItemCount==Object.keys(s).length&&this._dataVisualizationRequest(s,e);else{for(n in this._clearObjects(this._reportAction.exporting),a={stage:"exportStarted",handled:!1,containerId:this._id+"_viewerContainer"},o=this._id,this._onExportProgressChanged(a),!ej.isNullOrUndefined(a.actionName)&&a.actionName.trim().length>0&&(c=c.replace(c.substr(c.lastIndexOf("/")+1),a.actionName.trim())),r=$("<form>").attr({action:c,method:"POST",name:"export","data-ajax":"false"}),l=function(e,t){$("<input type='hidden' title='params'>").attr({id:o+"_"+e,name:e,value:t}).appendTo(r)},i)l(n,i[n]);if($("body").append(r),$(r).hide(),d={exportAction:r,formValues:[]},this._onReportExport(d))return void this._showPrintExportProgressIndicator(!1);if(d.formValues&&d.formValues.length>0)for(h=0;h<d.formValues.length;h++)l(d.formValues[h].key,d.formValues[h].value);$(r).submit().remove(),a.handled||this._showPrintExportProgressIndicator(!1),this.element.find("#"+this._id+"_toolbar_exportListTip").hide(),this._onElementsRendered({action:"Export"})}},_showExportList:function(){this.model.exportSettings.exportOptions&ej.ReportViewer.ExportOptions.Html?$("#"+this._id+"_toolbar_li_html").css("display","block"):$("#"+this._id+"_toolbar_li_html").css("display","none"),this.model.exportSettings.exportOptions&ej.ReportViewer.ExportOptions.Word?$("#"+this._id+"_toolbar_li_word").css("display","block"):$("#"+this._id+"_toolbar_li_word").css("display","none"),this.model.exportSettings.exportOptions&ej.ReportViewer.ExportOptions.Excel?$("#"+this._id+"_toolbar_li_xls").css("display","block"):$("#"+this._id+"_toolbar_li_xls").css("display","none"),this.model.exportSettings.exportOptions&ej.ReportViewer.ExportOptions.Pdf?$("#"+this._id+"_toolbar_li_pdf").css("display","block"):$("#"+this._id+"_toolbar_li_pdf").css("display","none"),this.model.exportSettings.exportOptions&ej.ReportViewer.ExportOptions.PPT?$("#"+this._id+"_toolbar_li_ppt").css("display","block"):$("#"+this._id+"_toolbar_li_ppt").css("display","none"),this.model.exportSettings.exportOptions&ej.ReportViewer.ExportOptions.CSV?$("#"+this._id+"_toolbar_li_csv").css("display","block"):$("#"+this._id+"_toolbar_li_csv").css("display","none"),this.model.exportSettings.exportOptions&ej.ReportViewer.ExportOptions.XML?$("#"+this._id+"_toolbar_li_xml").css("display","block"):$("#"+this._id+"_toolbar_li_xml").css("display","none");for(var e=0;e<this.model.exportSettings.customItems.length;e++)this.model.exportSettings.exportOptions&ej.ReportViewer.ExportOptions.CustomItems?$("#"+this._id+"_toolbar_li_customexport_"+e).css("display","block"):$("#"+this._id+"_toolbar_li_customexport_"+e).css("display","none")},_showExportControls:function(e){e?$("#"+this._id+"_toolbar_li_export").css("display","block"):$("#"+this._id+"_toolbar_li_export").css("display","none")},_showExportTooltip:function(){var e,t,i,s=$("#"+this._id+"_toolbar_exportListTip");s.length>0||(s=this._renderToolTipExport(),$("body").append(s),this._showExportList(),this._on($("#"+this._id+"_toolbar_exportListTip .e-reportviewer-popupli"),"click",this._exportMenuClick),this._on($("#"+this._id+"_toolbar_exportListTip .e-reportviewer-popupli"),"mousedown",this._onPopupClick)),"block"==s.css("display")?s.css("display","none"):s.css("display","block"),e=$("#"+this._id+"_toolbar_li_export"),(t=$("#"+this._id+"_toolbarContainer_hiddenlist")).length>0&&t.find("#"+this._id+"_toolbar_li_export").length>0&&"none"!==t.css("display")?s.css({left:e.offset().left,top:e.offset().top+e.height()+parseFloat(e.css("padding-top"))+parseFloat(e.css("padding-bottom"))+parseFloat(e.parent().css("margin-bottom")),"z-index":ej.util.getZindexPartial(this.element)}):(i=this.element.find("#"+this._id+"_toolbarContainer"),s.css({left:e.offset().left,top:i.offset().top+parseFloat(i.css("border-top-width"))+i.height(),"z-index":ej.util.getZindexPartial(this.element)}))},_updatePageNavigation:function(e,t){var i=$("#"+this._id+"_toolbarContainer");i.ejToolbar("enableItem",$("#"+this._id+"_toolbarUl_navigate")),e>1&&e<t?(i.ejToolbar("enableItem",$("#"+this._id+"_toolbar_li_gotofirst")),i.ejToolbar("enableItem",$("#"+this._id+"_toolbar_li_gotoprevious")),i.ejToolbar("enableItem",$("#"+this._id+"_toolbar_li_gotonext")),i.ejToolbar("enableItem",$("#"+this._id+"_toolbar_li_gotolast"))):1==e&&e<t?(i.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotofirst")),i.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotoprevious")),i.ejToolbar("enableItem",$("#"+this._id+"_toolbar_li_gotonext")),i.ejToolbar("enableItem",$("#"+this._id+"_toolbar_li_gotolast"))):e==t&&1!=t?(i.ejToolbar("enableItem",$("#"+this._id+"_toolbar_li_gotofirst")),i.ejToolbar("enableItem",$("#"+this._id+"_toolbar_li_gotoprevious")),i.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotonext")),i.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotolast"))):(i.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotofirst")),i.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotoprevious")),i.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotonext")),i.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotolast")))},_gotoRenderPage:function(){this._onRenderBeginAction(),this._pageModel=this._retrievePageCache(this._currentPage),this._gotoPage(this._currentPage),this._onRenderingComplete({reportParameters:this._reportParameters}),this._refresh=!1,(this.model.enablePageVirtualization||this.model.enablePageCache)&&this._renderPages()},_gotoFirstPage:function(){if(this._pageModel&&this._pageModel.TotalPages&&this._pageModel.TotalPages>0)if(this._currentPage=1,this._refresh=!1,this._isForwardDirection=!0,this._isSelectedPage=!1,(this.model.enablePageVirtualization||this.model.enablePageCache)&&this._pageContains(this._currentPage))this._gotoRenderPage();else{var e=this._printMode?"_getPreviewModel":"_getPageModel";this._ajaxCallMethod(this._reportAction.getPageModel,e,!1,this._reportParameters)}},_gotoLastPage:function(){if(this._pageModel&&this._pageModel.TotalPages&&this._pageModel.TotalPages>0)if(this._currentPage=this._pageModel.TotalPages,this._refresh=!1,this._isForwardDirection=!1,this._isSelectedPage=!1,(this.model.enablePageVirtualization||this.model.enablePageCache)&&this._pageContains(this._currentPage))this._gotoRenderPage();else{var e=this._printMode?"_getPreviewModel":"_getPageModel";this._ajaxCallMethod(this._reportAction.getPageModel,e,!1,this._reportParameters)}},_gotoNextPage:function(){var e,t;this._pageModel&&this._pageModel.TotalPages&&this._currentPage<this._pageModel.TotalPages&&(this._currentPage=this._currentPage+1,this._refresh=!1,this._isForwardDirection=!0,this._isSelectedPage=!1,(e=$("#"+this._id+"_toolbarContainer")).ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotonext")),e.ejToolbar("disableItem",$("#"+this._id+"_toolbarUl_navigate")),(this.model.enablePageVirtualization||this.model.enablePageCache)&&this._pageContains(this._currentPage)?this._gotoRenderPage():(t=this._printMode?"_getPreviewModel":"_getPageModel",this._ajaxCallMethod(this._reportAction.getPageModel,t,!1,this._reportParameters)))},_gotoPreviousPage:function(){var e,t;this._pageModel&&this._pageModel.TotalPages&&this._currentPage>1&&(this._currentPage=this._currentPage-1,this._refresh=!1,this._isForwardDirection=!1,this._isSelectedPage=!1,(e=$("#"+this._id+"_toolbarContainer")).ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotoprevious")),e.ejToolbar("disableItem",$("#"+this._id+"_toolbarUl_navigate")),(this.model.enablePageVirtualization||this.model.enablePageCache)&&this._pageContains(this._currentPage)?this._gotoRenderPage():(t=this._printMode?"_getPreviewModel":"_getPageModel",this._ajaxCallMethod(this._reportAction.getPageModel,t,!1,this._reportParameters)))},_gotoPageNo:function(e){var t,i;this._pageModel&&this._pageModel.TotalPages&&((t=parseInt(e))>=1&&t<=this._pageModel.TotalPages&&this._currentPage!=t?(this._currentPage=t,this._refresh=!1,this._isForwardDirection=!1,this._isSelectedPage=!0,(this.model.enablePageVirtualization||this.model.enablePageCache)&&this._pageContains(this._currentPage)?this._gotoRenderPage():(i=this._printMode?"_getPreviewModel":"_getPageModel",this._ajaxCallMethod(this._reportAction.getPageModel,i,!1,this._reportParameters))):this._currnetDocMapNodeId&&this._currnetDocMapNodeId.length>0?this._scrollDocMapItemView():this._currentBookmarkInfo&&this._scrollToBookmark())},_gotoPage:function(e){var t,i,s;this._pageModel&&this._pageModel.PageData&&this._pageModel.PageData.length>0&&(t=parseInt(e),this._updatePageNavigation(t,this._pageModel.TotalPages),this._pageModel.TotalPages>0&&this._pageModel.TotalPages&&(this._resetPageNumber(!0),$("#"+this._id+"_toolbar_li_gotopage").find("span.e-reportviewer-labelpageno").text(" / "+this._pageModel.TotalPages),$("#"+this._id+"_toolbar_gotopage").val(t),t>999&&t<=9999?$("#"+this._id+"_toolbar_gotopage").css("width","35px"):t>9999?$("#"+this._id+"_toolbar_gotopage").css("width","43px"):$("#"+this._id+"_toolbar_gotopage").css("width","28px")),(i=$("#"+this._id+"_pageviewContainer").find(".e-js"))&&i.length>0&&this._destroyEJObjects(i),i=null,s=this._pageModel.PageData[0],this._renderPageModels(s),s&&this._setPageSize(s.Height,s.Width,s.HeaderHeight,s.FooterHeight))},_onkeyPress:function(e){if(13==e.keyCode)try{var t=parseInt($(e.currentTarget).val());this._gotoPageNo(t)}catch(i){}if(e.keyCode>31&&(e.keyCode<48||e.keyCode>57))return!1},_showPageNavigationControls:function(e){e?$("#"+this._id+"_toolbar_gotopage").parents(".e-reportviewer-toolbarul").css("display","block"):$("#"+this._id+"_toolbar_gotopage").parents(".e-reportviewer-toolbarul").css("display","none")},_resetPageNumber:function(e){e?this.element.find("#"+this._id+"_toolbar_li_gotopage").find("span.e-reportviewer-labelpageno").css("display","inline"):(this.element.find("#"+this._id+"_toolbar_gotopage").val(0),this.element.find("#"+this._id+"_toolbar_li_gotopage").find("span.e-reportviewer-labelpageno").css("display","none"))},_showPrintPageSetup:function(){var e;$("#"+this._id+"_printPageSetup").length>0?e=$("#"+this._id+"_printPageSetup").data("ejDialog"):(this._renderPrintPageSetup(),this._bindPageSetupModel(),$("#"+this._id+"_landscape").data("ejRadioButton").model.change=$.proxy(this._orientationChanged,this),$("#"+this._id+"_portrait").data("ejRadioButton").model.change=$.proxy(this._orientationChanged,this)),e&&e.model&&(e.isOpen()?$("#"+this._id+"_printPageSetup").ejDialog("close"):($("#"+this._id+"_printPageSetup").ejDialog("open"),this._bindPageSetupModel())),this._enableToolbarContents(!1)},_pageSettingClose:function(){this._enableToolbarContents(!0)},_updatePageSetup:function(e){ej.isNullOrUndefined(e)||(this._paperSetup.paperHeight=this._paperSetup.paperHeight?this._paperSetup.paperHeight:(e.PaperHeight/96).toFixed(2),this._paperSetup.paperWidth=this._paperSetup.paperWidth?this._paperSetup.paperWidth:(e.PaperWidth/96).toFixed(2),this._paperSetup.MarginTop=this._paperSetup.MarginTop&&this._paperSetup.MarginTop>0?this._paperSetup.MarginTop:(e.MarginTop/96).toFixed(2),this._paperSetup.MarginRight=this._paperSetup.MarginRight&&this._paperSetup.MarginRight>0?this._paperSetup.MarginRight:(e.MarginRight/96).toFixed(2),this._paperSetup.MarginBottom=this._paperSetup.MarginBottom&&this._paperSetup.MarginBottom>0?this._paperSetup.MarginBottom:(e.MarginBottom/96).toFixed(2),this._paperSetup.MarginLeft=this._paperSetup.MarginLeft&&this._paperSetup.MarginLeft>0?this._paperSetup.MarginLeft:(e.MarginLeft/96).toFixed(2),this._paperOrientation=this._paperOrientation?this._paperOrientation:parseFloat(this._paperSetup.paperHeight)<parseFloat(this._paperSetup.paperWidth)?"Landscape":"Portrait",this._paperName=this._paperName?this._paperName:"Landscape"==this._paperOrientation?this._getPaperName(parseFloat(this._paperSetup.paperHeight),parseFloat(this._paperSetup.paperWidth)):this._getPaperName(parseFloat(this._paperSetup.paperWidth),parseFloat(this._paperSetup.paperHeight)))},_initialPageSetup:function(e){ej.isNullOrUndefined(e.reportPageModel.PaperHeight)||(this._paperSetup.paperHeight=this._paperSetup.paperHeight?this._paperSetup.paperHeight:(e.reportPageModel.PaperHeight/96).toFixed(2)),ej.isNullOrUndefined(e.reportPageModel.PaperWidth)||(this._paperSetup.paperWidth=this._paperSetup.paperWidth?this._paperSetup.paperWidth:(e.reportPageModel.PaperWidth/96).toFixed(2)),ej.isNullOrUndefined(e.reportPageModel.MarginTop)||(this._paperSetup.MarginTop=this._paperSetup.MarginTop&&this._paperSetup.MarginTop>0?this._paperSetup.MarginTop:(e.reportPageModel.MarginTop/96).toFixed(2)),ej.isNullOrUndefined(e.reportPageModel.MarginRight)||(this._paperSetup.MarginRight=this._paperSetup.MarginRight&&this._paperSetup.MarginRight>0?this._paperSetup.MarginRight:(e.reportPageModel.MarginRight/96).toFixed(2)),ej.isNullOrUndefined(e.reportPageModel.MarginBottom)||(this._paperSetup.MarginBottom=this._paperSetup.MarginBottom&&this._paperSetup.MarginBottom>0?this._paperSetup.MarginBottom:(e.reportPageModel.MarginBottom/96).toFixed(2)),ej.isNullOrUndefined(e.reportPageModel.MarginLeft)||(this._paperSetup.MarginLeft=this._paperSetup.MarginLeft&&this._paperSetup.MarginLeft>0?this._paperSetup.MarginLeft:(e.reportPageModel.MarginLeft/96).toFixed(2))},_bindPageSetupModel:function(){var e=$("#"+this._id+"_paperHeight").data("ejNumericTextbox"),t=$("#"+this._id+"_paperWidth").data("ejNumericTextbox"),i=$("#"+this._id+"_paperMarginLeft").data("ejNumericTextbox"),s=$("#"+this._id+"_paperMarginTop").data("ejNumericTextbox"),a=$("#"+this._id+"_paperMarginRight").data("ejNumericTextbox"),o=$("#"+this._id+"_paperMarginBottom").data("ejNumericTextbox");$("#"+this._id+"_PaperSize").data("ejDropDownList").selectItemByText(this._paperName),e.option("value",this._paperSetup.paperHeight?this._paperSetup.paperHeight:1),t.option("value",this._paperSetup.paperWidth?this._paperSetup.paperWidth:1),s.option("value",this._paperSetup.MarginTop),a.option("value",this._paperSetup.MarginRight),o.option("value",this._paperSetup.MarginBottom),i.option("value",this._paperSetup.MarginLeft),"Landscape"==this._paperOrientation?$("#"+this._id+"_landscape").data("ejRadioButton").option("checked",!0):$("#"+this._id+"_portrait").data("ejRadioButton").option("checked",!0)},_orientationChanged:function(e){var t,i,s,a,o=$("#"+this._id+"_paperHeight").data("ejNumericTextbox"),r=$("#"+this._id+"_paperWidth").data("ejNumericTextbox"),l=$("#"+this._id+"_paperMarginLeft").data("ejNumericTextbox"),n=$("#"+this._id+"_paperMarginTop").data("ejNumericTextbox"),d=$("#"+this._id+"_paperMarginRight").data("ejNumericTextbox"),h=$("#"+this._id+"_paperMarginBottom").data("ejNumericTextbox");o&&r&&(t=o.getValue(),i=r.getValue(),"Custom"==this._paperName&&(e.model.id==this._id+"_portrait"&&t>i||e.model.id==this._id+"_landscape"&&t<i)?(o.option("value",t),r.option("value",i)):(o.option("value",i),r.option("value",t)),e.model.id==this._id+"_landscape"&&1==e.model.checked?(s=l.getValue(),l.option("value",n.getValue()),a=h.getValue(),h.option("value",s),s=d.getValue(),d.option("value",a),n.option("value",s),this._paperOrientation=ej.ReportViewer.Orientation.Landscape):(s=d.getValue(),d.option("value",n.getValue()),a=h.getValue(),h.option("value",s),s=l.getValue(),l.option("value",a),n.option("value",s),this._paperOrientation=ej.ReportViewer.Orientation.Portrait))},_setUpChange:function(e){var t=e.value,i=$("#"+this._id+"_paperHeight").data("ejNumericTextbox"),s=$("#"+this._id+"_paperWidth").data("ejNumericTextbox"),a=$("#"+this._id+"_paperMarginLeft").data("ejNumericTextbox"),o=$("#"+this._id+"_paperMarginTop").data("ejNumericTextbox"),r=$("#"+this._id+"_paperMarginRight").data("ejNumericTextbox"),l=$("#"+this._id+"_paperMarginBottom").data("ejNumericTextbox"),n=this._getPaperSize(t);"Custom"==t?"Portrait"==this._paperOrientation&&n.height>n.width||"Landscape"==this._paperOrientation&&n.height<n.width?(i.option("value",n.height),s.option("value",n.width)):(i.option("value",n.width),s.option("value",n.height)):"Landscape"==this._paperOrientation?(i.option("value",n.height<n.width?n.height:n.width),s.option("value",n.height<n.width?n.width:n.height)):(i.option("value",n.height),s.option("value",n.width)),o.getValue()||o.option("value",(0).toFixed(2)),r.getValue()||r.option("value",(0).toFixed(2)),l.getValue()||l.option("value",(0).toFixed(2)),a.getValue()||a.option("value",(0).toFixed(2)),"Custom"==t?(i.enable(),s.enable()):(i.disable(),s.disable())},_getPaperName:function(e,t){return 11.69==e&&16.54==t?"A3":8.27==e&&11.69==t?"A4":10.12==e&&14.33==t?"B4(JIS)":7.17==e&&10.12==t?"B5(JIS)":4.13==e&&9.5==t?"Envelope #10":3.88==e&&7.5==t?"Envelope Monarch":7.25==e&&10.5==t?"Executive":8.5==e&&14===t?"Legal":8.5==e&&11===t?"Letter":11===e&&17===t?"Tabloid":"Custom"},_getPaperSize:function(e){var t,i,s,a,o={};switch(e){case"A3":i=11.69,t=16.54;break;case"A4":i=8.27,t=11.69;break;case"B4(JIS)":i=10.12,t=14.33;break;case"B5(JIS)":i=7.17,t=10.12;break;case"Envelope #10":i=4.13,t=9.5;break;case"Envelope Monarch":i=3.88,t=7.5;break;case"Executive":i=7.25,t=10.5;break;case"Legal":i=8.5,t=14;break;case"Letter":i=8.5,t=11;break;case"Tabloid":i=11,t=17;break;case"Custom":s=$("#"+this._id+"_paperHeight"),a=$("#"+this._id+"_paperWidth"),t=s.length>0&&s.data("ejNumericTextbox")?s.data("ejNumericTextbox").getValue():this.model.pageSettings.height,i=a.length>0&&a.data("ejNumericTextbox")?a.data("ejNumericTextbox").getValue():this.model.pageSettings.width}return o.height=t,o.width=i,o},_pageSetupSubmit:function(){var e,t,i=$("#"+this._id+"_paperHeight").data("ejNumericTextbox").getValue(),s=$("#"+this._id+"_paperWidth").data("ejNumericTextbox").getValue(),a=$("#"+this._id+"_paperMarginTop").data("ejNumericTextbox").getValue(),o=$("#"+this._id+"_paperMarginRight").data("ejNumericTextbox").getValue(),r=$("#"+this._id+"_paperMarginBottom").data("ejNumericTextbox").getValue(),l=$("#"+this._id+"_paperMarginLeft").data("ejNumericTextbox").getValue();ej.isNullOrUndefined(i)||ej.isNullOrUndefined(s)||ej.isNullOrUndefined(a)||ej.isNullOrUndefined(o)||ej.isNullOrUndefined(r)||ej.isNullOrUndefined(l)||(a+r>=i||l+o>=s?(e=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],this._showAlertDialog(e.alertMessage.RVERR0009,"",!1)):(this._paperSetup.paperHeight=ej.isNullOrUndefined(i)?0:i,this._paperSetup.paperWidth=ej.isNullOrUndefined(s)?0:s,this._paperSetup.MarginTop=ej.isNullOrUndefined(a)?0:a,this._paperSetup.MarginRight=ej.isNullOrUndefined(o)?0:o,this._paperSetup.MarginBottom=ej.isNullOrUndefined(r)?0:r,this._paperSetup.MarginLeft=ej.isNullOrUndefined(l)?0:l,t=$("#"+this._id+"_PaperSize").data("ejDropDownList"),this._paperName=t.model.value,this._paperOrientation=i<s?"Landscape":"Portrait",this._pageSetup=!0,this.model.pageSettings.height=this._paperSetup.paperHeight,this.model.pageSettings.width=this._paperSetup.paperWidth,this.model.pageSettings.orientation=this._paperOrientation,this.model.pageSettings.paperSize=this._paperName,this.model.pageSettings.margins.top=this._paperSetup.MarginTop,this.model.pageSettings.margins.right=this._paperSetup.MarginRight,this.model.pageSettings.margins.bottom=this._paperSetup.MarginBottom,this.model.pageSettings.margins.left=this._paperSetup.MarginLeft,ej.isNullOrUndefined(this._paperSetup.paperWidth)||ej.isNullOrUndefined(this._paperSetup.paperHeight)||this._updatePreviewLayout(this._printMode,!0),$("#"+this._id+"_printPageSetup").ejDialog("close")))},_pageSetupCancel:function(){$("#"+this._id+"_printPageSetup").ejDialog("close")},_showExportSetup:function(){var e;$("#"+this._id+"_exportSetup").length>0?e=$("#"+this._id+"_exportSetup").data("ejDialog"):(this._renderExportSetup(),this._bindExportSetupModel()),e&&e.model&&(e.isOpen()?$("#"+this._id+"_exportSetup").ejDialog("close"):($("#"+this._id+"_exportSetup").ejDialog("open"),this._bindExportSetupModel())),this._enableToolbarContents(!1)},_exportSetupSubmit:function(){this.model.exportSettings.excelFormat=null!=this._excelFormat?this._excelFormat:this.model.exportSettings.excelFormat,this.model.exportSettings.wordFormat=null!=this._wordFormat?this._wordFormat:this.model.exportSettings.wordFormat;var e=$("#"+this._id+"_imageQuality").data("ejNumericTextbox").getValue();this.model.exportSettings.imageQuality=null!=e?e:this.model.exportSettings.imageQuality,ej.isNullOrUndefined(e)||$("#"+this._id+"_exportSetup").ejDialog("close")},_exportSetupCancel:function(){$("#"+this._id+"_exportSetup").ejDialog("close")},_bindExportSetupModel:function(){$("#"+this._id+"_ExcelFormat").data("ejDropDownList").selectItemByText(this.model.exportSettings.excelFormat),$("#"+this._id+"_WordFormat").data("ejDropDownList").selectItemByText(this.model.exportSettings.wordFormat),$("#"+this._id+"_imageQuality").data("ejNumericTextbox").option("value",this.model.exportSettings.imageQuality)},_exportSetupClose:function(){this._enableToolbarContents(!0)},_exportSetupChange:function(e){e.value.includes("excel")?this._excelFormat=e.value:this._wordFormat=e.value},_updateExportSetup:function(e){ej.isNullOrUndefined(e)||(this.model.exportSettings.excelFormat="Excel2013"!=e.ExcelVersion?e.ExcelVersion.toLowerCase():this.model.exportSettings.excelFormat,this.model.exportSettings.wordFormat="Docx"!=e.WordFormat?e.WordFormat.toLowerCase():this.model.exportSettings.wordFormat,this.model.exportSettings.imageQuality=2!=e.ImageQuality?e.ImageQuality:this.model.exportSettings.imageQuality)},_showFittoPage:function(e){e?$("#"+this._id+"_toolbar_li_pagefit").css("display","block"):$("#"+this._id+"_toolbar_li_pagefit").css("display","none")},_resetPage:function(){var e=null,t=null,i=$("#"+this._id+"_pageviewContainer"),s=$("#"+this._id+"_pageviewOuterline");s.css({width:i.width(),height:i.height()}),this._applyPageTransform(i,this._preZoomVal,this._preZoomVal),"msie"==this._browserInfo.name&&8==this._browserInfo.version?(e=i[0].getBoundingClientRect().right,t=i[0].getBoundingClientRect().bottom):(e=i[0].getBoundingClientRect().width,t=i[0].getBoundingClientRect().height),s.css({width:e,height:t})},_fitToPage:function(e){var t=null,i=null;this._resetPage();var s=$("#"+this._id+"_viewerContainer"),a=$("#"+this._id+"_pageviewContainer"),o=$("#"+this._id+"_pageviewOuterline"),r=s.width(),l=s.height(),n=o.width(),d=o.height(),h=1,c=1;return"msie"==this._browserInfo.name&&8==this._browserInfo.version?(t=a[0].getBoundingClientRect().right,i=a[0].getBoundingClientRect().bottom):(t=a[0].getBoundingClientRect().width,i=a[0].getBoundingClientRect().height),"fitToPage"==e?(h=(r-40)/n*this._preZoomVal,c=(l-40)/d*this._preZoomVal,l>d&&(c=this._preZoomVal),r>n&&(h=this._preZoomVal),this._applyPageTransform(a,h,c,e),o.css({width:t,height:i})):"wholepage"==e?l<d&&(c=(l-40)/d*this._preZoomVal,this._applyPageTransform(a,this._preZoomVal,c,e),h=this._preZoomVal,o.css({width:t,height:i})):"fitToWidth"==e&&r<n&&(h=(r-40)/n*this._preZoomVal,this._applyPageTransform(a,h,this._preZoomVal,e),c=this._preZoomVal,o.css({width:t,height:i})),{scalX:h,scalY:c}},_selectDropDownIndex:function(e){var t=$($("#"+this._id+"_toolbar_zoom_popup li")[e]);t.addClass("e-active"),$("#"+this._id+"_toolbar_zoom_input").val(t.text())},_applyDropDownVal:function(e,t,i){if(i){var s=e.scalX>e.scalY?e.scalY:e.scalX;$("#"+this._id+"_toolbar_zoom_input").val(Math.round(100*s)+"%"),$("#"+this._id+"_toolbar_zoom_popup li").removeClass("e-active")}else t?($("#"+this._id+"_toolbar_zoom_input").val(Math.round(100*e.scalX)+"%"),$("#"+this._id+"_toolbar_zoom_popup li").removeClass("e-active")):($("#"+this._id+"_toolbar_zoom_input").val(Math.round(100*e.scalY)+"%"),$("#"+this._id+"_toolbar_zoom_popup li").removeClass("e-active"))},_pageFitMenuClick:function(e){var t;if(this._isFitToPage=!1,this._isFitToWidth=!1,t=$(e.target).hasClass("e-reportviewer-icon")?$(e.target).attr("fitType"):e.target.className){var i,s=$("#"+this._id+"_toolbar_li_fittopagewidth"),a=s.find("span.e-reportviewer-icon"),o=$("#"+this._id+"_toolbar_li_fittowholepage"),r=o.find("span.e-reportviewer-icon"),l=$("#"+this._id+"_viewerContainer"),n=$("#"+this._id+"_pageviewOuterline"),d=$("#"+this._id+"_pageviewContainer"),h=l.width(),c=l.height(),u=n.width(),p=n.height(),m=d.width();switch($("#"+this._id+"_toolbar_zoom").data("ejDropDownList"),t){case"FITTOPAGE":this._isFitToPage=!0,i=this._fitToPage("fitToPage"),this._applyDropDownVal(i,!1,!0),l.scrollTop(0);break;case"PAGEWIDTH":case"e-reportviewer-popupli e-fitpagewidth e-reportviewer-tab-focus-none":if("true"==s.attr("isSelect"))"true"==o.attr("isSelect")?(this._isFitToPage=!0,i=this._fitToPage("fitToPage"),this._applyDropDownVal(i,!1,!0),l.scrollTop(0)):(this._resetPage(),this._selectDropDownIndex(this._zoomLevel)),a.removeClass("e-reportviewer-pagefittopage"),a.addClass("e-reportviewer-emptyconetent"),s.attr("isSelect","false");else{if(h>u)return void("true"==o.attr("isSelect")&&u!=m&&(this._isFitToWidth=!0,i=this._fitToPage("fitToWidth"),this._applyDropDownVal(i,!0,!1),s.attr("isSelect","true"),a.addClass("e-reportviewer-pagefittopage"),a.removeClass("e-reportviewer-emptyconetent"),r.addClass("e-reportviewer-emptyconetent"),r.removeClass("e-reportviewer-pagefittopage"),o.attr("isSelect","false")));this._isFitToWidth=!0,i=this._fitToPage("fitToWidth"),this._applyDropDownVal(i,!0,!1),o.attr("isSelect","false"),r.addClass("e-reportviewer-emptyconetent"),r.removeClass("e-reportviewer-pagefittopage"),s.attr("isSelect","true"),a.addClass("e-reportviewer-pagefittopage"),a.removeClass("e-reportviewer-emptyconetent")}break;case"WHOLEPAGE":case"e-reportviewer-popupli e-fitpageheight e-reportviewer-tab-focus-none":if("true"==o.attr("isSelect"))"true"==s.attr("isSelect")?(this._isFitToWidth=!0,i=this._fitToPage("fitToWidth"),this._applyDropDownVal(i,!0,!1)):(this._resetPage(),this._selectDropDownIndex(this._zoomLevel)),r.addClass("e-reportviewer-emptyconetent"),r.removeClass("e-reportviewer-pagefittopage"),o.attr("isSelect","false");else{if(c>p)return;this._isFitToPage=!0,i=this._fitToPage("fitToPage"),l.scrollTop(0),this._applyDropDownVal(i,!1,!0),r.addClass("e-reportviewer-pagefittopage"),r.removeClass("e-reportviewer-emptyconetent"),o.attr("isSelect","true"),a.removeClass("e-reportviewer-pagefittopage"),a.addClass("e-reportviewer-emptyconetent"),s.attr("isSelect","false")}}$("#"+this._id+"_toolbar_fittoPagePopup").hide(),this._onElementsRendered({action:"PageFit"})}},_showFitToPagetip:function(){var e,t,i,s=$("#"+this._id+"_toolbar_fittoPagePopup");s.length>0||(s=this._renderPageFitPopup(),$("body").append(s),this._on($("#"+this._id+"_toolbar_fittoPagePopup li.e-reportviewer-popupli"),"click",this._pageFitMenuClick),this._on($("#"+this._id+"_toolbar_fittoPagePopup li.e-reportviewer-popupli"),"mousedown",this._onPopupClick)),"block"==s.css("display")?s.css("display","none"):(s.css("display","block"),this._renderFitopagePopup()),e=$("#"+this._id+"_toolbar_li_pagefit"),(t=$("#"+this._id+"_toolbarContainer_hiddenlist")).length>0&&t.find("#"+this._id+"_toolbar_li_pagefit").length>0&&"none"!==t.css("display")?s.css({left:e.offset().left,top:e.offset().top+e.height()+parseFloat(e.css("padding-top"))+parseFloat(e.css("padding-bottom"))+parseFloat(e.parent().css("margin-bottom")),"z-index":ej.util.getZindexPartial(this.element)}):(i=this.element.find("#"+this._id+"_toolbarContainer"),s.css({left:e.offset().left,top:i.offset().top+parseFloat(i.css("border-top-width"))+i.height(),"z-index":ej.util.getZindexPartial(this.element)}))},_zoomValChange:function(e){var t=this._id.substr(0,this._id.lastIndexOf("_toolbar_zoom")),i=$("#"+t).data("boldReportViewer"),s=parseInt(e.value)/100;i._zoomLevel=e.itemId,i._zoomContainer(s,!1)},_zoomIn:function(){this._zoomLevel>=6?this._zoomLevel=6:this._zoomLevel++,this._isDevice?this._mobileLayoutZoomChange():$("#"+this._id+"_toolbar_zoom").data("ejDropDownList").selectItemsByIndices(this._zoomLevel)},_zoomOut:function(){this._zoomLevel<=0?this._zoomLevel=0:this._zoomLevel--,this._isDevice?this._mobileLayoutZoomChange():$("#"+this._id+"_toolbar_zoom").data("ejDropDownList").selectItemsByIndices(this._zoomLevel)},_mobileLayoutZoomChange:function(){this._zoomContainer([.5,.75,1,1.25,1.5,2,4][this._zoomLevel],!1)},_zoomInContainer:function(e,t){var i,s=t,a=($("#"+this._id+"_viewerContainer"),$("#"+this._id+"_pageviewContainer")),o=$("#"+this._id+"_pageviewOuterline");e&&(this._zoomVal=this._zoomVal+s),i=this._getPageViewSize(a),this._applyPageTransform(a,this._zoomVal,this._zoomVal),o.css({width:i.width*this._zoomVal,height:i.height*this._zoomVal})},_zoomOutContainer:function(e,t){var i,s=t,a=($("#"+this._id+"_viewerContainer"),$("#"+this._id+"_pageviewContainer")),o=$("#"+this._id+"_pageviewOuterline");e&&(this._zoomVal=this._zoomVal-s),i=this._getPageViewSize(a),this._applyPageTransform(a,this._zoomVal,this._zoomVal),o.css({width:i.width*this._zoomVal,height:i.height*this._zoomVal})},_getPageViewSize:function(e){var t=e.width(),i=e.height();return this.model.printMode&&!ej.isNullOrUndefined(this._pageModel)&&(t+=this._pageModel.MarginLeft+this._pageModel.MarginRight,i+=this._pageModel.MarginTop+this._pageModel.MarginBottom),{width:t,height:i}},_applyPageTransform:function(e,t,i,s){var a,o="scale("+t+","+i+")";if("msie"==this._browserInfo.name)switch("8.0"==this._browserInfo.version?e.css({zoom:t}):e.css({"-ms-transform":o,"-ms-transform-origin":"0 0"}),this._setZoomScrollerIE(),a=$("#"+this._id+"_viewerContainer"),s){case"fitToPage":a.css({"overflow-x":"hidden","overflow-y":"hidden"});break;case"wholepage":a.css({"overflow-y":"hidden"});break;case"fitToWidth":a.css({"overflow-x":"hidden"})}else"mozilla"==this._browserInfo.name?"11.0"==this._browserInfo.version?e.css({transform:o,"transform-origin":"0 0"}):e.css({"-moz-transform":o,"-moz-transform-origin":"0 0"}):"webkit"==this._browserInfo.name||"chrome"==this._browserInfo.name||"opera"==this._browserInfo.name?e.css({"-webkit-transform":o,"-webkit-transform-origin":"0 0"}):"edge"==this._browserInfo.name&&e.css({transform:o,"transform-origin":"0 0"})},_updateZoomContainer:function(e){var t=$("#"+this._id+"_toolbarContainer"),i=$("#"+this._id+"_toolbar_li_zoomout"),s=$("#"+this._id+"_toolbar_li_zoomin");0==e?t.ejToolbar("disableItem",i):i.hasClass("e-disable")&&t.ejToolbar("enableItem",i),6==e?t.ejToolbar("disableItem",s):s.hasClass("e-disable")&&t.ejToolbar("enableItem",s)},_zoomContainer:function(e,t){var i;this.model&&this.model.zoomFactor&&(this.model.zoomFactor=e),this._zoomVal=e,this._updateZoomContainer(this._zoomLevel);var s=$("#"+this._id+"_toolbar_li_fittopagewidth"),a=$("#"+this._id+"_toolbar_li_fittowholepage"),o=s.find("span.e-reportviewer-icon"),r=a.find("span.e-reportviewer-icon");if(("true"==s.attr("isSelect")||"true"==a.attr("isSelect"))&&this._resetPage(),o&&(o.removeClass("e-reportviewer-pagefittopage"),o.addClass("e-reportviewer-emptyconetent")),r&&(r.addClass("e-reportviewer-emptyconetent"),r.removeClass("e-reportviewer-pagefittopage")),0==(i=Math.abs(this._preZoomVal-e)))return!1;this._preZoomVal>e?this._zoomOutContainer(t,i):this._zoomInContainer(t,i),this._preZoomVal=e,this._onElementsRendered({action:"ZoomChange"})},_setZoomScrollerIE:function(e){if("msie"==this._browserInfo.name&&this._pageModel&&this._pageModel.PageData&&this._pageModel.PageData.length>0){var t=$("#"+this._id+"_viewerContainer"),i=this._pageModel.PageData[0],s=i.Height,a=i.Width,o=s+i.HeaderHeight+i.FooterHeight,r=t.height(),l=t.width();o*=e,a*=e,t.css({overflow:"hidden"}),t.css({"overflow-x":"Auto"}),t.css({"overflow-y":"Auto"}),o<r&&a<l?(t.css({"overflow-x":"hidden"}),t.css({"overflow-y":"hidden"})):a<l?t.css({"overflow-x":"hidden"}):o<r&&t.css({"overflow-y":"hidden"})}},_showZoomControl:function(e){e?($("#"+this._id+"_toolbar_li_zoomin").css("display","block"),$("#"+this._id+"_toolbar_li_zoomout").css("display","block"),$("#"+this._id+"_toolbar_li_zoom").css("display","block")):($("#"+this._id+"_toolbar_li_zoomin").css("display","none"),$("#"+this._id+"_toolbar_li_zoomout").css("display","none"),$("#"+this._id+"_toolbar_li_zoom").css("display","none"))},_getMultiTenantUrl:function(e,t){return this.model.tenantName?t?e+"?site="+this.model.tenantName:e+"&site="+this.model.tenantName:e},_refreshReport:function(){if(this._refresh=!0,this._dataRefresh=!0,this._unwireEvents(),this._initViewer(),null!=this._reportDataSources&&this._reportDataSources.length>0)this._getDataSourceCredential(this._reportDataSources);else if("Params"==this._paramInfo)this._ajaxCallMethod(this._reportAction.getParameters,"_getParameters",!1);else{var e=this._printMode?"_getPreviewModel":"_getPageModel";this._ajaxCallMethod(this._reportAction.getPageModel,e,!1)}},_showRefreshButton:function(e){e?$("#"+this._id+"_toolbar_li_refresh").css("display","block"):$("#"+this._id+"_toolbar_li_refresh").css("display","none")},_refreshIndicator:function(){var e=this.element.find("#"+this._id+"_viewerContainer").data("ejWaitingPopup"),t=this.element.find("#"+this._id+"_loadingIndicator").data("ejWaitingPopup");e&&e.model.showOnInit&&e.refresh(),t&&t.model.showOnInit&&t.refresh()},_showStopButton:function(e){e?$("#"+this._id+"_toolbar_li_stop").css("display","block"):$("#"+this._id+"_toolbar_li_stop").css("display","none")},_showExportSetupButton:function(e){e?$("#"+this._id+"_toolbar_li_exportsetup").css("display","block"):$("#"+this._id+"_toolbar_li_exportsetup").css("display","none")},_renderExportSetup:function(){var e,t,i,s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],v=null,x=null,y=ej.buildTag("div.e-reportdesigner-designer-configuration e-userselect","",{display:"table",width:"100%"},{id:this._id+"_exportSetup"}),w=ej.buildTag("div","",{display:"block",width:"352px"},{id:this._id+"_exportFormat"}),S=ej.buildTag("table","",{width:"100%"},{"border-collapse":"collapse"}),C=$("#"+this._id+".e-reportviewer")[0].getBoundingClientRect(),T=ej.buildTag("tr.e-reportviewer-exportsetuptr","",{}),L=ej.buildTag("tr.e-reportviewer-exportsetuptr","",{}),k=ej.buildTag("tr.e-reportviewer-exportsetuptr","",{}),P=ej.buildTag("td.e-reportviewer-exportsetupheader","",{"padding-top":"0px"},{colspan:"8"}),j=ej.buildTag("td.e-reportviewer-exportsetupcontent","",{},{width:"80px"});w.append(S),S.append(T),S.append(L),S.append(k),T.append(P),y.append(w),"msie"==this._browserInfo.name&&8==this._browserInfo.version?(v=C.right,x=C.bottom):(v=C.width,x=C.height),y.ejDialog((e={width:400,position:{X:C.left+v/3+20,Y:(C.top+x/2)/2},enableModal:!1,title:b.toolbar.exportsetup?b.toolbar.exportsetup.headerText:b.toolbar.exportsetup,enableResize:!1,enablePersistance:!1},_defineProperty(e,"enableModal",!0),_defineProperty(e,"showFooter",!0),_defineProperty(e,"cssClass","e-js e-rptviewer-dialog"),_defineProperty(e,"close",$.proxy(this._exportSetupClose,this)),e)),(t=ej.buildTag("div","",{"font-weight":"bold",width:"100%"},{id:this._id+"_ExportFomatLabel"})).append(b.exportsetupDialog.exportFormat),P.append(t),i=ej.buildTag("span","",{},{id:this._id+"_excelFormatLabel"}),s=ej.buildTag("div.e-reportviewer-ejdropdownlist","",{width:"100%","margin-left":"-2px"},{}),i.append(b.exportsetupDialog.excel+"&nbsp;"),(a=ej.buildTag("select.e-rptviewer-exportSetup","",{},{id:this._id+"_ExcelFormat"})).append('<option value="excel97to2003">Excel97to2003 (.xls)</option>'),a.append('<option value="excel2007">Excel2007 (.xlsx)</option>'),a.append('<option value="excel2010">Excel2010 (.xlsx)</option>'),a.append('<option value="excel2013">Excel2013 (.xlsx)</option>'),a.append('<option value="excel2016">Excel2016 (.xlsx)</option>'),s.append(a),a.ejDropDownList({cssClass:"e-rptviewer-drpdown-excelformat",height:"32px",width:"100%",value:this.model.exportSettings.excelFormat,watermarkText:b.waterMark.selectOption,enableAnimation:!0,change:$.proxy(this._exportSetupChange,this),enableIncrementalSearch:!0,htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":this._getLocaleString("exportsetupDialog","excel")}}),j.append(s),L.append(ej.buildTag("td.e-reportviewer-exportsetupcontent","",{width:"3px"})),(o=ej.buildTag("td.e-reportviewer-exportsetupcontent","",{width:"15px"})).append(i),L.append(o),L.append(j),r=ej.buildTag("span","",{},{id:this._id+"_wordFormatLabel"}),l=ej.buildTag("div.e-reportviewer-ejdropdownlist","",{width:"100%","margin-left":"-2px"},{}),r.append(b.exportsetupDialog.word+"&nbsp;"),(n=ej.buildTag("select.e-rptviewer-exportSetup","",{},{id:this._id+"_WordFormat"})).append('<option value="doc">Doc</option>'),n.append('<option value="dot">Dot</option>'),n.append('<option value="docx">Docx</option>'),n.append('<option value="word2007">Word2007 (.docx)</option>'),n.append('<option value="word2010">Word2010 (.docx)</option>'),n.append('<option value="word2013">Word2013 (.docx)</option>'),n.append('<option value="word2007Dotx">Word2007Dotx (.dotx)</option>'),n.append('<option value="word2010Dotx">Word2010Dotx (.dotx)</option>'),n.append('<option value="word2013Dotx">Word2013Dotx (.dotx)</option>'),n.append('<option value="word2007Docm">Word2007Docm (.docm)</option>'),n.append('<option value="word2010Docm">Word2010Docm (.docm)</option>'),n.append('<option value="word2013Docm">Word2013Docm (.docm)</option>'),n.append('<option value="word2007Dotm">Word2007Dotm (.dotm)</option>'),n.append('<option value="word2010Dotm">Word2010Dotm (.dotm)</option>'),n.append('<option value="word2013Dotm">Word2013Dotm (.dotm)</option>'),n.append('<option value="rtf">Rtf</option>'),n.append('<option value="txt">Txt</option>'),n.append('<option value="epub">EPub</option>'),n.append('<option value="html">Html</option>'),n.append('<option value="xml">Xml</option>'),l.append(n),n.ejDropDownList({cssClass:"e-rptviewer-drpdown-wordformat",height:"32px",width:"100%",watermarkText:b.waterMark.selectOption,value:this.model.exportSettings.wordFormat,enableAnimation:!0,change:$.proxy(this._exportSetupChange,this),enableIncrementalSearch:!0,htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":this._getLocaleString("exportsetupDialog","word")}}),k.append(ej.buildTag("td.e-reportviewer-exportsetupcontent","",{width:"3px"})),(d=ej.buildTag("td.e-reportviewer-exportsetupcontent","",{width:"15px"})).append(r),(h=ej.buildTag("td.e-reportviewer-exportsetupcontent","",{},{width:"80px"})).append(l),k.append(d),k.append(h),y.append(ej.buildTag("hr","",{size:"1px"}));var D=ej.buildTag("div","",{display:"block",width:"352px"},{id:this._id+"_imagequalitydiv "}),A=ej.buildTag("table","",{width:"100%"},{"border-collapse":"collapse"}),O=ej.buildTag("span","",{},{id:this._id+"_$imageQualityLabel"});O.append(b.exportsetupDialog.imageQuality+"&nbsp;"),D.append(A),y.append(D),(c=ej.buildTag("tr.e-reportviewer-exportimagequalitytr","",{})).append(ej.buildTag("td.e-reportviewer-exportimagequalitycontent","",{width:"3px"})),(u=ej.buildTag("td.e-reportviewer-exportimagequalitycontent","",{width:"114px"})).append(O),c.append(u),A.append(c),p=ej.buildTag("div","",{},{}),m=ej.buildTag("input.e-reportviewer-textbox","",{},{type:"text",id:this._id+"_imageQuality"}),p.append(m),(g=ej.buildTag("span","",{},{id:this._id+"_imageQualityUnitLabel"})).append(b.exportsetupDialog.dpi+"&nbsp;"),(_=ej.buildTag("td.e-reportviewer-exportimagequalitycontent","",{width:"80px"})).append(p),c.append(_),(f=ej.buildTag("td.e-reportviewer-exportimagequalitycontent","",{width:"120px"})).append(g),c.append(f),m.ejNumericTextbox({cssClass:"e-rptviewer-updown",enableStrictMode:!0,width:"80px",minValue:1,maxValue:10,enable:!1,htmlAttributes:{"aria-disabled":"false",role:"textbox","aria-label":this._getLocaleString("exportsetupDialog","imageQuality")}});var I=ej.buildTag("input.e-reportviewer-viewreportbutton e-btn","",{float:"right"},{type:"button",value:this._getLocaleString("exportsetupDialog","doneButton"),id:this._id+"_Submit"}),R=ej.buildTag("input.e-reportviewer-viewreportbutton e-btn","",{float:"right","margin-left":"10px"},{type:"button",value:this._getLocaleString("exportsetupDialog","cancelButton"),id:this._id+"_Cancel"}),M=$("#"+this._id+"_exportSetup_foot");$("#"+this._id+"_exportSetup_closebutton").attr("title",b.exportsetupDialog.close),M.append(R).append(I),I.ejButton({showRoundedCorner:!0,height:30,type:"Button",click:$.proxy(this._exportSetupSubmit,this),cssClass:"e-rptviewer-okbtn",htmlAttributes:{"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("exportsetupDialog","doneButton")}}),R.ejButton({showRoundedCorner:!0,height:30,type:"Button",click:$.proxy(this._exportSetupCancel,this),cssClass:"e-rptviewer-cancelbtn",htmlAttributes:{"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("exportsetupDialog","cancelButton")}}),"msie"==this._browserInfo.name?$("#"+this._id+"_ExportFormat_input").css("margin-top","-2px"):("opera"==this._browserInfo.name||"webkit"==this._browserInfo.name||"chrome"==this._browserInfo.name||"mozilla"==this._browserInfo.name)&&$("#"+this._id+"_ExportFormat_input").css("padding-bottom","3px")},_wireEvents:function(){this.model.toolbarSettings.templateId||(this._on($("#"+this._id+"_toolbar_gotopage"),"keypress",this._onkeyPress),this._on($("#"+this._id+"_toolbar_gotopage"),"click ",this._onToolbarItemClick),this._on($("#"+this._id+"_zoomSelection"),"change",this._zoomValChange),this._on($("#"+this._id+"_toolbar_zoom_container"),"click ",this._onToolbarItemClick)),this._on($("#"+this._id+"_viewerContainer"),"scroll",this._scrollPage),this._isDevice&&(this._on($("#"+this._id+"_viewerContainer"),"touchstart",this._touchStart),this._on($("#"+this._id+"_viewerContainer"),"touchend",this._touchEnd),this._on($("#"+this._id+"_viewerContainer"),"touchmove",this._touchMove)),this._on($("#"+this._id+"_pageviewOuterContainer"),"click",this._viewerClick),this._on($(document),"mousedown",this._onDocumentMouseDown),this._on($(document),"mouseup",this._onDocumentMouseUp)},_unwireEvents:function(){this.model.toolbarSettings.templateId||(this._off($("#"+this._id+"_toolbar_gotopage"),"keypress",this._onkeyPress),this._off($("#"+this._id+"_toolbar_gotopage"),"click ",this._onToolbarItemClick),this._off($("#"+this._id+"_zoomSelection"),"change",this._zoomValChange),this._off($("#"+this._id+"_toolbar_zoom_container"),"click ",this._onToolbarItemClick)),this._off($("#"+this._id+"_viewerContainer"),"scroll",this._scrollPage),this._isDevice&&(this._off($("#"+this._id+"_viewerContainer"),"touchstart",this._touchStart),this._off($("#"+this._id+"_viewerContainer"),"touchend",this._touchEnd),this._off($("#"+this._id+"_viewerContainer"),"touchmove",this._touchMove)),this._off($("#"+this._id+"_pageviewOuterContainer"),"click",this._viewerClick),this._off($(document),"mousedown",this._onDocumentMouseDown),this._off($(document),"mouseup",this._onDocumentMouseUp),this._off($("#"+this._id+"_viewReportClick"),"click",this._viewReportParamsClick),this._off($(window),"resize",this._viewerResize)},_hidePopUp:function(e){$(e.target).hasClass("e-reportviewer-export")||$($(e.target).children()).hasClass("e-reportviewer-export")?"block"!=$("#"+this._id+"_toolbar_exportListTip").css("display")&&$("#"+this._id+"_toolbar_exportListTip").css("display","none"):$("#"+this._id+"_toolbar_exportListTip").css("display","none"),$(e.target).hasClass("e-reportviewer-pagefit")||$($(e.target).children()).hasClass("e-reportviewer-pagefit")?"block"!=$("#"+this._id+"_toolbar_fittoPagePopup").css("display")&&$("#"+this._id+"_toolbar_fittoPagePopup").css("display","none"):$("#"+this._id+"_toolbar_fittoPagePopup").css("display","none")},_onPopupClick:function(){this._isPopupClick=!0},_onDocumentMouseUp:function(e){this._isPopupClick&&this._hidePopUp(e),this._isPopupClick=!1},_onDocumentMouseDown:function(e){this._isPopupClick||this._hidePopUp(e)},_onToolbarItemClick:function(e){var t=$(e.target).closest("li");t&&t.data("ejTooltip")&&t.ejTooltip("hide")},_toolbarClick:function(e){var t,i=e.target,s=$(e.target).attr("class"),a=$(e.target).closest("li"),o=a.attr("value")?a.attr("value"):$(e.target).attr("value");if(!a.attr("value")&&a.find(".e-customoption").length>0&&(o=a.find(".e-customoption").attr("value")),t=this._onToolbarClick({target:i,cssClass:s,groupIndex:$(a.closest("ul")[0]).index(),Index:a.index(),value:o}),$(i).hasClass("e-reportviewer-stop")&&($("#"+this._id+"_toolbar_li_stop").addClass("e-disable"),this.cancelRendering()),this._isToolbarClick){if(this._isPageDialogOpened())return;a.data("ejTooltip")&&a.ejTooltip("hide"),t||($(i).hasClass("e-reportviewer-toolbarli")&&(i=$(i).find("span")),$(i).hasClass("e-reportviewer-print")?(this._printData=[],this._print()):$(i).hasClass("e-reportviewer-export")?this._showExportTooltip():$(i).hasClass("e-reportviewer-pagesetup")?this._showPrintPageSetup():$(i).hasClass("e-reportviewer-exportsetup")?this._showExportSetup():$(i).hasClass("e-reportviewer-gotofirst")?this._gotoFirstPage():$(i).hasClass("e-reportviewer-gotolast")?this._gotoLastPage():$(i).hasClass("e-reportviewer-gotonext")?this._gotoNextPage():$(i).hasClass("e-reportviewer-gotoprevious")?this._gotoPreviousPage():$(i).hasClass("e-reportviewer-gotoparent")?this._gotoParentReport():$(i).hasClass("e-reportviewer-documentmap")&&!this._printMode?this._documentMapClick():$(i).hasClass("e-reportviewer-zoomin")?this._zoomIn():$(i).hasClass("e-reportviewer-zoomout")?this._zoomOut():$(i).hasClass("e-reportviewer-pagefit")?this._showFitToPagetip():$(i).hasClass("e-reportviewer-preview")?this._printlayout():$(i).hasClass("e-reportviewer-refresh")?this._refreshReport():$(i).hasClass("e-reportviewer-parameter")&&this._toggleParameterBlock())}},_showToolbar:function(e){e?$("#"+this._id+"_toolbarContainer").css("display","block"):$("#"+this._id+"_toolbarContainer").css("display","none")},_initToolbar:function(){var e,t;this._isToolbarClick=!1,this.model.toolbarSettings.templateId||(this._isDevice?this._zoomContainer(this.model.zoomFactor,!1):(e=$("#"+this._id+"_toolbar_zoom").data("ejDropDownList"),this._refresh?e.selectItemsByIndices(e.model.selectedIndex):-1!==(t=[.5,.75,1,1.25,1.5,2,4]).indexOf(this.model.zoomFactor)?e.selectItemsByIndices(t.indexOf(this.model.zoomFactor)):e.selectItemsByIndices(2),e.disable(),this._disableNavigation()))},_disableNavigation:function(){var e=$("#"+this._id+"_toolbarContainer");$("#"+this._id+"_toolbar_gotopage").attr("disabled","disabled"),e.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotofirst")),e.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotoprevious")),e.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotonext")),e.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotolast"))},_enableToolbarItems:function(){this._isToolbarClick=!0,this.model.toolbarSettings.templateId||this._isDevice||($("#"+this._id+"_toolbar_gotopage").removeAttr("disabled"),$("#"+this._id+"_toolbar_zoom").data("ejDropDownList").enable())},_enableToolbarContents:function(e){e?($("#"+this._id+"_toolbar_zoom").data("ejDropDownList").enable(),$("#"+this._id+"_toolbar_gotopage").attr("readonly",!1)):($("#"+this._id+"_toolbar_zoom").data("ejDropDownList").disable(),$("#"+this._id+"_toolbar_gotopage").attr("readonly",!0))},_setTooltip:function(){$("#"+this._id+"_toolbar_li_print").attr("data-content",this._getLocaleString("toolbar","print","headerText")),$("#"+this._id+"_toolbar_li_export").attr("data-content",this._getLocaleString("toolbar","exportformat","headerText")),$("#"+this._id+"_toolbar_li_exportsetup").attr("data-content",this._getLocaleString("toolbar","exportsetup","headerText")),$("#"+this._id+"_toolbar_li_pagesetup").attr("data-content",this._getLocaleString("toolbar","pagesetup","headerText")),$("#"+this._id+"_toolbar_li_gotofirst").attr("data-content",this._getLocaleString("toolbar","first","headerText")),$("#"+this._id+"_toolbar_li_gotolast").attr("data-content",this._getLocaleString("toolbar","last","headerText")),$("#"+this._id+"_toolbar_li_gotonext").attr("data-content",this._getLocaleString("toolbar","next","headerText")),$("#"+this._id+"_toolbar_li_gotoprevious").attr("data-content",this._getLocaleString("toolbar","previous","headerText")),$("#"+this._id+"_toolbar_li_gotoparent").attr("data-content",this._getLocaleString("toolbar","back","headerText")),$("#"+this._id+"_toolbar_li_zoomin").attr("data-content",this._getLocaleString("toolbar","zoomIn","headerText")),$("#"+this._id+"_toolbar_li_zoomout").attr("data-content",this._getLocaleString("toolbar","zoomOut","headerText")),$("#"+this._id+"_toolbar_li_pagefit").attr("data-content",this._getLocaleString("toolbar","fittopage","headerText")),$("#"+this._id+"_toolbar_li_preview").attr("data-content",this._getLocaleString("toolbar","printLayout","headerText")),$("#"+this._id+"_toolbar_li_refresh").attr("data-content",this._getLocaleString("toolbar","refresh","headerText")),$("#"+this._id+"_toolbar_li_stop").attr("data-content",this._getLocaleString("toolbar","stop","headerText")),$("#"+this._id+"_toolbar_li_documentmap").attr("data-content",this._getLocaleString("toolbar","documentMap","headerText")),$("#"+this._id+"_toolbar_li_parameter").attr("data-content",this._getLocaleString("toolbar","parameter","headerText"))},_viewpopupBlockNone:function(e){return!ej.isNullOrUndefined(e)&&0!=e.length&&"block"==e.css("display")},_isPageDialogOpened:function(){var e=$("#"+this._id+"_printPageSetup").data("ejDialog");return!(ej.isNullOrUndefined(e)||!e.isOpen())},_beforeTooltipPopup:function(e){var t,i,s,a,o,r,l,n,d;this.model.toolbarSettings.showTooltip&&!this._isDevice?(s=!0,(t=$(e.event.target).closest("li")).hasClass("e-reportviewer-toolbarli")&&(a=t.children("span")),(this._viewpopupBlockNone($("#"+this._id+"_toolbar_fittoPagePopup"))||this._viewpopupBlockNone($("#"+this._id+"_toolbar_exportListTip"))||this._isPageDialogOpened())&&(s=!1),a&&(a.hasClass("e-customoption")?(o=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],r=a.attr("value"),ej.isNullOrUndefined(o.toolbar[r])?(l=a.attr("header"),n=a.attr("content"),(l||n)&&(i={header:l,content:n})):i={header:o.toolbar[r].headerText,content:o.toolbar[r].contentText}):a.hasClass("e-reportviewer-print")?i=this._getTootipText("print"):a.hasClass("e-reportviewer-export")?i=this._getTootipText("export"):a.hasClass("e-reportviewer-exportsetup")?i=this._getTootipText("exportsetup"):a.hasClass("e-reportviewer-preview")?i=this._getTootipText("preview"):a.hasClass("e-reportviewer-pagesetup")?i=this._getTootipText("pagesetup"):a.hasClass("e-reportviewer-gotofirst")?i=this._getTootipText("first"):a.hasClass("e-reportviewer-gotolast")?i=this._getTootipText("last"):a.hasClass("e-reportviewer-gotonext")?i=this._getTootipText("next"):a.hasClass("e-reportviewer-gotoprevious")?i=this._getTootipText("previous"):a.hasClass("e-reportviewer-gotoparent")?i=this._getTootipText("back"):a.hasClass("e-reportviewer-tbpage")||a.hasClass("e-reportviewer-pagenumber")||a.hasClass("e-reportviewer-labelpageno")?i=this._getTootipText("pageIndex"):a.hasClass("e-reportviewer-documentmap")?i=this._getTootipText("documentmap"):a.hasClass("e-reportviewer-zoomin")?i=this._getTootipText("zoomin"):a.hasClass("e-reportviewer-zoomout")?i=this._getTootipText("zoomout"):a.hasClass("e-reportviewer-refresh")?i=this._getTootipText("refresh"):a.hasClass("e-reportviewer-stop")?i=this._getTootipText("stop"):a.hasClass("e-reportviewer-parameter")?i=this._getTootipText("parameter"):t.hasClass("e-reportviewer-ejdropdownlist")&&a.find(".e-reportviewer-zoomlist").length>0?i=this._getTootipText("zoom"):a.hasClass("e-reportviewer-pagefit")&&(i=this._getTootipText("fittopage"))),i&&s?(d=this._getTooltipTemplate(i),$(e.event.target).closest("li").data("ejTooltip").setModel({content:d})):e.cancel=!0):e.cancel=!0},_getTooltipTemplate:function(e){var t;return ej.isNullOrUndefined(e.header)||ej.isNullOrUndefined(e.content)?ej.isNullOrUndefined(e.header)?ej.isNullOrUndefined(e.content)||(t="<div class='e-reportviewer-contentspan'>"+e.content+"</div>"):t="<div class='e-reportviewer-headerspan'>"+e.header+"</div>":t="<div class='e-reportviewer-headerspan'>"+e.header+"</div><div class='e-reportviewer-contentspan'>"+e.content+"</div>",t},_getTootipText:function(e){var t=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],i="",s="";switch(e){case"print":i=t.toolbar.print.headerText,s=t.toolbar.print.contentText;break;case"export":i=t.toolbar.exportformat.headerText,s=t.toolbar.exportformat.contentText;break;case"first":i=t.toolbar.first.headerText,s=t.toolbar.first.contentText;break;case"previous":i=t.toolbar.previous.headerText,s=t.toolbar.previous.contentText;break;case"next":i=t.toolbar.next.headerText,s=t.toolbar.next.contentText;break;case"last":i=t.toolbar.last.headerText,s=t.toolbar.last.contentText;break;case"zoomin":i=t.toolbar.zoomIn.headerText,s=t.toolbar.zoomIn.contentText;break;case"zoomout":i=t.toolbar.zoomOut.headerText,s=t.toolbar.zoomOut.contentText;break;case"preview":i=t.toolbar.printLayout.headerText,s=t.toolbar.printLayout.contentText;break;case"documentmap":i=t.toolbar.documentMap.headerText,s=t.toolbar.documentMap.contentText;break;case"refresh":i=t.toolbar.refresh.headerText,s=t.toolbar.refresh.contentText;break;case"stop":i=t.toolbar.stop.headerText,s=t.toolbar.stop.contentText;break;case"parameter":i=t.toolbar.parameter.headerText,s=t.toolbar.parameter.contentText;break;case"back":i=t.toolbar.back.headerText,s=t.toolbar.back.contentText;break;case"pageIndex":i=t.toolbar.pageIndex.headerText,s=t.toolbar.pageIndex.contentText;break;case"zoom":i=t.toolbar.zoom.headerText,s=t.toolbar.zoom.contentText;break;case"fittopage":i=t.toolbar.fittopage.headerText,s=t.toolbar.fittopage.contentText;break;case"pagesetup":i=t.toolbar.pagesetup.headerText,s=t.toolbar.pagesetup.contentText;break;case"exportsetup":i=t.toolbar.exportsetup.headerText,s=t.toolbar.exportsetup.contentText}return{header:i,content:s}},_drillAction:function(){$._data($(".txtToggle_"+this._id).get(0),"events")==undefined&&this._on($(".txtToggle_"+this._id),"click",this._drillClick)},_drillClick:function(e){var t,i=$(e.currentTarget).attr("drillObj");i&&(this._currentTogglePosition=0,this.model.sizeToReportContent&&(this._currentTogglePosition=$(e.currentTarget).offset().top-$(e.currentTarget).parent().outerHeight()/2),_serverActionInfo=i,t=this._printMode?"_getPreviewModel":"_getPageModel",this._ajaxCallMethod(this._reportAction.drillDown,t,!1))},_sortingAction:function(){$._data($(".txtSorting_"+this._id).get(0),"events")==undefined&&this._on($(".txtSorting_"+this._id),"click",this._sortingClick)},_sortingClick:function(e){var t,i=$(e.currentTarget).attr("sortingObj");i&&(_serverActionInfo=i,t=this._printMode?"_getPreviewModel":"_getPageModel",this._ajaxCallMethod(this._reportAction.sorting,t,!1))},_showDocumentMap:function(e){e?$("#"+this._id+"_toolbar_li_documentmap").css("display","block"):$("#"+this._id+"_toolbar_li_documentmap").css("display","none")},_appendDocumentMapDiv:function(){if(this._isDevice){var e=$("#"+this._id+"_documentmapContainer");0==e.length&&(e=ej.buildTag("div.e-reportviewer-documentmappopup","",{display:"none"},{id:this._id+"_documentmapContainer"}),$("body").append(e))}},_selectDocMapToolItem:function(e){if(!this.model.toolbarSettings.templateId){var t=$("#"+this._id+"_toolbarContainer").data("ejToolbar");e?t.selectItemByID(this._id+"_toolbar_li_documentmap"):t.deselectItemByID(this._id+"_toolbar_li_documentmap")}this._onElementsRendered({action:"DocumentMap selected"})},_documentMapClick:function(){var e,t;this._isDevice?"block"==(t=$("#"+this._id+"_documentmapContainer")).css("display")?(this._pageDocMapFlag=!0,t.css("display","none"),this._selectDocMapToolItem(!1)):(this._pageDocMapFlag=!1,t.css("display","block"),this._selectDocMapToolItem(!0)):(e=$("#"+this._id+"_reportviewerContainer").data("ejSplitter"))&&($(e.panes[0]).hasClass("collapsed")?(this._pageDocMapFlag=!0,e.model.properties[0].paneSize="0%",e.model.properties[1].paneSize="100%",e.refresh(),e.expand(0),this._selectDocMapToolItem(!0)):(this._pageDocMapFlag=!1,e.model.properties[0].paneSize="20%",e.model.properties[1].paneSize="80%",e.refresh(),e.collapse(0),this._selectDocMapToolItem(!1))),this._onElementsRendered({action:"DocumentMap clicked"})},_showDocumentMapContainer:function(e){var t,i;this._isDevice?e?$("#"+this._id+"_documentmapContainer").css("display","block"):$("#"+this._id+"_documentmapContainer").css("display","none"):(t=$("#"+this._id+"_reportviewerContainer").data("ejSplitter"))&&($(t.panes[0]).hasClass("collapsed")?(i=$("#"+this._id+"_toolbar_li_documentmap").attr("data-aria-selected"),this._printMode||"true"!=i||(this._pageDocMapFlag=!0,t.model.properties[0].paneSize="0%",t.model.properties[1].paneSize="100%",t.refresh(),t.expand(0))):(this._pageDocMapFlag=!1,t.model.properties[0].paneSize="20%",t.model.properties[1].paneSize="80%",t.refresh(),t.collapse(0)),this._printMode?($(".e-split-divider").css("display","none"),this._showDocumentMap(!1)):($(".e-split-divider").css("display","block"),this._showDocumentMap(!0)))},_destroyDocumentMapTree:function(){var e,t;$("#"+this._id+"_documentmapContainer").length>0&&$("#"+this._id+"_ejtreeView").length>0&&($("#"+this._id+"_documentmapContainer").css("display","none"),(e=$("#"+this._id+"_ejtreeView").data("ejTreeView"))&&e.destroy&&e.destroy(),$("#"+this._id+"_ejtreeView").css("display","none"),(t=$("#"+this._id+"_reportviewerContainer").data("ejSplitter")).collapse(),t.refresh(),$(".e-split-divider").css("display","none"),$("#"+this._id+"_viewerContainer").css("width","100%"))},_documentMapAction:function(){this._ajaxCallMethod(this._reportAction.documentMap,"_documentMapModel",!1)},_containerSplit:function(e){var t,i;$("#"+this._id+"_documentmapContainer").css("display","block"),t=$("#"+this._id+"_viewerContainer"),this._appendDocumentMapDiv(),i=ej.buildTag("div.e-reportviewer-documentmappopup","",{},{id:this._id+"_ejtreeView"}),$("#"+this._id+"_documentmapContainer").css("height","100%"),$("#"+this._id+"_documentmapContainer").empty(),$("#"+this._id+"_documentmapContainer").append(i),$("#"+this._id+"_ejtreeView").css("display","none"),$("#"+this._id+"_ejtreeView").ejTreeView({height:"99.6%",nodeSelect:this._docMapNodeSelected,fields:{id:"NodeId",parentId:"ParentNodeId",text:"NodeLabel",dataSource:e,expanded:"Expanded"},isResponsive:!0}),this._isDevice?$("#"+this._id+"_documentmapContainer").css({position:"absolute",left:t.offset().left,top:t.offset().top,height:t.height(),width:t.width()/6}):$("#"+this._id+"_reportviewerContainer").ejSplitter({height:t.height()+1,orientation:ej.Orientation.Horizontal,beforeExpandCollapse:this._documentMapExpandClick,properties:[{paneSize:"20%",expandable:!1},{paneSize:"80%",collapsible:!1}],isResponsive:!0}),$("#"+this._id+"_ejtreeView").css("display","block"),this._selectDocMapToolItem(!0),this._onElementsRendered({action:"DocumentMap loaded"})},_docMapNodeSelected:function(e){try{var t=e.model.fields.dataSource[e.selectedNodes[0]],i=this._id.replace("_ejtreeView",""),s=$("#"+i).data("boldReportViewer");s._isDevice&&($("#"+i+"_documentmapContainer").css("display","none"),this._selectDocMapToolItem(!1)),s._currnetDocMapNodeId=t.NodeId,s._gotoPageNo(t.PageNo)}catch(a){}},_documentMapExpandClick:function(e){var t=this._id.substr(0,this._id.lastIndexOf("_reportviewerContainer")),i=$("#"+t).data("boldReportViewer");i._printMode||"beforeExpand"!=e.action?i._printMode||"beforeCollapse"!=e.action||i._selectDocMapToolItem(!1):i._selectDocMapToolItem(!0)},_scrollDocMapItemView:function(){var e,t=$("#"+this._id).find("div[id*="+this._currnetDocMapNodeId+"]");t&&t.length>0?(this._scrollToDiv(t[0]),this._onElementsRendered({action:"DocumentMap node selected"})):(e=document.getElementById(this._id+"_"+this._currnetDocMapNodeId))&&(this._scrollToDiv(e),this._onElementsRendered({action:"DocumentMap node selected"})),this._currnetDocMapNodeId=null},_scrollToBookmark:function(){var e,t,i;if(this._currentBookmarkInfo.IsTablixChild){for(t=$("#"+this._id).find("div[id*="+this._currentBookmarkInfo.ItemName+"]"),i=0;i<t.length;i++)if(t[i].id.includes("tablixRow"+this._currentBookmarkInfo.RowNo+"xCol"+this._currentBookmarkInfo.ColumnNo)){e=t[i];break}}else e=document.getElementById(this._id+"_"+this._currentBookmarkInfo.ItemName);e&&this._scrollToDiv(e),this._currentBookmarkInfo=null},_scrollToDiv:function(e){var t=$("#"+this._id+"_viewerContainer"),i=$("#"+this._id+"_toolbarContainer").height(),s=$("#"+this._id+"_viewBlockContainer").height(),a=$("#"+e.id).offset(),o=i+s;t.scrollLeft(a.left),t.scrollTop(a.top-o)},_showDrillThrough:function(e){e?$("#"+this._id+"_toolbar_li_gotoparent").css("display","block"):$("#"+this._id+"_toolbar_li_gotoparent").css("display","none")},_drillThroughAction:function(){$._data($(".drillAction_"+this._id).get(0),"events")==undefined&&this._on($(".drillAction_"+this._id),"click",this._drillThroughClick)},_drillThroughClick:function _drillThroughClick(event){var drillActionInfo=null,proxy=null,chartActionInfo,i,j,actionInfo,isCancel,isDrill,_actionInfo;if("ejChart"==this.pluginName){if(proxy=$("#"+event.model.ejreportid).data("boldReportViewer"),$("#"+this._id+"_svg_TrackToolTip").css("display","none"),chartActionInfo=$("#"+this._id).attr(this._id+"actionObj_Series"+event.data.region.SeriesIndex),chartActionInfo=JSON.parse(chartActionInfo),ej.isNullOrUndefined(chartActionInfo))return!1;var seriesIndex=event.model.series[event.data.region.SeriesIndex],seriesName=seriesIndex.points[event.data.region.Region.PointIndex].x,labelIndex=0;for(i=0;i<chartActionInfo.length;i++)for(j=0;j<chartActionInfo[i].Parameters.length;j++)if(null!=chartActionInfo[i].Parameters[j].Value&&chartActionInfo[i].Parameters[j].Value[0]==seriesName){labelIndex=i;break}drillActionInfo=0==labelIndex?chartActionInfo[event.data.region.Region.PointIndex]:chartActionInfo[labelIndex]}else proxy=this,$(event.currentTarget).data("actionObj")!=undefined?drillActionInfo=$(event.currentTarget).data("actionObj"):(drillActionInfo=$(event.currentTarget).attr("actionObj"),drillActionInfo&&(drillActionInfo=JSON.parse(drillActionInfo)));drillActionInfo&&(actionInfo={actionInfo:$.extend(!0,{},drillActionInfo)},proxy&&(drillActionInfo.Hyperlink?(isCancel=proxy._onHyperlink(actionInfo),isCancel||(-1!==drillActionInfo.Hyperlink.toLowerCase().indexOf("javascript:")?eval(drillActionInfo.Hyperlink):window.open(drillActionInfo.Hyperlink))):drillActionInfo.ReportName?(isDrill=proxy._onDrillThrough(actionInfo),isDrill||(_actionInfo=actionInfo.actionInfo,proxy._isDrillThroughReport=!0,proxy._childReportToken=proxy._getAuthenticationToken(),proxy._showloadingIndicator(!0),proxy.doAjaxPost("POST",proxy._actionUrl,JSON.stringify({reportAction:proxy._reportAction.drillThrough,controlId:proxy._id,reportName:_actionInfo.ReportName,parameters:_actionInfo.Parameters,authKey:proxy._childReportToken}),"_drillThroughModel"))):drillActionInfo.BookmarkInfo&&(proxy._currentBookmarkInfo=drillActionInfo.BookmarkInfo,proxy._currentPage===drillActionInfo.BookmarkInfo.PageNo?proxy._scrollToBookmark():proxy._gotoPageNo(drillActionInfo.BookmarkInfo.PageNo))))},_gotoParentReport:function(){this._ajaxCallMethod(this._reportAction.clearCache,"_gotoParentReportModel",!1)},_setInitialization:function(){this._dataSources=null,this._reportViewerToken=null,this._childReportToken=null,this._refresh=!1,this._isToolbarClick=!1,this._pageModel=null,this._currnetDocMapNodeId=null,this._currentBookmarkInfo=null,this._currentPage=1,this._reportParameters=null,this._paramInfo=null,this._reportDataSources=null,this._reporDataSets=null,this._zoomLevel=2,this._isDocumentMap=!1,this._reportParametersModel=[]},_cloneReportViewerProperties:function(){var e={};return e.model=this.model,e._dataSources=$.extend(!0,[],this._dataSources),e._reportViewerToken=this._reportViewerToken,e._childReportToken=this._childReportToken,e._refresh=this._refresh,e._isToolbarClick=this._isToolbarClick,e._currnetDocMapNodeId=this._currnetDocMapNodeId,e._currentBookmarkInfo=this._currentBookmarkInfo,e._pageModel=$.extend(!0,{},this._pageModel),e._currentPage=this._currentPage,e._reportParameters=$.extend(!0,[],this._reportParameters),e._paramInfo=this._paramInfo,e._reportParametersModel=$.extend(!0,[],this._reportParametersModel),e._customParameters=$.extend(!0,[],this._customParameters),e._reportDataSources=$.extend(!0,[],this._reportDataSources),e._reporDataSets=$.extend(!0,[],this._reporDataSets),e._preZoomVal=this._preZoomVal,e._isDevice=this._isDevice,e._originX=this._originX,e._originY=this._originY,e._printMode=this._printMode,e._pageSetup=this._pageSetup,e._isDocumentMap=this._isDocumentMap,e.enableOnScrollNavigation=this.enableOnScrollNavigation,e},_setParentReportViewerProperties:function(){var e=this._parents[this._parents.length-1],t=e.parentPro;this.model=t.model,this._dataSources=t._dataSources,this._reportViewerToken=t._reportViewerToken,this._childReportToken=t._childReportToken,this._refresh=t._refresh,this._isToolbarClick=t._isToolbarClick,this._pageModel=t._pageModel,this._currentPage=t._currentPage,this._reportParameters=t._reportParameters,this._paramInfo=t._paramInfo,this._reportParametersModel=t._reportParametersModel,this._customParameters=t._customParameters,this._reportDataSources=t._reportDataSources,this._reporDataSets=t._reporDataSets,this._isDocumentMap=t._isDocumentMap,this._preZoomVal=t._preZoomVal,this.model.printMode=t._printMode=this._printMode,this._originX=t._originX,this._originY=t._originY,this._parentPageXY=e.pagePos,this.enableOnScrollNavigation=t.enableOnScrollNavigation,this._parents.pop()},_printlayout:function(){this._updatePreviewLayout(!this._printMode,this._pageSetup)},_selectPreviewToolItem:function(e){if(!this.model.toolbarSettings.templateId){var t=$("#"+this._id+"_toolbarContainer").data("ejToolbar");e?t.selectItemByID(this._id+"_toolbar_li_preview"):t.deselectItemByID(this._id+"_toolbar_li_preview")}},_updatePreviewLayout:function(e,t){var i;if(this._printMode=e,this._isSelectedPage=!1,this._printMode?(this._currentPage=1,this._pageLayoutPage=this._currentPage):this._currentPage=this._pageLayoutPage,$("#"+this._id+"_toolbarContainer").ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_preview")),this._selectPreviewToolItem(this._printMode),this._isPageDocMap&&!this._isDocumentMap?this._showDocumentMapContainer(!this._printMode&&this._pageDocMapFlag):this._showDocumentMapContainer(!1),this.model.printMode=this._printMode,t){var s=$("#"+this._id+"_PaperSize").data("ejDropDownList"),a=this._getPaperSize(s.model.value);$("#"+this._id+"_landscape").data("ejRadioButton"),$("#"+this._id+"_portrait").data("ejRadioButton"),"Custom"==s.model.value?"Portrait"==this._paperOrientation&&a.height>a.width||"Landscape"==this._paperOrientation&&a.height<a.width?(this._paperSetup.paperHeight=a.height,this._paperSetup.paperWidth=a.width):(this._paperSetup.paperHeight=a.width,this._paperSetup.paperWidth=a.height):"Landscape"==this._paperOrientation?(this._paperSetup.paperHeight=a.height<a.width?a.height:a.width,this._paperSetup.paperWidth=a.height<a.width?a.width:a.height):(this._paperSetup.paperHeight=a.height,this._paperSetup.paperWidth=a.width),i=this._printMode?"_getPreviewModel":"_getPageModel",this._ajaxCallMethod(this._reportAction.getPageModel,i,!0)}else i=this._printMode?"_getPreviewModel":"_getPageModel",this._ajaxCallMethod(this._reportAction.getPageModel,i,!1,this._reportParameters)},_showPreviewButton:function(e){e?$("#"+this._id+"_toolbar_li_preview").css("display","block"):$("#"+this._id+"_toolbar_li_preview").css("display","none")},_getLocaleString:function(e,t,i){try{var s;return this._localeObj||(this._localeObj=this.model&&this.model.locale&&ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"]),e&&t&&i?(s=this._localeObj[e][t][i])||(s=this._localeObj[e][t]):s=e&&t?this._localeObj[e][t]:this._localeObj[e],s}catch(a){return""}},_setCultureInfo:function(){var e,t,i,s,a,o,r,l,n,d,h,c,u,p,m,g,_,f;for(this._localeObj=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],e=this._getLocaleString("toolbar","exportformat","headerText"),p=0;p<this.model.exportSettings.customItems.length;p++)t=this.model.exportSettings.customItems[p].value,i=this._getLocaleString("toolbar","exportformat",t),ej.isNullOrUndefined(i)?$("#"+this._id+"_toolbar_li_customexport_"+p).text(t).attr("aria-label",t+" "+e):$("#"+this._id+"_toolbar_li_customexport_"+p).text(i).attr("aria-label",i+" "+e);this._isDesign&&this._setTooltip();var b=$("#"+this._id+"_toolbar_fittopagewidth"),v=$("#"+this._id+"_toolbar_fittowholepage"),x=$("#"+this._id+"_toolbar_li_fittopagewidth"),y=$("#"+this._id+"_toolbar_li_fittowholepage");if($("#"+this._id+"_viewReportClick").val(this._getLocaleString("viewButton")),$("#"+this._id+"_toolbar_li_pdf").text(this._getLocaleString("toolbar","exportformat","Pdf")).attr("aria-label",this._getLocaleString("toolbar","exportformat","Pdf")+" "+e),$("#"+this._id+"_toolbar_li_xls").text(this._getLocaleString("toolbar","exportformat","Excel")).attr("aria-label",this._getLocaleString("toolbar","exportformat","Excel")+" "+e),$("#"+this._id+"_toolbar_li_word").text(this._getLocaleString("toolbar","exportformat","Word")).attr("aria-label",this._getLocaleString("toolbar","exportformat","Word")+" "+e),$("#"+this._id+"_toolbar_li_html").text(this._getLocaleString("toolbar","exportformat","Html")).attr("aria-label",this._getLocaleString("toolbar","exportformat","Html")+" "+e),$("#"+this._id+"_toolbar_li_ppt").text(this._getLocaleString("toolbar","exportformat","PPT")).attr("aria-label",this._getLocaleString("toolbar","exportformat","PPT")+" "+e),$("#"+this._id+"_toolbar_li_csv").text(this._getLocaleString("toolbar","exportformat","CSV")).attr("aria-label",this._getLocaleString("toolbar","exportformat","CSV")+" "+e),$("#"+this._id+"_toolbar_li_xml").text(this._getLocaleString("toolbar","exportformat","XML")).attr("aria-label",this._getLocaleString("toolbar","exportformat","XML")+" "+e),$("#"+this._id+"_toolbar_li_print").attr("aria-label",this._getLocaleString("toolbar","print","headerText")),$("#"+this._id+"_toolbar_li_export").attr("aria-label",e),$("#"+this._id+"_toolbar_li_pagesetup").attr("aria-label",this._getLocaleString("toolbar","pagesetup","headerText")),$("#"+this._id+"_toolbar_li_gotofirst").attr("aria-label",this._getLocaleString("toolbar","first","headerText")),$("#"+this._id+"_toolbar_li_gotolast").attr("aria-label",this._getLocaleString("toolbar","last","headerText")),$("#"+this._id+"_toolbar_li_gotonext").attr("aria-label",this._getLocaleString("toolbar","next","headerText")),$("#"+this._id+"_toolbar_li_gotoprevious").attr("aria-label",this._getLocaleString("toolbar","previous","headerText")),$("#"+this._id+"_toolbar_li_gotoparent").attr("aria-label",this._getLocaleString("toolbar","back","headerText")),$("#"+this._id+"_toolbar_li_gotopage").attr("aria-label",this._getLocaleString("toolbar","pageIndex","headerText")),$("#"+this._id+"_toolbar_gotopage").attr("aria-label",this._getLocaleString("toolbar","pageIndex","headerText")),$("#"+this._id+"_toolbar_li_zoomin").attr("aria-label",this._getLocaleString("toolbar","zoomIn","headerText")),$("#"+this._id+"_toolbar_li_zoomout").attr("aria-label",this._getLocaleString("toolbar","zoomOut","headerText")),$("#"+this._id+"_toolbar_li_pagefit").attr("aria-label",this._getLocaleString("toolbar","fittopage","headerText")),$("#"+this._id+"_toolbar_li_preview").attr("aria-label",this._getLocaleString("toolbar","printLayout","headerText")),$("#"+this._id+"_toolbar_li_refresh").attr("aria-label",this._getLocaleString("toolbar","refresh","headerText")),$("#"+this._id+"_toolbar_li_stop").attr("aria-label",this._getLocaleString("toolbar","stop","headerText")),$("#"+this._id+"_toolbar_li_documentmap").attr("aria-label",this._getLocaleString("toolbar","documentMap","headerText")),$("#"+this._id+"_toolbar_li_parameter").attr("aria-label",this._getLocaleString("toolbar","parameter","headerText")),$("#"+this._id+"_toolbar_li_fittopage").attr("aria-label",this._getLocaleString("toolbar","fittopage","headerText")),$("#"+this._id+"_toolbar_zoom").data("ejDropDownList").setModel({htmlAttributes:{"aria-label":this._getLocaleString("toolbar","zoom","headerText")}}),(s=$("#"+this._id+"_exportSetup").data("ejDialog"))&&(s.setTitle(this._getLocaleString("toolbar","exportsetup","headerText")),$("#"+this._id+"_exportSetup_closebutton").attr("title",this._getLocaleString("exportsetupDialog","close")),$("#"+this._id+"_Submit").val(this._getLocaleString("exportsetupDialog","doneButton")).attr("aria-label",this._getLocaleString("exportsetupDialog","doneButton")),$("#"+this._id+"_Cancel").val(this._getLocaleString("exportsetupDialog","cancelButton")).attr("aria-label",this._getLocaleString("exportsetupDialog","cancelButton")),$("#"+this._id+"_excelFormatLabel").text(this._getLocaleString("exportsetupDialog","excel")+"&nbsp;"),$("#"+this._id+"_wordFormatLabel").text(this._getLocaleString("exportsetupDialog","word")+"&nbsp;"),$("#"+this._id+"_pptFormatLabel").text(this._getLocaleString("exportsetupDialog","ppt")+"&nbsp;"),$("#"+this._id+"_imageQuality").data("ejNumericTextbox").setModel({htmlAttributes:{"aria-label":this.model.exportSettings.imageQuality+" "+this._getLocaleString("exportsetupDialog","imageQuality")}})),a=$("#"+this._id+"_printPageSetup").data("ejDialog")){for(a.setTitle(this._getLocaleString("toolbar","pagesetup","headerText")),$("#"+this._id+"_printPageSetup_closebutton").attr("title",this._getLocaleString("pagesetupDialog","close")),$("#"+this._id+"_Submit").val(this._getLocaleString("pagesetupDialog","doneButton")).attr("aria-label",this._getLocaleString("pagesetupDialog","doneButton")),$("#"+this._id+"_Cancel").val(this._getLocaleString("pagesetupDialog","cancelButton")).attr("aria-label",this._getLocaleString("pagesetupDialog","cancelButton")),$("#"+this._id+"_heightLabel").text(this._getLocaleString("pagesetupDialog","height")+"&nbsp;"),$("#"+this._id+"_widthLabel").text(this._getLocaleString("pagesetupDialog","width")+"&nbsp;"),$("#"+this._id+"_topLabel").text(this._getLocaleString("pagesetupDialog","top")+"&nbsp;"),$("#"+this._id+"_bottomLabel").text(this._getLocaleString("pagesetupDialog","bottom")+"&nbsp;"),$("#"+this._id+"_rightLabel").text(this._getLocaleString("pagesetupDialog","right")+"&nbsp;"),$("#"+this._id+"_leftLabel").text(this._getLocaleString("pagesetupDialog","left")+"&nbsp;"),o=this._getLocaleString("pagesetupDialog","unit")+"&nbsp;",$("#"+this._id+"_heightUnitLabel").text(o),$("#"+this._id+"_widthUnitLabel").text(o),$("#"+this._id+"_topUnitLabel").text(o),$("#"+this._id+"_rightUnitLabel").text(o),$("#"+this._id+"_bottomUnitLabel").text(o),$("#"+this._id+"_leftUnitLabel").text(o),$("#"+this._id+"_portraitLabel").text("&nbsp;"+this._getLocaleString("pagesetupDialog","portrait")),$("#"+this._id+"_landscapeLabel").text("&nbsp;"+this._getLocaleString("pagesetupDialog","landscape")),r=this._getLocaleString("pagesetupDialog","paperSize"),$("#"+this._id+"_paperSizeLabel").text(r),$("#"+this._id+"_marginheader").text(this._getLocaleString("pagesetupDialog","margins")),$("#"+this._id+"_orientationLabel").text(this._getLocaleString("pagesetupDialog","orientation")),l=$("#"+this._id+"_printPageSetup").find(".e-rptviewer-pagesetup"),p=0;p<l.length;p++)l.eq(p).data("ejDropDownList").setModel({watermarkText:this._getLocaleString("waterMark","selectOption"),htmlAttributes:{"aria-label":r}});$("#"+this._id+"_paperHeight").data("ejNumericTextbox").setModel({htmlAttributes:{"aria-label":r+" "+this._getLocaleString("pagesetupDialog","height")}}),$("#"+this._id+"_paperWidth").data("ejNumericTextbox").setModel({htmlAttributes:{"aria-label":r+" "+this._getLocaleString("pagesetupDialog","width")}}),$("#"+this._id+"_paperMarginTop").data("ejNumericTextbox").setModel({htmlAttributes:{"aria-label":r+" "+this._getLocaleString("pagesetupDialog","top")}}),$("#"+this._id+"_paperMarginRight").data("ejNumericTextbox").setModel({htmlAttributes:{"aria-label":r+" "+this._getLocaleString("pagesetupDialog","right")}}),$("#"+this._id+"_paperMarginBottom").data("ejNumericTextbox").setModel({htmlAttributes:{"aria-label":r+" "+this._getLocaleString("pagesetupDialog","bottom")}}),$("#"+this._id+"_paperMarginLeft").data("ejNumericTextbox").setModel({htmlAttributes:{"aria-label":r+" "+this._getLocaleString("pagesetupDialog","left")}}),$("#"+this._id+"_portrait").data("ejRadioButton").setModel({htmlAttributes:{"aria-label":this._getLocaleString("pagesetupDialog","orientation")+" "+this._getLocaleString("pagesetupDialog","portrait")}}),$("#"+this._id+"_landscape").data("ejRadioButton").setModel({htmlAttributes:{"aria-label":this._getLocaleString("pagesetupDialog","orientation")+" "+this._getLocaleString("pagesetupDialog","landscape")}})}var w=this._getLocaleString("toolbar","fittopage","headerText"),S=this._getLocaleString("toolbar","fittopage","pageWidth"),C=this._getLocaleString("toolbar","fittopage","pageHeight");if(x.empty(),y.empty(),x.append(b).attr("aria-label",w+" "+S),x.append(S),y.append(v).attr("aria-label",w+" "+C),y.append(C),$("#"+this._id+"_credential_block_table").length>0&&($("#"+this._id+"_username_label").text(this._getLocaleString("credential","userName")),$("#"+this._id+"_password_label").text(this._getLocaleString("credential","password"))),this.element.length>0){for(n=this.element.find(".e-rptviewer-multivalue"),p=0;p<n.length;p++)n.eq(p).data("ejDropDownList").setModel({watermarkText:this._getLocaleString("waterMark","selectOption")}),d=n.eq(p).attr("id"),$("#"+d+"_check").length>0?$("#"+d+"_check").data("ejCheckBox").setModel({text:this._getLocaleString("selectAll")}):$("#"+d+"_selectall").length>0&&(h=$("#"+d+"_check0wrap"),(c=$("#"+d+"_selectall")).empty(),c.append(h),c.append(this._getLocaleString("selectAll")));for(u=this.element.find(".e-rptviewer-comboBox"),p=0;p<u.length;p++)u.eq(p).data("ejDropDownList").setModel({watermarkText:this._getLocaleString("waterMark","selectValue")})}if($("#"+this._id+"_errormsg")&&($("#"+this._id+"_prefix_errormsg").text(this._getLocaleString("errorMessage","startMessage")),$("#"+this._id+"_errormsg a").text(this._getLocaleString("errorMessage","middleMessage")),$("#"+this._id+"_suffix_errormsg").text(this._getLocaleString("errorMessage","endMessage")),$("#"+this._id+"_closebutton").attr("title",this._getLocaleString("errorMessage","closeMessage"))),(m=$("#"+this._id+"_viewer_alert_dialog")).length>0&&((g=m.data("ejDialog"))&&g.setModel({title:this._getLocaleString("alertMessage","title")}),$("#"+this._id+"_viewer_alert_dialog_closebutton").attr("title",this._getLocaleString("alertMessage","close")),$("#"+this._id+"_alert_footer_ok").text(this._getLocaleString("alertMessage","done"))),(_=$("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcellcontent").find(".e-reportviewer-DateTime"))&&_.length>0)for(f=0;f<_.length;f++)this._isDateTimePicker($(_[f]).attr("id"))?$("#"+$(_[f]).attr("id")).data("ejDateTimePicker").setModel({locale:this.model.locale}):$("#"+$(_[f]).attr("id")).data("ejDatePicker").setModel({locale:this.model.locale})},_renderPages:function(){var e,t,i;if(this.model.enablePageVirtualization||this.model.enablePageCache){if((e=this._printMode?this._printPageCache:this._pageCache).length-1<this._pageModel.TotalPages)for(i=this._currentPage+1;i<=this._pageModel.TotalPages;i++)e[i]=null;if(_pageNos=[],t=this._isForwardDirection?this._currentPage+1:this._currentPage-1,this._isSelectedPage)for(i=t;i<=this._pageModel.TotalPages;this._isForwardDirection?i++:i--)if(null==e[i]&&"undefined"!=typeof e[i]){if(_pageNos.push(i),2==_pageNos.length&&(i=i>this._currentPage?i:this._currentPage,this._isForwardDirection=!0),4==_pageNos.length)break}else"undefined"==typeof e[i]&&(i=this._currentPage,this._isForwardDirection=!0);else for(i=t;i<=this._pageModel.TotalPages&&i>1&&(null!=e[i]||("undefined"!=typeof e[i]&&_pageNos.push(i),3!=_pageNos.length));this._isForwardDirection?i++:i--);this._ajaxCallMethod(this._reportAction.getPageModel,"_getRenderedPages",!1)}},_getRenderedPages:function(e){if(e.pgmodel&&e.pgmodel.length>0)for(var t=0;t<e.pgmodel.length;t++)e.pgmodel[t]&&e.pgmodel[t].Value.PageData&&(this._pageModel=e.pgmodel[t].Value,this._storePageCache(e.pgmodel[t].Key))},_storePageCache:function(e){this._pageModel&&this._pageModel.PageData&&this._pageModel.PageData.length>0&&(this._pageContains(e)||(this.model.enablePageVirtualization||this.model.enablePageCache)&&(this._printMode?this._printPageCache[e]=this._pageModel:this._pageCache[e]=this._pageModel))},_retrievePageCache:function(e){return this._printMode?this._printPageCache[e]:this._pageCache[e]},_pageContains:function(e){var t=this._printMode?this._printPageCache[e]:this._pageCache[e];return!ej.isNullOrUndefined(t)},_clearPageCache:function(){this._pageCache=[],this._printPageCache=[]},_itemfadeToggle:function(e){e.fadeToggle()},_popupClick:function(){var e=$("#"+this._id+"_pageInfoPopup");e.fadeIn(),e.finish()},_containerScrollStop:function(){var e=$("#"+this._id+"_pageInfoPopup");e.finish().fadeIn(),e.finish().fadeOut(3e3)},_viewerClick:function(){$("#"+this._id+"_toolbar_exportListTip").css("display","none")},_pinchAndSwipe:function(e){switch(e.type){case"pinchin":this._zoomOut();break;case"pinchout":this._zoomIn();break;case"swipeleft":this._gotoNextPage(),this._isDevice&&this._updatePageNo();break;case"swiperight":this._gotoPreviousPage(),this._isDevice&&this._updatePageNo()}},_touchMove:function(e){this._isPinchZoom=!1,("undefined"!=typeof e.touches&&2===e.touches.length||"undefined"!=typeof e.originalEvent.touches&&2===e.originalEvent.touches.length)&&(this._isPinchZoom=!0)},_touchStart:function(e){"undefined"!=typeof e.targetTouches?this._touchScreen.startPoint=e.targetTouches[0].screenY:"undefined"!=typeof e.originalEvent.targetTouches&&(this._touchScreen.startPoint=e.originalEvent.targetTouches[0].screenY)},_touchEnd:function(e){"undefined"!=typeof e.changedTouches?this._touchScreen.endPoint=e.changedTouches[0].screenY:"undefined"!=typeof e.originalEvent.changedTouches&&(this._touchScreen.endPoint=e.originalEvent.changedTouches[0].screenY),this._isPinchZoom||0!==window.visualViewport.pageLeft||0!==window.visualViewport.pageTop||this._scrollPageNavigation()},_scrollPageNavigation:function(){var e,t,i=this._touchScreen.startPoint-this._touchScreen.endPoint;if(Math.abs(i)>75)if((t=(e=$("#"+this._id+"_viewerContainer")).scrollTop())+e.innerHeight()>=e[0].scrollHeight){if(!this._pageModel||this._currentPage==this._pageModel.TotalPages)return;this.model.enableOnScrollNavigation&&(this._gotoNextPage(),this._updatePageNo(),e.scrollTop(2))}else if(0==t){if(!this._pageModel||1==this._currentPage)return;this._gotoPreviousPage(),this._updatePageNo(),e.scrollTop(2)}},_scrollPage:function(e){var t,i=this,s=$(e.target),a=this._orginY=s.scrollTop(),o=$("#"+this._id+"_viewerContainer_WaitingPopup");a>0?(this._scrollHeight=s[0].clientHeight+a,o.css("height",this._scrollHeight)):o.css("height",s[0].clientHeight),this._orginX=s.scrollLeft(),t=$("#"+this._id+"_reportviewerContainer").offset().top,$(".fixed-data").each((function(){var e=$(this).offset().top,s=$(this).position().top;if(e<=t){var a=(s+(t-e))/[.5,.75,1,1.25,1.5,2,4][i._zoomLevel];$(this).next("div").css({top:a,visibility:"visible"}),$(this).prev("div").css({top:a,visibility:"collapse"})}else $(this).next("div").css({top:s,visibility:"hidden"})}))},_showViewerBlock:function(e){if(e){$("#"+this._id+"_viewBlockContainer").css("display","block");var t=$("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcellcontent").find("table");this._selectparamToolItem(t.is("[data-isviewclick]"))}else $("#"+this._id+"_viewBlockContainer").css("display","none");this._isDevice&&$("#"+this._id+"_viewBlockContainer.e-reportviewer-blockstyle").css("z-index",e?"10":"0")},_showNavigationIndicator:function(e){var t=$("#"+this._id+"_loadingIndicator"),i=$("#"+this._id+"_viewerContainer");e&&"block"!=t.css("display")?i.data("ejWaitingPopup").show():i.data("ejWaitingPopup").hide(),$("#"+this._id+"_viewerContainer_WaitingPopup").css({left:"0px",width:i[0].scrollWidth+"px",height:i[0].scrollHeight+"px"}).addClass("e-reportviewer-waitingpopup")},_showPrintExportProgressIndicator:function(e,t){var i;e?($("#"+this._id+"_viewerContainer").ejWaitingPopup({showOnInit:!0,cssClass:"e-reportviewer-printExportLoading",text:t+'<a href="javascript:;" id = "'+this._id+'_loadingindicator_cancelPrintExport">'+this._getLocaleString("progressMessage","cancelText")+"</a>"}),this._on($("#"+this._id+"_loadingindicator_cancelPrintExport"),"click",(function(){this._cancelPrintExport=!0,this._showPrintExportProgressIndicator(!1)})),$("#"+this._id+"_pageviewOuterContainer").addClass("e-reportviewer-hide-scroller"),i="#"+this._id+"_viewerContainer",$("#"+this._id+"_toolbarContainer").addClass("e-reportviewer-toolbar-disable"),$("#"+this._id+"_viewerContainer_WaitingPopup").css({left:"0px",width:"100%"}),$("#"+this._id+"_viewerContainer_WaitingPopup .e-text").addClass("e-reportviewer-contentspan e-tooltip-wrap").css({display:"inline",left:"450px",padding:"0px 4px 4px 4px"})):(i=$("#"+this._id+"_viewerContainer").data("ejWaitingPopup"),ej.isNullOrUndefined(i)||(i.setModel({text:""}),i.hide(),i.setModel({template:this.model.waitingPopupTemplate})),$("#"+this._id+"_toolbarContainer").removeClass("e-reportviewer-toolbar-disable"),$("#"+this._id+"_toolbar_li_stop").addClass("e-disable"),$("#"+this._id+"_pageviewOuterContainer").removeClass("e-reportviewer-hide-scroller"))},_showloadingIndicator:function(e){var t=$("#"+this._id+"_loadingIndicator");e?($("#"+this._id+"_pageviewOuterContainer").css("display","none"),t.css("display","block").data("ejWaitingPopup").show()):($("#"+this._id+"_pageviewOuterContainer").css("display","block"),t.css("display","none").data("ejWaitingPopup").hide()),$("#"+this._id+"_loadingIndicator_WaitingPopup").css({left:"0px",width:"100%"}).addClass("e-reportviewer-waitingpopup")},_showparameterLoadingIndicator:function(e,t,i,s,a){var o,r,l,n,d={state:e?"updateStart":"updateEnd",handled:!1,name:i,prompt:s,controlId:a,containerId:this._id+"_viewerBlockCellContent",progressText:t};if(e)this._onParameterUpdateStateChange(d),d.handled||(o=$("#"+this._id+"_viewer_paramblock").data("ejScroller"),ej.isNullOrUndefined(o)||!o.isHScroll()&&!o.isVScroll()?$("#"+d.controlId+"_div").ejWaitingPopup({showOnInit:!0,showImage:!0,text:t}):(o.setModel({thumbMove:this._onParameterScrollMove(d.controlId),wheelMove:this._onParameterScrollMove(d.controlId)}),$("#"+this._id+"_viewer_paramblock").css({position:"relative"}),$("#"+d.controlId+"_div").ejWaitingPopup({showOnInit:!0,showImage:!0,text:t,appendTo:"#"+o._id})),$("#"+d.controlId+"_div").css({opacity:"0"}),$("#"+d.controlId+"_div_WaitingPopup").css({opacity:"95%",position:"absolute"}),$("#"+d.controlId+"_div_WaitingPopup .e-text").css({"text-align":"center",top:"8px",margin:"0px",position:"absolute",left:"25px","font-size":"10px","background-size":"contain"}),$("#"+d.controlId+"_div_WaitingPopup .e-image").css({margin:"0",top:"4px",height:"20px",width:"20px","box-shadow":"0 0 black","background-color":"transparent","background-size":"contain",left:"3px",right:"76px"}));else if(this._onParameterUpdateStateChange(d),!d.handled&&(r=$("div#"+this._id+"_viewer_paramblock .e-waitingpopup"),!ej.isNullOrUndefined(r)&&r.length>0))for(l=0;l<r.length;l++)r[l].id.includes("_Param_")&&(n=r[l].id,$("#"+n).css({opacity:"1"}),$("#"+n).ejWaitingPopup({showOnInit:!1,showImage:!1,text:""}),$("#"+n+"_WaitingPopup").empty())},_onParameterScrollMove:function(e){var t=$("#"+e+"_div").data("ejWaitingPopup");ej.isNullOrUndefined(t)||t.refresh()},_isMobileDevice:function(){return/windows phone|android|iphone/i.test(navigator.userAgent.toLowerCase())},_getAuthenticationToken:function(){return function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return(e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()).toUpperCase()}()+"@"+this._id},_updateToolbarmodel:function(){this._showToolbar(this.model.toolbarSettings.showToolbar),this._showPrintButton(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.Print),this._showRefreshButton(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.Refresh),this._showStopButton(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.Stop),this._showZoomControl(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.Zoom),this._showFittoPage(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.FittoPage),this._showExportControls(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.Export),this._showExportControls(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.ExportSetup),this._showExportList(),this._showPageNavigationControls(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.PageNavigation),this._showParameterBlock(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.Parameters),this._showPreviewButton(model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.PrintLayout),this._showPrintPageSetupButton(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.PageSetup)},_viewerResize:function(){var e=this;this.model.isResponsive&&(this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout((function(){var t,i,s,a,o=e._isWidth?e.element[0].parentElement.style.width:e.element[0].style.width,r=e._isHeight?e.element[0].parentElement.style.height:e.element[0].style.height,l=$(e.element).height(),n=$(e.element).width();-1!=r.indexOf("%")?(e._isPercentHeight=parseInt(r),t=e._isHeight?$(e.element).parent().height():l,l=e._isHeight?t:t/100*e._isPercentHeight):0!=e.element[0].parentElement.clientHeight&&-1!=e._isPercentHeight?l=e._isHeight?e.element[0].parentElement.clientHeight:e.element[0].parentElement.clientHeight/100*e._isPercentHeight:(e._isHeight&&0!=e.element[0].parentElement.clientHeight||"msie"==e._browserInfo.name&&8==e._browserInfo.version&&0!=e.element[0].parentElement.clientHeight)&&(l=e.element[0].parentElement.clientHeight),e.element.height(l),-1!=o.indexOf("%")?(e._isPercentWidth=parseInt(o),i=e._isWidth?$(e.element).parent().width():n,n=e._isWidth?i:i/100*e._isPercentWidth):0!=e.element[0].parentElement.clientWidth&&-1!=e._isPercentWidth?n=e._isWidth?e.element[0].parentElement.clientWidth:e.element[0].parentElement.clientWidth/100*e._isPercentWidth:(e._isWidth&&0!=e.element[0].parentElement.clientWidth||"msie"==e._browserInfo.name&&8==e._browserInfo.version&&0!=e.element[0].parentElement.clientWidth)&&(n=e.element[0].parentElement.clientWidth),e.element.width(n),(s=$("#"+e._id+"_toolbarContainer").data("ejToolbar"))._activeItem=undefined,s._reSizeHandler(),e._refreshScroller(),e._setContainerSize(),e._refreshIndicator(),(a=$("#"+e._id+"_reportviewerContainer").data("ejSplitter"))&&a.refresh()}),200))},_showViewerPage:function(e){e?$("#"+this._id+"_pageviewOuterline").css("display","block"):$("#"+this._id+"_pageviewOuterline").css("display","none"),this._isDevice&&$("#"+this._id+"_pageviewOuterline").css("z-index",e?"10":"0")},_updatePageNo:function(){$("#"+this._id+"_popupPageNo").val(this._currentPage),$("#"+this._id+"_pageInfoPopup .e-reportviewer-popuptotalpage").text(" / "+this._pageModel.TotalPages)},_reportReload:function(){this._refresh=!0,this._unwireEvents(),this._initViewer(),this._ajaxCallMethod(this._reportAction.reportLoad,"_reportLoaded",!1)},getDataSetNames:function(){return $.extend(!0,[],this._reporDataSets)},getParameters:function(){return $.extend(!0,[],this._reportParameters)},gotoPageIndex:function(e){this._gotoPageNo(e)},gotoLastPage:function(){this._gotoLastPage()},gotoFirstPage:function(){this._gotoFirstPage()},gotoNextPage:function(){this._gotoNextPage()},gotoPreviousPage:function(){this._gotoPreviousPage()},print:function(){this._print()},clearReportCache:function(){this._ajaxCallMethod("ClearCache","_clearCurrentServerCache",!1)},printLayout:function(){this._printlayout()},setParameterBlockVisibility:function(e){this._setParameterBlockVisibile(e)},exportReport:function(e){this._processExport(e,"")},refresh:function(){this._refreshReport()},cancelRendering:function(){$("#"+this._id+"_toolbar_li_stop").addClass("e-disable"),this._cancelProcessing=!0},reload:function(){this._ajaxCallMethod(this._reportAction.clearCache,"_reportReload",!1)},fitToPage:function(){this._fitToPage("fitToPage")},fitToPageWidth:function(){this._fitToPage("fitToWidth")},fitToPageHeight:function(){this._fitToPage("wholepage")},updateParameter:function(e){this._updateParameter(e)},_onReportLoaded:function(){this._trigger("reportLoaded")},_onRenderingBegin:function(e){return this._trigger("renderingBegin",e)},_onToolbarRendering:function(e){this._trigger("toolbarRendering",e)},_onBeforeParameterAdd:function(e){this._trigger("beforeParameterAdd",e)},_onAjaxRequest:function(e){$("#"+this._id+"_toolbar_li_stop").removeClass("e-disable"),this._trigger("ajaxBeforeLoad",e)},_onAjaxSuccess:function(e){$("#"+this._id+"_toolbar_li_stop").addClass("e-disable"),this._trigger("ajaxSuccess",e)},_onAjaxFailure:function(e){this._trigger("ajaxError",e)},_onRenderingComplete:function(e){$("#"+this._id+"_toolbar_li_stop").addClass("e-disable"),this._trigger("renderingComplete",e),this._licenseMessage&&this._licenseMessage.length>0&&(this._showLicenseMsg(this._licenseMessage),this._licenseMessage=null)},_onReportError:function(e){return this._trigger("reportError",e)},_onRenderErrorBanner:function(e){return this._trigger("reportErrorBanner",e)},_onShowError:function(e){return this._trigger("showError",e)},_onViewReportClick:function(e){this._trigger("viewReportClick",e)},_onDrillThrough:function(e){return this._trigger("drillThrough",e)},_onHyperlink:function(e){return this._trigger("hyperlink",e)},_onExportProgressChanged:function(e){this._trigger("exportProgressChanged",e)},_onExportItemClick:function(e){return this._trigger("exportItemClick",e)},_onPrintProgressChanged:function(e){this._trigger("printProgressChanged",e)},_onReportExport:function(e){return this._trigger("reportExport",e)},_onToolbarClick:function(e){return this._trigger("toolBarItemClick",e)},_onReportPrint:function(e){return this._trigger("reportPrint",e),{cancel:e.cancel,isStyleLoad:e.isStyleLoad}},_onParameterUpdateStateChange:function(e){this._trigger("parameterUpdateStateChange",e)},_onElementsRendered:function(e){this._trigger("_elementsRendered",e)}}),ej.ReportViewer.InputElement={Default:"Default",Button:"Button",Textbox:"Textbox",Dropdown:"Dropdown"},ej.ReportViewer.ExportOptions={Excel:1,Html:2,Pdf:4,Word:8,PPT:16,CSV:32,XML:64,CustomItems:128,All:255},ej.ReportViewer.ExcelFormats={Excel97to2003:"excel97to2003",Excel2007:"excel2007",Excel2010:"excel2010",Excel2013:"excel2013",Excel2016:"excel2016"},ej.ReportViewer.PPTFormats={PowerPoint97to2003:"powerpoint97to2003",PowerPoint2007:"powerpoint2007",PowerPoint2010:"powerpoint2010",PowerPoint2013:"powerpoint2013"},ej.ReportViewer.WordFormats={Doc:"doc",Dot:"dot",Docx:"docx",Word2007:"word2007",Word2010:"word2010",Word2013:"word2013",Word2007Dotx:"word2007dotx",Word2010Dotx:"word2010dotx",Word2013Dotx:"word2013dotx",Word2007Docm:"word2007docm",Word2010Docm:"word2010docm",Word2013Docm:"word2013docm",Word2007Dotm:"word2007dotm",Word2010Dotm:"word2010dotm",Word2013Dotm:"word2013dotm",Rtf:"rtf",Txt:"txt",EPub:"epub",Html:"html",Xml:"xml"},ej.ReportViewer.ProcessingMode={Remote:"remote",Local:"local"},ej.ReportViewer.Orientation={Portrait:"Portrait",Landscape:"Landscape"},ej.ReportViewer.PaperSize={A3:"A3",A4:"A4",B4_JIS:"B4(JIS)",B5_JIS:"B5(JIS)",Envelope_10:"Envelope #10",Envelope_Monarch:"Envelope Monarch",Executive:"Executive",Legal:"Legal",Letter:"Letter",Tabloid:"Tabloid",Custom:"Custom"},ej.ReportViewer.ToolbarItems={Export:1,Zoom:2,PageNavigation:4,Refresh:8,Print:16,DocumentMap:32,Parameters:64,PrintLayout:128,FittoPage:256,PageSetup:512,Stop:1024,ExportSetup:2048,All:4095},ej.ReportViewer.RenderMode={Default:3,Mobile:1,Desktop:2},ej.ReportViewer.PrintOptions={Default:"Default",NewTab:"NewTab",None:"None"},ej.ReportViewer.DateTimePickerType={Default:"Default",DateTime:"DateTime"},ej.ReportViewer.Locale={},ej.ReportViewer.Locale["en-US"]={toolbar:{print:{headerText:"Print",contentText:"Print the report."},exportformat:{headerText:"Export",contentText:"Select the exported file format.",Pdf:"PDF",Excel:"Excel",Word:"Word",Html:"HTML",PPT:"PowerPoint",CSV:"CSV",XML:"XML"},first:{headerText:"First",contentText:"Go to the first page of the report."},previous:{headerText:"Previous",contentText:"Go to the previous page of the report."},next:{headerText:"Next",contentText:"Go to the next page of the report."},last:{headerText:"Last",contentText:"Go to the last page of the report."},documentMap:{headerText:"Document Map",contentText:"Show or hide the document map."},parameter:{headerText:"Parameter",contentText:"Show or hide the parameters pane."},zoomIn:{headerText:"Zoom-In",contentText:"Zoom in to the report."},zoomOut:{headerText:"Zoom-Out",contentText:"Zoom out of the report."},refresh:{headerText:"Refresh",contentText:"Refresh the report."},stop:{headerText:"Stop",contentText:"Stop processing the report"},printLayout:{headerText:"Print Layout",contentText:"Change between print layout and normal modes."},pageIndex:{headerText:"Page Number",contentText:"Current page number to view."},zoom:{headerText:"Zoom",contentText:"Zoom in or out on the report."},back:{headerText:"Back",contentText:"Go back to the parent report."},fittopage:{headerText:"Fit to Page",contentText:"Fit the report page to the container.",pageWidth:"Page Width",pageHeight:"Whole Page"},pagesetup:{headerText:"Page Setup",contentText:"Choose page setup option to change paper size, orientation and margins."},exportsetup:{headerText:"Export Setup",contentText:"Choose export setup option to set the image quality, save type of word, and excel document."}},pagesetupDialog:{close:"Close",paperSize:"Paper Size",height:"Height",width:"Width",margins:"Margins",top:"Top",bottom:"Bottom",right:"Right",left:"Left",unit:"in",orientation:"Orientation",portrait:"Portrait",landscape:"Landscape",doneButton:"OK",cancelButton:"Cancel"},exportsetupDialog:{close:"Close",excel:"Excel",word:"Word",imageQuality:"Image Quality",exportFormat:"Export Format",dpi:"dpi",doneButton:"OK",cancelButton:"Cancel"},credential:{userName:"Username",password:"Password"},waterMark:{selectOption:"Select Option",selectValue:"Select a value"},errorMessage:{startMessage:"Report Viewer encountered some issues loading this report. Please",middleMessage:" Click here",endMessage:"to see the error details",closeMessage:"Close this message",exportAjaxFailureMsg:"Unable to export the document due to failure of connecting Report Service.",printAjaxFailureMsg:"Unable to print the document due to failure of connecting Report Service.",reportLoadAjaxFailureMsg:"Unable to progress the Report action due to failure of connecting Report Service.",cancelReportProcessMsg:"Report processing was cancelled."},progressMessage:{exportLoadingMessage:"Preparing exporting document... Please wait...",printLoadingMessage:"Preparing print data... Please wait...",printPreparationMessage:"Preparing print data... {0}% completed... Please wait...",exportPreparationMessage:"Preparing exporting document... {0}% completed... Please wait...",cancelText:"Cancel"},alertMessage:{close:"Close",title:"ReportViewer",done:"OK",showDetails:"Show details",hideDetails:"Hide Details",reportLoad:"Report Loaded:",RVERR0001:"ReportViewer failed to load the Report",RVERR0002:"ReportViewer failed to render the Report",RVERR0003:"An error occurred in ajax postback",RVERR0004:"Please select a value for the parameter",RVERR0005:"The {parametername} parameter is missing a value",RVERR0006:"Please give the float data type input",RVERR0007:"Please give the integer data type input",RVERR0008:"ReportViewer failed to validate the Datasource credentials",RVERR0009:"The margins are overlapped or they are off the paper. Enter a different margin size.",RVERR0010:"Please enter a value for the parameter",RVERR0011:"The parameter cannot be blank",RVERR0012:"The value provided for the report parameter {parameterprompt} is not valid for its type."},reportItemLabel:{Tablix:"Tablix report item",Textbox:"Textbox report item",Chart:"Chart report item",Image:"Image report item",Custom:"Custom report item",Rectangle:"Rectangle report item",Map:"Map report item",Gauge:"Gauge report item",Indicator:"Indicator report item",Line:"Line report item",Subreport:"Sub report item"},selectAll:"Select All",viewButton:"View Report",parameterBlock:"Parameter Block",parameterProcessingMessage:"Loading parameter values..."}})(jQuery,Syncfusion)},__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(655)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"===typeof(__WEBPACK_AMD_DEFINE_FACTORY__=n)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},655:function(e,t,i){var s,a,o,r=i(41).default;a=[i(501)],s=function(){(function(e,t,i){t.widget({ejNumericTextbox:["ej.NumericTextbox","e-numerictextbox"],ejPercentageTextbox:["ej.PercentageTextbox","e-percentagetextbox"],ejCurrencyTextbox:["ej.CurrencyTextbox","e-currencytextbox"]},{element:null,model:null,validTags:["input"],_addToPersist:["value"],_setFirst:!1,type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"],requireFormatters:!0,requireParser:!0},defaults:{width:"",height:"",value:null,name:null,htmlAttributes:{},minValue:-Number.MAX_VALUE,maxValue:Number.MAX_VALUE,incrementStep:1,decimalPlaces:0,validateOnType:!1,cssClass:"",enablePersistence:!1,showSpinButton:!0,locale:"en-US",enableStrictMode:!1,showRoundedCorner:!1,readOnly:!1,enabled:!0,enableRTL:!1,watermarkText:"Enter value",validationRules:null,validationMessage:null,groupSeparator:null,groupSize:null,positivePattern:null,currencySymbol:null,negativePattern:null,change:null,focusIn:null,focusOut:null,create:null,destroy:null},dataTypes:{minValue:"number",maxValue:"number",incrementStep:"number",decimalPlaces:"number",showSpinButton:"boolean",enableStrictMode:"boolean",showRoundedCorner:"boolean",enableRTL:"boolean",locale:"string",watermarkText:"string",cssClass:"string",readOnly:"boolean",enabled:"boolean",validationRules:"data",validationMessage:"data",htmlAttributes:"data",validateOnType:"boolean",groupSeparator:"string"},observables:["value"],_setModel:function(e){var i=!1;for(var s in e)switch(s){case"value":t.isNullOrUndefined(e.minValue)&&t.isNullOrUndefined(e.maxValue)?(this._setValue(e[s],!0),e[s]=this.model.value):(this.model.value=this._checkNumValue(e[s]),this._localizedFormat(),this._raiseChangeEvent(!0),i=!0);break;case"enableRTL":this._enableRTL(e[s]);break;case"width":this._setWidth(e[s]);break;case"height":this._setHeight(e[s]);break;case"validationRules":null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessage=null),this.model.validationRules=e[s],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":this.model.validationMessage=e[s],null!=this.model.validationRules&&null!=this.model.validationMessage&&(this._initValidator(),this._setValidation());break;case"minValue":if(isNaN(e[s]))return;this.model.minValue=-1==this.model.decimalPlaces?e[s]:parseFloat(e[s].toFixed(this.model.decimalPlaces)),this._updateValueAttributes(this.model.minValue,this.model.maxValue,this.model.value),i=!0;break;case"maxValue":if(isNaN(e[s]))return;this.model.maxValue=-1==this.model.decimalPlaces?e[s]:parseFloat(e[s].toFixed(this.model.decimalPlaces)),this._updateValueAttributes(this.model.minValue,this.model.maxValue,this.model.value),i=!0;break;case"incrementStep":if(isNaN(e[s]))return;this.model.incrementStep=-1==this.model.decimalPlaces?e[s]:parseFloat(e[s].toFixed(this.model.decimalPlaces));break;case"enableStrictMode":this.model.enableStrictMode=e[s],i=!0;break;case"showSpinButton":this._showSpin(e[s]);break;case"showRoundedCorner":this._roundedCorner(e[s]);break;case"locale":this.model.decimalPlaces=t.isNullOrUndefined(this._options.decimalPlaces)&&this.model.decimalPlaces===this.culture.numberFormat.decimals||-1===this._options.decimalPlaces?-1:this.model.decimalPlaces,this._setLocalize(e[s]),this._options.decimalPlaces=this.model.decimalPlaces,e[s]=this.model.locale;break;case"decimalPlaces":this._setDecimal(e[s]),t.isNullOrUndefined(this._options)&&(this._options={}),this._options.decimalPlaces=e[s];break;case"cssClass":this._setSkin(e[s]);break;case"readOnly":this._setReadOnly(e[s]);break;case"enabled":e[s]?this.enable():this.disable();break;case"watermarkText":t.isNullOrUndefined(this._options)||(this._options=[]),this._options.watermarkText=this.model.watermarkText=e[s],this._localizedLabels.watermarkText=this.model.watermarkText,this._changeWatermark(e[s]);break;case"htmlAttributes":this._addAttr(e[s]);break;case"groupSeparator":this._checkSeparator(e[s]),e[s]=this.model.groupSeparator;break;case"positivePattern":case"negativePattern":case"groupSize":case"currencySymbol":this.model[s]=e[s],this._options[s]=e[s],this._initCustomValue(),e[s]=this.model[s],this._setValue(this.model.value,!0)}i&&(this._validateMinMaxValue(!0,!0),e.value=this.model.value,e.maxValue=this.model.maxValue,e.minValue=this.model.minValue,this.model.minValue!=-Number.MAX_VALUE&&(this._startValue=this.model.minValue),this._updateValueAttributes(this.model.minValue,this.model.maxValue,this.model.value)),this._checkSeparator(this.model.groupSeparator),this.element.val(this._removeSeparator(this.model.value)),this._updateSeparator(),this._checkErrorClass()},_destroy:function(){this.wrapper&&(this.element.insertBefore(this.wrapper),this.wrapper.remove()),this._isWatermark&&this.element.removeAttr("placeholder"),this.element.val("").removeClass("e-input e-disable e-no-spin").empty(),this.element.removeAttr("disabled aria-disabled"),this.wrapper.removeAttr("aria-valuemin aria-valuemax aria-valuenow aria-live"),this._cloneElement.attr("role")||this.element.removeAttr("role"),this.element.css("display","block")},_init:function(e){if(this._cloneElement=this.element.clone(),this._options=t.isNullOrUndefined(e)?{}:e,!this.element.is("input")||!this.element.is("input[type=text]")&&!this.element.is("input[type=number]")&&this.element.attr("type"))return this._destroy(),!1;this.model.decimalPlaces>0&&(this.element[0].type=this.element.is("input[type=number]")?"tel":"text"),this.element.is("input[type=number]")&&this.element.addClass("e-no-spin"),this._isWatermark="placeholder"in document.createElement("input"),this.model.locale="en"==t.preferredCulture(this.model.locale).name?"en-US":t.preferredCulture(this.model.locale).name,this._localizedLabels=this._getLocalizedLabels(),this.culture=t.preferredCulture(this.model.locale),this._browsername=t.browserInfo().name,this._initCustomValue(),this._prevSeparator=null,this._checkSeparator(this.model.groupSeparator),this._checkAttribute(),this._renderControl(),this._setValues(),this._wireEvents(),this._initObjects(),this._addAttr(this.model.htmlAttributes),null!=this.model.validationRules&&(this._initValidator(),this._setValidation()),this._updateSeparator(),e&&e.value!=i&&this._trigger("_change",{value:this.model.value})},_checkAttribute:function(){for(var e,i,s=["min","max","step","readonly","disabled","placeholder"],a=["minValue","maxValue","incrementStep","readOnly","enabled","watermarkText"],o=0;o<s.length;o++)e=this.element.attr(s[o]),i=a[o],t.isNullOrUndefined(e)||t.isNullOrUndefined(this._options)||!t.isNullOrUndefined(this._options[i])||("watermarkText"==i?this._options[i]=e:this.model[i]="disabled"!=i&&"readOnly"!=i?t.parseFloat(e,this.model.locale):"readOnly"==i?this.element.is("[readonly]"):!this.element.is("[disabled]"))},_addAttr:function(i){var s=this;e.map(i,(function(e,i){var a=i.toLowerCase();"class"==a?s.wrapper.addClass(e):"accesskey"==a?s._hiddenInput.attr(i,e):"disabled"==a&&"disabled"==e?s.disable():"readonly"==a&&"readOnly"==e?s._setReadOnly(!0):"tabindex"==a?(s._hiddenInput.attr(i,e),s.element.attr(i,e)):"style"==a||"id"==a?s.wrapper.attr(i,e):"aria-label"==a||t.isValidAttr(s.element[0],i)?s.element.attr(i,e):s.wrapper.attr(i,e)}))},_setValues:function(){var e;this._id=this.element[0].id,this._textBox=this._hiddenInput[0],this._error=!1,this._timeout=null,this.isValidState=!0,this._allowkeyboard=!0,this._validateOnType=!1,this._focused=!1,this._startValue=0,"ej.CurrencyTextbox"===this.sfType&&this.model.minValue==-Number.MAX_VALUE&&(this.model.minValue=0),t.isNullOrUndefined(this.model.decimalPlaces)&&(this.model.decimalPlaces="ej.CurrencyTextbox"===this.sfType?t.preferredCulture(this.model.locale).numberFormat.currency.decimals:t.preferredCulture(this.model.locale).numberFormat.decimals),this.model.decimalPlaces>=0&&(this.model.minValue=parseFloat(this.model.minValue.toFixed(this.model.decimalPlaces)),this.model.maxValue=parseFloat(this.model.maxValue.toFixed(this.model.decimalPlaces))),this.model.minValue!=-Number.MAX_VALUE&&(this._startValue=this.model.minValue),t.isNullOrUndefined(this._options)||t.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText),this._localizedLabelToModel(),this._localizedFormat(),this._validateMinMaxValue(!0),this._updateSymbol(this.model.locale),t.isNullOrUndefined(this.model.value)?(e=this.model.value,this.wrapper.removeClass("e-valid")):(e=-1==this.model.value.toString().indexOf("e")?this._removeSeparator(this.model.value):this._convertToExponetial(this.model.value).unformattedValue,this.wrapper.addClass("e-valid")),this.element.val(e)},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var i,s,a,o,r,l=this.model.validationRules;for(a in this.element.rules("add",l),i=(i=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),s=this.element.attr("name"),i.settings.messages[s]={},l)if(o=null,!t.isNullOrUndefined(l[a])){if(t.isNullOrUndefined(l.messages&&l.messages[a]))for(r in i.settings.messages[s][a]=e.validator.messages[a],this.model.validationMessage)a==r&&(o=this.model.validationMessage[a]);else o=l.messages[a];i.settings.messages[s][a]=null!=o?o:e.validator.messages[a]}},_updateValueAttributes:function(e,t,i){e&&e!=-Number.MAX_VALUE&&this.wrapper.attr({"aria-valuemin":e}),t&&t!=Number.MAX_VALUE&&this.wrapper.attr({"aria-valuemax":t}),i&&this.wrapper.attr({"aria-valuenow":i})},_renderControl:function(){this.wrapper=t.buildTag("span.e-widget e-pinch"),this.innerWrap=t.buildTag("span.e-in-wrap e-box "),this.wrapper.attr("style",this.element.attr("style")),"ej.NumericTextbox"===this.sfType?this.wrapper.addClass("e-numeric"):"ej.PercentageTextbox"===this.sfType?this.wrapper.addClass("e-percent"):"ej.CurrencyTextbox"===this.sfType&&this.wrapper.addClass("e-currency"),this.wrapper.append(this.innerWrap).insertAfter(this.element),this.innerWrap.append(this.element),this._hiddenInput=t.buildTag("input","",{},{type:"text"}).insertBefore(this.element),this._hiddenInput.attr("data-role","none"),this._hiddenInput[0].tabIndex=this.element[0].tabIndex,this._hiddenInput.attr("accesskey",this.element[0].accessKey),this.element[0].accessKey="",this._hiddenInput.css("display","block"),this.element.css("display","none"),this._isWatermark||(this._hiddenSpan=t.buildTag("span.e-input e-placeholder ").insertAfter(this.element),this._hiddenSpan.text(this._localizedLabels.watermarkText),this._hiddenSpan.css("display","none"),this._on(this._hiddenSpan,"mousedown",this._focusIn),this._on(this._hiddenSpan,"mousewheel",this._mouseWheel),this._on(this._hiddenSpan,"DOMMouseScroll",this._mouseWheel)),this.model.name=null!=this.element.attr("name")?this.element.attr("name"):null!=this.model.name?this.model.name:this.element[0].id,null==this.element.attr("name")&&this.element.attr("name",this.model.name),this.element.addClass("e-input"),t.isNullOrUndefined(this.model.value)&&""!=this.element[0].value?("."==t.preferredCulture(this.model.locale).numberFormat[","]&&(this.element[0].value=this.element[0].value.replace(".",",")),this.model.value=this._checkNumValue(this.element[0].value)):("string"==typeof this.model.value&&"."==t.preferredCulture(this.model.locale).numberFormat[","]&&(this.model.value=this.model.value.replace(".",",")),this.model.value=this._checkNumValue(this.model.value)),this._hiddenInput.attr({value:this.model.value}).addClass("e-input"),this.wrapper.attr({role:"spinbutton"}),this._updateValueAttributes(this._options.minValue,this._options.maxVal,this.model.value),this.element.attr({"aria-live":"assertive",value:this.model.value});var i=e('<span class="e-select"><span class="e-spin e-spin-up " role="button" aria-label="Increase Value" unselectable="on"></span><span class="e-spin e-spin-down" role="button" aria-label="Decrease Value" unselectable="on"></span></span>');i.find(".e-spin-up").append(t.buildTag("span.e-icon e-arrow e-arrow-sans-up").attr({role:"presentation",unselectable:"on"})),i.find(".e-spin-down").append(t.buildTag("span.e-icon e-arrow e-arrow-sans-down").attr({role:"presentation",unselectable:"on"})),this.innerWrap.append(i),this.spin=this.wrapper.find(".e-select"),this.spinUp=this.wrapper.find(".e-spin-up"),this.spinDown=this.wrapper.find(".e-spin-down"),this._setWidth(this.model.width),this._setHeight(this.model.height),""!=this.model.cssClass&&this._setSkin(this.model.cssClass),this._showSpin(this.model.showSpinButton),this.model.showRoundedCorner&&this._roundedCorner(this.model.showRoundedCorner),this.model.enableRTL&&this._enableRTL(this.model.enableRTL),this.model.readOnly&&this._setReadOnly(this.model.readOnly),this.model.enabled?this.model.enabled&&this.element.hasClass("e-disable")&&this.enable():this.disable()},_initObjects:function(){this._preVal=this.model.value,null===this.model.value?(this.isValidState=!0,this._hiddenInput.val(null)):(this.model.value<this.model.minValue||this.model.value>this.model.maxValue)&&(this.isValidState=!1),this._checkErrorClass(),this._setWaterMark()},_showSpin:function(e){e?(this.spin&&(this.spin.show(),this.innerWrap.addClass("e-padding")),this._spinEvents("_on")):(this.spin&&(this.spin.hide(),this.innerWrap.removeClass("e-padding")),this._spinEvents("_off"))},_roundedCorner:function(e){e&&!this.innerWrap.hasClass("e-corner")?this.innerWrap.addClass("e-corner"):this.innerWrap.hasClass("e-corner")&&this.innerWrap.removeClass("e-corner")},_enableRTL:function(e){e?this.spin?this.wrapper.addClass("e-rtl"):this.element.addClass("e-rtl"):this.spin?this.wrapper.removeClass("e-rtl"):this.element.removeClass("e-rtl")},_setWidth:function(e){""!=e?this.wrapper.width(e):this.model.width=this.wrapper.outerWidth()},_setHeight:function(e){""!=e?this.wrapper.height(e):this.model.height=this.wrapper.outerHeight()},_setSkin:function(e){this.wrapper.removeClass(this.model.cssClass),this.wrapper.addClass(e)},_setValue:function(e,t){this._isWatermark||this._hiddenSpan.css("display","none"),this.model.value=this._checkNumValue(e),this._validateMinMaxValue(!1),this._checkErrorClass(),this._localizedFormat(),this._raiseChangeEvent(t),this._setWaterMark()},_setLocalize:function(e){var i,s=t.preferredCulture(this.model.locale).numberFormat[","];this.model.locale="en"==t.preferredCulture(e).name?"en-US":t.preferredCulture(e).name,this.model.groupSeparator=t.isNullOrUndefined(this._options.groupSeparator)&&s===this.model.groupSeparator?t.preferredCulture(this.model.locale).numberFormat[","]:this.model.groupSeparator,this._localizedLabels=this._getLocalizedLabels(),t.isNullOrUndefined(this._options)||t.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText),this._localizedLabelToModel(),this.culture=t.preferredCulture(this.model.locale),this._initCustomValue(),this._updateSymbol(this.model.locale),this._localizedFormat(),this._changeWatermark(this.model.watermarkText),i=t.isNullOrUndefined(this.model.value)?this.model.value:-1==this.model.value.toString().indexOf("e")?this._formatValue(this.model.value,"n",!0):this._convertToExponetial(this.model.value).unformattedValue,this.element.val(i)},_localizedLabelToModel:function(){this.model.watermarkText=this._localizedLabels.watermarkText},_updateSymbol:function(e){this._percentSymbol=t.preferredCulture(e).numberFormat.percent.symbol,this._currencySymbol=t.preferredCulture(e).numberFormat.currency.symbol},_setDecimal:function(e){this.model.decimalPlaces=e,this._localizedFormat()},_validateMinMaxValue:function(e,i){var s,a=!1;this.model.minValue>this.model.maxValue&&(this.model.minValue=this.model.maxValue),!t.isNullOrUndefined(this.model.value)&&this.model.minValue>this.model.value?(1!=this.model.enableStrictMode?(this.isValidState=!0,this._startValue=this.model.value=this.model.minValue):this.isValidState=!1,a=!0):!t.isNullOrUndefined(this.model.value)&&this.model.maxValue<this.model.value?(1!=this.model.enableStrictMode?(this.isValidState=!0,this.model.value=this.model.maxValue):this.isValidState=!1,a=!0):this.isValidState=!0,this.model.minValue==this.model.maxValue&&(this._startValue=this.model.minValue),a&&e&&(s=this._formatValue(this.model.value,"n",!0),this._hiddenInput.val(s),s=t.isNullOrUndefined(this.model.value)?this.model.value:-1==this.model.value.toString().indexOf("e")?this._formatValue(this.model.value,"n",!0):this._convertToExponetial(this.model.value).unformattedValue,this.element.val(s),this._localizedFormat(),this._raiseChangeEvent(i))},_convertToExponetial:function(e){var i,s,a,o,r,l,n,d="",h=e<0;for(e=e.toString(),s=t.preferredCulture(this.model.locale).numberFormat,a=e=e.replace(".",s["."]),l=null,"ej.NumericTextbox"===this.sfType?(i=h?s.pattern[0]:t.isNullOrUndefined(s.pattern[1])?"n":s.pattern[1],e=h?e.replace("-",""):e,o=""):"ej.PercentageTextbox"===this.sfType?(i=h?s.percent.pattern[0]:s.percent.pattern[1],e=h?e.replace("-",""):e,o=s.percent.symbol):"ej.CurrencyTextbox"===this.sfType&&(i=h?s.currency.pattern[0]:s.currency.pattern[1],e=h?e.replace("-",""):e,o=s.currency.symbol),r=0,l=i.length;r<l;r++)d+="n"===(n=i.charAt(r))?e:"$"===n||"%"===n?o:n;return{formattedValue:d,unformattedValue:a}},_localizedFormat:function(){var e,i,s,a;this.culture=t.preferredCulture(this.model.locale),this._decimalSep=t.preferredCulture(this.model.locale).numberFormat["."],t.isNullOrUndefined(this.model.value)?this._textBox.value="":-1==this.model.value.toString().indexOf("e")?(this._textBox.value=this._removeSeparator(this.model.value),this._focused||""==this._textBox.value?(a=this._convertToExponetial(this.model.value),this._textBox.value=a.unformattedValue,this._focused||""==this._textBox.value||(this._textBox.value=a.formattedValue)):(this._textBox.value=this._formatValue(this.model.value,"n",!0),"ej.PercentageTextbox"===this.sfType?this._appendPercentSymbol(this._textBox.value):"ej.CurrencyTextbox"===this.sfType&&this._appendCurrencySymbol(this._textBox.value),e="ej.CurrencyTextbox"===this.sfType?this._textBox.value.indexOf(this._currencySymbol):"ej.PercentageTextbox"===this.sfType?this._textBox.value.indexOf(this._percentSymbol):-1,-1==this.model.decimalPlaces&&0!=this._afterDec&&(this._textBox.value=this._textBox.value.substr(0,this._textBox.value.lastIndexOf(this._decimalSep)),e>1&&(t.isNullOrUndefined(this._afterDec)||""==this._afterDec)&&("ej.CurrencyTextbox"===this.sfType&&(this._textBox.value=this._textBox.value+" "+this._currencySymbol),"ej.PercentageTextbox"===this.sfType&&(this._textBox.value=this._textBox.value+" "+this._percentSymbol)),-1!=this.model.decimalPlaces||t.isNullOrUndefined(this._afterDec)||""==this._afterDec||((i=this._textBox.value.lastIndexOf(this._decimalSep))>=0&&(this._textBox.value=this._textBox.value.substr(0,i)),s=this._afterDec,e>1&&("ej.CurrencyTextbox"===this.sfType&&(s=s+" "+this._currencySymbol),"ej.PercentageTextbox"===this.sfType&&(s=s+" "+this._percentSymbol)),this._textBox.value=this._textBox.value+this._decimalSep+s)))):this._textBox.value=this.model.value.toString()},_checkNumValue:function(e){return"string"==typeof e&&(e=this._changeSeparator?this._replaceSeparator(e,this.model.groupSeparator,t.preferredCulture(this.model.locale).numberFormat[","]):e),"string"!=typeof e||isNaN(this._parseValue(e))?"number"!=typeof e||isNaN(e)?null:e:(e=this._parseValue(e),parseFloat(e))},_setReadOnly:function(e){this.model.readOnly=e,e?(this.element.attr("readonly",!0),this._hiddenInput.attr("readonly",!0)):(this.element.prop("readonly",!1),this._hiddenInput.prop("readonly",!1))},_setWaterMark:function(){null!=this._localizedLabels.watermarkText&&""===this._textBox.value&&""===e.trim(this._hiddenInput.val())&&(this._isWatermark?(this._hiddenInput.attr("placeholder",this._localizedLabels.watermarkText),this.element.attr("placeholder",this._localizedLabels.watermarkText)):this._hiddenSpan.css("display","block").text(this._localizedLabels.watermarkText))},_changeWatermark:function(e){if(!this.model.enabled)return!1;this._isWatermark?(this._hiddenInput.attr("placeholder",e),this.element.attr("placeholder",e)):this._hiddenSpan.text(e)},_setSelectionRange:function(e,t){function i(i){i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}var s,a=this._textBox;try{a.setSelectionRange?"edge"==this._browsername?setTimeout((function(){a.setSelectionRange(e,t)})):a.setSelectionRange(e,t):a.createTextRange&&i(a.createTextRange())}catch(o){s=this,window.setTimeout((function(){document.body.focus(),s._textBox.select(),document.selection&&i(document.selection.createRange())}),1)}},_getSelection:function(e){if("number"!=this._textBox.type){var t=null;return document.selection?""===(t=document.selection.createRange()).text?t.text:this._removeFormats(t.text):null==e?this.model.value:this._removeFormats(e.substring(this._textBox.selectionStart,this._textBox.selectionEnd))}},_caretPosition:function(){var e,t=this._textBox,i=0;if("number"!=t.type)return document.selection?(t.focus(),(e=document.selection.createRange()).moveStart("character",-t.value.length),i=e.text.length):(t.selectionStart||"0"==t.selectionStart)&&(i=t.selectionEnd),i},_appendPercentSymbol:function(e){this._percentSymbol&&(e=e.replace(this._percentSymbol,"")),e.indexOf(t.preferredCulture(this.model.locale).numberFormat.percent.symbol)<0&&(this._textBox.value=this._formatValue(this._parseValue(e)/100,"p",!0)),this._percentSymbol=t.preferredCulture(this.model.locale).numberFormat.percent.symbol},_appendCurrencySymbol:function(e){this._currencySymbol&&(e=e.replace(this._currencySymbol,"")),e.indexOf(t.preferredCulture(this.model.locale).numberFormat.currency.symbol)<0&&(this._textBox.value=this._formatValue(this._parseValue(e),"c",!0)),this._currencySymbol=t.preferredCulture(this.model.locale).numberFormat.currency.symbol},_removeFormats:function(e){var i=t.preferredCulture(this.model.locale).numberFormat[","];return null!=e?"."==i?e.toString().replace(/["."]/g,""):e.toString().match(new RegExp(i,"g"))?e.toString().replace(new RegExp(i,"g"),""):e:null},_checkErrorClass:function(){this.isValidState?this.wrapper.removeClass("e-error"):this.wrapper.addClass("e-error")},enable:function(){this.model.enabled=!0,this.element[0].disabled=!1,this.element.prop("disabled",!1),this._hiddenInput.prop("disabled",!1),this.element.removeClass("e-disable").attr({"aria-disabled":!1}),this._hiddenInput.removeClass("e-disable").attr({"aria-disabled":!1}),this.wrapper.find(".e-select").removeClass("e-disable").attr({"aria-disabled":!1}),this.wrapper.find(".e-select span.e-icon.e-arrow").removeClass("e-disable"),this.wrapper.removeClass("e-disable-wrap")},disable:function(){this.model.enabled=!1,this.element[0].disabled=!0,this.element.attr("disabled","disabled"),this._hiddenInput.attr("disabled","disabled"),this.element.addClass("e-disable").attr({"aria-disabled":!0}),this._hiddenInput.addClass("e-disable").attr({"aria-disabled":!0}),this.wrapper.find(".e-select").addClass("e-disable").attr({"aria-disabled":!0}),this.wrapper.find(".e-select span.e-icon.e-arrow").addClass("e-disable"),this.wrapper.addClass("e-disable-wrap")},getValue:function(){return this.model.value},_wireEvents:function(){this._on(this._hiddenInput,"focus",this._focusIn),this._on(this.element,"paste",this._paste),this._on(this.element,"blur",this._focusOut),this._on(this.element,"keydown",this._keyDown),this._on(this.element,"keypress",this._keyPress),this._on(this.element,"mousewheel",this._mouseWheel),this._on(this.element,"DOMMouseScroll",this._mouseWheel)},_spinEvents:function(e){this[e](this.spinUp,"mousedown mouseup touchstart touchend",this._spinUpClick),this[e](this.spinDown,"mousedown mouseup touchstart touchend",this._spinDownClick)},_isIE8:function(){var e=!1,i=t.browserInfo();return"msie"==i.name&&"8.0"==i.version&&(e=!0),e},_spinUpClick:function(t){var i,s=!1;t.button?s=this._isIE8()?1!=t.button:0!=t.button:t.which&&(s=3==t.which),s||(i=this,t.preventDefault(),clearTimeout(this._timeout),this.model.enabled&&!this.model.readOnly&&(this.wrapper.find(".e-animate").removeClass("e-animate"),this.spinUp.addClass("e-animate"),this._on(this.spinUp,"mouseleave",this._mouseUpClick),this.spinUp.addClass("e-active"),i=this,"mouseup"==t.type||"touchend"==t.type?(this._updateInputField("increment"),this.spinUp.removeClass("e-active"),this._off(e(document),"mouseup",this._mouseUpClick)):("mousedown"==t.type||"touchstart"==t.type)&&(this._focused||this._hiddenInput[0].focus(),this._timeout=setInterval((function(){i._updateInputField("increment")}),150),this._on(e(document),"mouseup",this._mouseUpClick))))},_spinDownClick:function(t){var i,s=!1;t.button?s=this._isIE8()?1!=t.button:0!=t.button:t.which&&(s=3==t.which),s||(i=this,t.preventDefault(),clearTimeout(this._timeout),this.model.enabled&&!this.model.readOnly&&(this.wrapper.find(".e-animate").removeClass("e-animate"),this.spinDown.addClass("e-animate"),this._on(this.spinDown,"mouseleave",this._mouseUpClick),this.spinDown.addClass("e-active"),"mouseup"==t.type||"touchend"==t.type?(this._updateInputField("decrement"),this.spinDown.removeClass("e-active"),this._off(e(document),"mouseup",this._mouseUpClick)):("mousedown"==t.type||"touchstart"==t.type)&&(this._focused||this._hiddenInput[0].focus(),this._timeout=setInterval((function(){i._updateInputField("decrement")}),150),this._on(e(document),"mouseup",this._mouseUpClick))))},_mouseUpClick:function(e){e.stopPropagation(),clearTimeout(this._timeout),this._off(this.spinUp,"mouseleave",this._mouseUpClick),this._off(this.spinDown,"mouseleave",this._mouseUpClick),this.spinDown.removeClass("e-active"),this.spinUp.removeClass("e-active")},_mouseWheel:function(e){if(e.preventDefault(),this._focused||this.element[0].focus(),this.model.enabled&&!this.model.readOnly){var t,i=e.originalEvent;i.wheelDelta?t=i.wheelDelta/120:i.detail&&(t=-i.detail/3),t>0?this._updateInputField("increment"):t<0&&this._updateInputField("decrement"),this._cancelEvent(e)}},_numberValue:function(){var e=this._textBox.value;return"ej.NumericTextbox"===this.sfType&&(e=this._formatValue(this.model.value,"n",!0)),("ej.PercentageTextbox"===this.sfType||"ej.CurrencyTextbox"===this.sfType)&&(e=this._formatValue(this.model.value,"n",!0)),"string"!=typeof e||isNaN(this._parseValue(e))?"":e},_formatValue:function(e,i,s){return s&&this._updateCultureInfo(),e=-1!=this.model.decimalPlaces||-1==this.model.decimalPlaces&&null==this.model.value?t.format(e,i+this.model.decimalPlaces,this.model.locale):t.format(e,i+this._afterDec.length,this.model.locale),s&&this._restCultureInfo(),e},_parseValue:function(e){return this._updateCultureInfo(),e=t.parseFloat(e,this.model.locale),this._restCultureInfo(),e},_initCustomValue:function(){var e,i="ej.PercentageTextbox"==this.sfType?"percent":"ej.CurrencyTextbox"==this.sfType?"currency":"numeric";switch(i){case"percent":case"currency":e=this.culture.numberFormat[i],t.isNullOrUndefined(this._options.negativePattern)&&(this.model.negativePattern=e.pattern[0]),t.isNullOrUndefined(this._options.positivePattern)&&(this.model.positivePattern=e.pattern[1]),t.isNullOrUndefined(this._options.currencySymbol)&&"currency"==i&&(this.model.currencySymbol=e.symbol),t.isNullOrUndefined(this._options.groupSize)&&(this.model.groupSize=e.groupSizes[0]);break;case"numeric":e=this.culture.numberFormat,t.isNullOrUndefined(this._options.negativePattern)&&(this.model.negativePattern=e.pattern[0]),t.isNullOrUndefined(this._options.positivePattern)&&(this.model.positivePattern=t.isNullOrUndefined(e.pattern[1])?"n":e.pattern[1]),t.isNullOrUndefined(this._options.groupSize)&&(this.model.groupSize=e.groupSizes[0])}},_updateCultureInfo:function(){var e,t="ej.PercentageTextbox"==this.sfType?"percent":"ej.CurrencyTextbox"==this.sfType?"currency":"numeric";e="numeric"==t?this.culture.numberFormat:this.culture.numberFormat[t],this._oldNegativePattern=e.pattern[0],this._oldGroupSize=e.groupSizes[0],e.pattern[0]=this.model.negativePattern,e.groupSizes[0]=this.model.groupSize,this._oldPositivePattern=e.pattern[1],e.pattern[1]=this.model.positivePattern,"currency"==t&&(this._oldcurrencySymbol=e.symbol,e.symbol=this.model.currencySymbol)},_restCultureInfo:function(){var e,t="ej.PercentageTextbox"==this.sfType?"percent":"ej.CurrencyTextbox"==this.sfType?"currency":"numeric";(e="numeric"==t?this.culture.numberFormat:this.culture.numberFormat[t]).pattern[0]=this._oldNegativePattern,e.groupSizes[0]=this._oldGroupSize,e.pattern[1]=this._oldPositivePattern,"currency"==t&&(e.symbol=this._oldcurrencySymbol)},_toggleTextbox:function(e){var t=this;t._hiddenInput.toggle(e),t.element.toggle(!e)},_paste:function(e){var i,s;window.clipboardData&&window.clipboardData.getData?i=window.clipboardData.getData("Text"):e.originalEvent.clipboardData&&e.originalEvent.clipboardData.getData&&(i=e.originalEvent.clipboardData.getData("text/plain")),s=t.parseFloat(i,this.model.locale),isNaN(s)&&i&&this._cancelEvent(e)},_focusIn:function(){if(!this.model.readOnly){if(this._focused=!0,t.isNullOrUndefined(this.model.value)||this.element.val(this._removeSeparator(this.model.value)),this._toggleTextbox(!1),this._textBox=this.element[0],this.element[0].focus(),this._preVal=this.model.value,this._isWatermark||this._hiddenSpan.css("display","none"),this.wrapper.addClass("e-focus"),this.wrapper.removeClass("e-error"),!this._error){if(""!=this._textBox.value){var e=this._formatValue(this._textBox.value,"n",!0);-1==this.model.decimalPlaces&&(this._separateValue(this._textBox.value.toString(),!0,!0),t.isNullOrUndefined(this._afterDec)||""==this._afterDec||(e=this._beforeDec+this._decimalSep+this._afterDec)),this._textBox.value=e,this._hiddenInput.val(e)}this._setSelectionRange(0,this._textBox.value.length)}this._trigger("focusIn",{value:this.model.value})}},_separateValue:function(e,t,i){var s=t?e.lastIndexOf(this._decimalSep):e.lastIndexOf(".");this._beforeDec=s>=0?e.substr(0,s):e,!t&&i&&(this._afterDec=s>=0?e.substr(s+1):"")},_focusOut:function(){var e;this._focused=!1,this.wrapper.removeClass("e-focus"),this._separateValue(this._textBox.value,!1,!0),this._error||(""!=this._textBox.value?((e=t.parseFloat(this._textBox.value,this.model.locale))<this.model.minValue?this.model.enableStrictMode?this.isValidState=!1:this._textBox.value=this._formatValue(this.model.minValue,"n",!1):e>this.model.maxValue&&(this.model.enableStrictMode?this.isValidState=!1:this._textBox.value=this._formatValue(this.model.maxValue,"n",!1)),this.model.value=-1!=this.model.decimalPlaces||t.isNullOrUndefined(this._afterDec)||-1!=this._textBox.value.lastIndexOf(this._decimalSep)||-1!=e.toString().indexOf("e")?t.parseFloat(this._textBox.value,this.model.locale):t.parseFloat(this._textBox.value+this._decimalSep+this._afterDec,this.model.locale),isNaN(this.model.value)&&!this.model.value&&(this.model.value=null,this.isValidState=!1),this._toggleTextbox(!0),this._textBox=this._hiddenInput[0],this._localizedFormat(),this._checkErrorClass()):(e=""==this._textBox.value?null:this._textBox.value,this.model.value=e,this._hiddenInput.val(e),this._toggleTextbox(!0),this._textBox=this._hiddenInput[0]),null===this.model.value||this.model.value>=this.model.minValue&&this.model.value<=this.model.maxValue?this.isValidState=!0:this.model.enableStrictMode&&(this.isValidState=!1),this._raiseChangeEvent(),this._setWaterMark(),e=t.isNullOrUndefined(this.model.value)?this.model.value:-1==this.model.value.toString().indexOf("e")?this._removeSeparator(this.model.value):this._convertToExponetial(this.model.value).unformattedValue,this.element.val(e),this._updateSeparator(),this._trigger("focusOut",{value:this.model.value})),this._checkErrorClass(),this._afterDec=""},_cancelEvent:function(e){return e.cancelBubble=!0,e.returnValue=!1,e.stopPropagation(),e.preventDefault(),!1},_updateInputField:function(s){var a,o,r;this.isValidState=!0,this._focused||e(this._hiddenInput[0]).focus(),a=this.model.incrementStep,this.model.value,""===this._textBox.value?(this._textBox.value=this._formatValue(this._startValue,"n",!0),a=0):this._textBox.value.indexOf(" ")>=0&&(this._textBox.value=this._textBox.value.replace(" ","")),"ej.PercentageTextbox"===this.sfType||"ej.CurrencyTextbox"===this.sfType?(r=o=this._textBox.value,o.indexOf(t.preferredCulture(this.model.locale).numberFormat.percent.symbol)>-1&&(r=o.substring(0,o.length-1)),this.model.value=this._parseValue(r)):"ej.NumericTextbox"==this.sfType&&(this.model.value=t.parseFloat(this._textBox.value,this.model.locale)),isNaN(this.model.value)&&!this.model.value&&(this.model.value=this._startValue),this.model.value>=this.model.minValue&&this.model.value>this.model.maxValue?(this.model.value=this.model.maxValue,this._setValue(this.model.value)):this.model.value<this.model.minValue&&this.model.value<=this.model.maxValue?(this.model.value=this.model.minValue,this._setValue(this.model.value)):this.model.value>=this.model.minValue&&this.model.value<=this.model.maxValue&&(r="increment"==s?this.model.value+a:this.model.value-a,-1==this.model.decimalPlaces&&(this.value==i&&this._setValue(this.model.value),r=-1==this.model.value.toString().indexOf("e")?parseFloat(r.toFixed(this._afterDec.length)):parseFloat(r)),r>=this.model.minValue&&r<=this.model.maxValue&&this._setValue(r)),this._checkErrorClass()},_validateDecimal:function(e){var i=String.fromCharCode(e.keyCode);return i=188==e.keyCode?",":190==e.keyCode?".":110==e.keyCode?t.preferredCulture(this.model.locale).numberFormat["."]:i,t.preferredCulture(this.model.locale).numberFormat["."].charCodeAt(0)==i.charCodeAt(0)},_allowKeyCodes:function(e){for(var t=[38,40,35,36,109,189,46,8,127,37,39,190,9,13,16,17,18,20,110,173,86,88,67],i=0;i<t.length;i++)if(e.keyCode==t[i]||this._validateDecimal(e)&&0!=this.model.decimalPlaces)return!0;return!1},_raiseChangeEvent:function(e){var i,s=this.model.value;this._checkNumValue(this._preVal)!==this._checkNumValue(s)&&(this._preVal=s,this.model.value=-1!=this.model.decimalPlaces||t.isNullOrUndefined(this.model.value)?this._checkNumValue(this._formatValue(this._preVal,"n",!1)):parseFloat(this.model.value),this._updateHiddenField(),t.isNullOrUndefined(this.model.value)?(i=this.model.value,this.wrapper.removeClass("e-valid")):(i=-1==this.model.value.toString().indexOf("e")?this._removeSeparator(this.model.value):this._convertToExponetial(this.model.value).unformattedValue,-1==this.model.decimalPlaces&&(this._separateValue(this.model.value.toString(),!1,!0),t.isNullOrUndefined(this._afterDec)||""==this._afterDec||(i=this._beforeDec+this._decimalSep+this._afterDec)),this.wrapper.addClass("e-valid")),this.element.val(i),this.wrapper.attr("aria-valuenow",i),this._updateSeparator(),this.element.trigger("change"),this._trigger("_change",{value:this.model.value,isInteraction:!e}),this._trigger("change",{value:this.model.value,isInteraction:!e}))},_updateHiddenField:function(){var e=this._textBox;this._textBox=this._hiddenInput[0],this._localizedFormat(),this._textBox=e},_removeSeparator:function(e){var i,s;if(!t.isNullOrUndefined(e))return-1==this.model.decimalPlaces&&this._separateValue(e.toString(),!1,!0),-1==e.toString().indexOf("e")&&(e=this._checkNumValue(this._formatValue(e,"n",!1))),i=e.toString(),s=t.preferredCulture(this.model.locale).numberFormat,i.replace(".",s["."])},_updateSeparator:function(){var e,i,s,a,o;this._changeSeparator&&this.model.value&&("ej.NumericTextbox"===this.sfType?e=this._formatValue(this.model.value,"n",!0):"ej.PercentageTextbox"===this.sfType?e=this._formatValue(this.model.value/100,"p",!0):"ej.CurrencyTextbox"===this.sfType&&(e=this._formatValue(this.model.value,"c",!0)),-1==this.model.decimalPlaces&&(i=e.lastIndexOf(this._decimalSep),s=e.substr(i+1),this._separateValue(e,!0,!1),a="ej.CurrencyTextbox"===this.sfType?e.indexOf(this._currencySymbol):"ej.PercentageTextbox"===this.sfType?this._textBox.value.indexOf(this._percentSymbol):-1,o=this._afterDec,a>1&&("ej.CurrencyTextbox"===this.sfType&&(o=o+" "+this._currencySymbol),"ej.PercentageTextbox"===this.sfType&&(o=o+" "+this._percentSymbol)),t.isNullOrUndefined(this._afterDec)||""==this._afterDec||(e=this._beforeDec+this._decimalSep+o),t.isNullOrUndefined(this._afterDec)||""!=this._afterDec||(e=this._beforeDec+this._decimalSep+s)),this._hiddenInput.val(this._replaceSeparator(e,t.preferredCulture(this.model.locale).numberFormat[","],this.model.groupSeparator)))},_replaceSeparator:function(e,i,s){var a,o,r,l;return this._decimalSep=t.preferredCulture(this.model.locale).numberFormat["."],a=""===i?new RegExp("\\s","g"):new RegExp("\\"+i,"g"),this.model.groupSeparator==t.preferredCulture(this.model.locale).numberFormat["."]?(o=this.model.decimalPlaces,-1==this.model.decimalPlaces&&(r=e.lastIndexOf(this._decimalSep),o=e.substr(r+1).length),l=e.length-o-1,e.substring(0,l).replace(a,s)+e.substring(l,e.length)):e.replace(a,s)},_checkSeparator:function(e){this.model.groupSeparator=null!=e?this._validateSeparator(e):t.preferredCulture(this.model.locale).numberFormat[","],this._changeSeparator=t.preferredCulture(this.model.locale).numberFormat[","]!=this.model.groupSeparator,this._prevSeparator=this.model.groupSeparator},_validateSeparator:function(e){var i=e.toString(),s=new RegExp("[a-zA-Z0-9]");return i=i.length>1?i[0]:i,s.test(i)?null!=this._prevSeparator?this._prevSeparator:t.preferredCulture(this.model.locale).numberFormat[","]:i},_keyPress:function(e){var i;if(0!==e.which&&!e.metaKey&&!e.ctrlKey&&8!==e.keyCode&&13!==e.keyCode){var s,a,o,r,l,n=this,d=".";return s=this._caretPosition(),a=this._textBox.value.toString().substring(0,s),o=this._textBox.value.toString().substring(s),r=t.preferredCulture(this.model.locale).numberFormat,l=a+String.fromCharCode(e.which)+o,i=(i=r[d])===d?"\\"+i:i,!!(0===n.model.decimalPlaces?new RegExp("^((-)?(\\d*)(-)?)?$"):new RegExp("^(-)?(((\\d+("+i+"\\d*)?)|("+i+"\\d*)))?((-)?)$")).test(l)&&void 0}},_validateDecimalOnType:function(e){var i,s,a,o,r,l;return i=this._caretPosition(),this._textBox.value.toString().substring(0,i),this._textBox.value.toString().substring(i),a=this._getSelection(this._textBox.value),r=t.preferredCulture(this.model.locale).numberFormat["."],o=t.isNullOrUndefined(this.model.value)?"":this.model.value.toString(),0!=this.model.decimalPlaces?(l=this._textBox.value.split(r)[1],s=o.indexOf(r)>0&&o.substring(o.indexOf(r)+1,o.length).length>this.model.decimalPlaces||!!(0==a.length&&i>this._textBox.value.indexOf(r)&&l&&l.length>=this.model.decimalPlaces)):s=!1,s?(this._keypressFlag=!1,this._cancelEvent(e),!1):void 0},_keyDown:function(s){var a,o,r,l,n,d;if(!this.model.readOnly)if(this._CurrentCultureInfo=JSON.parse(JSON.stringify(t.preferredCulture())),s.keyCode>=48&&s.keyCode<=57||s.keyCode>=96&&s.keyCode<=105||this._allowKeyCodes(s)){if(s.shiftKey&&(35==s.keyCode||36==s.keyCode||37==s.keyCode||39==s.keyCode||46==s.keyCode||127==s.keyCode)||s.ctrlKey&&(86==s.keyCode||118==s.keyCode||67==s.keyCode||88==s.keyCode))return!0;if(1==s.ctrlKey&&9!=s.keyCode&&17!=s.keyCode&&86!=s.keyCode&&67!=s.keyCode||67==s.keyCode||86==s.keyCode||88==s.keyCode)return this._keypressFlag=!1,this._cancelEvent(s),!1;if((s.keyCode>=48&&s.keyCode<=57||s.keyCode>=96&&s.keyCode<=105||110==s.keyCode)&&(a=this._caretPosition(),this._textBox.value.toString().substring(0,a),this._textBox.value.toString().substring(a),r=this._getSelection(this._textBox.value),s.keyCode>=96&&s.keyCode<=105&&(s.keyCode-=48),this.model.validateOnType&&-1!=this.model.decimalPlaces&&this._validateDecimalOnType(s),this._validateOnType)){var h=t.preferredCulture(this.model.locale).numberFormat["."],c=this.model.value.toString(),u=c.indexOf(h),p=this.model.value,m=-1==this.model.decimalPlaces?this.model.minValue:this.model.minValue.toFixed(this.model.decimalPlaces),g=-1==this.model.decimalPlaces?this.model.maxValue:this.model.maxValue.toFixed(this.model.decimalPlaces),_=!1;if((m.toString().indexOf("e")>0||g.toString().indexOf("e")>0)&&(_=!0),_)0!=this.model.decimalPlaces?(l=this._textBox.value.split(".")[1],o=(c.indexOf(h)>0||Number(c)<Number(m)||Number(c)>Number(g))&&c.substring(c.indexOf(h)+1,c.length).length>this.model.decimalPlaces||!!(0==r.length&&a>this._textBox.value.indexOf(h)&&l&&l.length>=this.model.decimalPlaces)):o=!1;else if("."!=h&&(c=this._textBox.value.toString(),this.model.minValue.toString().match(new RegExp(".","g"))&&(m=this.model.minValue.toString().replace(/["."]/g,h)),this.model.maxValue.toString().match(new RegExp(".","g"))&&(g=this.model.maxValue.toString().replace(/["."]/g,h))),x=m.toString().indexOf(h)>0?Number(m.toString().substring(0,m.toString().indexOf(h))):this.model.minValue,y=g.toString().indexOf(h)>0?Number(g.toString().toString().substring(0,g.toString().indexOf(h))):this.model.maxValue,u>0){p=Number(c.substring(c.indexOf(h)+1,c.toString().length)),x=m.toString().indexOf(h)>0?Number(m.toString().substring(m.toString().indexOf(h)+1,m.toString().length)):0,y=g.toString().indexOf(h)>0?Number(g.toString().substring(g.toString().indexOf(h)+1,g.toString().length)):0;var f=Number(c.substring(0,c.indexOf(h))),b=Number(m.toString().substring(0,m.toString().indexOf(h))),v=Number(g.toString().substring(0,g.toString().indexOf(h)));o=!this._validateValue(p,x,y,!0,f,b,v)}else o=!this._validateValue(p,x,y,!1);if(o)return this._keypressFlag=!1,this._cancelEvent(s),!1}if(38==s.keyCode&&this._allowkeyboard&&(this._updateInputField("increment"),this._cancelEvent(s)),40==s.keyCode&&this._allowkeyboard&&(this._updateInputField("decrement"),this._cancelEvent(s)),8==s.keyCode&&(a=this._caretPosition(),this._textBox.value.substring(0,a),this._textBox.value.substring(a),r=this._getSelection(this._textBox.value)),(46==s.keyCode||127==s.keyCode)&&(a=this._caretPosition(),this._textBox.value.substring(0,a),this._textBox.value.substring(a),r=this._getSelection(this._textBox.value)),this._validateDecimal(s)&&0!=this.model.decimalPlaces&&46!=s.keyCode){var x,y,w=t.preferredCulture(this.model.locale).numberFormat["."],S=this._textBox.value.split(w),C=this._caretPosition();if(this._textBox.selectionEnd-this._textBox.selectionStart==this._textBox.value.length)return this._textBox.value=w,this._setSelectionRange(C+1,C+1),this._keypressFlag=!1,this._cancelEvent(s),!1;if(S[1]==i){if(n=S[0].substring(0,C),d=S[0].substring(C),(this.model.minValue.toString().indexOf("e")>0||this.model.maxValue.toString().indexOf("e")>0)&&(_=!0),-1!=this.model.decimalPlaces&&d.length>this.model.decimalPlaces&&1==this.model.validateOnType)return this._keypressFlag=!1,this._cancelEvent(s),!1;if(this._validateOnType&&!_){if(this.model.minValue.toString().match(new RegExp(".","g"))&&(x=this.model.minValue.toString().replace(/["."]/g,w)),this.model.maxValue.toString().match(new RegExp(".","g"))&&(y=this.model.maxValue.toString().replace(/["."]/g,w)),x=x.indexOf(w)>0?Number(x.substring(0,x.indexOf(w))):Number(x),y=y.indexOf(w)>0?Number(y.substring(0,y.indexOf(w))):Number(y),!this._validateValue(this.model.value,x,y,"DecimalKeyPressed"))return this._keypressFlag=!1,this._cancelEvent(s),!1;this._textBox.value=n+w+d}else this._textBox.value=n+w+d;this._setSelectionRange(C+1,C+1)}this._cancelEvent(s)}else(190==s.keyCode||110==s.keyCode)&&this._cancelEvent(s);(109==s.keyCode||189==s.keyCode||173==s.keyCode)&&((this.model.value===this._preVal||null===this.model.value)&&(this.model.value=this._textBox.value),0!=this._caretPosition()&&this._getSelection(this._removeFormats(this._textBox.value))!=this.model.value||this.model.minValue>=0&&!this.model.enableStrictMode||this._textBox.value.toString().match(new RegExp("-","g"))&&""===this._getSelection(this._textBox.value)?(this._preVal=this.model.value,this.model.value=this._textBox.value,this._cancelEvent(s)):this._getSelection()==this.model.value&&(this._preVal=this.model.value,this.model.value=null)),13==s.keyCode&&this._checkNumValue(this._preVal)!==this._checkNumValue(this._textBox.value)&&this._setValue(this._textBox.value)}else(27!=s.keyCode&&!s.ctrlKey||s.ctrlKey&&90==s.keyCode&&""===e.trim(this._textBox.value))&&(this._keypressFlag=!1,this._cancelEvent(s))},_getLocalizedLabels:function(){return t.getLocalizedConstants(this.sfType,this.model.locale)}}),t.NumericTextbox.Locale=t.NumericTextbox.Locale||{},t.NumericTextbox.Locale.default=t.NumericTextbox.Locale["en-US"]={watermarkText:"Enter value"},t.PercentageTextbox.Locale=t.PercentageTextbox.Locale||{},t.PercentageTextbox.Locale.default=t.PercentageTextbox.Locale["en-US"]={watermarkText:"Enter value"},t.CurrencyTextbox.Locale=t.CurrencyTextbox.Locale||{},t.CurrencyTextbox.Locale.default=t.CurrencyTextbox.Locale["en-US"]={watermarkText:"Enter value"}})(jQuery,Syncfusion),function(e,t){t.widget("ejButton","ej.Button",{element:null,model:null,validTags:["button","input"],_setFirst:!1,_rootCSS:"e-button",_requiresID:!0,defaults:{size:"normal",type:"submit",height:"",width:"",enabled:!0,htmlAttributes:{},text:null,contentType:"textonly",imagePosition:"imageleft",showRoundedCorner:!1,cssClass:"",prefixIcon:null,suffixIcon:null,enableRTL:!1,repeatButton:!1,timeInterval:"150",create:null,click:null,destroy:null},dataTypes:{size:"enum",enabled:"boolean",type:"enum",showRoundedCorner:"boolean",text:"string",contentType:"enum",imagePosition:"enum",prefixIcon:"string",suffixIcon:"string",cssClass:"string",repeatButton:"boolean",enableRTL:"boolean",timeInterval:"string",htmlAttributes:"data"},disable:function(){this.element.addClass("e-disable").attr("aria-disabled",!0),this.model.enabled=!1},enable:function(){this.element.removeClass("e-disable").attr("aria-disabled",!1),this.model.enabled=!0},_init:function(){this._cloneElement=this.element.clone(),this._initialize(),this._render(),this._controlStatus(this.model.enabled),this._wireEvents(this.model.repeatButton),this._addAttr(this.model.htmlAttributes)},_addAttr:function(t){var i=this;e.map(t,(function(e,t){"class"==t?i.element.addClass(e):i.element.attr(t,e),"disabled"==t&&"disabled"==e&&i.disable()}))},_destroy:function(){this._off(this.element,"blur",this._btnBlur),this.element.removeClass(this.model.cssClass+"e-ntouch e-btn e-txt e-select e-disable e-corner e-widget").removeAttr("role aria-describedby aria-disabled"),!this._cloneElement.attr("type")&&this.element.attr("type")&&this.element.removeAttr("type"),this.element.removeClass("e-btn-"+this.model.size),this.model.contentType&&"textonly"!=this.model.contentType&&this.element.append(this._cloneElement.text())&&this.imgtxtwrap[0].remove()},_setModel:function(e){for(var t in e)switch(t){case"size":this._setSize(e[t]);break;case"height":this._setHeight(e[t]);break;case"width":this._setWidth(e[t]);break;case"contentType":this._setContentType(e[t]);break;case"imagePosition":this._setImagePosition(e[t]);break;case"text":this._setText(e[t]);break;case"prefixIcon":this.element.is("input")||this._setMajorIcon(e[t]);break;case"suffixIcon":this.element.is("input")||this._setMinorIcon(e[t]);break;case"enabled":this._controlStatus(e[t]);break;case"showRoundedCorner":this._roundedCorner(e[t]);break;case"cssClass":this._setSkin(e[t]);break;case"enableRTL":this._setRTL(e[t]);break;case"timeInterval":this.model.timeInterval=e[t];break;case"htmlAttributes":this._addAttr(e[t])}},_setSize:function(e){this.element.removeClass("e-btn-mini e-btn-medium e-btn-small e-btn-large e-btn-normal"),this.element.addClass("e-btn-"+e)},_setType:function(e){this.element.prop({type:e})},_setHeight:function(e){this.element.css("height",e)},_setWidth:function(e){this.element.css("width",e)},_setText:function(e){"inputButton"==this.buttonType?this.element.val(e):this.model.contentType==t.ContentType.TextOnly?this.element.html(e):this.textspan.html(e),this.model.text=e},_setMajorIcon:function(e){this.majorimgtag.removeClass(this.model.prefixIcon),this.majorimgtag.addClass(e),this.model.prefixIcon=e},_setMinorIcon:function(e){this.minorimgtag.removeClass(this.model.suffixIcon),this.minorimgtag.addClass(e),this.model.suffixIcon=e},_setContentType:function(e){e!=this.model.contentType&&(this.element.empty(),this.model.contentType=e,this.element.is("input")||this._renderButtonNormal())},_setImagePosition:function(e){this.model.contentType==t.ContentType.TextAndImage&&e!=this.model.imagePosition&&(this.element.empty(),this.model.imagePosition=e,this.element.is("input")||this._renderButtonNormal())},_setRTL:function(e){e?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_controlStatus:function(e){e?this.enable():this.disable()},_setSkin:function(e){this.model.cssClass!=e&&(this.element.removeClass(this.model.cssClass),this.element.addClass(e))},_initialize:function(){t.isTouchDevice()||this.element.addClass("e-ntouch"),this.element.is("input")?this.buttonType="inputButton":this.element.is("a")||this.element.is("button")?this.buttonType="tagButton":this.element.removeClass("e-button"),this.element.attr("type")?this.model.type=this.element.attr("type"):this._setType(this.model.type),this._timeout=null},_render:function(){this._setSize(this.model.size),this._setHeight(this.model.height),this._setWidth(this.model.width),this._setRTL(this.model.enableRTL),this.element.addClass(this.model.cssClass+" e-btn e-select e-widget").attr("role","button"),"inputButton"==this.buttonType?(this.element.addClass("e-txt"),null!=this.model.text&&""!=this.model.text?this.element.val(this.model.text):this.model.text=this.element.val()):this._renderButtonNormal(),this._roundedCorner(this.model.showRoundedCorner),this.element[0].id&&this.element.attr("aria-describedby",this.element[0].id)},_renderButtonNormal:function(){if((null==this.model.text||""==this.model.text)&&(this.model.text=this.element.html()),this.element.empty(),this.textspan=t.buildTag("span.e-btntxt",this.model.text),this.model.contentType.indexOf("image")>-1&&(this.majorimgtag=t.buildTag("span").addClass(this.model.prefixIcon),this.minorimgtag=t.buildTag("span").addClass(this.model.suffixIcon),this.imgtxtwrap=t.buildTag("span").addClass("e-btn-span")),this.model.contentType==t.ContentType.TextAndImage){switch(this.model.imagePosition){case t.ImagePosition.ImageRight:this.imgtxtwrap.append(this.textspan,this.majorimgtag);break;case t.ImagePosition.ImageLeft:this.imgtxtwrap.append(this.majorimgtag,this.textspan);break;case t.ImagePosition.ImageBottom:this.majorimgtag.attr("style","display:inherit"),this.imgtxtwrap.append(this.textspan,this.majorimgtag);break;case t.ImagePosition.ImageTop:this.majorimgtag.attr("style","display:inherit"),this.imgtxtwrap.append(this.majorimgtag,this.textspan)}this.element.append(this.imgtxtwrap)}else this.model.contentType==t.ContentType.ImageTextImage?(this.imgtxtwrap.append(this.majorimgtag,this.textspan,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==t.ContentType.ImageBoth?(this.imgtxtwrap.append(this.majorimgtag,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==t.ContentType.ImageOnly?(this.imgtxtwrap.append(this.majorimgtag),this.element.append(this.imgtxtwrap)):(this.element.addClass("e-txt"),this.element.html(this.model.text))},_roundedCorner:function(e){1==e?this.element.addClass("e-corner"):this.element.removeClass("e-corner")},_wireEvents:function(t){t&&(this._on(this.element,"mousedown",this._btnRepatMouseClickEvent),this._on(e(document),"mouseup",this._mouseUpClick),this._on(this.element,"keyup",this._btnRepatKeyUpEvent),this._on(e(document),"keypress",this._btnRepatKeyDownEvent)),this._on(this.element,"click",this._btnMouseClickEvent),this._on(this.element,"blur",this._btnBlur)},_btnBlur:function(){this.element.removeClass("e-animate")},_btnMouseClickEvent:function(e){var t,i=this;if(this.element.addClass("e-animate"),!i.model.enabled)return!1;i.element.hasClass("e-disable")||(t={target:e.currentTarget,e:e,status:i.model.enabled},i._trigger("_click",t),i._trigger("click",t))},_btnRepatMouseClickEvent:function(e){var t=this;if(!t.model.enabled)return!1;t.element.hasClass("e-disable")||(t.model.enabled,(0==e.button||1==e.which)&&(t._timeout=setInterval((function(){t._trigger("click",{target:e.currentTarget,status:t.model.enabled})}),this.model.timeInterval)))},_mouseUpClick:function(){clearTimeout(this._timeout)},_btnRepatKeyDownEvent:function(e){var t,i=this;i.element.hasClass("e-disable")||(t={status:i.model.enabled},(32==e.keyCode||13==e.keyCode)&&i._trigger("click",t))},_btnRepatKeyUpEvent:function(e){(32==e.keyCode||13==e.keyCode)&&clearTimeout(this._timeout)}}),t.ContentType={TextOnly:"textonly",ImageOnly:"imageonly",ImageBoth:"imageboth",TextAndImage:"textandimage",ImageTextImage:"imagetextimage"},t.ImagePosition={ImageRight:"imageright",ImageLeft:"imageleft",ImageTop:"imagetop",ImageBottom:"imagebottom"},t.ButtonSize={Normal:"normal",Mini:"mini",Small:"small",Medium:"medium",Large:"large"},t.ButtonType={Button:"button",Reset:"reset",Submit:"submit"}}(jQuery,Syncfusion),function(e,t,i){t.widget("ejCheckBox","ej.CheckBox",{_rootCSS:"e-checkbox",element:null,model:null,validTags:["input"],_addToPersist:["checked","checkState"],_setFirst:!1,angular:{require:["?ngModel","^?form","^?ngModelOptions"]},defaults:{id:null,name:null,value:null,htmlAttributes:{},checked:!1,enabled:!0,enableTriState:!1,showRoundedCorner:!1,enablePersistence:!1,cssClass:"",text:"",enableRTL:!1,idPrefix:"ej",size:"small",checkState:"uncheck",validationRules:null,validationMessage:null,validationMessages:null,beforeChange:null,change:null,create:null,destroy:null},dataTypes:{id:"string",name:"string",enablePersistence:"boolean",enableTriState:"boolean",size:"enum",enabled:"boolean",idPrefix:"string",validationRules:"data",validationMessage:"data",validationMessages:"data",htmlAttributes:"data"},observables:["checked","checkState"],checked:t.util.valueFunction("checked"),checkState:t.util.valueFunction("checkState"),_init:function(e){this._cloneElement=this.element.clone();var i=t.browserInfo();this._isIE8="msie"==i.name&&"8.0"==i.version,this._isIE9="msie"==i.name&&"9.0"==i.version,this._isDevice=this._checkDevice(),this._setValue(),this._renderControl(),this.model.enableRTL&&this._setRTL(),this.model.enabled&&this._wireEvents(),this._setEnabled(this.model.enabled),t.isNullOrUndefined(e)||t.isNullOrUndefined(e.validationMessage)||(this.model.validationMessages=this.model.validationMessage),null!=this.model.validationRules&&(this._initValidator(),this._setValidation()),this._addAttr(this.model.htmlAttributes),(this._isIE9||this._isIE8)&&this.wrapper.addClass("e-tb-cell")},_checkDevice:function(){return t.isDevice()&&t.isTouchDevice()},_setRTL:function(){e(this.maindiv).addClass("e-rtl")},_initValidator:function(){this.wrapper.closest("form").data("validator")||this.wrapper.closest("form").validate()},_setValidation:function(){var i,s,a,o,r;for(a in this.wrapper.find("input").rules("add",this.model.validationRules),i=(i=this.wrapper.closest("form").data("validator"))||this.wrapper.closest("form").validate(),s=this.wrapper.find("input").attr("name"),i.settings.messages[s]={},this.model.validationRules)if(o=null,!t.isNullOrUndefined(this.model.validationRules[a])){if(t.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[a]))for(r in i.settings.messages[s][a]=e.validator.messages[a],this.model.validationMessages)a==r&&(o=this.model.validationMessages[a]);else o=this.model.validationRules.messages[a];i.settings.messages[s][a]=null!=o?o:e.validator.messages[a]}},_addAttr:function(t){var i=this;e.map(t,(function(e,t){"class"==t?i.wrapper.addClass(e):"name"==t||"required"==t?i.element.attr(t,e):"disabled"==t&&"disabled"==e?i._setEnabled(!1):"checked"==t&&"checked"==e?i.checked()instanceof Array?i._updateCheckedItem():i._checked(!0):i.wrapper.attr(t,e)}))},_triggerBeforeChange:function(){var e={isChecked:this._isChecked,isInteraction:!1};if(1==this._trigger("beforeChange",e))return!1},_triggerChange:function(){var e={isChecked:this._isChecked,checkState:this.checkState(),isInteraction:!1};this._trigger("change",e)},_setModel:function(i){var s,a,o;for(s in i)switch(s){case"checked":e(this.maindiv).removeClass("e-material-animate"),this.model.beforeChange&&this._triggerBeforeChange(),this.checked()instanceof Array?(o=(a=t.util.getVal(i[s]))[a.length-1],this.model.value==o&&(this._isChecked=!0)):(this._isChecked=t.util.getVal(i[s]),this.checked(this._isChecked)),this._isChecked?this._checked():this._unChecked(),this.model.change&&this._triggerChange();break;case"enableTriState":i[s]&&(this.model.enableTriState=i[s],this._indeterminateState=i[s]);break;case"checkState":this.model.enableTriState&&(this.model.beforeChange&&this._triggerBeforeChange(),this._isChecked=t.util.getVal(i[s]),this.checkState(this._isChecked),this._changeState(this._isChecked),this._setCheckBoxState(),this.checked(this._isChecked),"indeterminate"==this.model.checkState&&this._setIndeterminate(this._indeterminateState),this.checked()instanceof Array?this._updateCheckedItem():"check"==i[s]?this._hiddenInput.removeAttribute("name"):this._hiddenInput.setAttribute("name",this.model.name),this.model.change&&(this.checked()instanceof Array||(this._isChecked="uncheck"!=this.checkState()),this._triggerChange()));break;case"cssClass":this._changeSkin(i[s]);break;case"enableRTL":i[s]?this._setRTL():e(this.maindiv).removeClass("e-rtl");break;case"text":this._setText(i[s]);break;case"validationRules":null!=this.model.validationRules&&(this.wrapper.find("input").rules("remove"),this.model.validationMessages=null),this.model.validationRules=i[s],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":case"validationMessages":this.model.validationMessages=i[s],null!=this.model.validationRules&&null!=this.model.validationMessages&&(this._initValidator(),this._setValidation());break;case"id":this._setIdAttr(i[s]);break;case"name":this.element.attr("name",i[s]),(!this._isChecked||this.spanImg.hasClass("e-chk-indeter"))&&this._hiddenInput.setAttribute("name",i[s]),this.model.name=i[s];break;case"value":this.element.attr("value",i[s]);break;case"size":this._setSize(i[s]);break;case"showRoundedCorner":this._setRoundedCorner(i[s]);break;case"enabled":this._setEnabled(i[s]);break;case"htmlAttributes":this._addAttr(i[s])}},_destroy:function(){this.element.removeClass("e-checkbox e-input"),!this._cloneElement.attr("name")&&this.element.attr("name")&&this.element.removeAttr("name"),!this._cloneElement.attr("value")&&this.element.attr("value")&&this.element.removeAttr("value"),this.element.insertBefore(this.wrapper),this.wrapper.remove()},_changeSkin:function(t){this.model.cssClass!=t&&(this.wrapper.removeClass(this.model.cssClass).addClass(t),e("#"+this.model.idPrefix+this.model.id+"_wrapper").removeClass(this.model.cssClass).addClass(t))},_setValue:function(){this._indeterminateState=!1,this._isChecked=!1;var e=this.element[0].getAttribute("id"),i=this.element[0].getAttribute("name"),s=this.element[0].getAttribute("value");t.isNullOrUndefined(e)||(this.model.id=e),t.isNullOrUndefined(i)||(this.model.name=i),t.isNullOrUndefined(s)||""==s||(this.model.value=s),this.checked()||t.isNullOrUndefined(this.element.attr("checked"))||(this._isChecked=!0),t.isNullOrUndefined(this.model.name)&&(this.model.name=this.model.id),this.model.enabled=this.model.enabled&&!this.element.attr("disabled")},_setSize:function(i){i==t.CheckboxSize.Medium?(e(this.innerdiv).removeClass("e-chkbox-small").addClass("e-chkbox-medium"),e(this.maindiv).removeClass("e-check-small").addClass("e-check-medium")):(e(this.innerdiv).removeClass("e-chkbox-medium").addClass("e-chkbox-small"),e(this.maindiv).removeClass("e-check-medium").addClass("e-check-small"))},_setRoundedCorner:function(e){e?this.span.addClass("e-corner"):this.span.removeClass("e-corner")},_setEnabled:function(e){e?this.enable():this.disable()},_setCheckBoxState:function(){this.model.enableTriState?"indeterminate"==this.checkState()?this._indeterminateState=!0:"check"==this.checkState()?this._isChecked=!0:"uncheck"==this.checkState()&&(this._isChecked=!1):"indeterminate"==this.checkState()&&this.checkState("uncheck")},_createElement:function(e,t){var i=document.createElement(e);return this._setAttributes(i,t),i},_setAttributes:function(e,t){for(var i in t)e.setAttribute(i,t[i])},_renderControl:function(){this._setCheckBoxState(),this.maindiv=this._createElement("span",{class:"e-chkbox-wrap e-widget "+this.model.cssClass,role:"checkbox",tabindex:0}),this._isValid(this.model.id)&&(this.maindiv.setAttribute("id",this.model.idPrefix+this.model.id),this.element[0].setAttribute("id",this.model.id)),this.innerdiv=document.createElement("div"),this._setSize(this.model.size),this.span=document.createElement("span"),this.span=e(this.span),this.spanImg=this._createElement("span",{class:"e-chk-image e-icon",role:"presentation"}),this.spanImg=e(this.spanImg),this.element.addClass("e-input"),this.model.name=t.isNullOrUndefined(this.model.name)?this.model.id:this.model.name,this.model.value=!!t.isNullOrUndefined(this.model.value)||this.model.value,this._setAttributes(this.element[0],{name:this.model.name,value:this.model.value});var i=e("#"+this._id+"_hidden");this._hiddenInput=i.length?i[0]:this._createElement("input",{type:"checkbox",value:!1,style:"display:none"}),"hidden"==this.element.attr("data-type")&&this._hiddenInput.setAttribute("type","hidden"),this._isValid(this.model.name)&&this._hiddenInput.setAttribute("id",this.model.name+"_hidden"),this._setRoundedCorner(this.model.showRoundedCorner),this.checked()&&this._setCheckedItem(this.checked()),this._isChecked?(this.spanImg.addClass("e-checkmark"),this.span.addClass("e-chk-act"),this.maindiv.setAttribute("aria-checked",!0),this.element.attr("checked","checked")):(this.span.addClass("e-chk-inact"),this.maindiv.setAttribute("aria-checked",!1),this._hiddenInput.setAttribute("name",this.model.name)),this.checked()instanceof Array||this.checked(this._isChecked),this.span[0].appendChild(this.spanImg[0]),this.innerdiv.appendChild(this.span[0]),this.element[0].parentNode&&this.element[0].parentNode.insertBefore(this.maindiv,this.element[0]),this.maindiv.appendChild(this.element[0]),this.maindiv.appendChild(this._hiddenInput),this.maindiv.appendChild(this.innerdiv),this.wrapper=e(this.maindiv),this._setTextWrapper(this.model.text),this.chkbx=this.element,1==this.model.enableTriState&&1==this._indeterminateState&&this._setIndeterminate(this._indeterminateState),this.checked()instanceof Array&&this._updateCheckedItem()},_changeState:function(e){"indeterminate"==e?(this.spanImg.removeClass("e-checkmark").addClass("e-stop"),this.span.removeClass("e-chk-act e-chk-inact").addClass("e-chk-indeter"),this.wrapper[0].setAttribute("aria-checked","mixed"),this.wrapper.find("input").prop("enableTriState",!0),this.checked()instanceof Array||this.checked(null)):"check"==e?(this.spanImg.removeClass("e-stop").addClass("e-checkmark"),this.span.removeClass("e-chk-act e-chk-inact e-chk-indeter").addClass("e-chk-act"),this.wrapper[0].setAttribute("aria-checked",!0)):"uncheck"==e&&(this.spanImg.removeClass("e-checkmark e-stop"),this.span.removeClass("e-chk-act e-chk-indeter").addClass("e-chk-inact"),this.wrapper[0].setAttribute("aria-checked",!1))},_setIndeterminate:function(e){e?(this.spanImg.removeClass("e-checkmark").addClass("e-stop"),this.span.removeClass("e-chk-act e-chk-inact").addClass("e-chk-indeter"),this.wrapper[0].setAttribute("aria-checked","mixed"),this.wrapper.find("input").prop("enableTriState",!0),this.checkState("indeterminate"),this.checked()instanceof Array||this.checked(null),this._hiddenInput.setAttribute("name",this.model.name)):(this.span.removeClass("e-chk-indeter"),this.spanImg.removeClass("e-stop"),this.wrapper.find("input").removeAttr("enableTriState"),this.wrapper.find("input").prop("enableTriState",!1),this.checked()?this._checked():this._unChecked())},_setTextWrapper:function(e){""!=e&&(this.txtSpan=t.buildTag("div.e-text",e),this.wrapper.append(this.txtSpan),this.model.enableRTL&&this._setRTL())},_setText:function(e){""==this.model.text&&""!=e?this._setTextWrapper(e):this.txtSpan.html(e)},_setIdAttr:function(t){e("#"+this.model.idPrefix+this.model.id+"_wrapper").attr("id",this.model.idPrefix+t+"_wrapper"),this.element[0].setAttribute("id",t)},_isValid:function(e){return!t.isNullOrUndefined(e)&&""!=e},_wireEvents:function(){this._on(this.wrapper,"click",this._checkedHandler),this._isIE8&&this._isValid(this.model.id)&&this._on(e("label[for="+this.model.id+"]"),"click",(function(){this.wrapper.click()})),this._on(this.wrapper,"focus",this._focusIn),this._on(this.wrapper,"focusout",this._focusOut)},_unWireEvents:function(){this._off(this.wrapper,this._isDevice&&e.isFunction(e.fn.tap)?"tap":"click"),this._isIE8&&this._isValid(this.model.id)&&this._off(e("label[for="+this.model.id+"]"),"click"),this._off(this.wrapper,"focus"),this._off(this.wrapper,"focusout")},_focusIn:function(){e(this.wrapper).addClass("e-focus"),e(this.wrapper).on("keydown",e.proxy(this._checkUnCheck,this))},_focusOut:function(){e(this.wrapper).removeClass("e-focus"),e(this.wrapper).off("keydown",e.proxy(this._checkUnCheck,this))},_checkUnCheck:function(e){32==e.keyCode&&(e.preventDefault(),this._checkedHandler())},_checkedHandler:function(t){var i={isChecked:this._isChecked,isInteraction:!0,event:t};return 1!=this._trigger("beforeChange",i)&&(this.span.hasClass("e-chk-inact")?(this._checked(),this.checked()instanceof Array||this.checked(!0),this.model.enableTriState&&(this._indeterminateState=!0,this.checkState("check"))):this.span.hasClass("e-chk-act")?1==this.model.enableTriState&&"check"==this.model.checkState&&1==this.model.checked?(this._setIndeterminate(!0),this.checked()instanceof Array||(this.checked(!0),this.checkState("indeterminate"))):(this._unChecked(),this.checked()instanceof Array||(this.checked(!1),this.checkState("uncheck"))):this.span.hasClass("e-chk-indeter")&&(this.checked()instanceof Array?this._isChecked=!1:this.checked(!1),this._setIndeterminate(!1),this._indeterminateState=!1),this.checked()instanceof Array?this._updateCheckedItem():this._isChecked=this.checked(),e(this.maindiv).addClass("e-material-animate"),i={isChecked:this._isChecked,checkState:this.checkState(),isInteraction:!0,event:t},this._trigger("change",i),!0)},_checked:function(){this.span.removeClass("e-chk-inact").addClass("e-chk-act"),this.spanImg.removeClass("e-stop").addClass("e-checkmark"),this.wrapper[0].setAttribute("aria-checked",!0),this.wrapper.find("input[type=checkbox]").prop("checked",!0),this.checkState("check"),this._hiddenInput.removeAttribute("name")},_unChecked:function(){this.span.removeClass("e-chk-act e-chk-indeter").addClass("e-chk-inact"),this.wrapper[0].setAttribute("aria-checked",!1),this.spanImg.removeClass("e-checkmark e-stop"),this.wrapper.find("input[type=checkbox]").prop("checked",!1),this.checkState("uncheck"),this._hiddenInput.setAttribute("name",this.model.name)},_setCheckedItem:function(e){if("boolean"!=typeof e||e instanceof Array){if(e instanceof Array&&!t.isNullOrUndefined(this.model.value)&&""!=this.model.value)for(var i=0;i<e.length;i++)e[i]==this.model.value&&(this._isChecked=!0)}else this._isChecked=!0},_updateCheckedItem:function(){var s=this.model.checked.splice===i?this.model.checked():this.model.checked;t.isNullOrUndefined(this.model.value)||""==this.model.value||this.wrapper.find("span:first").hasClass("e-chk-indeter")||(e.inArray(this.model.value,this.checked())<0&&this.wrapper.find("span:first").hasClass("e-chk-act")?(s.push(this.model.value),this._isChecked=!0,this._hiddenInput.removeAttribute("name")):e.inArray(this.model.value,this.checked())>-1&&this.wrapper.find("span:first").hasClass("e-chk-inact")&&(this._isChecked=!1,s.splice(e.inArray(this.model.value,this.model.checked()),1),this._hiddenInput.setAttribute("name",this.model.name)))},disable:function(){this.wrapper.hasClass("e-disable")||(this.wrapper.addClass("e-disable"),this.wrapper[0].setAttribute("aria-disabled",!0),this.element[0].setAttribute("disabled","disabled"),this._isIE8&&this.span.addClass("e-disable"),this._unWireEvents(),this.model.enabled=!1)},enable:function(){this.wrapper.hasClass("e-disable")&&(this.wrapper.removeClass("e-disable"),this.wrapper[0].setAttribute("aria-disabled",!1),this.element.prop("disabled",!1),this._isIE8&&this.span.removeClass("e-disable"),this._wireEvents(),this.model.enabled=!0)},isChecked:function(){if(null!=this._isChecked&&this._isChecked!=i)return this._isChecked}}),t.CheckboxSize={Small:"small",Medium:"medium"},t.CheckState={Check:"check",Uncheck:"uncheck",Indeterminate:"indeterminate"}}(jQuery,Syncfusion),function(e,t){t.widget("ejToolbar","ej.Toolbar",{element:null,model:null,validTags:["div","span"],_setFirst:!1,_rootCSS:"e-toolbar",angular:{terminal:!1},defaults:{height:"",width:"",enabled:!0,hide:!1,disabledItemIndices:[],enabledItemIndices:[],enableSeparator:!1,orientation:"horizontal",enableRTL:!1,isResponsive:!1,showRoundedCorner:!1,htmlAttributes:{},dataSource:null,Items:{id:"id",tooltipText:"tooltipText",imageUrl:"imageUrl",text:"text",imageAttributes:"imageAttributes",spriteCssClass:"spriteCssClass",htmlAttributes:"htmlAttributes",group:"group",template:"template",overflow:"overflow"},query:null,responsiveType:"popup",fields:{id:"id",tooltipText:"tooltipText",imageUrl:"imageUrl",text:"text",imageAttributes:"imageAttributes",spriteCssClass:"spriteCssClass",htmlAttributes:"htmlAttributes",group:"group",template:"template",overflow:"overflow"},tooltipSettings:{associate:"mouseenter",showShadow:!0,position:{stem:{horizontal:"left",vertical:"top"}},tip:{size:{width:5,height:5},adjust:{xValue:17,yValue:17}},isBalloon:!1},cssClass:"",targetID:null,create:null,click:null,itemHover:null,itemLeave:null,overflowOpen:null,overflowClose:null,destroy:null},dataTypes:{enabled:"boolean",hide:"boolean",enableSeparator:"boolean",disabledItemIndices:"data",enabledItemIndices:"data",orientation:"enum",enableRTL:"boolean",showRoundedCorner:"boolean",isResponsive:"boolean",dataSource:"data",query:"data",fields:"data",cssClass:"string",htmlAttributes:"data",targetID:"string",responsiveType:"enum"},hide:function(){if(!this.model.enabled&&"none"==this.element.css("display"))return!1;this.element.css("display","none"),this.model.hide=!0},show:function(){if(!this.model.enabled&&"none"!=this.element.css("display"))return!1;this.element.css("display","block"),this.model.hide=!1},_init:function(){null!=this.model.targetID&&this.element.html(e("#"+this.model.targetID).find("ul,ol")),this._cloneElement=e(this.element).clone(),this._localDataSource=null,(null!=this.model.dataSource||null!=this.model.Items)&&this._generateTemplate(),this.model.dataSource instanceof t.DataManager||this._initialize(),this._renderTooltip(this.model.tooltipSettings)},_setModel:function(t){var i,s;for(i in t)switch(i){case"height":this._setHeight(t[i]);break;case"width":this.model.width=t[i],this._setWidth(),this._bindUnbindWidth();break;case"enabled":this._controlStatus(t[i]);break;case"disabledItemIndices":this._disableItemByIndex(t[i]),t[i]=this.model.disabledItemIndices;break;case"enabledItemIndices":this._enableItemByIndex(t[i]);break;case"isResponsive":this.model.isResponsive=t[i],this.model.isResponsive?(this._responsiveLayout(),this._renderTooltip(this.model.tooltipSettings)):this._removeResponsive();break;case"hide":this._controlVisibleOptions(t[i]);break;case"orientation":this._setOrientation(t[i]),this.model.orientation=t[i],this._wireResizing();break;case"tooltipSettings":this.model.tooltipSettings=e.extend(!0,this.model.tooltipSettings,t[i]),this._renderTooltip(this.model.tooltipSettings);break;case"enableRTL":this._enableRTL(t[i]);break;case"showRoundedCorner":this._roundedCorner(t[i]);break;case"cssClass":this._setSkin(t[i]);break;case"htmlAttributes":this._addAttr(t[i]);break;case"enableSeparator":this.model.enableSeparator=t[i],this._renderToolbarSeparator();break;case"fields":e.extend(this.model.fields,t[i]);break;case"query":this.model.query=t[i];break;case"dataSource":for(s in t)"fields"==s&&e.extend(this.model.fields,t[s]),"query"==s&&(this.model.query=t[s]);this._refreshTagItems(i,t[i]);break;case"Items":e.extend(this.model.Items,t[i]),this._refreshTagItems(i,t[i]);break;case"targetID":this.model.targetID=t[i],this._setTargetID()}},_setTargetID:function(){this.element.removeAttr("role tabindex aria-disabled style"),e(this._spantag).remove(),e(this._liTemplte).remove(),this._liTemplte=this._tipRes=null,this.element.removeClass("e-widget e-box e-toolbarspan e-rtl"),this.element.find("ul,ol").removeClass("e-ul e-horizontal e-vertical e-separator e-comnrtl"),this.element.find("li").removeClass("e-tooltxt e-comnrtl"),this.element.find("li").removeAttr("aria-label"),this._init()},_refreshTagItems:function(e,t){this.model[e]=t,this.element.empty(),this._generateTemplate(),this._initialize()},_setHeight:function(e){this.element.css("height",e)},_setWidth:function(){var t,i;if("auto"==this.model.width){var s,a=parseFloat(this.element.css("border-left-width"))+parseFloat(this.element.css("border-right-width")),o=this.element.find("ul").children("li"),r=this.element.find("ul");for(s="inline"==this.model.responsiveType?this.element.find(".e-arrow-sans-down"):this.element.find(".e-toolbar-res-arrow"),t=0,i=r.length;t<i;t++)null!=r[t]&&e(r[t]).hasClass("e-separator")&&(a+=parseFloat(r.eq(t).css("border-right-width"))+parseFloat(r.eq(t).css("border-left-width")));for(null!=s[0]&&(a+="inline"==this.model.responsiveType?Math.round(this.element.find(".e-arrow-sans-down").outerWidth())+8:Math.round(this.element.find(".e-toolbar-res-arrow").outerWidth())+8),t=0,i=o.length;t<i;t++)null!=o[t]&&(a+=Math.round(o.eq(t).outerWidth()));this.element.css("width",Math.ceil(a))}else this.element.css("width",this.model.width)},_bindUnbindWidth:function(){"auto"!=this.model.width?this._off(e(window),"resize",this._widthHandler):this._on(e(window),"resize",this._widthHandler)},_widthHandler:function(){this._setWidth(this.model.width)},_setOrientation:function(e){e!=t.Orientation.Vertical?(this.element.removeClass(this.model.cssClass).addClass("e-toolbarspan "+this.model.cssClass),this.itemsContainer.removeClass("e-ul e-vertical").addClass("e-ul e-horizontal")):(this.element.removeClass("e-toolbarspan "+this.model.cssClass).addClass(this.model.cssClass),this.itemsContainer.removeClass("e-ul e-horizontal").addClass("e-ul e-vertical")),this.items.addClass("e-tooltxt")},_reSizeHandler:function(){var t,i,s,a,o,r;for(this._isResized&&this._liTemplte.children().length>0&&(t=this.element.children("ol.e-show, ul.e-show"),i=this._liTemplte.children("ol.e-show, ul.e-show"),t.length>0||i.length>0?e(this._liTemplte.children()).appendTo(this.element):e(this._liTemplte.children()).insertBefore(e(this.element).find("span.e-res-pos")),this._renderToolbarSeparator(),"inline"!=this.model.responsiveType&&this._liTemplte.addClass("e-display-none"),this._contstatus=!1),this._elementWidth="function"==typeof getComputedStyle?parseFloat(window.getComputedStyle(this.element[0]).width):this.element.width()-1,this._liWidth=this._spanWidth,s=this.element.children("ol.e-show:visible, ul.e-show:visible"),a=this.element.children("ol:visible:not(.e-show), ul:visible:not(.e-show)"),this._spantag.removeClass("e-display-block").addClass("e-display-none"),this._ensureOverflow(s),o=0,r=0;r<this.itemsContainer.length;r++)o+=e(this.itemsContainer[r]).outerWidth(!0);o>this.element.width()&&this._ensureOverflow(a),"inline"==this.model.responsiveType&&(this._liTemplte.removeClass("e-normal"),this._liTemplte.css("width",this.element.width())),this._isResized=!0},_ensureOverflow:function(t){for(var i,s=0;s<t.length;s++)this._liWidth+=e(t[s]).outerWidth(!0)+8,this._liWidth>=this.element.width()&&(this._spantag.hasClass("e-display-block")||this._spantag.removeClass("e-display-none").addClass("e-display-block"),this._spantag.addClass("e-res-pos"),this._liTemplte.addClass("e-normal"),this._spantag.outerWidth(!0)!=this._spanOuterWidth&&(i=this._spantag.outerWidth(!0)-this._spantag.outerWidth(),this._liWidth-(e(t[s]).outerWidth(!0)+8)+i>=this._elementWidth&&this._liTemplte.append(t[s-1])),this._liTemplte.append(t[s]))},_getZindexPartial:function(){return t.util.getZindexPartial(this.element,this.popup)},_getOffset:function(e){return t.util.getOffset(e)},_btnMouseClick:function(i){var s,a,o,r,l,n=1,d=this.element.outerWidth(),h=this.element.outerHeight(),c=e(this._liTemplte).outerWidth(),u=e(window).width(),p=e(window).scrollLeft();e(i.currentTarget).hasClass("e-disable")||(l=this._getZindexPartial(),a=this._getOffset(this.element),o=this.model.enableRTL?a.left:a.left+d-c,r=a.top+h-n+2,o=o<p?p+n:o+c>u+p?u-c+p-n:o,this._contstatus?(this._liTemplte.addClass("e-display-none"),"inline"==this.model.responsiveType&&this._spantag.removeClass("e-active"),this._contstatus=!1,s={currentTarget:i.currentTarget,clientX:i.clientX,clientY:i.clientY,cancel:i.cancellable},this._trigger("overflowClose",s)):(this._liTemplte.removeClass("e-display-none"),"inline"!=this.model.responsiveType&&this._liTemplte.css({top:r+"px",left:o+"px","z-index":l}),"inline"==this.model.responsiveType&&this._spantag.addClass("e-active"),this._contstatus=!0,s={currentTarget:i.currentTarget,clientX:i.clientX,clientY:i.clientY,cancel:i.cancellable},this._trigger("overflowOpen",s),"inline"!=this.model.responsiveType&&this._on(t.getScrollableParents(this.element),"scroll",this._hidecontext),this.element.bind("click",e.proxy(this._hidecontext,this))),this._contstatus&&"inline"!=this.model.responsiveType&&this._on(e(document),"mouseup",this._documentClick),this._contstatus||this._off(e(document),"mouseup",this._documentClick),this._removeListHover())},_hidecontext:function(i){e(i.target).is(e("#"+this.element[0].id+"_target"))||"inline"==this.model.responsiveType||(this._liTemplte.addClass("e-display-none"),this._contstatus=!1,this.element.unbind("click",e.proxy(this._hidecontext,this)),this._off(t.getScrollableParents(this.element),"scroll",this._hidecontext),this._off(e(document),"mouseup",this._documentClick))},_documentClick:function(t){if(!e(t.target).is(e("#"+this.element[0].id+"_target"))&&0==e(t.target).closest("div#"+this.element[0].id+"_hiddenlist").length&&!e(t.target).parents().hasClass("e-ddl-popup")){this._liTemplte.addClass("e-display-none"),this._contstatus=!1;var i={currentTarget:t.currentTarget,clientX:t.clientX,clientY:t.clientY,cancel:t.cancellable};this._trigger("overflowClose",i),this._off(e(document),"mouseup",this._documentClick)}},_setSkin:function(e){this.element.removeClass(this.model.cssClass).addClass(e);var t="e-toolbarTooltip "+e;this._subControlsSetModel("cssClass",t)},_subControlsSetModel:function(i,s){t.isNullOrUndefined(this._tipToolbar)||e(this.target).ejTooltip("option",i,s),t.isNullOrUndefined(this._tipRes)||e(this._liTemplte).ejTooltip("option",i,s)},_destroy:function(){this.element.html(""),t.isNullOrUndefined(this._tipToolbar)||e(this.target).ejTooltip("destroy"),t.isNullOrUndefined(this._tipRes)||e(this._liTemplte).ejTooltip("destroy"),this._cloneElement.removeClass("e-toolbar e-js"),this.element.replaceWith(this._cloneElement),this._liTemplte&&this._liTemplte.remove(),this._unWireResizing()},_initialize:function(){this.element.attr({role:"toolbar",tabindex:"0"}),this.element.children().find("li"),this._focusEnable=!0,this._renderControl(),this._responsiveLayout(),this._wireEvents()},_responsiveLayout:function(){var i;if(this._roundedCorner(this.model.showRoundedCorner),this.model.isResponsive&&"horizontal"==this.model.orientation){for(t.isNullOrUndefined(this._liTemplte)||(t.isNullOrUndefined(this._tipRes)||this._tipRes.destroy(),e(this._liTemplte).remove()),this._spantag=e("<span id='"+this.element[0].id+"_target' class='e-icon e-toolbar-res-arrow e-rel-position e-display-block' unselectable='on'></span>"),"inline"==this.model.responsiveType&&this._spantag.removeClass("e-toolbar-res-arrow").addClass("e-inlinearrow e-arrow-sans-down"),this.element.children("ol.e-show, ul.e-show").length>0?this.element[0].insertBefore(this._spantag[0],this.element[0].childNodes[0]):this._spantag.appendTo(this.element),this._liTemplte=e("<div id='"+this.element[0].id+"_hiddenlist' class='e-responsive-toolbar e-display-none e-abs-position "+e(this.element)[0].className+"'></div>"),"inline"==this.model.responsiveType&&this._liTemplte.removeClass("e-abs-position").addClass("e-inline"),this._spanWidth=this._spantag.outerWidth(!0)+8,this.model.enableRTL&&this._liTemplte.addClass("e-rtl"),this._isResized=!1,this._elementWidth="function"==typeof getComputedStyle?parseFloat(window.getComputedStyle(this.element[0]).width):this.element.width()-1,this._liWidth=this._spanWidth,i=0;i<this.itemsContainer.length;i++)this._liWidth+=e(this.itemsContainer[i]).outerWidth(!0);this._liWidth>this._elementWidth?this._reSizeHandler():this._spantag.removeClass("e-display-block").addClass("e-display-none"),"inline"==this.model.responsiveType?e(this.element[0]).append(this._liTemplte):e("body").append(this._liTemplte),this._renderTooltip(this.model.tooltipSettings)}this._on(e("#"+this.element[0].id+"_target"),"mousedown",this._btnMouseClick),this._wireResizing(),this._controlVisibleOptions(this.model.hide),this._enableRTL(this.model.enableRTL),this._disabledItems=this.model.disabledItemIndices,this._controlStatus(this.model.enabled),this.model.disabledItemIndices=this._disabledItems,0!=this.model.disabledItemIndices.length&&this._disableItemByIndex(this.model.disabledItemIndices),0!=this.model.enabledItemIndices.length&&this._enableItemByIndex(this.model.enabledItemIndices),this._setWidth()},_removeResponsive:function(){e(this._spantag).remove(),t.isNullOrUndefined(this._tipRes)||e(this._liTemplte).ejTooltip("destroy");var i=e(this._liTemplte).children("ul");e(this._liTemplte).detach(),e(this.element).append(i),this.itemsContainer=this.element.children("ol,ul"),this.items=this.itemsContainer.children("li"),this._off(this.items,"mouseup"),this._off(this.items,"mousedown"),this._off(this.element,"mousedown"),this._wireEvents(),this._wireResizing(),this._setWidth()},_controlVisibleOptions:function(e){0!=e?this.hide():this.show()},_controlStatus:function(e){1!=e?this.disable():this.enable()},_roundedCorner:function(e){e?(this.element.addClass("e-corner"),this._liTemplte&&this._liTemplte.addClass("e-corner")):(this.element.removeClass("e-corner"),this._liTemplte&&this._liTemplte.removeClass("e-corner")),this._subControlsSetModel("showRoundedCorner",e)},_generateTemplate:function(){var e=this;this.element.css("visibility","hidden"),this.model.dataSource instanceof t.DataManager?this.model.dataSource.executeQuery(this.model.query).done((function(t){e._generateGroup(t.result),e._initialize(),e.element.css("visibility","")})):null!=this.model.dataSource?(e._generateGroup(e.model.dataSource),e.element.css("visibility","")):(e._generateGroup(e.model.Items),e.element.css("visibility",""))},_generateGroup:function(e){var t,i,s,a,o,r=this;for(this._localDataSource=e,t=-1,i=[],s=0;s<e.length;s++)if(this._isNewGroup(e[s][this.model.fields.group],i)){for(i[++t]=e[s][this.model.fields.group],a=-1,r.itemsSource=[],o=s;o<e.length;o++)e[s][this.model.fields.group]==e[o][this.model.fields.group]&&(r.itemsSource[++a]=e[o]);r.element.append(r._generateTagitems())}},_isNewGroup:function(e,t){if(!t)return!0;for(var i=0;i<t.length;i++)if(e==t[i])return!1;return!0},_renderControl:function(){this.element.addClass("e-widget e-box"),this._renderToolbarItems(),this._addAttr(this.model.htmlAttributes),this._setOrientation(this.model.orientation),this._renderToolbarSeparator(),this._setHeight(this.model.height),this._bindUnbindWidth()},_renderToolbarItems:function(){var i;for(this.target=this.element[0],this.itemsContainer=this.element.children("ol,ul"),i=0;i<this.itemsContainer.length;i++)e(this.itemsContainer[i]).attr("role","list");for(this.itemsContainer.children("ol,ul").remove(),this.items=this.itemsContainer.children("li"),i=0;i<this.items.length;i++)e(this.items[i]).attr("tabindex","-1"),e(this.items[i]).attr("role","listitem"),t.isNullOrUndefined(e(this.items[i]).attr("title"))&&t.isNullOrUndefined(e(this.items[i]).attr("aria-label"))&&e(this.items[i]).attr("aria-label",this.items[i].id);this._liCount=this.items.length},_generateTagitems:function(){var e,i;for(e=this.itemsSource,this.ultag=t.buildTag("ul"),this.ultag.attr("role","list"),i=0;i<e.length;i++)"show"==e[i][this.model.fields.overflow]&&this.ultag.addClass("e-show"),this.ultag.append(this._generateLi(e[i]));return this.ultag},_generateLi:function(e){var i,s,a;return i=t.buildTag("li"),e[this.model.fields.id]?i.attr("id",e[this.model.fields.id]):e[this.model.fields.text]&&i.attr("id",e[this.model.fields.text]),e[this.model.fields.tooltipText]&&i.attr("title",e[this.model.fields.tooltipText]),e[this.model.fields.imageUrl]&&""!=e[this.model.fields.imageUrl]&&(s=t.buildTag("img.e-align","",{},{src:e[this.model.fields.imageUrl],alt:e[this.model.fields.text]}),e[this.model.fields.imageAttributes]&&this._setAttributes(e[this.model.fields.imageAttributes],s),i.append(s)),e[this.model.fields.spriteCssClass]&&""!=e[this.model.fields.spriteCssClass]&&(a=t.buildTag("div.e-align "+e[this.model.fields.spriteCssClass]+" e-spriteimg"),i.append(a)),e[this.model.fields.text]&&""!=e[this.model.fields.text]&&i.append(e[this.model.fields.text]),e[this.model.fields.htmlAttributes]&&this._setAttributes(e[this.model.fields.htmlAttributes],i),e[this.model.fields.template]&&(a=t.buildTag("div .e-align",e[this.model.fields.template]),i.append(a)),i},_setAttributes:function(t,i){for(var s in t)e(i).attr(s,t[s])},_renderToolbarSeparator:function(){var t,i;if(this.model.enableSeparator){for(t=0,i=this.itemsContainer.length-1;t<i;t++)e(this.itemsContainer[t]).addClass("e-separator");if(1==this.itemsContainer.length)for(t=0,i=this.itemsContainer[0].children.length;t<i;t++)t==i-1?e(this.itemsContainer[0].children[t]).removeClass("e-separator"):e(this.itemsContainer[0].children[t]).addClass("e-separator")}else this.itemsContainer.removeClass("e-separator").find(".e-separator").removeClass("e-separator");this._setWidth()},_addAttr:function(t){var i=this;e.map(t,(function(e,t){"class"==t?i.element.addClass(e):"disabled"==t&&"disabled"==e?i.disable():i.element.attr(t,e)}))},_enableRTL:function(e){e?(this.element.addClass("e-rtl"),this.items.addClass("e-comnrtl"),this.model.orientation==t.Orientation.Horizontal&&this.itemsContainer.addClass("e-comnrtl"),this._liTemplte&&this._liTemplte.addClass("e-rtl")):(this.element.removeClass("e-rtl"),this.items.removeClass("e-comnrtl"),this.model.orientation==t.Orientation.Horizontal&&this.itemsContainer.removeClass("e-comnrtl"),this._liTemplte&&this._liTemplte.removeClass("e-rtl")),this.model.enableRTL=e,this._subControlsSetModel("enableRTL",e),this._renderToolbarSeparator()},_renderTooltip:function(i){var s=e.extend(!0,{},i);s.cssClass=t.isNullOrUndefined(s.cssClass)?"e-toolbarTooltip "+this.model.cssClass:s.cssClass+" e-toolbarTooltip "+this.model.cssClass,s.enableRTL=this.model.enableRTL,s.showRoundedCorner=this.model.showRoundedCorner,s.target="li[data-content], li[title]",s.beforeOpen=this._showTooltip,this._tipToolbar=e(this.target).ejTooltip(s).data("ejTooltip"),this.model.isResponsive&&!t.isNullOrUndefined(this._liTemplte)&&(this._tipRes=e(this._liTemplte).ejTooltip(s).data("ejTooltip"))},_showTooltip:function(t){var i=e(t.event.currentTarget);t.event.target,i.hasClass("e-disable")&&(t.cancel=!0)},_hideTooltip:function(){t.isNullOrUndefined(this._tipToolbar)||(this._tipToolbar.hide(),this._tipToolbar._isHidden=!1),t.isNullOrUndefined(this._tipRes)||(this._tipRes.hide(),this._tipRes._isHidden=!1)},_addOverlay:function(i){for(var s,a=0;a<i.length;a++)e(i[a]).hasClass("e-disable")||(e(i[a]).addClass("e-disable"),s=t.buildTag("div.e-item-overlay"),e(i[a]).append(s))},_removeOverlay:function(t){for(var i=0;i<t.length;i++)e(t[i]).children(".e-item-overlay").remove()},disableItem:function(t){var i=e(t);null==i||i.length<=0||(i.hasClass("e-disable")||(i.attr("aria-disabled",!0).removeAttr("aria-label"),this._addOverlay(i)),i.removeClass("e-hover e-active").attr("data-aria-selected",!1))},enableItem:function(t){var i=e(t);null==i||i.length<=0||(i.removeClass("e-disable").attr("aria-disabled",!1).removeClass("e-disable"),this._removeOverlay(i))},disableItemByID:function(e){var t=this.itemsContainer.find("li#"+e);null==t||t.length<=0||this.disableItem(t)},enableItemByID:function(e){var t=this.itemsContainer.find("li#"+e);null==t||t.length<=0||this.enableItem(t)},_enableItemByIndex:function(t){var i,s;if(!this.model.enabled)return!1;if(0!=t.length)for(s=0;s<t.length;s++)e.inArray(t[s],this.model.disabledItemIndices)>-1&&(i=e.inArray(t[s],this.model.disabledItemIndices),this.enableItem(this.items[this.model.disabledItemIndices[i]]),this.model.disabledItemIndices.splice(i,1))},_disableItemByIndex:function(t){var i;if(!this.model.enabled)return!1;for(this._disabledItems=this.model.disabledItemIndices,i=0;i<t.length;i++)e.inArray(t[i],this.model.disabledItemIndices)<0&&this._disabledItems.push(parseInt(t[i]));for(i=0;i<this.items.length;i++)e.inArray(i,this.model.disabledItemIndices)>-1&&this.disableItem(this.items[i]);this.model.disabledItemIndices=this._disabledItems},disable:function(){if("true"==this.element.attr("aria-disabled"))return!1;this.element.attr("aria-disabled",!0).removeAttr("aria-label"),this._addOverlay(this.items),this.model.isResponsive&&"horizontal"==this.model.orientation&&this._spantag.addClass("e-disable"),this.model.enabled=!1,this._subControlsSetModel("enabled",!1)},enable:function(){if(this.model.disabledItemIndices=[],"false"==this.element.attr("aria-disabled"))return!1;this.items.removeClass("e-disable"),this._removeOverlay(this.items),this.element.attr("aria-disabled",!1),this.model.isResponsive&&"horizontal"==this.model.orientation&&this._spantag.removeClass("e-disable"),this.model.enabled=!0,this._subControlsSetModel("enabled",!0)},refresh:function(){this._reSizeHandler()},selectItem:function(t){var i=e(t);null==i||i.length<=0||(i.addClass("e-active").attr("data-aria-selected",!0),this._activeItem=e(this.items).index(i))},deselectItem:function(t){var i=e(t);null==i||i.length<=0||i.removeClass("e-active").attr("data-aria-selected",!1)},selectItemByID:function(e){var t=this.itemsContainer.find("li#"+e);null==t||t.length<=0||this.selectItem(t)},deselectItemByID:function(e){var t=this.itemsContainer.find("li#"+e);null==t||t.length<=0||this.deselectItem(t)},removeItem:function(t){var i,s,a;if(this.model.disabledItemIndices=[],s=0,null!=(i=e(t))&&!(i.length<=0))for(i.remove(),this.items=this.itemsContainer.children("li"),a=0;a<this.items.length;a++)e(this.items[a]).hasClass("e-disable")&&(this.model.disabledItemIndices[s++]=a)},removeItemByID:function(e){var t=this.itemsContainer.find("li#"+e);null==t||t.length<=0||this.removeItem(t)},_wireResizing:function(){this.model.isResponsive&&"horizontal"==this.model.orientation?e(window).bind("resize",e.proxy(this._reSizeHandler,this)):this._unWireResizing()},_unWireResizing:function(){e(window).unbind("resize",e.proxy(this._reSizeHandler,this))},_wireEvents:function(){this._on(this.element,"mousedown",this._clickEventHandler),this._on(this.element,"focus",this._focusElement),this._on(this.element,"blur",this._targetBlur),this._on(this.items,"mouseenter",this._onItemHover),this._on(this.items,"mouseleave",this._onItemLeave),this._on(this.items,"mousedown",this._onItemClick),this._on(this.items,"mouseup",this._onItemClick)},_onItemHover:function(t){var i,s=e(t.currentTarget),a=t.target;s.hasClass("e-disable")?clearTimeout(this._tipToolbar.mouseTimer):(this.items.removeClass("e-hover"),s.addClass("e-hover").focus(),i={currentTarget:s,target:a,status:this.model.enabled},this._trigger("itemHover",i))},_onItemClick:function(i){var s,a,o;if(e(i.currentTarget).hasClass("e-disable")||1!=i.which)return!1;s=i.currentTarget,a=i.target,t.isDevice()||this._hideTooltip(),"mousedown"==i.type?(this._focusEnable=!1,e(s).addClass("e-active"),this._focusedItem=this._currentItem=e(s)):"mouseup"==i.type&&e(s).hasClass("e-active")&&(this._removeSelection(),e(s).hasClass("e-disable")||(o={currentTarget:s,text:e(s).attr("data-content"),target:a,status:this.model.enabled,event:i},this._activeItem=this.model.isResponsive&&this._contstatus&&e(s).closest(".e-responsive-toolbar").length>0?this._liTemplte.find(".e-tooltxt").index(s):e(this.items).index(s),this._trigger("click",o)))},_onItemLeave:function(t){var i,s=e(t.currentTarget),a=t.target;s.hasClass("e-disable")||(this._removeSelection(),s.removeClass("e-hover"),i={currentTarget:s,target:a,status:this.model.enabled},this._trigger("itemLeave",i))},_onKeyPress:function(i){var s,a,o,r,l;if(s=i.keyCode?i.keyCode:i.which?i.which:i.charCode,this.model.isResponsive&&this._liTemplte.find(".e-tooltxt").length>0?(this._keyPressed=!0,this._items=this._contstatus?this._liTemplte.find(".e-tooltxt"):this.element.find(".e-tooltxt"),a=this._items.filter(".e-tooltxt:visible:not(.e-hidden, .e-disable)")):(this._keyPressed=!1,a=this.items.filter(".e-tooltxt:visible:not(.e-hidden, .e-disable)")),this._focusedItem?(o=this._focusedItem,this._focusedItem=null):o=a.filter(".e-hover"),"keydown"==i.type)9==s&&i.shiftKey&&e(a[a.index(o)-1]).length>0?(i.preventDefault(),r=e(a[a.index(o)-1])):9==s&&e(a[a.index(o)+1]).length>0&&!i.shiftKey?(i.preventDefault(),r=e(a[a.index(o)+1])):(38==s||39==s)&&this.model.orientation!=t.Orientation.Vertical||(39==s||40==s)&&this.model.orientation==t.Orientation.Vertical?(i.preventDefault(),r=e(a[a.index(o)+1]).length>0?e(a[a.index(o)+1]):a.first()):(37==s||40==s)&&this.model.orientation!=t.Orientation.Vertical||(37==s||38==s)&&this.model.orientation==t.Orientation.Vertical?(i.preventDefault(),r=e(a[a.index(o)-1]).length>0?e(a[a.index(o)-1]):a.last()):33==s||36==s?(i.preventDefault(),r=a.first()):(34==s||35==s)&&(i.preventDefault(),r=a.last()),r&&(this._removeListHover(),r[0].focus(),r.addClass("e-hover"));else switch(s){case 13:case 32:if(i.preventDefault(),!o[0])break;l={currentTarget:o[0],target:e(o)[0],status:this.model.enabled,event:i},this._trigger("click",l);break;case 27:i.preventDefault(),this.element.blur()}},_removeListHover:function(){e(this.items).removeClass("e-hover")},_addListHover:function(){var e=this._getActiveItem();e.hasClass("e-disable")||e.addClass("e-hover").focus()},_getActiveItem:function(){return this.model.isResponsive&&this._keyPressed?e(this._items[this._activeItem]):e(this.items[this._activeItem])},_targetBlur:function(){this.element.focusout().removeClass("e-focus"),this._removeListHover(),this._off(this.element,"keyup",this._onKeyPress)._off(this.element,"keydown",this._onKeyPress),this._trigger("focusOut")},_clickEventHandler:function(){this._clicked=!0},_removeSelection:function(){this._currentItem&&"true"!=this._currentItem.attr("data-aria-selected")&&this._currentItem.removeClass("e-active")},_focusElement:function(){this.element.hasClass("e-focus")||(this.element.addClass("e-focus"),this._on(this.element,"keyup",this._onKeyPress)._on(this.element,"keydown",this._onKeyPress),this._focusEnable)?(this._removeListHover(),this._activeItem=this._clicked?-1:0,(this._getActiveItem().hasClass("e-disable")||this._getActiveItem().is(":hidden"))&&(this._activeItem=e(this.items).filter('li:not([class*="e-disable"])').first().index()),this._addListHover()):this._focusEnable=!0}}),t.Toolbar.ResponsiveType={Popup:"popup",Inline:"inline"}}(jQuery,Syncfusion);var e=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)};(function(t){var i=function(i){function s(e,s){return i.call(this),this._rootCSS="e-tooltip",this._setFirst=!1,this.PluginName="ejTooltip",this.id="null",this.model=null,this.defaults={height:"auto",width:"auto",enabled:!0,content:null,containment:"body",target:null,title:null,closeMode:"none",autoCloseTimeout:4e3,position:{stem:{horizontal:"center",vertical:"bottom"},target:{horizontal:"center",vertical:"top"}},associate:"target",collision:"flipfit",showShadow:!1,cssClass:null,animation:{effect:"none",speed:0},isBalloon:!0,showRoundedCorner:!1,enableRTL:!1,allowKeyboardNavigation:!0,tip:{size:{width:20,height:10},adjust:{xValue:0,yValue:0}},trigger:"hover",create:null,click:null,destroy:null,hover:null,tracking:null,beforeOpen:null,beforeClose:null,open:null,close:null},this.dataTypes={enabled:"boolean",closeMode:"enum",autoCloseTimeout:"number",trigger:"enum",position:{stem:"data",target:"data"},associate:"enum",collision:"enum",showShadow:"boolean",animation:{effect:"enum",speed:"number"},isBalloon:"boolean",showRoundedCorner:"boolean",enableRTL:"boolean",allowKeyboardNavigation:"boolean",tip:{size:{width:"number",height:"number"},adjust:{xValue:"number",yValue:"number"}}},this.isTrack=!0,this._isCancel=!1,this._isHidden=!0,this.arrowValue={left:0,top:0,width:0,height:0,display:null},this.tooltipPos={width:0,height:0,left:0,top:0,bottom:0,right:0,position:"absolute"},this.targetPos={width:0,height:0,left:0,top:0,bottom:0,right:0,position:"absolute"},this.mouseTimer=null,this.positionTarget=null,this.positionTooltip=null,this.containerSize=null,this._createTitle=function(){this.tooltipTitle=ej.buildTag("div.e-def e-header"," ",{},{}),this.tooltipHeader=ej.buildTag("div"," ",{},{}),t(this.tooltipTitle).html(this.model.title).appendTo(this.tooltipHeader)},e&&(e.jquery||(e=t("#"+e)),e.length)?t(e).ejTooltip(s).data(this.PluginName):void 0}return e(s,i),s.prototype.setModel=function(e,t){this.setModel(e,t)},s.prototype.option=function(e,t){this.option(e,t)},s.prototype.triggerEvents=function(e,t){var i,s,a,o,r,l,n;switch(e){case"click":s=t,i=this._trigger(e,s);break;case"hover":a=t,i=this._trigger(e,a);break;case"tracking":o=t,i=this._trigger(e,o);break;case"beforeOpen":r=t,i=this._trigger(e,r);break;case"open":l=t,i=this._trigger(e,l);break;case"beforeClose":case"close":n=t,i=this._trigger(e,n)}return i},s.prototype.enable=function(){this.tooltip.hasClass("e-disable")&&(this.model.enabled=!0,this.tooltip.removeClass("e-disable"))},s.prototype.disable=function(){this.tooltip.hasClass("e-disable")||(this.model.enabled=!1,this.tooltip.addClass("e-disable"))},s.prototype.show=function(e,i){if(this.model.enabled){if(ej.isNullOrUndefined(e)){var s=null==this.model.target?this.element:t(this.element).find(this.model.target+":first");this._positionElement(s)}else this._positionElement(e);ej.isNullOrUndefined(i)?this._showTooltip():"string"==typeof i?t(this.tooltip).show(i):"function"==typeof i&&i.call.apply(this.tooltip)}},s.prototype.hide=function(e){this.model.enabled&&(ej.isNullOrUndefined(e)?this._hideTooltip():"string"==typeof e?t(this.tooltip).hide(e):"function"==typeof e&&e.call.apply(this.tooltip))},s.prototype._destroy=function(){this.mouseTimer&&clearTimeout(this.mouseTimer),this.timer&&clearTimeout(this.timer),t(this.tooltip).remove(),this.tooltip=null},s.prototype._setModel=function(e){var i,s;for(i in e)switch(i){case"height":this._setHeight(e[i]);break;case"width":this._setWidth(e[i]);break;case"enabled":this._enabled(e[i]);break;case"content":this._setContent(e[i]);break;case"title":this.model.title=e[i],null==this.model.title?(t(this.tooltipHeader).remove(),this.tooltipHeader=null,this.tooltipTitle=null,this.model.closeMode===ej.Tooltip.CloseMode.Sticky&&this._iconRender()):ej.isNullOrUndefined(this.tooltipHeader)?this._createHeader():t(this.tooltipTitle).html(this.model.title),this.tooltipPos.height=t(this.tooltip).outerHeight();break;case"associate":this.model.associate=e[i],this._wireMouseEvents(!1),this._wireMouseEvents(!0);break;case"position":this._setPosition(e[i]);break;case"collision":this.model.collision=e[i];break;case"closeMode":"undefined"!=typeof e[i]&&(this.model.closeMode=e[i],this.model.closeMode==ej.Tooltip.CloseMode.Sticky?this._iconRender():(t(this.tooltipClose).remove(),this.tooltipClose=null),this.tooltipPos.height=t(this.tooltip).outerHeight());break;case"cssClass":this._setSkin(e[i]);break;case"showShadow":this._shadowEffect(e[i],this.model.position);break;case"isBalloon":ej.isNullOrUndefined(e[i])||(this.model.isBalloon=e[i],this.model.isBalloon?this._renderArrow():(t(this.tip).remove(),this.tip=null));break;case"animation":s=e[i],this.model.animation=t.extend(!0,this.model.animation,s),this.model.animation.effect!=ej.Tooltip.Effect.None?(this._off(t(this.tooltip),"mouseenter",this._onTooltipMouseEnter),this._off(t(this.tooltip),"mouseleave",this._onTooltipMouseLeave)):this.model.animation.effect==ej.Tooltip.Effect.None&&(this._on(t(this.tooltip),"mouseenter",this._onTooltipMouseEnter),this._on(t(this.tooltip),"mouseleave",this._onTooltipMouseLeave));break;case"enableRTL":this._setRTL(e[i]);break;case"target":this._wireTriggerEvents(!1),this.model.target=e[i],this._wireTriggerEvents(!0),this._renderTarget();break;case"trigger":this._setTrigger(e[i]);break;case"showRoundedCorner":this.model.showRoundedCorner=e[i],this._roundedCorner(e[i]);break;case"allowKeyboardNavigation":this.model.allowKeyboardNavigation=e[i],this.model.allowKeyboardNavigation?this._on(t(window),"keydown",this._keyDown):this._off(t(window),"keydown",this._keyDown)}},s.prototype._enabled=function(e){e?this.enable(e):this.disable(e),this.model.enabled=e},s.prototype._shadowEffect=function(e,i){this.model.showShadow=e;var s=null;if(t(this.tooltip).removeClass("e-tooltipShadowLeft e-tooltipShadowRight"),this.model.showShadow){if(this.model.isBalloon)switch(i.stem.horizontal){case"center":s="top"==i.stem.vertical?"e-tooltipShadowLeft":"bottom"==i.stem.vertical?"e-tooltipShadowRight":"e-tooltipShadowLeft";break;case"right":s="center"==i.target.horizontal&&"top"==i.stem.vertical?"e-tooltipShadowLeft":"e-tooltipShadowRight";break;case"left":s="center"==i.target.horizontal&&"bottom"==i.stem.vertical?"e-tooltipShadowRight":"e-tooltipShadowLeft"}else s="e-tooltipShadowLeft";t(this.tooltip).addClass(s)}},s.prototype._setContent=function(e){this.model.content=e,t(this.tooltipContent).html(this.model.content),this.tooltipPos.height=t(this.tooltip).outerHeight(),this.tooltipPos.width=t(this.tooltip).outerWidth()},s.prototype._setPosition=function(e){this.model.position.stem=t.extend(!0,this.model.position.stem,e.stem),this.model.position.target=t.extend(!0,this.model.position.target,e.target)},s.prototype._setTrigger=function(e){this._wireTriggerEvents(!1),this.model.trigger=e,this._wireTriggerEvents(!0)},s.prototype._init=function(){this.id=this.element[0].id,this.positionTarget=t.extend(!0,{},this.model.position.target),this.positionTooltip=t.extend(!0,{},this.model.position.stem),this.tipSize=t.extend(!0,{},this.model.tip.size),this._initialize(),this._render(),this.enable(this.model.enabled),this._wireEvents(!0)},s.prototype._initialize=function(){ej.isNullOrUndefined(this.model.target)?ej.isNullOrUndefined(this.model.content)&&!ej.isNullOrUndefined(this.element.attr("title"))&&(this.model.content=this.element.attr("title"),this.element.attr("data-content",this.model.content),this.element.removeAttr("title")):this._renderTarget()},s.prototype._wireEvents=function(e){var i=e?"_on":"_off";this._wireTriggerEvents(e),this.model.allowKeyboardNavigation&&this[i](t(window),"keydown",this._keyDown),null!=this.model.target?this[i](this.element,"scroll",this.model.target,this._hideTooltip):this[i](this.element,"scroll",this._hideTooltip),this[i](t(this.tooltip),"mouseenter",this._onTooltipMouseEnter),this[i](t(this.tooltip),"mouseleave",this._onTooltipMouseLeave),this[i](t(window),"resize",this._hideTooltip),this[i](t(window),"touchend",this._docTouchEndHandler)},s.prototype._wireTriggerEvents=function(e){var t,i=e?"_on":"_off";this.model.trigger==ej.Tooltip.Trigger.Focus?null!=this.model.target?this[i](this.element,"blur",this.model.target,this._hideTooltip):this[i](this.element,"blur",this._hideTooltip):null!=this.model.target?this[i](this.element,ej.isDevice()?"touchstart":"mouseleave",this.model.target,this._onMouseOut):this[i](this.element,ej.isDevice()?"touchstart":"mouseleave",this._onMouseOut),this._wireMouseEvents(e),t=this.model.trigger==ej.Tooltip.Trigger.Click?ej.isDevice()?"touchstart":"click":this.model.trigger==ej.Tooltip.Trigger.Focus?ej.isDevice()?"touchstart":"focus":ej.isDevice()?"touchstart":"mouseenter",null!=this.model.target?this[i](this.element,t,this.model.target,this._targetHover):this[i](this.element,t,this._targetHover)},s.prototype._wireMouseEvents=function(e){var t=e?"_on":"_off";(this.model.associate==ej.Tooltip.Associate.MouseEnter||this.model.associate==ej.Tooltip.Associate.MouseFollow)&&(null!=this.model.target?this[t](this.element,ej.isDevice()?"touchstart":"mousemove",this.model.target,this._tooltipMove):this[t](this.element,ej.isDevice()?"touchstart":"mousemove",this._tooltipMove))},s.prototype._render=function(){this.tooltip=ej.buildTag("div.e-tooltip-wrap e-widget","",{},{role:"tooltip","aria-readonly":"true","aria-hidden":"true","aria-describedby":this.id+"_content",id:this.id+"_Main"}),this.tooltipInter=ej.buildTag("div.e-tipContainer","",{},{}),this.tooltip.append(this.tooltipInter),this.model.isBalloon&&this._renderArrow(),t(this.model.containment).append(this.tooltip),this._setHeight(this.model.height),this._setWidth(this.model.width),this._createHeader(),this._tooltipContent(),this.model.cssClass&&this.tooltip.addClass(this.model.cssClass),this.model.showRoundedCorner&&this._roundedCorner(this.model.showRoundedCorner),this.model.enableRTL&&this._setRTL(this.model.enableRTL),t(this.tooltip).css({top:"auto",left:"auto"}),this.tooltipPos={width:t(this.tooltip).outerWidth(),height:t(this.tooltip).outerHeight(),left:t(this.tooltip).offset().left,top:t(this.tooltip).offset().top,position:"absolute"},ej.isNullOrUndefined(this.model.target)&&(this._containerCalc(this.element),this._positionElement(this.element))},s.prototype._containerCalc=function(e){ej.isNullOrUndefined(e)&&(e=this.element);var i=t(e).offset();this.containerSize={height:"body"==this.model.containment?t(window).innerHeight()||document.documentElement.clientHeight||document.body.clientHeight:t(this.model.containment).innerHeight(),width:"body"==this.model.containment?t(window).innerWidth()||document.documentElement.clientWidth||document.body.clientWidth:t(this.model.containment).innerWidth()},this.containerSize.left="body"!=this.model.containment&&"static"==t(this.model.containment).css("position")?t(this.model.containment).offset().left-t(this.model.containment).offsetParent().offset().left:0,this.containerSize.top="body"!=this.model.containment&&"static"==t(this.model.containment).css("position")?t(this.model.containment).offset().top-t(this.model.containment).offsetParent().offset().top:0,i.left-="body"!=this.model.containment?"static"==t(this.model.containment).css("position")?t(this.model.containment).offsetParent().offset().left:t(this.model.containment).offset().left:0,i.top-="body"!=this.model.containment?"static"==t(this.model.containment).css("position")?t(this.model.containment).offsetParent().offset().top:t(this.model.containment).offset().top:0,this.targetPos.left=i.left,this.targetPos.top=i.top},s.prototype._setHeight=function(e){this.model.height=e,!isNaN(+e)&&isFinite(e)?t(this.tooltip).css("height",e+"px"):t(this.tooltip).css("height",e),this.tooltipPos.height=t(this.tooltip).outerHeight()},s.prototype._setWidth=function(e){this.model.width=e,"auto"!=this.model.width&&(e=!isNaN(+e)&&isFinite(e)?e+"px":e,t(this.tooltip).css("max-width",e),t(this.tooltip).css("min-width","0px")),t(this.tooltip).css("width",e),this.tooltipPos.height=t(this.tooltip).outerHeight()},s.prototype._setRTL=function(e){this.model.enableRTL=e,e?this.tooltip.addClass("e-rtl"):this.tooltip.removeClass("e-rtl")},s.prototype._setSkin=function(e){this.model.cssClass!=e&&(this.tooltip.removeClass(this.model.cssClass).addClass(e),this.model.cssClass=e)},s.prototype._roundedCorner=function(){this.model.showRoundedCorner?this.tooltip.addClass("e-corner"):this.tooltip.removeClass("e-corner")},s.prototype._renderArrow=function(){ej.isNullOrUndefined(this.tip)&&(this.tip=ej.buildTag("div.e-arrowTip"," ",{id:this.id+"_eTip"},{}),t(this.tip).append("<div class='e-arrowTipOuter'></div>").append("<div class='e-arrowTipInner'></div>"),t(this.tip).insertBefore(this.tooltipInter))},s.prototype._adjustArrow=function(e){var i,s,a=t(this.tooltip).width(),o=t(this.tooltip).height(),r=e.stem,l=e.target,n={tipHeight:0,tipWidth:0};"right"==l.horizontal||"left"==l.horizontal?(i="left"==r.horizontal?-this.model.tip.size.height:"right"==r.horizontal?a:a/2-this.tipSize.width/2,s="center"!=r.horizontal?"top"==r.vertical?5:"center"==r.vertical?o/2-this.tipSize.width/2:o-5-this.tipSize.width:"top"==r.vertical?-this.tipSize.height:"bottom"==r.vertical?o:this.tooltipPos.height/2-this.tipSize.width/2,n=this._arrowBinding(e,"horizontal")):(s="top"==r.vertical?-this.tipSize.height:"bottom"==r.vertical?o:o/2-this.tipSize.width/2,i="center"==r.vertical?"left"==r.horizontal?-this.model.tip.size.height:a:"left"==r.horizontal?10:"center"==r.horizontal?this.tooltipPos.width/2-this.tipSize.width/2:a-10-this.tipSize.width,n=this._arrowBinding(e,"vertical")),this.arrowValue.left=i,this.arrowValue.top=s,t(this.tip).css({height:n.tipHeight+"px",width:n.tipWidth+"px",left:i+"px",top:s+"px",display:"center"==r.horizontal&&"center"==r.vertical?"none":"block"})},s.prototype._arrowBinding=function(e,i){var s,a,o=e.stem,r="horizontal"==i?"center"!=o.horizontal:"center"==o.vertical,l=t(this.tooltip).css("border-top-color"),n=t(this.tooltip).css("background-color"),d=this.model.tip.size.height,h=this.model.tip.size.height-1,c={"border-top":"none","border-bottom":"none","border-right":"none","border-left":"none"};return r?(s=this.model.tip.size.height,a=this.model.tip.size.width,t(this.tip).find(".e-arrowTipOuter").css(this._arrow(e,d,l,c,"horizontal")),t(this.tip).find(".e-arrowTipInner").css(this._arrow(e,h,n,c,"horizontal"))):(s=this.model.tip.size.width,a=this.model.tip.size.height,t(this.tip).find(".e-arrowTipOuter").css(this._arrow(e,d,l,c,"vertical")),t(this.tip).find(".e-arrowTipInner").css(this._arrow(e,h,n,c,"vertical"))),{tipHeight:a,tipWidth:s}},s.prototype._arrow=function(e,t,i,s,a){var o=e.stem,r="horizontal"==a&&"right"==o.horizontal?"0px":"1px",l="horizontal"==a?"1px":"bottom"==o.vertical?"0px":"1px";return s["border-top"]="horizontal"==a?t+"px solid transparent":"bottom"==o.vertical?t+"px solid "+i:"none",s["border-bottom"]="horizontal"==a?t+"px solid transparent":"top"==o.vertical?t+"px solid "+i:"none",s["border-right"]="horizontal"==a?"left"==o.horizontal?t+"px solid "+i:"none":t+"px solid transparent",s["border-left"]="horizontal"==a?"right"==o.horizontal?t+"px solid "+i:"none":t+"px solid transparent",t==this.model.tip.size.height-1&&(s.left=r,s.top=l),s},s.prototype._iconRender=function(){this.model.closeMode==ej.Tooltip.CloseMode.Sticky&&(ej.isNullOrUndefined(this.tooltipClose)||t(this.tooltipClose).remove(),this.tooltipClose=ej.buildTag("div .e-icon"," ",{},{id:"_closeIcon"}),null!=this.model.title?t(this.tooltipClose).insertAfter(this.tooltipTitle).addClass("e-close"):t(this.tooltipClose).insertBefore(this.tooltipInter).addClass("e-cross-circle"),this._on(t(this.tooltipClose),"click",this._hideTooltip))},s.prototype._renderTarget=function(){this.targetElement=t(this.element).find(this.model.target);for(var e=0;e<this.targetElement.length;e++)ej.isNullOrUndefined(t(this.targetElement[e]).attr("title"))||(this.targetElement[e].setAttribute("data-content",this.targetElement[e].title),this.targetElement[e].removeAttribute("title"))},s.prototype._tooltipContent=function(){this.tooltipContent=ej.buildTag("div.e-tipcontent e-def","",{},{id:this.id+"_content"}),t(this.tooltipContent).html(this.model.content).addClass("e-def"),null!=this.model.title?t(this.tooltipContent).insertAfter(this.tooltipHeader):t(this.tooltipContent).appendTo(this.tooltipInter)},s.prototype._positionElement=function(e){this.tooltipPos.width=t(this.tooltip).outerWidth(),this.tooltipPos.height=t(this.tooltip).outerHeight(),this.targetPos.width=t(e).outerWidth(),this.targetPos.height=t(e).outerHeight(),this._containerCalc(e),this.model.associate==ej.Tooltip.Associate.Window?this._browserPosition():this.model.associate==ej.Tooltip.Associate.Axis?this._axisPosition():this.model.associate==ej.Tooltip.Associate.Target&&this._tooltipPosition(this.model.position),this.model.collision!=ej.Tooltip.Collision.None&&this.model.associate==ej.Tooltip.Associate.Target&&this._calcCollision(this.model.position,e)},s.prototype._browserPosition=function(){if("body"==this.model.containment){this.containerSize={height:t(window).innerHeight()||document.documentElement.clientHeight||document.body.clientHeight,width:t(window).innerWidth()||document.documentElement.clientWidth||document.body.clientWidth};var e=t.extend(!0,{},this.model.position),i={position:"absolute",left:"auto",top:"auto",bottom:"auto",right:"auto"};ej.isNullOrUndefined(this.tip)||t(this.tip).css({display:"none"}),"right"==this.model.position.target.horizontal?i.right=0:i.left="left"==this.model.position.target.horizontal?0:this.containerSize.width/2-this.tooltipPos.width/2,"top"==this.model.position.target.vertical?i.top=0:"center"==this.model.position.target.vertical?i.top=this.containerSize.height/2-this.tooltipPos.height/2:i.bottom=0,this.model.showShadow&&this._shadowEffect(this.model.showShadow,e),t(this.tooltip).css(i)}},s.prototype._tooltipMove=function(e){if(this.model.closeMode==ej.Tooltip.CloseMode.None&&this.model.enabled){var t=this;if(this._isCancel)return;this.model.associate==ej.Tooltip.Associate.MouseFollow?this._mousePosition(e):this.model.associate==ej.Tooltip.Associate.MouseEnter&&(clearTimeout(this.mouseTimer),this.mouseTimer=setTimeout((function(){t.isTrack&&t._mousePosition(e)}),300))}},s.prototype._mousePosition=function(e){var i,s,a;"touchstart"==e.type?(e.preventDefault(),i=e.touches[0].pageX,s=e.touches[0].pageY):"mousemove"==e.type&&(i=e.pageX,s=e.pageY),this.isCollision=!0,this._containerCalc(e.currentTarget);var o=0,r=0,l=0,n=t.extend(!0,{},this.model.position.stem),d=t.extend(!0,{},this.model.position),h={left:0,top:0},c={left:i,top:s},u={left:i,top:s},p=this.containerSize.left,m=this.containerSize.top,g="body"!=this.model.containment?i-t(this.model.containment).offset().left:i,_="body"!=this.model.containment?s-t(this.model.containment).offset().top:s;for(d.target.horizontal=d.target.vertical="center","body"!=this.model.containment&&(h="static"==t(this.model.containment).css("position")?t(this.model.containment).offsetParent().offset():t(this.model.containment).offset()),u.left-=h.left,u.top-=h.top;this.isCollision;)if(c=t.extend(!0,{},u),!this.model.isBalloon||"top"!=n.vertical&&"bottom"!=n.vertical||this.tipSize.height,a=!this.model.isBalloon||"right"!=n.horizontal&&"left"!=n.horizontal?0:10+this.tipSize.width/2,o=0!=this.model.tip.adjust.xValue?this.model.tip.adjust.xValue:7,r=0!=this.model.tip.adjust.yValue?this.model.tip.adjust.yValue:10,l=this.model.isBalloon?"center"!=n.horizontal||"center"!=n.vertical?this.model.tip.size.height:0:2,c.left+="right"==n.horizontal?-this.tooltipPos.width:"left"==n.horizontal?0:-this.tooltipPos.width/2,c.top+="bottom"==n.vertical?-this.tooltipPos.height:"top"==n.vertical?0:-this.tooltipPos.height/2,c.left+="center"!=n.vertical?"right"==n.horizontal?a:"left"==n.horizontal?-a:0:0,c.left+="center"==n.vertical?"right"==n.horizontal?-l:"left"==n.horizontal?+(l+o):0:0,c.top+="top"==n.vertical?+(l+r):"bottom"==n.vertical?-l:0,this.targetElement!=e.currentTarget&&(this.targetElement=e.currentTarget,(c.left<p||c.left+this.tooltipPos.width>p+this.containerSize.width)&&(this.positionTooltip.horizontal=g>=this.tooltipPos.width?"right":this.containerSize.width-g>=this.tooltipPos.width?"left":"center"),(c.top<m||c.top+this.tooltipPos.height>this.containerSize.height+m)&&(this.positionTooltip.vertical=_>=this.tooltipPos.height?"bottom":this.containerSize.height-_>=this.tooltipPos.height?"top":"center")),this.positionTooltip.horizontal!=n.horizontal||this.positionTooltip.vertical!=n.vertical)this.isCollision=!0,n=t.extend(!0,{},this.positionTooltip);else if(this.isCollision=!1,t(this.tooltip).css({top:c.top+"px",left:c.left+"px",position:"absolute",right:"auto",bottom:"auto"}),d.stem=t.extend(!0,{},this.positionTooltip),this.model.showShadow&&this._shadowEffect(this.model.showShadow,d),this.model.isBalloon&&this._adjustArrow(d),this._showTooltip(),this.model.associate==ej.Tooltip.Associate.MouseEnter&&(this.isTrack=!1),this.model.associate==ej.Tooltip.Associate.MouseFollow&&this.triggerEvents("tracking",{position:this.model.position,event:e}))return},s.prototype._axisPosition=function(){var e,i,s,a,o=t.extend(!0,{},this.model.position);"number"==typeof this.model.position.target.horizontal&&(e=this.model.position.target.horizontal.toString()),"number"==typeof this.model.position.target.vertical&&(i=this.model.position.target.vertical.toString()),s=parseInt(e),a=parseInt(i),ej.isNullOrUndefined(this.tip)||t(this.tip).css({display:"none"}),this.model.showShadow&&this._shadowEffect(this.model.showShadow,o),this.model.isBalloon&&this._adjustArrow(o),isFinite(s)&&isFinite(a)&&t(this.tooltip).css({top:a,left:s,position:"absolute"})},s.prototype._tooltipPosition=function(e){var i=0,s=t.extend(!0,{},e.stem),a=t.extend(!0,{},e.target),o=t.extend(!0,{},this.targetPos),r="top"===s.vertical||"bottom"===s.vertical?5+this.tipSize.width/2:0,l="right"===s.horizontal||"left"===s.horizontal?10+this.tipSize.width/2:0,n=(i=!this.model.isBalloon||"center"===s.horizontal&&"center"===s.vertical?0:this.model.tip.size.height,0!=this.model.tip.adjust.xValue?this.model.tip.adjust.xValue:this.model.isBalloon?0:2),d=0!=this.model.tip.adjust.yValue?this.model.tip.adjust.yValue:this.model.isBalloon?0:2;o.left+="right"===a.horizontal?this.targetPos.width:"left"===a.horizontal?0:this.targetPos.width/2,o.top+="bottom"===a.vertical?this.targetPos.height:"top"===a.vertical?0:this.targetPos.height/2,o.left+="right"===s.horizontal?-this.tooltipPos.width:"left"===s.horizontal?0:-this.tooltipPos.width/2,o.top+="bottom"===s.vertical?-this.tooltipPos.height:"top"===s.vertical?0:-this.tooltipPos.height/2,o.left+="center"!==a.horizontal||"center"===s.vertical?"right"===s.horizontal?-i:"left"===s.horizontal?i:0:0,o.top+="center"===a.horizontal||"center"===s.horizontal?"bottom"===s.vertical?-i:"top"===s.vertical?i:0:0,o.left+="center"===a.horizontal&&"center"!==s.vertical?"right"===s.horizontal?l:"left"===s.horizontal?-l:0:0,o.top+="center"!==a.horizontal&&"center"!==s.horizontal?"top"===s.vertical?-r:"bottom"===s.vertical?r:0:0,o.left+="center"!==a.horizontal||"center"===s.vertical?"right"===s.horizontal?-n:"left"===s.horizontal?n:0:0,o.top+="center"===a.horizontal||"center"===s.horizontal?"bottom"===s.vertical?-d:"top"===s.vertical?d:0:0,this.tooltipPos.left=o.left,this.tooltipPos.top=o.top,this.model.collision===ej.Tooltip.Collision.None&&(this.model.isBalloon&&this._adjustArrow(e),this._shadowEffect(this.model.showShadow,e),t(this.tooltip).css({top:o.top+"px",left:o.left+"px",position:"absolute"}))},s.prototype._calcCollision=function(e,i){e=t.extend(!0,{},e);var s=t.extend(!0,{},e),a=this.model.tip.size.height,o=!0,r="body"!=this.model.containment?t(i).offset().left-t(this.model.containment).offset().left:t(i).offset().left,l="body"!=this.model.containment?t(i).offset().top-t(this.model.containment).offset().top:t(i).offset().top,n={topSpace:l,rightSpace:this.containerSize.width-(r+this.targetPos.width),bottomSpace:this.containerSize.height-(l+this.targetPos.height),leftSpace:r,centerRight:this.containerSize.width-(r+this.targetPos.width/2),centerLeft:r+this.targetPos.width/2,centerTop:l+this.targetPos.height/2,centerBottom:this.containerSize.height-(l+this.targetPos.height/2),tooltipWidth:this.tooltipPos.width+a,tooltipHeight:this.tooltipPos.height+a};if(this.model.collision===ej.Tooltip.Collision.Fit)this._collisionFit(e,n);else{for(;o;)(s=this._collisionFlip(s,n)).target.horizontal!=e.target.horizontal||s.target.vertical!=e.target.vertical||s.stem.horizontal!=e.stem.horizontal||s.stem.vertical!=e.stem.vertical?(this._tooltipPosition(s),e=t.extend(!0,{},s)):o=!1;o||(this.model.collision==ej.Tooltip.Collision.FlipFit?this._collisionFit(s,n):(this._adjustArrow(s),this._shadowEffect(this.model.showShadow,s),t(this.tooltip).css({top:this.tooltipPos.top+"px",left:this.tooltipPos.left+"px",position:"absolute"})))}},s.prototype._collisionFlip=function(e,i){var s=t.extend(!0,{},this.tooltipPos),a=t.extend(!0,{},e),o=t(this.model.containment).scrollLeft(),r=t(this.model.containment).scrollTop(),l=this.containerSize.left,n=this.containerSize.top;return(s.left+s.width>l+this.containerSize.width+o||s.left<l)&&("center"!=e.target.horizontal?a.target.horizontal=i.leftSpace>=i.tooltipWidth?"left":i.rightSpace>=i.tooltipWidth?"right":"center":a.stem.horizontal=i.centerLeft>=i.tooltipWidth?"right":i.centerRight>=i.tooltipWidth?"left":"center"),s.top<n&&(a.target.vertical=i.bottomSpace>=i.tooltipHeight?"bottom":"center"),s.top+s.height>this.containerSize.height+r+n&&(a.target.vertical=i.topSpace>=i.tooltipHeight?"top":"center"),(a.target.horizontal!=e.target.horizontal||a.target.vertical!=e.target.vertical)&&(a.stem.horizontal="center"==a.target.horizontal?i.centerLeft>=i.tooltipWidth?"right":i.centerRight>=i.tooltipWidth?"left":"center":"right"==a.target.horizontal?"left":"right"),(a.target.vertical!=e.target.vertical||a.target.horizontal!=e.target.horizontal)&&(a.stem.vertical="center"==a.target.vertical?i.centerTop>=i.tooltipHeight?"bottom":i.centerBottom>=i.tooltipHeight?"top":i.centerTop>i.centerBottom?"bottom":"top":"top"==a.target.vertical?"bottom":"top"),a},s.prototype._collisionFit=function(e,i){var s,a,o,r,l,n=t.extend(!0,{},this.tooltipPos),d=!1,h=!1,c=1,u=1,p=null,m=t(this.model.containment).scrollLeft();s="body"==this.model.containment?document.documentElement.scrollTop||document.body.scrollTop:t(this.model.containment).scrollTop(),a=this.containerSize.left,o=this.containerSize.top,(n.left<a||n.left+n.width>this.containerSize.width+m+a)&&(c=n.left<a?a:n.left+n.width>this.containerSize.width+m+a?n.left-(n.left+n.width-(this.containerSize.width+a)):1,d=!0),(n.top<o||n.top+n.height>this.containerSize.height+s+o)&&(u=n.top<o?o:n.top+n.height>this.containerSize.height+s+o?n.top-(n.top+n.height-(this.containerSize.height+o)):1,h=!0),t(this.tooltip).css({top:1!=u?u+"px":n.top+"px",left:1!=c?c+"px":n.left+"px",position:"absolute"}),this._adjustArrow(e),p={left:this.arrowValue.left,top:this.arrowValue.top,height:this.model.tip.size.height,width:this.model.tip.size.width,display:t(this.tip).css("display")},this.tooltipPos.top=u=1!=u?u:n.top,this.tooltipPos.left=c=1!=c?c:n.left,r=t(this.tooltip).width(),l=t(this.tooltip).height(),(d||h&&"none"!=p.display)&&(this.model.isBalloon&&(d&&(this.arrowValue.left=this._horizontalAdjustment(e,i)),h&&(this.arrowValue.top=this._verticalAdjustment(e,i))),this.arrowValue.left==-this.model.tip.size.height||this.arrowValue.left==r||this.arrowValue.top==-this.model.tip.size.height||this.arrowValue.top==l?t(this.tip).css({left:this.arrowValue.left+"px",top:this.arrowValue.top+"px",display:"block"}):t(this.tip).css({left:this.arrowValue.left+"px",top:this.arrowValue.top+"px",display:"none"})),this._shadowEffect(this.model.showShadow,e)},s.prototype._horizontalAdjustment=function(e,i){var s,a,o={left:this.arrowValue.left,top:this.arrowValue.top};return t(this.tooltip).css({display:"block"}),e.target.horizontal,s=this.model.tip.size.height,a="center"!=e.target.horizontal&&"left"==e.stem.horizontal?t(this.tip).offset().left:"center"!=e.target.horizontal&&"right"==e.stem.horizontal?t(this.tip).offset().left+s:t(this.tip).offset().left,t(this.tooltip).css({display:"none"}),a>i.leftSpace&&a+s<i.leftSpace+this.targetPos.width||(a>i.leftSpace+this.targetPos.width||a<i.leftSpace)&&(o.left=i.leftSpace+this.targetPos.width/2-parseInt(this.tooltipPos.left.toString())),o.left},s.prototype._verticalAdjustment=function(e,i){var s,a,o={left:this.arrowValue.left,top:this.arrowValue.top,height:this.model.tip.size.height,width:this.model.tip.size.width,display:this.arrowValue.display};return t(this.tooltip).css({display:"block"}),e.target.horizontal,s=this.model.tip.size.height,a="center"==e.target.horizontal&&"top"==e.stem.vertical?t(this.tip).offset().top:t(this.tip).offset().top+s,t(this.tooltip).css({display:"none"}),a>i.topSpace&&a<i.topSpace+this.targetPos.height||(a<i.topSpace||a+s>i.topSpace+this.targetPos.height)&&(o.top=i.topSpace+this.targetPos.height/2-parseInt(this.tooltipPos.top.toString())),o.top},s.prototype._createHeader=function(){null!=this.model.title&&(ej.isNullOrUndefined(this.tooltipTitle)&&this._createTitle(),ej.isNullOrUndefined(this.tooltipContent)?t(this.tooltipHeader).appendTo(this.tooltipInter).addClass("e-tooltipHeader"):t(this.tooltipHeader).insertBefore(this.tooltipContent).addClass("e-tooltipHeader")),this.model.closeMode==ej.Tooltip.CloseMode.Sticky&&this._iconRender()},s.prototype._hideTooltip=function(){var e;if(this._isHidden=!0,e=0!=this.model.animation.speed?this.model.animation.speed:this.model.animation.effect==ej.Tooltip.Effect.Slide?200:this.model.animation.effect==ej.Tooltip.Effect.Fade?800:0,1==this.model.enabled&&"block"==t(this.tooltip).css("display")){if(this.triggerEvents("beforeClose",{}))return;if(this.model.animation.effect==ej.Tooltip.Effect.Fade?t(this.tooltip).fadeOut(e):this.model.animation.effect==ej.Tooltip.Effect.Slide?t(this.tooltip).slideUp(e):t(this.tooltip).css({display:"none"}),"none"==t(this.tooltip).css("display")&&t(this.tooltip).attr("aria-hidden","true").removeClass("e-customAnimation"),this.triggerEvents("close",{}))return}},s.prototype._showTooltip=function(){var e,i,s,a,o,r;this._isHidden&&(e=0!=this.model.animation.speed?this.model.animation.speed:this.model.animation.effect==ej.Tooltip.Effect.Slide?200:this.model.animation.effect==ej.Tooltip.Effect.Fade?800:0,this._isHidden=!1,"none"==t(this.tooltip).css("display")&&1==this.model.enabled&&(this.model.animation.effect==ej.Tooltip.Effect.Fade?t(this.tooltip).fadeIn(e):this.model.animation.effect==ej.Tooltip.Effect.Slide?t(this.tooltip).slideDown(e):t(this.tooltip).css({display:"block"}),"block"==t(this.tooltip).css("display")&&(i=t(this.tooltip[0]).parents(),s=t("body").children(),t(s).each((function(e,t){i.push(t)})),a=t(this.model.target).parents(),t(a).each((function(e,t){i.push(t)})),!(o=Math.max.apply(o,t.map(i,(function(e){if("static"!=t(e).css("position"))return parseInt(t(e).css("z-index"))||1}))))||o<1e4?o=1e4:o+=1,t(this.tooltip).attr("aria-hidden","false").css({zIndex:o}),this.model.animation.effect==ej.Tooltip.Effect.None&&t(this.tooltip).addClass("e-customAnimation"),r=this._getScrollableParents(),this._on(r,"scroll",this._hideTooltip)),this.triggerEvents("open",{})))},s.prototype._getScrollableParents=function(){return t(this.element).parentsUntil("html").filter((function(){return"visible"!=t(this).css("overflow")})).add(t(window))},s.prototype._tooltipAuto=function(){var e=this;this.timer=setTimeout((function(){e._hideTooltip()}),e.model.autoCloseTimeout)},s.prototype._beforeOpenTooltip=function(e){this.positionTooltip=t.extend(!0,{},this.model.position.stem),this.positionTarget=t.extend(!0,{},this.model.position.target),this.targetElement=this.element,ej.isNullOrUndefined(this.model.target)||ej.isNullOrUndefined(t(e.currentTarget).attr("data-content"))||(this.model.content=t(e.currentTarget).attr("data-content"),this._setContent(this.model.content))},s.prototype._targetHover=function(e){if(this.isTrack=!0,this.model.enabled)if(this._isHidden||("msie"==ej.browserInfo().name||"edge"==ej.browserInfo().name)&&this.model.associate==ej.Tooltip.Associate.MouseFollow){if(this.tooltip.stop(!0,!0),this.triggerEvents("beforeOpen",{event:e}))return void(this._isCancel=!0);this._isCancel=!1,this._beforeOpenTooltip(e),this.model.associate!=ej.Tooltip.Associate.MouseEnter&&this.model.associate!=ej.Tooltip.Associate.MouseFollow?(ej.isNullOrUndefined(this.model.target)?this._positionElement(this.element):this._positionElement(e.currentTarget),clearTimeout(this.timer),this._showTooltip(),this.model.closeMode==ej.Tooltip.CloseMode.Auto&&this._tooltipAuto(),"click"==e.type?this.triggerEvents("click",{event:e}):this.triggerEvents("hover",{event:e})):this.isTrack=!0}else ej.isNullOrUndefined(this.model.target)||this._positionElement(e.currentTarget)},s.prototype._onMouseOut=function(){this.model.enabled&&!this._isHidden&&(this.model.closeMode==ej.Tooltip.CloseMode.None&&this._hideTooltip(),clearTimeout(this.mouseTimer)),this.isTrack=!1},s.prototype._onTooltipMouseEnter=function(){var e=this;this.model.enabled&&this.model.animation.effect==ej.Tooltip.Effect.None&&t(e.tooltip).css({display:"block"})},s.prototype._onTooltipMouseLeave=function(){var e=this;this.model.enabled&&this.model.animation.effect==ej.Tooltip.Effect.None&&e.model.closeMode==ej.Tooltip.CloseMode.None&&t(e.tooltip).css({display:"none"})},s.prototype._docTouchEndHandler=function(e){t(e.target).closest(".e-tooltip").length||this.model.closeMode!=ej.Tooltip.CloseMode.None||this._hideTooltip()},s.prototype._keyDown=function(e){var t=e.keyCode?e.keyCode:e.which?e.which:e.charCode;this.model.enabled&&27===t&&(e.preventDefault(),this._hideTooltip())},s}(ej.WidgetBase);window.ej.widget("ejTooltip","ej.Tooltip",new i),window.ejTooltip=null})(jQuery),ej.Tooltip.CloseMode={Auto:"auto",None:"none",Sticky:"sticky"},ej.Tooltip.Effect={Slide:"slide",Fade:"fade",None:"none"},ej.Tooltip.Trigger={Hover:"hover",Click:"click",Focus:"focus"},ej.Tooltip.Collision={Flip:"flip",FlipFit:"flipfit",None:"none",Fit:"fit"},ej.Tooltip.Associate={Window:"window",MouseFollow:"mousefollow",MouseEnter:"mouseenter",Target:"target",Axis:"axis"},function(e,t,i){t.widget("ejTreeView","ej.TreeView",{_rootCSS:"e-treeview",element:null,model:null,validTags:["ul","div"],_addToPersist:["expandedNodes","checkedNodes","selectedNodes"],_setFirst:!1,_requiresID:!0,defaults:{allowMultiSelection:!1,showCheckbox:!1,enableAnimation:!0,allowDragAndDrop:!1,htmlAttributes:{},allowDropChild:!0,allowDropSibling:!0,allowDragAndDropAcrossControl:!0,allowEditing:!1,allowKeyboardNavigation:!0,items:null,fields:{dataSource:null,query:null,tableName:null,child:null,id:"id",parentId:"parentId",text:"text",spriteCssClass:"spriteCssClass",expanded:"expanded",hasChild:"hasChild",selected:"selected",linkAttribute:"linkAttribute",imageAttribute:"imageAttribute",htmlAttribute:"htmlAttribute",imageUrl:"imageUrl",isChecked:"isChecked"},autoCheckParentNode:!1,loadOnDemand:!1,cssClass:"",template:null,enableRTL:!1,expandOn:"dblclick",enablePersistence:!1,enabled:!0,expandedNodes:[],checkedNodes:[],selectedNode:-1,selectedNodes:[],width:null,height:null,autoCheck:!0,enableMultipleExpand:!0,fullRowSelect:!1,sortSettings:{allowSorting:!1,sortOrder:"ascending"},nodeClick:null,beforeExpand:null,nodeExpand:null,beforeCollapse:null,nodeCollapse:null,beforeSelect:null,nodeSelect:null,nodeUnselect:null,nodeCheck:null,nodeUncheck:null,inlineEditValidation:null,beforeEdit:null,nodeEdit:null,keyPress:null,nodeDragStart:null,nodeDrag:null,nodeDragStop:null,nodeDropped:null,beforeAdd:null,nodeAdd:null,beforeDelete:null,nodeDelete:null,beforeCut:null,nodeCut:null,beforePaste:null,nodePaste:null,beforeLoad:null,loadSuccess:null,loadError:null,ready:null,create:null,destroy:null},dataTypes:{allowMultiSelection:"boolean",cssClass:"string",showCheckbox:"boolean",enableAnimation:"boolean",allowDragAndDrop:"boolean",allowDropChild:"boolean",allowDragAndDropAcrossControl:"boolean",allowEditing:"boolean",allowKeyboardNavigation:"boolean",autoCheckParentNode:"boolean",loadOnDemand:"boolean",enableRTL:"boolean",expandOn:"string",enablePersistence:"boolean",enableMultipleExpand:"boolean",fullRowSelect:"boolean",items:"data",fields:{dataSource:"data",query:"data",child:"data"},expandedNodes:"array",checkedNodes:"array",selectedNode:"number",selectedNodes:"array",htmlAttributes:"data",sortSettings:{allowSorting:"boolean",sortOrder:"enum"}},observables:["fields.dataSource"],dataSource:t.util.valueFunction("fields.dataSource"),_setModel:function(i){var s,a,o,r,l,n,d,h;for(s in i)switch(s){case"allowMultiSelection":this.model.allowMultiSelection=i[s],this.model.allowMultiSelection||(a=e(this._liList[this.model.selectedNodes[0]]),this._unselectAll(),this._isRender=!1,this._nodeSelectionAction(a),this._isRender=!0);break;case"cssClass":this._changeSkin(i[s]);break;case"fields":if(this._deepWatch&&!t.isNullOrUndefined(i[s].dataSource)&&JSON.stringify(this._oldDataSource)==JSON.stringify("function"==typeof i[s].dataSource?i[s].dataSource():i[s].dataSource))return;this._unWireEvents(),(l=(r=!this.element.hasClass("e-js"))?this.element.children("ul"):this.element).empty(),null==this.model.fields||null==i[s]?this.model.fields=i[s]:this._extendFields(this.model.fields,i[s]),this.model.expandedNodes=[],this.model.checkedNodes=[],this.model.selectedNodes=[],this.model.selectedNode=-1,this._persistValues(this.model.expandedNodes,"expandedNodes"),this._persistValues(this.model.checkedNodes,"checkedNodes"),this._persistValues(this.model.selectedNodes,"selectedNodes"),this._newDataSource=this.dataSource(),t.isNullOrUndefined(this.model.fields)||null==this.dataSource()?this._initialize():this._checkDataBinding(),r&&(o=this.element.children(".e-treeview-ul"),l.append(o.children()),o.remove());break;case"allowDragAndDropAcrossControl":this.model.allowDragAndDropAcrossControl=i[s],this._enableDragDrop();break;case"enabled":this._enabledAction(i[s]);break;case"showCheckbox":i[s]?(this.model.showCheckbox=i[s],this._showCheckBox(),this.model.enabled||this.element.find(".nodecheckbox").ejCheckBox("disable")):(this.element.find(".e-item > div > .e-chkbox-wrap").remove(),this._updateCheckedNodes());break;case"autoCheck":this.model.autoCheck=i[s];break;case"autoCheckParentNode":this.model.autoCheckParentNode=i[s];break;case"expandedNodes":if(h=i[s].length,n=JSON.parse(JSON.stringify(this.model.expandedNodes)),h>0)for(this._expandNodes(i[s]),d=0,h=n.length;d<h;d++)-1==i[s].indexOf(n[d])&&this._collapseNode(e(this._liList[n[d]]));else 0==h&&this._collapseAll();i[s]=this.model.expandedNodes;break;case"checkedNodes":if(this.model.showCheckbox)if(h=i[s].length,n=JSON.parse(JSON.stringify(this.model.checkedNodes)),h>0)for(this._checkedNodes(i[s]),d=0,h=n.length;d<h;d++)-1==i[s].indexOf(n[d])&&this._nodeUncheck(e(this._liList[n[d]]).find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0]);else 0==h&&this._uncheckAll();i[s]=this.model.checkedNodes;break;case"expandOn":this._off(this.element,this._isDevice&&e.isFunction(e.fn.tap)?this._touchExpandOn:this.model.expandOn,this._expandEventHandler),this._assignTouchExpandOn(i[s]),this._on(this.element,this._isDevice&&e.isFunction(e.fn.tap)?this._touchExpandOn:i[s],this._expandEventHandler);break;case"allowEditing":this._preventEditable(),i[s]&&this._allowEditable();break;case"allowKeyboardNavigation":this[i[s]?"_on":"_off"](this.element,"keydown",this._KeyPress);break;case"allowDragAndDrop":this.model.allowDragAndDrop=i[s],i[s]?this._addDragableClass():this._preventDraggable();break;case"allowDropChild":this.model.allowDropChild=i[s],i[s]?this._addDragableClass():this._preventDropChild();break;case"allowDropSibling":this.model.allowDropSibling=i[s],i[s]?this._addDragableClass():this._preventDropSibling();break;case"enableRTL":this.model.enableRTL=i[s],(this.element.is("UL")?this.element.parent(".e-treeview-wrap"):this.element)[this.model.enableRTL?"addClass":"removeClass"]("e-rtl");break;case"height":this.element.is("ul")?this.element.parent().height(i[s]):this.element.height(i[s]);break;case"width":this.element.is("ul")?this.element.parent().width(i[s]):this.element.width(i[s]);break;case"selectedNode":case"selectedNodes":this.model.selectedNodes="selectedNode"==s?[i[s]]:i[s],this.element.find("a.e-text.e-active").removeClass("e-node-focus e-active").closest("li").attr("aria-selected",!1),this._doSelectNodes(this.model.selectedNodes,!1),"selectedNode"!=s&&(i[s]=this.model.selectedNodes);break;case"htmlAttributes":this._addAttr(i[s]);break;case"enableMultipleExpand":i[s]||this.collapseAll(),this.model.enableMultipleExpand=i[s];break;case"sortSettings":e.extend(this.model.sortSettings,i[s]),t.isNullOrUndefined(this.model.fields)||null==this.dataSource()||(this.model.expandedNodes=[],this.model.checkedNodes=[],this.model.selectedNodes=[],this._checkDataBinding());break;case"fullRowSelect":this._wholeRowEvents("_off"),this.model.fullRowSelect=i[s],this.model.fullRowSelect?this._addWholeRowWrap():this._removeWholeRowWrap(),this._doWholeRowAction(),this._wholeRowEvents("_on")}},_destroy:function(){this.element.html(""),this._cloneElement.removeClass("e-treeview e-js e-treeview-wrap"),(this.element.is("UL")?this.element.parent(".e-treeview-wrap"):this.element).replaceWith(this._cloneElement),e("#"+this._id+"_WaitingPopup").remove(),window.localStorage?(window.localStorage.removeItem(this._id+"_childNodes"),window.localStorage.removeItem(this._id+"_persistedValues")):window.cookie&&(document.cookie=this._id+"_childNodes=; expires=Thu, 01 Jan 1970 00:00:00 UTC",document.cookie=this._id+"_persistedValues=; expires=Thu, 01 Jan 1970 00:00:00 UTC")},_init:function(){var e,i;this._cloneElement=this.element.clone(),this._dataSource=[],this._fragment=[],this._templateType="",this._indexID=0,this._newDataSource=this.dataSource(),this._id=this.element.prop("id"),this._treeList=[],this._isTextbox=!1,this._isDevice=this._checkDevice(),this._deepWatch=!("true"!==this.element.attr("e-deepwatch")||this.dataSource()instanceof t.DataManager),e=t.browserInfo(),this._isIE8="msie"==e.name&&"8.0"==e.version,this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this.dataSource()))),this._assignTouchExpandOn(this.model.expandOn),this.model.enablePersistence&&(this._getCookies("_persistedValues")||(i={selectedNodes:[],expandedNodes:[],checkedNodes:[]},i=this._updatePersistAttr(i),this._setCookies("_persistedValues",JSON.stringify(i)))),t.isNullOrUndefined(this.model.fields)||null==this.dataSource()?(this._initialize(),this._completeRendering()):this._checkDataBinding()},_initialize:function(){this._cutNode=null,this._beforeEditText=null,this._CurrenctSelectedNodes=[],this._isLoaded=!1,this._renderMultiTouchDialog(),this.element.is("ul")?this._createWrapper():(this.element.addClass("e-treeview-wrap e-widget").attr("tabindex",0).children("ul:first").addClass("e-ul e-box").attr("role","tree"),null!=this.model.width&&this.element.width(this.model.width),null!=this.model.height&&this.element.height(this.model.height),this.model.enableRTL&&this.element.addClass("e-rtl"),null!=this.model.cssClass&&this.element.addClass(this.model.cssClass),this._addAttr(this.model.htmlAttributes)),this._elementSettings(),this._beforeBaseClass(),null==this.dataSource()&&(this._addBaseClass(),this._controlRender()),this._addWholeRowWrap(),this._isIE8&&(this.element.is("UL")?this.element.parent(".e-treeview-wrap").addClass("e-ie8"):this.element.addClass("e-ie8")),this._finalize()},_completeRendering:function(){0!=this._treeList.length||this._isLoaded||(this._finalizeNode(),this._enabledAction(this.model.enabled),this._triggerEvent("ready",{element:this.element[0]}),this._isLoaded=!0)},_addWholeRowWrap:function(){this.model.fullRowSelect&&(this.element.is("UL")?this.element.parent(".e-treeview-wrap").addClass("e-fullrow-wrap"):this.element.addClass("e-fullrow-wrap"))},_removeWholeRowWrap:function(){this.element.is("UL")?this.element.parent(".e-treeview-wrap").removeClass("e-fullrow-wrap"):this.element.removeClass("e-fullrow-wrap")},_doWholeRowAction:function(){var t,i,s,a;if(this.model.fullRowSelect)for(t=0,i=this._liList.length;t<i;t++)null!=(s=e(this._liList[t]))[0]&&(a=s.find("> .e-text-wrap"),this._renderWholeRow(s,a));else this.element.find(".e-fullrow").remove()},_renderWholeRow:function(t,i){if(t&&this.model.fullRowSelect){var s=document.createElement("div");s.setAttribute("class","e-fullrow"),i?e(s).insertAfter(i):t[0].appendChild(s)}},_extendFields:function(t,i){if(null==t||null==i)t=i;else if(null==t.child||null==i.child)e.extend(t,i);else{this._extendFields(t.child,i.child);var s=t.child;e.extend(t,i),e.extend(t.child,s)}},_checkDevice:function(){return t.isDevice()&&t.isTouchDevice()},_assignTouchExpandOn:function(e){this._touchExpandOn="dblclick"==e?"doubletap":"click"==e?"tap":e},_renderMultiTouchDialog:function(){var i,s,a;this._customPop=t.buildTag("div.e-fe-popup","",{display:"none"}),i=t.buildTag("div.e-content"),s=t.buildTag("div.e-downtail e-tail"),this.model.allowMultiSelection&&(a=t.buildTag("span.e-rowselect e-icon"),i.append(a)),this._customPop.append(i),this._customPop.append(s),this.element.is("ul")||this.element.append(this._customPop),this._on(i,this._isDevice&&e.isFunction(e.fn.tap)?"touchstart":"mousedown",this._popupClick)},_popupClick:function(){var e=this._customPop.find(".e-rowselect");e.hasClass("e-spanclicked")?this._hidePopup():(this._isPopup=!0,e.addClass("e-spanclicked"))},_hidePopup:function(){null!=this._customPop&&this._customPop.is(":visible")&&(this._customPop.find(".e-rowselect").removeClass("e-spanclicked"),this._customPop.hide(),this._isPopup=!1)},_elementSettings:function(){var e=this.element.is("UL")?this.element.parent(".e-treeview-wrap"):this.element;this.element.is("ul")&&e.attr("role","tree")},_beforeBaseClass:function(){var t=this.element.is("UL")?this.element.parent(".e-treeview-wrap")[0]:this.element[0];this._ulList=e(t.querySelectorAll("ul")),this._liList=e(t.querySelectorAll("li"))},_createWrapper:function(){var e=this.wrapper=t.buildTag("div.e-treeview-wrap e-widget "+this.model.cssClass,"","",{tabindex:0});null!=this.model.width&&e.width(this.model.width),null!=this.model.height&&e.height(this.model.height),this.model.enableRTL&&e.addClass("e-rtl"),e.insertAfter(this.element),e.append(this.element.addClass("e-ul e-box").attr("tabindex",0)),this.element.is("ul")&&e.append(this._customPop),this._addAttr(this.model.htmlAttributes)},_addAttr:function(t){var i=this;e.map(t,(function(e,t){"class"==t?i.element.addClass(e):"disabled"==t&&"disabled"==e?i._enabledAction(!1):i.element.attr(t,e)}))},_changeSkin:function(e){if(this.model.cssClass!=e){var t=this.element.is("UL")?this.element.parent(".e-treeview-wrap"):this.element;t.removeClass(this.model.cssClass).addClass(e),t.find(".e-item > div > .e-chkbox-wrap").removeClass(this.model.cssClass).addClass(e),this._waitingPopup&&this._waitingPopup.option("cssClass",e)}},_enabledAction:function(e){this.model.enabled=e,e?(this.element.removeClass("e-disable"),this._wireEvents()):(this.element.addClass("e-disable"),this._unWireEvents())},_checkDataBinding:function(){this.dataSource()instanceof t.DataManager?this._initDataSource():(this._ensureDataSource(this.dataSource()),this._initialize(),this._completeRendering())},_initDataSource:function(){this.element.ejWaitingPopup({cssClass:this.model.cssClass}),this._waitingPopup=this.element.ejWaitingPopup("instance"),this._waitingPopup.maindiv.addClass("e-tree-popup");var e,t=this;this.element.ejWaitingPopup("refresh"),this.element.ejWaitingPopup("show"),this.dataSource().ready!=i?this.dataSource().ready.done((function(e){t._initAfterDataSource(e)})):(e=this._columnToSelect(this.model.fields),this.dataSource().executeQuery(e).done((function(e){t._initAfterDataSource(e)})))},_initAfterDataSource:function(e){var i=this;i.element.ejWaitingPopup("hide"),i.retriveData=e.xhr&&e.xhr.responseJSON&&e.xhr.responseJSON.d?e.xhr.responseJSON.d:e.result?e.result:[],i._typeOfFieldId=i.retriveData[0]?(typeof t.getObject(i.model.fields.id,i.retriveData[0])).toLowerCase():"",i._ensureDataSource(i.retriveData),i._newDataSource=JSON.parse(JSON.stringify(i.retriveData)),i._initialize(),i.dataSource().dataSource.offline||!i.model.loadOnDemand&&t.isNullOrUndefined(i.model.fields.child)||(i._templateType=2),(i.model.loadOnDemand||t.isNullOrUndefined(i.model.fields.child))&&i._completeRendering()},_columnToSelect:function(e){var i,s=[],a=t.Query();if(e.query||t.isNullOrUndefined(e.tableName))a=e.query?e.query.clone():a;else{for(i in e)"tableName"!==i&&"child"!==i&&"dataSource"!==i&&e[i]&&s.push(e[i]);s.length>0&&a.select(s),this.dataSource().dataSource.url.match(e.tableName+"$")||t.isNullOrUndefined(e.tableName)||a.from(e.tableName)}return a},_ensureDataSource:function(e){e=this._getSortAndFilterList(this.model.fields,e),this.currentSelectedData=e,this._renderTemplate(e),this.element.is("ul")?this.element.html(this._fragment.firstChild.children):this.element.html(this._fragment)},_getTemplateType:function(e,s){for(var a=0,o=e.length;a<o;a++){if(t.getObject(s.parentId,e[a])!==i||t.getObject(s.hasChild,e[a])!==i)return 1;if(e[a].hasOwnProperty("child"))return 2}return 1},_groupingObjects:function(e,t){for(var i,s={},a=[],o=0,r=e.length;o<r;o++)s[i=JSON.stringify(t(e[o]))]=s[i]||[],s[i].push(e[o]);for(o in s)a.push(s[o]);return a},_renderTemplate:function(e){this._onlineData=!1,this._loadOnDemandNodes=!1;var i=this;this._templateType=this._getTemplateType(e,this.model.fields),this._dataSource=1==this._templateType?this._groupingObjects(e,(function(e){return[!t.isNullOrUndefined(e)&&[t.getObject(i.model.fields.parentId,e)].toString()]})):e,this._templateNodeCreation(e,this.model.fields)},_templateNodeCreation:function(i,s){var a,o,r,l,n;if(this._fragment=document.createDocumentFragment(),a=document.createElement("ul"),this._fragment.appendChild(a),o=this._fragment.firstChild,(this._onlineData||this._loadOnDemandNodes)&&(o.className="e-treeview-ul",o.setAttribute("role","group"),e(o).attr("style","display:none")),null!=this.dataSource()){for(r=0,l=i.length;r<l;r++)i[r]&&(n=t.getObject(this.model.fields.parentId,i[r]),(t.isNullOrUndefined(n)||0==n||this._loadOnDemandNodes)&&o.appendChild(this._genTemplate(i[r],s)));e(o).find(".e-item:first-child:not(:last-child)").addClass("first"),e(o).find(".e-item:last-child").addClass("last")}},_onlineDataSource:function(t,i,s){this._loadOnDemandNodes=!0,this._templateNodeCreation(t,s);var a=this.element.find(".e-item#"+i);null!=a[0]&&(e(a[0]).append(this._fragment),a.children().find("> div:first").addClass("e-icon e-plus"),this._finalizeLoadOnDemand(a)),this._onlineData=!1},_genTemplate:function(i,s){var a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C=document.createDocumentFragment();if(o=document.createElement("li"),C.appendChild(o),(a=C.firstChild).id=t.getObject(s.id,i),a.id&&"undefined"!=a.id||(a.id=""),a.setAttribute("role","treeitem"),(d=t.getObject(s.htmlAttribute,i))&&this._setAttributes(d,a),a.className+=" e-item",l=document.createElement("a"),h=t.getObject(s.imageUrl,i),c=t.getObject(s.spriteCssClass,i),h?((r=document.createElement("img")).className="e-align",r.src=h,(u=t.getObject(s.imageAttribute,i))&&this._setAttributes(u,r)):c&&((r=document.createElement("span")).className=c),this.model.template){if(r&&l.appendChild(r),"function"!=typeof e.fn.render)throw"Error : JsRender dependecy script missing";l.innerHTML+=this._renderEjTemplate(this.model.template,i)}else(p=t.getObject(s.text,i))?e(l).text(p):e(l).text("undefined"),r&&l.insertBefore(r,l.lastChild);if((m=t.getObject(s.linkAttribute,i))&&("object"==typeof m?this._setAttributes(m,l):l.href=m),a.appendChild(l),t.getObject(s.expanded,i)&&(a.className+=" expanded"),t.getObject(s.selected,i)&&(a.className+=" selected"),g=t.getObject(s.isChecked,i),t.isNullOrUndefined(g)||(a.className+=g?" checked":" unchecked"),a.setAttribute("aria-selected",!1),a.setAttribute("aria-expanded",!1),this.dataSource()instanceof t.DataManager)this._updateElement(a,!0),this.model.showCheckbox&&this._checkboxOnTemplate(a.children[0]),this.model.loadOnDemand?(t.getObject(s.hasChild,i)||i.hasOwnProperty("child"))&&(a.children[0].firstChild.className="e-icon e-plus"):!t.isNullOrUndefined(s.child)&&s.child.dataSource instanceof t.DataManager?(_=this,f=s.child.parentId?s.child.parentId:_.model.fields.parentId,b=s.id?s.id:this.model.fields.id,this._treeList.push("false"),v=t.getObject(b,i),this._executeDataQuery(s.child,f,"number"==this._typeOfFieldId?parseInt(v):v).done((function(e){if(_._treeList.pop(),n=e.xhr&&e.xhr.responseJSON&&e.xhr.responseJSON.d?e.xhr.responseJSON.d:e.result?e.result:[],(n=_._getSortAndFilterList(s.child,n))&&n.length>0){_._onlineData=!0;var t=n[0][s.child.parentId];_._updateRemoteData(_._newDataSource,t,n,_.model.fields),_._onlineDataSource(n,t,s.child)}0==_._treeList.length&&_._completeRendering()}))):t.isNullOrUndefined(this.model.fields.child)&&this._childNodeCreation(i,a,s);else if(this.model.loadOnDemand){if(this._updateElement(a,!0),(t.getObject(s.hasChild,i)||i.hasOwnProperty("child"))&&(a.children[0].firstChild.className="e-icon e-plus"),this.model.showCheckbox&&this._checkboxOnTemplate(a.children[0]),t.getObject(s.expanded,i)&&this._childNodeCreation(i,a,s),this.model.enablePersistence&&(x=this._getCookies("_childNodes")))for(w=0,S=(y=JSON.parse(x)).length;w<S;w++)if(y[w].toString()==t.getObject(s.id,i).toString()){this._childNodeCreation(i,a,s);break}}else this._onlineData||(this._updateElement(a,!0),this.model.showCheckbox&&this._checkboxOnTemplate(a.children[0]),this._childNodeCreation(i,a,s));return a},_childNodeCreation:function(i,s,a){var o,r,l,n,d,h;if(o=2==this._templateType?!t.isNullOrUndefined(i.child)&&i.child.length>0&&i.child:this._getChildNodes(this._dataSource,{id:t.getObject(a.id,i)}),!t.isNullOrUndefined(o)&&o.length>0){for(s.children[0].firstChild.className="e-icon e-plus",r=document.createDocumentFragment(),l=document.createElement("ul"),r.appendChild(l),(n=r.firstChild).className="e-treeview-ul",n.setAttribute("role","group"),e(n).attr("style","display:none"),d=0,h=o.length;d<h;d++)o[d]&&0!=t.getObject(this.model.fields.parentId,[o[d]])&&n.appendChild(this._genTemplate(o[d],a));s.appendChild(l)}},_checkboxOnTemplate:function(e){""==e.parentElement.id&&(e.parentElement.id=this._id+"_"+this._indexID,this._indexID++);var t=document.createElement("input");t.setAttribute("type","checkbox"),t.setAttribute("class","nodecheckbox"),t.setAttribute("name",this._id+"_Checkbox_"+e.parentElement.id),t.setAttribute("value",e.parentElement.id),e.insertBefore(t,e.children[1])},_updateElement:function(t,s){var a,o,r,l,n,d,h,c,u=t.firstChild;u&&("SPAN"==(n=u.nodeName)||"IMG"==n?(l=u,r=t.lastChild):r=t.lastChild,r&&(h=null!=r.lastChild?r.lastChild.nodeValue:"",d=e.trim(r.innerHTML),c=e(r).clone()[0],e(r).remove(),c.className+=" e-text CanSelect",c.innerHTML=d,t.innerHTML=""),(a=document.createElement("div")).setAttribute("class","e-text-wrap"),a.setAttribute("role","presentation"),s&&((o=document.createElement("div")).setAttribute("role","presentation"),a.appendChild(o)),l&&a.appendChild(l),a.appendChild(c),e(t).prop("name")==i&&e(t).prop("name",e.trim(h)),t.appendChild(a),this._renderWholeRow(e(t)))},_setAttributes:function(t,i){for(var s in t)e(i).attr(s,t[s])},_addDragableClass:function(){this.model.allowDragAndDrop&&(this._anchors=this._liList.map((function(){return e("a.e-text",this)[0]})),this._anchors.addClass("e-draggable e-droppable"),this._enableDragDrop(),this._on(this.element,"mouseup touchstart pointerdown MSPointerDown",this._anchors,this._focusElement),this._on(this.element,"focusout",this._anchors,this._blurElement))},_addBaseClass:function(){this._ulList.addClass("e-treeview-ul").attr("role","group"),this._liList.addClass("e-item").attr("role","treeitem"),this.element.is("ul")||this.element.find("ul:first").removeClass("e-treeview-ul").addClass("e-ul")},_controlRender:function(){var s,a,o,r,l,n,d,h,c,u,p,m=this.element;if(null!=m){for(s=m.find(".e-item"),a=0;a<s.length;a++)(d=(o=e(s[a])).children("ul.e-treeview-ul")[0])&&e(o.children("ul.e-treeview-ul")[0]).remove(),(h=o.children("a")[0])?(n=e.trim(e(h).text()),r=e(h).clone(),e(h).remove(),l=o.clone(),e(r).prepend(l.children()),e(r).addClass("e-text CanSelect"),o.html("")):(n=e.trim(this._getText(o)),l=o.clone(),o.html(""),(r=t.buildTag("a.e-text CanSelect","","","")).append(l.children()),r[0].innerHTML+=n),c=t.buildTag("div","",{},{role:"presentation"}),u=t.buildTag("div.e-text-wrap","",{},{role:"presentation"}),e(u).append(c).append(r),o.prepend(u),this._renderWholeRow(o),d&&o.append(d),o.prop("name")==i&&o.prop("name",n),this.model.showCheckbox&&this._checkboxOnTemplate(s[a].children[0]);this.model.showCheckbox&&m.find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange})}(p=m.find(".e-item")).find(">ul").hide(),p.find(".e-text"),p.filter(".e-item:last-child").addClass("last"),e(p[0]).addClass("first"),e(p[0]).hasClass("first")&&e(p[0]).hasClass("last")&&e(p[0]).removeClass("first"),e(p.filter(":has(ul)")).each((function(){e(this).attr("aria-expanded",!1).attr("aria-selected",!1);var t=e(this).children("ul:first");e(t).is(":hidden")?e(this).find("> div > div:first").removeClass("e-icon e-minus").addClass("e-icon e-plus"):e(this.childNodes[1]).removeClass("e-icon e-plus").addClass("e-icon e-minus")}))},_getText:function(t){return e(t).clone().children().remove().end().text()},_expandNodes:function(i,s){for(var a=i.length,o=[],r=0;r<a;r++)o=s?this._getNodeByID(i[r]):e(this._liList[i[r]]),t.isNullOrUndefined(o)||!this.model.enableMultipleExpand&&o.siblings().find(">div>.e-minus").closest(".e-item").length>0||this.isExpanded(o)||(!this.model.loadOnDemand||this.dataSource()instanceof t.DataManager?this._expandNode(o):this._createChildNodesWhenExpand(o))},_checkedNodes:function(t){var i,s,a;for(t.length>0&&this._removeField(this._newDataSource,this.model.fields,"isChecked"),s=0,a=t.length;s<a;s++)null!=(i=e(this._liList[t[s]]))[0]&&this._nodeCheck(i.find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0])},_finalize:function(){this.model.showCheckbox&&this.element.find(".e-item > div .nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange}),this.model.allowEditing&&this._allowEditable()},_finalizeNode:function(){var i,s,a,o,r;this._isRender=!1,this._allowOnDemand=!0;var l,n,d=this.element,h=this._getCookies("_persistedValues"),c=[],u=[];if(!(this.model.expandedNodes instanceof Array&&this.model.expandedNodes.length>0))for(a=(l=d.find("li.expanded")).length,s=0;s<a;s++)i=e(l[s]),!this.model.enableMultipleExpand&&i.siblings().find(">div>.e-minus").closest(".e-item").length>0||this._expandNode(i);if(h&&(c=JSON.parse(h).expandedNodes,u=[]),c&&c.length>0&&!t.isNullOrUndefined(this.model.fields)&&null!=this.dataSource()){for(s=0,a=c.length;s<a;s++)if(null!=(u=this.element.find(".e-item#"+c[s]))[0]){if(!this.model.enableMultipleExpand&&u.siblings().find(">div>.e-minus").closest(".e-item").length>0)continue;!this.model.loadOnDemand||this.dataSource()instanceof t.DataManager?this._expandNode(u):this._createChildNodesWhenExpand(u)}}else n=JSON.parse(JSON.stringify(this.model.expandedNodes)),this._expandNodes(n);if(this.model.showCheckbox)if(h&&(c=JSON.parse(h).checkedNodes,u=[]),c&&c.length>0&&!t.isNullOrUndefined(this.model.fields)&&null!=this.dataSource())for(this._removeField(this._newDataSource,this.model.fields,"isChecked"),s=0,a=c.length;s<a;s++)null!=(u=this.element.find(".e-item#"+c[s]))[0]&&this._nodeCheck(u.find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0]);else n=JSON.parse(JSON.stringify(this.model.checkedNodes)),this._checkedNodes(n);this.model.checkedNodes instanceof Array&&this.model.checkedNodes.length>0||this.model.showCheckbox&&this._isCheckedAction(),o=!1,h&&(c=JSON.parse(h).selectedNodes,o=!0),(!h||c&&0==c.length)&&(c=this.model.selectedNodes.length>0?this.model.selectedNodes:-1==this.model.selectedNode?[]:[this.model.selectedNode],o=!1),r={ctrlKey:!0},c&&c.length>0?this._doSelectNodes(c,o):this._isSelectedAction(r),this._isRender=!0,this._allowOnDemand=!1,d.find(".e-item.checked, .e-item.expanded, .e-item.selected").removeClass("checked expanded selected")},_doSelectNodes:function(t,i){for(var s,a={ctrlKey:!0},o=0,r=t.length;o<r&&(null!=(s=i?this._getNodeByID(t[o]):e(this._liList[t[o]]))[0]&&this._nodeSelectionAction(s,a),this.model.allowMultiSelection);o++);},_doUnselectNodes:function(e){for(var t,i=0,s=e.length;i<s&&(null!=(t=this._getNodeByID(e[i]))[0]&&this._nodeUnSelectionAction(t),this.model.allowMultiSelection);i++);},_updateSelectedNode:function(){var t,s,a,o=e(this._liList).find(".e-text.e-active").closest(".e-item");if(this.model.selectedNodes=[],this.model.allowMultiSelection||(this.model.selectedNode=null),o[0]==i||o.length<=0)this._persistValues(this.model.selectedNodes,"selectedNodes");else if(this.model.allowMultiSelection){for(t=0,s=o.length;t<s;t++)a=e(this._liList).index(o[t]),this.model.selectedNodes.push(a);this._persistValues(this.model.selectedNodes,"selectedNodes")}else this._isRender=!1,this._nodeSelectionAction(e(o[0])),this._isRender=!0},_setCookies:function(e,i){window.localStorage?window.localStorage.setItem(this._id+e,i):document.cookie&&t.cookie.set(this._id+e,i)},_getCookies:function(e){return window.localStorage?window.localStorage.getItem(this._id+e):window.cookie?t.cookie.get(this._id+e):void 0},_updateCheckedNodes:function(){for(var t=[],i=this.element.find(".e-item > div > .e-chkbox-wrap > .nodecheckbox.checked").closest(".e-item"),s=0;s<i.length;s++)t.push(e(this._liList).index(i[s]));(t.length>0||0==i.length)&&(this.model.checkedNodes=t),0==i.length&&this.model.checkedNodes.push(-1),this._persistValues(this.model.checkedNodes,"checkedNodes")},_updateExpandedNodes:function(){var t,i,s,a=[];for(i=0,s=(t=this.element.find(".e-item > div > .e-minus").closest(".e-item").addClass("e-collapse")).length;i<s;i++)a.push(e(this._liList).index(t[i]));(a.length>0||0==t.length)&&(this.model.expandedNodes=a),0==t.length&&this.model.expandedNodes.push(-1),this._persistValues(this.model.expandedNodes,"expandedNodes")},_isCheckedAction:function(){for(var t,i,s,a=this.element.find(".e-item.checked"),o=0;o<a.length;o++)if(t=e(a[o]).find(".e-item"),i=e(a[o]).find(".e-item.unchecked"),0==t.length||!(t.length>0&&i.length==t.length)||!this.model.autoCheck)for(this._nodeCheck(e(a[o]).find("> div > .e-chkbox-wrap > input.nodecheckbox:first")[0]),s=0;s<i.length;s++)this._nodeUncheck(e(i[s]).find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0]);this.element.find(".e-item.checked, .e-item.unchecked").removeClass("checked unchecked")},_isExpandedAction:function(){for(var t,i=this.element.find("li.expanded"),s=i.length,a=0;a<s;a++)t=e(i[a]),!this.model.enableMultipleExpand&&t.siblings().find(" > div > .e-minus").closest(".e-item").length>0||this._expandNode(t);this.element.find(".e-item.expanded").removeClass("expanded")},_isSelectedAction:function(t){for(var i=this.element.find(".e-item.selected"),s=0,a=i.length;s<a&&(null!=i[s]&&this._nodeSelectionAction(e(i[s]),t),this.model.allowMultiSelection);s++);this.element.find(".e-item.selected").removeClass("selected")},_checkedChange:function(t){t.isInteraction&&this.element.closest(".e-treeview.e-js").data("ejTreeView")[t.isChecked?"_nodeCheck":"_nodeUncheck"](e(this.element)[0],t)},_doClickAnimation:function(t){var s=e(t.target);s!=i&&t.type!=i&&(s.addClass("e-animate"),s.is("A")&&s.hasClass("e-text")&&s.closest(".e-text-wrap").addClass("e-animate"))},_ClickEventHandler:function(i){var s,a,o,r,l,n,d,h,c=e(i.target),u=c.closest(".e-item").find("> div > div:first");if(this._isPopup=!1,u&&!u.hasClass("e-process")&&!(s=c.closest(".e-item")).hasClass("e-node-disable")){if(this.element.find(".e-animate").removeClass("e-animate"),this._doClickAnimation(i),a=null!=s[0]?s[0].getAttribute("id"):"",this._triggerEvent("nodeClick",{event:i,currentElement:c[0],id:a,parentId:s.closest("ul").closest(".e-item").attr("id")}),!t.isNullOrUndefined(c)&&c.is("DIV"))if(c.hasClass("e-plus")||c.hasClass("e-minus"))if(c.is("SPAN")&&(c=c.parent("div").find("div:first")),s.children("ul:first"),!(l=this.isChildLoaded(s))&&this.model.loadOnDemand){if(c.removeClass("e-plus").addClass("e-load"),this._checkboxChecked=c.parent().find(".nodecheckbox").hasClass("checked"),r=this._getNodeDetails(s),o={currentElement:s,targetElement:c[0],id:r.id,value:r.text,parentId:r.parentId,isChildLoaded:l,hasParent:!0,async:!0},this._isEventTriggered=!0,this._triggerEvent("beforeExpand",o))return!1;this._loadOnDemand(o,c[0])}else c.hasClass("e-plus")?this._expandNode(s):this._collapseNode(s);else this.model.fullRowSelect&&(c.hasClass("e-fullrow")||c.hasClass("e-text-wrap"))&&(c=c.closest(".e-item").find("> .e-text-wrap .e-text"));c.is("A")||c.hasClass("input-text")||(c=c.closest(".e-text")),!t.isNullOrUndefined(c)&&c.is("A")&&c.hasClass("CanSelect")&&(i&&"touch"==i.pointerType&&null!=this._customPop&&this.model.allowMultiSelection?(n=e(i.target),this._customPop.is(":visible")||this._customPop.show(),this._customPop.is(":visible")&&!this._customPop.find(".e-rowselect").hasClass("e-spanclicked")?(d=n.offset(),this._customPop.offset({left:d.left,top:d.top-40})):i.ctrlKey=!0):this._hidePopup(),c.hasClass("e-active")?this.model.allowMultiSelection&&this._nodeUnSelectionAction(c.closest(".e-item"),i):this._nodeSelectionAction(c.closest(".e-item"),i))}h=["INPUT","BUTTON","TEXTAREA","SELECT"],i.target&&h.indexOf(i.target.tagName)<0&&this.element.focus()},_getChildTables:function(e,i,s){if(!t.isNullOrUndefined(e.child))return i==s?e.child:this._getChildTables(e.child,i,s+1)},_loadOnDemand:function(i){var s,a,o,r=this;if(this.dataSource()instanceof t.DataManager){if(a=i.currentElement.parents("ul.e-treeview-ul").length,o=this._getChildTables(r.model.fields,a,1),t.isNullOrUndefined(o)&&t.isNullOrUndefined(this.model.fields.child)&&(o=this.model.fields),!o)return void(e(i.targetElement).hasClass("e-load")&&e(i.targetElement).removeClass(e(i.targetElement).hasClass("e-plus")||e(i.targetElement).hasClass("e-minus")?"e-load":"e-icon e-load"));this._executeDataQuery(o,o.parentId,"number"==this._typeOfFieldId?parseInt(i.currentElement[0].id):i.currentElement[0].id).done((function(a){if(s=a.xhr&&a.xhr.responseJSON&&a.xhr.responseJSON.d?a.xhr.responseJSON.d:a.result?a.result:[],(s=r._getSortAndFilterList(o,s)).length>0){r._onlineData=!0;var l=t.getObject(o.parentId,s[0]);r._updateRemoteData(r._newDataSource,l,s,r.model.fields),r._loadChildNodeWhenOnDemand(s,i,o)}else e(i.targetElement).hasClass("e-load")&&e(i.targetElement).removeClass(e(i.targetElement).hasClass("e-plus")||e(i.targetElement).hasClass("e-minus")?"e-load":"e-icon e-load")}))}else s=this._getChildNodes(this._dataSource,i),!t.isNullOrUndefined(s)&&s.length>0?setTimeout((function(){r._createSubNodesWhenLoadOnDemand(s,i.targetElement,r.model.fields)}),400):e(i.targetElement).hasClass("e-load")&&e(i.targetElement).removeClass(e(i.targetElement).hasClass("e-plus")||e(i.targetElement).hasClass("e-minus")?"e-load":"e-icon e-load")},_loadChildNodeWhenOnDemand:function(e,i,s){var a=this;!t.isNullOrUndefined(e)&&e.length>0&&setTimeout((function(){a._createSubNodesWhenLoadOnDemand(e,i.targetElement,s)}),100)},_createSubNodesWhenLoadOnDemand:function(t,i,s){this._loadOnDemandNodes=!0,this._templateNodeCreation(t,s),e(this._fragment.firstChild).attr("style","display:none"),this._fragment.firstChild.className="e-treeview-ul",this._fragment.firstChild.setAttribute("role","group"),i.parentNode.parentNode.appendChild(this._fragment);var a=e(i).closest(".e-item");a.attr(r({"aria-expanded":!1},"aria-expanded",!0)),e(i).removeClass("e-load").addClass("e-plus"),this._expandNode(a),this._finalizeLoadOnDemand(a)},_finalizeLoadOnDemand:function(e){var i,s,a,o;this._beforeBaseClass(),this._isRender=!1,this.model.showCheckbox&&(e.children("ul").find("li > div > input.nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange}),i=e.children("ul").find(".e-item"),(s=e.children("ul").find(".e-item.unchecked")).length>=0&&s.length!=i.length&&this._checkboxChecked&&this.model.autoCheck?i.not(".unchecked").addClass("checked"):s.length==i.length&&this.isNodeChecked(e)&&this._nodeUncheck(e.find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0]),this._isLoaded&&(this._isCheckedAction(),this._updateCheckedNodes())),this._isRender=!0,this._addDragableClass(),this._preventEditable(),this.model.allowEditing&&this._allowEditable(),this._isLoaded&&(this._isSelectedAction(),this._updateSelectedNode(),this._allowOnDemand=!0,this._isExpandedAction(),this._updateExpandedNodes(),this._allowOnDemand=!1),!this.model.loadOnDemand||!this.model.enablePersistence||this.dataSource()instanceof t.DataManager||((o=this._getCookies("_childNodes"))&&(a=JSON.parse(o)),t.isNullOrUndefined(a)||-1!=a.indexOf(e[0].id)?a=[e[0].id]:a.push(e[0].id),this._setCookies("_childNodes",JSON.stringify(a)))},_getChildNodes:function(e,i){var s,a,o,r=[];if(1!=this._templateType){for(a=0,o=e.length;a<o;a++){if(t.getObject(this.model.fields.id,e[a])==i.id&&0!=t.getObject(this.model.fields.parentId,e[a]))return e[a].child;if(e[a].hasOwnProperty("child")&&(r=this._getChildNodes(e[a].child,i),!t.isNullOrUndefined(r)&&r.length>0))break}return r}for(a=0,o=e.length;a<o;a++)if(s=t.getObject(this.model.fields.parentId,e[a][0]),!t.isNullOrUndefined(e[a][0])&&!t.isNullOrUndefined(s)&&0!=s&&s==i.id)return e[a]},_getPath:function(e){for(var t=e.prop("name"),i=e.parents(".e-item:first");null!=i[0]&&i[0].parentNode.id!=this._id;)t=i.prop("name")+"/"+t,i=i.parents(".e-item:first");return this._id+"/"+t},_nodeSelectionAction:function(t,i){var s,a,o,r,l;if(null!=t[0]||0!=t.length){var n=e(t.find("> div > .e-text")[0]),d=!1,h=(this.model.selectedNodes.slice(),this._liList.index(t[0]));if(this._currNode=t,!this._triggerEvent("beforeSelect",{target:t,nodeDetails:this._getNodeDetails(t)})){if(this.model.allowMultiSelection&&i&&(!i||i.ctrlKey)||(this.element.find("a.e-text.e-active").removeClass("e-node-focus e-active"),this.element.find("[aria-selected=true]").attr("aria-selected",!1),this.element.find(".e-li-active").removeClass("e-li-active"),this.model.fullRowSelect&&(this.element.find(".e-li-focus").removeClass("e-li-focus"),this.element.find(".e-node-focus").removeClass("e-node-focus")),this.element.find("#"+this._id+"_active").removeAttr("id"),this.model.selectedNodes=[],this._deepWatch&&this._removeField(this._newDataSource,this.model.fields,"selected")),this.model.allowMultiSelection&&i&&i.shiftKey){this._startNode||(this._startNode=this._currNode);var c=this.getVisibleNodes(),u=c.index(this._startNode),p=c.index(t[0]);for(u>p&&(s=u,u=p,p=s),a=u;a<=p;a++)o=e(c.get(a)),r=this._liList.index(o[0]),-1==e.inArray(r,this.model.selectedNodes)&&(this.model.selectedNodes.push(r),(l=o.find("> div > a.e-text")).removeClass("e-node-focus"),o.attr("aria-selected",!0),o.addClass("e-li-active"),l.addClass("e-active"),d=!0,this._deepWatch&&this._updateField(this._newDataSource,o.attr("id"),this.model.fields,"selected",!0))}else this._startNode=t;this.model.allowMultiSelection||(this.model.selectedNode=h),d||(this.element.find("a.e-text.e-node-focus").removeClass("e-node-focus"),t.attr("aria-selected",!0),t.addClass("e-li-active"),n.addClass("e-active"),this.model.allowMultiSelection||(null!=n.closest(".e-item")[0].id&&""!=n.closest(".e-item")[0].id?this.element.attr("aria-activedescendant",n.closest(".e-item")[0].id):n.closest(".e-item").attr("id",this._id+"_active")),-1==e.inArray(h,this.model.selectedNodes)&&this.model.selectedNodes.push(h),this._deepWatch&&this._updateField(this._newDataSource,t.attr("id"),this.model.fields,"selected",!0)),this.model.enablePersistence&&this._persistValues(this.model.selectedNodes,"selectedNodes"),this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)),this._triggerGivenEvent("nodeSelect",t)}}},_nodeUnSelectionAction:function(e,t){this.model.allowMultiSelection&&t&&!t.ctrlKey?this._nodeSelectionAction(e,t):(e.removeClass("e-li-active"),e.attr("aria-selected",!1).find("> div > .e-text").removeClass("e-active").attr("id",""),this._updateUnselectModel(e[0]),this._deepWatch&&(this._updateField(this._newDataSource,e.attr("id"),this.model.fields,"selected",!1),this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)),this._triggerGivenEvent("nodeUnselect",e))},_updateUnselectModel:function(t){var i,s=this._liList.index(t),a=this.model.selectedNodes;this.model.allowMultiSelection||(this.model.selectedNode=null),(i=e.inArray(s,a))>-1&&this.model.selectedNodes.splice(i,1),this._persistValues(this.model.selectedNodes,"selectedNodes")},_triggerGivenEvent:function(e,t){if(this._isRender){var i={currentElement:t,value:t.find("> div > a.e-text").eq(0).text(),id:t[0].getAttribute("id"),parentId:t.closest("ul").closest(".e-item").attr("id"),selectedNodes:this.model.selectedNodes};this._triggerEvent(e,i)}},_getNodesIndex:function(e){for(var t=[],i=0,s=e.length;i<s;i++)t.push(this._liList.index(e[i]));return t},_nodeEnableAction:function(e){var t=this.getParent(e);null!=t[0]&&t.hasClass("e-node-disable")||(this.model.showCheckbox&&e.find("div > .e-chkbox-wrap > .nodecheckbox").ejCheckBox("enable").prop("disabled",!1),e.find(".e-text").removeClass("e-node-disable").closest(".e-item").removeClass("e-node-disable").removeProp("disabled"))},_nodeDisableAction:function(e){var t,i,s;for(this._collapseNode(e),this.model.showCheckbox&&e.find("div > .e-chkbox-wrap > .nodecheckbox").ejCheckBox("disable").prop("disabled",!0),t=e.find(".e-text.e-active").closest(".e-item"),e.find(".e-text").addClass("e-node-disable").removeClass("e-active").attr("id","").closest(".e-item").addClass("e-node-disable").prop("disabled",!0),i=0,s=t.length;i<s;i++)this._updateUnselectModel(t[i])},_getNodeDetails:function(e){var t,i,s;return null!=e[0]&&e.is("LI")&&e.hasClass("e-item")?(t=e[0].getAttribute("id"),i=e.children("div").find(".e-text:first").text(),null!=this.model.template&&(s=this._getNodeObject(t,!0)).length>0&&(i=s[0]),{id:t,text:i,parentId:e.closest("ul").closest(".e-item").attr("id")||"",level:e.parentsUntil(".e-treeview-wrap","ul").length,count:e.find(".e-item").length,expanded:this._isNodeExpanded(e),checked:this._isChecked(e),selected:e.find("> div > .e-text").hasClass("e-active"),index:this._liList.index(e)}):{id:"",text:"",parentId:"",level:"",count:"",expanded:"",checked:"",selected:"",index:""}},_denyMultipleExpand:function(t){for(var i=t.siblings().find(">div>.e-minus").closest(".e-item"),s=0,a=i.length;s<a;s++)this._collapseNode(e(i[s]))},_expandCollapseAction:function(t){var i,s,a,o,r;if(t&&!t.hasClass("e-process")&&(s=t.closest(".e-item"),t.is("SPAN")&&(t=e(t).parent("div").find("div:first")),(i=s.children("ul:first")).find("> .e-item").length>0)){if(this.model.enableAnimation&&t.addClass("e-process"),a=e(t).closest(".e-treeview.e-js").data("ejTreeView")._getNodeDetails(s),r=this.isChildLoaded(s),o={currentElement:s,value:a.text,isChildLoaded:r,id:a.id,parentId:a.parentId,async:!1},!this._isNodeExpanded(s)&&r){if(!this._isEventTriggered&&this._triggerEvent("beforeExpand",o))return!1;this._isEventTriggered=!1,s.attr("aria-expanded",!0),this._addExpandedNodes(this._liList.index(s)),e(t).removeClass("e-icon e-plus").addClass("e-icon e-minus"),s.addClass("e-collapse"),this._deepWatch&&this._updateField(this._newDataSource,a.id,this.model.fields,"expanded",!0),this._doAnimation(i,t,"nodeExpand",o,350)}else{if(this.element.find(".e-material-animate").removeClass("e-material-animate"),s.attr("aria-expanded",!1),!0===this._triggerEvent("beforeCollapse",o))return!1;this._removeExpandedNodes(this._liList.index(o.currentElement)),e(t).removeClass("e-icon e-minus").addClass("e-icon e-plus"),s.removeClass("e-collapse"),this._deepWatch&&this._updateField(this._newDataSource,a.id,this.model.fields,"expanded",!1),this._doAnimation(i,t,"nodeCollapse",o,200)}this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource))}},_doAnimation:function(e,i,s,a,o){var r=this;this.model.enableAnimation?e.animate({height:"toggle"},o,"linear",(function(){t.isNullOrUndefined(r.model)||r._doAnimateAction(i,s,a)})):(e.css("display",200==o?"none":"block"),this._doAnimateAction(i,s,a))},_doAnimateAction:function(e,t,i){e.removeClass("e-process"),this._triggerEvent(t,i)},_isChecked:function(e){return"true"===e.find("> div > .e-chkbox-wrap:first").attr("aria-checked")},_doRecursiveCheck:function(t,i){var s,a,o,r,l,n;s=(r=this._getChildUl(t))?r.querySelectorAll('.e-chkbox-wrap[aria-checked="true"]').length:0,l=r?r.querySelectorAll(".e-item > div > .e-chkbox-wrap > .nodecheckbox"):[],(a=t.firstChild.querySelector(".nodecheckbox"))&&"INPUT"==a.nodeName.toUpperCase()&&(n=e(a).data("ejCheckBox"),s==l.length||this.model.autoCheckParentNode?(n.setModel({enableTriState:!1,checked:!0}),a.className+=" checked",o=t.firstChild.getElementsByTagName("a")[0].innerHTML,i.push({id:t.id,text:o}),this._deepWatch&&!this.model.autoCheckParentNode&&this._updateField(this._newDataSource,t.id,this.model.fields,"isChecked",!0),this._addHiddenInputElement(a,o),this._addCheckNodes(this._liList.index(t))):n.setModel({enableTriState:!0,checkState:"indeterminate"}),"LI"==(t=t.parentNode.parentNode).nodeName.toUpperCase()&&this._doRecursiveCheck(t,i))},_nodeCheck:function(t,i){var s,a,o,r,l,n,d,h,c;if(null!=e(t)[0]){if(this._CurrenctSelectedNodes=[],this._checkedArray=[],t.className+=" checked",s=e(t).data("ejCheckBox")){if(s.setModel({enableTriState:!1,checked:!0}),o=(a=t.parentNode.parentNode.parentNode).firstChild.getElementsByTagName("a")[0].lastChild.nodeValue,this._checkedArray.push({id:a.id,text:o}),this._deepWatch&&this._updateField(this._newDataSource,a.id,this.model.fields,"isChecked",!0),this._addHiddenInputElement(t,o),this._addCheckNodes(this._liList.index(a)),this.model.autoCheck){for(h=0,c=(l=(d=this._getChildUl(a))?d.querySelectorAll(".e-item > div > .e-chkbox-wrap > .nodecheckbox"):[]).length;h<c;h++)e(l[h]).ejCheckBox({checked:!0,enableTriState:!1})[0].className+=" checked",o=(n=l[h].parentNode.parentNode.parentNode).firstChild.getElementsByTagName("a")[0].lastChild.nodeValue,this._checkedArray.push({id:n.id,text:o}),this._deepWatch&&this._updateField(this._newDataSource,n.id,this.model.fields,"isChecked",!0),this._addHiddenInputElement(l[h],o),this._addCheckNodes(this._liList.index(n));"LI"==(r=a.parentNode.parentNode).nodeName.toUpperCase()&&this._doRecursiveCheck(r,this._checkedArray)}i&&(i.checknode=this._checkedArray),this._onChecked(e(t),i)}this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)),this._persistValues(this.model.checkedNodes,"checkedNodes")}},_addHiddenInputElement:function(e,t){if(null==e.firstChild){var i=document.createElement("input");i.setAttribute("type","hidden"),i.setAttribute("name",this._id+"_Checkbox_"+e.value+"_Text"),i.setAttribute("value",t);try{e.appendChild(i)}catch(s){}}},_doRecursiveUncheck:function(t,i){var s,a,o,r,l,n;s=(r=this._getChildUl(t))?r.querySelectorAll('.e-chkbox-wrap[aria-checked="true"]').length:0,l=r?r.querySelectorAll(".e-item > div > .e-chkbox-wrap > .nodecheckbox"):[],(a=t.firstChild.querySelector(".nodecheckbox"))&&"INPUT"==a.nodeName.toUpperCase()&&(n=e(a).data("ejCheckBox"),s<=0&&(n.setModel({enableTriState:!1,checked:!1}),e(a).removeClass("checked").removeClass("checked").children().remove(),o=t.firstChild.getElementsByTagName("a")[0].innerHTML,this._removeCheckNodes(this._liList.index(t)),i.push({id:t.id,text:o}),this._deepWatch&&this._updateField(this._newDataSource,t.id,this.model.fields,"isChecked",!1)),s>0&&this.model.autoCheckParentNode?(n.setModel({checked:!0}),a.className+=" checked",o=t.firstChild.getElementsByTagName("a")[0].innerHTML,this._addHiddenInputElement(t,o),this._deepWatch&&this._updateField(this._newDataSource,t.id,this.model.fields,"isChecked",!1)):s>0&&!this.model.autoCheckParentNode&&(l.length>1?n.setModel({enableTriState:!0,checkState:"indeterminate"}):n.setModel({checked:!1}),e(a).removeClass("checked").removeClass("checked").children().remove(),this._removeCheckNodes(this._liList.index(t)),this._deepWatch&&this._updateField(this._newDataSource,t.id,this.model.fields,"isChecked",!1)),"LI"==(t=t.parentNode.parentNode).nodeName.toUpperCase()&&this._doRecursiveUncheck(t,i))},_nodeUncheck:function(t,i){var s,a,o,r,l,n,d,h,c;if(null!=e(t)[0]){if(this._uncheckedArray=[],s=t.parentNode.parentNode.parentNode,e(s).find("div > .e-chkbox-wrap > .nodecheckbox").removeClass("checked").children().remove(),a=e(t).data("ejCheckBox"),this._removeCheckNodes(this._liList.index(s)),a){if(a.setModel({enableTriState:!1,checked:!1}),o=s.firstChild.getElementsByTagName("a")[0].lastChild.nodeValue,this._uncheckedArray.push({id:s.id,text:o}),this._deepWatch&&this._updateField(this._newDataSource,s.id,this.model.fields,"isChecked",!1),this.model.autoCheck){for(n=0,d=(l=(r=this._getChildUl(s))?r.querySelectorAll(".e-item > div > .e-chkbox-wrap > .nodecheckbox"):[]).length;n<d;n++)e(l[n]).ejCheckBox({enableTriState:!1,checked:!1}),o=(h=l[n].parentNode.parentNode.parentNode).firstChild.getElementsByTagName("a")[0].lastChild.nodeValue,this._uncheckedArray.push({id:h.id,text:o}),this._deepWatch&&this._updateField(this._newDataSource,h.id,this.model.fields,"isChecked",!1),this._removeCheckNodes(this._liList.index(h));"LI"==(c=s.parentNode.parentNode).nodeName.toUpperCase()&&this._doRecursiveUncheck(c,this._uncheckedArray)}i&&(i.unchecknode=this._uncheckedArray),this._onUnChecked(e(t),i)}this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)),this._persistValues(this.model.checkedNodes,"checkedNodes")}},_executeDataQuery:function(i,s,a){var o,r,l;if(o=t.Query(),o=this._columnToSelect(i),!t.isNullOrUndefined(s)&&""!=s){for(r=e.extend(!0,[],o._params),o._params=[],o.addParams(s,a),l=0;l<r.length;l++)r[l].key!=s&&o.addParams(r[l].key,r[l].value);o.where(s,t.FilterOperators.equal,a)}return i.dataSource.executeQuery(o)},_createChildNodesWhenExpand:function(i,s,a,o,r,l){var n,d,h,c,u,p,m,g;if(i.length>0&&0==i.find("ul .e-item").length){if(n=i.attr("id"),d=i.children("div").find(".e-text:first").text(),c=i.children("div").find("div.e-plus:first"),h={currentElement:i,targetElement:c[0],id:n,value:d,isChildLoaded:!1,hasParent:!0,async:!1},m=this,this._isEventTriggered=!0,this._triggerEvent("beforeExpand",h))return!1;if(this.dataSource()instanceof t.DataManager){if(u=h.currentElement.parents("ul.e-treeview-ul").length,p=this._getChildTables(this.model.fields,u,1),t.isNullOrUndefined(p)&&t.isNullOrUndefined(this.model.fields.child)&&(p=this.model.fields),!p)return void(e(h.targetElement).hasClass("e-load")&&e(h.targetElement).removeClass(e(h.targetElement).hasClass("e-plus")||e(h.targetElement).hasClass("e-minus")?"e-load":"e-icon e-load"));p.query&&p.query.queries.length>0&&(p.query.queries=[]),this._treeList.push("false"),this._executeDataQuery(p,p.parentId,"number"==this._typeOfFieldId?parseInt(h.currentElement[0].id):h.currentElement[0].id).done((function(n){if(m._treeList.pop(),g=n.xhr&&n.xhr.responseJSON&&n.xhr.responseJSON.d?n.xhr.responseJSON.d:n.result?n.result:[],(g=m._getSortAndFilterList(p,g)).length>0){var d=t.getObject(p.parentId,g[0]);m._updateRemoteData(m._newDataSource,d,g,m.model.fields)}m._appendChild(g,i,p,s,a,o),a&&m._expandByLevel(i.find("> ul"),a-1,o),0==m._treeList.length&&(r&&m._doAfterExpand(i,r,l),m._completeRendering()),0==m._parentLevelDropChecking.find("ul .e-item").length&&e(m._parentLevelDropChecking).find("> div > .e-icon").remove()}))}else g=this._getChildNodes(this._dataSource,{id:i[0].id}),this._appendChild(g,i,this.model.fields,s,a,o)}else this._expandNode(i)},_appendChild:function(i,s,a,o,r,l){var n,d,h;if(!t.isNullOrUndefined(i)&&i.length>0){if(this._checkboxChecked=s.find("> div > .e-chkbox-wrap > .nodecheckbox").hasClass("checked"),this._loadOnDemandNodes=!0,0==s.find("ul .e-item").length&&(this._templateNodeCreation(i,a),s.append(this._fragment)),this._finalizeLoadOnDemand(s),this._expandNode(s),o&&!r&&!l)for(d=0,h=(n=s.find(".e-item > div > .e-plus").closest(".e-item")).length;d<h;d++)this._createChildNodesWhenExpand(e(n[d]),!0,null,l)}else o&&s.find("> div > .e-plus").removeClass("e-plus e-icon")},_getSortAndFilterList:function(e,i){var s,a;return!i||!i.length||i.length<1?s=[]:this.model.sortSettings.allowSorting?(a=t.Query(),this._addSortingQuery(a,e),s=t.DataManager(i).executeLocal(a)):s=i,s},_addSortingQuery:function(e,i){var s=i&&i.text?i.text:"text",a=this.model.sortSettings.sortOrder==t.sortOrder.Descending;e.sortBy(s,a)},_expandNode:function(e){var t;return null!=e[0]&&e.length>0&&(t=e.find("> div > div:first"),this.model.loadOnDemand&&!this.model.enablePersistence?e.find("> ul > .e-item").length>0&&t.hasClass("e-plus")?(this.model.enableMultipleExpand||this._denyMultipleExpand(e),this._expandCollapseAction(e.find("> div > div.e-plus:first"))):t.hasClass("e-icon")&&!t.hasClass("e-minus")&&this._allowOnDemand&&this._createChildNodesWhenExpand(e):t.hasClass("e-plus")&&e.find("> ul > .e-item").length>0&&(this.model.enableMultipleExpand||this._denyMultipleExpand(e),this._expandCollapseAction(t))),!0},_collapseNode:function(e){if(null!=e[0]&&e.length>0&&e.find("> ul > .e-item").length>0){var t=e.find("> div > div:first");t.hasClass("e-minus")&&this._expandCollapseAction(t)}},_getElement:function(){return this.element.is("UL")?this.element:this.element.find("> ul")},_getImmediateChild:function(e,t){return t?e.find("> .e-item:not(:hidden)"):e.find("> .e-item")},_expandByLevel:function(e,t,i){t>0&&this._expandByNode(this._getImmediateChild(e,i),t,i)},_expandByNode:function(t,i,s){for(var a=0,o=t.length;a<o;a++)e(t[a]).find("> div > div").hasClass("e-plus")&&(this.model.loadOnDemand?this._createChildNodesWhenExpand(e(t[a]),!0,i,s):this._expandNode(e(t[a]))),this._expandByLevel(e(t[a]).find("> ul"),i-1,s)},_expandAll:function(t){var i,s,a;if(a=this.element.find(t?".e-item > div > .e-plus:not(:hidden)":".e-item > div > .e-plus").closest(".e-item"),this.model.loadOnDemand)for(i=0,s=a.length;i<s;i++)this._createChildNodesWhenExpand(e(a[i]),!0,null,t);else for(i=0,s=a.length;i<s;i++)this._expandNode(e(a[i]))},_collapseByLevel:function(e,t,i){t>0&&this._collapseByNode(this._getImmediateChild(e,i),t,i)},_collapseByNode:function(t,i,s){for(var a=0,o=t.length;a<o;a++)e(t[a]).find("> div > div").hasClass("e-minus")&&this._collapseNode(e(t[a])),this._collapseByLevel(e(t[a]).find("> ul"),i-1,s)},_collapseAll:function(t){var i,s,a;if((s=this.element.find(t?".e-item > div > .e-minus:not(:hidden)":".e-item > div > .e-minus").closest(".e-item")).length>0)for(i=0,a=s.length;i<a;i++)this._collapseNode(e(s[i]))},_checkAll:function(){var t,i,s;for(this._CurrenctSelectedNodes=[],(t=this.element.find(".e-item > div > .e-chkbox-wrap > .nodecheckbox")).addClass("checked"),i=0,s=t.length;i<s;i++)e(t[i]).ejCheckBox("setModel",{checked:!0}),this._addHiddenInputElement(t[i],e(t[i]).parent().siblings(".e-text")[0].lastChild.nodeValue);this.model.checkedNodes=this.getCheckedNodesIndex()},_uncheckAll:function(){var t,i,s;for((t=this.element.find(".e-item > div > .e-chkbox-wrap > .nodecheckbox")).removeClass("checked").children().remove(),i=0,s=t.length;i<s;i++)e(t[i]).ejCheckBox("setModel",{checked:!1});this.model.checkedNodes=[],this.model.checkedNodes.push(-1)},_selectAll:function(){var t,i,s,a;for(this._isRender=!1,t={ctrlKey:!0},i=0,s=this._liList.length;i<s&&(null!=(a=e(this._liList[i]))[0]&&this._nodeSelectionAction(a,t),this.model.allowMultiSelection);i++);this._isRender=!0},_unselectAll:function(){this.element.find("a.e-text.e-active").removeClass("e-node-focus e-active"),this.element.find("[aria-selected=true]").attr("aria-selected",!1),this.element.find(".e-li-active").removeClass("e-li-active"),this.element.find(".e-li-focus").removeClass("e-li-focus"),this.element.find(".e-node-focus").removeClass("e-node-focus"),this.model.selectedNodes=[],this.model.enablePersistence&&this._persistValues(this.model.selectedNodes,"selectedNodes")},_isNodeExpanded:function(e){if(null!=e[0])return e.children("ul:first").length>0&&e.find("> div > div.e-minus").length>0},_showCheckBox:function(){for(var e=this.element,t=e.find("li"),i=0;i<t.length;i++)this._checkboxOnTemplate(t[i].children[0]);e.find(".e-item > div > .nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange}),e.find(".e-item.e-node-disable > div > .e-chkbox-wrap > .nodecheckbox").ejCheckBox("disable")},_drag:function(){var i,s,a=!1,o=t.browserInfo(),r=null,l=null,n=null;s="msie"==o.name&&"8.0"==o.version,this.element.is("ul")?(this._treeView=this.element.parent(),this.model.allowDragAndDropAcrossControl||(n=this.element.parent())):(this._treeView=this.element,this.model.allowDragAndDropAcrossControl||(n=this.element)),e(this._treeView).find("ul li div a").not(".e-js").ejDraggable({autoScroll:!0,dragArea:n,clone:!0,dragStart:function(a){if(!i||t.isNullOrUndefined(a.target)||e(a.target).hasClass("e-node-disable")||0!=i.element.find(".e-item > div > .e-text.e-editable").length||(a.element.attr("aria-grabbed",!0),i.element.closest(".e-treeview-wrap").addClass("e-dragging"),e(a.target).is("A")&&!e(a.target).hasClass("e-draggable")))return!1;s&&(document.ondragstart=function(){return!1});var o={target:e(a.target).closest(".e-item"),targetElementData:i._getNodeDetails(e(a.target).closest(".e-item")),dragTarget:a.target,parentElement:e(a.target).closest("ul").closest(".e-item"),parentElementData:i._getNodeDetails(e(a.target).closest("ul").closest(".e-item")),event:a.event};return i._triggerEvent("nodeDragStart",o)?(a.cancel=!0,r&&r.remove(),!1):void 0},drag:function(s){var o,l,n,d,h,c,u;return a=!1,e(s.target).hasClass("e-sibling")&&(s.target=s.target.parentElement),e(".e-sibling").remove(),o=s.target,l=i._findTarget(e(o)),e(o).closest(".e-treeview-wrap").addClass("e-dragging"),d=(d=e(o).closest(".e-treeview.e-js").data("ejTreeView"))||i,e(r).css({"margin-top":s.event.clientY-20<0?"0px":"10px"}),null!=e(o).closest(".e-treeview.e-js")&&(h=e(o).closest(".e-treeview.e-js").data("ejTreeView")),n=h?{draggedElement:e(s.element).closest(".e-item"),draggedElementData:i._getNodeDetails(e(s.element).closest(".e-item")),dragTarget:o,target:l,targetElementData:h._getNodeDetails(l),event:s.event}:{draggedElement:e(s.element).closest(".e-item"),draggedElementData:i._getNodeDetails(e(s.element).closest(".e-item")),dragTarget:o,target:l,targetElementData:i._getNodeDetails(l),event:s.event},(0==e(s.element).parent().parent().has(e(o)).length||i.model.allowMultiSelection&&i.model.selectedNodes.length>1)&&(e(o).hasClass("e-droppable")||e(o).parent().hasClass("e-droppable"))&&e(o).hasClass("e-dropchild")&&!e(o).hasClass("e-node-disable")&&(i.model.allowDragAndDropAcrossControl||!i.model.allowDragAndDropAcrossControl&&e(o).parents(".e-treeview").is(i.element))?(document.body.style.cursor="",e(r).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-plus"),e(o).addClass("allowDrop")):d.model.allowDropChild&&d.model.allowDropSibling&&(e(o).hasClass("e-droppable")&&!e(o).hasClass("e-item")&&!e(o).hasClass("e-text")||e(o).is("UL")&&e(o).hasClass("e-ul")&&0==e(o).find(".e-item").length&&e(o).parent(".e-treeview-wrap").length>0)?(document.body.style.cursor="",e(r).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-plus")):(e(o).hasClass("e-sibling")||e(o).find("a").hasClass("e-text"))&&(e(o).hasClass("e-sibling")||e(o).parent().parent().hasClass("e-item")||e(o).parent().hasClass("e-item")||e(o).hasClass("e-item")||e(o).hasClass("e-text"))&&("LI"!=o.nodeName.toUpperCase()&&(null===o.parentElement||"LI"!=o.parentElement.nodeName.toUpperCase())||d.model.allowDropSibling)&&(i.model.allowDragAndDropAcrossControl||e(o).parents(".e-treeview").is(i.element))||(document.body.style.cursor="not-allowed",e(r).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-minus"),e(o).removeClass("showline-hover"),e(o).removeClass("noline-hover")),"A"!=o.nodeName&&(0==e(s.element).parent().parent().has(e(o)).length||i.model.allowMultiSelection&&i.model.selectedNodes.length>1)&&e(s.element).parent().parent()[0]!=e(o)[0]?("UL"==o.nodeName&&null!=e(o).children()[0]&&(o=e(o).children()[0],a=!0),"LI"!=o.nodeName&&(o=e(o).closest(".e-droppable")[0]||e(o).parent()),"LI"==o.nodeName&&e(o).hasClass("e-droppable")&&e(o).hasClass("e-dropsibling")&&(i.model.allowDragAndDropAcrossControl||!i.model.allowDragAndDropAcrossControl&&e(o).parents(".e-treeview").is(i.element))?(c=t.buildTag("div.e-sibling"),u=e(o).offset().top+e(o).find("a").height()||-1,(a=!(s.event.pageY>u))?c.insertBefore(e(o).find("> div > a").parent()):c.insertAfter(e(o).find("> div > a").parent()),e(o).parents().hasClass("e-rtl")?(document.body.style.cursor="",e(r).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-insertInbetween-rtl")):(document.body.style.cursor="",e(r).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-insertInbetween"))):"A"==o.nodeName&&e(o)&&e(o).hasClass("e-droppable")&&e(o).hasClass("e-dropchild")?(document.body.style.cursor="",e(r).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-plus"),e(o).addClass("allowDrop")):!e(o).hasClass("e-droppable")||e(o).hasClass("e-item")||e(o).hasClass("e-text")||(document.body.style.cursor="",e(r).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-plus"))):((1==e(s.element).parent().parent().has(e(o)).length||e(s.element).parent().parent().is(e(o)))&&(!i.model.allowMultiSelection||i.model.allowMultiSelection&&i.model.selectedNodes.length<=1)&&(document.body.style.cursor="not-allowed",e(r).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-minus")),e(".e-sibling").remove()),!i._triggerEvent("nodeDrag",n)&&void 0},dragStop:function(t){var o,l,n,d,h,c,u,p,m;if(s&&(document.ondragstart=function(){return!0}),t.element.dropped||(r&&r.remove(),document.body.style.cursor=""),o=t.target,e(o).closest(".e-treeview-wrap").removeClass("e-dragging"),i.element.closest(".e-treeview-wrap").removeClass("e-dragging"),"e-sibling"==o.className&&(o=e(o).closest(".e-item")[0]),e(".e-sibling").remove(),e(o).hasClass("e-node-disable")||(l=a?"Before":"After",d=i._findTarget(e(o)),l="A"==o.nodeName?"Over":l,null!=e(o).closest(".e-treeview.e-js")&&(h=e(o).closest(".e-treeview.e-js").data("ejTreeView")),n=h?{draggedElementData:i._getNodeDetails(e(t.element).closest(".e-item")),draggedElement:e(t.element).closest(".e-item"),dropTarget:e(o),target:d,targetElementData:h._getNodeDetails(d),position:l,event:t.event,preventTargetExpand:!1}:{draggedElementData:i._getNodeDetails(e(t.element).closest(".e-item")),draggedElement:e(t.element).closest(".e-item"),dropTarget:e(o),target:d,targetElementData:i._getNodeDetails(d),position:l,event:t.event,preventTargetExpand:!1},i._triggerEvent("nodeDragStop",n)))return!1;if(c=i._isParentExpand(o),i.model.allowMultiSelection&&e(t.element).hasClass("e-active"))for(p=0,m=(u=i.element.find(".e-item > div > .e-active")).length;p<m;p++)t.element=u[p],"After"==(l=i._dropNode(o,t,l,a))&&e(o).closest(".e-treeview.e-js").length&&(o="LI"==o.nodeName.toUpperCase()?o.nextElementSibling:o.closest("li").nextElementSibling);else l=i._dropNode(o,t,l,a);if(n.preventTargetExpand&&!c&&i._preventParentNode(o),e(".allowDrop").removeClass("allowDrop"),e(t.element).attr("aria-grabbed",!1),e(o).hasClass("e-dropchild")||r&&r.remove(),d=i._findTarget(e(o)),n=h?{droppedElementData:h._getNodeDetails(e(t.element).closest(".e-item")),droppedElement:e(t.element).closest(".e-item"),dropTarget:e(o),target:d,targetElementData:h._getNodeDetails(d),position:l,event:t.event}:{droppedElementData:i._getNodeDetails(e(t.element).closest(".e-item")),droppedElement:e(t.element).closest(".e-item"),dropTarget:e(o),target:d,targetElementData:i._getNodeDetails(d),position:l,event:t.event},i._triggerEvent("nodeDropped",n))return!1;document.body.style.cursor=""},helper:function(s){var a,o,n;if(!t.isNullOrUndefined(s.element)&&!e(s.element).hasClass("e-node-disable")&&e(s.element).hasClass("e-draggable")&&(i=e(s.element).closest(".e-treeview.e-js").data("ejTreeView")))return r=t.buildTag("div.e-dragedNode e-widget"),a=t.util.getZindexPartial(i.element),r.css({"z-index":a}),r.addClass(i.model.cssClass+(i.model.enableRTL?" e-rtl":"")),o=i.element.find(".e-item > div > .e-active").length,l=e(s.element).clone().addClass("dragClone"),this.spanEle=t.buildTag("span.e-icon e-plus e-dropedStatus"),r.append(this.spanEle),r.append(l),n=t.buildTag("span.e-drop-count",o),o>1&&i.model.allowMultiSelection&&e(s.element).hasClass("e-active")&&r.append(n),r.appendTo(e("body"))}})},_isParentExpand:function(t){var i=e(t).closest(".e-item"),s=!1;return i.length>0&&"true"==i[0].getAttribute("aria-expanded")&&(s=!0),s},_preventParentNode:function(t){var i,s=e(t).closest(".e-item"),a=e(s[0]).find(".e-treeview-ul");e(a).css("display","none"),s.length>0&&(s[0].setAttribute("aria-expanded",!1),i=e(s).find(".e-minus"),e(i).removeClass("e-minus").addClass("e-plus"))},_dropNode:function(t,i,s,a){var o=e(t).closest(".e-treeview.e-js").data("ejTreeView");return"A"==t.nodeName&&e(t).hasClass("e-dropchild")&&e(t).hasClass("e-droppable")||"UL"==t.nodeName&&0==e(t).children().length?(s="Over",e(t).is("UL")&&e(t).hasClass("e-ul")&&0==e(t).find(".e-item").length&&e(t).parent(".e-treeview-wrap").length>0&&o.model.allowDropChild?this._dropAsChildNode(e(t),e(i.element),i.event):o.model.allowDropChild&&0==e(i.element).parent().parent().has(e(t)).length&&(0==e(t).parent().parent().has(e(i.element)).length||this._isDescendant(e(t).parents("li:last").find(">ul>li"),e(i.element).parents("li:first")[0]))&&(this.model.allowDragAndDropAcrossControl||!this.model.allowDragAndDropAcrossControl&&e(t).parents(".e-treeview").is(this.element))&&this._dropAsChildNode(e(t).closest(".e-item"),e(i.element),i.event)):("UL"==t.nodeName&&(t=e(t).children()[0]),"LI"!=t.nodeName&&(t=e(t).closest(".e-droppable")[0]||e(t).parent()),"LI"==t.nodeName&&e(t).hasClass("e-dropsibling")&&e(t).hasClass("e-droppable")?o.model.allowDropSibling&&e(i.element).parent().parent().has(e(t)).length<1&&e(i.element).parent().parent()[0]!=e(t)[0]&&(this.model.allowDragAndDropAcrossControl||!this.model.allowDragAndDropAcrossControl&&e(t).parents(".e-treeview").is(this.element))&&this._dropAsSiblingNode(e(t),e(i.element),a,i.event):"A"==t.nodeName&&e(t).hasClass("e-dropchild")&&e(t).hasClass("e-droppable")&&(s="Over",o.model.allowDropChild&&0==e(i.element).parent().parent().has(e(t)).length&&(0==e(t).parent().parent().has(e(i.element)).length||this._isDescendant(e(t).parents("li:last").find(">ul>li"),e(i.element).parents("li:first")[0]))&&this._dropAsChildNode(e(t).closest(".e-item"),e(i.element),i.event))),s},_findTarget:function(e){return e.hasClass("e-text")||e.parents("a").hasClass("e-text")?e.closest(".e-item"):e.closest("ul").closest(".e-item").length>0?e.closest("ul").closest(".e-item"):this.element.find(e).length>0&&!this.model.template?e.parents("ul").first():this.element.find(e).length>0&&this.model.template?e.closest(".e-text").length>0?e.closest(".e-item"):e.parents("ul").first():e},_isDescendant:function(t,i){var s=!0;return e(t).each((function(e,t){if(t==i)return s=!1,!1;s=!0})),s},_childDrop:function(){e(this._treeView).find("ul .e-item div .e-text").ejDroppable({accept:e(this._treeView).find("ul .e-item div .e-text").addClass("e-dropchild"),drop:function(t,i){e(i.helper).hide()}})},_siblingDrop:function(){e(this._treeView).find("ul .e-item").addClass("e-dropsibling").ejDroppable({drop:function(t,i){e(i.helper).hide()}})},_dropAsSiblingNode:function(i,s,a){var o,r=s.parent().parent();r=e(r),o=e(s.parents(".e-item")[1]),t.isNullOrUndefined(this.model.fields)||null==this.dataSource()||this.dataSource()instanceof t.DataManager||this._updateDataSource(s.parents(".e-item:first"),e(i),a,this),a?r.insertBefore(i):r.insertAfter(i),this.model.template||this._autoGenerateNodes(s.parents(".e-item:first")),this._modifyCss(o),this._isRender=!1,this._updateCheckState(r),this._updateCheckState(o),this._isRender=!0,r.find("> div > .e-minus").length>0&&!this.model.enableMultipleExpand&&this._denyMultipleExpand(r),this._updateChanges(e(i))},_dropAsChildNode:function(i,s){var a,o=s.parent().parent();o=e(o),a=this._parentLevelDropChecking=e(s.parents(".e-item")[1]),e(i).is("UL")?e(i).append(o):this._appendNode(i,o),t.isNullOrUndefined(this.model.fields)||null==this.dataSource()||this.dataSource()instanceof t.DataManager||this._updateDataSource(s.parents(".e-item:first"),e(i).find("> div > .e-text").first(),"",this),this.model.template||this._autoGenerateNodes(s.parents(".e-item:first")),this._modifyCss(a),this._isRender=!1,this._updateCheckState(o),this._updateCheckState(a),this._isRender=!0,i.find("> div > .e-icon.e-plus:first").length>0&&this._expandNode(i),this._updateChanges(e(i))},_updateChanges:function(t){if(null!=e(t)[0]){var i=this,s=0;do{i._updateNodes(),1==s&&i._updateTarget(this),s++,i=t.closest(".e-treeview.e-js").data("ejTreeView")}while(i&&this._id!=i._id&&1==s)}},_updateTarget:function(e){this.model.allowDropChild!=e.model.allowDropChild&&(this.model.allowDropChild?this._childDrop():this._preventDropChild()),this.model.allowDropSibling!=e.model.allowDropSibling&&(this.model.allowDropSibling?this._siblingDrop():this._preventDropSibling())},_updatePersistProb:function(){var t,i,s,a,o,r,l,n;for(this._removeField(this._newDataSource,this.model.fields,"selected"),this._removeField(this._newDataSource,this.model.fields,"expanded"),this._removeField(this._newDataSource,this.model.fields,"isChecked"),i=0,s=(t=this.getSelectedNodes()).length;i<s;i++)this._updateField(this._newDataSource,e(t[i]).attr("id"),this.model.fields,"selected",!0);for(o=0,n=(a=this.getExpandedNodes()).length;o<n;o++)this._updateField(this._newDataSource,e(a[o]).attr("id"),this.model.fields,"expanded",!0);if(this.model.showCheckbox)for(l=0,n=(r=this.getCheckedNodes()).length;l<n;l++)this._updateField(this._newDataSource,e(r[l]).attr("id"),this.model.fields,"isChecked",!0)},_orderDataSource:function(){var i,s,a,o,r,l;if(this._beforeBaseClass(),this._updatePersistProb(),i=[],s=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource()instanceof t.DataManager&&2==this._templateType)return this._newDataSource;for(a=0,o=this._liList.length;a<o;a++)for(r=0,l=s.length;r<l;r++)e(document.getElementById(t.getObject(this.model.fields.id,s[r]))).length>0&&!t.isNullOrUndefined(s[r])&&!t.isNullOrUndefined(s[r][this.model.fields.id])&&s[r][this.model.fields.id].toString()==e(this._liList[a]).attr("id")&&(0==e(document.getElementById(t.getObject(this.model.fields.id,s[r]))).find("> ul .e-item").length?(this._deepPropertyDelete(this.model.fields.hasChild,s[r]),2==this._templateType&&delete s[r].child):1==this._templateType?t.createObject(this.model.fields.hasChild,!0,s[r]):this._updateChildData(s[r].child,this.model.fields),i.push(s[r]));return i},_updateDataSource:function(i,s,a,o){var r,l,n,d,h,c,u;null!=e(i)[0]&&null!=e(s)[0]&&(r=o,l=s.closest(".e-treeview.e-js").data("ejTreeView"),!r||!l||t.isNullOrUndefined(l.model.fields)||null==l.dataSource()||l.dataSource()instanceof t.DataManager||(s.is("A")?(n=s.closest(".e-item").attr("id"),d=(h=s.closest(".e-item").find("> ul > .e-item")).length>0?h.length:s.closest(".e-item").index()):(n=s.parents(".e-item:first").attr("id"),c=s.next(".e-item"),u=s.prev(".e-item"),d=c.length>0?d=u.length>0?c.index()-1:a?s.index():c.index():a?s.index():s.index()+1),l&&r._findAndUpdate(i.attr("id"),n,r._newDataSource,d,l,s,a)))},_removeObject:function(e,i,s){for(var a=0,o=e.length;a<o;a++)if(!t.isNullOrUndefined(e[a])&&!t.isNullOrUndefined(e[a][s])&&e[a][s].toString()==i){e.splice(a,1);break}},_getObjectPosition:function(e,i,s){for(var a,o=0,r=e.length;o<r;o++){if(!t.isNullOrUndefined(e[o])&&!t.isNullOrUndefined(e[o][s])&&e[o][s].toString()==i)return o;if(e[o].hasOwnProperty("child")&&(a=this._getObjectPosition(e[o].child,i,s))>=0)return a}return-1},_convertDataSourceTypes:function(e,i){for(var s=0;s<e.child.length;s++)t.createObject(this.model.fields.parentId,t.getObject(this.model.fields.id,e),e.child[s]),i.push(e.child[s]),e.child[s].hasOwnProperty("child")&&e.child[s].child.length>0&&this._convertDataSourceTypes(e.child[s],i);return e.child&&(delete e.child,t.createObject(this.model.fields.hasChild,!0,e)),i},_childObjectCollection:function(e,i,s,a){for(var o,r=0,l=e.length;r<l;r++)(o=this._getChildNodes(i,{id:t.getObject(this.model.fields.id,e[r])}))&&(2==a?(s[r].hasOwnProperty("child")||(s[r].child=[]),s[r].child=this._childObjectCollection(o,i,o,a)):(s=s.concat(o),s=this._childObjectCollection(o,i,s,a)));return s},_updateCopyData:function(t,s,a){var o,r=s.model.fields,l=a,n=JSON.parse(JSON.stringify(a[t])),d=this;return e.each(this.model.fields,(function(e){("dataSource"!==e||"query"!==e)&&l[t][d.model.fields[e]]!==i&&(delete n[d.model.fields[e]],n[r[e]]=l[t][d.model.fields[e]])})),e.extend(o,n,!1)},_updateDataFields:function(e,i,s,a,o){for(var r=[],l=0,n=i.length;l<n;l++)1==o&&(this._removeObject(e,s,this.model.fields.parentId),this._deepPropertyDelete(this.model.fields.parentId,i[l]),this._deepPropertyDelete(this.model.fields.hasChild,i[l])),i[l].hasOwnProperty("child")&&(i[l].child=this._updateDataFields(e,i[l].child,t.getObject(this.model.fields.id,i[l]),a,o)),r.push(this._updateCopyData(l,a,i));return r},_deepPropertyDelete:function(e,s){if(!s||t.isNullOrUndefined(e))return i;var a=e.split(".");a.length>1?deepDelete(a.slice(1).join("."),s[a[0]]):delete s[e]},_findAndUpdate:function(e,i,s,a,o,r,l){var n,d,h,c,u,p,m,g,_,f;if(!t.isNullOrUndefined(s))if(1==this._templateType){for(g=0,_=s.length;g<_;g++)if(n=t.getObject(this.model.fields.id,s[g]),!t.isNullOrUndefined(s[g])&&!t.isNullOrUndefined(n)&&n.toString()==e){if(this._id==o._id)t.isNullOrUndefined(i)?this._deepPropertyDelete(this.model.fields.parentId,s[g]):t.createObject(this.model.fields.parentId,i,s[g]),d=this.dataSource(),y=this,this._deepWatch&&(h=s.splice(g,1),(f=this._getObjectPosition(d,r.attr("id"),this.model.fields.id))>=0&&!r.is("A")?s.splice(l?f:f+1,0,h[0]):s.push(h[0]),this._oldDataSource=JSON.parse(JSON.stringify(s)),this.dataSource(s)),this._templateType=this._getTemplateType(d,this.model.fields),this._dataSource=1==this._templateType?this._groupingObjects(d,(function(e){return[!t.isNullOrUndefined(e)&&[t.getObject(y.model.fields.parentId,e)].toString()]})):d;else{var b,v,x=[],y=this,w=[],S=[];if(v=this._groupingObjects(s,(function(e){return[!t.isNullOrUndefined(e)&&[t.getObject(y.model.fields.parentId,e)].toString()]})),S=s.splice(g,1),x.push(this._updateCopyData(0,o,S)),(b=this._getChildNodes(v,{id:e}))&&b.length>0&&(b=this._childObjectCollection(b,v,b,o._templateType)),2==o._templateType)b&&b.length>0&&(p=this._updateDataFields(s,b,e,o,this._templateType),x[0].hasOwnProperty("child")||(x[0].child=[]),x[0].child=p),this._deepPropertyDelete(o.model.fields.parentId,x[0]),this._deepPropertyDelete(o.model.fields.hasChild,x[0]),o._deepWatch?(f=(f=this._getObjectPosition(o._newDataSource,r.attr("id"),o.model.fields.id))>=0&&!r.is("A")?l?f:f+1:a,i?o._changeObjectPos(i,x,o._newDataSource,f):o._newDataSource.splice(f,0,x[0])):i?o._changeObjectPos(i,x,o._newDataSource,a):o._newDataSource.splice(a,0,x[0]);else{if(b&&b.length>0){for(c=0,u=b.length;c<u;c++)this._removeObject(s,t.getObject(this.model.fields.id,b[c]),this.model.fields.id);this._dataSource=1==this._templateType?this._groupingObjects(s,(function(e){return[!t.isNullOrUndefined(e)&&[t.getObject(y.model.fields.parentId,e)].toString()]})):s}if(i?t.createObject(o.model.fields.parentId,i,x[0]):this._deepPropertyDelete(o.model.fields.parentId,x[0]),o._deepWatch&&(f=this._getObjectPosition(o._newDataSource,r.attr("id"),o.model.fields.id))>=0&&!r.is("A")?o._newDataSource.splice(l?f:f+1,0,x[0]):o._newDataSource.push(x[0]),p=[],b&&b.length>0){if(!(this.dataSource()instanceof t.DataManager)){for(g=0;g<b.length;g++)p.push(this._updateCopyData(g,o,b));b=p}m=o._newDataSource=o._newDataSource.concat(b),o._dataSource=1==o._templateType?o._groupingObjects(m,(function(e){return[!t.isNullOrUndefined(e)&&[t.getObject(o.model.fields.parentId,e)].toString()]})):m}}o._deepWatch&&(o.dataSource(o._newDataSource),o._oldDataSource=JSON.parse(JSON.stringify(o._newDataSource))),this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource))}break}}else for(g=0,_=s.length;g<_;g++){if(t.getObject(this.model.fields.id,s[g]).toString()==e)return x=s.splice(g,1),this._id==o._id?this._deepWatch?(f=(f=this._getObjectPosition(this._newDataSource,r.attr("id"),this.model.fields.id))>=0&&!r.is("A")?l?f:f+1:a,i?this._changeObjectPos(i,x,this._newDataSource,f):this._newDataSource.splice(f,0,x[0]),this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)):i?this._changeObjectPos(i,x,this._newDataSource,a):this._newDataSource.splice(a,0,x[0]):(x=this._updateDataFields(s,x,e,o,this._templateType),1==o._templateType?(w=[],x[0].hasOwnProperty("child")?(w=o._convertDataSourceTypes(x[0],w),x[0]=x.concat(w)):x[0]=x.concat(),i?t.createObject(o.model.fields.parentId,i,x[0][0]):this._deepPropertyDelete(o.model.fields.parentId,x[0][0]),o._deepWatch?((f=this._getObjectPosition(o._newDataSource,r.attr("id"),o.model.fields.id))>=0&&!r.is("A")?o._newDataSource.splice(l?f:f+1,0,x[0][0]):o._newDataSource.push(x[0][0]),o._newDataSource=o._newDataSource.concat(w)):o._newDataSource=o._newDataSource.concat(x[0])):o._deepWatch?(f=(f=this._getObjectPosition(o._newDataSource,r.attr("id"),o.model.fields.id))>=0&&!r.is("A")?l?f:f+1:a,i?o._changeObjectPos(i,x,o._newDataSource,f):o._newDataSource.splice(f,0,x[0])):i?o._changeObjectPos(i,x,o._newDataSource,a):o._newDataSource.splice(a,0,x[0]),o._deepWatch&&(o.dataSource(o._newDataSource),o._oldDataSource=JSON.parse(JSON.stringify(o._newDataSource))),this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource))),!0;if(s[g].hasOwnProperty("child")&&this._findAndUpdate(e,i,s[g].child,a,o,r,l))break}},_changeObjectPos:function(e,i,s,a){for(var o=0,r=s.length;o<r;o++){if(t.getObject(this.model.fields.id,s[o]).toString()==e)return s[o].hasOwnProperty("child")?s[o].child.splice(a,0,i[0]):(s[o].child=[],s[o].child.push(i[0])),!0;if(s[o].hasOwnProperty("child")&&this._changeObjectPos(e,i,s[o].child,a))break}},_finalizeEditing:function(t){if(null!=e(t)[0]){var i=t.closest(".e-treeview.e-js").data("ejTreeView");i&&(i._preventEditable(),i.model.allowEditing&&i._allowEditable())}},_updateCheckState:function(e){var t,i;this._isTreeElement(e)&&(t=e.closest(".e-treeview.e-js").data("ejTreeView"))&&t.model.showCheckbox&&(e.children("ul").find(".e-item > div > .e-chkbox-wrap > .checked").closest(".e-item").addClass("checked").length>0?t._isCheckedAction():(i=t.isNodeChecked(e)?"_nodeCheck":"_nodeUncheck",t[i](e.find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0])))},_autoGenerateNodes:function(t){var i,s,a,o;if(null!=e(t)[0])if((i=t.closest(".e-treeview.e-js").data("ejTreeView"))&&i.model.showCheckbox){if(0==t.find(".e-chkbox-wrap").length){for(this._checkboxOnTemplate(t[0].children[0]),a=0,o=(s=t.find(".e-item")).length;a<o;a++)this._checkboxOnTemplate(s[a].children[0]);t.find(".nodecheckbox").ejCheckBox({cssClass:i.model.cssClass,change:i._checkedChange})}}else t.find(".e-chkbox-wrap").remove()},_appendNode:function(i,s){var a,o,r,l;for(this._isTreeElement(i)?(null==i.find("ul.e-treeview-ul")[0]?((a=i.closest(".e-treeview.e-js").data("ejTreeView"))&&!this._isNodeExpanded(i)&&a.model.loadOnDemand&&i.find("> div > div").first().hasClass("e-plus")&&a._createChildNodesWhenExpand(i,null,null,null,s,a),this.dataSource()instanceof t.DataManager&&a.model.loadOnDemand&&i.find("> div > div").first().hasClass("e-plus")||this._doAfterExpand(i,s,a),this._deepWatch&&1==this._templateType&&(this._updateField(this._newDataSource,i.attr("id"),this.model.fields,"hasChild",!0),this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource))):e(i.find("ul.e-treeview-ul")[0]).append(s),this.isDisabled(i)||this._expandNode(i)):this.element.is("UL")?this.element.append(s):this.element.children("ul:first").length>0?this.element.children("ul:first").append(s):((o=t.buildTag("ul.e-treeview-ul","",{},{role:"group"})).append(s),this.element.append(o)),r=this.element.find(".e-item.expanded"),l=0;l<r.length;l++)!this.model.loadOnDemand||this.dataSource()instanceof t.DataManager?this._expandNode(e(r[l])):this._createChildNodesWhenExpand(e(r[l]));r.removeClass("expanded"),this.model.showCheckbox&&this._isCheckedAction()},_doAfterExpand:function(i,s,a){var o,r=t.buildTag("ul.e-treeview-ul","",{},{role:"group",style:"display:none"});e(r).append(e(s)),0==e(i.find("div")[1]).length?((o=document.createElement("div")).setAttribute("role","presentation"),o.className="e-icon e-minus",e(i.find("div")).append(e(o))):e(i.find("div")[1]).hasClass("e-minus")||e(i.find("div")[1]).addClass("e-icon e-plus"),a&&a.model.loadOnDemand&&i.find("ul.e-treeview-ul").length>0?i.children("ul.e-treeview-ul").append(e(s)):i.append(e(r))},_modifyCss:function(t){null!=(t=e(t))[0]&&0==t.find(".e-item").length&&(t.removeClass("e-collapse").attr("aria-expanded",!1).find("> div > .e-icon").removeClass("e-icon e-minus").closest(".e-item").find("ul").remove(),this._deepWatch&&(this._updateField(this._newDataSource,t.attr("id"),this.model.fields,"expanded",!1),1==this._templateType&&this._updateField(this._newDataSource,t.attr("id"),this.model.fields,"hasChild",!1),this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)))},_applyFirstLastChildClass:function(){e(this._liList).removeClass("first last").filter(":first-child:not(:last-child)").addClass("first"),e(this._liList).filter(":last-child").addClass("last")},_expandEventHandler:function(t){var i,s,a=e(t.target);a.hasClass("e-icon")||a.closest(".e-item").hasClass("e-node-disable")||"dblclick"===t.type&&this.model.allowEditing||(t.preventDefault(),i=a.is("A")?e(a.siblings("div")):e(a.parents(".e-text-wrap").find("div")),this.model.fullRowSelect&&(a.is("div.e-text-wrap")||a.is("div.e-fullrow"))&&(i=a.closest(".e-item").find("> .e-text-wrap > div")),s=a.closest(".e-item"),i.hasClass("e-minus")?this._collapseNode(s):this.model.loadOnDemand&&0==i.find(".e-item").length?this._ClickEventHandler({target:i[0]}):this._expandNode(s))},_inlineEdit:function(t){t.preventDefault();var i=e(t.target);return i.hasClass("input-text")||i.hasClass("e-node-disable")||(i.is("A")||(i=i.closest(".e-text")),i.is("A")&&!i.hasClass("e-node-disable")&&this._inlineEditAction(i)),!1},_inlineEditAction:function(e){null==this.element.find(".e-item > div > .e-text > #Edit_Input")[0]&&this._createEditTextBox(e)},_createEditTextBox:function(s){var a,o,r,l,n={currentElement:s};return!this._triggerEvent("beforeEdit",n)&&(null==(a=this.element.find(".e-item > div > .e-text > #Edit_Input"))[0]&&(o=t.buildTag("Input.input-text#Edit_Input","","",{type:"text",value:e.trim(s.text()).replace(/\n\s+/g," "),name:"inplace_value"}),e(o).css("width",s.outerWidth()+5+"px"),e(o).css("height",s.outerHeight()+"px"),o.addClass("e-tree-input e-textbox"),this._beforeEditText=s.text(),s[0].lastChild.nodeValue="",this.model.template&&(r=s.closest("li")[0].id,l=this._getNodeObject(r,!0),s[0].innerHTML=" ",l&&0!=l.length&&(o[0].value=l[0]!=i?l[0]:"",e(o).css("width",s.outerWidth()+80+"px"),e(o).css("height",s.outerHeight()+10+"px"))),s.addClass("e-editable").append(o),""==(a=o).val().length||s.outerWidth(),this._mousePositionAtEnd(a),this._currentEditableNode=s,this._on(a,"keypress",this._editTextBoxKeyPress)._on(a,"keydown",this,this._pressEscKey)._on(a,"mousedown pointerdown MSPointerDown",this,this._preventPropagation)._on(a,this.model.expandOn,this,this._preventPropagation)._on(a,"blur",this._focusout)),a)},_preventPropagation:function(e){e.stopImmediatePropagation(),this._isTextbox=!0},_editTextBoxKeyPress:function(e){e.target.size=e.target.value.length+1},_mousePositionAtEnd:function(e){return e.focus&&e.focus(),e.select&&e.select(),!0},_focusElement:function(t){var i,s;this._isTextbox||(t&&("touchstart"==t.type||"pointerdown"==t.type||"MSPointerDown"==t.type)&&(i=e(t.currentTarget)).hasClass("e-text")&&this.selectNode(i.closest(".e-item")),this.model.template?(s=(s=e(t.target).closest(".e-text")[0])||t.target,this._focusNode(s)):this._focusNode(t.target))},_blurElement:function(t){e(t.target).hasClass("e-text")&&t.target.removeAttribute("tabindex")},_focusout:function(t){var i,s=e(t.currentTarget);this._isTextbox=!1,i={id:s.closest(".e-item").attr("id"),oldText:this._beforeEditText,newText:s.val()},this._triggerEvent("inlineEditValidation",i)?this._cancelAction(s):this._saveAction(s,t)},_pressEscKey:function(i){var s,a,o;i.cancelBubble=!0,i.returnValue=!1,null!=(s=e(i.currentTarget))[0]&&(a=s.closest(".e-text")[0],13==i.keyCode&&(i.stopPropagation(),this._focusout(i)),27==i.keyCode&&this._cancelAction(s),(13==i.keyCode||27==i.keyCode)&&"msie"==(o=t.browserInfo()).name&&"8.0"==o.version&&this._focusNode(a))},_onFocusHandler:function(e){e.preventDefault()},_onKeyDown:function(e,t){var i,s;this.element.find("#"+this._id+"_active").removeAttr("id"),i=e.find("> div > .e-text:first"),s=t.find("> div > .e-text:first"),i.removeClass("e-node-focus"),s.addClass("e-node-focus"),this.element.removeAttr("aria-activedescendant"),null!=s.closest(".e-item")[0].id&&""!=s.closest(".e-item")[0].id?this.element.attr("aria-activedescendant",s.closest(".e-item")[0].id):(s.closest(".e-item").attr("id",this._id+"_active"),this.element.attr("aria-activedescendant",this._id+"_active")),this.model.fullRowSelect&&(e.removeClass("e-li-focus"),t.addClass("e-li-focus"))},_KeyPress:function(t){var i,s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v=this;if(f=this.element.is("ul")?this.element:this.element.find("> ul"),i=t.keyCode?t.keyCode:t.which?t.which:t.charCode,v.model.allowKeyboardNavigation&&v.element.find("#Edit_Input").length<1&&v.element.find(".e-chkbox-wrap.e-focus").length<1)if(this.element.find(".e-animate").removeClass("e-animate"),s=e(f.find(".e-item > div > .e-text.e-active").closest(".e-item")[0]),a=f.find(".e-item:visible"),v._focusedNode?(o=v._focusedNode,v._focusedNode=null):o=f.find(".e-text.e-node-focus").closest(".e-item"),113==i&&(t.preventDefault(),(f=o.length>0?o:s).length>0&&v.model.allowEditing&&!this.model.template&&(t.target=f.find("> div > .e-text:first"),v._inlineEdit(t))),40!=i||t.altKey)if(38!=i||t.altKey){if(39==i&&!this.model.enableRTL&&!t.altKey||37==i&&this.model.enableRTL)if(t.preventDefault(),m=(r=o.length>0?o.find("> div > div").first():s.find("> div > div").first()).closest(".e-item"),r.hasClass("e-plus"))this.model.loadOnDemand&&0==m.find("> ul .e-item").length?this._ClickEventHandler({target:r[0]}):this._expandNode(e(a[a.index(m)]));else{if(m=this._getNextEle(a,m),v._KeyPressEventHandler(m.length>0?m:"",v,i,t))return;(m.length>0&&m[0]==r.closest(".e-item").find("ul > .e-item:first")[0]||m.find("ul > .e-item").first().hasClass("e-node-disable"))&&v._onKeyDown(o,m)}else if(37==i&&!this.model.enableRTL&&!t.altKey||39==i&&this.model.enableRTL)if(t.preventDefault(),l=(n=o.length>0?o.find("> div > div").first():s.find("> div > div").first()).closest(".e-item"),n.hasClass("e-minus"))this._collapseNode(e(a[a.index(n.closest(".e-item"))]));else{if(l=e(a[a.index(l)]).closest("ul").closest(".e-item"),v._KeyPressEventHandler(l.length>0?l:"",v,i,t))return;l.length>0&&v._onKeyDown(o,l)}else if(36!=i||t.altKey){if(35!=i||t.altKey){if(13==i)t.preventDefault(),(u=(_=o.length>0?o:s).find("> div > .e-text")).removeClass("e-node-focus"),this.model.fullRowSelect&&_.removeClass("e-li-focus"),u.hasClass("e-active")?v.model.allowMultiSelection&&v._nodeUnSelectionAction(_,event):v._nodeSelectionAction(_,t),v._focusedNode=_;else if(32==i)t.preventDefault(),(_=o.length>0?o:s).length>0&&this.model.showCheckbox&&((p=_.find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0]).checked?this._nodeUncheck(p):this._nodeCheck(p),v._focusedNode=_);else if(46==i)t.preventDefault(),(_=o.length>0?o:this.model.allowMultiSelection?f.find(".e-item > div > .e-text.e-active").closest(".e-item"):s).length>0&&(this._removeNode(_,t),m=e(a[0]).find("> div > .e-text:first"),this._focusNode(m[0]));else if(t&&1==t.ctrlKey)if(88==i&&this.model.allowDragAndDrop&&this.model.allowDropChild){if(t.preventDefault(),(_=o.length>0?o:s).length>0){if(g=_.parents(".e-item:first"),this._triggerEvent("beforeCut",{target:_,nodeDetails:this._getNodeDetails(_),keyCode:i,event:t}))return;this._cutNode=e(a[a.index(_)]).detach(),null!=e(this._cutNode)[0]&&(this._isRender=!1,this.unselectNode(_),0==g.find("> ul > .e-item").length&&(this.collapseNode(g),this._modifyCss(g)),this._isRender=!0,this._triggerEvent("nodeCut",{parentElement:g,parentDetails:this._getNodeDetails(g),keyCode:i,event:t}))}}else if(86==i&&null!=this._cutNode&&this.model.allowDragAndDrop&&this.model.allowDropChild){if(t.preventDefault(),_=o.length>0?o:s,0===(_=e(a[a.index(_)])).length&&(_=this.element),f=this._cutNode.find(" > div > .e-text").first(),e(a).length>0){if(this._triggerEvent("beforePaste",{target:_,nodeDetails:this._getNodeDetails(_),keyCode:i,event:t}))return;this._isRender=!1,this._dropAsChildNode(_,f,t),this._isRender=!0,this._cutNode=null,b=f.closest(".e-item"),this._triggerEvent("nodePaste",{target:b,nodeDetails:this._getNodeDetails(b),keyCode:i,event:t})}}else v.model.allowMultiSelection&&(v._focusedNode=o)}else if(t.preventDefault(),c=o.length>0?o:s,((h=e(a).last()).hasClass("e-node-disable")||h.hasClass("hidden"))&&(h=this._getPrevEle(a,h)),s.length>0&&0==o.length&&s[0]!=h[0]||o.length>0&&o[0]!=h[0]){if(v._KeyPressEventHandler(h,v,i,t))return;v._onKeyDown(c,h)}}else if(t.preventDefault(),c=o.length>0?o:s,((d=e(a).first()).hasClass("e-node-disable")||d.hasClass("hidden"))&&(d=this._getNextEle(a,d)),s.length>0&&0==o.length&&s[0]!=d[0]||o.length>0&&o[0]!=d[0]){if(v._KeyPressEventHandler(d,v,i,t))return;v._onKeyDown(c,d)}}else{if(t.preventDefault(),c=o.length>0?o:s,l=this._getPrevEle(a,c),v._KeyPressEventHandler(l.length>0?l:null,v,i,t))return;l.length>0&&v._onKeyDown(o,l)}else{if(t.preventDefault(),c=o.length>0?o:s,m=this._getNextEle(a,c),v._KeyPressEventHandler(m.length>0?m:null,v,i,t))return;m.length>0&&v._onKeyDown(o,m)}},_getNextEle:function(t,i){var s,a=t.index(i);do{a++,s=e(t[a])}while(s.hasClass("e-node-disable")||s.hasClass("hidden"));return s},_getPrevEle:function(t,i){var s,a=t.index(i);do{a--,s=e(t[a])}while(s.hasClass("e-node-disable")||s.hasClass("hidden"));return s},_removeChildNodes:function(e,i,s){for(var a,o,r,l,n=0,d=0;d<i.length;d++)if(a=t.getObject(this.model.fields.parentId,i[d][0]),!t.isNullOrUndefined(a)&&a.toString()==s){n=i[d].length;break}for(d=0;d<n;d++)for(o=0;o<e.length;o++)if(r=t.getObject(this.model.fields.parentId,e[o]),!t.isNullOrUndefined(r)&&r.toString()==s){t.isNullOrUndefined(e[o])||(l=t.getObject(this.model.fields.id,e[o]).toString()),e.splice(o,1),this._removeChildNodes(e,i,l);break}},_removeNode:function(i,s){var a,o,r,l,n;if(null!=i[0]&&null!=i[0]&&i.length>0){if(l=this,a=e(i[0]).closest("ul").closest(".e-item"),o=e(i[0]),(r=e(i).closest(".e-treeview.e-js").data("ejTreeView"))._triggerEvent("beforeDelete",{target:o,nodeDetails:r._getNodeDetails(o),parentElement:null!=a[0]?a:null,parentDetails:r._getNodeDetails(a),event:s,removedNodes:i}))return;if(this._isRender=!1,this.dataSource()instanceof t.DataManager?(n=this._newDataSource,this._removeData(i,n)):!t.isNullOrUndefined(this.dataSource())&&this.dataSource().length>0&&(n=this.dataSource(),this._removeData(i,n),this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(n)),this.dataSource(n))),i.remove(),this._modifyCss(a),this._updateNodes(),this._updateCheckState(a),this._isRender=!0,r._triggerEvent("nodeDelete",{parentElement:null!=a[0]?a:null,parentDetails:r._getNodeDetails(a),event:s,removedNodes:i}))return;l=this,n=this.dataSource(),setTimeout((function(){null==l.dataSource()||l.dataSource()instanceof t.DataManager||(l._dataSource=l._groupingObjects(n,(function(e){return[!t.isNullOrUndefined(e)&&[t.getObject(l.model.fields.parentId,e)].toString()]})))}),300)}},_removeData:function(t,i){for(var s=0,a=t.length;s<a;s++)2==this._templateType?this._removeRemoteData(i,e(t[s]),this.model.fields):this._removeLocalData(i,e(t[s]))},_removeLocalData:function(e,i){for(var s,a,o,r=this,l=0;l<e.length;l++)if(s=i.attr("id"),(a=t.getObject(this.model.fields.id,e[l]))&&a.toString()==s){o=this._groupingObjects(e,(function(e){return[!t.isNullOrUndefined(e)&&[t.getObject(r.model.fields.parentId,e)].toString()]})),e.splice(l,1),this._removeChildNodes(e,o,s);break}},_removeRemoteData:function(e,i,s){for(var a,o,r=0;r<e.length;r++){if(a=i.attr("id"),(o=t.getObject(s.id,e[r]))&&o.toString()==a){e.splice(r,1);break}e[r].hasOwnProperty("child")&&this._removeRemoteData(e[r].child,i,s.child?s.child:s)}},_updateNodes:function(){this._beforeBaseClass(),this._applyFirstLastChildClass(),this._updateExpandedNodes(),this._updateCheckedNodes(),this._updateSelectedNode()},_updateField:function(e,i,s,a,o){var r,l,n,d,h,c;if(!t.isNullOrUndefined(s)&&null!=this.dataSource()&&!t.isNullOrUndefined(e)&&!t.isNullOrUndefined(i)&&!t.isNullOrUndefined(a))if(1==this._templateType){for(l=0,n=e.length;l<n;l++)if(r=t.getObject(s.id,e[l]),!t.isNullOrUndefined(e[l])&&!t.isNullOrUndefined(r)&&r.toString()==i){h=s[a]?s[a]:a,e[l][h]=o,0==o&&delete e[l][h],c=e[l],e.splice(l,1,c);break}}else for(l=0,n=e.length;l<n;l++){if(d=t.getObject(s.id,e[l]),!t.isNullOrUndefined(e[l])&&!t.isNullOrUndefined(d)&&d.toString()==i){h=s[a]?s[a]:a,e[l][h]=o,0==o&&delete e[l][h],c=e[l],e.splice(l,1,c);break}e[l].hasOwnProperty("child")&&this._updateField(e[l].child,i,s.child?s.child:s,a,o)}},_removeField:function(e,s,a){if(!t.isNullOrUndefined(s)&&null!=this.dataSource()&&!t.isNullOrUndefined(e))for(var o=0;o<e.length;o++)e[o][s[a]]!=i&&delete e[o][s[a]],e[o].hasOwnProperty("child")&&this._removeField(e[o].child,s.child?s.child:s,a)},_KeyPressEventHandler:function(t,i,s,a){var o,r,l,n;return null!=e(t)[0]?(n=this._isNodeExpanded(t),o=this._getNodeDetails(t),l=i._getPath(t),r={keyCode:s,currentElement:t,value:o.text,isExpanded:n,path:l,event:a,id:o.id,parentId:o.parentId}):r={keyCode:s,currentElement:t,value:"",isExpanded:"",path:"",event:a,id:"",parentId:""},this._triggerEvent("keyPress",r)},_documentClick:function(t){var i,s;if("Edit_Input"!=t.target.id&&(i=e("#Edit_Input")[0]),null!=i){var a=e(i).closest(".e-text")[0],o=i.value,r=e(i).closest(".e-item");e(i).remove(),a.lastChild.nodeValue=o,e(a).removeClass("e-editable").removeAttr("style"),this._updateField(this._newDataSource,r.attr("id"),this.model.fields,"text",o),this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)),this._triggerEvent("nodeEdit",{id:r.attr("id"),oldText:this._beforeEditText,newText:o,target:r,nodeDetails:this._getNodeDetails(r),event:t})}0==this.element.find(t.target).length?(s=this.element.find(".e-item > div > .e-text.e-node-focus"),this._focusedNode=s.closest(".e-item"),s.removeClass("e-node-focus")):e(t.target).hasClass("e-active")&&(this._focusedNode=this.element.find(t.target).closest(".e-item"))},_saveAction:function(t,i){var s,a=t.val(),o=t.closest(".e-item"),r=t.closest(".e-text")[0],l=t.closest("li")[0].id;t.remove(),null!=r&&(r.lastChild.nodeValue=a,e(r).removeClass("e-editable"),this._updateField(this._newDataSource,o.attr("id"),this.model.fields,"text",a),this.model.template&&(s=this._getNodeObject(l))&&0!=s.length&&(r.innerHTML=this._renderEjTemplate(this.model.template,s[0])),this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)),this._triggerEvent("nodeEdit",{id:o.attr("id"),oldText:this._beforeEditText,newText:a,target:o,nodeDetails:this._getNodeDetails(o),event:i}),this.element.focus(),this._focusedNode=o)},_cancelAction:function(t){var i=t.closest(".e-text")[0];t.remove(),i.lastChild.nodeValue=this._beforeEditText,e(i).removeClass("e-node-hover e-editable"),this.element.focus()},_focusNode:function(t){e(t).hasClass("e-text")&&t.setAttribute("tabindex","0"),t.focus()},_mouseEnterEvent:function(t){this.element.find(".e-node-hover").removeClass("e-node-hover"),e(t.currentTarget).hasClass("e-text")&&!e(t.currentTarget).hasClass("e-node-disable")&&e(t.currentTarget).addClass("e-node-hover")},_mouseLeaveEvent:function(t){e(t.currentTarget).removeClass("e-node-hover")},_liMouseEnterEvent:function(t){this.element.find(".e-node-hover").removeClass("e-node-hover"),this.element.find(".e-li-hover").removeClass("e-li-hover");var i=e(t.currentTarget).closest(".e-item"),s=i.find("> div .e-text");s.length>0&&!s.hasClass("e-node-disable")&&(s.addClass("e-node-hover"),i.addClass("e-li-hover"))},_liMouseLeaveEvent:function(t){var i=e(t.currentTarget).closest(".e-item");i.find("> div .e-text").removeClass("e-node-hover"),i.removeClass("e-li-hover")},_onFocusOutHandler:function(){this._isPopup||this._hidePopup(),this._isPopup=!1},_createObjectByText:function(i,s){if("string"==typeof i){var a={};return t.createObject(this.model.fields.text,i,a),null!=e(s)[0]&&t.createObject(this.model.fields.parentId,s[0].getAttribute("id"),a),a}},_addNodesWhenObject:function(i,s){var a,o,r,l,n,d,h=JSON.stringify(this._dataSource),c=this.dataSource();if(this._dataSource=[],null!=this.dataSource()&&this.dataSource()instanceof t.DataManager&&(c=[]),null!=s[0]&&s.length>0&&(a=s[0].getAttribute("id")),t.isNullOrUndefined(i.length))this._dataSource.push(i),t.isNullOrUndefined(this.dataSource())||(this._setNodeId(i,this.model.fields),t.isNullOrUndefined(a)||t.createObject(this.model.fields.parentId,a,i),c.push(i));else if(this._dataSource=i,!t.isNullOrUndefined(this.dataSource()))for(r=0;r<i.length;r++)this._setNodeId(i[r],this.model.fields),a?t.createObject(this.model.fields.parentId,a,i[r]):this._deepPropertyDelete(this.model.fields.parentId,i[r]),c.push(i[r]);for(o=this._templateType,this._templateType=2,this._liList||(this._liList=e("li",this.element)),l=document.createDocumentFragment(),n=0,d=this._dataSource.length;n<d;n++)l.appendChild(this._genTemplate(this._dataSource[n],this.model.fields)),this._liList.push(e(l).children()[0]),this.dataSource()instanceof t.DataManager&&this._addRemoteData(this._newDataSource,a,this._dataSource[n],this.model.fields);return this._templateType=o,null==this.dataSource()||this.dataSource()instanceof t.DataManager||(this._dataSource=JSON.parse(h),this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(c)),this.dataSource(c))),l},_setNodeId:function(e,i){var s,a,o,r=i&&i.id?i.id:this.model.fields.id;if((t.isNullOrUndefined(e[r])||""==e[r])&&(e[r]=this._id+"_"+this._indexID,this._indexID++),e.hasOwnProperty("child"))for(a=0,o=(s=e.child).length;a<o;a++)this._setNodeId(s[a],i.child)},_addExpandedNodes:function(t){var i=this.model.expandedNodes;this._removeNullInArray(i),-1==e.inArray(t,i)&&this.model.expandedNodes.push(t),this._persistValues(this.model.expandedNodes,"expandedNodes")},_removeExpandedNodes:function(t){var i=this.model.expandedNodes;e.inArray(t,i)>-1&&(this.model.expandedNodes.splice(e.inArray(t,i),1),0==i.length&&i.push(-1)),this._persistValues(this.model.expandedNodes,"expandedNodes")},_persistValues:function(i,s){var a,o,r,l,n,d,h,c;if(!t.isNullOrUndefined(this.model.fields)&&null!=this.dataSource()){for(o=[],n=0,d=(a=i).length;n<d;n++)!t.isNullOrUndefined(a[n])&&a[n]>=0&&(r=this._liList[a[n]],(l=e(r).attr("id"))&&o.push(l));(h=this._getCookies("_persistedValues"))&&((c=JSON.parse(h))[s]=o,c=this._updatePersistAttr(c),this._setCookies("_persistedValues",JSON.stringify(c)))}},_updatePersistAttr:function(i){return t.isNullOrUndefined(this._ignoreOnPersist)?(-1==e.inArray("selectedNodes",this._addToPersist)&&delete i.selectedNodes,-1==e.inArray("expandedNodes",this._addToPersist)&&delete i.expandedNodes,-1==e.inArray("checkedNodes",this._addToPersist)&&delete i.checkedNodes):(e.inArray("selectedNodes",this._ignoreOnPersist)>-1&&delete i.selectedNodes,e.inArray("expandedNodes",this._ignoreOnPersist)>-1&&delete i.expandedNodes,e.inArray("checkedNodes",this._ignoreOnPersist)>-1&&delete i.checkedNodes),i},_onChecked:function(e,i){var s,a,o,r=e.closest(".e-item"),l=this._getNodeDetails(r);this._CurrenctSelectedNodes.push(l.text),s=this._isChecked(r),a=t.isNullOrUndefined(i)||t.isNullOrUndefined(i.event)?"":i.event,o={currentElement:r,id:l.id,parentId:l.parentId,value:l.text,currentNode:this._CurrenctSelectedNodes,currentCheckedNodes:this._checkedArray,isChecked:s,event:a},this._isRender&&this._triggerEvent("nodeCheck",o)},_onUnChecked:function(e,i){var s,a,o,r=e.closest(".e-item"),l=this._getNodeDetails(r);this._CurrenctSelectedNodes.push(l.text),s=this._isChecked(r),a=t.isNullOrUndefined(i)||t.isNullOrUndefined(i.event)?"":i.event,o={currentElement:r,id:l.id,parentId:l.parentId,value:l.text,currentNode:l.text,currentUncheckedNodes:this._uncheckedArray,isChecked:s,event:a},this._triggerEvent("nodeUncheck",o)},_addCheckNodes:function(e){var t=this.model.checkedNodes;this._removeNullInArray(t),!t instanceof Array&&(t=[]),-1==t.indexOf(e)&&t.push(e)},_removeCheckNodes:function(e){var t,i=this.model.checkedNodes;!i instanceof Array&&(i=[]),-1!=(t=i.indexOf(e))&&(i.splice(t,1),0==i.length&&i.push(-1))},_removeNullInArray:function(e){var t=e.indexOf(-1);-1!=t&&e.splice(t,1)},_afterInsertingNode:function(e){this._addDragableClass(),this._finalizeEditing(e);var t=e.closest("ul").closest(".e-item");this._modifyCss(t),this._updateCheckState(t),this._isSelectedAction(),t.length>0&&t.hasClass("e-node-disable")&&this._nodeDisableAction(t),this._updateSelectedNode()},_insertBeforeOrAfter:function(i,s,a){var o,r,l,n;if(null!=(s=this._getNodeByID(s))[0]&&s.is("LI")&&s.hasClass("e-item")){if(this._triggerEvent("beforeAdd",{data:i,targetParent:null!=s[0]?s:null,parentDetails:this._getNodeDetails(s)}))return;if(this._isRender=!1,"object"!=typeof i&&(i=this._createObjectByText(i)),"object"!=typeof i)return;t.getObject(this.model.parentId,i)&&this._deepPropertyDelete(this.model.parentId,i),o=this._addNodesWhenObject(i,s),r=document.createElement("ul"),e(r).append(o),o=e(r.children),this.model.showCheckbox&&o.children().find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange}),s.parents(".e-item:first").length>0?s.parents(".e-item:first").append(o):this.element.append(o),this.model.showCheckbox&&this._isCheckedAction(),this._dropAsSiblingNode(s,o.find("> div > .e-text"),a,""),this._afterInsertingNode(o),this._isRender=!0,this._triggerEvent("nodeAdd",{data:i,nodes:o,parentElement:null!=s[0]?s:null,parentDetails:this._getNodeDetails(s)}),l=this,n=this.dataSource(),setTimeout((function(){null==l.dataSource()||l.dataSource()instanceof t.DataManager||(l._dataSource=l._groupingObjects(n,(function(e){return[!t.isNullOrUndefined(e)&&[t.getObject(l.model.fields.parentId,e)].toString()]})))}),300)}},_getNodeByID:function(t){return"object"!=typeof t&&""!=t&&t!=i?this.element.find(this._checkValidId(t.toString())):((t=e(t)).is("A")&&t.hasClass("e-text")&&(t=t.closest(".e-item")),t)},_checkValidId:function(e){return"#"==e[0]?e.replace(/(:|\.|\[|\]|,)/g,"\\$1"):"#"+e.replace(/(:|\.|\[|\]|,)/g,"\\$1")},_isTreeElement:function(t){return null!=e(t)[0]&&t.is("LI")&&t.hasClass("e-item")},_isUrl:function(e){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)},_getChildUl:function(e){return this.model.fullRowSelect?e.children[2]:e.children[1]},_sendAjaxOptions:function(e,t){var i,s,a=this;(i=this._getNodeDetails(t)).mapper=this.model.fields,i.model=this.model,s={url:e,data:i,type:"POST",async:!0,crossDomain:!0,dataType:"JSON",contentType:"application/json; charset=utf-8",success:function(e){try{a._ajaxSuccessHandler(e,t)}catch(i){}},error:function(e){try{a._ajaxErrorHandler(e)}catch(t){}}},this._sendAjaxRequest(s)},_sendAjaxRequest:function(t){var i=JSON.parse(JSON.stringify(t));delete i.success,delete i.error,this._triggerEvent("beforeLoad",{ajaxOptions:i})||(delete i.success,delete i.error,e.extend(t,i),e.ajax({type:t.type,url:t.url,dataType:t.dataType,data:t.data,async:t.async,contentType:t.contentType,crossDomain:t.crossDomain,success:t.success,error:t.error}))},_ajaxSuccessHandler:function(e,t){this._isRender=!1,"object"==typeof e&&this.addNode(e,t),this._isRender=!0,this._triggerEvent("loadSuccess",{data:e,targetParent:t,parentDetails:this._getNodeDetails(t)})},_ajaxErrorHandler:function(e){this._triggerEvent("loadError",{error:e})},_wireEvents:function(){this._isDevice&&e.isFunction(e.fn.tap)?this._on(this.element.find("li"),"tap",this._ClickEventHandler):this._on(this.element,"click",this._ClickEventHandler),this._on(this.element,this._isDevice&&e.isFunction(e.fn.tap)?this._touchExpandOn:this.model.expandOn,this._expandEventHandler)._on(this.element,"focus",this._onFocusHandler)._on(this.element,"blur",this._onFocusOutHandler),this._wholeRowEvents("_on"),this.model.allowEditing&&this._allowEditable(),this.model.allowDragAndDrop&&this._addDragableClass(),this.model.showCheckbox&&this.element.find(".nodecheckbox").ejCheckBox("enable"),this.model.allowKeyboardNavigation&&this._on(this.element,"keydown",this._KeyPress)},_unWireEvents:function(){this._isDevice&&e.isFunction(e.fn.tap)?this._off(this.element.find("li"),"tap"):this._off(this.element,"click"),this._off(this.element,this._isDevice&&e.isFunction(e.fn.tap)?this._touchExpandOn:this.model.expandOn)._off(this.element,"focus")._off(this.element,"blur"),this._wholeRowEvents("_off"),this._preventEditable(),this._preventDraggable(),this.model.allowKeyboardNavigation&&this._off(this.element,"keydown"),this.model.showCheckbox&&this.element.find(".nodecheckbox").ejCheckBox("disable")},_wholeRowEvents:function(t){this.model.fullRowSelect?(this[t](this.element,this._isDevice&&e.isFunction(e.fn.touchstart)?"touchstart":"mouseenter",".e-text-wrap",this._liMouseEnterEvent),this[t](this.element,this._isDevice&&e.isFunction(e.fn.touchend)?"touchend":"mouseleave",".e-text-wrap",this._liMouseLeaveEvent),this[t](this.element,this._isDevice&&e.isFunction(e.fn.touchstart)?"touchstart":"mouseenter",".e-fullrow",this._liMouseEnterEvent),this[t](this.element,this._isDevice&&e.isFunction(e.fn.touchend)?"touchend":"mouseleave",".e-fullrow",this._liMouseLeaveEvent)):(this[t](this.element,this._isDevice&&e.isFunction(e.fn.touchstart)?"touchstart":"mouseenter",".e-text",this._mouseEnterEvent),this[t](this.element,this._isDevice&&e.isFunction(e.fn.touchend)?"touchend":"mouseleave",".e-text",this._mouseLeaveEvent))},_enableDragDrop:function(){this.model.allowDragAndDrop&&(this._drag(),this.model.allowDropChild&&this._childDrop(),this.model.allowDropSibling&&this._siblingDrop())},_allowEditable:function(){this.element.find(".e-item").addClass("AllowEdit"),this._on(e(document),"click",this._documentClick)._on(this.element,this._isDevice&&e.isFunction(e.fn.tap)?"doubletap":"dblclick","a.e-text",this._inlineEdit)},_preventEditable:function(){this.element.find(".e-item").removeClass("AllowEdit"),this._off(e(document),"click",this._documentClick)._off(this.element,this._isDevice&&e.isFunction(e.fn.tap)?"doubletap":"dblclick","a.e-text")},_preventDraggable:function(){this.element.find(".e-draggable, .e-droppable").removeClass("e-draggable e-droppable"),this._preventDropSibling(),this._preventDropChild(),this._off(this.element,"mouseup touchstart pointerdown MSPointerDown",this._anchors,this._focusElement),this._off(this.element,"focusout",this._anchors,this._blurElement)},_preventDropSibling:function(){this.element.find(".e-dropsibling").removeClass("e-dropsibling")},_preventDropChild:function(){this.element.find(".e-item > div > .e-dropchild").removeClass("e-dropchild")},_getNodeObject:function(e,s){if(!t.isNullOrUndefined(this.model.fields)&&null!=this.dataSource()&&e!=i){if(1===this._templateType){var a=t.Query().where(this.model.fields.id,"equal",e,!1),o=t.DataManager(this._newDataSource).executeLocal(a);return o.length>0&&s?[o[0][this.model.fields.text]]:o}return this._getRemoteNode(this._newDataSource,this.model.fields,e,s)}return[]},_getChildMapper:function(e){return"string"==typeof e.child||t.isNullOrUndefined(e.child)?e:e.child},_getNodeData:function(s){var a,o,r,l,n,d;if(!t.isNullOrUndefined(this.model.fields)&&null!=this.dataSource()&&s!=i){this._updatePersistProb();var h=[],c=[],u=this._orderDataSource().length,p=null;for(a=0;a<u;a++)this._orderDataSource()[a][this.model.fields.id]==s&&(p=s,a=u);if(p){if(this.dataSource()instanceof t.DataManager&&2==this._templateType)return this._getRemoteNode(this._newDataSource,this.model.fields,s);if(2==this._templateType)h=JSON.parse(JSON.stringify(this._getRemoteNode(this._newDataSource,this.model.fields,s)));else{var m=[],g=this._orderDataSource(),_=t.Query().where(this.model.fields.id,"equal",s,!1),f=t.DataManager(g).executeLocal(_),b=this._getFilterItems(f[0],g);for(a=0,o=b.length;a<o;a++)m.push(new t.Predicate(this.model.fields.id,"equal",b[a],!1));r=t.Query().where(t.Predicate.or(m)),h=JSON.parse(JSON.stringify(t.DataManager(g).executeLocal(r)))}for(l=0,n=h.length;l<n;l++)d=t.getObject(this.model.fields.id,h[l]),e(document.getElementById(d)).length>0&&(0==e(document.getElementById(d)).find("> ul .e-item").length?(this._deepPropertyDelete(this.model.fields.hasChild,h[l]),2==this._templateType&&delete h[l].child):1==this._templateType?t.createObject(this.model.fields.hasChild,!0,h[l]):this._updateChildData(h[l].child,this.model.fields),c.push(h[l]));return c}}},_updateChildData:function(s,a){var o,r,l;if(s!=i)for(o=0,r=s.length;o<r;o++)l=t.getObject(a.id,s[o]),e(document.getElementById(l)).length>0&&(0==e(document.getElementById(l)).find("> ul .e-item").length?(this._deepPropertyDelete(a.hasChild,s[o]),delete s[o].child):this._updateChildData(s[o].child,a.child?a.child:a))},_getFilterItems:function(e,s){var a,o,r,l,n,d,h,c,u=[];if(e==i)return u;for(a=t.getObject(this.model.fields.id,e),u.push(a),o=t.Query().where(this.model.fields.parentId,"equal",a,!1),l=0,n=(r=t.DataManager(s).executeLocal(o)).length;l<n;l++)for(h=0,c=(d=this._getFilterItems(r[l],s)).length;h<c;h++)u.push(d[h]);return u},_getRemoteNode:function(e,i,s,a){for(var o,r=[],l=0,n=e.length;l<n;l++){if((o=t.getObject(i.id,e[l]))&&o.toString()==s)return a?r.push(e[l][i.text]):r.push(e[l]),r;if(e[l].hasOwnProperty("child")&&(r=this._getRemoteNode(e[l].child,this._getChildMapper(i),s,a)).length>0)return r}return r},_updateRemoteData:function(e,i,s,a){var o,r,l,n;if(null==this.dataSource()||!this.dataSource().dataSource.offline)for(o=0,r=e.length;o<r;o++){if((l=t.getObject(a.id,e[o]))&&l.toString()==i){e[o].child=s,n=e[o],e.splice(o,1,n);break}e[o].hasOwnProperty("child")&&this._updateRemoteData(e[o].child,i,s,a.child?a.child:a)}},_addRemoteData:function(e,i,s,a){var o,r,l,n;if(null==this.dataSource()||!this.dataSource().dataSource.offline)if(t.isNullOrUndefined(i))e.push(s);else for(o=0,r=e.length;o<r;o++){if((l=t.getObject(a.id,e[o]))&&l.toString()==i){t.isNullOrUndefined(e[o].child)?(e[o].child=[s],n=e[o],e.splice(o,1,n)):e[o].child.push(s);break}e[o].hasOwnProperty("child")&&this._addRemoteData(e[o].child,i,s,a.child?a.child:a)}},refresh:function(){this._unWireEvents(),this.element.html(""),this._init()},expandAll:function(e,t){this.model.enableMultipleExpand&&(e>0?this._expandByLevel(this._getElement(),e,t):this._expandAll(t))},collapseAll:function(e,t){this.model.enableMultipleExpand&&(e>0?this._collapseByLevel(this._getElement(),e,t):this._collapseAll(t))},checkAll:function(){this.model.showCheckbox&&this._checkAll()},unCheckAll:function(){this.model.showCheckbox&&this._uncheckAll()},selectNode:function(e){e&&"object"==typeof e&&e.length>0?(this._unselectAll(),this._doSelectNodes(e,!0)):(e=this._getNodeByID(e),this._isTreeElement(e)&&this._nodeSelectionAction(e))},unselectNode:function(e){e&&"object"==typeof e&&e.length>0?this._doUnselectNodes(e):(e=this._getNodeByID(e),this._isTreeElement(e)&&this._nodeUnSelectionAction(e))},selectAll:function(){this.model.allowMultiSelection&&this._selectAll()},unselectAll:function(){this.model.allowMultiSelection&&this._unselectAll()},enableNode:function(e){var t,i;if(e&&"object"==typeof e&&e.length>0)for(t=0;t<e.length;t++)this.enableNode(e[t]);else i=this._getNodeByID(e),this._isTreeElement(i)&&this._nodeEnableAction(i)},disableNode:function(e){var t,i;if(e&&"object"==typeof e&&e.length>0)for(t=0;t<e.length;t++)this.disableNode(e[t]);else i=this._getNodeByID(e),this._isTreeElement(i)&&this._nodeDisableAction(i)},addNodes:function(e,t,s){if(e&&"object"==typeof e&&t==i&&e.length>0)for(var a=0;a<e.length;a++)this.addNode(e[a],t,s);else this.addNode(e,t,s)},addNode:function(i,s,a){var o,r,l,n,d,h,c,u,p;t.isNullOrUndefined(i)||(o=null,n=s?this._getNodeByID(s):this.model.allowMultiSelection?this.getSelectedNodes():this.getSelectedNode(),"object"==typeof i&&t.isNullOrUndefined(s)&&(d=t.getObject(this.model.fields.parentId,i),t.isNullOrUndefined(i.length)&&!t.isNullOrUndefined(d)?l=d:t.isNullOrUndefined(i.length)||1!=i.length||(l=t.getObject(this.model.fields.parentId,i[0])),l&&(n=this._getNodeByID(l))),n=this._isTreeElement(n)?e(n[0]):[],h=this._isParentExpand(n),this._triggerEvent("beforeAdd",{data:i,targetParent:null!=n[0]?n:null,parentDetails:this._getNodeDetails(n)}))||(0==n.length||n.hasClass("e-node-disable")||this._expandNode(n),"object"!=typeof i&&(i=this._createObjectByText(i,n)),"object"!=typeof i||t.isNullOrUndefined(i.length)&&0==i.length)||(o=this._addNodesWhenObject(i,n),r=document.createElement("ul"),e(r).append(o),o=e(r.children),this.model.showCheckbox&&o.children().find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange}),this._appendNode(n,o),null!=n[0]&&((c=e(n[0].childNodes[0].childNodes[0])).hasClass("e-plus")||c.hasClass("e-minus")?c.removeClass("e-load"):c.removeClass("e-icon e-load")),null!=n[0]&&n.find("> div > .e-minus").length>0&&!this.model.enableMultipleExpand&&this._denyMultipleExpand(n),this._updateNodes(),this._afterInsertingNode(o),this._isDevice&&e.isFunction(e.fn.tap)&&null==n[0]&&this._on(o,"tap",this._ClickEventHandler),a&&!h&&this._preventParentNode(n),this._triggerEvent("nodeAdd",{data:i,nodes:o,parentElement:null!=n[0]?n:null,parentDetails:this._getNodeDetails(n)}),u=this,p=this.dataSource(),setTimeout((function(){null==u.dataSource()||u.dataSource()instanceof t.DataManager||(u._dataSource=u._groupingObjects(p,(function(e){return[!t.isNullOrUndefined(e)&&[t.getObject(u.model.fields.parentId,e)].toString()]})))}),300))},removeNode:function(e){var t,i;if(e&&"object"==typeof e&&e.length>0)for(t=0;t<e.length;t++)this.removeNode(e[t]);else i=e?this._getNodeByID(e):this.model.allowMultiSelection?this.getSelectedNodes():this.getSelectedNode(),this._isTreeElement(i)&&this._removeNode(i)},removeAll:function(){this._liList.remove(),this._updateNodes()},checkNode:function(e){var t,i;if(this.model.showCheckbox)if(e&&"object"==typeof e&&e.length>0)for(t=0;t<e.length;t++)this.checkNode(e[t]);else i=this._getNodeByID(e),this._isTreeElement(i)&&this._nodeCheck(i.find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0])},uncheckNode:function(e){var t,i;if(this.model.showCheckbox)if(e&&"object"==typeof e&&e.length>0)for(t=0;t<e.length;t++)this.uncheckNode(e[t]);else i=this._getNodeByID(e),this._isTreeElement(i)&&this._nodeUncheck(i.find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0])},expandNode:function(e){e&&"object"==typeof e&&e.length>0?(this._allowOnDemand=!0,this._expandNodes(e,!0),this._allowOnDemand=!1):(e=this._getNodeByID(e),this._isTreeElement(e)&&(this._allowOnDemand=!0,this._expandNode(e),this._allowOnDemand=!1))},collapseNode:function(e){var t,i;if(e&&"object"==typeof e&&e.length>0)for(t=0;t<e.length;t++)this.collapseNode(e[t]);else i=this._getNodeByID(e),this._isTreeElement(i)&&this._collapseNode(i)},showNode:function(e){var t,i;if(e&&"object"==typeof e&&e.length>0)for(t=0;t<e.length;t++)this.showNode(e[t]);else i=this._getNodeByID(e),this._isTreeElement(i)&&i.css("visibility","").removeClass("hidden")},hideNode:function(e){var t,i;if(e&&"object"==typeof e&&e.length>0)for(t=0;t<e.length;t++)this.hideNode(e[t]);else i=this._getNodeByID(e),this._isTreeElement(i)&&i.css("visibility","hidden").addClass("hidden")},show:function(){this.element.css("visibility","").find(".e-item").removeClass("hidden")},hide:function(){this.element.css("visibility","hidden").find(".e-item").addClass("hidden")},hasChildNode:function(e){return e=this._getNodeByID(e),this._isTreeElement(e)?e.find("> ul > .e-item").length>0:void 0},isChildLoaded:function(e){return e=this._getNodeByID(e),!!(this._isTreeElement(e)&&e.find("ul > .e-item").length>0)},isNodeChecked:function(e){return e=this._getNodeByID(e),this._isTreeElement(e)?this._isChecked(e):void 0},isExpanded:function(e){return e=this._getNodeByID(e),this._isTreeElement(e)?this._isNodeExpanded(e):void 0},isVisible:function(e){return e=this._getNodeByID(e),!(!this._isTreeElement(e)||"hidden"==e.css("visibility"))},isExist:function(e){return e=this._getNodeByID(e),!(!this._isTreeElement(e)||-1==this._liList.index(e))},isSelected:function(e){return e=this._getNodeByID(e),this._isTreeElement(e)?e.find("> div > .e-text").hasClass("e-active"):void 0},isDisabled:function(e){return e=this._getNodeByID(e),!(!this._isTreeElement(e)||!e.hasClass("e-node-disable"))},getTreeData:function(e){return e!=i?this._getNodeData(e):t.isNullOrUndefined(this.model.fields)||null==this.dataSource()?void 0:this._orderDataSource()},getText:function(t){return t=this._getNodeByID(t),this._isTreeElement(t)?e.trim(this.element.find(t).find("> div > .e-text").text()):void 0},getSelectedNode:function(){return this.model.allowMultiSelection?null:this.element.find(".e-item > div > .e-active").closest(".e-item")},getSelectedNodes:function(){return this.element.find(".e-item > div > .e-active").closest(".e-item")},getCheckedNodes:function(){if(this.model.showCheckbox)return this._liList.find('> div > .e-chkbox-wrap[aria-checked="true"]').closest(".e-item")},getExpandedNodes:function(){return this.element.find(".e-item > div > .e-minus").closest(".e-item")},getExpandedNodesIndex:function(){return this._getNodesIndex(this.getExpandedNodes())},getCheckedNodesIndex:function(){return this._getNodesIndex(this.getCheckedNodes())},getSelectedNodeIndex:function(){return this.model.allowMultiSelection?null:this._getNodesIndex(this.getSelectedNode())},getSelectedNodesIndex:function(){return this._getNodesIndex(this.getSelectedNodes())},getVisibleNodes:function(){return this.element.find(".e-item:visible:not(.hidden, .e-node-disable)")},getNodeCount:function(){return this.element.find(".e-item").length},getNode:function(e){return e=this._getNodeByID(e),this._isTreeElement(e)?this._getNodeDetails(e):null},getNodeIndex:function(e){return e=this._getNodeByID(e),this._isTreeElement(e)?this._liList.index(e):void 0},getNodeByIndex:function(t){if("number"==typeof t)return e(this._liList[t])},getParent:function(e){return e=this._getNodeByID(e),this._isTreeElement(e)?e.parents(".e-item:first"):void 0},getChildren:function(e,t){return e=this._getNodeByID(e),this._isTreeElement(e)?t?e.find(".e-item"):e.find("> ul > .e-item"):void 0},updateText:function(i,s){var a,o,r,l,n;if(i=this._getNodeByID(i),this._isTreeElement(i)&&!t.isNullOrUndefined(s)){if(a=this.element.find(i).children("div").find("> .e-text")[0],l=i.closest("li")[0].id,null!=a){if(r={currentElement:e(a)},this._triggerEvent("beforeEdit",r))return!1;o=a.lastChild.nodeValue}a.lastChild.nodeValue=s,this._updateField(this._newDataSource,i.attr("id"),this.model.fields,"text",s),this.model.template&&((n=this._getNodeObject(l))&&0!=n.length?a.innerHTML=this._renderEjTemplate(this.model.template,n[0]):a.innerText=s),this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)),this._triggerEvent("nodeEdit",{id:i.attr("id"),oldText:o,newText:s,target:i,nodeDetails:this._getNodeDetails(i),event:null})}},insertAfter:function(e,t){this._insertBeforeOrAfter(e,t,!1)},insertBefore:function(e,t){this._insertBeforeOrAfter(e,t,!0)},moveNode:function(e,i,s){if(e=this._getNodeByID(e),i=this._getNodeByID(i),this._isTreeElement(e)){if(e.parents(".e-item")[0]==i[0]&&t.isNullOrUndefined(s)||i.find(e).index()==s||null==i[0]&&this._liList.index(e)==s)return;var a=null!=i[0]&&s>=0?i.find("> ul > .e-item").eq(s):this.getNodeByIndex(s);this._isRender=!1,this._isTreeElement(a)?a.parents(".e-item:first")[0]==e.parents(".e-item:first")[0]&&null==a.next(".e-item")[0]?this._dropAsSiblingNode(a,e.find(" > div > .e-text"),!1,""):this._dropAsSiblingNode(a,e.find(" > div > .e-text"),!0,""):this._dropAsChildNode(i,e.find(" > div > .e-text"),""),i.length>0&&i.hasClass("e-node-disable")&&this._nodeDisableAction(i),this._isRender=!0}},loadData:function(e,t){t=this._getNodeByID(t),this._isUrl(e)&&(null==t[0]||this._isTreeElement(t))&&this._sendAjaxOptions(e,t)},ensureVisible:function(t){var i,s,a,o;if(t=this._getNodeByID(t),this._isTreeElement(t)&&!this.isDisabled(t)&&this.isVisible(t)){for(a=0,o=(i=t.parents(".e-item")).length;a<o;a++)this._expandNode(e(i[a]));return s=t.offset(),t.animate({scrollTop:s.top},this.model.enableAnimation?350:0,"linear",(function(){t.find("> div > a.e-text")[0].scrollIntoView(!1)})),!0}return!1},_triggerEvent:function(e,t){if(this._isRender)return this._trigger(e,t)}})}(jQuery,Syncfusion),function(e,t,i){t.widget("ejSplitter","ej.Splitter",{element:null,model:null,validTags:["div","span"],_rootCSS:"e-splitter",_setFirst:!1,angular:{terminal:!1},defaults:{cssClass:"",orientation:"horizontal",enableAnimation:!0,properties:[],height:null,width:null,enableAutoResize:!1,isResponsive:!1,enableRTL:!1,allowKeyboardNavigation:!0,htmlAttributes:{},expanderTemplate:null,animationSpeed:300,beforeExpandCollapse:null,clickOnExpander:null,expandCollapse:null,resize:null,create:null,destroy:null},dataTypes:{cssClass:"string",orientation:"enum",properties:"data",enableAutoResize:"boolean",expanderTemplate:"string",isResponsive:"boolean",enableRTL:"boolean",allowKeyboardNavigation:"boolean",animationSpeed:"number",enableAnimation:"boolean",htmlAttributes:"data"},_init:function(){this._initialize(),this._render(),this.model.isResponsive||this.model.enableAutoResize?this._wireEvents(!0):this._wireEvents(!1)},_setModel:function(e){for(var t in e)switch(t){case"cssClass":this._changeSkin(e[t]);break;case"enableAutoResize":case"isResponsive":this._windowResizing(e[t]);break;case"enableRTL":this._rtl(e[t]);break;case"htmlAttributes":this._addAttr(e[t]);break;case"orientation":this._refreshSplitter("orientation",e[t]);break;case"properties":this._refreshSplitter("properties",e[t]);break;case"width":this.model.width=e[t],this._setHeightWidth();break;case"height":this.model.height=e[t],this._setHeightWidth()}},refresh:function(){this._setPanesSize(),this._getPanesPercent()},collapse:function(e){this._clickArrow(e,!0,!0)},expand:function(e){this._clickArrow(e,!1,!0)},_clickArrow:function(i,s,a){if(this._inMovement||i<0||i>this.panes.length||this.panes.length<=1)return!1;var o,r=s?"e-collapse":"e-expand",l=this.element.children(".e-splitbar:not(.e-shadowbar)");if(t.isNullOrUndefined(this.model.expanderTemplate)?o=i==l.length?this._clickArrow(i-1,!s,!1):e(l[i]).children("."+r):(o=e(l[i]).children(".e-splitter-"+this.model.orientation.substr(0,1)+"-template"),s?this._collapseArrowClick(this.templateargs):this._expandArrowClick(this.templateargs)),t.isNullOrUndefined(this.model.expanderTemplate)||this._templateIconPositioning(!0),!a)return o;"none"==o.css("display")&&t.isNullOrUndefined(this.model.expanderTemplate)||o.mouseup()},addItem:function(i,s,a){var o,r,l,n,d,h=this.panes.length;if(a=this._getNumber(a),o=this.element[this.containerCss](),t.isNullOrUndefined(a)&&(a=h),a<0||a>h)return"";s=this._getPaneProperty(s),s=this._checkMinMaxSize(s),r=t.buildTag("div.e-pane e-"+this.model.orientation.substr(0,1)+"-pane"),this.element.append(r[this.containerCss](s.paneSize)),l=s.paneSize=r[this.containerCss](),0==h&&this.panes.push(r),r.remove();var c,u,p,m,g=a,_=h>0?h:this.panes.length,f={},b=0,v=!1;for(n=l+this._bar,u=0;u<2;u++){for(c=g;c<_;c++){var x=e(this.panes[c])[this.containerCss](),y=t.isNullOrUndefined(this.model.properties[c])?s.minSize:this.model.properties[c].minSize,w=x-y;if(w>=n-b){f[c]=x-(n-b),v=!0;break}0==h&&w>=0?(f[c]=y,b+=w,v=!0):w>0&&(f[c]=y,b+=w)}if(v)break;_=g,g=0}if(!v)return"";for(d in f)e(this.panes[d])[this.containerCss](f[d]);return h<=0?r.append(e(this.panes[a])):a==h?(p="insertBefore",m=1,r.insertAfter(e(this.panes[a-1]))):(p="insertAfter",m=0,r.insertBefore(e(this.panes[a]))),this.model.properties.splice(a,0,s),0==h&&this.element.append(r[this.containerCss](o)),h>0&&(this.panes.splice(a,0,r),this._createSplitBar(a-m)[p](r)),r.append(i),this._updateModel(),r},removeItem:function(i){var s,a,o,r,l=this.panes.length-1;if(i=this._getNumber(i),t.isNullOrUndefined(i)&&(i=l),i<0||i>l||l<0)return null;r=(s=e(this.panes[i]))[this.containerCss]()+this._bar,s.remove(),o=this.element.children(".e-splitbar:not(.e-shadowbar)"),i==l?(a=e(this.panes[i-1]),e(o[i-1]).remove()):(a=e(this.panes[i+1]),e(o[i]).remove()),a[this.containerCss](a[this.containerCss]()+r),this._removeArrays(i),this._updateModel()},_checkMinMaxSize:function(e){return!t.isNullOrUndefined(e.minSize)&&e.paneSize<e.minSize&&(e.paneSize=e.minSize),!t.isNullOrUndefined(e.maxSize)&&e.paneSize>e.maxSize&&(e.paneSize=e.maxSize),e},_removeArrays:function(e){this.model.properties.splice(e,1),this.panes.splice(e,1),this.oldPaneSize.splice(e,1),this.oldPanePercent.splice(e,1),this._sizePercent.splice(e,1)},_getNumber:function(e){return e=parseFloat(e),isNaN(e)?null:e},_updateModel:function(){for(var t=0;t<this.panes.length;t++)this.model.properties[t].paneSize=e(this.panes[t])[this.containerCss]();this._getPanesPercent()},_getPaneProperty:function(t){return e.extend({paneSize:10,minSize:10,maxSize:null,collapsible:!0,resizable:!0,expandable:!0},t)},_changeSkin:function(e){this.element.removeClass(this.model.cssClass).addClass(e)},_windowResizing:function(e){e?this._wireEvents(e):this._unWireEvents()},_refreshSplitter:function(e,t){this._unWireEvents(),this._refreshDestroy(),this.model[e]=t,this._init()},_destroy:function(){this.element.removeClass("e-splitter"),this._refreshDestroy(),this._unWireEvents()},_refreshDestroy:function(){this.element.removeClass("e-widget e-box e-rtl"+this.model.cssClass+" e-"+this.model.orientation),this.element.children(".e-splitbar").remove(),this.element.children(".e-pane").removeClass("e-pane e-"+this.model.orientation.substr(0,1)+"-pane").height("").width("")},_initialize:function(){this.panes=[],this.oldPaneSize=[],this.oldPanePercent=[],this._initialPropertiesValue=[],this._updateHeightWidth=!1,this.shadowBar=null,this._inMovement=!1,this.containerCss="horizontal"==this.model.orientation?"width":"height",this.displayCss="horizontal"==this.model.orientation?"left":"top",this.borderCss="horizontal"==this.model.orientation?"right":"bottom",this._bar=9},_render:function(){this.element.addClass("e-widget e-box "+this.model.cssClass+" e-"+this.model.orientation).attr("data-role","splitter");for(var i=this.element[0],s=0;s<i.children.length;s++)e(i.children[s]).addClass("e-pane"),this.panes.push(i.children[s]);this._setPanesProperty(),this._insertSplitBar(),this._setDimentions(),t.isNullOrUndefined(this.model.expanderTemplate)||this.element.find(".e-splitter-"+this.model.orientation.substr(0,1)+"-template").css("z-index",t.getMaxZindex()+1),this._setPanesSize(),this._getPanesPercent(),this._addAttr(this.model.htmlAttributes),this._checkProperties(),this.element.find(".e-pane").addClass("e-"+this.model.orientation.substr(0,1)+"-pane"),this.model.isResponsive&&(isNaN(this.model.height)&&this.model.height.indexOf("%")>0&&this.element.css("height",this.model.height),isNaN(this.model.width)&&this.model.width.indexOf("%")>0&&this.element.css("width",this.model.width))},_templateClick:function(t){var i=this.templateargs={cancel:!1,targetElement:e(t.target),event:t.type,model:this.model,currentTarget:e(t.currentTarget)};this._trigger("clickOnExpander",i)},_templateIconPositioning:function(e){var i=this;"webkit"==t.browserInfo().name&&e&&(i.element.find(".e-splitter-"+i.model.orientation.substr(0,1)+"-template").css("display","none"),setTimeout((function(){i.element.find(".e-splitter-"+i.model.orientation.substr(0,1)+"-template").css("display","block")}),i._isMouseMove?10:i.model.animationSpeed),i._isMouseMove=!1),e||setTimeout((function(){i.element.find(".e-splitter-"+i.model.orientation.substr(0,1)+"-template").css("display","inline-block")}),100)},_setPanesProperty:function(){for(var e=0;e<this.panes.length;e++)this.model.properties[e]!=i?(this.model.properties[e].paneSize=this.model.properties[e].paneSize==i?"0px":this.model.properties[e].paneSize,this.model.properties[e].minSize=isNaN(parseFloat(this.model.properties[e].minSize))?10:parseFloat(this.model.properties[e].minSize),this.model.properties[e].maxSize=isNaN(parseFloat(this.model.properties[e].maxSize))?null:parseFloat(this.model.properties[e].maxSize),this.model.properties[e].collapsible=0!=this.model.properties[e].collapsible,this.model.properties[e].resizable=0!=this.model.properties[e].resizable,this.model.properties[e].expandable=0!=this.model.properties[e].expandable):this.model.properties.push({paneSize:"0px",minSize:10,maxSize:null,collapsible:!0,resizable:!0,expandable:!0}),this._initialPropertiesValue[e]=this.model.properties[e].paneSize},_addAttr:function(t){var i=this;e.map(t,(function(e,t){"class"==t?i.element.addClass(e):i.element.attr(t,e)}))},_insertSplitBar:function(){if(this.panes.length>1)for(var e=0;e<this.panes.length-1;e++)this._createSplitBar(e).insertAfter(this.panes[e])},_createSplitBar:function(i){var s,a,o,r,l,n=this.model.orientation.substr(0,1),d=!1;return r=t.buildTag("span.e-box e-splitbar e-split-divider e-"+n+"-bar").attr("aria-expanded",!0),"msie"==t.browserInfo().name&&r.addClass("e-pinch"),t.isNullOrUndefined(this.model.expanderTemplate)?(s=t.buildTag("span.e-icon e-collapse e-"+n+"-arrow "+("h"==n?"e-arrow-sans-left":"e-arrow-sans-up")),r.append(s),o=t.buildTag("span.e-activebar e-"+n+"-arrow "),r.append(o),a=t.buildTag("span.e-icon e-expand e-"+n+"-arrow "+("h"==n?"e-arrow-sans-right":"e-arrow-sans-down")),r.append(a),d=!0,this._on(s,t.isDevice()?"tap":"mouseup",this._collapseArrowClick),this._on(a,t.isDevice()?"tap":"mouseup",this._expandArrowClick),this.model.properties[i].collapsible||s.css("display","none"),this.model.properties[i].expandable||a.css("display","none"),this.model.properties[i+1].collapsible&&a.css("display","block")):(document.getElementsByClassName("e-split-divider")[0],l=document.createElement("span"),e(l).append(this.model.expanderTemplate),e(l).attr("class","e-splitter-"+this.model.orientation.substr(0,1)+"-template e-resize"),e(l).on(t.isTouchDevice()?"tap":"click",e.proxy(this._templateClick,this)),r.append(l),this._templateIconPositioning(!1)),this.model.properties[i].resizable&&this.model.properties[i+1].resizable&&(r.addClass("e-resize").removeClass("e-icon-hide"),d=!0,this._on(r,t.eventType.mouseDown,this._mouseDownOnDivider),t.isNullOrUndefined(this.model.expanderTemplate)&&this._on(o,t.eventType.mouseDown,this._mouseDownOnDivider)),d?(r.attr({role:"separator",tabindex:"0"}),this._on(r,"focus focusout",this._focusOnDivider)):r.attr({role:"presentation"}),r},_getTemplatedString:function(){for(var e,t=this.model.expanderTemplate,i=t.indexOf("${"),s=t.indexOf("}");-1!=i&&-1!=s;)e=t.substring(i,s+1);return e},_getPanesPercent:function(){this._sizePercent=[];for(var t=this.element[this.containerCss]()-(this.panes.length-1)*this._bar,i=0;i<this.panes.length;i++)e(this.panes[i]).hasClass("collapsed")||(this.oldPaneSize[i]=e(this.panes[i])[this.containerCss]()),this.oldPanePercent[i]=this._convertToPercent(t,this.oldPaneSize[i]),this._sizePercent.push(this._convertToPercent(t,e(this.panes[i])[this.containerCss]()))},_setDimentions:function(){var e=this._getParentObj(),t=parseInt(this.model.width),i=parseInt(this.model.height);isNaN(this.model.width)&&this.model.width.indexOf("%")>0&&(t=this.model.isResponsive?this._convertToPixel(e.innerWidth(),t):this.model.width),isNaN(this.model.height)&&this.model.height.indexOf("%")>0&&(i=this.model.isResponsive?this._convertToPixel(e.innerHeight(),i):this.model.height),this.model.height&&this.element.css("height",i),this.model.width&&this.element.css("width",t)},_setHeightWidth:function(){this._updateHeightWidth=!0,this._setDimentions(),this._setPanesSize(),this._getPanesPercent()},_getParentObj:function(){return this.element.parent()},_checkProperties:function(){this.model.enableRTL&&this._rtl(this.model.enableRTL),this._prevSize=this.element[this.containerCss]()},_getExactInnerWidth:function(){var i=t.browserInfo();return"msie"==i.name?8==i.version||9==i.version?e(this.element)[this.containerCss]():parseFloat(window.getComputedStyle(this.element[0])[this.containerCss]):parseFloat(window.getComputedStyle(this.element[0])[this.containerCss])-(parseFloat(this.element.css("border-"+this.displayCss+"-width"))+parseFloat(this.element.css("border-"+this.borderCss+"-width"))+parseFloat(this.element.css("padding-"+this.displayCss))+parseFloat(this.element.css("padding-"+this.borderCss)))},_rtl:function(e){e?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_setPanesSize:function(){var i,s,a,o,r,l,n,d,h=this.containerCss,c=0,u=0,p=this.element[h](),m=!1,g=this._bar=e(this.element).find(">.e-splitbar").length>0?parseFloat(e(this.element).find(">.e-splitbar").css(h)):this._bar,_=[],f=this.panes.length;if(f>1)for(s=0;s<f;s++)e(this.panes[s]).css(h,1==this._updateHeightWidth?this._initialPropertiesValue[s]:this.model.properties[s].paneSize),this._updateHeightWidth=!1,g=s==f-1?0:g,i=parseFloat(e(this.panes[s])[h]()),t.isNullOrUndefined(this.model.properties[s].maxSize)||(i=i>this.model.properties[s].maxSize?this.model.properties[s].maxSize:i),e(this.panes[s]).css(h,i),i<=0?(c++,_.push(s),u+=g):m?(e(this.panes[s]).css(h,0),u+=i+g,this.model.properties[s].paneSize=0):((u+=i+g)>p&&(a=u-p+g,a+=(f-s-1)*g,e(this.panes[s]).css(h,a),m=!0,u+=a+g),this.model.properties[s].paneSize=i);else 1==f&&(e(this.panes[0]).css(h,"100%"),u=p);if(f>1&&u!=p)if(r=e(this.panes[f-1]),u>p)o=u-p,r.css(h,o);else if(u<p)if(o=p-u,c>0)for(n=parseFloat(o/c),l=0;l<c;l++)e(this.panes[_[l]]).css(h,n),this.model.properties[_[l]].paneSize=n;else{for(d=f;d>0;d--)if(t.isNullOrUndefined(this.model.properties[d-1].maxSize)){r=e(this.panes[d-1]);break}r.css(h,parseFloat(r[h]()+o)),this.model.properties[f-1].paneSize=r[h]()}f>1&&this._checkPaneSize()},_getUnit:function(e){return"px"==e?"px":"pt"==e?"pt":"%"==e.substr(1)?"%":"px"},_getNormalValue:function(e){var t,i,s;return"vertical"==this.model.orientation?(t=(e.y-this.element.offset().top)/this.element.outerHeight(),i=this.element.height()):(t=(e.x-this.element.offset().left)/this.element.outerWidth(),i=this.element.width()),t>1&&(t=1),t<0&&(t=0),s=t*i,this._trimValue(s)},_trimValue:function(e){var t,i,s;return s=e-(i=e%(t=1)),2*Math.abs(i)>=t&&(s+=i>0?t:-t),parseFloat(s.toFixed(5))},_getSplitbarIndex:function(){return this.element.children(".e-splitbar:not(.e-shadowbar)").index(this.currentSplitBar)},_paneResize:function(){var t,i,s,a,o,r,l,n;if(null==this.shadowBar)return!1;this.currentSplitBar=this.shadowBar.next(),r=this._getSplitbarIndex(),i=this.shadowBar.prev(),s=this.currentSplitBar.next(),a=r,o=r+1,t=this.shadowBar.offset()[this.displayCss],t-=this.currentSplitBar.offset()[this.displayCss],e(i).css(this.containerCss,t+e(i)[this.containerCss]()+"px"),e(s).css(this.containerCss,e(s)[this.containerCss]()-t+"px"),this.oldPaneSize[a]=e(i)[this.containerCss](),this.oldPaneSize[o]=e(s)[this.containerCss](),this.shadowBar.remove(),this._checkPaneSize(),l={item:i,index:a,size:this.oldPaneSize[a]},n={item:s,index:o,size:this.oldPaneSize[o]},this._updateModelValue(l,n),this._trigger("resize",{prevPane:l,nextPane:n,splitbarIndex:r})},_checkPaneSize:function(){for(var t,i,s,a=0,o=this.panes.length,r=0;r<o;r++)a+=("width"==this.containerCss?e(this.panes[r]).outerWidth():e(this.panes[r]).outerHeight())+this._bar;if((a-=this._bar)!=(t=this._getExactInnerWidth()))if(i=t-a,0==(s=e(this.panes[o-1])[this.containerCss]())){for(r=o-1;r>=0;r--)if(e(this.panes[r]).hasClass("expanded")&&!e(this.panes[r]).hasClass("collapsed")){s=e(this.panes[r])[this.containerCss](),e(this.panes[r]).css(this.containerCss,parseFloat(s+i));break}}else e(this.panes[o-1]).css(this.containerCss,parseFloat(s+i))},_maxminDraggableRange:function(e){var t,i,s,a,o,r,l,n,d,h,c,u,p,m;t=this.shadowBar.prev(),this.currentSplitBar=this.shadowBar.next(),i=this.currentSplitBar.next(),s=t[this.containerCss](),a=i[this.containerCss](),r=(o="left"==this.displayCss?this.currentSplitBar[0].offsetLeft:this.currentSplitBar[0].offsetTop)-s,l=a+o,n=m=this._getSplitbarIndex(),d=m+1,h=this.model.properties[n].maxSize,c=this.model.properties[d].maxSize,h=null!=h?parseInt(h,10):null,c=null!=c?parseInt(c,10):null,this.model.properties[n].minSize=parseInt(this.model.properties[n].minSize,10),this.model.properties[d].minSize=parseInt(this.model.properties[d].minSize,10),u=this.model.properties[n].minSize,p=this.model.properties[d].minSize,this.shadowBar.removeClass("e-end-indicaton"),e>l-p?(this.resizedPosition=l-p,this.shadowBar.addClass("e-end-indicaton")):e<r+u&&(this.resizedPosition=r+u,this.shadowBar.addClass("e-end-indicaton")),null!=h?e>r+h&&(this.resizedPosition=r+h,this.shadowBar.addClass("e-end-indicaton")):null!=c&&e<l-c&&(this.resizedPosition=l-c,this.shadowBar.addClass("e-end-indicaton"))},_collapseArrowClick:function(i){var s,a,o,r,l,n,d,h,c,u,p,m,g,_,f;if(null==this.shadowBar){if(s=t.isNullOrUndefined(i.target)?e(i.currentTarget):e(i.target),this._inMovement=!0,this.currentSplitBar=s.parent(),c={},u=this.panes.length,a=this._getSplitbarIndex(),o=this.currentSplitBar.prev(),r=this.currentSplitBar.next(),l=a,n=a+1,d=o[this.containerCss](),h=r[this.containerCss](),p=this,m={item:o,index:l,size:d},g={item:r,index:n,size:h},this._raiseEvent("beforeExpandCollapse",m,g,a,"beforeCollapse"))return!1;if(r.hasClass("collapsed")){if(d<this.oldPaneSize[n])return s.addClass("e-end-indicaton"),this._inMovement=!1,e(document).on("mouseup",e.proxy(this._mouseUpOnArrow,this)),!1;o.removeClass("expanded"),r.removeClass("collapsed"),s.parent().addClass("e-resize").removeClass("e-icon-hide"),e(s.siblings()).not(".e-activebar").css("display","block"),this.model.properties[l].collapsible||s.css("display","none"),n!=u-1&&(f=r.next(),this.model.properties[n+1].collapsible||f.find(".e-expand").css("display","none"),f.find(".e-collapse").css("display","block"),f.next().hasClass("collapsed")||(f.addClass("e-resize").removeClass("e-icon-hide"),f.attr("aria-expanded",!0))),c[this.containerCss]=this.oldPaneSize[n],r.animate(c,this.model.enableAnimation?this.model.animationSpeed:0),c[this.containerCss]=d-this.oldPaneSize[n],o.animate(c,this.model.enableAnimation?this.model.animationSpeed:0,(function(){p._raiseEvent("expandCollapse",m,g,a,"collapsed")}))}else this.oldPaneSize[l]=d,o.addClass("collapsed"),r.addClass("expanded"),this.currentSplitBar.attr("aria-expanded",!1),s.parent().removeClass("e-resize").addClass("e-icon-hide"),t.isNullOrUndefined(this.model.expanderTemplate)&&s.css("display","none"),this.model.properties[n].collapsible||e(s.siblings()).not(".e-activebar").css("display","block"),0!=l&&((_=o.prev()).find(".e-expand").css("display","none"),!this.model.properties[l-1].collapsible&&e(o.prev().prev()[0]).hasClass("expanded")&&_.find(".e-collapse").css("display","block"),_.removeClass("e-resize").addClass("e-icon-hide")),c[this.containerCss]=0,o.animate(c,this.model.enableAnimation?this.model.animationSpeed:0),c[this.containerCss]=d+h,r.animate(c,this.model.enableAnimation?this.model.animationSpeed:0,(function(){p._raiseEvent("expandCollapse",m,g,a,"collapsed")}))}},_expandArrowClick:function(i){var s,a,o,r,l,n,d,h,c,u,p,m,g,_,f;if(null==this.shadowBar){if(s=t.isNullOrUndefined(i.target)?e(i.currentTarget):e(i.target),this._inMovement=!0,this.currentSplitBar=s.parent(),c={},u=this.panes.length,a=this._getSplitbarIndex(),o=this.currentSplitBar.prev(),r=this.currentSplitBar.next(),l=a,n=a+1,d=o[this.containerCss](),h=r[this.containerCss](),p=this,m={item:r,index:n,size:h},g={item:o,index:l,size:d},this._raiseEvent("beforeExpandCollapse",m,g,a,"beforeExpand"))return!1;if(o.hasClass("collapsed")){if(h<this.oldPaneSize[l])return s.addClass("e-end-indicaton"),this._inMovement=!1,e(document).on("mouseup",e.proxy(this._mouseUpOnArrow,this)),!1;o.removeClass("collapsed"),r.removeClass("expanded"),this.currentSplitBar.attr("aria-expanded",!0),s.parent().addClass("e-resize").removeClass("e-icon-hide"),e(s.siblings()).not(".e-activebar").css("display","block"),this.model.properties[n].collapsible||s.css("display","none"),0!=l&&(f=o.prev(),this.model.properties[a-1].collapsible||f.find(".e-collapse").css("display","none"),f.find(".e-expand").css("display","block"),f.prev().hasClass("collapsed")||f.addClass("e-resize").removeClass("e-icon-hide")),c[this.containerCss]=this.oldPaneSize[l],o.animate(c,this.model.enableAnimation?this.model.animationSpeed:0),c[this.containerCss]=h-this.oldPaneSize[l],r.animate(c,this.model.enableAnimation?this.model.animationSpeed:0,(function(){p._raiseEvent("expandCollapse",m,g,a,"expanded")}))}else this.oldPaneSize[n]=h,o.addClass("expanded"),r.addClass("collapsed"),s.parent().removeClass("e-resize").addClass("e-icon-hide"),t.isNullOrUndefined(this.model.expanderTemplate)&&s.css("display","none"),this.model.properties[l].collapsible||e(s.siblings()).not(".e-activebar").css("display","block"),n!=u-1&&((_=r.next()).find(".e-collapse").css("display","none"),!this.model.properties[n+1].collapsible&&e(r.next().next()[0]).hasClass("collapsed")&&_.find(".e-expand").css("display","block"),_.removeClass("e-resize").addClass("e-icon-hide"),_.attr("aria-expanded",!1)),c[this.containerCss]=d+h,o.animate(c,this.model.enableAnimation?this.model.animationSpeed:0),c[this.containerCss]=0,r.animate(c,this.model.enableAnimation?this.model.animationSpeed:0,(function(){p._raiseEvent("expandCollapse",m,g,a,"expanded")}))}},_raiseEvent:function(e,t,i,s,a){return"expandCollapse"==e&&(this._inMovement=!1,this._updateModelValue(t,i)),this._trigger(e,{collapsed:t,expanded:i,splitbarIndex:s,action:a})},_updateModelValue:function(e,t){this.model.properties[e.index].paneSize=e.item[this.containerCss](),this.model.properties[t.index].paneSize=t.item[this.containerCss](),this._getPanesPercent()},_mouseUpOnArrow:function(){this.element.find(".e-end-indicaton").removeClass("e-end-indicaton"),e(document).off("mouseup",e.proxy(this._mouseUpOnArrow,this))},_keydownOnDivider:function(t){var i,s,a=t.keyCode;if(37==a||38==a||39==a||40==a){if(t.preventDefault(),i=e(t.data.target),t.ctrlKey)null==this.shadowBar&&(this.currentSplitBar=i,s=this._getSplitbarIndex(),"vertical"==this.model.orientation?38==t.keyCode?this.collapse(s):40==t.keyCode&&this.expand(s):37==t.keyCode?this.collapse(s):39==t.keyCode&&this.expand(s));else if(i.hasClass("e-resize")){var o=(null!=this.shadowBar?this.shadowBar:i).offset(),r={pageX:o.left,pageY:o.top};e.extend(!0,t,r),("vertical"==this.model.orientation&&(38==t.keyCode||40==t.keyCode)||"horizontal"==this.model.orientation&&(37==t.keyCode||39==t.keyCode))&&(38==t.keyCode?t.pageY-=5:40==t.keyCode?t.pageY+=5:37==t.keyCode?t.pageX-=5:39==t.keyCode&&(t.pageX+=5),this._mouseMoveOnDivider(t))}}else 13==a?(t.preventDefault(),this._mouseUpOnDivider()):27==a&&(t.preventDefault(),null!=this.shadowBar&&this.shadowBar.remove(),this.shadowBar=null,this._mouseUpOnDivider(),this.element.children(".e-splitbar.e-hover").focusout())},_focusOnDivider:function(t){"focus"==t.type?!e(t.target).hasClass("e-hover")&&(e(t.target).addClass("e-hover"),this.model.allowKeyboardNavigation)&&e(document).on("keydown",{target:t.target},e.proxy(this._keydownOnDivider,this)):(this.element.children(".e-splitbar.e-hover").removeClass("e-hover"),this._mouseUpOnDivider(),e(document).off("keydown",e.proxy(this._keydownOnDivider,this)))},_mouseDownOnDivider:function(i){var s;i.preventDefault(),(s=e(i.target).hasClass("e-activebar")?e(i.target.parentElement):!t.isNullOrUndefined(this.model.expanderTemplate)&&e(i.target).parents(".e-splitbar").length>0?e(i.target).parents(".e-splitbar"):e(i.target)).hasClass("e-splitbar")&&s.hasClass("e-resize")?(this._overlayElement=t.buildTag("div.e-pane-overlay"),s.hasClass("e-hover")||s.focus(),this.element.find(".e-pane").not(".e-splitter").append(this._overlayElement),e(document).on(t.eventType.mouseMove,{target:e(i.target).hasClass("e-activebar")?i.target.parentElement:i.target},e.proxy(this._mouseMoveOnDivider,this)),e(document).on(t.eventType.mouseUp,e.proxy(this._mouseUpOnDivider,this)),e(document).on("mouseleave",e.proxy(this._mouseUpOnDivider,this))):(s.hasClass("e-expand")||s.hasClass("e-collapse"))&&s.parent().focus()},_mouseMoveOnDivider:function(i){var s,a,o=i.data;i="touchmove"==i.type?i.originalEvent.changedTouches[0]:i,this._isMouseMove=!0,s={x:i.pageX,y:i.pageY},this.resizedPosition=this._getNormalValue(s),null==this.shadowBar&&(a=e(o.target).hasClass("e-activebar")?e(o.target.parentElement):!t.isNullOrUndefined(this.model.expanderTemplate)&&e(i.target).parents(".e-splitbar").length>0?e(o.target).parents(".e-splitbar"):e(o.target),this.shadowBar=a.clone().addClass("e-shadowbar").removeClass("e-hover").removeClass("e-split-divider").insertBefore(a),this.shadowBar.children().remove()),this._maxminDraggableRange(this.resizedPosition),this.shadowBar.css(this.displayCss,this.resizedPosition)},_mouseUpOnDivider:function(){this._paneResize(),t.isNullOrUndefined(this.model.expanderTemplate)||this._templateIconPositioning(!0),this.element.find(".e-pane").not(".e-splitter").find(".e-pane-overlay").remove(),e(document).off(t.eventType.mouseMove,e.proxy(this._mouseMoveOnDivider,this)),e(document).off(t.eventType.mouseUp,e.proxy(this._mouseUpOnDivider,this)),e(document).off("mouseleave",e.proxy(this._mouseUpOnDivider,this)),this.shadowBar=null},_windowResized:function(){var t,i,s,a,o=this._getExactInnerWidth();if(this._prevSize==o)return!1;for(i=o-((t=this.panes.length)-1)*this._bar,this._prevSize=o,s=0;s<t;s++)a=this._convertToPixel(i,this._sizePercent[s]),e(this.panes[s]).css(this.containerCss,a+"px");for(s=0;s<this.oldPaneSize.length;s++)this.oldPaneSize[s]=this._convertToPixel(i,this.oldPanePercent[s]);0==e(this.panes[this.panes.length-1])[this.containerCss]()&&this._checkPaneSize()},_convertToPercent:function(e,t){return 100*t/e},_convertToPixel:function(e,t){return parseFloat(e*t/100)},_wireEvents:function(t){t&&e(window).on("resize",e.proxy(this._windowResized,this))},_unWireEvents:function(){e(window).off("resize",e.proxy(this._windowResized,this))}})}(jQuery,Syncfusion),function(e,t){t.widget("ejWaitingPopup","ej.WaitingPopup",{element:null,model:null,validTags:["div","span"],_setFirst:!1,_requiresID:!0,_rootCSS:"e-waitingpopup",defaults:{showOnInit:!1,target:null,appendTo:null,showImage:!0,htmlAttributes:{},cssClass:"",text:null,template:null,create:null,destroy:null},dataTypes:{showOnInit:"boolean",showImage:"boolean",cssClass:"string"},_isTargetVisible:function(){return"none"!=this.element.css("display")},show:function(){this._isTargetVisible()&&(this._refreshPanel(),this.maindiv.css("display","block"),this.model.showOnInit=!0)},hide:function(){this.maindiv.css("display","none"),this.model.showOnInit=!1},refresh:function(){this._isTargetVisible()&&this._refreshPanel()},_setText:function(e){e?this.popupText?this.popupText.html(e):(this._generateTextTag(e),this._setContentPosition()):this.popupText&&(this.popupText.remove(),this.popupText=null)},_showImage:function(e){e?(this.popupImage=t.buildTag("span.e-image"),this.popupText?this.popupImage.insertBefore(this.popupText):this.maindiv.append(this.popupImage)):this.popupImage&&(this.popupImage.remove(),this.popupImage=null)},_setTemplate:function(){var i=this.model.template;"string"==typeof i&&(i=e(i)),this.templateObj="object"==typeof i&&"function"==typeof i.css?i:t.buildTag("div","",{"text-align":"center"}).append(i),this.templateObj.css({visibility:"visible",display:"block"}),this.maindiv.append(this.templateObj)},_setTheme:function(e){this.maindiv.removeClass(this.model.cssClass).addClass(e)},_init:function(){this._initialize(),this._render(),this._wireEvents()},_wireEvents:function(){e(window).on("resize",e.proxy(this._resizeHandler,this))},_unwireEvents:function(){e(window).off("resize",e.proxy(this._resizeHandler,this))},_resizeHandler:function(){this.refresh()},_setModel:function(i){for(var s in i)switch(s){case"text":this._setText(i[s]);break;case"cssClass":this._setTheme(i[s]);break;case"htmlAttributes ":this._addAttr(i[s]);break;case"showOnInit":this._setVisibility(i[s]);break;case"showImage":this._showImage(i[s]),this._setContentPosition();break;case"target":this.model.target=i[s],this._setTarget(),this.refresh();break;case"appendTo":this.model.appendTo=i[s],this._setTarget(),t.isNullOrUndefined(this.model.appendTo)||"document"==this.model.appendTo||"window"==this.model.appendTo?e("body").append(this.maindiv):this.maindiv.appendTo(e(this.model.appendTo)),this.refresh();break;case"template":this.maindiv.empty(),i[s]?(this.model.template=i[s],this._setTemplate()):(this.model.template=i[s]=null,this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),this._setContentPosition()}},_setTarget:function(){this.targetElement="document"==this.model.target?e(document):"window"==this.model.target?e(window):this.model.target?e(this.model.target):this.element},_destroy:function(){this.maindiv.remove(),this._unwireEvents()},_initialize:function(){this.maindiv=null,this.popupText=null,this.popupImage=null,this.templateObj=null,this.targetElement=null},_render:function(){this._setTarget();var i=e("#"+this.element[0].id+"_WaitingPopup").get(0);i&&e(i).remove(),this.maindiv=t.buildTag("div.e-waitpopup-pane e-widget "+this.model.cssClass+"#"+this.element[0].id+"_WaitingPopup"),this.model.template?this._setTemplate():(this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),t.isNullOrUndefined(this.model.appendTo)||"document"==this.model.appendTo||"window"==this.model.appendTo?e("body").append(this.maindiv):this.maindiv.appendTo(e(this.model.appendTo)),this._setVisibility(this.model.showOnInit),this._addAttr(this.model.htmlAttributes)},_refreshPanel:function(){this.maindiv.width(this.targetElement.outerWidth()),this.maindiv.height(this.targetElement.outerHeight()),this._setPanelPosition(),this._setContentPosition()},_addAttr:function(t){var i=this;e.map(t,(function(e,t){"class"==t?i.maindiv.addClass(e):i.maindiv.attr(t,e)}))},_setPanelPosition:function(){var i=t.util.getOffset(this.targetElement);null!=this.model.appendTo&&e(this.model.appendTo).length>0&&("relative"!=this.targetElement.css("position")&&"absolute"!=this.targetElement.css("position")||this.targetElement[0]!==e(this.model.appendTo)[0]?(i.left-=this.targetElement.offsetParent().offset().left,i.top-=this.targetElement.offsetParent().offset().top):i={left:0,top:0}),this.maindiv.css({position:"absolute",left:Math.ceil(i.left)+"px",top:Math.ceil(i.top)+"px","z-index":this._maxZindex()+1})},_setContentPosition:function(){if(null==this.model.template){var e,t=0,i=0,s=null;e=this.targetElement.outerHeight(),this.popupText&&(t=this.popupText.outerHeight()),this.popupImage&&(i=this.popupImage.outerHeight()),this.popupImage&&(s=Math.ceil((e-(i+t))/2),this.popupImage.css("top",s+"px")),this.popupText&&(s||(s=Math.ceil((e-t)/2)),this.popupText.css("top",s+"px"))}else this.templateObj.css({position:"relative",left:Math.ceil((this.targetElement.outerWidth()-this.templateObj.outerWidth())/2),top:Math.ceil((this.targetElement.outerHeight()-this.templateObj.outerHeight())/2)})},_generateTextTag:function(e){this.popupText=t.buildTag("div.e-text",e),this.maindiv.append(this.popupText)},_setVisibility:function(e){e&&this._isTargetVisible()?this.show():this.hide()},_maxZindex:function(){return t.util.getZindexPartial(this.element)}})}(jQuery,Syncfusion),function(e,t){t.widget("ejRadioButton","ej.RadioButton",{_rootCSS:"e-radiobtn",element:null,_requiresID:!0,model:null,validTags:["input"],_addToPersist:["checked"],_setFirst:!1,angular:{require:["?ngModel","^?form","^?ngModelOptions"]},defaults:{id:null,name:null,value:null,checked:!1,cssClass:"",text:"",enableRTL:!1,htmlAttributes:{},enablePersistence:!1,idPrefix:"ej",size:"small",enabled:!0,validationRules:null,validationMessage:null,validationMessages:null,beforeChange:null,change:null,create:null,destroy:null},dataTypes:{id:"string",name:"string",enablePersistence:"boolean",size:"enum",enabled:"boolean",idPrefix:"string",validationRules:"data",validationMessage:"data",validationMessages:"data",htmlAttributes:"data"},observables:["checked"],checked:t.util.valueFunction("checked"),_init:function(e){var i=t.browserInfo();this._cloneElement=this.element.clone(),this._isIE8="msie"==i.name&&"8.0"==i.version,this._setValue(),this._renderControl(),this.isChecked&&this._checkedHandler(),t.isNullOrUndefined(this.radbtn.attr("disabled"))||(this.model.enabled=!1),this._setEnabled(this.model.enabled),this._addAttr(this.model.htmlAttributes),t.isNullOrUndefined(e)||t.isNullOrUndefined(e.validationMessage)||(this.model.validationMessages=this.model.validationMessage),null!=this.model.validationRules&&(this._initValidator(),this._setValidation()),this._wireEvents(),this.initialRender=!1},_addAttr:function(t){var i=this;e.map(t,(function(e,t){"class"==t?i.div.addClass(e):"name"==t||"required"==t?i.radbtn.attr(t,e):"disabled"==t&&"disabled"==e?i.disable():"checked"==t&&"checked"==e?i._checkedChange(!0,!0):i.div.attr(t,e)}))},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var i,s,a,o,r;for(a in this.element.find("input").rules("add",this.model.validationRules),i=(i=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),s=this.element.find("input").attr("name"),i.settings.messages[s]={},this.model.validationRules)if(o=null,!t.isNullOrUndefined(this.model.validationRules[a])){if(t.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[a]))for(r in i.settings.messages[s][a]=e.validator.messages[a],this.model.validationMessages)a==r&&(o=this.model.validationMessages[a]);else o=this.model.validationRules.messages[a];i.settings.messages[s][a]=null!=o?o:e.validator.messages[a]}},_setModel:function(t){for(var i in t)switch(i){case"cssClass":this._changeSkin(t[i]);break;case"enableRTL":this.model.text?t[i]?this.div.addClass("e-rtl"):this.div.removeClass("e-rtl")&&this.element.closest(".e-radiobtn-wrap").hasClass("e-rtl")&&this.element.closest(".e-radiobtn-wrap").removeClass("e-rtl"):t[i]?this.element.closest(".e-radiobtn-wrap").addClass("e-rtl"):this.element.closest(".e-radiobtn-wrap").removeClass("e-rtl");break;case"text":this._setText(t[i]);break;case"size":this._setSize(t[i]);break;case"validationRules":null!=this.model.validationRules&&(this.element.find("input").rules("remove"),this.model.validationMessages=null),this.model.validationRules=t[i],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":case"validationMessages":this.model.validationMessages=t[i],null!=this.model.validationRules&&null!=this.model.validationMessages&&(this._initValidator(),this._setValidation());break;case"checked":e(this.div).removeClass("e-material-animate"),"boolean"==typeof this.checked()?(this.model.checked=t[i],this._checkedChange(this.model.checked)):null!=t[i]()&&t[i]()==this.element.find(".e-input").attr("value")&&this._checkedChange(t[i]());break;case"enabled":this._setEnabled(t[i]);break;case"id":this._setIdAttr(t[i]);break;case"name":this.radbtn.attr("name",t[i]);break;case"value":this.radbtn.attr("value",t[i]);break;case"htmlAttributes":this._addAttr(t[i])}},_destroy:function(){this.radbtn.remove(),this._cloneElement.removeClass("e-js e-input e-radiobtn"),this._cloneElement.insertBefore(this.element),this.element.remove()},_changeSkin:function(e){this.model.cssClass!=e&&(this.element.removeClass(this.model.cssClass).addClass(e),this.div.removeClass(this.model.cssClass).addClass(e))},_setValue:function(){t.isNullOrUndefined(this.element.attr("type"))&&this.element.attr("type","radio"),t.isNullOrUndefined(this.element.attr("id"))||(this.model.id=this.element.attr("id")),t.isNullOrUndefined(this.element.attr("name"))||(this.model.name=this.element.attr("name")),t.isNullOrUndefined(this.element.attr("value"))||(this.model.value=this.element.attr("value")),this.element.attr({id:this.model.id,name:this.model.name,value:this.model.value}),"boolean"==typeof this.checked()?this.model.checked=this.isChecked=this.model.checked||"checked"==this.element.attr("checked"):this.isChecked=this.element.attr("value")==this.checked(),this.isChecked&&this.element.attr("checked","checked"),this._hiddenValue=this.element.attr("value"),this._isUI=!1},_setIdAttr:function(t){e("#"+this.model.idPrefix+this.model.id+"_wrapper").attr("id",this.model.idPrefix+t+"_wrapper"),e("#"+this.model.idPrefix+this.model.id).attr("id",this.model.idPrefix+t),this.radbtn.attr("id",t)},_setSize:function(e){e==t.RadioButtonSize.Medium?(this.span.removeClass("e-radsmaller").addClass("e-radmedium"),this.div.removeClass("e-radsmall").addClass("e-radmed")):(this.span.removeClass("e-radmedium").addClass("e-radsmaller"),this.div.removeClass("e-radmed").addClass("e-radsmall"))},_setEnabled:function(e){e?this.enable():this.disable()},_renderControl:function(){this.initialRender=!0;var i=t.browserInfo();this.div="msie"==i.name&&"8.0"==i.version?e('<div class="e-radiobtn-wrap e-widget e-rad-outer e-ie8" ></div>'):e('<div class="e-radiobtn-wrap e-widget" ></div>'),this.div.attr({id:this.model.idPrefix+this.model.id,role:"radio",tabindex:0,"aria-checked":!1}),this.span=e("<span></span>"),this.span.addClass("e-spanicon"),this._setSize(this.model.size),this.spanImg=e('<span class="e-rad-icon e-icon e-rad-select"></span>',"",{},{role:"presentation"}),this.element.addClass("e-input"),this.div.addClass(this.model.cssClass),this.span.append(this.spanImg),this.div.insertBefore(this.element),this.div.append(this.element),this.div.append(this.span),this._setTextWrapper(this.model.text),this.radbtn=this.element,this.element=this.div},_setTextWrapper:function(e){""!=e?(this.txtSpan=t.buildTag("div.e-text",e),this.div.append(this.txtSpan),this.model.enableRTL&&this.div.addClass("e-rtl")):this.model.enableRTL&&this.element.closest(".e-radiobtn-wrap").addClass("e-rtl")},_setText:function(e){""==this.model.text&&""!=e?this._setTextWrapper(e):this.txtSpan.html(e)},_wireEvents:function(){this._on(this.element,"click",(function(e){this._isUI=!0,this._checkedHandler(e)})),this._on(this.element,"focus",this._focusIn),this._on(this.element,"focusout",this._focusOut)},_focusIn:function(){e(this.element).addClass("e-focus"),e(this.element).on("keydown",e.proxy(this._checkUnCheck,this))},_focusOut:function(){e(this.element).removeClass("e-focus"),e(this.element).off("keydown",e.proxy(this._checkUnCheck,this))},_checkUnCheck:function(e){(32==e.keyCode||37==e.keyCode||38==e.keyCode||39==e.keyCode||40==e.keyCode)&&(e.preventDefault(),this._checkedHandler())},_checkedHandler:function(t){t&&(this._interacted=!0),this.element.hasClass("e-disable")||(this.isChecked="boolean"==typeof this.checked()?"checked"==this.radbtn.attr("checked"):this.checked()==this.radbtn.attr("value"),e(this.element).find(".e-rad-icon").hasClass("e-circle_01")||this._changeEvent(!0),t&&e(this.div).addClass("e-material-animate"))},_checkedChange:function(e,t){this.isChecked=e,this._changeEvent(t)},_changeEvent:function(i){var s={isChecked:this.isChecked,isInteraction:!!i};if(!this.initialRender&&1==this._trigger("beforeChange",s))return!1;if(e(this.element).find(".e-rad-icon").hasClass("e-circle_01"))this.spanImg.removeClass("e-circle_01").addClass("e-rad-select"),this.span.removeClass("e-rad-active"),this.div.attr({tabindex:0,"aria-checked":!1}),this.radbtn.removeAttr("checked");else{var a=this.element.find(".e-input").attr("name"),o=e('input.e-radiobtn[name="'+a+'"]:radio'),r=this,l=this.element.find(".e-input"),n=e(l).data("ejRadioButton");s.isChecked&&(this.spanImg.addClass("e-circle_01").removeClass("e-rad-select"),this.span.addClass("e-rad-active"),this.div.attr({tabindex:0,"aria-checked":!0}),this.radbtn.attr("checked","checked")),e.each(o,(function(i,s){r._interacted&&e(e(s).closest(".e-widget")).find("span.e-spanicon").hasClass("e-rad-active")&&e(s).closest(".e-radiobtn-wrap").addClass("e-material-animate"),e(s).closest(".e-radiobtn-wrap").find(".e-rad-icon").removeClass("e-circle_01").addClass("e-rad-select"),e(s).closest(".e-radiobtn-wrap").find(".e-spanicon").removeClass("e-rad-active"),e(s).closest(".e-radiobtn-wrap").attr({tabindex:0,"aria-checked":!1});var a=e(s).data("ejRadioButton");t.isNullOrUndefined(a)||null==a.checked()||"boolean"!=typeof a.checked()||(a.model.checked=!1,a.isChecked=!1,a.radbtn.removeAttr("checked"))})),null!=n&&null!=n.checked()&&"boolean"==typeof n.checked()?n.model.checked=!0:n.checked(n.radbtn.attr("value")),this.element.find(".e-rad-icon").addClass("e-circle_01").removeClass("e-rad-select"),this.span.addClass("e-rad-active"),this.div.attr({tabindex:0,"aria-checked":!0}),this._isUI&&this.element.find(".e-input").click(),this.isChecked=!0,1==this.isChecked?this.radbtn.attr("checked","checked"):this.radbtn.removeAttr("checked")}s={isChecked:this.isChecked,isInteraction:!!i},this.initialRender||this._trigger("change",s),i&&this._trigger("_change",{value:this._hiddenValue})},disable:function(){this.element.hasClass("e-disable")||(this.element.addClass("e-disable"),this.radbtn.attr("disabled","disabled")),this._isIE8&&this.span.addClass("e-disable"),this.div.attr("aria-disabled",!0),this.model.enabled=!1},enable:function(){this.element.hasClass("e-disable")&&(this.element.removeClass("e-disable"),this.radbtn.prop("disabled",!1)),this._isIE8&&this.span.removeClass("e-disable"),this.div.attr("aria-disabled",!1),this.model.enabled=!0}}),t.RadioButtonSize={Small:"small",Medium:"medium"}}(jQuery,Syncfusion),function(e,t,i){t.widget("ejDatePicker","ej.DatePicker",{element:null,_rootCss:"e-datepicker",model:null,validTags:["input","div","span"],_setFirst:!1,_addToPersist:["value"],_cancelValue:!1,type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"],requireFormatters:!0},defaults:{dayHeaderFormat:"min",showPopupButton:!0,enableAnimation:!0,showFooter:!0,displayInline:!1,htmlAttributes:{},dateFormat:"",watermarkText:"Select date",value:null,minDate:new Date("01/01/1900"),maxDate:new Date("12/31/2099"),startLevel:"month",depthLevel:"",cssClass:"",startDay:-1,stepMonths:1,locale:"en-US",showOtherMonths:!0,enableStrictMode:!1,enablePersistence:!1,enabled:!0,width:"",height:"",enableRTL:!1,showRoundedCorner:!1,headerFormat:"MMMM yyyy",buttonText:"Today",readOnly:!1,specialDates:null,fields:{date:"date",tooltip:"tooltip",iconClass:"iconClass",cssClass:"cssClass"},showTooltip:!0,showDisabledRange:!0,highlightSection:"none",highlightWeekend:!1,validationRules:null,validationMessage:null,validationMessages:null,allowEdit:!0,tooltipFormat:"ddd MMM dd yyyy",allowDrillDown:!0,blackoutDates:[],beforeDateCreate:null,open:null,close:null,select:null,change:null,focusIn:null,focusOut:null,beforeOpen:null,beforeClose:null,navigate:null,create:null,destroy:null,weekNumber:!1,timeZone:!0},dataTypes:{startDay:"number",stepMonths:"number",showOtherMonths:"boolean",enableStrictMode:"boolean",showRoundedCorner:"boolean",enableRTL:"boolean",displayInline:"boolean",showPopupButton:"boolean",locale:"string",readOnly:"boolean",cssClass:"string",dateFormat:"string",watermarkText:"string",headerFormat:"string",buttonText:"string",specialDates:"data",showTooltip:"boolean",highlightSection:"enum",highlightWeekend:"boolean",enableAnimation:"boolean",validationRules:"data",validationMessage:"data",validationMessages:"data",htmlAttributes:"data",tooltipFormat:"string",allowEdit:"boolean",allowDrillDown:"boolean",weekNumber:"boolean"},_renderPopup:function(){this.sfCalendar=t.buildTag("div.e-datepicker e-popup e-widget "+this.model.cssClass+" e-calendar "+(this.model.specialDates&&this.model.specialDates[0][this._mapField._icon]?"e-icons ":""),"",{},{id:this._id?"e-"+this._id:""}).attr({"aria-hidden":"true"}).attr(this._isIE8?{unselectable:"on"}:{}).insertBefore(this.element),this.model.displayInline&&!this.element.is("input")&&this.sfCalendar.addClass("e-inline"),this.popup=this.sfCalendar,t.isTouchDevice()||this.sfCalendar.addClass("e-ntouch"),this._setRestrictDateState(this.model.showDisabledRange),this._createCalender(),this._setDisplayInline(this.model.displayInline),this._resizeCalender(),this._setRTL(this.model.enableRTL),this._setRoundedCorner(this.model.showRoundedCorner),this._wireCalendarEvents()},_setModel:function(i){var s,a,o=!1,r=!1,l=!1;for(s in i)switch("showPopupButton"!=s&&"width"!=s&&"dateFormat"!=s&&"height"!=s&&"readOnly"!=s&&"allowEdit"!=s&&"enabled"!=s&&"watermarkText"!=s&&"htmlAttributes"!=s&&"validationMessages"!=s&&"validationRules"!=s&&t.isNullOrUndefined(this.sfCalendar)&&this._renderPopup(),s){case"dayHeaderFormat":this.model.dayHeaderFormat=i[s],o=r=!0;break;case"weekNumber":this.model.weekNumber=i[s],this._refreshDatepicker();break;case"showPopupButton":this._renderDateIcon(i[s],!0);break;case"displayInline":i[s]||this._bindDateButton(),this._setDisplayInline(i[s]),this.model.allowEdit||i[s]||!this._isInputBox||this.element.on("mousedown",e.proxy(this._showDatePopUp,this));break;case"value":t.isPlainObject(i[s])&&(i[s]=null),t.isNullOrUndefined(i.minDate)&&t.isNullOrUndefined(i.maxDate)?(this._setDateValue(i[s]),this._specificFormat()&&(this._stopRefresh=!0),i[s]=this.model.value):this._updateDateValue(i[s]),l=o=r=!0;break;case"specialDates":this.model.specialDates=i[s],this._createSpecialDateObject(),o=r=!0;break;case"fields":this.model.fields=i[s],this._mapField=this._getMapper(),o=r=!0;break;case"showTooltip":this.model.showTooltip=i[s],o=r=!0;break;case"highlightWeekend":this.model.highlightWeekend=i[s],o=r=!0;break;case"highlightSection":this.model.highlightSection=i[s],o=r=!0;break;case"dateFormat":this.model.dateFormat=i[s],this._ensureValue();break;case"minDate":this._setMinDate(i[s]),i[s]=this.model.minDate,this._ensureValue(),l=o=r=!0;break;case"maxDate":this._setMaxDate(i[s]),i[s]=this.model.maxDate,this._ensureValue(),l=o=r=!0;break;case"locale":this.model.locale=i[s],this.model.startDay=t.isNullOrUndefined(this._options.startDay)&&this.model.startDay===this.culture.calendar.firstDay||this._options.startDay===this.defaults.startDay?-1:this.model.startDay,this.model.dateFormat=t.isNullOrUndefined(this._options.dateFormat)&&this.model.dateFormat===this.culture.calendar.patterns.d?"":this.model.dateFormat,this._setCulture(i[s]),this.model.value&&this._setDateValue(this.model.value),i[s]=this.model.locale,o=r=!0;break;case"showOtherMonths":this.model.showOtherMonths=i[s],this._otherMonthsVisibility();break;case"enableStrictMode":this.model.enableStrictMode=i[s],l=o=r=!0;break;case"validationRules":null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessages=null),this.model.validationRules=i[s],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessages":case"validationMessage":this.model.validationMessages=i[s],null!=this.model.validationRules&&null!=this.model.validationMessages&&(this._initValidator(),this._setValidation());break;case"readOnly":this.model.readOnly=i[s],this._disbleMaualInput();break;case"width":this._setWidth(i[s]);break;case"height":this._setHeight(i[s]);break;case"cssClass":this._setSkin(i[s]);break;case"enableRTL":this._setRTL(i[s]);break;case"showRoundedCorner":this._setRoundedCorner(i[s]);break;case"enabled":i[s]?this.enable():this.disable();break;case"buttonText":t.isNullOrUndefined(this._options)&&(this._options={}),this._options.buttonText=this.model.buttonText=i[s],this._localizedLabels.buttonText=this.model.buttonText,this._setFooterText(i[s]);break;case"showFooter":this._enableFooter(i[s]);break;case"watermarkText":t.isNullOrUndefined(this._options)&&(this._options={}),this._options.watermarkText=this.model.watermarkText=i[s],this._localizedLabels.watermarkText=this.model.watermarkText,this._setWaterMark();break;case"startDay":a=i[s],(parseInt(i[s])<0||parseInt(i[s])>6)&&(i[s]=this.culture.calendar.firstDay,a=-1),this.model.startDay=i[s],t.isNullOrUndefined(this._options)&&(this._options={}),this._options.startDay=a,o=r=!0;break;case"startLevel":this.model.startLevel=i[s],o=r=!0;break;case"headerFormat":this.model.headerFormat=i[s],o=r=!0;break;case"depthLevel":this.model.depthLevel=i[s],o=r=!0;break;case"htmlAttributes":this._addAttr(i[s]);break;case"allowEdit":this._changeEditable(i[s]);break;case"tooltipFormat":this.model.tooltipFormat=i[s],o=r=!0;break;case"allowDrillDown":this._allowQuickPick(i[s]),o=r=!0;break;case"showDisabledRange":this._setRestrictDateState(i[s]);break;case"blackoutDates":this.model.blackoutDates=i[s],this._initDisableObj(this.model.blackoutDates),o=r=!0}l&&(this._validateMinMaxDate(),i.value=this.model.value,i.maxDate=this.model.maxDate,i.minDate=this.model.minDate),this._setWaterMark(),o&&(this.isValidState||this.model.displayInline)&&this._refreshDatepicker(),r&&!this._startNavigate&&this._startLevel(this.model.startLevel),this._triggerChangeEvent(),this._checkErrorClass()},observables:["value"],_destroy:function(){this.model.displayInline&&e(window).off("resize",e.proxy(this._OnWindowResize,this)),this._isOpen&&this.hide(),this.sfCalendar&&this.sfCalendar.remove(),this.wrapper&&(this.element.insertAfter(this.wrapper),this.wrapper.remove()),this.element.removeClass("e-datepicker e-input"),this.element.removeAttr("aria-atomic aria-live aria-activedescendant aria-expanded role placeholder tabindex"),this._cloneElement.hasAttribute("name")||this.element.removeAttr("name")},_init:function(e){this._options=e,this._cloneElement=this.element.clone(),this._dt_drilldown=!1,this._ISORegex(),this._initDisableObj(this.model.blackoutDates),this.animation={open:{duration:200},close:{duration:100}},this._animating=!1,this._isInputBox=this._isInputBox(),this._startNavigate=!1,this._keyboardInteraction=!1,this._isSupport=document.createElement("input").placeholder!=i,this._checkAttribute(),this._setValues(),this._createDatePicker(),t.isNullOrUndefined(e)||t.isNullOrUndefined(e.validationMessage)||(this.model.validationMessages=this.model.validationMessage),null!=this.model.validationRules&&(this._initValidator(),this._setValidation()),e&&e.value!=i&&e.value!=this.element.val()&&this._trigger("_change",{value:this.element.val()})},_ISORegex:function(){this._tokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,this._extISORegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,this._basicISORegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,this._isISODate=/[T]/,this._numberRegex={2:/\d\d?/,4:/^\d{4}/,z:/Z|[+-]\d\d(?::?\d\d)?/gi,t:/T/,"-":/\-/,":":/:/},this._zeroRegex=/Z|[+-]\d\d(?::?\d\d)?/,this._dates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],this._times=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]]},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var i,s,a,o,r;for(a in this.element.rules("add",this.model.validationRules),i=(i=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),s=this.element.attr("name"),i.settings.messages[s]={},this.model.validationRules)if(o=null,!t.isNullOrUndefined(this.model.validationRules[a])){if(t.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[a]))for(r in i.settings.messages[s][a]=e.validator.messages[a],this.model.validationMessages)a==r&&(o=this.model.validationMessages[a]);else o=this.model.validationRules.messages[a];i.settings.messages[s][a]=null!=o?o:e.validator.messages[a]}},setValue:function(e){"string"==typeof e&&(e=new Date(e));var t=this.model.value;this._setDateValue(e),this._checkErrorClass(),t!=this.model.value&&this._triggerChangeEvent()},_checkAttribute:function(){for(var e,i,s=["min","max","readonly","disabled"],a=["minDate","maxDate","readOnly","enabled"],o=0;o<s.length;o++)e=this.element.attr(s[o]),i=a[o],t.isNullOrUndefined(e)||(t.isNullOrUndefined(this._options)||t.isNullOrUndefined(this._options[i]))&&(this.model[i]="enabled"!=i&&"readOnly"!=i?new Date(e):"readOnly"==i?this.element.is("[readonly]"):!this.element.is("[disabled]"))},_updateDateValue:function(e){var t=this._checkDateObject(e);null!=t?(this.isValidState=!0,""==t?(this.element.val(""),this.model.value=null):(this.model.value=t,this._preTxtValue=this.element.val(this._formatter(this.model.value,this.model.dateFormat)))):("string"==typeof t&&this.model.enableStrictMode?this.element.val(e):this.element.val(""),this.model.value=null,this.isValidState=""==this.element.val()),this._removeWatermark()},_ensureValue:function(){var e=this._parseDate(this.element.val(),this.model.dateFormat);this.model.value?this._setDateValue(this.model.value):e&&this._setDateValue(e)},_changeEditable:function(t){var i=t?"_on":"_off";this.element.is(":input")&&(t?(this.model.readOnly||this.element.attr("readonly",!1),this.element.off("mousedown",e.proxy(this._showDatePopUp,this))):(this.model.readOnly||this.element.attr("readonly","readonly"),this.model.displayInline||this.element.on("mousedown",e.proxy(this._showDatePopUp,this))),this[i](this.element,"blur",this._onFocusOut),this[i](this.element,"focus",this._onFocusIn),this[i](this.element,"keydown",this._onKeyDown))},_allowQuickPick:function(t){e(".e-datepicker-headertext",this.sfCalendar)[t?"on":"off"]("click",e.proxy(this._forwardNavHandler,this))},_setRestrictDateState:function(e){var t=e?"addClass":"removeClass";this.sfCalendar[t]("e-dp-restrict-show")},_setValues:function(){this.Date=new Date,this._id=this.element[0].id,this.isValidState=!0,this._setCulture(this.model.locale),this._setMinDate(this.model.minDate),this._setMaxDate(this.model.maxDate),this._calendarDate=this._zeroTime(new Date),(this.model.startDay<0||this.model.startDay>6)&&(this.model.startDay=0),this.Date.firstDayOfWeek=this.model.startDay,this.Date.fullYearStart="20",this._showHeader=!0,t.isNullOrUndefined(this.model.value)&&""!=this.element[0].value&&(this.model.value=this.element[0].value),this._validateMinMaxDate(),this._dateValue=new Date(this._calendarDate.toString()),this._isIE7=this._checkIE7(),this._isIE8="msie"==t.browserInfo().name&&"8.0"==t.browserInfo().version,this._isIE9="msie"==t.browserInfo().name&&"9.0"==t.browserInfo().version,this._getInternalEvents=!1,this._flag=!0,this._ejHLWeekEnd=!1,this._isOpen=!1,this._prevDate=null,this._preValue=null,this._isFocused=!1},_addAttr:function(i){var s=this;e.map(i,(function(e,i){var a=i.toLowerCase();"class"==a?s.wrapper.addClass(e):"disabled"==a?s.disable():"readOnly"==a?s.model.readOnly=!0:"style"==a?s.wrapper.attr(i,e):"id"==a?(s.wrapper.attr(i,e+"_wrapper"),s.element.attr(i,e)):t.isValidAttr(s.element[0],i)?s.element.attr(i,e):s.wrapper.attr(i,e)}))},_createDatePicker:function(){this._createWrapper(),this._wireEvents(),this.model.displayInline&&this.show(),this.model.enableRTL&&this._setRTL(!0),this.model.showRoundedCorner&&this._setRoundedCorner(!0)},_checkNameAttr:function(){!this.element.attr("name")&&this._isInputBox&&this.element.attr("name",this.element[0].id),this.model.displayInline&&!this._isInputBox&&this._hiddenInput.attr("name",this.element[0].id)},_createWrapper:function(){if(this._getMapper(),this.model.specialDates&&this._createSpecialDateObject(),this.element[0].hasAttribute("tabindex")||this.element.attr("tabindex","0"),this._isInputBox&&(this.element.addClass("e-input").attr({"aria-atomic":"true","aria-live":"assertive","aria-expanded":"false",role:"combobox"}),this.wrapper=t.buildTag("span.e-datewidget e-widget "+this.model.cssClass),this.wrapper.attr("style",this.element.attr("style")),this.element.removeAttr("style"),t.isTouchDevice()||this.wrapper.addClass("e-ntouch"),this.innerWrapper=t.buildTag("span.e-in-wrap e-box e-padding"),this.wrapper.append(this.innerWrapper).insertBefore(this.element),this.innerWrapper.append(this.element),this.dateIcon=t.buildTag("span.e-select#"+this._id+"-img","",{},this._isIE8?{unselectable:"on"}:{}).append(t.buildTag("span.e-icon e-calendar","",{},{"aria-label":"Select"}).attr(this._isIE8?{unselectable:"on"}:{})).insertAfter(this.element)),!this._isSupport||this.model.displayInline&&!this._isInputBox){this._hiddenInput=t.buildTag("input.e-input e-placeholder ","",{},{type:"text"}).insertAfter(this.element),this._isInputBox&&this._hiddenInput.val(this._localizedLabels.watermarkText),this._hiddenInput.css("display","block");var i=this;e(this._hiddenInput).focus((function(){i.element.focus()}))}this._checkNameAttr(),this.model.height||(this.model.height=this.element.attr("height")),this.model.width||(this.model.width=this.element.attr("width")),this._setHeight(this.model.height),this._setWidth(this.model.width),this._id&&e("#e-"+this._id).remove(),this._setDateValue(this.model.value),this._preValue=this._parseDate(this.element.val(),this.model.dateFormat),this._setWaterMark(),this._dateValue=new Date(this._calendarDate.toString()),this.model.displayInline?this._renderPopup():this._isInputBox&&this._renderDateIcon(this.model.showPopupButton,!1),this.model.readOnly&&this._disbleMaualInput(),this.model.enabled?this.model.enabled&&e(this.element).hasClass("e-disable")&&this.enable():this.disable(),this._layoutChanged(),this._checkErrorClass(),this._addAttr(this.model.htmlAttributes)},_isInputBox:function(){return this.element.is("input[type=date]")&&this.element.attr("type","text"),this.element.is("input")&&(this.element.is("input[type=text]")||!this.element.attr("type"))},_renderDateIcon:function(e,t){t&&this.model.showPopupButton==e||(!e&&this.dateIcon?(this._bindInputEvent(),this.dateIcon.css("display","none"),this.innerWrapper.removeClass("e-padding")):(this.innerWrapper&&(this.innerWrapper.addClass("e-padding"),this.dateIcon.css("display","block")),this.model.displayInline||this._bindDateButton()),this.model.showPopupButton=e)},_resizeCalender:function(){"short"==this.model.dayHeaderFormat||"min"==this.model.dayHeaderFormat||"none"==this.model.dayHeaderFormat?this.sfCalendar.removeClass("e-headerlong"):"long"==this.model.dayHeaderFormat&&this.sfCalendar.addClass("e-headerlong")},_setWidth:function(e){e?this.wrapper?this.wrapper.width(e):this.element.width(e):this.model.width=this.wrapper?this.wrapper.outerWidth():this.element.width()},_setHeight:function(e){e?this.wrapper?this.wrapper.height(e):this.element.height(e):this.model.height=this.wrapper?this.wrapper.outerHeight():this.element.height(),this._isIE7&&this.element.height(this.innerWrapper.height())},_setRTL:function(e){e?(this.wrapper&&this.wrapper.addClass("e-rtl"),this.sfCalendar&&this.sfCalendar.addClass("e-rtl")):(this.wrapper&&this.wrapper.removeClass("e-rtl"),this.sfCalendar&&this.sfCalendar.removeClass("e-rtl"))},_setRoundedCorner:function(e){e?(this.innerWrapper&&this.innerWrapper.addClass("e-corner"),this.sfCalendar&&this.sfCalendar.addClass("e-corner")):(this.innerWrapper&&this.innerWrapper.removeClass("e-corner"),this.sfCalendar&&this.sfCalendar.removeClass("e-corner"))},_refreshDatepicker:function(){var t,s,a,o;if(this._stopRefresh)this._stopRefresh=!1;else{if(t=this.element.val(),s=!1,null!==this.model.navigate&&this.sfCalendar.find("table")[0]!==i)if("e-dp-viewdays"===(a=this.sfCalendar.find("table")[0].className)&&+this._dateValue!=+this._calendarDate)this._calendarDate=this._dateValue,s=!0;else if("e-dp-viewdays"!==a)return void(("e-dp-viewmonths"===a||"e-dp-viewyears"===a||"e-dp-viewallyears"===a)&&(this._startNavigate=!0));o=this._specificFormat()&&this._formatter(this._preValue,this.model.dateFormat,this.model.locale)!=t?this._parseDate(t,!0):this._parseDate(t),o=this._validateYearValue(o),null!==this.model.navigate&&null!==o&&o!==this._calendarDate&&(o=this._calendarDate),this._setDateValue(o),this._specificFormat()&&this._compareDate(this.model.value,this._calendarDate)&&this.element.val(t),e(".e-datepicker-headertext",this.sfCalendar).text(this._formatter(this._calendarDate,this.model.headerFormat)),this._resizeCalender(),this._dateValue=new Date(this._calendarDate.toString()),this._hoverDate=this._calendarDate.getDate()-1,this._renderCalendar(this,this._dateValue),s&&""===t&&this._addFocus("day",this._hoverDate),this._setFooterText(this._localizedLabels.buttonText),this._enableFooter(this.model.showFooter),this._layoutChanged()}},_removeCurrentMonthFromHideDate:function(){for(var t,i,s,a=this.sfCalendar.find("tbody.e-datepicker-days tr").length,o=0;o<a;o++)for(t=this.sfCalendar.find("tbody.e-datepicker-days tr")[o].cells.length,i=0;i<t;i++)(s=e(this.sfCalendar.find("tbody.e-datepicker-days tr")[o].cells[i])).hasClass("e-hidedate")&&s.hasClass("current-month")&&s.removeClass("current-month")},_validateYearValue:function(e){if(null!=e){var i=t.preferredCulture(this.model.locale).calendars.standard.twoDigitYearMax;i="string"==typeof i?(new Date).getFullYear()%100+parseInt(i,10):i,this._calendarDate.getFullYear()-e.getFullYear()==100&&this._calendarDate.getFullYear()>i&&e.setFullYear(this._calendarDate.getFullYear())}return e},_setFooterText:function(t){e(".e-footer-text",this.sfCalendar).html(t)},_setSkin:function(e){this.wrapper?(this.wrapper.removeClass(this.model.cssClass),this.wrapper.addClass(e)):(this.element.removeClass(this.model.cssClass),this.element.addClass(e)),this.sfCalendar.removeClass(this.model.cssClass),this.sfCalendar.addClass(e)},_setDisplayInline:function(t){this.model.displayInline=t,t&&this._isInputBox?(this.sfCalendar.insertAfter(this.wrapper),this._setDatePickerPosition()):t?(this.element.append(this.sfCalendar),this._isSupport&&this._isInputBox||this._hiddenInput.css("display","none")):(this.sfCalendar.css("display","none"),e("body").append(this.sfCalendar),this._isOpen=!1),t&&(this.show(),this._off(this.dateIcon,"mousedown",this._showDatePopUp),this.element.off("mousedown",e.proxy(this._showDatePopUp,this)))},_disbleMaualInput:function(){this.model.readOnly?(e(this.element).attr("readonly","readonly"),this.model.displayInline||this.hide()):this.model.allowEdit&&e(this.element).prop("readonly",!1)},_checkDateObject:function(e,t){return!e||"object"==typeof JSON&&"{}"===JSON.stringify(e)?null:(e instanceof Date||(e=(t=this._specificFormat()?this._parseDate(e,!0):this._parseDate(e,t))||((t=this._checkJSONString(e))?t:null)),!isNaN(Date.parse(e))&&(this._dateValue=this._calendarDate=this._zeroTime(e),this._validateDate(e))?this._dateValue:null)},_checkJSONString:function(e){if(isNaN(Date.parse(e))){if(this.model.enableStrictMode&&null==t.parseDate(e,this.model.value,this.model.locale))return null;if(this._extISORegex.exec(e)||this._basicISORegex.exec(e))return this._dateFromISO(e)}else if(new Date(e).toJSON()===e||new Date(e).toDateString()===e||new Date(e).toGMTString()===e||new Date(e).toISOString()===e||new Date(e).toLocaleString()===e||new Date(e).toString()===e||new Date(e).toUTCString()===e){if(this.model.timeZone)return new Date(new Date(e).getTime()+36e5*t.serverTimezoneOffset);if(e.match(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i)&&e.match(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i).length>0)return e=(e=e.split("T"))[0],t.parseDate(e,"yyyy-MM-dd",this.model.locale)}else if("string"==typeof e)return this._dateFromISO(e)},_dateFromISO:function(e){var t,i,s,a,o,r,l,n,d,h=this._isISODate.test(e)&&(this._extISORegex.exec(e)||this._basicISORegex.exec(e)),c="",u="",p="";if(h){for(t=0;t<this._dates.length;t++)if(this._dates[t][1].exec(h[1])){c=this._dates[t][0];break}if(h[3])for(i=0;i<this._times.length;i++)if(this._times[i][1].exec(h[3])){u=(h[2]||" ")+this._times[i][0];break}for(h[4]&&this._zeroRegex.exec(h[4])&&(p="Z"),s=(c+u+p).match(this._tokens),o=[],l=0;l<s.length;l++)n=s[l],r=this._checkLiteral(s[l]),d=this._numberRegex[r?s[l].toLowerCase():n.length]||new RegExp("^\\d{1,"+n.length+"}"),(a=e.match(d))&&(e.substr(0,e.indexOf(a))>=0&&!r&&(s[l].indexOf("M")>=0?o.push(parseInt(a[0])-1):o.push(parseInt(a[0]))),e=e.slice(e.indexOf(a[0])+a[0].length));return"Z"==h[4]?new Date(Date.UTC.apply(null,o)):new Date(o[0],o[1],o[2],o[3],o[4],o[5])}return new Date(e+"")},_checkLiteral:function(e){var t=e.toLowerCase();return"t"==t||"z"==t||":"==t||"-"==t},_checkInstanceType:function(e){return(e=this._stringToObject(e))?(e instanceof Date||(e=this._parseDate(e)),isNaN(Date.parse(e))?null:this._zeroTime(e)):null},_stringToObject:function(e){if("string"==typeof e){var i=t.parseDate(e,this.model.dateFormat,this.model.locale);e=null!=i?i:new Date(e)}return e},_validateMinMaxDate:function(){var e=!1,t=!1;this.model.maxDate<this.model.minDate&&(this.model.minDate=this.model.maxDate),this.model.enableStrictMode?this.model.value?this.model.value<this.model.minDate?(this._calendarDate=this.model.minDate,this.isValidState=!1,t=!0):this.model.value>this.model.maxDate?(this._calendarDate=this.model.maxDate,this.isValidState=!1,t=!0):this.isValidState=!0:this._calendarDate<this.model.minDate?this._calendarDate=this.model.minDate:this._calendarDate>this.model.maxDate&&(this._calendarDate=this.model.maxDate):(this.model.value?this.model.value<this.model.minDate?(this._calendarDate=this.model.value=this.model.minDate,e=!0):this.model.value>this.model.maxDate&&(this._calendarDate=this.model.value=this.model.maxDate,e=!0):(this.element.val(""),this._calendarDate<this.model.minDate?this._calendarDate=this.model.minDate:this._calendarDate>this.model.maxDate&&(this._calendarDate=this.model.maxDate)),this.isValidState=!0),e&&this.element.val(this._formatter(this.model.value,this.model.dateFormat)),t&&this._getInternalEvents&&this._trigger("outOfRange")},_setCulture:function(e){this.culture=t.preferredCulture(e),this.culture&&(this.model.locale="en"==this.culture.name?"en-US":this.culture.name,this.Date.dayNames=this.culture.calendar.days.names,this.Date.dayNamesMin=this.culture.calendar.days.namesShort,this.Date.abbrDayNames=this.culture.calendar.days.namesAbbr,this.Date.monthNames=this.culture.calendar.months.names,this.Date.abbrMonthNames=this.culture.calendar.months.namesAbbr,this.Date.format=this.culture.calendar.patterns.d,""==this.model.dateFormat&&(this.model.dateFormat=this.culture.calendar.patterns.d),-1==this.model.startDay&&(this.model.startDay=this.culture.calendar.firstDay)),this._separator=this._getSeparator(),this._localizedLabels=this._getLocalizedLabels(),t.isNullOrUndefined(this._options)||(t.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText),t.isNullOrUndefined(this._options.buttonText)||(this._localizedLabels.buttonText=this._options.buttonText)),this._localizedLabelToModel()},_localizedLabelToModel:function(){this.model.watermarkText=this._localizedLabels.watermarkText,this.model.buttonText=this._localizedLabels.buttonText},_setWaterMark:function(){if(null!=this.element&&this.element.hasClass("e-input"))return this._localizedLabels.watermarkText&&""==this.element.val()&&(this.isValidState=!0,this._checkErrorClass()),this._isSupport||""!=this.element.val()?e(this.element).attr("placeholder",this._localizedLabels.watermarkText):this._hiddenInput.css("display","block").val(this._localizedLabels.watermarkText),!0},_setDatePickerPosition:function(){if(!this.model.displayInline||this._isInputBox){var i,s,a=this.element.is("input")?this.wrapper:this.element,o=this._getOffset(a),r=e(document).scrollTop()+e(window).height()-(o.top+e(a).outerHeight()),l=o.top-e(document).scrollTop(),n=this.sfCalendar.outerHeight(),d=this.sfCalendar.outerWidth(),h=o.left,c=a.outerHeight(),u=(a.height(),this._getZindexPartial()),p=3,m=n<r||n>l?o.top+c+p:o.top-n-p;i=e(document).scrollLeft()+e(window).width()-h,s=e(document).scrollLeft()+h+a.width(),(this.model.enableRTL||d>i&&d<h+a.outerWidth()&&!t.isNullOrUndefined(this.wrapper))&&(h+=this.wrapper.width()-this.sfCalendar.width()),d>s&&(h=o.left),this.sfCalendar.css({left:h+"px",top:m+"px","z-index":u})}},_getOffset:function(e){return t.util.getOffset(e)},_getZindexPartial:function(){return t.util.getZindexPartial(this.element,this.sfCalendar)},_setMinDate:function(e){this.model.minDate=this._checkInstanceType(e),this.model.minDate||(this.model.minDate=new Date("11/31/1899"))},_setMaxDate:function(e){this.model.maxDate=this._checkInstanceType(e),this.model.maxDate||(this.model.maxDate=new Date("12/31/2099"))},_setDateValue:function(e,i){var s=this._checkDateObject(e,i);null!=s?(this.isValidState=!0,this.model.value=new Date(s),this.model.displayInline||this.wrapper.addClass("e-valid"),this._validateMinMaxDate(),this._preTxtValue=this.element.val(this._formatter(this.model.value,this.model.dateFormat))):(e instanceof Date&&(this._validateMinMaxDate(),e=this._formatter(e,this.model.dateFormat)),this.model.enableStrictMode?this.element.val(e):this.element.val(null),this.model.value=null,this.model.displayInline||this.wrapper.removeClass("e-valid"),this._triggerChangeEvent(),this.isValidState=!(""!=this.element.val()&&!t.isNullOrUndefined(this.element.val()))),this._removeWatermark()},_updateInputVal:function(){(null!=this._validateValue()||!this.model.enableStrictMode)&&this.sfCalendar&&this.sfCalendar.find(".e-datepicker-days").is(":visible")&&this._refreshDatepicker()},_validateInputVal:function(){var e=this._validateValue();null!=e&&(this.model.enableStrictMode||(e<=this.model.maxDate&&e>=this.model.minDate||(this.model.value=null),this.isValidState=!0))},_validateValue:function(){var e;return e=this._specificFormat()&&this.element.val()!=this._formatter(this._preValue,this.model.dateFormat,this.model.locale)?this._parseDate(this.element.val(),!0):this._parseDate(this.element.val()),this._validateYearValue(e)},_getSeparator:function(){var e,t,i;for(e=this.culture?this.culture.calendar.patterns.d:this.model.dateFormat,t=new RegExp("^[a-zA-Z0-9]+$"),i=0;i<e.length;i++)if(!t.test(e[i]))return e[i]},_checkIE7:function(){if("Microsoft Internet Explorer"==navigator.appName){var e=-1;if(null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)&&(e=parseFloat(RegExp.$1)),e>=7&&e<8)return!0}return!1},_isValidDate:function(e){return e&&"function"==typeof e.getTime&&isFinite(e.getTime())},_formatter:function(e,i){var s=this._checkFormat(i);return t.format(e,s,this.model.locale)},_parseDate:function(e,s){var a=this._checkFormat(this.model.dateFormat),o=e;return this._specificFormat()&&o!=i&&""!=e&&1!=s&&t.format(t.parseDate(o,a,this.model.locale),this.model.dateFormat,this.model.locale)!=o?this._dateValue:t.parseDate(e,a,this.model.locale)},_checkFormat:function(e){var i=this,s=this._regExp();return e.replace(s,(function(e){return"/"===e&&"/"!==t.preferredCulture(i.model.locale).calendars.standard["/"]?"'/'":e}))},_regExp:function(){return/\/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|gg|g|"[^"]*"|'[^']*'|[/]/g},isLeapYear:function(e){return e%4==0&&e%100!=0||e%400==0},_zeroTime:function(e){var t="string"==typeof e?this._parseDate(e):new Date(e);return t.setMilliseconds(0),t.setSeconds(0),t.setMinutes(0),t.setHours(0),t},_getDaysInMonth:function(e){return[31,this.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][e.getMonth()]},_addDays:function(e,t){return e.setDate(e.getDate()+t),e},_addYears:function(e,t){return e.setFullYear(e.getFullYear()+t),e},_addMonths:function(e,t){var i=e.getDate();return e.setMonth(e.getMonth()+t),i>e.getDate()&&this._addDays(e,-e.getDate()),e},_isWeekend:function(e){return 0==e.getDay()||6==e.getDay()},_isSpecialDates:function(e){if(this.model.specialDates)for(var t=0;t<this.model.specialDates.length;t++)if(this.model.specialDates[t]&&this.model.specialDates[t][this._mapField._date]&&e.getDate()==this.model.specialDates[t][this._mapField._date].getDate()&&e.getMonth()==this.model.specialDates[t][this._mapField._date].getMonth()&&e.getFullYear()==this.model.specialDates[t][this._mapField._date].getFullYear())return this._getIndex=t,!0;return!1},_getMapper:function(){var e=this.model.fields;this._mapField={},this._mapField._date=e&&e.date?e.date:"date",this._mapField._tooltip=e&&e.tooltip?e.tooltip:"tooltip",this._mapField._icon=e&&e.iconClass?e.iconClass:"iconClass",this._mapField._custom=e&&e.cssClass?e.cssClass:"cssClass"},_createSpecialDateObject:function(){for(var e=0;e<this.model.specialDates.length;e++)this.model.specialDates[e][this._mapField._date]=this._checkInstanceType(this.model.specialDates[e][this._mapField._date])},_getMonthName:function(e,t){return e?this.Date.abbrMonthNames[t.getMonth()]:this.Date.monthNames[t.getMonth()]},_displayNewMonth:function(e,t){return this._setDisplayedMonth(this.displayedMonth+e,this.displayedYear+t,!0),!1},_setDisplayedMonth:function(e,t,s){var a,o,r,l,n,d;this.model.minDate!=i&&this.model.maxDate!=i&&((a=new Date(this.model.minDate.getTime())).setDate(1),(o=new Date(this.model.maxDate.getTime())).setDate(1),!e&&!t||isNaN(e)&&isNaN(t)?(r=this._zeroTime(new Date)).setDate(1):r=isNaN(e)?new Date(t,this.displayedMonth,1):isNaN(t)?new Date(this.displayedYear,e,1):new Date(t,e,1),r.getTime()<a.getTime()?r=a:r.getTime()>o.getTime()&&(r=o),l=this.displayedMonth,n=this.displayedYear,this.displayedMonth=r.getMonth(),this.displayedYear=r.getFullYear(),d=r,s&&(this.displayedMonth!=l||this.displayedYear!=n)&&(this._renderCalendar(this,d),this._dateValue=d,this._trigger("monthChanged",[this.displayedMonth,this.displayedYear])))},_clearSelected:function(){this.numSelected=0,t.isNullOrUndefined(this.sfCalendar)||("week"==this.model.highlightSection?e("td.e-active",this.sfCalendar).removeClass("e-active").addClass("e-state-hover").attr("aria-selected",!1).parent().removeClass("e-selected-week"):"month"==this.model.highlightSection?e("td.e-active",this.sfCalendar).removeClass("e-active").addClass("e-state-hover").attr("aria-selected",!1).parent().parent().removeClass("e-selected-month"):"workdays"==this.model.highlightSection?e("td.e-active",this.sfCalendar).removeClass("e-active").addClass("e-state-hover").attr("aria-selected",!1).parent().removeClass("e-work-week"):e("td.e-active",this.sfCalendar).removeClass("e-active").addClass("e-state-hover").attr("aria-selected",!1))},_addSelected:function(){"week"==this.model.highlightSection?e("td.e-active",this.sfCalendar).parent().addClass("e-selected-week"):"month"==this.model.highlightSection?e("td.e-active, this.sfCalendar").parent().parent().addClass("e-selected-month"):"workdays"==this.model.highlightSection&&e("td.e-active",this.sfCalendar).parent().addClass("e-work-week")},_hideOtherMonths:function(t){e("td.other-month",t).css("visibility","hidden")},_showOtherMonths:function(t){e("td.other-month",t).css({visibility:"visible"})},_otherMonthsVisibility:function(){this.model.showOtherMonths?this._showOtherMonths(this.sfCalendar):this._hideOtherMonths(this.sfCalendar)},_createCalender:function(){t.buildTag("div.e-header").attr(this._isIE8?{unselectable:"on"}:{}).append(t.buildTag("span.e-prev").append(t.buildTag("a.e-icon e-arrow-sans-left").attr({role:"button"}).attr(this._isIE8?{unselectable:"on"}:{}))).append(t.buildTag("span.e-text").append(t.buildTag("span.e-datepicker-headertext").text(this._formatter(this._calendarDate,this.model.headerFormat)).attr({"aria-atomic":"true","aria-live":"assertive",role:"heading"}).attr(this._isIE8?{unselectable:"on"}:{}))).append(t.buildTag("span.e-next").append(t.buildTag("a.e-icon e-arrow-sans-right").attr({role:"button"}).attr(this._isIE8?{unselectable:"on"}:{}))).appendTo(this.sfCalendar),this._enableHeader(this._showHeader);var i=t.buildTag("table.e-dp-viewdays","",{}).data("e-table","data").attr({role:"grid"}).attr(this._isIE8?{unselectable:"on"}:{});this.sfCalendar.append(i),this._renderCalendar(this),this._startLevel(this.model.startLevel),t.buildTag("div.e-footer").append(t.buildTag("span.e-footer-icon")).append(t.buildTag("span.e-footer-text")).appendTo(this.sfCalendar),e(".e-footer-text",this.sfCalendar).html(this._localizedLabels.buttonText),this._enableFooter(this.model.showFooter)},_enableHeader:function(t){t?e(".e-header",this.sfCalendar).show():e(".e-header",this.sfCalendar).hide()},_enableFooter:function(t){t?e(".e-footer",this.sfCalendar).show():e(".e-footer",this.sfCalendar).hide(),this._todayBtnDisable()},_todayBtnDisable:function(){var t=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),0,0,0);+this.model.minDate<=+t&&+this.model.maxDate>=+t?e(".e-footer",this.sfCalendar).removeClass("e-footer-disable"):e(".e-footer",this.sfCalendar).addClass("e-footer-disable")},_checkArrows:function(e,t){this._preArrowCondition(e,this.model.minDate.getFullYear()),this._nextArrowCondition(t,this.model.maxDate.getFullYear())},_checkDateArrows:function(){this._preArrowCondition(this._tempMinDate,this.model.minDate),this._nextArrowCondition(this._tempMaxDate,this.model.maxDate)},_preArrowCondition:function(e,t){e<=t?this.sfCalendar.find(".e-prev").addClass("e-disable").attr({"aria-disabled":!0}):this.sfCalendar.find(".e-prev").removeClass("e-disable").attr({"aria-disabled":!1})},_nextArrowCondition:function(e,t){e>=t?this.sfCalendar.find(".e-next").addClass("e-disable").attr({"aria-disabled":!0}):this.sfCalendar.find(".e-next").removeClass("e-disable").attr({"aria-disabled":!1})},_previousNextHandler:function(t){var i,s,a,o;if(this.model.readOnly||!this.model.enabled||e(t.target).hasClass("e-disable")||e(t.currentTarget).hasClass("e-disable"))return!1;switch(t.preventDefault(),this._keyboardInteraction=!1,i=e("table",this.sfCalendar),s=this._navigateFrom(i),a=!!(e(t.target).is("a")?e(t.target.parentNode):e(t.target)).hasClass("e-prev"),this._processNextPrevDate(a),e("table",this.sfCalendar).get(0).className){case"e-dp-viewdays":o="month";break;case"e-dp-viewmonths":o="year";break;case"e-dp-viewyears":o="decade";break;case"e-dp-viewallyears":o="century"}this._trigger("navigate",{date:this._dateValue,value:this._formatter(this._dateValue,this.model.dateFormat),navigateTo:o,navigateFrom:s})},_processNextPrevDate:function(t){var i,s,a,o,r,l,n,d;if(this._DRPdisableFade&&(i=new Date(this.sfCalendar.find("td.current-month").attr("data-date")),this._dateValue=i),t&&this.sfCalendar.find(".e-arrow-sans-left").hasClass("e-disable")||!t&&this.sfCalendar.find(".e-arrow-sans-right").hasClass("e-disable"))return!1;switch((s=e("table",this.sfCalendar)).get(0).className){case"e-dp-viewdays":if(o=this.model.stepMonths,t){if(this._dateValue<=this.model.minDate)return this._flag=!1,!1}else if(this._dateValue>=this.model.maxDate)return this._flag=!1,!1;this._flag=!0,this._addMonths(this._dateValue,t?-o:o),this._clickedDate&&(this._calendarDate=this._clickedDate),this._dateValue=this._dateValue<this.model.minDate?new Date(this.model.minDate.toString()):this._dateValue,this._dateValue=this._dateValue>this.model.maxDate?new Date(this.model.maxDate.toString()):this._dateValue,this._renderCalendar(this,this._dateValue),this._keyboardInteraction&&(this._trigger("navigate",{date:this._dateValue,value:this._formatter(this._dateValue,this.model.dateFormat)}),this._removeCurrentMonthFromHideDate(),this._keyboardInteraction=!1),e(".e-datepicker-headertext",this.sfCalendar).text(this._formatter(this._dateValue,this.model.headerFormat)),this._addFocus("day",this._hoverDate),r=this._findFirstLastDay(new Date(this._dateValue.toString())),this._preArrowCondition(r.firstDay,this.model.minDate),this._nextArrowCondition(r.lastDay,this.model.maxDate);break;case"e-dp-viewmonths":if((l=this._dateValue).setFullYear(e(".e-datepicker-headertext",this.sfCalendar).text()),t){if(l.getFullYear()<=this.model.minDate.getFullYear())return this._flag=!1,!1}else if(l.getFullYear()>=this.model.maxDate.getFullYear())return this._flag=!1,!1;this._flag=!0,this._addYears(l,t?-1:1),this._renderCalendar(this,l),a=l.getFullYear(),e(".e-datepicker-headertext",this.sfCalendar).text(a),e("tbody,tr.e-week-header",s).not(".e-datepicker-months").hide(),e(e(s).find(".e-datepicker-months")).show(),this._addFocus("month",this._hoverMonth),this._checkArrows(a,a);break;case"e-dp-viewyears":if((n=this._dateValue).setFullYear(e(s).find(".e-state-hover").text()),t){if(parseInt(this.popup.find("td.e-year-first:first").text())<=this.model.minDate.getFullYear())return this._flag=!1,!1}else if(parseInt(e("td.e-year-last:first").prev().text())>=this.model.maxDate.getFullYear())return this._flag=!1,!1;this._flag=!0,e(s).find(".e-state-hover").hasClass("e-year-first")&&t||e(s).find(".e-state-hover").hasClass("e-year-last")&&!t?this._dateValue.setFullYear(n.getFullYear()):e(s).find(".e-state-hover").hasClass("e-year-first")&&!t?this._dateValue.setFullYear(n.getFullYear()+11):e(s).find(".e-state-hover").hasClass("e-year-last")&&t?this._dateValue.setFullYear(n.getFullYear()-11):this._dateValue.setFullYear(n.getFullYear()+(t?-10:10)),this._renderCalendar(this,this._dateValue),d=parseInt(this._dateValue.getFullYear())-(parseInt(this._dateValue.getFullYear())%10+1),e(".e-datepicker-headertext",this.sfCalendar).text(d+1+" - "+(d+10)),e("tbody,tr.e-week-header",s).not(".e-datepicker-years").hide(),e(e(s).find(".e-datepicker-years")).show(),this._addFocus("year",this._hoverYear+(e(".e-year-first.e-hidedate").length?-1:0)),this._checkArrows(d+1,d+10);break;case"e-dp-viewallyears":if(t){if(parseFloat(e("td.e-allyear-first",s.get(0)).text().split("-")[1])<=this.model.minDate.getFullYear())return this._flag=!1,!1;this._flag=!0}else{if(parseFloat(e("td.e-allyear-last",s.get(0)).prev().text().split("-")[1])>=this.model.maxDate.getFullYear())return this._flag=!1,!1;this._flag=!0}this._dateValue.setFullYear((this._lastHoveredYear?this._lastHoveredYear:this._dateValue.getFullYear())+(t?-100:100)),this._lastHoveredYear=this._dateValue.getFullYear(),this._renderCalendar(this,this._dateValue),d=parseInt(this._dateValue.getFullYear())-(parseInt(this._dateValue.getFullYear())%100+1),a=parseFloat(e("td.e-allyear-last",s.get(0)).prev().text().split("-")[1]),e(".e-datepicker-headertext",this.sfCalendar).text(d+1+" - "+a),e("tbody,tr.e-week-header",s).not(".e-datepicker-allyears").hide(),e(e(s).find(".e-datepicker-allyears")).show(),this._addFocus("allyear",this._hoverAllYear+(e(".e-allyear-first.e-hidedate").length?-1:0)),this._checkArrows(d+1,a)}this._layoutChanged()},_addFocus:function(t,i){var s,a,o="e-current-"+t;return"day"==t&&(o="current-month"),s=this.sfCalendar.find("tbody tr td."+o),"month"==t&&e(s).each((function(t,s){parseInt(e(s).attr("data-index"))!=parseInt(i)||(i=t)})),(a=s[i])||(a=s.last()),this.sfCalendar.find("table td").removeClass("e-state-hover"),e(a).hasClass("e-hidedate")||e(a).addClass("e-state-hover"),this._setActiveState(t),i},_setActiveState:function(t){var i,s,a;if(this.model.value instanceof Date){var o,r=this.sfCalendar.find("tbody tr td.e-current-"+t),l=this,n=-1;switch(t){case"month":this.model.value.getFullYear()===parseInt(e(".e-text",this.sfCalendar).text())&&e(r).each((function(t,i){parseInt(e(i).attr("data-index"))!=parseInt(l.model.value.getMonth())||(n=t)}));break;case"year":i=this.model.value.getFullYear(),e(r).each((function(e,t){parseInt(t.innerHTML)!=parseInt(i)||(n=e)}));break;case"allyear":s=parseInt(this.model.value.getFullYear())-(parseInt(this.model.value.getFullYear())%10+1),a=s+1+" - "+(s+10),e(r).each((function(e,t){parseInt(t.innerHTML)!=parseInt(a)||(n=e)}))}(o=r[n])&&(this.sfCalendar.find("table td").removeClass("e-active"),e(o).hasClass("e-hidedate")||e(o).addClass("e-active"))}},_setFocusByName:function(t,i){var s,a,o=this.sfCalendar.find("tbody tr td.e-current-"+t);return e(o).each((function(e,t){parseInt(t.innerHTML)!=parseInt(i)||(s=e)})),(a=o[s])||(a=o.last()),this.sfCalendar.find("table td").removeClass("e-state-hover"),e(a).addClass("e-state-hover"),this._setActiveState(t),s},_getHeaderTxt:function(){return this.sfCalendar.find(".e-datepicker-headertext").text()},_findFirstLastDay:function(e){var t=e.getFullYear(),i=e.getMonth();return{firstDay:new Date(t,i,1),lastDay:new Date(t,i+1,0)}},_forwardNavHandler:function(t){if(this.model.readOnly||!this.model.enabled)return!1;t&&t.preventDefault();var i,s,a=e("table",this.sfCalendar),o=e("table",this.sfCalendar).get(0).className,r=this._navigateFrom(a);switch(o){case"e-dp-viewdays":this._hoverMonth=this._getDateObj(a.find(".e-state-hover")).getMonth()||this._getDateObj(a.find(".e-active")).getMonth()||0,this._DRPdisableFade&&(this._renderCalendar(this,this._calendarDate),e(".e-datepicker-headertext",this.sfCalendar).text(this._formatter(this._dateValue,this.model.headerFormat))),this._startLevel("year"),s="year",this._addFocus("month",this._hoverMonth);break;case"e-dp-viewmonths":i=this._getHeaderTxt(),this._startLevel("decade"),s="decade",this._hoverYear=this._setFocusByName("year",i);break;case"e-dp-viewyears":i=this._getHeaderTxt(),this._startLevel("century"),s="century",this._hoverAllYear=this._setFocusByName("allyear",i)}"century"!=r&&this._trigger("navigate",{date:this._dateValue,value:this._formatter(this._dateValue,this.model.dateFormat),navigateTo:s,navigateFrom:r}),this._layoutChanged()},_cellSelection:function(){var t,i;switch(e("table",this.sfCalendar),e("table",this.sfCalendar).get(0).className){case"e-dp-viewmonths":this._hoverMonth=this._addFocus("month",this._dateValue.getMonth());break;case"e-dp-viewyears":t=new Date(this._dateValue.toString()),this._navigationToPrevNext("year"),this._dateValue=t,this._hoverYear=this._setFocusByName("year",this._dateValue.getFullYear());break;case"e-dp-viewallyears":t=new Date(this._dateValue.toString()),this._navigationToPrevNext("allyear"),this._dateValue=t,i=parseInt(this._dateValue.getFullYear())-(parseInt(this._dateValue.getFullYear())%10+1),this._hoverAllYear=this._setFocusByName("allyear",i+1+" - "+i+10)}this._layoutChanged()},_navigationToPrevNext:function(t){var i,s,a=this.sfCalendar.find("tbody tr td.e-current-"+t),o=this._dateValue.getFullYear();e(a).each((function(e,t){parseInt(t.innerHTML)!=parseInt(o)||(i=e)})),(s=a[i])&&(e(s).hasClass("e-"+t+"-last")?this._processNextPrevDate(!1):e(s).hasClass("e-"+t+"-first")&&this._processNextPrevDate(!0))},_navigateFrom:function(e){var t;switch(e.get(0).className){case"e-dp-viewdays":t="month";break;case"e-dp-viewmonths":t="year";break;case"e-dp-viewyears":t="decade";break;case"e-dp-viewallyears":t="century"}return t},_backwardNavHandler:function(i){var s,a;if(this._animating=!0,this.model.readOnly||!this.model.enabled)return!1;i.type?(i.preventDefault(),s=e(i.currentTarget)):s=i;var o,r,l=e("table",this.sfCalendar),n=e("table",this.sfCalendar).get(0).className,d=this,h=this._navigateFrom(l);switch(n){case"e-dp-viewmonths":l.removeClass("e-dp-viewmonths").addClass("e-dp-viewdays"),this._lastHoveredMonth=parseInt(e(s).attr("data-index")),this._dateValue=new Date(this._dateValue.getFullYear(),this._lastHoveredMonth,1),this._DRPdisableFade&&this._trigger("_month_Loaded",{currentTarget:i.currentTarget}),this._renderCalendar(this,this._dateValue),e("tbody",l).not(".e-datepicker-days,.e-week-header").hide(),e(e(l).find(".e-datepicker-days,.e-week-header")).fadeIn("fast",(function(){d._addFocus("day",d._hoverDate||0),d._animating=!1})),e(".e-datepicker-headertext",this.sfCalendar).text(this._formatter(this._dateValue,this.model.headerFormat)),r="month";break;case"e-dp-viewyears":l.removeClass("e-dp-viewyears").addClass("e-dp-viewmonths"),this._lastHoveredYear=parseInt(s.text()),this._dateValue.setFullYear(this._lastHoveredYear),this._renderCalendar(this,this._dateValue),e("tbody,tr.e-week-header",l).not(".e-datepicker-months").hide(),t.isNullOrUndefined(this._hoverMonth)&&!t.isNullOrUndefined(this._dateValue)&&(this._hoverMonth=this._dateValue.getMonth()),e(e(l).find(".e-datepicker-months")).fadeIn("fast",(function(){d._addFocus("month",d._hoverMonth||0),d._animating=!1})),o=s.text(),e(".e-datepicker-headertext",this.sfCalendar).text(o),this._checkArrows(o,o),r="year";break;case"e-dp-viewallyears":a=s.text().split("-"),l.removeClass("e-dp-viewallyears").addClass("e-dp-viewyears"),a[0]<this.model.minDate.getFullYear()?a[0]=this.model.minDate.getFullYear().toString():a[0]>this.model.maxDate.getFullYear()&&(a[0]=this.model.maxDate.getFullYear().toString()),this._renderCalendar(this,new Date(a[0],0,1)),e("tbody,tr.e-week-header",l).not(".e-datepicker-years").hide(),e(e(l).find(".e-datepicker-years")).fadeIn("fast",(function(){d._addFocus("year",d._hoverYear||0),d._animating=!1})),e(".e-datepicker-headertext",this.sfCalendar).text(a[0]+" - "+a[1]),this._checkArrows(a[0],a[1]),r="decade",this._dateValue=new Date(this._dateValue.setFullYear(parseInt(e.trim(a[0]))+(this._lastHoveredYear?this._lastHoveredYear%10:this._dateValue.getFullYear()%10)));break;default:this._clearSelected(),this.sfCalendar.find("table td").removeClass("e-state-hover"),s.not("td.e-hidedate").addClass("e-active").attr("aria-selected",!0),this._addSelected(),this._hoverDate=this._getDateObj(s).getDate()-1,this._dateValue=new Date(s.attr("data-date")),this._clickedDate=new Date(s.attr("data-date")),this._animating=!1}"month"!=h&&this._trigger("navigate",{date:this._dateValue,value:this._formatter(this._dateValue,this.model.dateFormat),navigateTo:r,navigateFrom:h}),this._layoutChanged()},_startLevel:function(t){var i,s,a,o,r=e("table",this.sfCalendar),l=e(".e-datepicker-headertext",this.sfCalendar),n=this._dateValue;switch(t){case"decade":r.removeClass("e-dp-viewallyears e-dp-viewmonths e-dp-viewdays").addClass("e-dp-viewyears"),e("tbody,tr.e-week-header",r).not(".e-datepicker-years").hide(),e(e(r).find(".e-datepicker-years")).show(),n=this.model.enableStrictMode&&this._calendarDate<this._dateValue?this._calendarDate:n,i=1+(o=parseInt(n.getFullYear())-(parseInt(n.getFullYear())%10+1)),s=o+10,l.text(i+" - "+s),this._checkArrows(i,s),this._hoverYear=this._setFocusByName("year",n.getFullYear());break;case"century":this._calendarDate<this._dateValue||this._renderCalendar(this,n),r.removeClass("e-dp-viewyears e-dp-viewdays e-dp-viewmonths").addClass("e-dp-viewallyears"),e("tbody,tr.e-week-header",r).not(".e-datepicker-allyears").hide(),e(e(r).find(".e-datepicker-allyears")).show(),a=(i=parseFloat(e("td.e-allyear-first",r.get(0)).text().split("-")[1])+1)+" - "+(s=parseFloat(e("td.e-allyear-last",r.get(0)).prev().text().split("-")[1])),l.text(a),this._checkArrows(i,s),o=parseInt(n.getFullYear())-(parseInt(n.getFullYear())%10+1),this._hoverAllYear=this._setFocusByName("allyear",o+1+" - "+(o+10));break;case"year":r.removeClass("e-dp-viewyears e-dp-viewallyears e-dp-viewdays").addClass("e-dp-viewmonths"),e("tbody,tr.e-week-header",r).hide(),e(e(r).find(".e-datepicker-months")).show(),i=this.model.enableStrictMode&&this._calendarDate<this._dateValue?this._calendarDate.getFullYear():n.getFullYear(),l.text(i),this._checkArrows(i,i),this._hoverMonth=n.getMonth(),this._addFocus("month",this._hoverMonth);break;case"month":r.removeClass("e-dp-viewyears e-dp-viewallyears e-dp-viewmonths").addClass("e-dp-viewdays ")}},_depthLevel:function(t){var i=this.sfCalendar;switch(t){case"year":e(i.find(".e-current-year,.e-current-allyear")).on("click",e.proxy(this._backwardNavHandler,this)),this._on(e(".e-current-month",this.sfCalendar),"click",e.proxy(this._onDepthSelectHandler,this));break;case"decade":e(i.find(".e-current-allyear")).on("click",e.proxy(this._backwardNavHandler,this)),e(".e-current-year",this.sfCalendar).on("click",e.proxy(this._onDepthSelectHandler,this));break;case"century":e(i.find(".e-current-allyear")).on("click",e.proxy(this._onDepthSelectHandler,this));break;case"month":this._on(i.find(".current-month,.other-month,.e-current-month,.e-current-year,.e-current-allyear"),"click",e.proxy(this._backwardNavHandler,this)),this._on(i.find(".current-month , .other-month"),"click",e.proxy(this._onSetCancelDateHandler,this))}},_onDepthSelectHandler:function(t){if(this.model.readOnly||!this.model.enabled)return!1;e(t.target).hasClass("e-current-month")?this._dateValue=new Date(this._dateValue.setMonth(parseInt(t.target.attributes["data-index"].value))):(e(t.target).hasClass("e-current-year")||e(t.target).hasClass("e-current-allyear"))&&(this._dateValue=new Date(this._dateValue.setFullYear(parseInt(t.target.innerHTML)))),this._onSetCancelDateHandler(t)},_datepickerMonths:function(t,i,s){for(var a,o,r,l,n=function(e){return document.createElement(e)},d=0,h=0;h<3;h++){for(a=e(n("tr")),o=0;o<4;o++)r=e(n("td")).addClass("e-current-month e-state-default").attr({"data-index":d}).attr(this._isIE8?{unselectable:"on"}:{}).html(this.Date.abbrMonthNames[d++]),(s.getFullYear()<this.model.minDate.getFullYear()||s.getFullYear()>this.model.maxDate.getFullYear()||s.getFullYear()<=this.model.minDate.getFullYear()&&d<this.model.minDate.getMonth()+1||s.getFullYear()>=this.model.maxDate.getFullYear()&&d>this.model.maxDate.getMonth()+1)&&(r.addClass("e-hidedate"),r.removeClass("e-current-month")),a.append(r);t.append(a)}i.append(t),l=s.getFullYear(),this._checkArrows(l,l)},_datepickerYears:function(t,i,s){for(var a,o,r,l,n=function(e){return document.createElement(e)},d=parseInt(s)-(parseInt(s)%10+1),h=[],c=0;c<12;c++)h.push(d+c);for(a=0,o=0;o<3;o++){for(r=e(n("tr")),c=0;c<4;c++)(l=e(n("td"))).attr(this._isIE8?{unselectable:"on"}:{}),0==a?l.addClass("e-year-first e-current-year "):11==a?l.addClass("e-year-last e-current-year "):l.addClass("e-current-year e-state-default"),(h[a]<this.model.minDate.getFullYear()||h[a]>this.model.maxDate.getFullYear())&&(l.addClass("e-hidedate"),l.removeClass("e-current-year")),l.html(h[a++]),r.append(l);t.append(r)}i.append(t),this._checkArrows(h[0],h[h.length])},_datepickerAllYears:function(t,i,s){for(var a,o,r,l,n=parseInt(s)-(parseInt(s)%100+10),d=[],h=this._isIE8||this._isIE9?"":"\n",c=0;c<12;c++)d.push(parseInt(n)+" -"+h+parseInt(n+9)),n+=10;for(a=0,o=0;o<3;o++){for(r=e(document.createElement("tr")),c=0;c<4;c++)(l=e(document.createElement("td"))).attr(this._isIE8?{unselectable:"on"}:{}),0==a?l.addClass("e-allyear-first e-current-allyear "):11==a?l.addClass("e-allyear-last e-current-allyear "):l.addClass("e-current-allyear e-state-default"),(parseInt(d[a].split("-\n")[1])<this.model.minDate.getFullYear()||parseInt(d[a].split("-\n")[0])>this.model.maxDate.getFullYear())&&(l.addClass("e-hidedate"),l.removeClass("e-current-allyear")),l.html(d[a++]),r.append(l);t.append(r)}i.append(t)},_renderHeader:function(i){var s,a,o,r,l,n,d,h,c=e(document.createElement("thead")),u=t.preferredCulture(this.model.locale).calendars.standard.days;if("none"!=i.model.dayHeaderFormat)for(s=t.buildTag("tr.e-week-header").attr({role:"row"}).attr(this._isIE8?{unselectable:"on"}:{}),1==this.model.weekNumber&&(n=(a=t.preferredCulture(this.model.locale).calendars.standard.week).name,d="short"==i.model.dayHeaderFormat?a.nameAbbr:"long"==i.model.dayHeaderFormat?week:a.nameShort,o=t.buildTag("th","",{},{scope:"col",abbr:n,"data-date":n,title:this._formatter(n,"dddd")}).attr(this._isIE8?{unselectable:"on"}:{}).html(d),s.append(o)),r=this.Date.firstDayOfWeek;r<this.Date.firstDayOfWeek+7;r++)l=r%7,n=u.names[l],d="short"==i.model.dayHeaderFormat?u.namesAbbr[l]:"long"==i.model.dayHeaderFormat?n:u.namesShort[l],h=t.buildTag("th","",{},{scope:"col",abbr:n,"data-date":n,title:this._formatter(n,"dddd"),class:0==l||6==l?"e-week-end":"e-week-day"}).attr(this._isIE8?{unselectable:"on"}:{}).html(d),s.append(h);return c.append(s)},_renderCalendar:function(s,a){var o,r,l,n,d,h,c,u,p,m,g=this;s=e.extend({},t.DatePicker.prototype.defaults,s),this.Date.firstDayOfWeek=this.model.startDay,o=a||(this._calendarDate?this._calendarDate:g._zeroTime(new Date)),(r=e("table",this.sfCalendar)).empty(),r.append(this._renderHeader(s)),l=t.buildTag("tbody.e-datepicker-allyears","",{display:"none"}).attr(this._isIE8?{unselectable:"on"}:{}),this._datepickerAllYears(l,r,o.getFullYear()),l=t.buildTag("tbody.e-datepicker-years","",{display:"none"}).attr(this._isIE8?{unselectable:"on"}:{}),this._datepickerYears(l,r,o.getFullYear());var _=s.model.month==i?o.getMonth():s.model.month,f=s.model.year||o.getFullYear(),b=new Date(f,_,1,0,0,0),v=this.Date.firstDayOfWeek-b.getDay()+1;v>1&&(v-=7),n=Math.ceil((-1*v+1+this._getDaysInMonth(b))/7),this._addDays(b,v-1),d=g._zeroTime(new Date),h=this._calendarDate,l=t.buildTag("tbody.e-datepicker-months","",{display:"none"}).attr(this._isIE8?{unselectable:"on"}:{}),this._datepickerMonths(l,r,o),l=t.buildTag("tbody.e-datepicker-days","",{display:"none"}).attr(this._isIE8?{unselectable:"on"}:{});for(var x=0,y=!0,w=!0;x++<n;){for(c=jQuery(document.createElement("tr")).attr({role:"row"}),1==this.model.weekNumber&&(u=this._weekDate(b),u=e(document.createElement("td")).attr({}).addClass("e-weeknumber").html(u),c.append(u)),p=0;p<7;p++){var S=b.getMonth()==_,C=this._isSpecialDates(b),T=this._checkDisableRange(b),L=this._getIndex,k=e(document.createElement("td")).html(C?"<span></span>"+b.getDate():b.getDate()+"").attr({"data-date":b.toDateString(),title:this.model.showTooltip?C&&this.model.specialDates[L][this._mapField._tooltip]?this.model.specialDates[L][this._mapField._tooltip]:this._formatter(b,this.model.tooltipFormat):"","aria-selected":!1,role:"gridcell",id:this._formatter(b,"yyyyddMM")}).attr(this._isIE8?{unselectable:"on"}:{}).addClass((S?"current-month e-state-default ":"other-month e-state-default ")+(this._isWeekend(b)?this._ejHLWeekEnd?"e-dp-weekend e-week-end ":this.model.highlightWeekend?"e-week-end ":"":"e-week-day ")+(S&&b.getTime()==d.getTime()?"today ":""));k.find("span:first-of-type").addClass(C?this.model.specialDates[L][this._mapField._icon]?"e-special-date-icon "+this.model.specialDates[L][this._mapField._icon]+" ":"e-special-day":""),k.addClass(C&&this.model.specialDates[L][this._mapField._custom]?this.model.specialDates[L][this._mapField._custom]:""),T&&this._disableDates({date:b,element:k}),h.getTime()==b.getTime()&&S&&(k.hasClass("e-hidedate")||(this.model.value?(k.addClass("e-active").attr({"aria-selected":!0}),"week"==this.model.highlightSection&&c.addClass("e-selected-week"),"month"==this.model.highlightSection&&l.addClass("e-selected-month"),"workdays"==this.model.highlightSection&&c.addClass("e-work-week")):null!=this.model.value&&k.addClass("e-state-hover").attr({"aria-selected":!1})),this._hoverDate||(k.hasClass("e-hidedate")||k.addClass("e-state-hover"),this._hoverDate=b.getDate()-1)),m=!0,(b<this.model.minDate||b>this.model.maxDate)&&(k.addClass("e-hidedate"),k.removeClass("current-month"),this.model.showOtherMonths&&k.removeClass("other-month"),m=w=!1),S&&(m&&y&&(this._tempMinDate=b,y=!1,w=!0),w&&(this._tempMaxDate=b)),this._trigger("beforeDateCreate",{date:b,value:this._formatter(b,this.model.dateFormat),element:k}),c.append(k),b=new Date(b.getFullYear(),b.getMonth(),b.getDate()+1,0,0,0)}l.append(c)}r.append(l),this._DRPdisableFade?(e(l).css("display","block"),e(l).css({display:"table-row-group","vertical-align":"middle","border-color":"inherit"})):this._isIE8||this._isIE7?e(l).css("display","table-row-group"):e(l).fadeIn("fast"),this.model.startLevel===this.model.depthLevel||"month"!=this.model.depthLevel&&""!=this.model.depthLevel&&("century"==this.model.startLevel||"decade"==this.model.startLevel&&"century"!=this.model.depthLevel||"year"==this.model.startLevel&&"decade"!=this.model.depthLevel&&"century"!=this.model.depthLevel)?this._depthLevel(this.model.depthLevel):(this._on(r.find(".current-month,.other-month,.e-current-month,.e-current-year,.e-current-allyear"),"click",e.proxy(this._backwardNavHandler,this)),this._on(r.find(".current-month , .other-month"),"click",e.proxy(this._onSetCancelDateHandler,this))),this._otherMonthsVisibility(),this._checkDateArrows()},_checkDisableRange:function(e){return!t.isNullOrUndefined(this._disableCollection[e.getFullYear()])&&-1!==jQuery.inArray(e.getMonth(),this._disableCollection[e.getFullYear()])},_initDisableObj:function(){var e,i,s,a;for(this._disableCollection={},e=0;e<this.model.blackoutDates.length;e++)(i=this._checkInstanceType(this.model.blackoutDates[e]))&&(s=i.getFullYear(),a=i.getMonth(),t.isNullOrUndefined(this._disableCollection[s])&&(this._disableCollection[s]=[]),-1==jQuery.inArray(a,this._disableCollection[s])&&this._disableCollection[s].push(a))},_disableDates:function(e){for(var t,i=0;i<this.model.blackoutDates.length;i++)(t=this._checkInstanceType(this.model.blackoutDates[i]))&&+e.date==+t&&e.element.addClass("e-hidedate")},_keyboardNavigation:function(e){var t;if(this._keyboardInteraction=!0,this._animating)return!1;if(!this._isOpen||37!=e.keyCode&&38!=e.keyCode&&39!=e.keyCode&&40!=e.keyCode&&13!=e.keyCode&&36!=e.keyCode&&35!=e.keyCode)if(this.model.displayInline||27!=e.keyCode&&9!=e.keyCode){if(e.altKey&&40==e.keyCode)return this.show(),!1}else this.hide();else{if(e.preventDefault&&e.preventDefault(),e.altKey)return 13==e.keyCode?(this._setCurrDate(e),!1):void 0;(t={row:null,col:null}).col=this.sfCalendar.find("tbody tr td.e-state-hover").index(),t.row=this.sfCalendar.find("tbody tr td.e-state-hover").parent().index(),t.col=-1!=t.col?t.col+1:this.sfCalendar.find("tbody tr td.e-active").index()+1,t.row=-1!=t.row?t.row+1:this.sfCalendar.find("tbody tr td.e-active").parent().index()+1;var i,s=3,a=4;switch(this.sfCalendar.find("table")[0].className){case"e-dp-viewallyears":i=this._changeRowCol(t,e.keyCode,s,a,"yearall",e.ctrlKey),e.ctrlKey||(this._hoverAllYear=this.sfCalendar.find("tbody.e-datepicker-allyears tr td").index(i));break;case"e-dp-viewyears":i=this._changeRowCol(t,e.keyCode,s,a,"year",e.ctrlKey),e.ctrlKey||(this._hoverYear=this.sfCalendar.find("tbody.e-datepicker-years tr td").index(i));break;case"e-dp-viewmonths":i=this._changeRowCol(t,e.keyCode,s,a,"month",e.ctrlKey),e.ctrlKey||(this._hoverMonth=this.sfCalendar.find("tbody.e-datepicker-months tr td").index(i));break;case"e-dp-viewdays":s=this.sfCalendar.find("tbody.e-datepicker-days tr").length,a=7,i=this._changeRowCol(t,e.keyCode,s,a,"day",e.ctrlKey),e.ctrlKey||(this._hoverDate=this._getDateObj(i).getDate()-1)}e.ctrlKey||(this.sfCalendar.find("table td").removeClass("e-state-hover"),i.addClass("e-state-hover"),this._setAriaAttributes(i))}},_setAriaAttributes:function(t){this._popupOpen&&(this.sfCalendar.find("[aria-selected=true]").attr("aria-selected",!1),this.sfCalendar.find("[aria-label]").removeAttr("aria-label"),e(this.element).attr("aria-activedescendant",t.attr("id")),e(t).attr("aria-selected",!0),e(t).attr("aria-label","The current focused date is "+this._formatter(this._getDateObj(t),"dddd, dd MMMM, yyyy")))},_changeRowCol:function(t,i,s,a,o,r){var l,n,d,h,c,u={parent:null,child:null};switch(o){case"day":l="tbody.e-datepicker-days tr td.current-month",u.parent=".e-datepicker-days",u.child=".current-month";break;case"month":l="tbody.e-datepicker-months tr td.e-current-month",u.parent=".e-datepicker-months",u.child=".e-current-month";break;case"year":l="tbody.e-datepicker-years tr td.e-current-year",u.parent=".e-datepicker-years",u.child=".e-current-year";break;case"yearall":l="tbody.e-datepicker-allyears tr td.e-current-allyear",u.parent=".e-datepicker-allyears",u.child=".e-current-allyear"}if(t.row<=0&&t.col<=0)return this._removeCurrentMonthFromHideDate(),this.sfCalendar.find(l+":first");switch(i){case 36:return this.sfCalendar.find(l+":first");case 35:return this.sfCalendar.find(l+":last");case 38:if(r&&this.model.allowDrillDown)this._forwardNavHandler();else{if(!(t.row>1))return this._processNextPrevDate(!0),this.sfCalendar.find(l+":nth-child("+t.col+"):last");t.row-=1}if((n=this._getCell(t,u)).length<=1){if(null!==(n=this._findVisible(t,u,"up")))return n;this._processNextPrevDate(!0),n=this.sfCalendar.find(l+":nth-child("+t.col+"):last")}return n;case 37:if(r)return this._processNextPrevDate(!0),this.sfCalendar.find("tbody tr td.e-state-hover");if(t.col>1)t.col-=1;else{if(!(t.row>1))return this._processNextPrevDate(!0),this.sfCalendar.find(l+":last");t={row:t.row-1,col:a}}if((n=this._getCell(t,u)).length<=1){if(null!==(n=this._findVisible(t,u,"left")))return n;this._processNextPrevDate(!0),n=this.sfCalendar.find(l+":last")}return n;case 39:if(r)return this._processNextPrevDate(!1),this.sfCalendar.find("tbody tr td.e-state-hover");if(t.col<a)t.col+=1;else{if(!(t.row<s))return this._processNextPrevDate(!1),this.sfCalendar.find(l+":first");t={row:t.row+1,col:1}}if((n=this._getCell(t,u)).length<=1){if(null!==(n=this._findVisible(t,u,"right")))return n;this._processNextPrevDate(!1),n=this.sfCalendar.find(l+":first")}return n;case 40:if(!r){if(!(t.row<s))return this._processNextPrevDate(!1),this.sfCalendar.find(l+":nth-child("+t.col+"):first");if(t.row+=1,(n=this._getCell(t,u)).length<=1){if(null!==(n=this._findVisible(t,u,"down")))return n;this._processNextPrevDate(!1),n=this.sfCalendar.find(l+":nth-child("+t.col+"):first")}return n}case 13:d=e("table",this.sfCalendar).get(0).className,h=this._getCell(t,u),c=e(h)[0],"e-dp-viewmonths"==d&&"year"==this.model.startLevel&&"year"==this.model.depthLevel?(this._dateValue=new Date(this._dateValue.setMonth(parseInt(c.attributes["data-index"].value))),this._onSetCancelDateHandler({type:null,target:h})):"e-dp-viewyears"==d&&"decade"==this.model.startLevel&&"decade"==this.model.depthLevel||"e-dp-viewallyears"==d&&"century"==this.model.startLevel&&"century"==this.model.depthLevel?(this._dateValue=new Date(this._dateValue.setFullYear(parseInt(c.innerHTML))),this._onSetCancelDateHandler({type:null,target:h})):"e-dp-viewdays"==d?(this._backwardNavHandler(h),this._onSetCancelDateHandler({type:null,target:h})):this._backwardNavHandler(h)}return this._getCell(t,u)},_findVisible:function(e,t,i){for(var s,a=e.col,o=e.row,r=t.child.slice(1,t.child.length),l=0;l>=0;l++){if((s=this.sfCalendar.find("tbody"+t.parent+" tr:nth-child("+o+") td:nth-child("+a+")")).length<=0)return null;if(s.hasClass("e-hidedate")||!s.is(":visible")){if("right"==i||"left"==i?"right"==i?a++:a--:"down"==i?o++:o--,o<=0||o>this.sfCalendar.find("tbody"+t.parent+" tr").length||(a>this.sfCalendar.find("tbody"+t.parent+" tr:nth-child("+o+") td").length&&(o++,a=1),a<=0&&(o--,a=this.sfCalendar.find("tbody"+t.parent+" tr:nth-child("+o+") td").length),o<=0||o>this.sfCalendar.find("tbody"+t.parent+" tr").length))return null}else{if(s.hasClass("other-month"))return null;if(s.hasClass(r))return e.col=a,e.row=o,s}}},_getCell:function(e,t){return this.sfCalendar.find("tbody"+t.parent+" tr:nth-child("+e.row+") td"+t.child+":nth-child("+e.col+")")},_getDateObj:function(e){return new Date(e.attr("data-date"))},_touchCalendar:function(e){var t=this.sfCalendar.find("table")[0].className;switch(e.type){case"pinchin":"e-dp-viewdays"!=t&&this._keyboardNavigation({keyCode:13});break;case"pinchout":"e-dp-viewallyears"!=t&&this.model.allowDrillDown&&this._forwardNavHandler();break;case"swipeleft":this._processNextPrevDate(!1);break;case"swiperight":this._processNextPrevDate(!0)}},show:function(i){var s,a;if(t.isNullOrUndefined(this.sfCalendar)&&this._renderPopup(),this._isOpen)return!1;if(s=this,this._popupOpen=!0,e(this.element).attr("aria-expanded",!0),a=null!=this._preValue?new Date(this._preValue.toString()):this._preValue,this.model.enabled){if(this.model.displayInline||this._setDatePickerPosition(),this._trigger("beforeOpen",{element:this.sfCalendar,events:i}))return!1;this.sfCalendar.attr({"aria-hidden":"false"}),s._isOpen=!0,this.sfCalendar.slideDown(this.model.enableAnimation?this.animation.open.duration:0,(function(){s.model&&!s.model.displayInline&&e(document).on("mousedown",e.proxy(s._onDocumentClick,s))})),this._isIE8?this.element.val()&&this._compareDate(new Date(this.element.val()),a)&&this._updateInputVal():this._updateInputVal(),this._refreshLevel(a),this._trigger("open",{prevDate:a,date:this.model.value,value:this._formatter(this.model.value,this.model.dateFormat)}),e(window).on("resize",e.proxy(this._OnWindowResize,this)),this.model.displayInline||(this._on(t.getScrollableParents(this.wrapper),"scroll",this.hide),this._on(t.getScrollableParents(this.wrapper),"touchmove",this.hide)),this._isInputBox&&this.wrapper.addClass("e-active"),null!=this.model.value?e(this.element).attr("aria-activedescendant",e(this.sfCalendar.find(".e-active")).attr("id")):e(this.element).attr("aria-activedescendant",e(this.sfCalendar.find(".today")).attr("id"))}},hide:function(s){if(!this._isOpen||this._getInternalEvents||this._trigger("beforeClose",{element:this.sfCalendar,events:s}))return!1;var a=this;this._popupOpen=!1,e(this.element).attr("aria-expanded",!1),this.sfCalendar.attr({"aria-hidden":"true"}),this._popClose&&s!=i&&"click"!=s.type||(this.sfCalendar.slideUp(this.model.enableAnimation?this.animation.close.duration:0,(function(){a._isOpen=!1,e(document).off("mousedown",e.proxy(a._onDocumentClick,a)),a._setWaterMark()})),""!=this.element.val()&&this._validateInputVal(),this._trigger("close",{prevDate:this._prevDate,date:this.model.value,value:this._formatter(this.model.value,this.model.dateFormat)}),e(window).off("resize",e.proxy(this._OnWindowResize,this)),this._off(t.getScrollableParents(this.wrapper),"scroll",this.hide),this._off(t.getScrollableParents(this.wrapper),"touchmove",this.hide),this._isInputBox&&this.wrapper.removeClass("e-active"),this.model.value?e(this.element).attr("aria-activedescendant",e(this.sfCalendar.find(".e-active")).attr("id")):e(this.element).removeAttr("aria-activedescendant"))},enable:function(){this.model.enabled=!0,this.wrapper&&this.wrapper.removeClass("e-disable"),this.element.removeClass("e-disable").attr({"aria-disabled":!1}),this.element.prop("disabled",!1),this.dateIcon&&this.dateIcon.removeClass("e-disable").attr({"aria-disabled":!1}),this._isIE8&&this.dateIcon&&this.dateIcon.children().removeClass("e-disable"),this.element.prop("disabled",!1),this._isSupport||this._hiddenInput.prop("disabled",!1),this.sfCalendar&&this.sfCalendar.removeClass("e-disable").attr({"aria-disabled":!1})},disable:function(){this.model.enabled=!1,this.wrapper&&this.wrapper.addClass("e-disable"),this.element.addClass("e-disable").attr({"aria-disabled":!0}),this.element.attr("disabled","disabled"),this.dateIcon&&this.dateIcon.addClass("e-disable").attr({"aria-disabled":!0}),this._isIE8&&this.dateIcon&&this.dateIcon.children().addClass("e-disable"),this.element.attr("disabled","disabled"),this._isSupport||this._hiddenInput.attr("disabled","disabled"),this.sfCalendar&&this.sfCalendar.addClass("e-disable").attr({"aria-disabled":!0}),this._isOpen&&(this.element.is(":input")&&this.element.blur(),this.model.displayInline||this.hide())},getValue:function(){return this._formatter(this.model.value,this.model.dateFormat)},_wireCalendarEvents:function(){this._allowQuickPick(this.model.allowDrillDown),this._on(e(".e-next",this.sfCalendar),"click",e.proxy(this._previousNextHandler,this)),this._on(e(".e-prev",this.sfCalendar),"click",e.proxy(this._previousNextHandler,this)),this.model.displayInline||(this.sfCalendar.on("mouseenter touchstart",e.proxy((function(){this._popClose=!0}),this)),this.sfCalendar.on("mouseleave touchend",e.proxy((function(){this._popClose=!1}),this))),this.model.showFooter&&this._on(e(".e-footer",this.sfCalendar),"click",this._setCurrDate),this.sfCalendar&&this._on(this.sfCalendar,"pinchin pinchout swipeleft swiperight",e.proxy(this._touchCalendar,this))},_wireEvents:function(){this.element.is(":input")&&this.model.allowEdit&&(this._on(this.element,"blur",this._onFocusOut),this._on(this.element,"focus",this._onFocusIn),this._on(this.element,"keydown",this._onKeyDown)),this.model.allowEdit||(this.element.attr("readonly","readonly"),this.element.on("mousedown",e.proxy(this._showDatePopUp,this)))},_bindDateButton:function(){this._on(this.dateIcon,"mousedown",this._showDatePopUp),this.model.allowEdit&&this.element.off("mousedown",e.proxy(this._showDatePopUp,this))},_bindInputEvent:function(){this._off(this.dateIcon,"mousedown",this._showDatePopUp)},_specificFormat:function(){var i=t.globalize._getDateParseRegExp(t.globalize.findCulture(this.model.locale).calendar,this.model.dateFormat);return e.inArray("dddd",i.groups)>-1||e.inArray("ddd",i.groups)>-1},_onFocusOut:function(i){var s,a,o,r;if(this._isFocused=!1,s=null!=this._preValue?new Date(this._preValue.toString()):this._preValue,this.model.enableStrictMode&&this.element.val()&&!isNaN(+new Date(this.element.val())))for(this._formatArray=this.model.dateFormat.split(this._getSeparator()),this._valArray=this.element.val().split(this._getSeparator()),a=0;a<this._formatArray.length;a++)this._formatArray[a].startsWith("y")&&this._valArray.length>1&&(4==this._formatArray[a].length&&2==this._valArray[a].length||2==this._formatArray[a].length&&2==this._valArray[a].length)&&(this._valArray[a]=(parseInt(this._valArray[a])+2e3).toString(),this.element.val(this._valArray.join(this._getSeparator())));this._validateOnFocusOut(this._validateValue(),i),this.wrapper.removeClass("e-focus"),t.isNullOrUndefined(this.model.value)?this.wrapper.removeClass("e-valid"):this.wrapper.addClass("e-valid"),this._isOpen&&!this.model.displayInline||this._setWaterMark()||this._compareDate(this._preValue,this._parseDate(this.element.val(),this.model.dateFormat))||this._updateInputVal(),(!this._isOpen||this.model.displayInline)&&this._refreshLevel(s),""!=this.element.val()&&(!this._isOpen||this.model.displayInline)&&this._validateInputVal(),this.element.off("keydown",e.proxy(this._keyboardNavigation,this)),this.model.showPopupButton||this._off(this.element,"click",this._elementClick),o=this.element.val(),r={prevDate:this._prevDate,value:o},this._specificFormat()?this._prevDate!=o&&this._setDateValue(o,!0):this._setDateValue(o),this.model.value||this._clearSelected(),this._trigger("focusOut",r),this._checkErrorClass()},_onFocusIn:function(t){this._isSupport&&(t.preventDefault(),this._isFocused=!0),this.wrapper.removeClass("e-error"),this.isValidState=!0,this.wrapper.addClass("e-focus"),this.wrapper.addClass("e-valid"),this.model.readOnly||(this._isSupport||this._hiddenInput.css("display","none"),this.element.on("keydown",e.proxy(this._keyboardNavigation,this)),this.model.showPopupButton||this.model.readOnly||this.show(t),this.model.showPopupButton||this._on(this.element,"click",this._elementClick),this._trigger("focusIn",{date:this.model.value,value:this._formatter(this.model.value,this.model.dateFormat)}))},_elementClick:function(e){this._popupOpen||this.show(e)},_removeWatermark:function(){""==this.element.val()||this._isSupport||this._hiddenInput.css("display","none")},_refreshPopup:function(){this._refreshDatepicker(),this._startLevel(this.model.startLevel)},_weekDate:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},_refreshLevel:function(e){if(this.model.startLevel==this.model.depthLevel&&"month"!=this.model.startLevel){var t=this._stringToObject(this.element.val());(t=this._validateYearValue(t))&&(this._compareDate(e,t)||this._refreshPopup())}},_validateOnFocusOut:function(e,i){var s,a,o,r,l=null!=this._preValue?this._calendarDate:this._preValue,n=this._formatter(l,this.model.dateFormat);this._prevDate=this._formatter(this._preValue,this.model.dateFormat),s=n,a={prevDate:this._prevDate,value:s,isInteraction:!!i},this._specificFormat()&&e>this.model.minDate&&e<this.model.maxDate?null==e?this.model.value=l:(this.model.value=e,this._formatter(e,this.model.dateFormat,this.model.locale)):this._formatter(this._parseDate(this._formatter(new Date,"MM/dd/yyyy")),this.model.dateFormat),o=!1,r=!1,null==e||this.model.enableStrictMode?null!=e||this.model.enableStrictMode?e?(e<this.model.minDate||e>this.model.maxDate?(this.isValidState=!1,r=!0,this._calendarDate=e<this.model.minDate?this.model.minDate:this.model.maxDate):this.isValidState=!0,this._triggerChangeEvent(i),r&&this._getInternalEvents&&this._trigger("outOfRange")):(this.isValidState=!1,this._calendarDate<this.model.minDate?this._calendarDate=this.model.minDate:this._calendarDate>this.model.maxDate&&(this._calendarDate=this.model.maxDate)):(null==this._preTxtValue||""==this.element.val()?(this.element.val(""),this._isSupport||this._hiddenInput.css("display","block")):this.element.val(n),this._triggerChangeEvent(i),null!=this.model.value&&this._trigger("change",a)):(t.isNullOrUndefined(this.model.value)&&(this.model.value=this._parseDate(this.element.val())),this.model.maxDate<this.model.minDate&&(this.model.minDate=this.model.maxDate),this.model.enableStrictMode||(e?(e<this.model.minDate||e>this.model.maxDate)&&(o=!0,this._calendarDate=e=e<this.model.minDate?this.model.minDate:this.model.maxDate):(this.element.val(""),this._calendarDate<this.model.minDate?this._calendarDate=this.model.minDate:this._calendarDate>this.model.maxDate&&(this._calendarDate=this.model.maxDate)),this.isValidState=!0),o&&this.element.val(this._formatter(e,this.model.dateFormat)),this._compareDate(this._preValue,this._parseDate(this.element.val(),!0))||this._triggerChangeEvent(i))},_onKeyDown:function(e){if(13===e.keyCode){var t=null!=this._preValue?new Date(this._preValue.toString()):this._preValue;this._validateOnFocusOut(this._validateValue(),e),this._isOpen&&!this.model.displayInline||this._setWaterMark()||this._compareDate(this._preValue,this._parseDate(this.element.val(),this.model.dateFormat))||this._updateInputVal(),(!this._isOpen||this.model.displayInline)&&this._refreshLevel(t),""!=this.element.val()&&(!this._isOpen||this.model.displayInline)&&this._validateInputVal(),this._checkErrorClass()}},_showhidePopup:function(e){if(!this.model.enabled)return!1;this._isOpen?(this._isFocused||!this.element.is(":input")||t.isTouchDevice()||this.element.focus(),this._cancelValue||this.hide(e)):(this._isFocused||!this.element.is(":input")||t.isTouchDevice()||this.element.focus(),this.show(e))},_compareDate:function(e,t){return+e==+t},_validateDate:function(e){var t,i,s=!0;if(null!=e){for(t=0;t<this.model.blackoutDates.length;t++)(i=this._checkInstanceType(this.model.blackoutDates[t]))&&+e==+i&&(s=!1);(e<this.model.minDate||e>this.model.maxDate)&&this.model.enableStrictMode&&(s=!1,this.isValidState=!1)}return s},_triggerChangeEvent:function(e){var t,s,a=""==this.element.val()?null:this.element.val();this._prevDate=this._formatter(this._preValue,this.model.dateFormat),s={prevDate:this._prevDate,value:a,isInteraction:!!e},t=this._specificFormat()&&e!=i&&"keydown"==e.type&&this._formatter(this._preValue,this.model.dateFormat,this.model.locale)!=this.element.val()?this._parseDate(this.element.val(),!0):this._specificFormat()&&e!=i&&"blur"==e.type?this.model.value:this._parseDate(a),t=this._validateYearValue(t),this._validateDate(t)||(t=null),this._compareDate(this._preValue,t)?""==this.element.val()&&null==this._prevDate||this.element.val()==this._prevDate||(s.value=this.element.val(),this._trigger("_change",s)):(this._preValue=this.model.value=t,s.value=this._formatter(this.model.value,this.model.dateFormat),this.model.value&&(this._clickedDate=this._calendarDate=this.model.value),this.model.displayInline&&!this._isInputBox&&this._hiddenInput.attr("value",a),this.model.value||this.model.enableStrictMode||this._setDateValue(this.model.value),s.value=a,this._trigger("_change",s),s.value=this._formatter(this.model.value,this.model.dateFormat),this._trigger("change",s),this._checkErrorClass())},_triggerSelectEvent:function(){var t,i=this.element.val();this._parseDate(i)&&(t={prevDate:this._prevDate,date:this.model.value,value:i,isSpecialDay:this._isSpecialDates(this.model.value)},this._prevDate!=i&&this._parseDate(t.value)&&this.model.value>=this.model.minDate&&this.model.value<=this.model.maxDate&&(this._cancelValue=this._trigger("select",t)),this._dt_drilldown&&this._trigger("dt_drilldown",t)),this.model.value&&e(this.element).attr("aria-activedescendant",e(this.sfCalendar.find(".e-active")).attr("id"))},_onDocumentClick:function(t){this.model&&(e(t.target).is(this.popup)||e(t.target).parents(".e-popup").is(this.popup)||e(t.target).is(this.wrapper)||e(t.target).parents(".e-datewidget").is(this.wrapper)?(e(t.target).is(this.popup)||e(t.target).parents(".e-popup").is(this.popup))&&t.preventDefault():this.hide(t))},_OnWindowResize:function(){this.sfCalendar&&this._setDatePickerPosition()},_showDatePopUp:function(e){var t=!1;if(e.button?t=2==e.button:e.which&&(t=3==e.which),!t&&(this._isSupport||this.model.showPopupButton||(e.preventDefault(),this._onFocusIn()),!this.model.readOnly)){if(e.preventDefault(),!this.model.enabled&&this.model.displayInline)return!1;this._showhidePopup(e)}},_layoutChanged:function(){this._getInternalEvents&&this._trigger("layoutChange")},_setCurrDate:function(e){if(this.model.readOnly||!this.model.enabled)return!1;e&&e.preventDefault(),this._prevDate=this._formatter(this.model.value,this.model.dateFormat),this._dateValue=this._zeroTime(new Date),this.model.value=this._calendarDate=new Date(this._dateValue.toString()),this._setDateValue(this.model.value),this._triggerSelectEvent(e),this._triggerChangeEvent(e),this._refreshDatepicker(),this._changeDayClass(),this._startLevel(this.model.startLevel),this._onSetCancelDateHandler(e),this._layoutChanged()},_changeDayClass:function(){var e=this.popup.children("table")[0].className;"e-dp-viewdays"!=e&&this.popup.children("table").removeClass(e).addClass("e-dp-viewdays")},_onSetCancelDateHandler:function(t){if(this.model.readOnly||!this.model.enabled||t&&(e(t.target).hasClass("e-disable")||e(t.target).hasClass("e-hidedate")))return!1;t&&t.type&&t.preventDefault(),this._specificFormat()?this._prevDate=this.element.val():this.model.value=this._parseDate(this.element.val()),this._prevDate=this._formatter(this.model.value,this.model.dateFormat),this._setDateValue(this._dateValue),this._triggerSelectEvent(t),this._triggerChangeEvent(t),this._dateValue=null==this.model.value?null:new Date(this.model.value.toString()),this.element.is(":input")&&!this.model.displayInline&&this._showhidePopup(t),t&&e(t.currentTarget).hasClass("other-month")&&this._refreshDatepicker(),this._cellSelection()},_closeCalendar:function(e){e&&e!=this.element||this.sfCalendar.empty().remove()},_checkErrorClass:function(){this.wrapper&&(this.isValidState?this.wrapper.removeClass("e-error"):this.wrapper.addClass("e-error"))},_getLocalizedLabels:function(){return t.getLocalizedConstants(this.sfType,this.model.locale)}}),t.DatePicker.Locale=t.DatePicker.Locale||{},t.DatePicker.Locale.default=t.DatePicker.Locale["en-US"]={watermarkText:"Select date",buttonText:"Today"},t.DatePicker.Header={None:"none",Short:"short",Min:"min",Long:"long"},t.DatePicker.HighlightSection={Month:"month",Week:"week",WorkDays:"workdays",None:"none"},t.DatePicker.Level={Month:"month",Year:"year",Decade:"decade",Century:"century"}}(jQuery,Syncfusion),function(e,t,i){t.widget("ejTimePicker","ej.TimePicker",{element:null,model:null,validTags:["input"],_addToPersist:["value"],_rootCSS:"e-timepicker",_setFirst:!1,type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"],requireFormatters:!0},_requiresID:!0,defaults:{cssClass:"",timeFormat:"",value:null,enableAnimation:!0,locale:"en-US",htmlAttributes:{},readOnly:!1,showPopupButton:!0,enableStrictMode:!1,interval:30,hourInterval:1,minutesInterval:1,secondsInterval:1,height:"",width:"",minTime:"12:00 AM",maxTime:"11:59 PM",showRoundedCorner:!1,enableRTL:!1,popupHeight:"191px",popupWidth:"auto",enabled:!0,enablePersistence:!1,disableTimeRanges:null,validationRules:null,validationMessages:null,focusIn:null,focusOut:null,beforeChange:null,change:null,select:null,create:null,destroy:null,beforeOpen:null,beforeClose:null,open:null,close:null,watermarkText:"select a time"},dataTypes:{timeFormat:"string",minTime:"string",maxTime:"string",readOnly:"boolean",interval:"number",showPopupButton:"boolean",locale:"string",hourInterval:"number",minutesInterval:"number",secondsInterval:"number",enabled:"boolean",enablePersistence:"boolean",enableAnimation:"boolean",enableStrictMode:"boolean",disableTimeRanges:"data",htmlAttributes:"data",validationRules:"data",validationMessages:"data",watermarkText:"string"},observables:["value"],enable:function(){this.model.enabled||(this.element[0].disabled=!1,this.element.prop("disabled",!1),this.model.enabled=!0,this.wrapper.removeClass("e-disable"),this.element.removeClass("e-disable").attr("aria-disabled",!1),this.model.showPopupButton&&(this.timeIcon.removeClass("e-disable").attr("aria-disabled",!1),this.popupList&&this.popupList.removeClass("e-disable").attr("aria-disabled",!1)),this._isIE8&&this.timeIcon.children().removeClass("e-disable"))},disable:function(){this.model.enabled&&(this.element[0].disabled=!0,this.model.enabled=!1,this.element.attr("disabled","disabled"),this.wrapper.addClass("e-disable"),this.element.addClass("e-disable").attr("aria-disabled",!0),this.model.showPopupButton&&(this.timeIcon.addClass("e-disable").attr("aria-disabled",!0),this.popupList&&this.popupList.addClass("e-disable").attr("aria-disabled",!0)),this._isIE8&&this.timeIcon.children().addClass("e-disable"),this._hideResult())},getValue:function(){return this.element.val()},setCurrentTime:function(){this.model.readOnly||this._setMask()},setValue:function(e){var i,s=this.model.value;this.model.value=t.format(this._createObject(e,!0),this.model.timeFormat,this.model.locale),this._ensureValue(),this._enableMask(),this.model.enableStrictMode&&!this._isValid(e,!0)&&(i=this._isValid(this.model.value)?this._localizeTime(this.model.value):this.model.value,this.element.val(i)),s!=this.model.value&&this._raiseChangeEvent(s,!0),this._checkErrorClass()},show:function(){this.showDropdown||this._getInternalEvents||this._showResult()},hide:function(){this.showDropdown&&this._hideResult()},_ISORegex:function(){this._tokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,this._extISORegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,this._basicISORegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,this._numberRegex={2:/\d\d?/,4:/^\d{4}/,z:/Z|[+-]\d\d(?::?\d\d)?/gi,t:/T/,"-":/\-/,":":/:/},this._zeroRegex=/Z|[+-]\d\d(?::?\d\d)?/,this._dates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],this._times=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]]},_timeFormat:function(e){var i,s;return e||(e=t.preferredCulture(this.model.locale).calendars.standard.patterns.t),(i=this._validateTimeFormat(e))&&(this.model.timeFormat=i,this.model.minTime=t.format(this._createObject(this._minTimeObj),this.model.timeFormat,this.model.locale),this.model.maxTime=t.format(this._createObject(this._maxTimeObj),this.model.timeFormat,this.model.locale),this.model.value?(this._setModelOption=!0,this.model.value=this._localizeTime(this.model.value),this.element.val(this.model.value)):(this._setModelOption=!1,(s=this._localizeTime(this.element.val()))&&this._checkMinMax(s)&&(this.model.value=s,this.element.val(s)))),i},_getTimeFormat:function(){this._prevTimeFormat&&(this.model.timeFormat=t.preferredCulture(this.model.locale).calendar.patterns.t||"h:mm tt"),this.seperator=this._getSeperator()},_changeSkin:function(e){this.wrapper.removeClass(this.model.cssClass).addClass(e),this.popupList&&this.popupList.removeClass(this.model.cssClass).addClass(e)},_localize:function(e){var i=this._createObject(this.model.value,!0);this.model.locale=e,this._getTimeFormat(),this.model.minTime=t.format(this._createObject(this._minTimeObj),this.model.timeFormat,this.model.locale),this.model.maxTime=t.format(this._createObject(this._maxTimeObj),this.model.timeFormat,this.model.locale),t.isNullOrUndefined(this._options)||t.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText),i?(this.model.value=this._localizeTime(i),this.element.val(this.model.value)):(i=this._localizeTime(this.element.val()))&&this._checkMinMax(i)&&(this.model.value=i,this.element.val(i)),this._getAmPm()},_setWaterMark:function(){if(null!=this.element&&this.element.hasClass("e-input"))return this._localizedLabels.watermarkText&&""==this.element.val()&&(this.isValidState=!0,this._checkErrorClass()),this._isSupport||""!=this.element.val()?e(this.element).attr("placeholder",this._localizedLabels.watermarkText):this._hiddenInput.css("display","block").val(this._localizedLabels.watermarkText),!0},_localizedLabelToModel:function(){this.model.watermarkText=this._localizedLabels.watermarkText,this.model.buttonText=this._localizedLabels.buttonText},_setLocalize:function(e){(e=t.preferredCulture(e))&&(this.model.locale="en"==e.name?"en-US":e.name,t.isNullOrUndefined(this._options)||!t.isNullOrUndefined(this._options.timeFormat)&&this._options.timeFormat||(this.model.timeFormat=t.preferredCulture(this.model.locale).calendars.standard.patterns.t),this._prevTimeFormat=!(!t.isNullOrUndefined(this._options.timeFormat)&&""!=this._options.timeFormat))},_updateInput:function(){if(!t.isNullOrUndefined(this._options)){var e=this._localizeTime(this._options.value);t.isNullOrUndefined(e)||"string"==typeof e&&this.model.enableStrictMode&&!this.model.value&&(this.element.val(this._options.value),this.isValidState=""==this.element.val(),this._checkErrorClass())}},_createMinMaxObj:function(){this._minTimeObj=this._createObject(this.model.minTime),this._minTimeObj||(this.model.minTime=t.format(this._createObject((new Date).setHours(0,0,0,0)),this.model.timeFormat,this.model.locale)),this._maxTimeObj=this._createObject(this.model.maxTime),this._maxTimeObj||(this.model.maxTime=t.format(this._createObject((new Date).setHours(23,59,59,59)),this.model.timeFormat,this.model.locale))},_setMinMax:function(){var e=(new Date).setHours(0,0,0,0),i=(new Date).setHours(23,59,59,59);!t.isNullOrUndefined(this._options)&&t.isNullOrUndefined(this._options.minTime)&&(this.model.minTime=t.format(this._createObject(e),this.model.timeFormat,this.model.locale)),!t.isNullOrUndefined(this._options)&&t.isNullOrUndefined(this._options.maxTime)&&(this.model.maxTime=t.format(this._createObject(i),this.model.timeFormat,this.model.locale)),this._createMinMaxObj()},_init:function(e){if(this._options=e,this._cloneElement=this.element.clone(),this._ISORegex(),this._isSupport=document.createElement("input").placeholder!=i,!this.element.is("input")||this.element.attr("type")&&"text"!=this.element.attr("type"))return!1;this._initialize(),this._render(),this._wireEvents(),e&&e.value!=i&&e.value!=this.element.val()&&this._trigger("_change",{value:this.element.val()}),this._updateInput(),this._updateTextbox(),null!=this.model.validationRules&&(this._initTimeValidator(),this._setTimeValidation())},_updateTextbox:function(){var e,t;if(this._options.disableTimeRanges){for(e=!0,t=0;t<this._options.disableTimeRanges.length;t++)if((this.model.minTime>=this._options.disableTimeRanges[t].startTime||this.model.minTime<=this._options.disableTimeRanges[t].endTime)&&this._options.disableTimeRanges[t].startTime==this.model.minTime){e=!1;break}(this._options===i||this._options.value===i&&!this.model.value&&e)&&this._setTime(this._localizeTime(this.model.minTime))}else this._options!==i&&(this._options.value!==i||this.model.value)||this._setTime(this._localizeTime(this.model.minTime))},_setMinMaxTime:function(i,s){!t.isNullOrUndefined(s.minTime)&&e.trim(s.minTime)&&this._isValid(s.minTime)&&(this.model.minTime=s.minTime,this._minTimeObj=this._createObject(this.model.minTime),this._validateTimes()),!t.isNullOrUndefined(s.maxTime)&&e.trim(s.maxTime)&&this._isValid(s.maxTime)&&(this.model.maxTime=s.maxTime,this._maxTimeObj=this._createObject(this.model.maxTime),this._validateTimes()),this._validateMinMax(),this._createMinMaxObj(),t.isNullOrUndefined(s.minTime)||(s.minTime=this.model.minTime),t.isNullOrUndefined(s.maxTime)||(s.maxTime=this.model.maxTime),this._checkMinMax(this.model.value)||(this.model.enableStrictMode?(this.isValidState=!1,this.model.value=null):(this.model.minTime&&!this._compareTime(this.model.value,this.model.minTime,!0)&&(this.model.value=this.model.minTime),this.model.maxTime&&!this._compareTime(this.model.maxTime,this.model.value,!0)&&(this.model.value=this.model.maxTime))),i!==this.model.value&&this._isValid(this.model.value,!0)&&this.element.val(this.model.value)},_setModel:function(e){var i,s,a,o,r=!1,l=this.model.value;for(i in e)switch("height"!=i&&"width"!=i&&"htmlAttributes"!=i&&"watermarkText"!=i&&"enabled"!=i&&"validationRules"!=i&&"validationMessages"!=i&&t.isNullOrUndefined(this.popupList)&&this._renderDropdown(),i){case"timeFormat":a=this._createObject(this.model.value),this._preTimeformat=this.model.timeFormat,s=this._timeFormat(e[i]),e[i]=this.model.timeFormat,s&&(this.seperator=this._getSeperator()),r=+a!=+this._createObject(this.model.value);break;case"locale":a=this._createObject(this.model.value),this._localize(e[i]),this.model.minTime=t.format(this._createObject(this._minTimeObj),this.model.timeFormat,this.model.locale),this.model.maxTime=t.format(this._createObject(this._maxTimeObj),this.model.timeFormat,this.model.locale),r=+a!=+this._createObject(this.model.value);break;case"interval":this.model.interval=e[i];break;case"cssClass":this._changeSkin(e[i]);break;case"showRoundedCorner":this._setRoundedCorner(e[i]);break;case"enableRTL":this._setRtl(e[i]);break;case"height":this._setHeight(e[i]);break;case"width":this.wrapper.width(e[i]),this._setListWidth();break;case"value":t.isPlainObject(e[i])&&(e[i]=null),this.model.value=t.format(this._createObject(e[i],!0),this.model.timeFormat,this.model.locale),this._ensureValue(),this._enableMask(),this.model.enableStrictMode&&!this._isValid(e[i],!0)&&(o=this._isValid(e[i])?this._localizeTime(e[i]):e[i],this.element.val(o)),e[i]=this.model.value,r=!0;break;case"enableStrictMode":this.model.enableStrictMode=e[i];break;case"validationRules":null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessages=null),this.model.validationRules=e[i],null!=this.model.validationRules&&(this._initTimeValidator(),this._setTimeValidation());break;case"validationMessages":this.model.validationMessages=e[i],null!=this.model.validationRules&&null!=this.model.validationMessages&&(this._initTimeValidator(),this._setTimeValidation());break;case"popupHeight":this.model.popupHeight=e[i],this._setListHeight();break;case"popupWidth":this.model.popupWidth=e[i],this._setListWidth();break;case"enabled":e[i]?this.enable():this.disable();break;case"htmlAttributes":this._addAttr(e[i]);break;case"disableTimeRanges":this.model.disableTimeRanges=e[i],this._initStartEnd(),this.model.value=t.format(this._createObject(this.element.val(),!0),this.model.timeFormat,this.model.locale),this._ensureValue(),this._enableMask(),this.model.enableStrictMode&&!this._isValid(this.element.val(),!0)&&this.element.val(this.element.val()),r=!0;break;case"watermarkText":t.isNullOrUndefined(this._options)&&(this._options={}),this._options[i]=this.model.watermarkText=e[i],this._localizedLabels.watermarkText=this.model.watermarkText,this._setWaterMark()}t.isNullOrUndefined(e.minTime)&&t.isNullOrUndefined(e.maxTime)||(this._setMinMaxTime(l,e),r=!0),t.isNullOrUndefined(e.showPopupButton)?!this.model.showPopupButton||!s&&t.isNullOrUndefined(e.minTime)&&t.isNullOrUndefined(e.maxTime)&&t.isNullOrUndefined(e.locale)&&t.isNullOrUndefined(e.interval)&&t.isNullOrUndefined(e.disableTimeRanges)||this._reRenderDropdown():this._showButton(e[i]),r&&(this._raiseChangeEvent(l,!0),e.value=this.model.value),this._checkErrorClass()},_destroy:function(){this.element.insertAfter(this.wrapper),this.wrapper.remove(),this.element.removeClass("e-input").removeAttr("ondragstart draggable aria-atomic aria-live aria-readonly").val(this.element.attr("value")),this._cloneElement.attr("name")||this.element.removeAttr("name"),this.popupList&&this.popupList.remove()},_initialize:function(){this.target=this.element[0],this.timeIcon=null,this._disabledItems=[],this.popupList=null,this.focused=!1,this.start=0,this.end=0,this.min=null,this.max=null,this.incomplete=!1,this.downPosition=0,this._setLocalize(this.model.locale),this._setMinMax(),this._getAmPm(),this.showDropdown=!1,this._activeItem=0,this.isValidState=!0,this._manualFocus=!1,this._isIE7=this._checkIE7(),this._initStartEnd(),this._localizedLabels=this._getLocalizedLabels(),t.isNullOrUndefined(this._options)||t.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText),t.isNullOrUndefined(this.model.value)&&""!=this.element[0].value&&(this.model.value=this.element[0].value),this._isIE8="msie"==t.browserInfo().name&&"8.0"==t.browserInfo().version,this._getInternalEvents=!1,this._dateTimeInternal=!1,this.model.timeFormat?this.seperator=this._getSeperator():this._getTimeFormat()},_render:function(){this._renderWrapper(),this._setDimentions(),this._renderTimeIcon(),this._validateTimes(),this._createMinMaxObj(),this._addAttr(this.model.htmlAttributes),this._checkProperties(),this._enableMask(),this._checkErrorClass(),this.element.attr({"aria-atomic":"true","aria-live":"assertive","aria-readonly":this.model.readOnly,value:this.model.value}),t.isNullOrUndefined(this.model.value)?this.wrapper.addClass("e-valid"):this.wrapper.removeClass("e-valid")},_renderWrapper:function(){if(this.element.addClass("e-input").attr({tabindex:"0",role:"combobox","aria-expanded":"false"}),this.wrapper=t.buildTag("span.e-timewidget e-widget "+this.model.cssClass+"#"+this.target.id+"_timewidget").insertAfter(this.element),this.wrapper.attr("style",this.element.attr("style")),this.element.removeAttr("style"),t.isTouchDevice()||this.wrapper.addClass("e-ntouch"),this.container=t.buildTag("span.e-in-wrap e-box").append(this.element),this.wrapper.append(this.container),!this._isSupport){this._hiddenInput=t.buildTag("input.e-input e-placeholder ","",{},{type:"text"}).insertAfter(this.element),this._hiddenInput.val(this._localizedLabels.watermarkText),this._hiddenInput.css("display","block");var i=this;e(this._hiddenInput).focus((function(){i.element.focus()}))}},_addAttr:function(i){var s=this;e.map(i,(function(e,i){var a=i.toLowerCase();"class"==a?s.wrapper.addClass(e):"disabled"==a&&"disabled"==e?s.disable():"readOnly"==a&&"readOnly"==e?s.model.readOnly=!0:"style"==a?s.wrapper.attr(i,e):"id"==a?(s.wrapper.attr(i,e+"_wrapper"),s.element.attr(i,e)):t.isValidAttr(s.element[0],i)?s.element.attr(i,e):s.wrapper.attr(i,e)}))},_initTimeValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setTimeValidation:function(){var i,s,a,o,r;for(a in this.element.rules("add",this.model.validationRules),i=(i=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),s=this.element.attr("name"),i.settings.messages[s]={},this.model.validationRules)if(o=null,!t.isNullOrUndefined(this.model.validationRules[a])){if(t.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[a]))for(r in i.settings.messages[s][a]=e.validator.messages[a],this.model.validationMessages)a==r&&(o=this.model.validationMessages[a]);else o=this.model.validationRules.messages[a];i.settings.messages[s][a]=null!=o?o:e.validator.messages[a]}},_renderTimeIcon:function(){if(this.model.showPopupButton){this.timeIcon=t.buildTag("span.e-select").attr({role:"button","aria-label":"select"});var e=t.buildTag("span.e-icon e-clock").attr("role","presentation");this._isIE8&&(this.timeIcon.attr("unselectable","on"),e.attr("unselectable","on")),this.timeIcon.append(e),this.container.append(this.timeIcon).addClass("e-padding"),this._on(this.timeIcon,"mousedown",this._timeIconClick)}},_elementClick:function(){this.showDropdown||this._showResult()},_renderDropdown:function(){var i,s=e("#"+this.element[0].id+"_popup").get(0);if(s&&e(s).remove(),this.popupList)return!1;this.popupList=t.buildTag("div.e-time-popup e-popup e-widget e-box "+this.model.cssClass+"#"+this.target.id+"_popup","",{},{tabindex:0,role:"listbox"}),t.isTouchDevice()||this.popupList.addClass("e-ntouch"),this.popup=this.popupList,this.ul=t.buildTag("ul.e-ul"),this._isIE8&&this.ul.attr("unselectable","on"),i=t.buildTag("div").append(this.ul),e("body").append(this.popupList.append(i)),this._renderLiTags(),this._setListHeight(),this._setListWidth(),this.popupList.ejScroller({height:this.popupList.height(),width:0,scrollerSize:20}),this.scrollerObj=this.popupList.ejScroller("instance"),this.popupList.css("display","none"),this._listSize=this.ul.find("li").length},_renderLiTags:function(){var i,s,a,o,r,l,n,d;for(this._disabledItems=[],o=6e4*this.model.interval,r=!t.isNullOrUndefined(this.model.disableTimeRanges)&&this.model.disableTimeRanges.length>0,i=this._minTimeObj,s=this._maxTimeObj,l=0;this._compareTime(s,i,!0);)a=this._localizeTime(i),(n=e(document.createElement("li")))[0].appendChild(document.createTextNode(a)),this._isIE8&&n.attr("unselectable","on"),r&&(this._ensureTimeRange(a)?(n.addClass("e-disable"),this._disabledItems.push(l)):n.removeClass("e-disable")),this.ul[0].appendChild(n[0]),i=new Date(i).getTime()+o,l++;d=this.ul.find("li"),t.isTouchDevice()||(this._on(d,"mouseenter",e.proxy(this._OnMouseEnter,this)),this._on(d,"mouseleave",e.proxy(this._OnMouseLeave,this))),this._on(d,"click",e.proxy(this._OnMouseClick,this)),(this.model.showPopupButton||!t.isNullOrUndefined(this.popupList))&&this.ul.find("li").attr({tabindex:-1,"aria-selected":!1,role:"option"})},_ensureTimeRange:function(e){var i,s;if(!t.isNullOrUndefined(this.model.disableTimeRanges))for(i=this._makeDateTimeObj(e),s=0;s<this.model.disableTimeRanges.length;s++)if(+i>=+this._makeDateTimeObj(this.model.disableTimeRanges[s].startTime)&&+i<=+this._makeDateTimeObj(this.model.disableTimeRanges[s].endTime))return!0;return!1},_initStartEnd:function(){if(this._startTime=[],this._endTime=[],!t.isNullOrUndefined(this.model.disableTimeRanges))for(var e=0;e<this.model.disableTimeRanges.length;e++)this._startTime[e]=this._makeDateTimeObj(this.model.disableTimeRanges[e].startTime),this._endTime[e]=this._makeDateTimeObj(this.model.disableTimeRanges[e].endTime)},_makeDateTimeObj:function(e){var i;if("string"==typeof e){var s=t.preferredCulture(this.model.locale).calendar.patterns.d,a=t.format(new Date("1/1/2000"),s,this.model.locale),o=t.parseDate(a+" "+e,s+" "+this.model.timeFormat,this.model.locale);if(!o){if(i=new Date(e),!isNaN(Date.parse(i))&&!t.isNullOrUndefined(e))return this._setEmptyDate(e);o=new Date("1/1/2000 "+e)}return o}return e instanceof Date?this._setEmptyDate(e):null},_reRenderDropdown:function(){this.ul.empty(),this._renderLiTags(),this._refreshScroller(),this._changeActiveEle()},_refreshScroller:function(){var t="none"==this.popupList.css("display");this.popupList.css("height","auto"),this.popupList.find(".e-content, .e-vscroll").removeAttr("style"),this.popupList.find(".e-vscroll div").removeAttr("style"),t&&this.popupList.css("display","block"),this.scrollerObj.model.height=this.popupList.height(),this.scrollerObj.model.scrollTop=0,this.scrollerObj.refresh(),this._isIE8&&(e("#"+this.scrollerObj._id).children(".e-vscroll").children().attr("unselectable","on"),e("#"+this.scrollerObj._id).find(".e-vhandle").attr("unselectable","on")),t&&this.popupList.css("display","none")},_removeWatermark:function(){""==this.element.val()||this._isSupport||this._hiddenInput.css("display","none")},_setListWidth:function(){if(this.popupList){var e,t=this.model.popupWidth;(e="string"==typeof t&&-1!=t.indexOf("%")||"string"==typeof t?parseInt(t)>0?t:this.model.popupWidth="auto":t>0?t:this.model.popupWidth="auto")&&"auto"!=e?this.popupList.css({width:e}):this.popupList.css({width:this.wrapper.width()})}this.scrollerObj&&(this._refreshScroller(),this._updateScrollTop())},_setListHeight:function(){this.popupList&&this.popupList.css({"max-height":this.model.popupHeight||"191px"}),this.scrollerObj&&(this._refreshScroller(),this._updateScrollTop())},_updateScrollTop:function(){this.scrollerObj.setModel({scrollTop:this._calcScrollTop()})},_refreshPopup:function(){"auto"==this.model.popupWidth&&this.popupList.css({width:this.wrapper.width()}),this._setListPosition(),this._refreshScroller()},_setListPosition:function(){var t,i=this.wrapper,s=this._getOffset(i),a=e(document).scrollTop()+e(window).height()-(s.top+e(i).outerHeight()),o=s.top-e(document).scrollTop(),r=this.popupList.outerHeight(),l=this.popupList.outerWidth(),n=s.left,d=i.outerHeight(),h=(d-i.height())/2,c=this._getZindexPartial(),u=3,p=(r<a||r>o?s.top+d+u:s.top-r-u)-h;t=e(document).scrollLeft()+e(window).width()-n,(this.model.enableRTL||l>t&&l<n+i.outerWidth())&&(n-=this.popupList.outerWidth()-i.outerWidth()),this.popupList.css({left:n+"px",top:p+"px","z-index":c})},_getOffset:function(e){return t.util.getOffset(e)},_getZindexPartial:function(){return t.util.getZindexPartial(this.element,this.popupList)},_enableMask:function(){this.isValidState=!(this.model.minTime&&this._compareTime(this.model.minTime,this.model.value)||this.model.maxTime&&this._compareTime(this.model.value,this.model.maxTime)),this._setTime(this.model.value),t.isNullOrUndefined(this.model.value)?this.wrapper.removeClass("e-valid"):this.wrapper.addClass("e-valid"),this._getInternalEvents&&!this.isValidState&&this._trigger("outOfRange"),this._changeActiveEle(),this._preVal=this.element.val()},_setTime:function(e){var t=this._localizeTime(e);this.element.val(t),this.model.value=this.model.enableStrictMode?this._compareTime(this.model.value,this.model.minTime,!0)&&this._compareTime(this.model.maxTime,this.model.value,!0)?t:null:t,this._setWaterMark()},_timeFromISO:function(e){var t,i,s,a,o,r,l,n,d,h=this._extISORegex.exec(e)||this._basicISORegex.exec(e),c="",u="",p="";if(h){for(t=0;t<this._dates.length;t++)if(this._dates[t][1].exec(h[1])){c=this._dates[t][0];break}if(h[3])for(i=0;i<this._times.length;i++)if(this._times[i][1].exec(h[3])){u=(h[2]||" ")+this._times[i][0];break}for(h[4]&&this._zeroRegex.exec(h[4])&&(p="Z"),s=(c+u+p).match(this._tokens),o=[],l=0;l<s.length;l++)n=s[l],r=this._checkLiteral(s[l]),d=this._numberRegex[r?s[l].toLowerCase():n.length]||new RegExp("^\\d{1,"+n.length+"}"),(a=e.match(d))&&(e.substr(0,e.indexOf(a))>=0&&!r&&(s[l].indexOf("M")>=0?o.push(parseInt(a[0])-1):o.push(parseInt(a[0]))),e=e.slice(e.indexOf(a[0])+a[0].length));return"Z"==h[4]?new Date(Date.UTC.apply(null,o)):new Date(o[0],o[1],o[2],o[3],o[4],o[5])}return new Date(e+"")},_checkLiteral:function(e){var t=e.toLowerCase();return"t"==t||"z"==t||":"==t||"-"==t},_setMask:function(){this.model.value=new Date,this._enableMask()},_validateTimes:function(){var e=this._validateTimeFormat(this.model.timeFormat);this.model.timeFormat=e||"h:mm tt",this._isValid(this.model.minTime)||(this.model.minTime="12:00 AM"),this._isValid(this.model.maxTime)||(this.model.maxTime="11:59 PM"),this._isValid(this.model.value,!0)||(this.model.value=null),this._checkMinMax(this.model.value)||this.model.enableStrictMode||(this.model.minTime&&!this._compareTime(this.model.value,this.model.minTime,!0)&&(this.model.value=this.model.minTime),this.model.maxTime&&!this._compareTime(this.model.maxTime,this.model.value,!0)&&(this.model.value=this.model.maxTime)),this._validateMinMax()},_ensureValue:function(){!this._checkMinMax(this.model.value)&&this._isValid(this.model.value,!0)&&(this.model.enableStrictMode?this.isValidState=!1:(this.model.minTime&&!this._compareTime(this.model.value,this.model.minTime,!0)&&(this.model.value=this.model.minTime),this.model.maxTime&&!this._compareTime(this.model.maxTime,this.model.value,!0)&&(this.model.value=this.model.maxTime)))},_validateMinMax:function(){this.model.minTime&&this.model.maxTime&&this._compareTime(this.model.minTime,this.model.maxTime)&&(this.model.minTime=this.model.maxTime)},_checkProperties:function(){this.model.enabled?this.model.enabled&&this.element.hasClass("e-disable")&&(this.model.enabled=!1,this.enable()):(this.model.enabled=!0,this.disable()),this._addProperty(),this._checkAttributes()},_addProperty:function(){this._setRtl(this.model.enableRTL),this._setRoundedCorner(this.model.showRoundedCorner)},_setRtl:function(e){e?(this.wrapper.addClass("e-rtl"),this.popupList&&this.popupList.addClass("e-rtl")):(this.wrapper.removeClass("e-rtl"),this.popupList&&this.popupList.removeClass("e-rtl"))},_setRoundedCorner:function(e){e?(this.container.addClass("e-corner"),this.popupList&&this.popupList.addClass("e-corner")):(this.container.removeClass("e-corner"),this.popupList&&this.popupList.removeClass("e-corner"))},_showButton:function(t){this.model.showPopupButton=t,t?(this.container.addClass("e-padding"),this._renderTimeIcon(),this._renderDropdown(),this._addProperty()):(this.container.removeClass("e-padding"),this.timeIcon.remove(),this.popupList.remove(),this.timeIcon=this.popupList=null,e(document).off("mousedown",e.proxy(this._OnDocumentClick,this)))},_checkAttributes:function(){this.element.attr("name")||this.element.attr({name:this.element[0].id}),"ondragstart"in document.createElement("input")&&this.element.attr({ondragstart:"return false"}),"draggable"in document.createElement("input")&&this.element.attr({draggable:"false"})},_getAmPm:function(){var t=new Date;t.setHours(0),this.ttAM=e.trim(this._localizeMeridian(t)),t.setHours(23),this.ttPM=e.trim(this._localizeMeridian(t))},_setDimentions:function(){this.model.height||(this.model.height=this.element.attr("height")),this.model.width||(this.model.width=this.element.attr("width")),this._setHeight(this.model.height),this.model.width&&this.wrapper.width(this.model.width)},_setHeight:function(e){e&&this.wrapper.height(e),this._isIE7&&this.element.height(this.container.height())},_validateTimeFormat:function(t){var i=t.split(" "),s="";return 1==i.length||2==i.length?(e(i).each((function(t,i){s+=e.trim(i)+" "})),e.trim(s)):null},_getSeperator:function(){for(var e=this._getElePlace(),t=this._formatparts[e.time],i=new RegExp("^[a-zA-Z0-9]+$"),s=0;s<t.length;s++)if(!i.test(t.charAt(s)))return t.charAt(s)},_checkInComplete:function(){var e=this._getCaretSelection(),t=this._getStartEnd(e),i="00",s=this._getSelectedValue(t),a=this._getCategory(t);e.end-e.start==this.element.val().length&&this._checkAll(),a&&"tt"!=a&&(this._findCategoryPosition(a),"__"==s?(("h"==a||"hh"==a)&&(i="12"),this._changeToDefault(i)):1!=a.length&&1==s.length&&(s=this._changeWhole(s),this.element.val(this._replaceAt(this.target.value,this.start,this.end,s))))},_checkAll:function(){for(var e,t=this._getElePlace(),i=this._formatparts[t.time].split(this.seperator),s=0;s<i.length;s++)this._findCategoryPosition(i[s]),e=this._getSelectedValue({start:this.start,end:this.end}),1!=i[s].length&&1==e.length&&(e=this._changeWhole(e),this.element.val(this._replaceAt(this.element.val(),this.start,this.end,e)))},_changeToDefault:function(e){var t,i;this.incomplete=!0,t=this.element[0].value,this.element[0].value=this._replaceAt(this.target.value,this.start,this.end,e),!(i=this._checkExceedRange(this.target.value))||this._setTime(this.model[i]),this._setSelection(this.start,this.end),this._raiseChangeEvent(t)},_setSelection:function(e,t){var i=this.element[0];i.setSelectionRange?i.setSelectionRange(e,t):i.createTextRange&&((i=i.createTextRange()).collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())},_getSelectedValue:function(e){return this.target.value.substring(e.start,e.end)},_getMinMax:function(e,t){"hh"==e||"h"==e?(this.min=1,this.max=11,t&&(this.max=12)):"HH"==e||"H"==e?(this.min=0,this.max=23):("mm"==e||"m"==e||"ss"==e||"s"==e)&&(this.min=0,this.max=59)},_focusElement:function(){this._manualFocus=!0,this.element.focus()},_targetFocus:function(t){this._clearRange(),t.preventDefault(),this.focused=!0,this.element.on("mousewheel DOMMouseScroll",e.proxy(this._mouseWheel,this)),this.wrapper.addClass("e-focus").removeClass("e-error").attr("aria-invalid","false"),this._getExactPostions(),this._manualFocus||(this._findCategoryPosition(this._getLeast(!1)),this._setSelection(this.start,this.end)),this._manualFocus=!1,this._prevTimeVal=this.element.val(),this._raiseEvent("focusIn"),this.wrapper.addClass("e-valid"),this.model.showPopupButton||this._showResult(),this.model.showPopupButton||this._on(this.element,"click",this._elementClick)},_targetBlur:function(){this.focused=!1,this.element.off("mousewheel DOMMouseScroll",e.proxy(this._mouseWheel,this)),this.model.showPopupButton||this._off(this.element,"click",this._elementClick),this.wrapper.removeClass("e-focus"),this.model.enableStrictMode||this.target.value.indexOf("_")>-1&&this.element.val(""),!this._checkMinMax(this.target.value)&&this._isValid(this.target.value,!0)?this.model.enableStrictMode?this.isValidState=!1:(this.model.minTime&&!this._compareTime(this._createObject(this.target.value),this.model.minTime,!0)&&this.element.val(this.model.minTime),this.model.maxTime&&!this._compareTime(this.model.maxTime,this._createObject(this.target.value),!0)&&this.element.val(this.model.maxTime),this._isValid(this.model.value,!0)||this.element.val(null),this.isValidState=!0,t.isNullOrUndefined(this.model.value)?this.wrapper.removeClass("e-valid"):this.wrapper.addClass("e-valid")):this.isValidState=!0,this._ensureValue(),this._raiseChangeEvent(),this._checkErrorClass(),this._raiseEvent("focusOut"),this.model.enableStrictMode||this._checkInComplete(),t.isNullOrUndefined(this.model.value)?this.wrapper.removeClass("e-valid"):this.wrapper.addClass("e-valid")},_clearRange:function(){var e=this.element[0];isNaN(e.selectionStart)||(e.selectionStart=0,e.selectionEnd=0)},_checkErrorClass:function(){this.isValidState?this.wrapper.removeClass("e-error").attr("aria-invalid","false"):this.wrapper.addClass("e-error").attr("aria-invalid","true")},_getExactPostions:function(){var e,t=this.model.timeFormat;this.model.timeFormat.split(" "),this._formatparts=[],this._valueparts=[],this._amPMPosition=t.match("([t][t]+)")?t.match("([t][t]+)").index:null,this._amPMPosition==i?(this._formatparts=this.model.timeFormat.split(" "),this._valueparts=this.element.val().split(" "),this._noTT=!0):(this._amPMPosition==this.model.timeFormat.length-2?(this._ttAtEnd=!0,this._isSpace=" "==this.model.timeFormat[this.model.timeFormat.split("").indexOf("t")-1]):(this._ttAtEnd=!1,this._isSpace=" "==this.model.timeFormat[this.model.timeFormat.split("").indexOf("t")+2]),1==this._ttAtEnd?(this._ttStartPostion=this.model.timeFormat.match("([t]?[t]+)").index,this._ttEndPosition=this.model.timeFormat.length,this._formatStartPosition=0,e=0,this.element&&this.element.val()&&(e=this.element.val().length-this.model.timeFormat.length),this._updatedttStartPosition=this._ttStartPostion+e,this._formatEndPostion=this.model.timeFormat.match("([t][t]+)").index,this._formatparts[0]=this.model.timeFormat.substr(this._formatStartPosition,this._formatEndPostion).trim(),this._formatparts[1]=this.model.timeFormat.substr(this._ttStartPostion,this._ttEndPosition).trim(),this._valueparts[0]=this.element.val().substr(this._formatStartPosition,this._formatEndPostion+e).trim(),this._valueparts[1]=this.element.val().substr(this._ttStartPostion+e,this._ttEndPosition).trim()):(this._ttStartPostion=0,this._ttEndPosition=this.model.timeFormat.match("([t]?[t]+)")?this._ttStartPostion+this.model.timeFormat.match("([t]?[t]+)")[0].length:0,this._formatStartPosition=this._isSpace?this._ttEndPosition+1:this._ttEndPosition,this._formatEndPostion=this.model.timeFormat.length,this._formatparts[1]=this.model.timeFormat.substr(this._formatStartPosition,this._formatEndPostion).trim(),this._formatparts[0]=this.model.timeFormat.substr(this._ttStartPostion,this._ttEndPosition).trim(),this._valueparts[1]=this.element.val().substr(this._formatStartPosition,this._formatEndPostion).trim(),this._valueparts[0]=this.element.val().substr(this._ttStartPostion,this._ttEndPosition).trim()))},_getCaretSelection:function(){var e,t,i,s,a=this.element[0],o=0,r=0;return isNaN(a.selectionStart)?(e=document.selection.createRange().getBookmark(),(t=a.createTextRange()).moveToBookmark(e),(i=a.createTextRange()).collapse(!0),i.setEndPoint("EndToStart",t),{start:s=i.text.length,end:s+t.text.length}):(o=a.selectionStart,r=a.selectionEnd,{start:Math.abs(o),end:Math.abs(r)})},_mouseDownOnInput:function(){this.focused||t.isTouchDevice()||this._focusElement(),this._getExactPostions(),this.downPosition=this._getCaretSelection(),e(document).on("mouseup",e.proxy(this._mouseUpOnInput,this))},_mouseUpOnInput:function(t){t.preventDefault(),e(document).off("mouseup",e.proxy(this._mouseUpOnInput,this));var i=this._getCaretSelection();this.incomplete&&(this.incomplete=!1,i=this.downPosition),this.target.value!=this._getSelectedText()&&(i=this._getStartEnd(i),this._setSelection(i.start,i.end))},_getCategoryPosition:function(e){var t,i,s=0,a=0,o=this._getTimeParts(),r=this._getElePlace(),l=this.seperator,n=!1,d=this._getFormatParts()[r.time].split(l),h=o[r.time].split(l);if(d.length>h.length)return{start:s,end:a,isValid:n};if("tt"==e)(o[r.tt]==this.ttAM||o[r.tt]==this.ttPM)&&(a=(s=0==r.tt?0:o[r.time].length+1)+o[r.tt].length,!this._isSpace&&this._ttAtEnd&&(s-=1,a-=1),n=!0);else if(s=0==r.time?0:o[r.tt].length+1,-1!=(t=d.indexOf(e))){for(i=0;i<d.length&&(a=h[i].length+1,i!=t);i++)s+=a;a+=s-1,this._noTT||this._isSpace||this._ttAtEnd||(s-=1,a-=1),n=!0}return{start:s,end:a,isValid:n}},_getCategory:function(e){var t=this._getFormatParts(),i=this.seperator,s=this._getElePlace();return e.isTT?t[s.tt]:t[s.time].split(i)[e.index]},_getTimeParts:function(){return"h:mm tt"==this.model.timeFormat||"h:m tt"==this.model.timeFormat||"hh:m tt"==this.model.timeFormat||"hh:mm:s tt"==this.model.timeFormat?this.element.val().split(" "):this._valueparts},_getFormatParts:function(){return"h:mm tt"==this.model.timeFormat||"h:m tt"==this.model.timeFormat||"hh:m tt"==this.model.timeFormat||"hh:mm:s tt"==this.model.timeFormat?this.model.timeFormat.split(" "):this._formatparts},_getStartEnd:function(e){this._getExactPostions();for(var t,i,s=this.seperator,a=(this.element.val(),this._valueparts),o=0,r=0,l=t=null,n=0;n<a.length;n++)if(a[n]!=this.ttAM&&a[n]!=this.ttPM){var d=a[n].split(s),h=o,c=o+d[0].length;for(i=0;i<d.length;i++)if(r=d[i].length+o,!this._isSpace&&this._ttAtEnd&&e.start>=this._updatedttStartPosition&&e.end<=this._ttEndPosition&&this._formatparts[0].split(this._getSeperator())[1].length==this._valueparts[0].split(this._getSeperator())[1].length)o+=d[i].length+1;else{if(e.start<=r){l=i,t=!1,n=a.length;break}o+=d[i].length+1}}else{if(this._isSpace||this._ttAtEnd?e.start<=o+a[n].length:e.start<o+a[n].length){r=a[n].length+o,l=0,t=!0,n=a.length,!this._isSpace&&this._ttAtEnd&&(o-=1,r-=1);break}o+=a[n].length+1,this._isSpace||this._ttAtEnd||(o-=1)}return null==l&&(o=h,r=c,l=0,t=!1),{start:o,end:r,index:l,isTT:t}},_modifyValue:function(e){var t,i,s,a;this._isValid(this.target.value)&&(this.model.enableStrictMode||this._checkInComplete(),(t=this._getCaretSelection()).start==t.end?(s=this._getLeast(!0),a=this._getCategoryPosition(s),i=this._getStartEnd(a)):i=this._getStartEnd(t),this.start=i.start,this.end=i.end,this._changeValue(i,e))},_keyUpOnInput:function(e){var t,i;e.preventDefault(),this._preVal!=this.element.val()&&(this._preVal=this.element.val());var s=this._getCaretSelection(),a=this._getStartEnd(s),o=this._getCategory(a);t=this._getSelectedValue(a),(i=this.element.val()).split(":"),i[0]<3&&(this._poschange=1==isNaN(i[0]+i[1])&&i[0]<10),"h"==o&&2==s.start&&2==s.end&&t>9&&t<13||"H"==o&&t>9&&t<24||"H"==o&&t<9&&2==s.start&&2==s.end||"mm"==o&&1==this._poschange&&4==s.start&&4==s.end||"ss"==o&&8==s.start&&8==s.end||"ss"==o&&1==this._poschange&&7==s.start&&7==s.end||"mm"==o&&5==s.start&&5==s.end?"mm"==o&&("HH:mm"==this.model.timeFormat||"hh:mm"==this.model.timeFormat||"H:mm"==this.model.timeFormat||"h:mm"==this.model.timeFormat)||"ss"==o&&("HH:mm:ss"==this.model.timeFormat||"hh:mm:ss"==this.model.timeFormat||"H:mm:ss"==this.model.timeFormat||"h:mm:ss"==this.model.timeFormat)||this._movePosition(s,null):("hh"==o||"HH"==o)&&s.start&&2==s.end&&t<24&&this._movePosition(s,null)},_getNextCategory:function(t,i){var s,a,o=[],r=this.seperator,l=this._getFormatParts();return e(l).each((function(e,t){if("tt"==t)o.push(t);else{var i=t.split(r);o=i.concat(o)}})),-1!=(s=o.indexOf(t))?(a=i?0==s?o.length-1:s-1:s==o.length-1?0:s+1,o[a]):t},_getElePlace:function(){var e,t;return this._getExactPostions(),"tt"==this._getFormatParts()[0]?(e=1,t=0):(e=0,t=1),{time:e,tt:t}},_movePosition:function(e,t){var i,s=this._getStartEnd(e),a=this._getCategory(s);a||(a=this._getLeast(t)),i=this._getNextCategory(a,t),(s=this._getCategoryPosition(i)).isValid&&this._setSelection(s.start,s.end)},_findActiveIndex:function(){var e,t=this.ul.find("li"),i=this.element.val(),s=t.first().html();e=(this._parse(i)-this._parse(s))/(6e4*this.model.interval),e=Math.round(e),this._activeItem=e==t.length?e:e+1,(this._activeItem<0||this._activeItem>t.length||isNaN(this._activeItem))&&(this._activeItem=0)},_keyDownOnInput:function(e){var t,i,s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w;if(this.model.readOnly&&!this._readOnlyKeys(e)||(s=e.keyCode,this._getInternalEvents&&38!=s&&40!=s&&36!=s&&35!=s&&9!=s))return!1;if(!this.model.enableStrictMode){if(this.showDropdown&&38!=s&&40!=s&&27!=s&&!this._readOnlyKeys(e))return!1;this.showDropdown&&(37==s||39==s)&&(e.keyCode=37==s?38:40)}switch(t=this._getCaretSelection(),w=this._getStartEnd(t),i=this._getCategory(w),e.keyCode){case 38:e.preventDefault(),this.showDropdown?this.showDropdown&&(e.preventDefault(),this._findActiveIndex(),o=this._activeItem,this._activeItem=this._disableItemSelectUp(this._activeItem-1),0==this._activeItem&&(this._activeItem=o),this._addListHover(),(a=this._getActiveItem()).length&&this._selectTimeItem(a)):this._isValid(this.target.value)&&this._modifyValue(!0);break;case 40:e.preventDefault(),e.altKey&&this.model.showPopupButton?this._showhidePopup():this.showDropdown?this.showDropdown&&(e.preventDefault(),this._findActiveIndex(),o=this._activeItem,this._activeItem=this._disableItemSelectDown(this._activeItem),this._activeItem<this._listSize?this._activeItem+=1:this._activeItem=o,this._addListHover(),this._selectTimeItem(this._getActiveItem())):this._isValid(this.target.value)&&this._modifyValue(!1);break;case 37:e.preventDefault(),t.start==t.end?this._setSelection(t.start-1,t.start-1):this._movePosition(t,!0);break;case 39:e.preventDefault(),t.start==t.end?this._setSelection(t.start+1,t.start+1):this._movePosition(t,!1);break;case 36:e.preventDefault(),this.showDropdown?(this._activeItem=0,o=this._activeItem,this._activeItem=this._disableItemSelectDown(this._activeItem),this._activeItem<this._listSize?this._activeItem+=1:this._activeItem=o,this._addListHover(),this._selectTimeItem(this._getActiveItem())):(r=this._firstlastVal(!0),(l=this._getCategoryPosition(r)).isValid&&this._setSelection(l.start,l.end));break;case 35:e.preventDefault(),this.showDropdown?(this._activeItem=this._listSize+1,o=this._activeItem,this._activeItem=this._disableItemSelectUp(this._activeItem-1),0==this._activeItem&&(this._activeItem=o),this._addListHover(),this._selectTimeItem(this._getActiveItem())):(n=this._firstlastVal(!1),(d=this._getCategoryPosition(n)).isValid&&this._setSelection(d.start,d.end));break;case 9:if(this._getInternalEvents)break;this._hideResult(),h=null,e.shiftKey&&t.start>0?h=!0:!e.shiftKey&&t.end<this.element.val().length&&(h=!1),null!=h&&(e.preventDefault(),this._checkInComplete(),this._movePosition(t,h));break;case 13:if(!this.showDropdown){this._raiseChangeEvent();break}case 27:e.preventDefault(),this._hideResult();break;case 8:case 46:if(this.model.enableStrictMode)return;this.target.value!=this._getSelectedText()&&(e.preventDefault(),i&&"tt"!=i&&(this._findCategoryPosition(i),c=8==s&&t.start!=this.start,u=46==s&&t.end!=this.end,p=this.end-this.start,t.start==t.end&&1!=p||!c&&!u&&t.start==t.end?c?(this.element[0].value=this._replaceAt(this.target.value,t.start-1,t.start,""),this._setSelection(t.start-1,t.start-1)):u&&(this.element[0].value=this._replaceAt(this.target.value,t.end,t.end+1,""),this._setSelection(t.end,t.end)):(m=this.start,g=this.end,this.element[0].value=this._replaceAt(this.target.value,m,g,"__"),_=g-m!=2?g+1:g,this._setSelection(m,_))))}f=this._getSelectedValue(w),b=e.keyCode?e.keyCode:e.charCode,e.keyCode>47&&e.keyCode<58?v=String.fromCharCode(b):e.keyCode>95&&e.keyCode<106&&(v=String.fromCharCode(b-48)),"tt"==i&&(!e.shiftKey&&!e.ctrlKey&&!e.altKey&&e.keyCode>64&&e.keyCode<91||e.keyCode>47&&e.keyCode<58||e.keyCode>95&&e.keyCode<106)&&(e.preventDefault(),x=this._getCategoryPosition(i),this.start=x.start,this.end=x.end,this._changeAmPm(f),this._raiseChangeEvent()),this.target.value!=this._getSelectedText()||e.shiftKey||e.ctrlKey||e.altKey||(e.keyCode>64&&e.keyCode<91&&!this.model.enableStrictMode&&e.preventDefault(),(e.keyCode>47&&e.keyCode<58||e.keyCode>95&&e.keyCode<106)&&(w=this._getStartEnd(t),this._setSelection(w.start,w.end))),!e.shiftKey&&!e.ctrlKey&&!e.altKey&&e.keyCode>47&&e.keyCode<58||e.keyCode>95&&e.keyCode<106?"tt"!=i&&(this._getMinMax(i,!0),t.start==t.end?(this._findCategoryPosition(i),t.start==this.start?(y=v+f,0==this.model.enableStrictMode&&(this._validateTimes(),this._targetBlur()),null==this.model.value&&this.element.val(this.model.minTime),w=this._getStartEnd(t),this._setSelection(w.start,w.end)):y=f+v,(y.length>2||!(Number(y)>=this.min&&this.max>=Number(y)))&&(this.model.enableStrictMode||e.preventDefault())):Number(v)>=this.min&&this.max>=Number(v)||this.model.enableStrictMode||e.preventDefault()):this._allowKeyCodes(e)||(this.model.enableStrictMode||8==e.keyCode||46==e.keyCode?e.stopPropagation():e.preventDefault())},_getSelectedText:function(){if(window.getSelection){var t=e("#"+this.element[0].id).get(0);return t.value.substring(t.selectionStart,t.selectionEnd)}return document.selection.createRange().text},_allowKeyCodes:function(e){return!((!e.ctrlKey||65!=e.keyCode&&67!=e.keyCode&&90!=e.keyCode&&89!=e.keyCode)&&9!=e.keyCode&&116!=e.keyCode&&13!=e.keyCode)},_readOnlyKeys:function(e){return!(35!=e.keyCode&&36!=e.keyCode&&37!=e.keyCode&&39!=e.keyCode&&!this._allowKeyCodes(e))},_firstlastVal:function(e){var t,i=this._getFormatParts(),s=this.seperator;return e?"tt"!=i[0]?i[0].split(s)[0]:"tt":"tt"!=i[0]?"tt":i[1]&&(t=i[1].split(s)).length?t[t.length-1]:"tt"},_mouseWheel:function(e){if(e.preventDefault(),this.model.readOnly)return!1;var t,i=e.originalEvent;i.wheelDelta?t=i.wheelDelta/120:i.detail&&(t=-i.detail/3),t>0?this._modifyValue(!0):t<0&&this._modifyValue(!1)},_addListHover:function(){this._addSelected(),this._updateScrollTop()},_addSelected:function(){this.ul.find("li").removeClass("e-active e-hover");var e=this._getActiveItem();e.length&&!e.hasClass("e-disable")&&e.addClass("e-active")},_disableItemSelectDown:function(t){return(null==t||t<0)&&(t=0),t<this._listSize?e.inArray(t,this._disabledItems)<0?t:this._disableItemSelectDown(t+1):this._listSize},_disableItemSelectUp:function(t){if((null==(t-=1)||t<0)&&(t=0),t<this._listSize){if(e.inArray(t,this._disabledItems)<0)return t+1;if(t>0)return this._disableItemSelectUp(t)}return 0},_getActiveItem:function(){return e(this.ul.find("li")[this._activeItem-1])},_timeIconClick:function(e){var i,s;if(t.isNullOrUndefined(this.popupList)&&(this._renderDropdown(),this._addProperty()),i=!1,e.button?i=2==e.button:e.which&&(i=3==e.which),!i){if(e.preventDefault(),!this.model.enabled||this.model.readOnly||this.ul.find("li").length<1)return!1;this._showhidePopup(),s=this.element.val().length,t.isTouchDevice()||this._setSelection(s,s)}},_showhidePopup:function(){if(this._getInternalEvents)return!1;this.showDropdown?this._hideResult():this._showResult()},_showResult:function(){if(null==this.popupList&&this._renderDropdown(),this._raiseEvent("beforeOpen"))return!1;this.focused||t.isTouchDevice()||this._focusElement(),this.model.value?this._changeActiveEle():this.ul.find("li").removeClass("e-active");var i=this,s=this._visibleAndCalculateTop();this.popupList.slideDown(this.model.enableAnimation?200:0,(function(){e(document).on("mousedown",e.proxy(i._OnDocumentClick,i))})),this.scrollerObj.setModel({scrollTop:s}),this.showDropdown=!0,this._listSize=this.ul.find("li").length,e(window).on("resize",e.proxy(this._OnWindowResize,this)),this._on(t.getScrollableParents(this.wrapper),"scroll",this._hideResult),this._on(t.getScrollableParents(this.wrapper),"touchmove",this._hideResult),this._raiseEvent("open"),this.wrapper.addClass("e-active")},_hideResult:function(i){if(this._raiseEvent("beforeClose"))return!1;i&&("touchmove"==i.type||"scroll"==i.type)&&e(i.target).parents("#"+this.popupList[0].id).length>0||this.showDropdown&&!this._getInternalEvents&&(this.showDropdown=!1,this.popupList.slideUp(this.model.enableAnimation?100:0),e(document).off("mousedown",e.proxy(this._OnDocumentClick,this)),e(window).off("resize",e.proxy(this._OnWindowResize,this)),this._off(t.getScrollableParents(this.wrapper),"scroll",this._hideResult),this._off(t.getScrollableParents(this.wrapper),"touchmove",this._hideResult),this._raiseEvent("close"),this.wrapper.removeClass("e-active"))},_visibleAndCalculateTop:function(){this.popupList.css({display:"block"});var e=this._calcScrollTop();return this._refreshPopup(),this.popupList.css({display:"none"}),e},_calcScrollTop:function(){this.ul.outerHeight();var e=this.ul.find("li").outerHeight();return e*this.ul.find("li.e-active").index()-(this.popupList.outerHeight()-e)/2},_changeActiveEle:function(){if(!this.popupList)return!1;var e,t=this.ul.find("li"),i=this.element.val(),s=t.first().html();e=(this._parse(i)-this._parse(s))/(6e4*this.model.interval),e=Math.round(e),this._activeItem=e==t.length?e:e+1,(this._activeItem<0||this._activeItem>t.length||isNaN(this._activeItem)||this._ensureTimeRange(i))&&(this._activeItem=0),this._addListHover()},_OnDocumentClick:function(t){e(t.target).is(this.popupList)||e(t.target).parents(".e-time-popup").is(this.popupList)||e(t.target).is(this.wrapper)||e(t.target).parents(".e-timewidget").is(this.wrapper)?(e(t.target).is(this.popupList)||e(t.target).parents(".e-time-popup").is(this.popupList))&&t.preventDefault():this._hideResult()},_OnWindowResize:function(){this._refreshPopup()},_OnMouseEnter:function(t){var i=t.target;this.ul.find("li").removeClass("e-hover"),e(i).hasClass("e-disable")||e(i).addClass("e-hover")},_OnMouseLeave:function(){(!this._dateTimeInternal||this.model.value)&&this.ul.find("li").removeClass("e-hover")},_OnMouseClick:function(t){t.preventDefault(),e(t.target).hasClass("e-disable")||(this.model.enabled&&!this.model.readOnly&&(this._activeItem=e(t.target).index()+1,this.ul.find("li").attr({tabindex:-1,"aria-selected":!1}),e(t.target).attr({"aria-selected":!0,tabindex:0}),this._addSelected(),this._selectTimeItem(e(t.target))),this._showhidePopup())},_selectTimeItem:function(e){this._beforeChange(e),this._raiseChangeEvent()&&this._trigger("select",{value:this.model.value,prevTime:this._previousValue})},_findCategoryPosition:function(e){"least"==e&&(e=this._getLeast(!0));var t=this._getCategoryPosition(e);this.start=t.start,this.end=t.end},_getLeast:function(t){var i=this._getFormatParts(),s=this.seperator,a=null;return e(i).each((function(e,i){if("tt"!=i){var o=i.split(s);a=t?o[o.length-1]:o[0]}})),a},_changeValue:function(e,i){this.target.value;var s,a,o,r=this._getCategory(e);if(!r)return!1;if(this._setSelection(this.start,this.end),s=this.target.value.substring(this.start,this.end),this._checkMinMax(this.target.value))if(s!=this.ttAM&&s!=this.ttPM){if(s=this._changeCurrentValue(s,r,i),1!=r.length&&(s=this._changeWhole(s)),this._findCategoryPosition(r),this.element.val(this._replaceAt(this.target.value,this.start,this.end,s)),this.end=this.start+s.toString().length,this._setSelection(this.start,this.end),this._ensureTimeRange(this.target.value)&&this._checkMinMax(this.target.value)){var l=this._createObject(this.target.value),n=l.getHours(),d=i?this._startTime:this._endTime,h=i?this._endTime:this._startTime;if(!t.isNullOrUndefined(this.model.disableTimeRanges))for(a=0;a<this.model.disableTimeRanges.length;a++)(d[a].getHours()===n||+l>=+this._startTime[a]&&+l<=+this._endTime[a])&&(this.target.value=this._localizeTime(h[a]),this._findCategoryPosition(r),this._setSelection(this.start,this.end),this._changeValue(e,i))}}else this._changeAmPm(s);else o=this._checkExceedRange(this.target.value),this._setTime(this.model[o]),this._findCategoryPosition(r),this._setSelection(this.start,this.end);this._checkMinMax(this.target.value)?this._raiseChangeEvent():(this.element.val(this.model.value),this._findCategoryPosition(r),this._setSelection(this.start,this.end))},_checkMinMax:function(e){var t=this._checkExceedRange(e);return null==t&&(t=!1),!t},_checkExceedRange:function(e){if(e){if(this.model.minTime&&!this._compareTime(e,this.model.minTime,!0))return"minTime";if(this.model.maxTime&&!this._compareTime(this.model.maxTime,e,!0))return"maxTime"}return null},_changeWhole:function(e){return e>9?""+e:"0"+e},_changeAmPm:function(e){e=e==this.ttAM?this.ttPM:this.ttAM,this.element.val(this._replaceAt(this.target.value,this.start,this.end,e)),this._setSelection(this.start,this.end)},_changeMinute:function(e){var t,i=this._getExactFormat(["mm","m"]);i&&(this._findCategoryPosition(i),t=Number(this.target.value.substring(this.start,this.end)),this._getMinMax(i),e?t==this.max?(t=this.min,this._changeHour(e)):t+=1:t==this.min?(t=this.max,this._changeHour(e)):t-=1,this._findCategoryPosition(i),1!=i.length&&(t=this._changeWhole(t)),this.element.val(this._replaceAt(this.target.value,this.start,this.end,t)))},_changeHour:function(e){var t,i=this._getExactFormat(["hh","h","HH","H"]);i&&(this._findCategoryPosition(i),t=Number(this.target.value.substring(this.start,this.end)),this._getMinMax(i),e?t==this.max?(t+=1,this._changeMeridian()):t>this.max?t=this.min:t+=1:t==this.min?t=this.max+1:t>this.max?(t=this.max,this._changeMeridian()):t-=1,this._findCategoryPosition(i),1!=i.length&&(t=this._changeWhole(t)),this.element.val(this._replaceAt(this.target.value,this.start,this.end,t)))},_getExactFormat:function(e){for(var t=this.model.timeFormat,i=0;i<e.length;i++)if(-1!=t.indexOf(e[i]))return e[i];return null},_changeMeridian:function(){var e;-1!=this.model.timeFormat.indexOf("tt")&&(this._findCategoryPosition("tt"),e=(e=this.target.value.substring(this.start,this.end))==this.ttAM?this.ttPM:this.ttAM,this.element.val(this._replaceAt(this.target.value,this.start,this.end,e)))},_changeCurrentValue:function(e,t,i){e=Number(e);var s=t,a=1,o=!0;return this._getMinMax(s),"hh"==s||"h"==s||"HH"==s||"H"==s?a=this.model.hourInterval:"mm"==s||"m"==s?a=this.model.minutesInterval:("ss"==s||"s"==s)&&(a=this.model.secondsInterval),a<=0||(i?(("hh"==s||"h"==s)&&e>this.max?e=this.min-1+a:e<this.max?e+=a:(o=!1,"hh"!=s&&"h"!=s?e=this.min-1+a:e+=a,this._changeAdjacent(s,i)),"hh"!=s&&"h"!=s||e!=this.max+1?e>this.max+1&&(e-=this.max+1,o&&this._changeAdjacent(s,i)):o&&this._changeAdjacent(s,i),"hh"!=s&&"h"!=s&&e==this.max+1&&(e=this.min,o&&this._changeAdjacent(s,i))):("hh"!=s&&"h"!=s&&e>this.min||("hh"==s||"h"==s)&&e>this.min&&e<=this.max?e-=a:"hh"!=s&&"h"!=s||e!=this.min?(o=!1,e=this.max+1-a,this._changeAdjacent(s,i)):e=this.max+2-a,e<this.min&&(e+=this.max+1,o&&this._changeAdjacent(s,i)))),e},_changeAdjacent:function(e,t){"ss"==e||"s"==e?this._changeMinute(t):"mm"==e||"m"==e?this._changeHour(t):("hh"==e||"h"==e||"HH"==e||"H"==e)&&this._changeMeridian()},_valueChange:function(){this._raiseChangeEvent()},_beforeChange:function(e){return this._raiseEvent("beforeChange")||this.element.val(e.text()),!0},_raiseChangeEvent:function(e,t){return e=e===i?this.model.value:e,this._previousValue=e,e!=(this.target.value?this.target.value:null)&&(this.isValidState=!!(this._checkMinMax(this.target.value)&&this._isValid(this.target.value,this.model.enableStrictMode)||!this.target.value),this.model.value=this._isValid(this.target.value,!0)&&this._checkMinMax(this.target.value)?this.target.value:null,this.model.value||this.model.enableStrictMode||this._setTime(this.model.value),this.model.value!=this._previousValue&&(this._raiseEvent("change",t),this._raiseEvent("_change",t),!0))},_raiseEvent:function(e,t){var i={value:this.model.value,prevTime:this._previousValue};return"change"==e&&(i.isInteraction=!t),this._trigger(e,i)},_checkIE7:function(){if("Microsoft Internet Explorer"==navigator.appName){var e=-1;if(null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)&&(e=parseFloat(RegExp.$1)),e>=7&&e<8)return!0}return!1},_replaceAt:function(e,t,i,s){return e.substring(0,t)+s+e.substring(i)},_localizeTime:function(i){return i?e.trim(t.format(this._createObject(i),this.model.timeFormat,this.model.locale)):null},_localizeMeridian:function(i){return e.trim(t.format(i,"tt",this.model.locale))},_compareTime:function(e,t,i){return(i=!!i)?this._parse(e)>=this._parse(t):this._parse(e)>this._parse(t)},_isValid:function(e,t){return(e=this._createObject(e,t))&&"function"==typeof e.getTime&&isFinite(e.getTime())},_parse:function(e){return Date.parse(this._createObject(e))},_setEmptyDate:function(e){var t=new Date(e);return t.setDate(1),t.setMonth(0),t.setFullYear(2e3),t},_createObject:function(e,i){var s,a,o=null;if("string"==typeof e){var r=this._setModelOption?this._preTimeformat:this.model.timeFormat,l=t.preferredCulture(this.model.locale).calendar.patterns.d,n=t.format(new Date("1/1/2000"),l,this.model.locale);o=t.parseDate(n+" "+e,l+" "+r,this.model.locale),(this._extISORegex.exec(e)||this._basicISORegex.exec(e))&&(this.model.value=o=this._timeFromISO(e)),this._setModelOption=!1,o||(s=new Date(e),o=isNaN(Date.parse(s))||t.isNullOrUndefined(e)?this._dateTimeInternal&&""!=e?new Date("1/1/2000 "+e):null:this._setEmptyDate(e))}else"number"==typeof e?o=new Date(e):e instanceof Date&&(o=this._setEmptyDate(e));return o&&!this._dateTimeInternal&&i&&(a=this._localizeTime(o),this._ensureTimeRange(a)&&(o=null)),o},_getLocalizedLabels:function(){return t.getLocalizedConstants(this.sfType,this.model.locale)},_wireEvents:function(){this._on(this.element,"focus",this._targetFocus),this._on(this.element,"blur",this._targetBlur),this._on(this.element,"mousedown",this._mouseDownOnInput),this._on(this.element,"keydown",this._keyDownOnInput),this._on(this.element,"keyup",this._keyUpOnInput)}}),t.TimePicker.Locale=t.TimePicker.Locale||{},t.TimePicker.Locale.default=t.TimePicker.Locale["en-US"]={watermarkText:"select a time"}}(jQuery,Syncfusion),function(e,t,i){t.widget("ejDateTimePicker","ej.DateTimePicker",{element:null,model:null,validTags:["input"],_addToPersist:["value"],_setFirst:!1,_rootCSS:"e-datetimepicker",type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"],requireFormatters:!0},_requiresID:!0,defaults:{cssClass:"",locale:"en-US",readOnly:!1,showRoundedCorner:!1,enableRTL:!1,htmlAttributes:{},allowEdit:!0,enabled:!0,value:"",name:null,minDateTime:new Date("1/1/1900 12:00:00 AM"),maxDateTime:new Date("12/31/2099 11:59:59 PM"),height:"",width:"",dateTimeFormat:"",showPopupButton:!0,enableStrictMode:!1,buttonText:{today:"Today",timeNow:"Time Now",done:"Done",timeTitle:"Time"},watermarkText:"Select datetime",enablePersistence:!1,interval:30,timeDisplayFormat:"",timePopupWidth:105,popupPosition:"bottom",dayHeaderFormat:"short",startLevel:"month",depthLevel:"",startDay:-1,stepMonths:1,showOtherMonths:!0,specialDates:null,highlightWeekend:!1,enableAnimation:!0,headerFormat:"MMMM yyyy",validationRules:null,validationMessage:null,validationMessages:null,timeDrillDown:{enabled:!1,interval:5,showMeridian:!1,autoClose:!0,showFooter:!0},beforeOpen:null,beforeClose:null,open:null,close:null,change:null,create:null,destroy:null,focusIn:null,focusOut:null,disableDateTimeRanges:null,timeZone:!0,disableTimeRanges:null},dataTypes:{allowEdit:"boolean",cssClass:"string",locale:"string",readOnly:"boolean",showRoundedCorner:"boolean",enableRTL:"boolean",enabled:"boolean",enableAnimation:"boolean",dateTimeFormat:"string",showPopupButton:"boolean",buttonText:"data",watermarkText:"string",enablePersistence:"boolean",enableStrictMode:"boolean",interval:"number",timeDrillDown:"data",timeDisplayFormat:"string",dayHeaderFormat:"string",startLevel:"string",depthLevel:"string",startDay:"number",stepMonths:"number",showOtherMonths:"boolean",highlightWeekend:"boolean",specialDates:"data",headerFormat:"string",validationRules:"data",validationMessage:"data",validationMessages:"data",htmlAttributes:"data",disableDateTimeRanges:"data",disableTimeRanges:"data"},_setModel:function(i){var s,a,o,r,l,n=!1;for(s in i)switch("allowEdit"!=s&&"readOnly"!=s&&"enabled"!=s&&"validationRules"!=s&&"validationMessages"!=s&&"enableStrictMode"!=s&&"height"!=s&&"width"!=s&&"showPopupButton"!=s&&"dateTimeFormat"!=s&&"watermarkText"!=s&&"htmlAttributes"!=s&&(this.popup||this._renderDropdown()),s){case"allowEdit":this._changeEditable(i[s]);break;case"cssClass":this._changeSkin(i[s]);break;case"locale":this._localize(i[s]);break;case"readOnly":this._readOnly(i[s]);break;case"showRoundedCorner":this._setRoundedCorner(i[s]);break;case"enableRTL":this._setRtl(i[s]);break;case"enabled":this._enabled(i[s]);break;case"validationRules":null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessages=null),this.model.validationRules=i[s],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":case"validationMessages":this.model.validationMessages=i[s],null!=this.model.validationRules&&null!=this.model.validationMessages&&(this._initValidator(),this._setValidation());break;case"value":i[s]=this._setValue(i[s]),this._specificFormat()&&(this._stopRefresh=!0),n=!0,this._prevDateTime=this._prevDateTimeVal||this._preVal;break;case"enableStrictMode":this.model.enableStrictMode=i[s],n=!0;break;case"minDateTime":o=this._stringToObject(i[s]),a=this._getFormat(o,this.timePicker.model.timeFormat),this._isValidDate(o)?(this.datePicker.option("minDate",o),this.datePicker.model.value&&this.datePicker.model.value.toDateString()==this.datePicker.model.minDate.toDateString()&&this.timePicker.option("minTime",a),i[s]=o,this.model.minDateTime=o):i[s]=this.model[s],n=!0;break;case"maxDateTime":o=this._stringToObject(i[s]),r=this._getFormat(i[s],this.timePicker.model.timeFormat),this._isValidDate(o)?(this.datePicker.option("maxDate",o),this.datePicker.model.value&&this.datePicker.model.value.toDateString()==this.datePicker.model.maxDate.toDateString()&&this.timePicker.option("maxTime",r),i[s]=o,this.model.maxDateTime=o):i[s]=this.model[s],n=!0;break;case"height":this.wrapper.height(i[s]);break;case"width":this.wrapper.width(i[s]);break;case"dateTimeFormat":this.model.dateTimeFormat=i[s],this.isValidState&&this._setValue(this.model.value);break;case"showPopupButton":this._showButton(i[s]);break;case"watermarkText":t.isNullOrUndefined(this._options)&&(this._options={}),this._options[s]=this.model.watermarkText=i[s],this._localizedLabels.watermarkText=this.model.watermarkText,this._setWaterMark();break;case"buttonText":t.isNullOrUndefined(this._options)||(this._options.buttonText=this.model.buttonText=i[s]),this._localizedLabels.buttonText=this.model.buttonText,this._buttonText(i[s]);break;case"interval":this._updateTimeHeight(),this.timePicker.option("interval",i[s]);break;case"timeDisplayFormat":this._updateTimeHeight(),this.timePicker.option("timeFormat",i[s]);break;case"disableDateTimeRanges":this._disabledDate&&(this._disabledDates=!1),this.model.disableDateTimeRanges=i[s],this._setValue(this.model.value);break;case"disableTimeRanges":this.model.disableTimeRanges=i[s],this.timePicker.option("disableTimeRanges",this.model.disableTimeRanges);break;case"timePopupWidth":this._updateTimeHeight(),l=i[s],i[s]="string"==typeof l&&-1!=l.indexOf("%")||"string"==typeof l?parseInt(l)>0?l:105:l>0?l:105,this.timePicker.option("popupWidth",i[s]);break;case"dayHeaderFormat":this.datePicker.option("dayHeaderFormat",i[s]);break;case"startLevel":this.datePicker.option("startLevel",i[s]);break;case"depthLevel":this.datePicker.option("depthLevel",i[s]);break;case"startDay":this.datePicker.option("startDay",i[s]),this.model.startDay=this.datePicker.model.startDay,i[s]=this.model.startDay;break;case"stepMonths":this.datePicker.option("stepMonths",i[s]);break;case"showOtherMonths":this.datePicker.option("showOtherMonths",i[s]);break;case"highlightWeekend":this.datePicker.option("highlightWeekend",i[s]);break;case"specialDates":this.datePicker.option("specialDates",i[s]),this.model.specialDates=this.datePicker.model.specialDates;break;case"headerFormat":this.datePicker.option("headerFormat",i[s]);break;case"htmlAttributes":this._addAttr(i[s]);break;case"popupPosition":this.model.popupPosition=i[s],this._setListPosition();break;case"timeDrillDown":t.isNullOrUndefined(i[s].enabled)||(this.model.timeDrillDown.enabled=i[s].enabled,this._changeDesign()),t.isNullOrUndefined(i[s].interval)||(this.model.timeDrillDown.interval=i[s].interval,this._generateMins(e.trim(t.format(this.timePicker._createObject(this._datetimeValue),"HH:00",this.model.locale)))),t.isNullOrUndefined(i[s].showMeridian)||(this.model.timeDrillDown.showMeridian=i[s].showMeridian,this._sfTimeHour.empty(),this._renderHourTable()),t.isNullOrUndefined(i[s].showFooter)||(this.model.timeDrillDown.showFooter=i[s].showFooter,this._changeDesign())}n&&this._validateMinMax(),this._valueChange(!0),"value"==s&&(i[s]=this.model.value),this.popup&&this._updateTimeHeight(),this._checkErrorClass()},observables:["value"],_destroy:function(){this.isPopupOpen&&this._hideResult(),this.wrapper&&(this.element.insertAfter(this.wrapper),this.wrapper.remove()),this.element.removeClass("e-js e-input").removeClass(t.util.getNameSpace(this.sfType)),this.element.removeAttr(" type aria-atomic aria-live tabindex aria-expanded aria-disabled placeholder role"),this._cloneElement[0].hasAttribute("name")||this.element.removeAttr("name"),t.isNullOrUndefined(this.datePicker)||this.datePicker.destroy(),t.isNullOrUndefined(this.timePicker)||this.timePicker.destroy(),this.popup&&this.popup.remove()},_initDisableTimeRanges:function(e){for(var i,s,a,o,r=this._getDateObj(e,this.datePicker.model.dateFormat),l=0;l<this.model.disableDateTimeRanges.length;l++)if(t.isNullOrUndefined(this.model.disableDateTimeRanges[l].endDateTime)&&(this.model.disableDateTimeRanges[l].endDateTime=this.model.disableDateTimeRanges[l].startDateTime),this.model.disableDateTimeRanges[l].startDateTime instanceof Date||this.model.disableDateTimeRanges[l].endDateTime instanceof Date?(i=this._getFormat(this.model.disableDateTimeRanges[l].startDateTime,this.datePicker.model.dateFormat),s=this._getFormat(this.model.disableDateTimeRanges[l].endDateTime,this.datePicker.model.dateFormat)):(i=this.model.disableDateTimeRanges[l].startDateTime.split(" ")[0],s=this.model.disableDateTimeRanges[l].endDateTime.split(" ")[0]),a=new Date(this.model.disableDateTimeRanges[l].startDateTime),o=new Date(this.model.disableDateTimeRanges[l].endDateTime),i==s){if(this._compare(r,this._setEmptyTime(this.model.disableDateTimeRanges[l].startDateTime))){var n,d=this._getFormat(a,this.timePicker.model.timeFormat),h=this._getFormat(o,this.timePicker.model.timeFormat);return(n=[]).push({startTime:d,endTime:h}),void this.timePicker.option("disableTimeRanges",n)}this.timePicker.option("disableTimeRanges",this._defaultMinVal()),this._disabledDates||this.model.disableDateTimeRanges[l].endDateTime!=this.model.disableDateTimeRanges[l].startDateTime||this.model.disableDateTimeRanges[l].endDateTime instanceof Date==0&&this._getFormat(this.model.disableDateTimeRanges[l].endDateTime,this.model.dateTimeFormat)==this._getFormat(this.model.disableDateTimeRanges[l].endDateTime,this.model.dateFormat)&&t.isNullOrUndefined(this.model.disableDateTimeRanges[l].endDateTime.split(" ")[1])&&this._between.push(new Date(this.model.disableDateTimeRanges[l].endDateTime))}else if(i!=s){if(this._compare(r,this._setEmptyTime(this.model.disableDateTimeRanges[l].startDateTime))||this._compare(r,this._setEmptyTime(this.model.disableDateTimeRanges[l].endDateTime)))return d=this.timePicker.model.minTime,h=this.timePicker.model.maxTime,this.datePicker.model.value.toDateString()==new Date(this.model.disableDateTimeRanges[l].startDateTime).toDateString()&&(d=this._getFormat(new Date(this.model.disableDateTimeRanges[l].startDateTime),this.timePicker.model.timeFormat)),this.datePicker.model.value.toDateString()==new Date(this.model.disableDateTimeRanges[l].endDateTime).toDateString()&&(h=this._getFormat(new Date(this.model.disableDateTimeRanges[l].endDateTime),this.timePicker.model.timeFormat)),(n=[]).push({startTime:d,endTime:h}),void this.timePicker.option("disableTimeRanges",n);this._disabledDates||(d=this._getFormat(new Date(this.model.disableDateTimeRanges[l].startDateTime),this.timePicker.model.timeFormat),h=this._getFormat(new Date(this.model.disableDateTimeRanges[l].endDateTime),this.timePicker.model.timeFormat),d==this.timePicker.model.minTime&&this._between.push(new Date(this.model.disableDateTimeRanges[l].startDateTime)),this.model.disableDateTimeRanges[l].endDateTime instanceof Date==0&&this._getFormat(this.model.disableDateTimeRanges[l].endDateTime,this.model.dateTimeFormat)==this._getFormat(new Date(this.model.disableDateTimeRanges[l].endDateTime),this.datePicker.model.dateFormat)&&(h=this.timePicker.model.maxTime),h==this.timePicker.model.maxTime&&this._between.push(new Date(this.model.disableDateTimeRanges[l].endDateTime)))}},_disableBetweenDates:function(){for(var e=0;e<this.model.disableDateTimeRanges.length;e++)for(var t=this.model.disableDateTimeRanges[e].startDateTime,i=this._setEmptyTime(t),s=(this._getFormat(new Date(this.model.disableDateTimeRanges[e].startDateTime),this.timePicker.model.timeFormat),this._getFormat(new Date(this.model.disableDateTimeRanges[e].endDateTime),this.timePicker.model.timeFormat),this.model.disableDateTimeRanges[e].endDateTime),a=this._setEmptyTime(s);i<a;)i.setDate(i.getDate()+1),new Date(i)<a&&this._between.push(new Date(i));this._datesDisabled=!0},_init:function(e){if(this._cloneElement=this.element.clone(),!this.element.is("input")||this.element.attr("type")&&"text"!=this.element.attr("type"))return!1;this._options=e,this._ISORegex(),this._isSupport=document.createElement("input").placeholder!=i,this._validateMeridian(),this._checkAttribute(),this._initialize(),this._initial=!0,this._interval=60,this._render(),this._wireEvents(),this._addAttr(this.model.htmlAttributes),t.isNullOrUndefined(e)||t.isNullOrUndefined(e.validationMessage)||(this.model.validationMessages=this.model.validationMessage),null!=this.model.validationRules&&(this._initValidator(),this._setValidation()),this._removeWatermark(),e&&e.value!=i&&e.value!=this.element.val()&&this._trigger("_change",{value:this.element.val()})},_ISORegex:function(){this._tokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,this._extISORegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,this._basicISORegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,this._numberRegex={2:/\d\d?/,4:/^\d{4}/,z:/Z|[+-]\d\d(?::?\d\d)?/gi,t:/T/,"-":/\-/,":":/:/},this._zeroRegex=/Z|[+-]\d\d(?::?\d\d)?/,this._dates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],this._times=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]]},_changeDesign:function(){if(this.model.timeDrillDown.enabled){var t=this.model.timeDrillDown.showFooter?"block":"none";this.popup.addClass("e-drill-down"),this._timeContainer.css("display","none"),this._buttonContainer.css("display","none"),this.datePicker.option("showFooter",this.model.timeDrillDown.showFooter),e(".e-footer",this._sfTimeHour).css("display",t),e(".e-footer",this._sfTimeMins).css("display",t)}else this.popup.removeClass("e-drill-down"),this._sfTimeHour.hide(),this._sfTimeMins.hide(),this._updateTimeHeight(),this._dateContainer.show(),this._timeContainer.show(),this._buttonContainer.show(),this.datePicker.option("showFooter",!1),this.timePicker._refreshScroller(),this.timePicker._changeActiveEle()},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_checkAttribute:function(){this.model.value=""===this.model.value?this.element[0].value:this.model.value,this._options.minDateTime||(this.model.minDateTime=this.element[0].min),this._options.maxDateTime||(this.model.maxDateTime=this.element[0].max),t.isNullOrUndefined(this._options.readOnly)&&(this.model.readOnly=this.element.is("[readonly]")),t.isNullOrUndefined(this._options.enabled)&&(this.model.enabled=!this.element.is("[disabled]"))},_setValidation:function(){var i,s,a,o,r;for(a in this.element.rules("add",this.model.validationRules),i=(i=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),s=this.element.attr("name"),i.settings.messages[s]={},this.model.validationRules)if(o=null,!t.isNullOrUndefined(this.model.validationRules[a])){if(t.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[a]))for(r in i.settings.messages[s][a]=e.validator.messages[a],this.model.validationMessages)a==r&&(o=this.model.validationMessages[a]);else o=this.model.validationRules.messages[a];i.settings.messages[s][a]=null!=o?o:e.validator.messages[a]}},_validateDisableRanges:function(){for(var e,t=0;t<this.model.disableDateTimeRanges.length;t++)e=this.model.value,new Date(this.model.value).getTime()>=new Date(this.model.disableDateTimeRanges[t].startDateTime).getTime()&&new Date(this.model.value).getTime()<=new Date(this.model.disableDateTimeRanges[t].endDateTime).getTime()&&(this.model.value=null),null==this.model.value&&null!=e&&this.model.enableStrictMode&&(this.isValidState=!1),this.isValidState&&this.element.val(this._getFormat(this.model.value,this.model.dateTimeFormat))},_addAttr:function(i){var s=this;e.map(i,(function(e,i){var a=i.toLowerCase();"class"==a?s.wrapper.addClass(e):"disabled"==a?s._enabled(!1):"readOnly"==a?s._readOnly(!0):"style"==a?s.wrapper.attr(i,e):"id"==a?(s.wrapper.attr(i,e+"_wrapper"),s.element.attr(i,e)):t.isValidAttr(s.element[0],a)?s.element.attr(a,e):s.wrapper.attr(a,e)}))},_validateMeridian:function(){var e=t.preferredCulture(this.model.locale);e&&(this.model.locale="en"==e.name?"en-US":e.name),(t.isNullOrUndefined(this._options)||t.isNullOrUndefined(this._options.timeDrillDown)||t.isNullOrUndefined(this._options.timeDrillDown.showMeridian))&&(this.model.timeDrillDown.showMeridian=!t.isNullOrUndefined(t.preferredCulture(this.model.locale).calendars.standard.AM))},_initialize:function(){var i,s,a,o;this.popup=null,this.isPopupOpen=!1,this.isValidState=!0,this._localizedLabels=this._getLocalizedLabels(),t.isNullOrUndefined(this._options)||(t.isNullOrUndefined(this._options.buttonText)||e.extend(this._localizedLabels.buttonText,this._options.buttonText),t.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText)),this._localizedLabelToModel(),-1==this.model.startDay&&(this.model.startDay=t.preferredCulture(this.model.locale).calendar.firstDay),this._isIE8="msie"==t.browserInfo().name&&"8.0"==t.browserInfo().version,this._isIE9="msie"==t.browserInfo().name&&"9.0"==t.browserInfo().version,this.model.dateTimeFormat&&this.model.timeDisplayFormat||this._getDateTimeFormat(),(i=!this.model.value||"object"==typeof JSON&&"{}"===JSON.stringify(this.model.value)?null:this.model.value instanceof Date?this.model.value:(s=t.parseDate(this.model.value,this.model.dateTimeFormat,this.model.locale))||((s=this._checkJSONString(this.model.value))?s:null))&&(this.model.value=i),(a=this.model.minDateTime=this._stringToObject(this.model.minDateTime))&&this._isValidDate(a)||(this.model.minDateTime=this.defaults.minDateTime),(o=this.model.maxDateTime=this._stringToObject(this.model.maxDateTime))&&this._isValidDate(o)||(this.model.maxDateTime=this.defaults.maxDateTime)},_checkJSONString:function(e){var i,s=new Date(e);if(isNaN(Date.parse(s))){if(this._extISORegex.exec(e)||this._basicISORegex.exec(e))return this._dateFromISO(e)}else if(s.toJSON()===this.model.value||s.toGMTString()===this.model.value||s.toISOString()===this.model.value||s.toLocaleString()===this.model.value||s.toString()===this.model.value||s.toUTCString()===this.model.value){if(this.model.timeZone)return new Date(new Date(s).getTime()+36e5*t.serverTimezoneOffset);if(e.match(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i)&&e.match(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i).length>0)return i=(i=e.split("Z"))[0],new Date(i)}else if("string"==typeof e)return this._dateFromISO(e)},_render:function(){this._renderWrapper(),this._renderIcon(),this._setDimentions(),this._checkProperties()},_renderWrapper:function(){if(this.element.addClass("e-input").attr({"aria-atomic":"true","aria-live":"assertive",tabindex:"0",role:"combobox","aria-expanded":"false"}),this.wrapper=t.buildTag("span.e-datetime-wrap e-widget "+this.model.cssClass+"#"+this.element[0].id+"_wrapper").insertAfter(this.element),this._setValue(this.model.value),this.wrapper.attr("style",this.element.attr("style")),this.element.removeAttr("style"),t.isTouchDevice()||this.wrapper.addClass("e-ntouch"),this.container=t.buildTag("span.e-in-wrap e-box").append(this.element),this.wrapper.append(this.container),!this._isSupport){this._hiddenInput=t.buildTag("input.e-input e-placeholder ","",{},{type:"text"}).insertAfter(this.element),this._hiddenInput.val(this._localizedLabels.watermarkText),this._hiddenInput.css("display","block");var i=this;e(this._hiddenInput).focus((function(){i.element.focus()}))}},_removeWatermark:function(){""!=this.element.val()&&!this._isSupport&&this._hiddenInput&&this._hiddenInput.css("display","none")},_renderIcon:function(){if(!this.model.showPopupButton)return!1;this.datetimeIcon=t.buildTag("span.e-select","",{}).attr(this._isIE8?{unselectable:"on"}:{});var e=t.buildTag("span.e-icon e-datetime","",{},{"aria-label":"select"}).attr(this._isIE8?{unselectable:"on"}:{});this.datetimeIcon.append(e),this.container.append(this.datetimeIcon).addClass("e-padding"),this._on(this.datetimeIcon,"click",this._iconClick),this._on(this.datetimeIcon,"mousedown",(function(e){e.preventDefault()}))},_setDimentions:function(){this.model.height||(this.model.height=this.element.attr("height")),this.model.width||(this.model.width=this.element.attr("width")),this.wrapper.height(this.model.height),this.wrapper.width(this.model.width)},_renderDropdown:function(){var i,s,a,o,r,l=e("#"+this.element[0].id+"_popup").get(0);l&&e(l).remove(),this.popup=t.buildTag("div.e-datetime-popup e-popup e-widget e-box "+this.model.cssClass+"#"+this.element[0].id+"_popup").css("visibility","hidden"),t.isTouchDevice()||this.popup.addClass("e-ntouch"),e("body").append(this.popup),this._renderControls(),i=t.buildTag("div.e-header",this._localizedLabels.buttonText.timeTitle).attr(this._isIE8?{unselectable:"on"}:{}),this._dateContainer=t.buildTag("div.e-datecontainer").append(this.datePicker.popup).attr(this._isIE8?{unselectable:"on"}:{}),this._timeContainer=t.buildTag("div.e-timecontainer").append(i,this.timePicker.popup).attr(this._isIE8?{unselectable:"on"}:{}),this._drillDownContainer=t.buildTag("div.e-drillDowncontainer").append().attr(this._isIE8?{unselectable:"on"}:{}),s=t.buildTag("div.e-popup-container").append(this._dateContainer,this._timeContainer,this._drillDownContainer).attr(this._isIE8?{unselectable:"on"}:{}),a=t.buildTag("div.e-dt-button e-dt-today e-btn e-select e-flat",this._localizedLabels.buttonText.today).attr(this._isIE8?{unselectable:"on"}:{}),o=t.buildTag("div.e-dt-button e-dt-now e-btn e-select e-flat",this._localizedLabels.buttonText.timeNow).attr(this._isIE8?{unselectable:"on"}:{}),r=t.buildTag("div.e-dt-button e-dt-done e-btn e-select e-flat",this._localizedLabels.buttonText.done).attr(this._isIE8?{unselectable:"on"}:{}),this._buttonContainer=t.buildTag("div.e-button-container").append(a,o,r).attr(this._isIE8?{unselectable:"on"}:{}),this._renderDrillDown(),this.popup.append(s,this._buttonContainer),this._checkForResponsive(),this._updateTimeHeight(),this._bindOperations(),this._updateValues(),this.popup.css({visibility:"visible",display:"none"}),this._on(a,"click",this._todayClick),this._on(o,"click",this._nowClick),this._on(r,"click",this._doneClick),this.popup.on("mouseenter touchstart",e.proxy((function(){this._popClose=!0}),this)),this.popup.on("mouseleave touchend",e.proxy((function(){this._popClose=!1}),this)),this._changeDesign()},_renderControls:function(){this._renderDateControl(),this._renderTimeControl();var e=t.buildTag("span").append(this.datePicker.wrapper,this.timePicker.wrapper);e.find("span").css("display","none"),this.popup.append(e)},_renderDrillDown:function(){this._renderHourPopup(),this._renderMinsPopup()},_renderHourPopup:function(){this._sfTimeHour=t.buildTag("div.e-timepicker e-popup e-widget "+this.model.cssClass+" e-time-hours ","",{},{id:this._id?"e-hours-"+this._id:""}).attr({"aria-hidden":"true"}).attr(this._isIE8?{unselectable:"on"}:{}),t.isTouchDevice()||this._sfTimeHour.addClass("e-ntouch"),this._drillDownContainer.append(this._sfTimeHour),this._renderHourTable()},_renderHourTable:function(){var i,s,a,o,r,l,n,d,h,c,u,p;if(t.buildTag("div.e-header").attr(this._isIE8?{unselectable:"on"}:{}).append(t.buildTag("span.e-prev").append(t.buildTag("a.e-icon e-arrow-sans-left").attr({role:"button"}).attr(this._isIE8?{unselectable:"on"}:{}))).append(t.buildTag("span.e-text").append(t.buildTag("span.e-hours-headertext").text("October 2015").attr({"aria-atomic":"true","aria-live":"assertive",role:"heading"}).attr(this._isIE8?{unselectable:"on"}:{}))).append(t.buildTag("span.e-next").append(t.buildTag("a.e-icon e-arrow-sans-right").attr({role:"button"}).attr(this._isIE8?{unselectable:"on"}:{}))).appendTo(this._sfTimeHour),this._interval<1)return!1;n=6e4*this._interval,d=this.model.timeDrillDown.showMeridian?2:1,o=this.model.timeDrillDown.showMeridian?6:4;var m=this.model.timeDrillDown.showMeridian?"hh":"HH:00",g=["AM","PM"],_=0,f="";for(i=this.timePicker._createObject("12:00:00 AM"),s=this.model.timeDrillDown.showMeridian?this.timePicker._createObject("11:59:59 AM"):this.timePicker._createObject("11:59:59 PM"),h=0;h<d;h++){for(this.model.timeDrillDown.showMeridian&&(f=g[h].toLowerCase(),c=t.isNullOrUndefined(t.preferredCulture(this.model.locale).calendars.standard[g[h]])?"":t.preferredCulture(this.model.locale).calendars.standard[g[h]][0],t.buildTag("div.e-header-"+f).attr(this._isIE8?{unselectable:"on"}:{}).append(t.buildTag("span.e-text").append(t.buildTag("span.e-hours-meridiantxt-"+f).text(c).attr({"aria-atomic":"true","aria-live":"assertive",role:"heading"}).attr(this._isIE8?{unselectable:"on"}:{}))).appendTo(this._sfTimeHour)),r=t.buildTag("table.e-dp-viewhours","",{}).data("e-table","data").attr({role:"grid"}).attr(this._isIE8?{unselectable:"on"}:{}),this._sfTimeHour.append(r),u=t.buildTag("tbody.e-timepicker-hours").attr(this._isIE8?{unselectable:"on"}:{}),l=t.buildTag("tr","").attr(this._isIE8?{unselectable:"on"}:{});this.timePicker._compareTime(s,i,!0);)a=this._localizeTime(i,m),p=t.buildTag("td.e-hour e-state-default",a),this.model.timeDrillDown.showMeridian&&p.addClass("e-hour-"+f),this._isIE8&&p.attr("unselectable","on"),l.append(p),++_>=o&&(_=0,u.append(l),l=t.buildTag("tr","").attr(this._isIE8?{unselectable:"on"}:{})),i=this.timePicker._createObject(i).getTime()+n;r.append(u),this.model.timeDrillDown.showMeridian&&(i=this.timePicker._createObject("12:00:00 PM"),s=this.timePicker._createObject("11:59:59 PM"))}t.buildTag("div.e-footer").append(t.buildTag("span.e-footer-icon")).append(t.buildTag("span.e-footer-text")).appendTo(this._sfTimeHour),e(".e-footer-text",this._sfTimeHour).html(this._localizedLabels.buttonText.timeNow),e(".e-hours-headertext",this._sfTimeHour).text(t.format(this.datePicker.model.value,"dd MMM yyyy")),this._on(this._sfTimeHour.find(".e-hour"),"click",e.proxy(this._hourNavHandler,this)),this._on(e(".e-next",this._sfTimeHour),"click",e.proxy(this._prevNextHourHandler,this)),this._on(e(".e-prev",this._sfTimeHour),"click",e.proxy(this._prevNextHourHandler,this)),this._on(e(".e-footer",this._sfTimeHour),"click",this._todayBtn),e(".e-hours-headertext",this._sfTimeHour).on("click",e.proxy(this._forwardNavHandler,this)),this._sfTimeHour.hide()},_localizeTime:function(i,s){return e.trim(t.format(this.timePicker._createObject(i),s,this.model.locale))},_renderMinsPopup:function(){var i,s,a,o,r,l,n,d,h;if(this._sfTimeMins=t.buildTag("div.e-timepicker e-popup e-widget "+this.model.cssClass+" e-time-minitues ","",{},{id:this._id?"e-time-minitues-"+this._id:""}).attr({"aria-hidden":"true"}).attr(this._isIE8?{unselectable:"on"}:{}),t.isTouchDevice()||this._sfTimeMins.addClass("e-ntouch"),this._drillDownContainer.append(this._sfTimeMins),t.buildTag("div.e-header").attr(this._isIE8?{unselectable:"on"}:{}).append(t.buildTag("span.e-prev").append(t.buildTag("a.e-icon e-arrow-sans-left").attr({role:"button"}).attr(this._isIE8?{unselectable:"on"}:{}))).append(t.buildTag("span.e-text").append(t.buildTag("span.e-minitues-headertext").attr({"aria-atomic":"true","aria-live":"assertive",role:"heading"}).attr(this._isIE8?{unselectable:"on"}:{}))).append(t.buildTag("span.e-next").append(t.buildTag("a.e-icon e-arrow-sans-right").attr({role:"button"}).attr(this._isIE8?{unselectable:"on"}:{}))).appendTo(this._sfTimeMins),t.buildTag("div.e-mins-header").attr(this._isIE8?{unselectable:"on"}:{}).append(t.buildTag("span.e-text").append(t.buildTag("span.e-minitues-meridiantxt").text("AM").attr({"aria-atomic":"true","aria-live":"assertive",role:"heading"}).attr(this._isIE8?{unselectable:"on"}:{}))).appendTo(this._sfTimeMins),i=t.buildTag("table.e-dp-viewmins","",{}).data("e-table","data").attr({role:"grid"}).attr(this._isIE8?{unselectable:"on"}:{}),this._sfTimeMins.append(i),s=t.buildTag("tbody.e-timepicker-mins").attr(this._isIE8?{unselectable:"on"}:{}),this._intervall<1)return!1;for(l=6e4*this._interval,a=this.timePicker._createObject("12:00:00 AM"),o=this.timePicker._createObject("11:59:59 PM"),n=t.buildTag("tr","").attr(this._isIE8?{unselectable:"on"}:{}),d=0;this.timePicker._compareTime(o,a,!0);)r=this._localizeTime(a,"HH:00"),h=t.buildTag("td.e-mins e-state-default",r),this._isIE8&&h.attr("unselectable","on"),n.append(h),++d>=4&&(d=0,s.append(n),n=t.buildTag("tr","").attr(this._isIE8?{unselectable:"on"}:{})),a=this.timePicker._createObject(a).getTime()+l;i.append(s),e(".e-minitues-headertext",this._sfTimeMins).text(e(".e-hours-headertext",this._sfTimeHour).text()),t.buildTag("div.e-footer").append(t.buildTag("span.e-footer-icon")).append(t.buildTag("span.e-footer-text")).appendTo(this._sfTimeMins),e(".e-footer-text",this._sfTimeMins).html(this._localizedLabels.buttonText.timeNow),e(".e-minitues-headertext",this._sfTimeMins).text(t.format(this.datePicker.model.value,"dd MMM yyyy")),this.model.timeDrillDown.showMeridian||e(".e-mins-header",this._sfTimeMins).css("display","none"),this._on(i.find(".e-mins"),"click",e.proxy(this._minsNavHandler,this)),this._on(e(".e-next",this._sfTimeMins),"click",e.proxy(this._prevNextMinsHandler,this)),this._on(e(".e-prev",this._sfTimeMins),"click",e.proxy(this._prevNextMinsHandler,this)),this._on(e(".e-footer",this._sfTimeMins),"click",this._todayBtn),e(".e-minitues-headertext",this._sfTimeMins).on("click",e.proxy(this._forwardNavHandler,this)),this._sfTimeMins.hide()},_todayBtn:function(){this._nowClick(),this._hideResult()},_hourNavHandler:function(i){var s,a;if(this.model.readOnly||!this.model.enabled||i&&e(i.target).hasClass("e-disable"))return!1;i&&i.type&&i.preventDefault(),e("table",this._sfTimeHour).find("td").removeClass("e-active"),e(i.target).addClass("e-active"),this._sfTimeHour.hide(),this._sfTimeMins.show(),this._addFocus(this._sfTimeMins),this.model.timeDrillDown.showMeridian?(a=e(i.target).hasClass("e-hour-am")?"AM":"PM",s=e(i.target).text()+":00 "+a):s=e(i.target).text(),this._generateMins(s);var o=new Date(this._datetimeValue.toString()).setMinutes(this.model.value.getMinutes()),r=e.trim(t.format(this.timePicker._createObject(o),"HH:mm",this.model.locale)),l=e.trim(t.format(this.timePicker._createObject(o),"HH:00",this.model.locale)),n=(this.timePicker._parse(r)-this.timePicker._parse(l))/(6e4*this.model.timeDrillDown.interval);n=Math.ceil(n),this._hoverMins=this._setFocusByIndex("mins",n,this._sfTimeMins)},_minsNavHandler:function(i){if(this.model.readOnly||!this.model.enabled||i&&e(i.target).hasClass("e-disable"))return!1;if(i&&i.type&&i.preventDefault(),e("table",this._sfTimeMins).find("td").removeClass("e-active").removeClass("e-state-hover"),e(i.target).addClass("e-active"),this.model.timeDrillDown.showMeridian){var s=e(i.target).text()+" "+t.format(this._datetimeValue,"tt","en-US");s=this.timePicker._localizeTime(s)}else s=e(i.target).text();this.timePicker.option("value",s),this.datePicker.option("value",this._datetimeValue),this._datetimeValue=new Date(this.model.value.toString()),this._updateInput(),this.model.timeDrillDown.autoClose&&this._hideResult(i)},_generateMins:function(i){var s,a,o=e("table",this._sfTimeMins);o.empty(),this.model.timeDrillDown.showMeridian?e(".e-mins-header",this._sfTimeMins).show():e(".e-mins-header",this._sfTimeMins).hide(),s=this.model.timeDrillDown.showMeridian?"hh:mm":"HH:mm",e(".e-minitues-headertext",this._sfTimeMins).text(e(".e-hours-headertext",this._sfTimeHour).text());var r,l,n,d,h=t.buildTag("tbody.e-timepicker-mins").attr(this._isIE8?{unselectable:"on"}:{}),c=0,u=6e4*this.model.timeDrillDown.interval;for(r=this.timePicker._createObject(i),this._datetimeValue.setHours(r.getHours()),n=this.timePicker._createObject(r).getTime()+354e4,l=t.buildTag("tr","").attr(this._isIE8?{unselectable:"on"}:{}),h.append(l);this.timePicker._compareTime(n,r,!0);)c>=4&&(c=0,l=t.buildTag("tr","").attr(this._isIE8?{unselectable:"on"}:{}),h.append(l)),d=this._localizeTime(r,s),a=t.buildTag("td.e-mins e-state-default",d),this._isIE8&&a.attr("unselectable","on"),l.append(a),c++,r=this.timePicker._createObject(r).getTime()+u;o.append(h),e(".e-mins-header",this._sfTimeMins).find(".e-minitues-meridiantxt").text(t.format(this._datetimeValue,"tt",this.model.locale)),this._disableRange("mins"),this._on(o.find(".e-mins"),"click",e.proxy(this._minsNavHandler,this))},_prevNextHourHandler:function(t){if(this.model.readOnly||!this.model.enabled)return!1;t.preventDefault();var i=!!(e(t.target).is("a")?e(t.target.parentNode):e(t.target)).hasClass("e-prev");this._processNextPrev(i,this._sfTimeHour)},_prevNextMinsHandler:function(t){if(this.model.readOnly||!this.model.enabled)return!1;t.preventDefault();var i=!!(e(t.target).is("a")?e(t.target.parentNode):e(t.target)).hasClass("e-prev");this._processNextPrev(i,this._sfTimeMins)},_processNextPrev:function(i,s){var a;if(i&&s.find(".e-arrow-sans-left").hasClass("e-disable")||!i&&s.find(".e-arrow-sans-right").hasClass("e-disable"))return!1;switch(e("table",s).get(0).className){case"e-dp-viewhours":a=i?-1:1,this._datetimeValue.setDate(this._datetimeValue.getDate()+a),this._disableRange("hour"),this._hoverHour=this._setFocusByIndex("hour",this._hoverHour,this._sfTimeHour),e(".e-hours-headertext",this._sfTimeHour).text(t.format(this._datetimeValue,"dd MMM yyyy")),e(".e-minitues-headertext",this._sfTimeMins).text(t.format(this._datetimeValue,"dd MMM yyyy"));break;case"e-dp-viewmins":a=i?-1:1,this._datetimeValue.setHours(this._datetimeValue.getHours()+a),this._generateMins(e.trim(t.format(this.timePicker._createObject(this._datetimeValue),"HH:00",this.model.locale)));var o=new Date(this._datetimeValue.toString()).setMinutes(this.model.value.getMinutes()),r=e.trim(t.format(this.timePicker._createObject(o),"HH:mm",this.model.locale)),l=e.trim(t.format(this.timePicker._createObject(o),"HH:00",this.model.locale)),n=(this.timePicker._parse(r)-this.timePicker._parse(l))/(6e4*this.model.timeDrillDown.interval);n=Math.ceil(n),this._disableRange("mins"),this._hoverMins=this._setFocusByIndex("mins",n,this._sfTimeMins),e(".e-hours-headertext",this._sfTimeHour).text(t.format(this._datetimeValue,"dd MMM yyyy")),e(".e-minitues-headertext",this._sfTimeMins).text(t.format(this._datetimeValue,"dd MMM yyyy"))}},_forwardNavHandler:function(i,s){if(this.model.readOnly||!this.model.enabled)return!1;switch(i&&i.preventDefault(),i?e(i.currentTarget).get(0).className:s.find(".e-text>span").get(0).className){case"e-hours-headertext":this._sfTimeHour.css("display","none"),this._dateContainer.css("display","block"),this._addFocus(this._dateContainer.find(".e-datepicker"));break;case"e-minitues-headertext":this._sfTimeMins.css("display","none"),this._disableRange("hour");var a=this._localizeTime(this.timePicker._createObject("12:00:00 AM"),"HH:00"),o=e.trim(t.format(this.timePicker._createObject(this._datetimeValue),"HH:00",this.model.locale)),r=(this.timePicker._parse(o)-this.timePicker._parse(a))/(6e4*this._interval);r=Math.floor(r),this._hoverHour=this._setFocusByIndex("hour",r,this._sfTimeHour),e(".e-hours-headertext",this._sfTimeHour).text(t.format(this._datetimeValue,"dd MMM yyyy")),e(".e-minitues-headertext",this._sfTimeMins).text(t.format(this._datetimeValue,"dd MMM yyyy")),this._sfTimeHour.css("display","block"),this._addFocus(this._sfTimeHour)}},_renderDateControl:function(){var e=t.buildTag("input#"+this.element[0].id+"_date","",{},{type:"text"});this.popup.append(e),e.ejDatePicker({height:"0px",width:"0px",displayInline:!0,showDateIcon:!1,showFooter:!!this.model.timeDrillDown.enabled&&this.model.timeDrillDown.showFooter,enableStrictMode:!0,buttonText:this._localizedLabels.buttonText.today,minDate:this._stringToObject(this.model.minDateTime),maxDate:this._stringToObject(this.model.maxDateTime),dayHeaderFormat:this.model.dayHeaderFormat,startLevel:this.model.startLevel,depthLevel:this.model.depthLevel,startDay:this.model.startDay,stepMonths:this.model.stepMonths,showOtherMonths:this.model.showOtherMonths,specialDates:this.model.specialDates,highlightWeekend:this.model.highlightWeekend,headerFormat:this.model.headerFormat,enabled:this.model.enabled,enableRTL:this.model.enableRTL,showRoundedCorner:this.model.showRoundedCorner,readOnly:this.model.readOnly,cssClass:this.model.cssClass,locale:this.model.locale}),t.isNullOrUndefined(this.model.value)||(this._datetimeValue=new Date(this.model.value.toString())),this.datePicker=e.data("ejDatePicker"),this._datetimeValue=new Date(this.datePicker._dateValue.toString()),this.model.startDay=this.datePicker.model.startDay,this.datePicker._getInternalEvents=!0,this.datePicker._dt_drilldown=!0,this.datePicker.popup.css({position:"static",display:"block"})},_renderTimeControl:function(){var e,i,s=t.buildTag("input#"+this.element[0].id+"_time","",{},{type:"text"});this.popup.append(s),i="string"==typeof(e=this.model.timePopupWidth)&&-1!=e.indexOf("%")||"string"==typeof e?parseInt(e)>0?e:this.model.timePopupWidth=105:e>0?e:this.model.timePopupWidth=105,s.ejTimePicker({height:"0px",width:"0px",interval:this.model.interval,timeFormat:this.model.timeDisplayFormat,popupWidth:i,enabled:this.model.enabled,enableRTL:this.model.enableRTL,showRoundedCorner:this.model.showRoundedCorner,readOnly:this.model.readOnly,cssClass:this.model.cssClass,locale:this.model.locale,disableTimeRanges:this.model.disableTimeRanges}),this.timePicker=s.data("ejTimePicker"),this.timePicker._renderDropdown(),this.timePicker.popup.css({position:"static",display:"block"}),this.timePicker._getInternalEvents=!0,this.timePicker.showDropdown=!0,this.timePicker._dateTimeInternal=!0,this.model.minDateTime?this._stringToObject(this.model.minDateTime):this.defaults.minDateTime,this.model.maxDateTime?this._stringToObject(this.model.maxDateTime):this.defaults.maxDateTime},_updateTimeHeight:function(){var e=this.popup.find(".e-timecontainer .e-header").is(":visible")?this.datePicker.popup.height()-this.popup.find(".e-header").height():this.datePicker.popup.height();e=this.popup.hasClass("e-dt-responsive")?"98px":e,this.timePicker.option("popupHeight",e)},_bindOperations:function(){var e=this;this.datePicker.option("layoutChange",(function(){e._updateTimeHeight()})),this.datePicker.option("outOfRange",(function(){e.isValidState=!1})),this.timePicker.option("outOfRange",(function(){e.isValidState=!1})),this.datePicker.option("change",(function(t){e._refreshTimes(t)})),this.datePicker.option("select",(function(t){e._updateInput(t)})),this.datePicker.option("dt_drilldown",(function(t){e.model.timeDrillDown.enabled&&(e._updateInput(t),e._switchToDrilDown(t))})),this.timePicker.option("select",(function(){e._updateInput()}))},_switchToDrilDown:function(){var i;this._dateContainer.hide(),this._sfTimeHour.show(),this._addFocus(this._sfTimeHour),i=new Date(this.model.value.toString()),this._datetimeValue=new Date(i.setHours(this._datetimeValue.getHours(),this._datetimeValue.getMinutes(),this._datetimeValue.getSeconds(),this._datetimeValue.getMilliseconds())),this._disableRange("hour");var s=this._localizeTime(this.timePicker._createObject("12:00:00 AM"),"HH:00"),a=e.trim(t.format(this.timePicker._createObject(this._datetimeValue),"HH:00",this.model.locale)),o=(this.timePicker._parse(a)-this.timePicker._parse(s))/(6e4*this._interval);o=Math.floor(o),this._hoverHour=this._setFocusByIndex("hour",o,this._sfTimeHour),e(".e-hours-headertext",this._sfTimeHour).text(t.format(this._datetimeValue,"dd MMM yyyy")),e(".e-minitues-headertext",this._sfTimeMins).text(t.format(this._datetimeValue,"dd MMM yyyy"))},_disableRange:function(i){var s,a,o,r,l,n,d="hour"==i?this._interval:this.model.timeDrillDown.interval,h="hour"==i?this._sfTimeHour:this._sfTimeMins,c="hour"==i?"e-hide-hour e-disable":"e-hide-mins e-disable";if(h.find("tbody tr td.e-"+i).removeClass(c),h.find(".e-arrow-sans-left").removeClass("e-disable"),h.find(".e-arrow-sans-right").removeClass("e-disable"),s="hour"==i?this._localizeTime(this.timePicker._createObject("12:00:00 AM"),"HH:00"):this._localizeTime(e.trim(t.format(this.timePicker._createObject(this._datetimeValue),"HH:00",this.model.locale)),"HH:00"),this._compareDate(this.model.minDateTime,this._datetimeValue)){if("mins"==i&&this.model.minDateTime.getHours()!==this._datetimeValue.getHours())return!1;for(a=e.trim(t.format(this.timePicker._createObject(this.model.minDateTime),"HH:mm",this.model.locale)),o=(this.timePicker._parse(a)-this.timePicker._parse(s))/(6e4*d),o="hour"==i?Math.floor(o):Math.ceil(o),l=0;l<o;l++)n=h.find("tbody tr td.e-"+i)[l],e(n).addClass(c);h.find(".e-arrow-sans-left").addClass("e-disable")}if(this._compareDate(this.model.maxDateTime,this._datetimeValue)){if("mins"==i&&this.model.maxDateTime.getHours()!==this._datetimeValue.getHours())return!1;for(a=e.trim(t.format(this.timePicker._createObject(this.model.maxDateTime),"HH:mm",this.model.locale)),o=(this.timePicker._parse(a)-this.timePicker._parse(s))/(6e4*d),o=Math.floor(o)+1,r=h.find("tbody tr td.e-"+i).length,l=o;l<r;l++)n=h.find("tbody tr td.e-"+i)[l],e(n).addClass(c);h.find(".e-arrow-sans-right").addClass("e-disable")}},_setFocusByName:function(t,i,s){var a,o,r=s.find("tbody tr td.e-"+t);return e(r).each((function(e,t){t.innerHTML!=i||(a=e)})),(o=r[a])||(o=r.last()),s.find("table td").removeClass("e-state-hover").removeClass("e-active"),e(o).hasClass("e-hide-"+t)||e(o).addClass("e-state-hover"),this._setActiveState(t,s),a},_setFocusByIndex:function(t,i,s){var a,o=s.find("tbody tr td.e-"+t);return(a=o[i])||(a=o.last()),s.find("table td").removeClass("e-state-hover").removeClass("e-active"),e(a).hasClass("e-hide-"+t)||e(a).addClass("e-state-hover"),this._setActiveState(t,s),i},_setActiveState:function(i,s){var a,o,r=s.find("tbody tr td.e-"+i),l=-1;switch(i){case"hour":this._compareDate(this.model.value,this._datetimeValue)&&(o=this._localizeTime(this.timePicker._createObject("12:00:00 AM"),"HH:00"),d=e.trim(t.format(this.timePicker._createObject(this.model.value),"HH:00",this.model.locale)),l=(this.timePicker._parse(d)-this.timePicker._parse(o))/(6e4*this._interval),l=Math.floor(l));break;case"mins":if(this._compareDate(this.model.value,this._datetimeValue)&&this.model.value.getHours()===this._datetimeValue.getHours()){var n=new Date(this._datetimeValue.toString()).setMinutes(this.model.value.getMinutes()),d=e.trim(t.format(this.timePicker._createObject(n),"HH:mm",this.model.locale)),h=e.trim(t.format(this.timePicker._createObject(n),"HH:00",this.model.locale));l=(this.timePicker._parse(d)-this.timePicker._parse(h))/(6e4*this.model.timeDrillDown.interval),l=Math.ceil(l)}}(a=r[l])&&(s.find("table td").removeClass("e-active"),e(a).removeClass("e-state-hover").addClass("e-active"))},_compareDate:function(e,t){return+new Date(e.toString()).setHours(0,0,0,0)==+new Date(t.toString()).setHours(0,0,0,0)},_updateInput:function(e){var t=+new Date<+this.model.minDateTime||+new Date>+this.model.maxDateTime?this.model.minDateTime:(new Date).setHours(0,0,0,0),i=this._getDate()||new Date(t),s=this._getTime()||this.timePicker._createObject(t);this.model.value=new Date(i.getFullYear(),i.getMonth(),i.getDate(),s.getHours(),s.getMinutes(),s.getSeconds()),this._updateDateTime(),this._raiseChangeEvent(),this._updateModel(e,!0),e&&(e.cancel=!0)},_updateDateTime:function(){this.isValidState=!0;var e=this._objectToString(this.model.value);this.element.val(e),this._removeWatermark()},_refreshTimes:function(e){var i,s,a=this._getDateObj(e.value,this.datePicker.model.dateFormat);if(!a)return!1;this.isValidState=!0,this._compare(a,this._setEmptyTime(this.model.minDateTime))?(i=this._getFormat(this.model.minDateTime,this.timePicker.model.timeFormat),this._getTime(),this.timePicker.option("minTime",i),this.model.enableStrictMode||this._updateInput()):this.timePicker.option("minTime",this._defaultMinVal()),this._compare(a,this._setEmptyTime(this.model.maxDateTime))?(s=this._getFormat(this.model.maxDateTime,this.timePicker.model.timeFormat),this._getTime(),this.timePicker.option("maxTime",s),this.model.enableStrictMode||this._updateInput()):this.timePicker.option("maxTime",this._defaultMaxVal()),this.timePicker._changeActiveEle(),t.isNullOrUndefined(this.model.disableDateTimeRanges)||this._setDisabledTimeRanges(e)},_setDisabledTimeRanges:function(e){var t=e?e.value:this._setEmptyTime(this.model.value);this._between=[],this._initDisableTimeRanges(t),this._datesDisabled||(this._disableBetweenDates(),this.datePicker.option("blackoutDates",this._between))},_defaultMinVal:function(){var e=(new Date).setHours(0,0,0,0);return t.format(this.timePicker._createObject(e),this.timePicker.model.timeFormat,this.timePicker.model.locale)},_defaultMaxVal:function(){var e=(new Date).setHours(23,59,59,59);return t.format(this.timePicker._createObject(e),this.timePicker.model.timeFormat,this.timePicker.model.locale)},_updateValues:function(){var e=this.model.enableStrictMode&&null==this.model.value?this.element.val():this.model.value;null!=this.model.value&&(this.datePicker.option("value",this.model.value),this.timePicker.option("value",this.model.value)),this._setValue(e),this._validateMinMax(),this._preVal=this.element.val(),this._checkErrorClass()},_specificFormat:function(){var i=t.globalize._getDateParseRegExp(t.globalize.findCulture(this.model.locale).calendar,this.model.dateTimeFormat);return e.inArray("dddd",i.groups)>-1||e.inArray("ddd",i.groups)>-1},_changeEditable:function(t){var i=t?"_on":"_off";this.element.is(":input")&&(t?(this.model.readOnly||this.element.attr("readonly",!1),this.element.off("mousedown",e.proxy(this._showhidePopup,this))):(this.model.readOnly||this.element.attr("readonly","readonly"),this.element.on("mousedown",e.proxy(this._showhidePopup,this))),this[i](this.element,"blur",this._targetBlur),this[i](this.element,"focus",this._targetFocus),this[i](this.element,"keydown",this._keyDownOnInput)),this._change("allowEdit",t)},_setValue:function(e){return!e||"object"==typeof JSON&&"{}"===JSON.stringify(e)?(this.element.val(""),this.model.value=null,this.isValidState=!0,this.wrapper.removeClass("e-valid")):"string"==typeof e?this._extISORegex.exec(e)||this._basicISORegex.exec(e)?this._checkObject(this._dateFromISO(e)):(this.element.val(e),this._updateModel(),this._validateMinMax(),this._checkStrictMode(),this.wrapper.addClass("e-valid")):e instanceof Date&&this._isValidDate(e)&&this._checkObject(e),t.isNullOrUndefined(this.model.disableDateTimeRanges)||this._validateDisableRanges(),this._checkErrorClass(),this.model.value},_checkObject:function(e){e instanceof Date&&this._isValidDate(e)&&(this.model.value=e,this._updateDateTime(),this._validateMinMax(),this._checkStrictMode())},_dateFromISO:function(e){var t,i,s,a,o,r,l,n,d,h=this._extISORegex.exec(e)||this._basicISORegex.exec(e),c="",u="",p="";if(h){for(t=0;t<this._dates.length;t++)if(this._dates[t][1].exec(h[1])){c=this._dates[t][0];break}if(h[3])for(i=0;i<this._times.length;i++)if(this._times[i][1].exec(h[3])){u=(h[2]||" ")+this._times[i][0];break}for(h[4]&&this._zeroRegex.exec(h[4])&&(p="Z"),s=(c+u+p).match(this._tokens),o=[],l=0;l<s.length;l++)n=s[l],r=this._checkLiteral(s[l]),d=this._numberRegex[r?s[l].toLowerCase():n.length]||new RegExp("^\\d{1,"+n.length+"}"),(a=e.match(d))&&(e.substr(0,e.indexOf(a))>=0&&!r&&(s[l].indexOf("M")>=0?o.push(parseInt(a[0])-1):o.push(parseInt(a[0]))),e=e.slice(e.indexOf(a[0])+a[0].length));return"Z"==h[4]?new Date(Date.UTC.apply(null,o)):new Date(o[0],o[1],o[2],o[3],o[4],o[5])}return new Date(e+"")},_checkLiteral:function(e){var t=e.toLowerCase();return"t"==t||"z"==t||":"==t||"-"==t},_validateValue:function(e){var s=t.parseDate(e,this.model.dateTimeFormat,this.model.locale),a=null;this.timePicker!=i&&(a=this._getFormat(s,this.timePicker.model.timeFormat)),!s||s<this.model.minDateTime||s>this.model.maxDateTime||!t.isNullOrUndefined(this.timePicker)&&this.timePicker._ensureTimeRange(a)?(this.model.value=null,this._change("value",this.model.value),this.isValidState=!1):(this._change("value",this.model.value),this.isValidState=!0)},_validateMinMax:function(){var e,t,i;if(e=this.model.value?this._stringToObject(this.model.value):null,t=this.model.minDateTime?this._stringToObject(this.model.minDateTime):this.defaults.minDateTime,i=this.model.maxDateTime?this._stringToObject(this.model.maxDateTime):this.defaults.maxDateTime,!e||!t||!i)return!1;t>i&&(this.model.minDateTime=this.model.maxDateTime),e<t&&(this.model.enableStrictMode?this.model.enableStrictMode&&(this.popup&&(this.datePicker.option("minDate",this._getFormat(t,this.datePicker.model.dateFormat)),this.timePicker.option("minTime",this._getFormat(t,this.timePicker.model.timeFormat))),this.isValidState=!1):(this._setValue(t),this.isValidState=!0)),e>i&&(this.model.enableStrictMode?this.model.enableStrictMode&&(this.popup&&(this.datePicker.option("maxDate",this._getFormat(i,this.datePicker.model.dateFormat)),this.timePicker.option("maxTime",this._getFormat(i,this.timePicker.model.timeFormat))),this.isValidState=!1):(this._setValue(i),this.isValidState=!0)),e<t||e>i||(this.isValidState=!0)},_checkProperties:function(){this.model.readOnly&&this._readOnly(!0),this.model.showRoundedCorner&&this._setRoundedCorner(!0),this.model.enableRTL&&this._setRtl(!0),this.model.enabled&&this._enabled(!0),this.model.enabled?this.model.enabled&&this.element.hasClass("e-disable")&&this._enabled(!0):this._enabled(!1),this.model.name=this._options.name?this.model.name:this.element.attr("name")?this.element.attr("name"):this.element[0].id,this.element.attr("name",this.model.name),this._checkStrictMode(),this._checkErrorClass(),this._setWaterMark()},_checkStrictMode:function(){this.model.enableStrictMode?this.model.enableStrictMode&&(this.isValidState||(this.model.value=null,this.isValidState=!1)):this.isValidState||(this.model.value<this.model.minDateTime?(this.element.val(this._objectToString(this.model.minDateTime)),this.model.value=this.model.minDateTime,this.isValidState=!0):this.model.value>this.model.maxDateTime?(this.element.val(this._objectToString(this.model.maxDateTime)),this.model.value=this.model.maxDateTime,this.isValidState=!0):(this.model.value="",this.element.val(""),this.isValidState=!0))},_targetFocus:function(e){e.preventDefault(),this.isFocused=!0,this.wrapper.addClass("e-focus"),this.wrapper.removeClass("e-error"),this._isSupport||this._hiddenInput.css("display","none"),this._prevDateTimeVal=this.element.val(),this.model.showPopupButton||this.model.readOnly||this._showResult(),this.model.showPopupButton||this._on(this.element,"click",this._elementClick),!this.model.showPopupButton&&this.model.readOnly&&this._off(this.element,"click",this._elementClick),this._trigger("focusIn",{value:this.model.value}),this.wrapper.addClass("e-valid")},_targetBlur:function(){var e;this.isFocused=!1,this.wrapper.removeClass("e-focus"),this.model.showPopupButton||this._hideResult(),(e=t.parseDate(this.element.val(),this.model.dateTimeFormat,this.model.locale))&&!this.model.enableStrictMode&&(e<this.model.minDateTime||e>this.model.maxDateTime)&&(e=e<this.model.minDateTime?this.model.minDateTime:this.model.maxDateTime,this.element.val(this._objectToString(e))),null!=t.parseDate(this.element.val(),this.model.dateTimeFormat,this.model.locale)||this.model.enableStrictMode||(null==this._prevDateTimeVal||""==this.element.val()?this.element.val(""):this.element.val(this._preVal)),this._valueChange(),this.model.enableStrictMode?""!=this.element.val()&&this._validateValue(this.element.val()):this.isValidState?this._prevDateTimeVal=this.element.val():(this.element.val(this._prevDateTimeVal),this._preVal=this._prevDateTimeVal,this.model.value=this._stringToObject(this._prevDateTimeVal),this.isValidState=!0),this._isSupport||""!=this.element.val()||this._hiddenInput.css("display","block"),this._checkErrorClass(),this.model.showPopupButton||this._off(this.element,"click",this._elementClick),this._trigger("focusOut",{value:this.model.value}),t.isNullOrUndefined(this.model.value)?this.wrapper.removeClass("e-valid"):this.wrapper.addClass("e-valid"),this._previousDateUpdate()},_previousDateUpdate:function(){return+t.parseDate(this._prevDateTime,this.model.dateTimeFormat)==+t.parseDate(this.element.val(),this.model.dateTimeFormat)||(this._preValString=this._prevDateTime,this._prevDateTime=this.element.val()),this._preValString},_elementClick:function(){this.isPopupOpen||this._showResult()},_keyDownOnInput:function(e){switch(e.keyCode){case 40:e.altKey&&this._showhidePopup();break;case 37:case 39:this.model.timeDrillDown.enabled||e.altKey&&this.isPopupOpen&&(e.preventDefault(),this._addPrevNextFocus(37==e.keyCode));break;case 27:e.preventDefault();case 9:this._hideResult();break;case 13:if(null!=t.parseDate(this.element.val(),this.model.dateTimeFormat)||this.model.enableStrictMode||(null==this._prevDateTimeVal||""==this.element.val()?this.element.val(""):this.element.val(this._preVal)),this._valueChange(),!this.model.timeDrillDown.enabled){this._valueChange(),this.model.enableStrictMode&&this._checkErrorClass();break}}},_addFocus:function(t){t.hasClass("e-focus")||(this._removeFocus(),t.addClass("e-focus"),t.hasClass("e-datepicker e-popup")?e(document).on("keydown",e.proxy(this.datePicker._keyboardNavigation,this.datePicker)):t.hasClass("e-timecontainer")?e(document).on("keydown",e.proxy(this.timePicker._keyDownOnInput,this.timePicker)):t.hasClass("e-time-hours")?e(document).on("keydown",e.proxy(this._keyDownOnHours,this)):t.hasClass("e-time-minitues")?e(document).on("keydown",e.proxy(this._keyDownOnMinutes,this)):t.hasClass("e-dt-button")&&e(document).on("keydown",e.proxy(this._buttonClick,this)))},_removeFocus:function(){var t=this._getFocusedElement();t.length>0&&(t.removeClass("e-focus"),t.hasClass("e-datepicker e-popup")?e(document).off("keydown",e.proxy(this.datePicker._keyboardNavigation,this.datePicker)):t.hasClass("e-timecontainer")?e(document).off("keydown",e.proxy(this.timePicker._keyDownOnInput,this.timePicker)):t.hasClass("e-time-hours")?e(document).off("keydown",e.proxy(this._keyDownOnHours,this)):t.hasClass("e-time-minitues")?e(document).off("keydown",e.proxy(this._keyDownOnMinutes,this)):t.hasClass("e-dt-button")&&e(document).off("keydown",e.proxy(this._buttonClick,this)))},_addPrevNextFocus:function(e){var t,i=this._getFocusedElement();i.length>0?i.hasClass("e-datepicker e-popup")?t=e?this.popup.find(".e-dt-done"):this.popup.find(".e-timecontainer"):i.hasClass("e-timecontainer")?t=e?this.popup.find(".e-datecontainer >.e-datepicker.e-popup"):this.popup.find(".e-dt-today"):i.hasClass("e-dt-today")?t=e?this.popup.find(".e-timecontainer"):this.popup.find(".e-dt-now"):i.hasClass("e-dt-now")?t=e?this.popup.find(".e-dt-today"):this.popup.find(".e-dt-done"):i.hasClass("e-dt-done")&&(t=e?this.popup.find(".e-dt-now"):this.popup.find(".e-datecontainer >.e-datepicker.e-popup")):t=e?this.popup.find(".e-dt-done"):this.popup.find(".e-datecontainer >.e-datepicker.e-popup"),this._addFocus(t)},_getFocusedElement:function(){return this.popup.children("div").find("div.e-focus")},_keyDownOnHours:function(e){var t;if(37==e.keyCode||38==e.keyCode||39==e.keyCode||40==e.keyCode||13==e.keyCode||36==e.keyCode||35==e.keyCode){e.preventDefault&&e.preventDefault(),(t={row:null,col:null}).col=this._sfTimeHour.find("tbody tr td.e-state-hover").index(),t.row=this._sfTimeHour.find("tbody tr td.e-state-hover").parent().index(),t.col=-1!=t.col?t.col+1:this._sfTimeHour.find("tbody tr td.e-active").index()+1,-1!=t.row?(t.row=t.row+1,this.model.timeDrillDown.showMeridian&&this._sfTimeHour.find("tbody tr td.e-state-hover").hasClass("e-hour-pm")&&(t.row=t.row+2)):(t.row=this._sfTimeHour.find("tbody tr td.e-active").parent().index()+1,this.model.timeDrillDown.showMeridian&&this._sfTimeHour.find("tbody tr td.e-active").hasClass("e-hour-pm")&&(t.row=t.row+2)),this._sfTimeHour.find("table")[0].className;var i,s=this._sfTimeHour.find("tbody.e-timepicker-hours tr").length,a=this.model.timeDrillDown.showMeridian?6:4;i=this._changeRowCol(t,e.keyCode,s,a,"hours",e.ctrlKey),e.ctrlKey||(this._hoverHour=this._sfTimeHour.find("tbody.e-timepicker-hours tr td").index(i)),e.ctrlKey||(this._sfTimeHour.find("table td").removeClass("e-state-hover"),i.addClass("e-state-hover"))}},_changeRowCol:function(t,i,s,a,o,r){var l,n,d,h,c,u,p={parent:null,child:null};switch(o){case"hours":l="tbody.e-timepicker-hours tr td.e-hour",p.parent=".e-timepicker-hours",p.child=".e-hour",d=".e-hide-hour",n=this._sfTimeHour;break;case"mins":l="tbody.e-timepicker-mins tr td.e-mins",p.parent=".e-timepicker-mins",p.child=".e-mins",d=".e-hide-mins",a=(n=this._sfTimeMins).find("tbody"+p.parent+" tr:nth-child("+t.row+") td"+p.child).length}if(t.row<=0&&t.col<=0)return n.find(l+":not(.e-disable):first");switch(i){case 36:return n.find(l+":not(.e-disable):first");case 35:return n.find(l+":not(.e-disable):last");case 38:if(r)this._forwardNavHandler(null,n);else{if(!(t.row>1))return this._processNextPrev(!0,n),n.find(l+":nth-child("+t.col+"):last");t.row-=1}if((h=this._getCell(t,p,n).not(d)).length<=0){if(null!==(h=this._findVisible(t,p,"up",n)))return h;this._processNextPrev(!0,n),h=n.find(l+":nth-child("+t.col+"):last")}return h;case 37:if(r)return this._processNextPrev(!0,n),n.find("tbody tr td.e-state-hover");if(t.col>1)t.col-=1;else{if(!(t.row>1))return this._processNextPrev(!0,n),n.find(l+":not(.e-disable):last");t={row:t.row-1,col:a},"mins"==o&&(t.col=a=n.find("tbody"+p.parent+" tr:nth-child("+t.row+") td"+p.child).length)}if((h=this._getCell(t,p,n).not(d)).length<=0){if(null!==(h=this._findVisible(t,p,"left",n)))return h;this._processNextPrev(!0,n),h=n.find(l+":not(.e-disable):last")}return h;case 39:if(r)return this._processNextPrev(!1,n),n.find("tbody tr td.e-state-hover");if(t.col<a)t.col+=1;else{if(!(t.row<s))return this._processNextPrev(!1,n),n.find(l+":not(.e-disable):first");t={row:t.row+1,col:1}}if((h=this._getCell(t,p,n).not(d)).length<=0){if(null!==(h=this._findVisible(t,p,"right",n)))return h;this._processNextPrev(!1,n),h=n.find(l+":not(.e-disable):first")}return h;case 40:if(!r){if(!(t.row<s))return this._processNextPrev(!1,n),n.find(l+":nth-child("+t.col+"):first");if(t.row+=1,(h=this._getCell(t,p,n).not(d)).length<=0){if(null!==(h=this._findVisible(t,p,"down",n)))return h;this._processNextPrev(!1,n),h=n.find(l+":nth-child("+t.col+"):first")}return h}case 13:c=this._getCell(t,p,n),e(c)[0],u={type:null,target:c},"hours"==o&&this._hourNavHandler(u),"mins"==o&&this._minsNavHandler(u)}return this._getCell(t,p,n).not(d)},_getCell:function(t,i,s){var a,o=t.row;return this.model.timeDrillDown.showMeridian&&t.row>2&&s.hasClass("e-time-hours")&&(o-=2),a=s.find("tbody"+i.parent+" tr:nth-child("+o+") td"+i.child+":nth-child("+t.col+")"),this.model.timeDrillDown.showMeridian&&a.length>0&&s.hasClass("e-time-hours")&&(a=t.row<=2?e(a[0]):e(a[1])),a},_findVisible:function(e,t,i,s){for(var a,o=e.col,r=e.row,l=t.child.slice(1,t.child.length),n=0;n>=0;n++){if((a=this._getCell({row:r,col:o},t,s)).length<=0)return null;if(a.hasClass("e-disable")||!a.is(":visible")){if("right"==i||"left"==i?"right"==i?o++:o--:"down"==i?r++:r--,r<=0||r>s.find("tbody"+t.parent+" tr").length||(o>s.find("tbody"+t.parent+" tr:nth-child("+r+") td").length&&(r++,o=1),o<=0&&(r--,o=s.find("tbody"+t.parent+" tr:nth-child("+r+") td").length),r<=0||r>s.find("tbody"+t.parent+" tr").length))return null}else if(a.hasClass(l))return e.col=o,e.row=r,this._getCell(e,t,s)}},_keyDownOnMinutes:function(e){var t;if(37==e.keyCode||38==e.keyCode||39==e.keyCode||40==e.keyCode||13==e.keyCode||36==e.keyCode||35==e.keyCode){e.preventDefault&&e.preventDefault(),(t={row:null,col:null}).col=this._sfTimeMins.find("tbody tr td.e-state-hover").index(),t.row=this._sfTimeMins.find("tbody tr td.e-state-hover").parent().index(),t.col=-1!=t.col?t.col+1:this._sfTimeMins.find("tbody tr td.e-active").index()+1,t.row=-1!=t.row?t.row+1:this._sfTimeMins.find("tbody tr td.e-active").parent().index()+1,this._sfTimeMins.find("table")[0].className;var i,s=this._sfTimeMins.find("tbody.e-timepicker-mins tr").length;i=this._changeRowCol(t,e.keyCode,s,4,"mins",e.ctrlKey),e.ctrlKey||(this._hoverHour=this._sfTimeMins.find("tbody.e-timepicker-mins tr td").index(i)),e.ctrlKey||(this._sfTimeMins.find("table td").removeClass("e-state-hover"),i.addClass("e-state-hover"))}},_valueChange:function(e){this.model.enableStrictMode?this.model.enableStrictMode&&(this._preVal!=this.element.val()||this.model.value<this.model.minDateTime||this.model.value>this.model.maxDateTime)&&(this._updateModel(),this._raiseChangeEvent(e)):(this._preVal!=this.element.val()&&(this._preVal=this.element.val(),this._updateModel(),this._validateMinMax(),this._raiseChangeEvent(e)),this._setWaterMark())},_updateModel:function(e,s){var a,o;this._stopRefresh?this._stopRefresh=!1:""==(a=this.element.val())?(this.model.value=null,this._change("value",this.model.value),this.isValidState=!0):(o=e!=i&&"select"==e.type||this._prevDateTimeVal==this.element.val()?this.model.value:t.parseDate(a,this.model.dateTimeFormat,this.model.locale))?(this.model.value=o,this.isValidState=!0,this._refreshPopup(s),this._specificFormat()&&this._prevDateTimeVal!=this.element.val()&&this.element.val(this._objectToString(this.model.value))):(this.model.value=null,this._change("value",this.model.value),this.isValidState=!1,this.model.enableStrictMode||this.element.val(this._objectToString(this.model.value)))},_refreshPopup:function(e){if(this.isValidState&&this.isPopupOpen){var t=this._setEmptyTime(this.model.value),i=this._setEmptyDate(this.model.value),s=this._getDate(),a=this._getTime();s&&this._compare(s,t)||this.datePicker.option("value",t),a&&this._compare(a,i)||e||this.timePicker.option("value",i)}},_buttonClick:function(e){if(13==e.keyCode){e.preventDefault();var t=this._getFocusedElement();t.hasClass("e-dt-today")?this._todayClick():t.hasClass("e-dt-now")?this._nowClick():t.hasClass("e-dt-done")&&this._doneClick()}},_todayClick:function(){if(!this.model.enabled||this.model.readOnly)return!1;this.datePicker.popup.find(".today").hasClass("e-active")&&this.datePicker.popup.children("table").hasClass("e-dp-viewdays")&&""!=this.element.val()&&this.isValidState||(this.datePicker._setCurrDate(),this._updateInput())},_nowClick:function(){var e;if(!this.model.enabled||this.model.readOnly)return!1;this.timePicker.setCurrentTime();var i=this.model.minDateTime,s=this.model.maxDateTime,a=this.datePicker.model.value,o=new Date;a=t.isNullOrUndefined(a)?new Date:a,(e=new Date(a.getFullYear(),a.getMonth(),a.getDate(),o.getHours(),o.getMinutes(),o.getSeconds()))<i?this.timePicker.option("value",this.timePicker._localizeTime(i)):e>s&&this.timePicker.option("value",this.timePicker._localizeTime(s)),this._updateInput()},_doneClick:function(){this._hideResult()},_iconClick:function(e){e.preventDefault(),this.isFocused||t.isTouchDevice()||this.element.focus(),this._showhidePopup(),this.model.disableDateTimeRanges&&t.isNullOrUndefined(this.model.value)&&this._setDisabledTimeRanges(this.datePicker.model.value),this._isIE9&&this.popup.find(".e-popup-container").css("display","inline-block")},_setInitialSelection:function(){var t,i,s,a,o,r=this.timePicker.ul.find("li");r.hasClass("e-hover")||(i=t=this.timePicker._setEmptyDate(new Date),this.timePicker.minTime&&!this._compareTime(this._createObject(t),this.timePicker.minTime,!0)&&(i=this.timePicker.minTime),this.timePicker.maxTime&&!this._compareTime(this.timePicker.maxTime,this._createObject(t),!0)&&(i=this.timePicker.maxTime),s=r.first().html(),a=(this.timePicker._parse(i)-this.timePicker._parse(s))/(6e4*this.timePicker.model.interval),((o=(a=Math.round(a))==r.length?a:a+1)<0||o>r.length||isNaN(o))&&(o=1),e(this.timePicker.ul.find("li")[o-1]).addClass("e-hover")),this._calcScrollTop()},_calcScrollTop:function(){this.timePicker.ul.outerHeight();var e,t=this.timePicker.ul.find("li").outerHeight();e=t*this.timePicker.ul.find("li.e-hover").index()-(this.timePicker.popupList.outerHeight()-t)/2,this.timePicker.scrollerObj.setModel({scrollTop:e})},_showhidePopup:function(){if(this.model.readOnly)return!1;this.isPopupOpen?this._hideResult():this._showResult()},_showResult:function(){if(this.popup||this._renderDropdown(),this.isPopupOpen||!this.model.enabled||(this._setRtl(this.model.enableRTL),this._setRoundedCorner(this.model.showRoundedCorner),this._trigger("beforeOpen",{element:this.popup})))return!1;this.isPopupOpen=!0,this.element.attr({"aria-expanded":"true"}),this._setListPosition(),this._checkForResponsive();var i=this;this.popup.slideDown(this.model.enableAnimation?200:0,(function(){i._on(e(document),"mousedown",i._OnDocumentClick),i.model.timeDrillDown.enabled&&i._addFocus(i._dateContainer.find(".e-datepicker")),i.timePicker.model.value||i._setInitialSelection()})),this._updateModel(),this._updateTimeHeight(),this._validateMinMax(),this._on(e(window),"resize",this._OnWindowResize),this._on(t.getScrollableParents(this.wrapper),"scroll",this._hideResult),this._on(t.getScrollableParents(this.wrapper),"touchmove",this._hideResult),this._raiseEvent("open"),this._initial&&(this.timePicker._refreshScroller(),this.timePicker._changeActiveEle(),this._initial=!1),this.wrapper.addClass("e-active")},_hideResult:function(i){if(!i||"touchmove"!=i.type&&"scroll"!=i.type||!(e(i.target).parents("#"+this.popup[0].id).length>0)){var s=this;if(!this.isPopupOpen||this._trigger("beforeClose",{element:this.popup}))return!1;if(this.isPopupOpen=!1,this.element.attr({"aria-expanded":"false"}),this._removeFocus(),this._popClose&&i&&"click"!=i.type)return void(this.isPopupOpen=!0);this.popup.slideUp(this.model.enableAnimation?100:0,(function(){s.model&&(s.model.timeDrillDown.enabled&&(s._sfTimeHour.hide(),s._sfTimeMins.hide(),s._dateContainer.show()),t.isNullOrUndefined(s.model.value)||(s._datetimeValue=new Date(s.model.value.toString())))})),this._raiseEvent("close"),this._off(e(document),"mousedown",this._OnDocumentClick),this._off(e(window),"resize",this._OnWindowResize),this._off(t.getScrollableParents(this.wrapper),"scroll",this._hideResult),this._off(t.getScrollableParents(this.wrapper),"touchmove",this._hideResult),this.wrapper.removeClass("e-active")}},_setListPosition:function(){var i,s,a=this.wrapper,o=this._getOffset(a),r=e(document).scrollTop()+e(window).height()-(o.top+e(a).outerHeight()),l=o.top-e(document).scrollTop(),n=this.popup.outerHeight(),d=this.popup.outerWidth(),h=o.left,c=a.outerHeight(),u=(c-a.height())/2,p=this._getZindexPartial(),m=3;this.model.popupPosition,s=this.model.popupPosition==t.PopupPosition.Bottom?(n<r||n>l?o.top+c+m:o.top-n-m)-u:(n>l?o.top+c+m:o.top-n-m)-u,i=e(document).scrollLeft()+e(window).width()-h,(this.model.enableRTL||d>i&&d<h+a.outerWidth())&&(h-=this.popup.outerWidth()-a.outerWidth()),this.popup.css({left:h+"px",top:s+"px","z-index":p})},_getOffset:function(e){return t.util.getOffset(e)},_OnDocumentClick:function(t){this.model&&(e(t.target).is(this.popup)||e(t.target).parents(".e-datetime-popup").is(this.popup)||e(t.target).is(this.wrapper)||e(t.target).parents(".e-datetime-wrap").is(this.wrapper)?(e(t.target).is(this.popup)||e(t.target).parents(".e-datetime-popup").is(this.popup))&&(t.preventDefault(),e(t.target).parents(".e-datepicker").length>0?this._addFocus(e(t.target).parents(".e-datepicker")):e(t.target).parents(".e-timecontainer").length>0?this._addFocus(e(t.target).parents(".e-timecontainer")):e(t.target).hasClass("e-dt-button")?this._addFocus(e(t.target)):e(t.target).parents(".e-time-hours").length>0?this._addFocus(e(t.target).parents(".e-time-hours")):e(t.target).parents(".e-time-minitues").length>0?this._addFocus(e(t.target).parents(".e-time-minitues")):this._removeFocus()):this._hideResult())},_OnWindowResize:function(){this._setListPosition(),this._checkForResponsive(),this._updateTimeHeight()},_raiseChangeEvent:function(i){var s,a,o=t.parseDate(this._prevDateTimeVal,this.model.dateTimeFormat),r=t.parseDate(this.element.val(),this.model.dateTimeFormat);+o==+r?this._prevDateTimeVal!=this.element.val()&&(a={prevDateTime:this._prevDateTimeVal,value:this.element.val(),isValidState:this.isValidState},this._prevDateTimeVal=this.element.val(),this._trigger("_change",a)):(this._preVal=this.element.val(),a={prevDateTime:this._prevDateTimeVal,value:this.element.val(),isInteraction:!i,isValidState:this.isValidState},this.timePicker&&this.timePicker.model?(s=this._getFormat(r,this.timePicker.model.timeFormat),this.timePicker._ensureTimeRange(s)?(this._prevDateTimeVal="",this.model.value=null,this.isValidState=!1):this._prevDateTimeVal=this.element.val()):this._prevDateTimeVal=this.element.val(),this._trigger("_change",a),a.value=""==e.trim(this.element.val())?null:this.element.val(),a.value=this._formatter(this.model.value,this.model.dateTimeFormat),this._trigger("change",a))},_formatter:function(e,i){var s=this._checkFormat(i);return t.format(e,s,this.model.locale)},_raiseEvent:function(e){var i=this._previousDateUpdate();return!(null==this.element||!this.model[e])&&this._trigger(e,{prevDateTime:t.isNullOrUndefined(i||this._preValString)?"":i||this._preValString,value:this.element.val()})},_getDateTimeFormat:function(){var e=t.preferredCulture(this.model.locale).calendar.patterns;this.model.dateTimeFormat||(this.model.dateTimeFormat=e.d+" "+e.t),this.model.timeDisplayFormat||(this.model.timeDisplayFormat=e.t)},_getZindexPartial:function(){return t.util.getZindexPartial(this.element,this.popup)},_checkErrorClass:function(){this.isValidState?this.wrapper.removeClass("e-error"):this.wrapper.addClass("e-error")},_getDate:function(){return this.datePicker.model.value},_getTime:function(){return this._getDateObj(this.timePicker.model.value,this.timePicker.model.timeFormat)},_setEmptyTime:function(e){var t=new Date(e);return t.setMilliseconds(0),t.setSeconds(0),t.setMinutes(0),t.setHours(0),t},_setEmptyDate:function(e){var t=new Date(e);return t.setDate(1),t.setMonth(0),t.setFullYear(2e3),t},_objectToString:function(e){return this._getFormat(e,this.model.dateTimeFormat)},_stringToObject:function(e){return this._getDateObj(e,this.model.dateTimeFormat)},_getFormat:function(e,i){if(e instanceof Date){var s=this._checkFormat(i);return t.format(e,s,this.model.locale)}return e},_checkFormat:function(e){var i=this,s=this._regExp();return e.replace(s,(function(e){return"/"===e&&"/"!==t.preferredCulture(i.model.locale).calendars.standard["/"]?"'/'":e}))},_regExp:function(){return/\/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|gg|g|"[^"]*"|'[^']*'|[/]/g},_getDateObj:function(e,i){var s,a;if("string"!=typeof e)return e;if(s=this._checkFormat(i),null!=(a=t.parseDate(e,s,this.model.locale)))return a;if(""==e||null==e)return null;var o,r=/^\s*(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d).*Z\s*$/.exec(e),l=new Date;return r&&(l=new Date,o=+r[2],l.setUTCFullYear(r[1],o-1,r[3]),l.setUTCHours(r[4],r[5],r[6]),o!=l.getUTCMonth()+1&&l.setTime()),this._isValidDate(l)?l:void 0},_compare:function(e,t){return e&&t&&e.getTime()==t.getTime()},_isValidDate:function(e){return e&&"function"==typeof e.getTime&&isFinite(e.getTime())},_change:function(e,t){this.popup&&(this.datePicker.option(e,t),this.timePicker.option(e,t))},_changeSkin:function(e){this.wrapper.removeClass(this.model.cssClass).addClass(e),this.popup.removeClass(this.model.cssClass).addClass(e),this._change("cssClass",e)},_localize:function(i){var s,a,o;if(this.model.locale=i,t.isNullOrUndefined(this._options.timeDisplayFormat)&&(this.model.timeDisplayFormat=""),t.isNullOrUndefined(this._options.dateTimeFormat)&&(this.model.dateTimeFormat=""),s=["AM","PM"],this._getDateTimeFormat(),this.timePicker.option("timeFormat",this.model.timeDisplayFormat),this._localizedLabels=this._getLocalizedLabels(),t.isNullOrUndefined(this._options)||(t.isNullOrUndefined(this._options.buttonText)||e.extend(this._localizedLabels.buttonText,this._options.buttonText),t.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText)),this._localizedLabelToModel(),this._buttonText(this._localizedLabels.buttonText),(this.isValidState||this.model.value instanceof Date&&this._isValidDate(this.model.value))&&this.element.val(this._objectToString(this.model.value)),this._preVal=this.element.val(),this._change("locale",i),this.model.startDay=this.datePicker.model.startDay,this._validateMeridian(),this._sfTimeHour.empty(),this._renderHourTable(),this.model.timeDrillDown.showMeridian)for(a=0;a<2;a++)o=t.isNullOrUndefined(t.preferredCulture(this.model.locale).calendars.standard[s[a]])?"":t.preferredCulture(this.model.locale).calendars.standard[s[a]][0],e("span.e-hours-meridiantxt-"+s[a].toLowerCase(),this._sfTimeHour).text(o)},_setWaterMark:function(){if(null!=this.element&&this.element.hasClass("e-input"))return this._localizedLabels.watermarkText&&""==this.element.val()&&(this.isValidState=!0,this._checkErrorClass()),this._isSupport||""!=this.element.val()?e(this.element).attr("placeholder",this._localizedLabels.watermarkText):this._hiddenInput.css("display","block").val(this._localizedLabels.watermarkText),!0},_localizedLabelToModel:function(){this.model.watermarkText=this._localizedLabels.watermarkText,this.model.buttonText=this._localizedLabels.buttonText},_readOnly:function(e){this.model.readOnly=e,e?this.element.attr("readonly","readonly"):this.element.prop("readonly",!1),this._change("readOnly",e)},_setRoundedCorner:function(e){e?(this.container.addClass("e-corner"),this.popup&&this.popup.addClass("e-corner")):(this.container.removeClass("e-corner"),this.popup&&this.popup.removeClass("e-corner")),t.isNullOrUndefined(this.datePicker)||this.datePicker.option("showRoundedCorner",e),t.isNullOrUndefined(this.timePicker)||this.timePicker.option("showRoundedCorner",e)},_setRtl:function(e){e?(this.wrapper.addClass("e-rtl"),this.popup&&this.popup.addClass("e-rtl")):(this.wrapper.removeClass("e-rtl"),this.popup&&this.popup.removeClass("e-rtl")),this._change("enableRTL",e)},_enabled:function(e){e?(this.model.enabled=!1,this.enable()):(this.model.enabled=!0,this.disable())},_showButton:function(e){this.model.showPopupButton=e,e?(this.container.addClass("e-padding"),this._renderIcon()):(this.container.removeClass("e-padding"),this.datetimeIcon.remove(),this.datetimeIcon=null)},_buttonText:function(t){e.extend(this.model.buttonText,t),this.popup.find(".e-dt-today").html(this.model.buttonText.today),this.popup.find(".e-dt-now").html(this.model.buttonText.timeNow),this.popup.find(".e-dt-done").html(this.model.buttonText.done),this.popup.find(".e-timecontainer").find(".e-header").html(this.model.buttonText.timeTitle)},_checkForResponsive:function(){if(e(window).outerWidth()>200&&e(window).outerWidth()<=500)this.popup.hasClass("e-dt-responsive")||(this.popup.addClass("e-dt-responsive"),this.timePicker.option("popupWidth",this.datePicker.popup.outerWidth()),this.timePicker.option("popupHeight",98),this.timePicker._refreshScroller(),this.timePicker._changeActiveEle());else if(this.popup.hasClass("e-dt-responsive")){this.popup.removeClass("e-dt-responsive"),this.timePicker.option("popupWidth",this.model.timePopupWidth);var t=this.datePicker.popup.height()-this.popup.find(".e-header").height();this.timePicker.option("popupHeight",t),this.timePicker._refreshScroller(),this.timePicker._changeActiveEle()}},enable:function(){this.model.enabled||(this.element[0].disabled=!1,this.model.enabled=!0,this.element.prop("disabled",!1),this.wrapper.removeClass("e-disable"),this.element.removeClass("e-disable").attr("aria-disabled",!1),this._isSupport||this._hiddenInput.prop("disabled",!1),this.datetimeIcon&&this.datetimeIcon.removeClass("e-disable").attr("aria-disabled",!1),this._isIE8&&this.datetimeIcon&&this.datetimeIcon.children().removeClass("e-disable"),this.popup&&(this.popup.children("div").removeClass("e-disable").attr("aria-disabled",!1),this._change("enabled",!0)))},disable:function(){this.model.enabled&&(this.element[0].disabled=!0,this.model.enabled=!1,this.wrapper.addClass("e-disable"),this.element.addClass("e-disable").attr("aria-disabled",!0),this.element.attr("disabled","disabled"),this._isSupport||this._hiddenInput.attr("disabled","disabled"),this.datetimeIcon&&this.datetimeIcon.addClass("e-disable").attr("aria-disabled",!0),this._isIE8&&this.datetimeIcon&&this.datetimeIcon.children().addClass("e-disable"),this._hideResult(),this._change("enabled",!1),this.popup&&(this.popup.children("div").addClass("e-disable").attr("aria-disabled",!0),this.datePicker.popup.removeClass("e-disable").attr("aria-disabled",!1),this.timePicker.popup.removeClass("e-disable").attr("aria-disabled",!1)))},getValue:function(){return this._objectToString(this.model.value)},setCurrentDateTime:function(){this.model.readOnly||this._setValue(new Date)},show:function(){this._showResult()},hide:function(){this._hideResult()},_wireEvents:function(){this.model.allowEdit&&(this._on(this.element,"focus",this._targetFocus),this._on(this.element,"blur",this._targetBlur),this._on(this.element,"keydown",this._keyDownOnInput)),this.model.allowEdit||(this.element.attr("readonly","readonly"),this.element.on("mousedown",e.proxy(this._showhidePopup,this)))},_getLocalizedLabels:function(){return t.getLocalizedConstants(this.sfType,this.model.locale)}}),t.DateTimePicker.Locale=t.DateTimePicker.Locale||{},t.DateTimePicker.Locale.default=t.DateTimePicker.Locale["en-US"]={watermarkText:"Select datetime",buttonText:{today:"Today",timeNow:"Time Now",done:"Done",timeTitle:"Time"}},t.PopupPosition={Bottom:"bottom",Top:"top"}}(jQuery,Syncfusion),function(e,t,i){t.widget("ejDropDownList","ej.DropDownList",{element:null,model:null,validTags:["select","input"],_addToPersist:["value","text","selectedIndex","selectedItemIndex","selectedItems","selectedIndices","popupWidth","popupHeight","itemValue"],_setFirst:!1,_rootCSS:"e-dropdownlist",angular:{require:["?ngModel","^?form","^?ngModelOptions"]},_requiresID:!0,defaults:{cssClass:"",value:null,htmlAttributes:{},text:null,itemValue:"",itemsCount:0,dataSource:null,delimiterChar:",",query:null,fields:{id:null,text:null,value:null,category:null,groupBy:null,imageUrl:null,imageAttributes:null,spriteCssClass:null,htmlAttributes:null,selected:null,tableName:null},locale:"en-US",watermarkText:null,height:"",loadOnDemand:!1,width:"",popupHeight:"152px",popupWidth:"auto",popupTarget:"body",maxPopupHeight:null,minPopupHeight:"20",maxPopupWidth:null,minPopupWidth:"0",targetID:null,template:null,headerTemplate:null,selectedItemIndex:-1,selectedIndex:-1,disableItemsByIndex:null,enableItemsByIndex:null,selectedItems:[],selectedIndices:[],cascadeTo:null,enablePopupResize:!1,allowVirtualScrolling:!1,virtualScrollMode:"normal",showRoundedCorner:!1,showPopupOnLoad:!1,enableRTL:!1,enabled:!0,filterType:"contains",sortOrder:"ascending",caseSensitiveSearch:!1,showCheckbox:!1,checkAll:!1,uncheckAll:!1,enablePersistence:!1,enableFilterSearch:!1,enableServerFiltering:!1,enableIncrementalSearch:!0,incrementalSearchDelay:500,readOnly:!1,enableAnimation:!1,multiSelectMode:"none",allowGrouping:!1,enableSorting:!1,validationRules:null,validationMessage:null,actionBegin:null,actionComplete:null,actionFailure:null,actionSuccess:null,create:null,popupHide:null,popupShown:null,beforePopupShown:null,beforePopupHide:null,popupResizeStart:null,popupResize:null,popupResizeStop:null,change:null,select:null,dataBound:null,search:null,checkChange:null,cascade:null,destroy:null},dataTypes:{cssClass:"string",itemsCount:"number",watermarkText:"string",template:"string",disableItemsByIndex:"string",enableItemsByIndex:"string",enableIncrementalSearch:"boolean",incrementalSearchDelay:"number",cascadeTo:"string",delimiterChar:"string",showRoundedCorner:"boolean",showPopupOnLoad:"boolean",enableRTL:"boolean",enablePersistence:"boolean",allowVirtualScrolling:"boolean",virtualScrollMode:"enum",enabled:"boolean",readOnly:"boolean",multiSelectMode:"enum",dataSource:"data",query:"data",fields:"data",selectedItems:"array",selectedIndices:"array",enableAnimation:"boolean",allowGrouping:"boolean",enableSorting:"boolean",validationRules:"data",validationMessage:"data",htmlAttributes:"data",locale:"string"},observables:["value","selectedItemIndex","selectedIndex","dataSource"],value:t.util.valueFunction("value"),selectedItemIndex:t.util.valueFunction("selectedItemIndex"),selectedIndex:t.util.valueFunction("selectedIndex"),_dataSource:t.util.valueFunction("dataSource"),enable:function(){this._visibleInput.hasClass("e-disable")&&(this.target.disabled=!1,this.model.enabled=!0,this.container.removeClass("e-disable"),this._visibleInput.removeClass("e-disable"),this.dropdownbutton.removeClass("e-disable"),t.isNullOrUndefined(this.popupListWrapper)||this.popupListWrapper.removeClass("e-disable"),this._isIE8&&this.drpbtnspan.removeClass("e-disable"),this.container.on("mousedown",e.proxy(this._OnDropdownClick,this)),"visualmode"==this.model.multiSelectMode&&this._ulBox.removeClass("e-disable")),this._wireEvents(),this.wrapper.attr("tabindex",0)},disable:function(){this._visibleInput.hasClass("e-disable")||(this.target.disabled=!0,this.model.enabled=!1,this.container.addClass("e-disable"),this._visibleInput.addClass("e-disable"),t.isNullOrUndefined(this.popupListWrapper)||this.popupListWrapper.addClass("e-disable"),this.dropdownbutton.addClass("e-disable"),this._isIE8&&this.drpbtnspan.addClass("e-disable"),"visualmode"==this.model.multiSelectMode&&this._ulBox.addClass("e-disable"),this.container.off("mousedown",e.proxy(this._OnDropdownClick,this)),this._unwireEvents(),this.wrapper.removeAttr("tabindex"),this._isPopupShown()&&this._hideResult())},getValue:function(){return this._visibleInput.val()},_setValue:function(e,i){t.isNullOrUndefined(e)||(this.model.loadOnDemand&&(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),0!=this.ultag.children().length&&this._setDynamicSelectByVal(this,e,i))},_setDynamicSelectByVal:function(e,i,s){e._raiseEvents=!1,t.isNullOrUndefined(e.model.text)||e.unselectItemByText(e.model.text,s),e._raiseEvents=!0,e.model.allowVirtualScrolling&&e._addValue(i),e.selectItemByValue(i)},_addValue:function(e){var i,s,a,o,r,l,n;if(this.model.itemsCount>0&&""!=e&&(this._checkValue=!0,i="object"==typeof e?e:"number"==typeof e?[e]:e.split(this.model.delimiterChar),t.isNullOrUndefined(this._mapFields())||this._mapFields(),this.mapFld._value,t.isNullOrUndefined(this._rawList)||this._addListItems(i,this._rawList,"local"),this._checkValue))if(s=this._dataSource(),t.DataManager&&s instanceof t.DataManager)if(s.dataSource.offline&&s.dataSource.json&&s.dataSource.json.length>0)this._addListItems(i,s.dataSource.json,"remote");else if(a=this,o=e,r=this.model.fields.value?this.model.fields.value:this.model.fields.text,this._isSingleSelect())s.executeQuery(t.Query().select(r,this.model.fields.text).where(r,"equal",o,!1)).done((function(e){a._addListItems(i,e.result,"remote"),a.selectItemByValue(o)}));else for(n=0;n<i.length;n++)s.executeQuery(t.Query().select(r,this.model.fields.text).where(r,"equal",i[n],!1)).done((function(e){l=e.result.slice(0,n),n==i.length&&(a._addListItems(i,l,"remote"),a.selectItemByValue(o))}));else this._addListItems(i,s,"remote")},_addListItems:function(e,t,i){for(var s,a=this.mapFld._value==this.model.fields.value?this.mapFld._value:this.model.fields.text,o=0;o<e.length;o++)for(s=0;s<t.length;s++)"local"==i&&t[s][a]==e[o]&&(this._checkValue=!1),"remote"==i&&t[s][a]==e[o]&&this.addItem(t[s])},_setText:function(e){t.isNullOrUndefined(e)||(this.model.loadOnDemand&&(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),this._raiseEvents=!1,this.unselectItemByText(this.model.text),this._raiseEvents=!0,this.selectItemByText(e))},_setItemValue:function(e){this.model.itemValue=e},_changeWatermark:function(e){if(!this.model.enabled)return!1;this._isWatermark?this._visibleInput.attr("placeholder",e):this._hiddenSpan.text(e)},hidePopup:function(){if(!this.model.enabled)return!1;this.ultag.find("li").length>0&&this._hideResult()},showPopup:function(){if(!this.model.enabled)return!1;(t.isNullOrUndefined(this.ultag)?this.model.loadOnDemand:this.ultag.find("li").length>0)&&this._showResult()},clearText:function(){this._clearTextboxValue(),this._isWatermark||this._setWatermark()},addItem:function(i){var s,a,o,r,l,n;if(this.model.loadOnDemand&&(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),!this.model.enabled||!i||(this._mapFields(),(s=e.isArray(i)?i:[i]).length<1))return!1;for(a=this.mapFld,(o={_id:null,_imageUrl:null,_imageAttributes:null,_spriteCSS:null,_text:null,_value:null,_htmlAttributes:null,_selected:null,_category:null})._id=s[0][a._id]?a._id:"id",o._imageUrl=s[0][a._imageUrl]?a._imageUrl:"imageUrl",o._imageAttributes=s[0][a._imageAttributes]?a._imageAttributes:"imageAttributes",o._spriteCSS=s[0][a._spriteCSS]?a._spriteCSS:"spriteCssClass",o._text=s[0][a._text]?a._text:"text",o._value=s[0][a._value]?a._value:"value",o._htmlAttributes=s[0][a._htmlAttributes]?a._htmlAttributes:"htmlAttributes",o._selected=s[0][a._selected]?a._selected:"selected",o._category=s[0][a._category]?a._category:"groupBy",this._generateLi(s,o),r=this.dummyUl,l=0;l<s.length;l++)this._listItem(s[l],"add");this.model.showCheckbox?this._appendCheckbox(r,!0):this._isSingleSelect()||this._multiItemSelection(r,!0),this._virtualUl.append(e(this.dummyUl).clone(!0)),this.ultag.append(this.dummyUl),this._isPopupShown()&&(n=this.scrollerObj?this.scrollerObj.scrollTop():0,this._refreshScroller(),this.scrollerObj&&this.scrollerObj.option("scrollTop",n))},_toArray:function(i,s){var a;return"function"==typeof i&&(i=t.util.getVal(i)),e.isArray(i)?a=i:"string"==typeof i?s&&("visualmode"==this.model.multiSelectMode||"delimiter"==this.model.multiSelectMode||this.model.showCheckbox)?0==(a=this._getUpdatedListData(i)).length&&(a=[i]):(s||0==(a=this._getUpdatedListData(i)).length)&&(a=[i]):a=[i],a},_trim:function(t){return"string"==typeof t?e.trim(t):t},selectItemByIndex:function(e){this._selectItemByIndex(e)},selectItemsByIndices:function(e){this._selectItemByIndex(e)},_selectItemByIndex:function(i){var s,a,o,r;if(this.model.loadOnDemand&&(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),this.listitems=this._getLi(),this._selectedIndices=e.map(this._selectedIndices,(function(e){return parseInt(e)})),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices,-1==parseInt(i)&&this.model.selectedItems.length>0)this._clearTextboxValue(),this._trigger("change",{text:this._visibleInput[0].value,selectedText:"",selectedValue:"",value:""});else for(s=this._toArray(i,!0),o=0;o<s.length;o++)if(null!=(a=parseInt(s[o]))&&a>=0){if(-1==e.inArray(a,this._selectedIndices))for(r=0;r<this.listitems.length;r++)e(this.listitems[r]).hasClass("e-disable")||r==a&&(this.selectedIndexValue=r,this._activeItem=a,this._enterTextBoxValue())}else!this.model.showCheckbox&&"none"==this.model.multiSelectMode&&this.model.selectedItems.length>0&&(this._clearTextboxValue(),this._trigger("change",{text:this._visibleInput[0].value,selectedText:"",selectedValue:"",value:""}))},unselectItemsByIndices:function(e){this._unselectItemByIndex(e)},unselectItemByIndex:function(e){this._unselectItemByIndex(e)},_unselectItemByIndex:function(i){var s,a,o,r;for(this.model.loadOnDemand&&(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),this._selectedIndices=e.map(this._selectedIndices,(function(e){return parseInt(e)})),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices,a=this._toArray(i,!0),this.listitems=this._getLi(),r=0;r<a.length;r++)for(o=parseInt(a[r]),s=0;s<this.listitems.length;s++)s==o&&(this.selectedIndexValue=s,this._activeItem=o,this._activeItem==this._aselectedItem&&(this._aselectedItem=null),this._removeTextBoxValue())},setSelectedValue:function(e){this.selectItemByValue(e)},selectItemByValue:function(i){var s,a,o;if(this.model.loadOnDemand&&(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),this.listitems=this._getLi(),this.inputSearch&&""!=this.inputSearch.val()&&this.model.enableServerFiltering&&!t.isNullOrUndefined(this._searchresult)){for(a=this.model.fields&&this.model.fields.value?this.model.fields.value:"value",s=0;s<this._searchresult.length;s++)for(o=0;o<this.listitems.length;o++)e(this.listitems[o]).attr("data-value")==this._searchresult[s][a]&&(this._searchresult=null);this.addItem(this._searchresult)}t.isNullOrUndefined(i)?this._clearTextboxValue():(this._unselectText&&(this._unselectText=!1),this._selectUnSelectValue(i,"selectValue"))},_selectUnSelectValue:function(i,s,a,o){for(var r,l,n=this._toArray(i,!0),d=0;d<n.length;d++)for(r=0;r<this.listitems.length;r++)if(e(this.listitems[r]).hasClass("e-disable")||"selectValue"!=s&&"selectText"!=s){if(this._getAttributeValue(this.listitems[r])&&("unselectValue"==s&&(this._selectedValue=this._getAttributeValue(this.listitems[r]),this._selectedValue=this._selectedValue==n[d]),"unselectText"==s&&(this.unselectedTextValue=this._isPlainType(this.popupListItems)?this.popupListItems[r]:this._getField(this.popupListItems[r],this.mapFld._text),this._selectedValue=this.unselectedTextValue==n[d]||o&&this.unselectedTextValue.toString().toLowerCase()==n[d].toString().toLowerCase(),this._selectedValue&&this._boxValue&&this.model.showCheckbox&&this.model.enableFilterSearch&&(this._activeItem=r,this._selectedValue=-1!=this._boxValue.indexOf(e(this._getActiveItem(this._activeItem)).attr("data-value"))&&this._selectedValue)),this._selectedValue)){this._activeItem=r,this._activeItem==this._aselectedItem&&(this._aselectedItem=null),(this._visibleInput.val()!=this._checkedValues||a&&"keyup"==a.type||this.model.enablePersistence)&&this._removeTextBoxValue();break}}else if("selectValue"==s&&(l=t.isNullOrUndefined(this._getAttributeValue(this.listitems[r]))?e(this.listitems[r]).text():this._getAttributeValue(this.listitems[r]),this._selectedValue=l==n[d]),"selectText"==s&&(this.selectedTextValue=this._isPlainType(this.popupListItems)?this.popupListItems[r]:this._getField(this.popupListItems[r],this.mapFld._text),this._selectedValue=this.selectedTextValue==n[d]||o&&this.selectedTextValue.toString().toLowerCase()==n[d].toString().toLowerCase()),this._selectedValue){this._activeItem=r,this._aselectedItem=this._activeItem,this._enterTextBoxValue();break}},unselectItemByValue:function(e){this.model.loadOnDemand&&(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),this.listitems=this._getLi(),this._selectUnSelectValue(e,"unselectValue")},setSelectedText:function(e){this.selectItemByText(e)},selectItemByText:function(e,i){this.model.loadOnDemand&&(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),this.listitems=this._getLi(),this._mapFields(),t.isNullOrUndefined(e)?this._clearTextboxValue():this._selectUnSelectValue(e,"selectText",i)},unselectItemByText:function(e,t,i){this.listitems=this._getLi(),this._mapFields(),this._unselectText=!0,this._selectUnSelectValue(e,"unselectText",t,i)},getSelectedValue:function(){return this.element.val()},getSelectedItem:function(){var e,t=[];for(this.listitems=this._getLi(),e=0;e<this._selectedIndices.length;e++)t.push(this.listitems[this._selectedIndices[e]]);return t},getItemDataByValue:function(e){var i,s,a,o=this._toArray(e,!1),r=this.model.enableServerFiltering?t.isNullOrUndefined(this.resultList)?this._rawList:this._rawList.concat(this.resultList):this._rawList,l=[],n=this.model.fields&&this.model.fields.value?this.model.fields.value:"value";if(o.length>0&&(r.indexOf(o[0])>-1||r.indexOf(Number(o[0]))>-1))for(i=0;i<o.length&&(r.indexOf(o[i])>-1||r.indexOf(Number(o[i]))>-1);i++)l.push({text:o[i],value:o[i]});else for(r.length>0&&t.isNullOrUndefined(r[0][n])&&(a=this.model.fields&&this.model.fields.text?this.model.fields.text:"text",t.isNullOrUndefined(r[0][a])||(n=a)),i=0;i<o.length;i++)for(s=0;s<r.length;s++)(r[s][n]==o[i]||r[s][n]==Number(o[i]))&&l.push(r[s]);return l},getListData:function(){return this._rawList},getSelectedItemsID:function(){return this._selectedItemsID},disableItemsByIndices:function(e){this._getLi().length>0&&this._disableItemByIndex(e)},disableItemByIndex:function(e){this._getLi().length>0&&this._disableItemByIndex(e,!0)},_disableItemByIndex:function(i){var s,a;if(t.isNullOrUndefined(i)||"string"!=typeof i&&"number"!=typeof i||(i=i.toString().split(",")),this._isInteralCall||(this._initDisabledItems=i),!this.model.enabled)return!1;for(this.model.loadOnDemand&&(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),s=this._toArray(i,!1),a=0;a<s.length;a++)null==s[a]||isNaN(parseInt(s[a]))||s.length>0&&!(e.inArray(parseInt(s[a]),this._disabledItems)>-1)&&(e.inArray(s[a],this._disabledItems),this._setClass(this._getLi()[parseInt(s[a])],"e-disable"),this._disabledItems.push(parseInt(s[a])),this.model.disableItemsByIndex=String(this._disabledItems.join(",")));this._prevDisabledItems=this._disabledItems},enableItemsByIndices:function(e){this._enableItemByIndex(e)},enableItemByIndex:function(e){this._enableItemByIndex(e)},_enableItemByIndex:function(i){var s,a,o;for(t.isNullOrUndefined(i)||"string"!=typeof i&&"number"!=typeof i||(i=i.toString().split(",")),this.model.loadOnDemand&&(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),s=this._toArray(i,!1),this.model.enableItemsByIndex=i,o=0;o<s.length;o++)s.length>0&&e.inArray(parseInt(s[o]),this._disabledItems)>-1&&!isNaN(parseInt(s[o]))&&(a=e.inArray(parseInt(s[o]),this._disabledItems),this._removeClass(this._getLi()[parseInt(s[o])],"e-disable"),this._disabledItems.splice(a,1));this.model.enableItemsByIndex=null,this.model.disableItemsByIndex=this._disabledItems.join(this.model.delimiterChar)},_validateDelimiter:function(e){return 1!=this._trim(e).length||/^[a-zA-Z0-9]+$/.test(e)?",":e},_removeText:function(i){var s,a,o,r;this.removeVal=!this.checkChange&&!this.delIconClick||!(this.model.fields.text||this.model.fields.value||this.mapFld._text||this.mapFld._value),this._unselectText&&(this.removeVal=!1,this._unselectText=!1),s=this._getUpdatedListData(this.element[0].value,!0),this.removeVal=(this.checkChange||this.delIconClick)&&(this.model.fields.text||this.model.fields.value),this._unselectText||(this._unselectText=!0),a=this._getUpdatedListData(this._visibleInput[0].value,this.model.selectedIndices.length===this._visibleInput[0].value.split(this.model.delimiterChar).length),this._unselectText=!1,o=this.getItemDataByValue(i)[0],r=this.model.fields&&this.model.fields.text?this.model.fields.text:"text",e.inArray(i,s)>=0&&s.splice(e.inArray(i,s),1),!t.isNullOrUndefined(o[r])&&e.inArray(this._decode(o[r]).toString(),a)>=0&&a.splice(e.inArray(this._decode(o[r]).toString(),a),1),e.inArray(i,this._valueContainer)>=0&&this._valueContainer.splice(e.inArray(i,this._valueContainer),1),!t.isNullOrUndefined(o[r])&&e.inArray(o[r].toString(),this._textContainer)>=0&&this._textContainer.splice(e.inArray(o[r].toString(),this._textContainer),1),this.element[0].value=s.join(this.model.delimiterChar),this._visibleInput[0].value=a.join(this.model.delimiterChar),this.removeVal=!1},_getUpdatedListData:function(e,i){var s,a,o=this.getListData();if(i)if(s=[],this.model.fields.value||this.mapFld._value)s=e.split(this.model.delimiterChar);else for(a=0;a<this.model.selectedIndices.length;a++)s.push(o[this.model.selectedIndices[a]][this.model.fields.text?this.model.fields.text:"text"]);else s=e.split(this.model.delimiterChar);var r,l=0,n=0,d=[],h=[],c="";if(this.model.fields.value||this.model.fields.text?(r=this.model.fields.text,this.removeVal||this._unselectText||(r=this.model.fields.value?this.model.fields.value:r)):(this.mapFld._text||this.mapFld._value)&&(r=this.mapFld._text,this.removeVal||this._unselectText||(r=this.mapFld._value?this.mapFld._value:r)),!t.isNullOrUndefined(o))for(;l<o.length;){if(c=i?r?this._decode(o[l][r]):this._decode(o[l].text?o[l].text:o[l]):r?this._decode(o[l][r]):this._decode(o[l].value?o[l].value:o[l]),-1!==s.indexOf(c))i&&(s[s.indexOf(c)]=n),d.push(c),n++;else if(!i&&""===s)break;l++}for(l=0;l<n;)i?h[s.indexOf(l)]=d[l]:h[l]=d[l],l++;return h},_addText:function(t){var i,s,a,o,r,l,n,d;if(this._checkContains(this._hiddenValue)||this.value()&&this.value().split(",").indexOf(t)>0)return!1;for(i=["element","_visibleInput"],a=0;a<i.length;a++)s="element"==i[a]?this._hiddenValue:t,o="element"==i[a]?this._valueContainer:this._textContainer,this[i[a]][0].value&&""!=this[i[a]][0].value?(d=this[i[a]][0].value.split(this.model.delimiterChar),"element"==i[a]&&-1===e.inArray(s,d)?d.push(s):"_visibleInput"==i[a]&&(r=this.model.fields.text?this.model.fields.text:"text",-1!=e.inArray(s,d)?(l=this.popupListItems.filter((function(e){return e[r]==s})),n=d.filter((function(e){return e==s})),l.length>n.length&&d.push(s)):d.push(s)),this[i[a]][0].value=d.join(this.model.delimiterChar)):""==s?this[i[a]][0].value=s:""!=s&&""==this[i[a]][0].value&&(-1!=e.inArray("",o)?((d=this[i[a]][0].value.split(this.model.delimiterChar)).push(s),this[i[a]][0].value=d.join(this.model.delimiterChar)):this[i[a]][0].value=s),o.push(s)},_checkContains:function(e){if(this.contains=!1,this._rawList!==i&&(null!==this.model.dataSource||this.selectOptions!==i||null!==this.model.targetID))for(var t=0;t<this._valueContainer.length;t++)if(this._parseValue(this._valueContainer[t])===this._parseValue(e)){this.contains=!0;break}return this.contains},_parseValue:function(e){return isNaN(parseInt(e))||this.mapFld&&"string"==typeof this._rawList[0][this.mapFld._value]?e:parseInt(e)},_updateLocalConstant:function(){this._localizedLabels=t.getLocalizedConstants("ej.DropDownList",this.model.locale)},_init:function(){var i=t.browserInfo();this._updateLocalConstant(),this._isIE8="msie"==i.name&&"8.0"==i.version,this._textContent=this._isIE8?"innerText":"textContent",(this.element.is("input")&&(this.element.is("input[type=text]")||!this.element.attr("type"))||this.element.is("select"))&&(this._isWatermark="placeholder"in e(document.createElement("input")).attr("placeholder","")[0],this._id=this.element[0].id,this._initialize(),this._render(),this._addAttr(this.model.htmlAttributes),this._enabled(this.model.enabled),this._initValue=!1,this._checkboxValue=!1,this._unselectText=!1,null!=this.model.validationRules&&(this._initValidator(),this._setValidation()))},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var i,s,a,o,r;if(0!=this.element.closest("form").length)for(a in this.element.rules("add",this.model.validationRules),(i=this.element.closest("form").data("validator"))||(i=this.element.closest("form").validate()),s=this.element.attr("name"),i.settings.messages[s]={},this.model.validationRules)if(o=null,!t.isNullOrUndefined(this.model.validationRules[a])){if(t.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[a]))for(r in i.settings.messages[s][a]=e.validator.messages[a],this.model.validationMessage)a==r&&(o=this.model.validationMessage[a]);else o=this.model.validationRules.messages[a];i.settings.messages[s][a]=null!=o?o:e.validator.messages[a]}},_setInitialPopup:function(e){this.model.enabled&&!this.model.readOnly&&(0==e?this._hideResult():this._showResult())},_changeSkin:function(e){this.wrapper.removeClass(this.model.cssClass).addClass(e),t.isNullOrUndefined(this.popupListWrapper)||this.popupListWrapper.removeClass(this.model.cssClass).addClass(e)},_setRTL:function(e){this.model.enableRTL!=e&&(this.model.enableRTL=e,this._RightToLeft(),t.isNullOrUndefined(this.popupListWrapper)||this._dropbtnRTL())},_changeHeight:function(e){this.wrapper.height(e),this._setListHeight()},_changeWidth:function(e){this.wrapper.width(e),this._setListWidth()},_setModel:function(s){var a,o,r,l,n;for(a in s)switch(a){case"dataSource":if(!this._isEqualDataSource(t.util.getVal(s[a]))){this.model.loadOnDemand&&((o=e("#"+this.element[0].id+"_popup_wrapper").get(0))&&e(o).remove(),this.popupListWrapper=i,this.inputSearch=i),this._checkModelDataBinding(t.util.getVal(s[a]),this.model.query),this._refreshScroller();break}case"query":this._checkModelDataBinding(this._dataSource(),s[a]);break;case"fields":this.model.fields=e.extend(this.model.fields,s[a]),this._checkModelDataBinding(this._dataSource(),this.model.query);break;case"itemsCount":this.model.itemsCount=s[a],this._checkModelDataBinding(this._dataSource(),this.model.query);break;case"template":this.model.template=s[a],this._checkModelDataBinding(this._dataSource(),this.model.query);break;case"value":this._optionValue=t.util.getVal(s[a]),(t.isNullOrUndefined(this._optionValue)||""===this._optionValue)&&this._clearTextboxValue(),t.isNullOrUndefined(this._optionValue)||""===this._optionValue?this._clearTextboxValue():(this._checkedValues.push(s.value),this._setValue(t.util.getVal(s[a])),s[a]=this.model.value);break;case"incrementalSearchDelay":this.model.incrementalSearchDelay=s[a];break;case"delimiterChar":r=this.model.delimiterChar,s[a]=this._validateDelimiter(s[a]),this.model.delimiterChar=s[a],this._isSingleSelect()||(this.model.text&&(this.model.text=this.model.text.split(r).join(this.model.delimiterChar),this._visibleInput.val(this.model.text)),t.isNullOrUndefined(this.value())||(this.value(this.value().split(r).join(this.model.delimiterChar)),this.element.val(this.value())));break;case"text":t.isNullOrUndefined(s[a])||""===s[a]?this._clearTextboxValue():(this._setText(s[a]),s[a]=this.model.text);break;case"itemValue":this._setItemValue(s[a]);break;case"enableRTL":this._setRTL(s[a]);break;case"enabled":this._enabled(s[a]);break;case"height":this._changeHeight(s[a]);break;case"width":this._changeWidth(s[a]);break;case"popupHeight":this.model.popupHeight=s[a],this._setListHeight(s[a]);break;case"popupWidth":this.model.popupWidth=s[a],this._setListWidth();break;case"minPopupHeight":this.model.minPopupHeight=s[a],this._setListHeight(s[a]);break;case"minPopupWidth":this.model.minPopupWidth=s[a],this._setListWidth();break;case"maxPopupHeight":this.model.maxPopupHeight=s[a],this._setListHeight(s[a]);break;case"maxPopupWidth":this.model.maxPopupWidth=s[a],this._setListWidth();break;case"popupTarget":this.model.popupTarget=s[a],this._renderPopupPanelWrapper();break;case"cssClass":this._changeSkin(s[a]);break;case"showCheckbox":this.model.showCheckbox=s[a],l=this.model.text,n=this.model.text?this.model.text.split(this.model.delimiterChar):this.model.text,this._raiseEvents=!1,this._clearTextboxValue(),this._raiseEvents=!0,this._checkboxHideShow(s[a]),this.model.showCheckbox||"none"!=this.model.multiSelectMode?("visualmode"==this.model.multiSelectMode&&this._renderBoxModel(),this._setText(l)):n&&n.length&&this._setText(n[0]),this._isPopupShown()&&this._setListPosition();break;case"checkAll":return this._setCheckAll(s[a]),!1;case"uncheckAll":return this._setUncheckAll(s[a]),!1;case"watermarkText":this._changeWatermark(s[a]);break;case"validationRules":0!=this.element.closest("form").length&&(null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessage=null),this.model.validationRules=s[a],null!=this.model.validationRules&&(this._initValidator(),this._setValidation()));break;case"locale":this.model.locale=s[a],this._updateLocalConstant();break;case"validationMessage":0!=this.element.closest("form").length&&(this.model.validationMessage=s[a],null!=this.model.validationRules&&null!=this.model.validationMessage&&(this._initValidator(),this._setValidation()));break;case"showRoundedCorner":this._roundedCorner(s[a]),this.model.showRoundedCorner=s[a];break;case"showPopupOnLoad":this._setInitialPopup(s[a]);break;case"targetID":this.model.targetID=s[a],this._showFullList();break;case"selectedItemIndex":case"selectedIndex":this._selectItemByIndex(s[a]),this.model.selectedItemIndex=this.model.selectedIndex=s[a];break;case"unselectItemByIndex":this._unselectItemByIndex(s[a]);break;case"disableItemsByIndex":this._disableItemByIndex(s[a]);break;case"enableItemsByIndex":this._enableItemByIndex(s[a]);break;case"selectedItems":case"selectedIndices":this._selectCheckedItem(s[a]),s[a]=this.model.selectedItems=this.model.selectedIndices=this._selectedIndices;break;case"multiSelectMode":"visualmode"==this.model.multiSelectMode&&(this._swapUlandInput(!1),this._ulBox.remove(),this._ulBox=null),this.model.multiSelectMode=s[a],l=this.model.text,n=this.model.text?this.model.text.split(this.model.delimiterChar):this.model.text,this._raiseEvents=!1,this._clearTextboxValue(),this._raiseEvents=!0,this.model.showCheckbox||"none"!=this.model.multiSelectMode?("visualmode"==this.model.multiSelectMode&&this._renderBoxModel(),this._setText(l)):(this._setText(n[0]),this.wrapper.find("input[name="+this._name+"]").remove()),this._isPopupShown()&&this._setListPosition();break;case"allowGrouping":this._setGroupingAndSorting("allowGrouping",s[a]);break;case"enableSorting":this._setGroupingAndSorting("enableSorting",s[a]);break;case"htmlAttributes":this._addAttr(s[a]);break;case"enablePopupResize":this.model.enablePopupResize=s[a],s[a]?this._enablePopupResize():this.popupListWrapper.removeClass("e-resizable").find(".e-resizebar").remove()&&this._hideResult();break;case"enableFilterSearch":if(s[a]){this.model.enableFilterSearch=!0,this._enableSearch();break}this._removeSearch();case"enableServerFiltering":this._enableSearch()}},_clearTextboxValue:function(){this.element.val(""),this._visibleInput.val(""),this._updateValue(""),this._valueContainer=[],this._boxValue=[],this._textContainer=[],this.selectedTextValue=this._selectedValue=this._hiddenValue=this.model.itemValue="",this._updateText(),this.selectedIndexValue=this._hiddenDelimiterIndex=this._activeItem=-1,this._selectedItemsID=[],this._selectedIndices=[],this.model.selectedItems=[],this.model.selectedIndices=[],this.selectedIndex(null),t.isNullOrUndefined(this.ultag)||(this.ultag.children("li").removeClass("e-hover").removeClass("e-active"),this.model.showCheckbox&&this._resetCheck()),0!=this.wrapper.find("ul.e-ul.e-boxes").length&&(this._ulBox.children("li").remove(),""===this._name?this.wrapper.find("input:hidden[id^='#']").remove():this.wrapper.find("input:hidden[id^='#'][name="+this._name+"]").remove(),e(this.element).attr("name",this._name))},_destroy:function(){this.selectOptions?(!this._dataSource()&&this.docbdy?this.docbdy.append(this.selectOptions.removeClass("e-dropdownlist e-js").show()).show():this.selectOptions.insertAfter(this.wrapper).removeClass("e-dropdownlist e-js").show(),this.element.remove()):(this.element.insertAfter(this.wrapper),this.element.width(this.element.width()+this.dropdownbutton.outerWidth()),this._visibleInput.removeClass("e-input "),this._setAttr(this.element[0],{accesskey:this.wrapper.attr("accesskey"),type:"text"}),this._isWatermark&&this._visibleInput.removeAttr("placeholder"),this.element[0].value="",this.element.removeAttr("aria-expanded aria-autocomplete aria-haspopup aria-owns accesskey role").css({width:"",display:"block"}),!this._dataSource()&&this.docbdy&&this.ultag.find("li").removeClass("e-active")&&this.docbdy.append(this.ultag.html()).show()),this.wrapper.remove(),this.container.off("mousedown",e.proxy(this._OnDropdownClick,this)),this._hideResult(),this.popupPanelWrapper.remove(),this._unwireEvents()},_finalize:function(){""==this.value()&&""!==this._visibleInput[0].value&&this._updateValue(this.element[0].value),(t.isNullOrUndefined(this.value())||""!=this.value())&&this.value()===this.element.val()||this._setValue(this.value()),(t.isNullOrUndefined(this.model.text)||""!=this.model.text)&&this.model.text==this._visibleInput.val()||this._setText(this.model.text),this.selectedIndex(-1!=this.selectedIndex()?this.selectedIndex():this.selectedItemIndex()),-1!=this.selectedIndex()?this._selectItemByIndex(this.selectedIndex()):this._selectedIndices.length>0&&this._selectCheckedItem(this._selectedIndices),null!=this.model.disableItemsByIndex&&this._disableItemByIndex(this.model.disableItemsByIndex),null!=this.model.enableItemsByIndex&&this._enableItemByIndex(this.model.enableItemsByIndex)},_initialize:function(){this._selectedIndices=this.model.selectedIndices.length>0?this.model.selectedIndices:this.model.selectedItems,this.model.selectedItems=this.model.selectedIndices=this._selectedIndices,this.model.selectedIndex=-1!=this.model.selectedIndex?this.model.selectedIndex:this.model.selectedItemIndex,this.element.is("select")&&(this.selectelement=!0,this._renderSelectToDropdown()),this._initDisabledItems=[],this._isInteralCall=!1,this._prevSearchValue="",this._selectedItemsID=[],this._hiddenInputElement=[],this._boxValue=[],this._valueContainer=[],this._textContainer=[],this._checkedValues=[],this.target=this.element[0],this._disabledItems=[],this._queryString=null,this.suggLen=0,this._itemId=null,this.checkedStatus=!1,this._incqueryString="",this._activeItem=null,this.ddWidth=0,this._initValue=!0,this._virtualCount=0,this._raiseEvents=!0,this.popUpShow=!1,this._matchedListItems=[],this._prevQueryString=""},_renderSelectToDropdown:function(){var i,s,a,o;if(this.inputElement=t.buildTag("input.e-dropdownlist#"+this._id+"_input","",{},{type:"text","data-role":"none"}),this.inputElement.insertAfter(this.element),this.element.attr("name")&&(this.inputElement.attr("name",this.element.attr("name")),this.element.removeAttr("name")),this.selectOptions=this.element,this.selectOptions.attr("id",this._id),null==this._dataSource()){for(this.optionDiv=t.buildTag("div#"+this._id+"_list"),this.optionDiv.insertAfter(this.inputElement),this.optionUl=t.buildTag("ul"),this.optionDiv.append(this.optionUl),this.selectOptionItems=this.element.children("option"),s=this.selectOptionItems.length,this.optionDummyUl=e(),i=0;i<s;i++)o=this.selectOptionItems[i],null!=(a=e(o).attr("label")?e(o).attr("label"):o.innerHTML)&&(this.optionLi=t.buildTag("li",a,{},{"data-value":o.value,unselectable:"on"}),this.optionDummyUl.push(this.optionLi[0]),e(o).attr("selected")&&this.model.showCheckbox&&(-1==e.inArray(i,this._selectedIndices)?(this._selectedIndices.push(i),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices):t.isNullOrUndefined(this.selectedIndex())&&this.selectedIndex(i)));this.optionUl.append(this.optionDummyUl)}this.element.css("display","none"),this.element=this.inputElement},_render:function(){var i,s;this._renderDropdown(),this._setWatermark(),this.model.loadOnDemand&&(!this._dataSource()||0!==this._dataSource().length&&this._dataSource().length<1)&&(i=this.element.parents().last(),this.docbdy=this.model.targetID?i.find("#"+this.model.targetID):this.optionDiv?this.optionDiv:null,this.itemsContainer="UL"==this.docbdy[0].nodeName?this.docbdy:this.docbdy.children("ol,ul"),this.itemsContainer.css("display","none")),this.model.loadOnDemand||(this._renderPopupPanelWrapper(),this._showFullList()),this._roundedCorner(this.model.showRoundedCorner),s=this._dataSource(),t.DataManager&&s instanceof t.DataManager?s.dataSource.offline&&s.dataSource.json&&s.dataSource.json.length>0&&this._finalize():this._finalize(),t.DataManager&&this._dataSource()instanceof t.DataManager||this._finalize(),this.model.loadOnDemand&&t.DataManager&&this._dataSource()instanceof t.DataManager&&!this._dataSource().dataSource.offline&&this._finalize(),this._setCheckAll(this.model.checkAll),(this.element.attr("disabled")||e(this.selectOptions).attr("disabled"))&&this.disable(),this.model.loadOnDemand&&this.model.showPopupOnLoad&&this._showResult()},_isEqualDataSource:function(e){var i,s,a;if(!this._dataSource()||!e||this._rawList&&this._rawList.length!==e.length||t.DataManager&&e instanceof t.DataManager||t.isNullOrUndefined(this._rawList)||0===this._dataSource().length)return!1;for(i=!0,s=0,a=this._dataSource().length;s<a;s++)if(this._dataSource()[s]!==e[s]){i=!1;break}return i},_checkModelDataBinding:function(e,i){this.element.val(""),this._visibleInput.val(""),null!==this.value()&&""!==this.value()&&this._updateValue(""),this.selectedTextValue=this._selectedValue=this._hiddenValue="",this._updateText(),this.selectedIndexValue=this._hiddenDelimiterIndex=this._activeItem=-1,this._selectedItemsID=[],this._textContainer=[],this._valueContainer=[],t.isNullOrUndefined(e)&&t.isNullOrUndefined(this.model.query)&&t.isNullOrUndefined(this.model.template)&&0==this.model.itemsCount&&(this._rawList=[],this.popupListItems=[],this.listitems=[],this.ultag=this.popupListWrapper.find(".e-ul")),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices=[],this.model.selectedIndex=this.model.selectedItemIndex=-1,"visualmode"==this.model.multiSelectMode&&this._destroyBoxModel(),JSON.stringify(this._dataSource())!=JSON.stringify(e)&&this._dataSource(e),this.model.query=i,t.isNullOrUndefined(this.ultag)||this.ultag.empty(),this._showFullList()},_initDataSource:function(e){var i=this;t.DataManager&&e instanceof t.DataManager&&(i._addLoadingClass(),i._trigger("actionBegin",{requestFrom:"default"})||e.executeQuery(this._getQuery()).done((function(e){i._trigger("actionSuccess",{e:e,requestFrom:"default"}),i._totalCount=e.count,i._listItem(e.result),i._removeLoadingClass(),i._renderPopupList(),i._finalize(),i._setDynamicSelectByVal(i,i._optionValue,e),this._optionValue=null})).fail((function(e){i._dataSource(null),i._addLoadingClass(),i._trigger("actionFailure",{e:e,requestFrom:"default"})})).always((function(e){i._trigger("actionComplete",{e:e,requestFrom:"default"})})))},_listItem:function(t,i){"add"==i?(this.popupListItems.push(t),this._rawList.push(t)):e.isArray(t)&&(this.popupListItems=t.slice(0),this._rawList=t.slice(0))},_getQuery:function(e){var i,s,a,o=this.model.fields,r=t.Query();if(!t.isNullOrUndefined(this.model.query)||this.model.template||e)this.model.query&&(r=this.model.query.clone());else{for(a in s=[],o)"tableName"!==a&&o[a]&&s.push(o[a]);s.length>0&&r.select(s)}return this.model.allowVirtualScrolling&&r.requiresCount(),this.model.itemsCount>0&&r.take(this.model.itemsCount),i=this._dataSource().dataSource,o&&(i&&i.url&&!i.url.match(o.tableName+"$")||i&&!i.url||!i)&&(t.isNullOrUndefined(o.tableName)||r.from(o.tableName)),r},_addLoadingClass:function(){this._isPopupShown()?this.popupListWrapper.addClass("e-load"):(this.dropdownbutton.addClass("e-load"),this.drpbtnspan.removeClass("e-icon e-arrow-sans-down")),this._readOnly=!0},_removeLoadingClass:function(){this.dropdownbutton.removeClass("e-load"),this.drpbtnspan.addClass("e-icon e-arrow-sans-down"),this._readOnly=!1,t.isNullOrUndefined(this.popupListWrapper)||this.popupListWrapper.removeClass("e-load")},_renderDropdown:function(){if(this.wrapper=t.buildTag("span.e-ddl e-widget "+this.model.cssClass+"#"+this._id+"_wrapper","",{},{accesskey:this.element.attr("accesskey"),role:"listbox","aria-expanded":!1,"aria-haspopup":!0,"aria-owns":this._id+"_popup",tabIndex:"0"}),this.container=t.buildTag("span.e-in-wrap e-box #"+this._id+"_container"),this.element.removeAttr("accesskey"),null==this.model.value&&null!=this.element.attr("value")&&(this.model.value=this.element.attr("value")),this.element.attr("value","").val(""),this._isIE8?this._setAttr(this.element[0],{unselectable:"on"}).element.hide():this._setAttr(this.element[0],{type:"hidden",unselectable:"on"}).element.hide(),this.drpbtnspan=t.buildTag("span.e-icon e-arrow-sans-down","",{},{"aria-label":"select",unselectable:"on"}),this.dropdownbutton=t.buildTag("span.e-select#"+this._id+"_dropdown","",{},{role:"button",unselectable:"on"}).append(this.drpbtnspan),this.container.insertAfter(this.element),this.container.append(this.element),this.container.append(this.dropdownbutton),this.wrapper.insertBefore(this.container),this.wrapper.append(this.container),this.selectelement&&this.selectOptions.insertBefore(this.element),this._visibleInput=t.buildTag("input#"+this._id+"_hidden","",{}).insertAfter(this.element),this._visibleInput.addClass("e-input "),this._setAttr(this._visibleInput[0],{readonly:"readonly",tabindex:"-1","data-role":"textbox"}),!this._isWatermark){var i=null!=this.model.watermarkText?this.model.watermarkText:this._localizedLabels.watermarkText;this._hiddenSpan=t.buildTag("span.e-input e-placeholder ").insertAfter(this.element),this._hiddenSpan.text(i),this._hiddenSpan.css("display","none"),this._hiddenSpan.on("mousedown",e.proxy(this._OnDropdownClick,this))}this._checkNameAttr(),this._setDimentions(),this._RightToLeft(),this.ddWidth=this.dropdownbutton.outerWidth()>0?this.dropdownbutton.outerWidth():24,this.container.on("mousedown",e.proxy(this._OnDropdownClick,this))},_checkNameAttr:function(){this._name=t.isNullOrUndefined(this.element.attr("name"))?this._id:this.element.attr("name"),this.element.attr("name",this._name)},_addAttr:function(i){var s=this;e.map(i,(function(i,a){var o=a.toLowerCase();"class"==o?s.wrapper.addClass(i):"disabled"==o&&"disabled"==i?s.disable():"readOnly"==o&&"readOnly"==i?s.model.readOnly=!0:"style"==o?s.wrapper.attr(a,i):"name"==o?e(s.element).attr(a,i):t.isValidAttr(s._visibleInput[0],a)?e(s._visibleInput).attr(a,i):s.wrapper.attr(a,i)}))},_renderBoxModel:function(){if(!t.isNullOrUndefined(this._ulBox)||"visualmode"!=this.model.multiSelectMode)return!1;this._ulBox=t.buildTag("ul.e-ul e-boxes"),this.container.prepend(this._ulBox),this._ulBox.css("min-height","30px"),this._ulBox.css("display","none"),this._on(this.container,"click",(function(t){if(!this.model.enabled)return!1;var i=e(t.target);i.hasClass("e-options")&&(!t.ctrlKey&&i.siblings().hasClass("e-active")&&this._removeActive(),i.hasClass("e-active")?i.removeClass("e-active"):i.addClass("e-active")),!t.ctrlKey&&i.hasClass("e-boxes")&&this._removeActive()}))},_renderPopupPanelWrapper:function(){var i=e("#"+this.element[0].id+"_popup_wrapper").get(0);i&&e(i).remove(),this.popupPanelWrapper=t.buildTag("div#"+this._id+"_popup_wrapper"),e(this.model.popupTarget).append(this.popupPanelWrapper),this.popupListWrapper=t.buildTag("div.e-ddl-popup e-box e-widget  e-popup#"+this._id+"_popup_list_wrapper","",{display:"none",overflow:"hidden"}),this._setAttr(this.popupListWrapper[0],{"data-role":"popup","aria-hidden":!0}),this.popupList=t.buildTag("div",{tabIndex:0}),this.popupListWrapper.addClass(this.model.cssClass),this.popup=this.popupList,this.popupScroller=t.buildTag("div"),t.isNullOrUndefined(this.ultag)&&(this.ultag=t.buildTag("ul.e-ul","",{},{role:"listbox"})),this._setAttr(this.ultag[0],{id:this._id+"_popup","aria-hidden":!0,unselectable:"on"}),this.popupScroller.append(this.ultag),this.popupList.append(this.popupScroller),this.model.headerTemplate&&(this.headerTemplate=e("<div>").append(this.model.headerTemplate),this.popupListWrapper.append(this.headerTemplate)),this.popupListWrapper.append(this.popupList),this.popupPanelWrapper.append(this.popupListWrapper),this.ultag.on({mouseenter:e.proxy(this._OnMouseEnter,this),mouseleave:e.proxy(this._OnMouseLeave,this),click:e.proxy(this._OnMouseClick,this)},"li:not('.e-category')"),t.isTouchDevice()&&this.ultag.on({tap:e.proxy(this._OnMouseEnter,this)},"li:not('.e-category')"),e(window).on("resize",e.proxy(this._OnWindowResize,this))},_updateText:function(){var e=this._visibleInput.val();this.model.text=""==e?0==this._textContainer.length?null:"":e},_updateValue:function(e){this.value(""==e?0==this._valueContainer.length?null:"":e)},_setGroupingAndSorting:function(e,t){var i,s,a;if(this.model[e]=t,i=this.model.text,this._updateValue(""),this._selectedIndices=[],this.ultag.empty(),this._showFullList(),this.model.showCheckbox&&i)for(s=i.split(this.model.delimiterChar),a=0;a<s.length;a++)this.selectItemByText(s[a]);else this.selectItemByText(i)},_setSortingList:function(){var t,i,s=document.createElement("ul");if(e(s).append(this.itemsContainer.children()),this.model.allowGrouping||e(s).find(">.e-category").length>0)for(this.popupListWrapper.addClass("e-atc-popup"),t=0;t<e(s).find(">.e-category").length;t++)i=e(s).find(">.e-category").eq(0).first().nextUntil(".e-category").get(),this._setSortList(s,i);else e(s).children(">.e-category").remove(),i=e(s).children("li").get(),this._setSortList(s,i);this.itemsContainer=e(s)},_setSortList:function(t,i){i.sort((function(t,i){var s=e(t).text().toUpperCase(),a=e(i).text().toUpperCase();return s<a?-1:s>a?1:0})),"descending"==this.model.sortOrder&&i.reverse(),(this.model.allowGrouping||e(t).find(">.e-category").length>0)&&(e(t).append(e("<li>").text(e(t).find(">.e-category").eq(0).text()).addClass("e-category")),e(t).find(">.e-category").eq(0).remove()),e.each(i,(function(i,s){e(t).append(s)}))},_renderPopupList:function(){this._doDataBind(),this.model.loadOnDemand&&t.DataManager&&this._dataSource()instanceof t.DataManager&&!this._dataSource().dataSource.offline&&this.model.showCheckbox&&this._checkboxHideShow(this.model.showCheckbox),(t.isNullOrUndefined(this.scrollerObj)||null==this._ulBox)&&this._renderRemaining(),this.model.loadOnDemand&&this.popUpShow&&t.DataManager&&this._dataSource()instanceof t.DataManager&&!this._dataSource().dataSource.offline&&(this._refreshPopup(),this._refreshScroller())},_renderRemaining:function(){var i=this;t.isNullOrUndefined(this.popupListWrapper)||this._dropbtnRTL(),this.model.enableFilterSearch&&this._enableSearch(),this.model.enablePopupResize&&this._enablePopupResize(),this.model.allowVirtualScrolling&&"normal"==this.model.virtualScrollMode&&this._totalCount&&this._totalCount>0&&(this._totalHeight=29*this._totalCount,this._totalPages=this._totalCount/(29*this.model.itemsCount),this._loadedItemHeight=29*this._getLi().length,this._getLi().attr("page",0),this._virtualPages=[0],this.ultag.append(e("<span>").addClass("e-virtual").css({height:this._totalHeight-this._loadedItemHeight,display:"block"}))),this._virtualUl=this.ultag.clone(!0),t.isNullOrUndefined(this.popupListWrapper)||(this._setListWidth(),this._setListHeight()),this._isSingleSelect()||(this.model.showCheckbox?this._checkboxHideShow(this.model.showCheckbox):this._multiItemSelection(this._getLi())),this._setUncheckAll(this.model.uncheckAll),t.isNullOrUndefined(this.popupListWrapper)||(this.popupScroller.css({height:"",width:""}),this.popupList.ejScroller({height:this._getPopupHeight(),width:0,scrollerSize:20,scroll:function(e){i.model.allowVirtualScrolling&&i._onScroll(e)},preventDefault:!0}),this.scrollerObj=this.popupList.ejScroller("instance"),this.popupList.find("div.e-scrollbar div").attr("unselectable","on"),this._setListPosition(),this.popUpShow||this.popupListWrapper.css({display:"none",visibility:"visible"}),this._changeSkin(this.model.cssClass)),this.model.loadOnDemand||this.model.showPopupOnLoad&&this._showResult()},_enableSearch:function(){if(this.model.enableFilterSearch&&!t.isNullOrUndefined(this.popupListWrapper)&&!this.inputSearch){this.inputSearch=t.buildTag("input#"+this._id+"_inputSearch.e-input","",{},{type:"text","data-role":"none"}),this.popupListWrapper.prepend(e("<span>").addClass("e-atc e-search").append(e("<span>").addClass("e-in-wrap ").append(this.inputSearch).append(e("<span>").addClass(" e-icon e-search"))));var i=this.model.enableServerFiltering?this._debounce(this._OnSearchEnter,200):this._OnSearchEnter;this._on(this.inputSearch,"keyup",i)._on(this.inputSearch,"keydown",(function(e){9==(e.keyCode||e.which)&&(e.preventDefault(),this.wrapper.focus(),this._hideResult())}))}},_removeSearch:function(){this.model.enableFilterSearch=!1,this.popupListWrapper.find(".e-atc.e-search").remove(),this._isPopupShown()&&this.hidePopup(),this.inputSearch=null},_OnSearchEnter:function(i){var s,a,o;(""==this._prevSearchValue||this._prevSearchValue!=this.inputSearch.val())&&(this._prevSearchValue=this.inputSearch.val(),t.isNullOrUndefined(this._rawList)||(8==i.keyCode&&this.model.enableFilterSearch&&(this._disabledItems=this._initDisabledItems,this._prevDisabledItems=this._disabledItems),s=this,-1!=e.inArray(i.keyCode,[38,40,13])&&this.ultag.find("li.e-nosuggestion").length<=0?13==i.keyCode?this._OnKeyUp(i):this._OnKeyDown(i):(this._activeItem=-1,this._queryString=this.inputSearch.val(),""==this._queryString&&this._virtualUl?(o={searchString:this._queryString,searchQuery:null,items:this._rawList},this._trigger("search",o),this._resetList(i),this._updateSelectedIndexByValue(this.value()),this._refreshScroller(),this._setListPosition(),this._prevDisabledItems&&this._prevDisabledItems.length>0&&(this._disabledItems=[],this._isInteralCall=!0,this.disableItemsByIndices(this._prevDisabledItems),this._isInteralCall=!1,this._prevDisabledItems=this._disabledItems)):(this._mapFields(),a=this._addSearchQuery(t.Query(),!this._isPlainType(this._rawList)),o={searchString:this._queryString,items:this._rawList,searchQuery:a},this.popupListWrapper.find(".e-atc.e-search .e-search").addClass("e-cross-circle").removeClass("e-search"),this._on(this.popupListWrapper.find(".e-atc.e-search .e-cross-circle"),"mousedown",this._refreshSearch),this._trigger("search",o)||s._onActionComplete(o)))))},_debounce:function(e,t){var i,s=this;return function(){var a=arguments,o=function(){return i=null,e.apply(s,a)};clearTimeout(i),i=setTimeout(o,t)}},_onActionComplete:function(e){var i,s=this;this._queryString=this.inputSearch.val(),i=this._addSearchQuery(t.Query(),!this._isPlainType(this._rawList)),e={searchString:this._queryString,items:this._rawList,searchQuery:i},t.DataManager&&this._dataSource()instanceof t.DataManager&&this.model.enableServerFiltering&&("Caret"==window.getSelection().type||"msie"==t.browserInfo().name)?(i=e.searchQuery.clone(),s._dataSource().executeQuery(i).done((function(t){s._filterSearch(e.searchQuery,t)}))):s._filterSearch(i,e)},_refreshSearch:function(){this._resetSearch(),this._refreshPopup(),this._initDisabledItems&&this._initDisabledItems.length>0&&(this._disabledItems=[],this.disableItemsByIndices(this._initDisabledItems),this._prevDisabledItems=this._disabledItems)},_filterSearch:function(e,i){var s,a,o,r,l=!1;this.resultList=i.result?i.result:t.DataManager(this._rawList).executeLocal(e),0==this.resultList.length&&(l=!0,this.resultList.push(this._getLocalizedLabels("emptyResultText"))),s=[],this._initDisabledItems.forEach((function(e){this._rawList.forEach((function(t){this._rawList.indexOf(t)==e&&s.push(t)}),this)}),this),a=[],s.length>0&&this.resultList.forEach((function(e){s.indexOf(e)>=0&&a.push(this.resultList.indexOf(e))}),this),this.popupListItems=this.resultList,this.ultag.empty(),this._isPlainType(this.popupListItems)?this._plainArrayTypeBinding(this.resultList):this._objectArrayTypeBinding(this.resultList,"search"),l&&1==this.ultag.find("li").length&&this.ultag.find("li").eq(0).addClass("e-nosuggestion"),this.model.showCheckbox&&!l&&this._appendCheckbox(this._getLi()),this._onSearch=!0,o=this.value(),r=this._visibleInput[0].value,this._setValue(this.value()),("function"==typeof this.model.value?this.model.value():this.model.value)!=o&&(this.element[0].value=o,this._visibleInput[0].value=r,this.model.text=""==r?null:r,this.value()==o||null==this.value()&&""==o||this._updateValue(o)),this._onSearch=!1,this._updateSelectedIndexByValue(this.value()),this._refreshScroller(),this._setListPosition(),this._prevDisabledItems=this._disabledItems,this._disabledItems=[],a.length>0&&(this._isInteralCall=!0,this.disableItemsByIndices(a),this._isInteralCall=!1)},_updateSelectedIndexByValue:function(t){var i,s,a;if(t&&this.model.enableFilterSearch){for(this._selectedIndices=this.model.selectedItems=this.model.selectedIndices=[],this._virtualList=this._virtualUl.children("li:not('.e-category')"),i=this._toArray(t),s=0;s<i.length;s++)for(a=0;a<this._virtualList.length;a++)if(i[s]==this._getIndexedValue(this._virtualList[a])){-1==e.inArray(a,this._selectedIndices)&&this._selectedIndices.push(a);break}this.model.selectedItems=this.model.selectedIndices=this._selectedIndices,1==this.model.selectedIndices.length&&(this.model.selectedIndex=this.selectedIndexValue=this.model.selectedIndices[0])}},_getIndexedValue:function(e){return this._getAttributeValue(e)?this._getAttributeValue(e):e.innerText},_resetSearch:function(){this.inputSearch&&this.model&&this.model.enableFilterSearch&&""!=this.inputSearch.val()&&this._virtualUl&&(this.inputSearch.val(""),this._prevSearchValue="",this._resetList())},_resetList:function(e){var i,s,a;if(1==this.popupListWrapper.find(".e-atc.e-search .e-cross-circle").length&&(this.popupListWrapper.find(".e-atc.e-search .e-cross-circle").addClass("e-search").removeClass("e-cross-circle"),this._off(this.popupListWrapper.find(".e-atc.e-search .e-cross-circle"),"mousedown",this._refreshSearch)),this.model.enableServerFiltering){for(i=this.model.fields&&this.model.fields.value?this.model.fields.value:"value",s=0;s<this._rawList.length;s++)this._rawList[s][i]==this._selectedValue&&(this._searchresult=null);t.isNullOrUndefined(this._searchresult)||this.model.allowVirtualScrolling&&"normal"==this.model.virtualScrollMode||this.addItem(this._searchresult)}this._listItem(this._rawList),this.model.enableSorting&&(a=t.Query().sortBy(this.mapFld._text,this.model.sortOrder,!0),this._rawList=t.DataManager(this._rawList).executeLocal(a),this.popupListItems=this._rawList),this.ultag.empty().append(this._virtualUl.children().clone(!0)),this._onSearch=!0,this._setValue(this.value(),e),this._onSearch=!1,this._searchresult=[],this._initDisabledItems&&this._initDisabledItems.length>0&&(this._disabledItems=[],this.disableItemsByIndices(this._initDisabledItems),this._prevDisabledItems=this._disabledItems)},_addSearchQuery:function(e,t){var i,s="";return t&&(s=(i=this.model.fields)&&i.text?i.text:"text"),this._queryString&&e.where(s,this.model.filterType,this._queryString,!this.model.caseSensitiveSearch),this.model.itemsCount>0&&e.take(this.model.itemsCount),e},_targetElementBinding:function(){var t,i,s,a,o,r=this.element.parents().last();if(this.docbdy=this.model.targetID?r.find("#"+this.model.targetID):this.optionDiv?this.optionDiv:null,!this.docbdy)return!1;if(this.itemsContainer="UL"==this.docbdy[0].nodeName?this.docbdy:this.docbdy.children("ol,ul"),(this.model.allowGrouping||this.itemsContainer.find(">.e-category").length>0)&&!this.model.enableSorting)for(this.popupListWrapper.addClass("e-atc-popup"),t=0;t<this.itemsContainer.find(">.e-category").length;t++)(i=this.itemsContainer.find(">.e-category").eq(t)).replaceWith(e("<li>").text(i.text()).addClass("e-category"));else this.model.enableSorting&&this._setSortingList();for(this.itemsContainer.children("ol,ul").remove(),this.items=this.model.loadOnDemand?this.itemsContainer.children().length>0?this.itemsContainer.children("li"):this.items:this.itemsContainer.children("li"),this.items.children("img,div").addClass("e-align"),this._listItem([]),s=0;s<this.items.length;s++)a=e(this.items[s]).text(),o=this._getAttributeValue(this.items[s]),this.items[s].getAttribute("id")&&""!=this.items[s].getAttribute("id")||e(this.items[s]).attr("id",this._id+"_"+s+"_popup_option"),e(this.items[s]).attr("data-value")||e(this.items[s]).attr("data-value",o||a),this._listItem({text:a,value:o||a},"add");this.model.loadOnDemand?this.ultag.empty().append(this.items):this.ultag.empty().append(this.itemsContainer.children()),this.ultag.children("li").attr("role","option").attr("unselectable","on").attr("aria-selected","false").attr("tabindex","-1"),this.docbdy.css({display:"none"}).children("ol,ul").remove()},_plainArrayTypeBinding:function(i){var s,a;if(this.dummyUl=e(),this.model.enableSorting&&(i.sort(),"descending"==this.model.sortOrder&&i.reverse()),i.length>0){for(s=0;s<i.length;s++)t.isNullOrUndefined(i[s])||(a=t.buildTag("li",i[s],{},{"data-value":i[s],unselectable:"on"}),this.dummyUl.push(a[0]));this.ultag.append(this.dummyUl),this._trigger("dataBound",{data:i})}},_mapFields:function(){this.model.fields.groupBy=this.model.fields.groupBy?this.model.fields.groupBy:this.model.fields.category;var e=this.model.fields;this.mapFld={_id:null,_imageUrl:null,_imageAttributes:null,_spriteCSS:null,_text:null,_value:null,_htmlAttributes:null,_selected:null},this.mapFld._id=e&&e.id?e.id:"id",this.mapFld._imageUrl=e&&e.imageUrl?e.imageUrl:"imageUrl",this.mapFld._imageAttributes=e&&e.imageAttributes?e.imageAttributes:"imageAttributes",this.mapFld._spriteCSS=e&&e.spriteCssClass?e.spriteCssClass:"spriteCssClass",this.mapFld._text=e&&e.text?e.text:"text",this.mapFld._value=e&&e.value?e.value:"value",this.mapFld._htmlAttributes=e&&e.htmlAttributes?e.htmlAttributes:"htmlAttributes",this.mapFld._selected=e&&e.selected?e.selected:"selected",this.mapFld._category=e&&e.groupBy?e.groupBy:"groupBy"},_doDataBind:function(){var e=this._dataSource(),t=this.popupListItems;!e||!t||!t.length||t.length<1?this._targetElementBinding():this._isPlainType(t)?this._plainArrayTypeBinding(t):this._objectArrayTypeBinding(t)},_isPlainType:function(e){return"object"!=typeof e[0]},_objectArrayTypeBinding:function(i,s){var a,o,r,l,n,d;if(this.dummyUl=e(),this._mapFields(),this.model.enableSorting&&(a=t.Query().sortBy(this.mapFld._text,this.model.sortOrder,!0),i=t.DataManager(i).executeLocal(a),this.popupListItems=i),this.model.allowGrouping||this.model.fields.groupBy)for(t.isNullOrUndefined(this.popupListWrapper)||this.popupListWrapper.addClass("e-atc-popup"),o=this.mapFld._category,l=t.Query().group(o),this.model.enableSorting||l.queries.splice(0,1),r=t.DataManager(i).executeLocal(l),this._swapUnCategorized(r),"search"==s?this.popupListItems=[]:this._listItem([]),n=0;n<r.length;n++)for(r[n].key&&this.ultag.append(t.buildTag("li.e-category",r[n].key).attr("role","option")[0]),this._generateLi(r[n].items,this.mapFld),this.ultag.append(this.dummyUl),d=0;d<r[n].items.length;d++)"search"==s?this.popupListItems.push(r[n].items[d]):this._listItem(r[n].items[d],"add");else this._generateLi(i,this.mapFld),this.ultag.append(this.dummyUl);this._trigger("dataBound",{data:i})},_onScroll:function(i){var s,a;if(i.scrollTop){var o=i.scrollTop,r=this,l=this._dataSource();r.model.allowVirtualScrolling&&"continuous"==r.model.virtualScrollMode?(a=t.Query().skip(r._rawList.length).take(r.model.itemsCount).clone(),o>=Math.round(e(r.popupList).find("ul,ol").height()-e(r.popupList).height())&&r._rawList.length<r._totalCount&&(r._addLoadingClass(),t.DataManager&&r._dataSource()instanceof t.DataManager&&!t.isNullOrUndefined(r._dataSource().dataSource.url)?(a=r.inputSearch&&""!=r.inputSearch.val()&&this.model.enableServerFiltering?r._addSearchQuery(t.Query(),!r._isPlainType(r._rawList)).skip(r._getLi().length).clone():r._getQuery().skip(r._rawList.length).take(r.model.itemsCount).clone(),r._trigger("actionBegin",{requestFrom:"scroll"})||r._dataSource().executeQuery(a).done((function(e){!t.isNullOrUndefined(r.model.value)&&r.model.enableServerFiltering&&(e.result=r._removeSelectedValue(e.result)),r.addItem(e.result),r._removeLoadingClass(),r._trigger("actionSuccess",{e:e,requestFrom:"scroll"})})).fail((function(){r._dataSource(null),r._removeLoadingClass(),r._trigger("actionFailure",{e:i,requestFrom:"scroll"})})).always((function(e){r._trigger("actionComplete",{e:e,requestFrom:"scroll"})}))):t.DataManager&&l instanceof t.DataManager&&l.dataSource.offline&&l.dataSource.json&&l.dataSource.json.length>0?(r.addItem(this._localDataVirtualScroll()),window.setTimeout((function(){r._removeLoadingClass()}),100)):(s=t.DataManager(r._dataSource()).executeLocal(a),r.addItem(r._removeSelectedValue(s)),r._removeLoadingClass()))):r.model.allowVirtualScrolling&&"normal"==r.model.virtualScrollMode&&window.setTimeout((function(){0==r._virtualCount&&r._loadList()}),300)}},_localDataVirtualScroll:function(){var e=this,i=t.isNullOrUndefined(e.value())?0:"number"==typeof e.value()?1:e.value().split(e.model.delimiterChar).length,s=e._checkValue?e._rawList.length-i:e._rawList.length,a=t.DataManager(e._dataSource().dataSource.json).executeLocal(t.Query().skip(s).take(e.model.itemsCount).clone());return e._removeSelectedValue(a)},_removeSelectedValue:function(e){var i,s,a;if(t.isNullOrUndefined(this.value()))return e;for(i="number"==typeof this.value()?this.value():this.value().split(this.model.delimiterChar),s=0;s<i.length;s++)for(a=0;a<e.length;a++)e[a][this.mapFld._value]==i[s]&&e.splice(e.indexOf(e[a]),1);return e},_loadList:function(){var i,s,a,o,r;this._virtualCount++;var l,n=this._dataSource(),d=this.scrollerObj.scrollTop(),h=this,c=0,u=null;if(this._currentPage=Math.round(d/(29*this.model.itemsCount)),this._virtualPages){if(-1!=e.inArray(this._currentPage,this._virtualPages.sort((function(e,t){return e-t}))))if(0==this._currentPage){if(-1!=e.inArray(this._currentPage+1,this._virtualPages))return this._virtualCount--,!1;this._currentPage=this._currentPage+1}else if(-1!=e.inArray(this._currentPage-1,this._virtualPages)){if(-1!=e.inArray(this._currentPage+1,this._virtualPages))return this._virtualCount--,!1;this._currentPage=this._currentPage+1}else this._currentPage=this._currentPage-1;for(l=!(-1!=e.inArray(this._currentPage-1,this._virtualPages)),this._addLoadingClass(),i=this._virtualPages.length-1;i>=0;i--)if(this._virtualPages[i]<this._currentPage){c=this._virtualPages[i],i+1==this._virtualPages.length||(u=this._virtualPages[i+1]);break}}if(s=l?(this._currentPage-1)*this.model.itemsCount:this._currentPage*this.model.itemsCount,r=t.Query().range(s,this._currentPage*this.model.itemsCount+this.model.itemsCount),t.DataManager&&h._dataSource()instanceof t.DataManager&&!t.isNullOrUndefined(h._dataSource().dataSource.url)){if(o=l?(this._currentPage-1)*this.model.itemsCount:this._currentPage*this.model.itemsCount,r=this._getQuery().skip(o),l){for(i=0;i<r.queries.length;i++)if("onTake"==r.queries[i].fn){r.queries.splice(i,1);break}r.take(2*this.model.itemsCount)}h._trigger("actionBegin",{requestFrom:"scroll"})||(h.inputSearch&&""!=h.inputSearch.val()&&this.model.enableServerFiltering&&(r=h._addSearchQuery(t.Query(),!h._isPlainType(h._rawList)).skip(h._getLi().length).clone()),h._dataSource().executeQuery(r).done((function(e){e.result=h._removeSelectedValue(e.result),h._appendVirtualList(e.result,c,h._currentPage,u,l),h._removeLoadingClass(),h._trigger("actionSuccess",{e:e,requestFrom:"scroll"})})).fail((function(e){h._virtualCount--,h._removeLoadingClass(),h._trigger("actionFailure",{e:e,requestFrom:"scroll"})})).always((function(e){h._trigger("actionComplete",{e:e,requestFrom:"scroll"})})))}else t.DataManager&&n instanceof t.DataManager&&n.dataSource.offline&&n.dataSource.json&&n.dataSource.json.length>0?(h._appendVirtualList(this._localDataVirtualScroll(),c,h._currentPage,u,l),window.setTimeout((function(){h._removeLoadingClass()}),100)):(a=t.DataManager(h._dataSource()).executeLocal(r),h._appendVirtualList(h._removeSelectedValue(a),c,h._currentPage,u,l),h._removeLoadingClass())},_appendVirtualList:function(i,s,a,o,r){var l,n,d,h,c,u;if(this._virtualPages){if(this._virtualCount--,this.ultag.find("span.e-virtual").remove(),t.isNullOrUndefined(this.activeItem)||this.activeItem.attr("page","0"),-1!=e.inArray(a,this._virtualPages.sort((function(e,t){return e-t}))))return!1;for(r&&-1!=e.inArray(a-1,this._virtualPages.sort())&&(i.splice(0,this.model.itemsCount),r=!1),l=this.model.itemsCount,n=e("<ul>"),0!=(d=r?(a-1)*l*29-29*(s*l+l):a*l*29-29*(s*l+l))&&n.append(e("<span>").addClass("e-virtual").css({display:"block",height:d})),this._mapFields(),this._generateLi(i,this.mapFld),e(this.dummyUl).attr("page",a),r&&e(this.dummyUl).slice(0,l).attr("page",a-1),this.model.showCheckbox&&this._appendCheckbox(this.dummyUl),n.append(this.dummyUl),h=29*(a*l+l),0!=(h=null!=o?o*l*29-h:this.ultag.height()-h)&&n.append(e("<span>").addClass("e-virtual").css({display:"block",height:h})),(c=this.model.itemsCount>0&&""!=this.value()&&this._dataSource()instanceof t.DataManager&&this._dataSource().dataSource.offline?this.ultag.find("li").last():this.ultag.find("li[page="+s+"]").last()).next().remove(),n.children().insertAfter(c),this._virtualPages.push(a),r&&this._virtualPages.push(a-1),u=0;u<i.length;u++)this._listItem(i[u],"add");this._virtualUl=this.ultag.clone(!0),this._renderBoxModel()}},_generateLi:function(i,s){var a,o,r,l;if(this.mapFld=s,this.dummyUl=[],!i||!i.length||i.length<1)return!1;for(a=0;a<i.length;a++){var n=this._getField(i[a],this.mapFld._id),d=this._getField(i[a],this.mapFld._imageUrl),h=this._getField(i[a],this.mapFld._imageAttributes),c=this._getField(i[a],this.mapFld._spriteCSS),u=this._getField(i[a],this.mapFld._text),p=this._getField(i[a],this.mapFld._value),m=this._getField(i[a],this.mapFld._htmlAttributes),g=this._getField(i[a],this.mapFld._selected),_=document.createElement("li");_.setAttribute("data-uid",Math.random().toString(36).substr(2,4)),t.isNullOrUndefined(p)?_.setAttribute("data-value",u):_.setAttribute("data-value","object"==typeof p?JSON.stringify(p):p),t.isNullOrUndefined(n)||""===n&&0==n||_.setAttribute("id",n),t.isNullOrUndefined(m)||""==m||this._setAttr(_,m),(t.isNullOrUndefined(n)||""==n&&0!=n)&&this._setAttr(_,{id:this._id+"_"+a+"_popup_option","aria-selected":!1,tabindex:-1}),this.model.template?e(_).append(this._getTemplatedString(i[a])):(t.isNullOrUndefined(d)||""==d||(o=document.createElement("img"),this._setClass(o,"e-align")._setAttr(o,{src:d,alt:u}),h&&""!=h&&this._setAttr(o,h),_.appendChild(o)),t.isNullOrUndefined(c)||""==c||(r=document.createElement("div"),this._setClass(r,"div.e-align "+c+" sprite-image"),_.appendChild(r)),g&&this._setClass(_,"chkselect"),t.isNullOrUndefined(u)&&(u=String(u)),(l=document.createElement("span")).appendChild(document.createTextNode(u)),this._setClass(l,"e-ddltxt"),_.appendChild(l)),this._setAttr(_,{role:"option",unselectable:"on"}),this.dummyUl.push(_)}},_setAttr:function(t,i){var s,a,o;if("string"==typeof i)2==(s=i.replace(/['"]/g,"").split("=")).length&&(t.hasAttribute(s[0])&&"class"==s[0]?e(t).addClass(s[1]):t.setAttribute(s[0],s[1]));else for(a in i)if("styles"!=a&&"style"!=a||"object"!=typeof i[a])t.setAttribute(a,i[a]);else for(o in i[a])t.style[o]=i[a][o];return this},_setClass:function(e,t){return e.className+=" "+t,this},_removeClass:function(e,t){var i=e.className.indexOf(t);return i>=0&&(e.className=0!=i&&" "===e.className[i-1]?e.className.replace(" "+t,""):e.className.replace(t,"")),this},_hasClass:function(e,t){return e.className.indexOf(t)>=0},_swapUnCategorized:function(t){e(t).each((function(e,i){if(!i.key){for(var s=e;s>0;s--)t[s]=t[s-1];return t[s]=i,!1}}))},_getField:function(e,i){return t.pvt.getObject(i,e)},_getTemplatedString:function(e){for(var t,i,s=this.model.template,a=s.indexOf("${"),o=s.indexOf("}");-1!=a&&-1!=o;)i=(t=s.substring(a,o+1)).replace("${","").replace("}",""),a=(s=s.replace(t,this._getField(e,i))).indexOf("${"),o=s.indexOf("}");return s},_setWatermark:function(){if(""==this.element.val()&&""==this._trim(this._visibleInput.val())){var e=null!=this.model.watermarkText?this.model.watermarkText:this._localizedLabels.watermarkText;this._isWatermark?this._visibleInput.attr("placeholder",e):this._hiddenSpan.css("display","block").text(e),"visualmode"==this.model.multiSelectMode&&this._ulBox&&0==this._ulBox.find("li").length&&this._swapUlandInput(!1)}},_checkboxHideShow:function(e){t.isNullOrUndefined(this.ultag)||(e?(this.listitems=this._getLi(),0==this.listitems.find("input[type=checkbox]").length&&this._appendCheckbox(this.listitems)):this._removeCheck(this.popupList),this.model.showCheckbox=e,this._virtualUl=this.ultag.clone(!0))},_setCheckAll:function(e){!this._isSingleSelect()&&e?this.checkAll():this.model.checkAll=!1},_setUncheckAll:function(e){!this._isSingleSelect()&&e?this.uncheckAll():this.model.uncheckAll=!1},checkAll:function(){var i,s,a,o,r;if(this.model.loadOnDemand&&(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),i=this._selectedIndices,s=!1,this._mapFields(),this.listitems=this._getLi(),this._isWatermark||this._hiddenSpan.css("display","none"),!this._isSingleSelect()){for(a=0;a<this.listitems.length;a++)this._currentText=this._isPlainType(this.popupListItems)?this.popupListItems[a]:this._decode(this._getField(this.popupListItems[a],this.mapFld._text)),this._hiddenValue=this._getAttributeValue(this.listitems[a])||this._currentText,this._checkContains(this._hiddenValue)?s=!0:this.model.showCheckbox?(o=e(this.listitems[a]).children(".e-checkwrap")[0])&&!this._isChecked(o)?(this._setClass(o,"e-check-act"),this._setAttr(o,{"aria-checked":!0}),o.firstChild.checked=!0,s=!1):s=!0:(s=!1,e(this.listitems[a]).addClass("e-active")),s||(this.checkedStatus=!0,this._itemID=e(this.listitems[a]).attr("id"),t.isNullOrUndefined(this._itemID)||""==this._itemID&&0!=this._itemID||this._selectedItemsID.push(this._itemID),this._createListHidden(this._hiddenValue),"visualmode"==this.model.multiSelectMode&&(this._ulBox.append(this._createBox(this._currentText,this._hiddenValue)),this._isPopupShown()&&this._setListPosition()),this._addText(this._currentText),-1==e.inArray(a,i)&&(this._selectedIndices.push(a),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices),this._selectedValue=this._getAttributeValue(this.listitems[a])||"",this._initValue||this._trigger("checkChange",{isChecked:this.checkedStatus,data:this.model}),r={text:this._visibleInput[0].value,selectedText:this._currentText,itemId:a,selectedValue:this._selectedValue,value:this._selectedValue,isChecked:this.checkedStatus},this._updateValue(this.element.val()),this._updateText(),this._initValue||this._trigger("change",r),this._activeItem=a,this.activeItem=this._getActiveItem(),this._cascadeAction());this.model.itemValue=this._selectedValue,this.model.uncheckAll=!1,this.model.checkAll=!0,this._activeItem=-1,this._setWatermark()}},_createListHidden:function(t){var i=document.createElement("input"),s=/'/;s.test(t)&&(t=t.replace(s,"&apos;")),this._setAttr(i,{type:"hidden",name:this._name,value:t,id:"#"+t}),-1==e.inArray(i.value,this._hiddenInputElement)&&(this._hiddenInputElement.push(i.value),this._boxValue.push(i.value),this.container.append(i),e(this.element).attr("name","hiddenEle"))},_removeListHidden:function(t){var i,s,a=/'/;a.test(t)&&(t=t.replace(a,"&apos;")),i=this.container.find("[id='#"+t+"']"),this._hiddenInputElement.splice(e.inArray(i.value,this._hiddenInputElement),1),-1!=(s=this._boxValue.indexOf(t))&&this._boxValue.splice(s,1),e(i).remove(),this._isSingleSelect()||""!=this.element.val()||this.element.attr("name",this._name)},_getAttributeValue:function(e){if(!t.isNullOrUndefined(e))var i=t.isNullOrUndefined(e.getAttribute("data-value"))?e.getAttribute("value"):e.getAttribute("data-value");return e?i:null},_selectCheckedItem:function(e){this.model.loadOnDemand&&(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList();for(var i=0;i<e.length;i++)this._activeItem=e[i],this.ultag.children()[this._activeItem]&&this._enterTextBoxValue()},unCheckAll:function(){this.uncheckAll()},uncheckAll:function(){var i,s,a,o,r=!1;if(this.listitems=this._getLi(),this._mapFields(),!this._isSingleSelect()){for(i=0;i<this.listitems.length;i++)this._currentText=this._isPlainType(this.popupListItems)?this.popupListItems[i]:this._getField(this.popupListItems[i],this.mapFld._text),this._hiddenValue=this._getAttributeValue(this.listitems[i])||this._currentText,this._checkContains(this._hiddenValue)?this.model.showCheckbox?(s=e(this.listitems[i]).children(".e-checkwrap")[0])&&this._isChecked(s)?(this._removeClass(s,"e-check-act"),this._setAttr(s,{"aria-checked":!1}),s.firstChild.checked=!1,r=!0):r=!1:(e(this.listitems[i]).removeClass("e-active"),r=!0):r=!1,r&&(this.checkedStatus=!1,this._activeItem=i,this.activeItem=this._getActiveItem(),this._removeText(this._hiddenValue),this._removeListHidden(this._hiddenValue),a=this._selectedIndices,e.inArray(i,a)>-1&&(this._selectedIndices.splice(e.inArray(i,a),1),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices),this._selectedValue=this._getAttributeValue(this.listitems[i])||"",this._itemID=e(this.listitems[i]).attr("id"),t.isNullOrUndefined(this._itemID)||""==this._itemID&&0!=this._itemID||this._removeSelectedItemsID(),this._initValue||this._trigger("checkChange",{isChecked:this.checkedStatus,data:this.model}),o={text:this._visibleInput[0].value,selectedText:this._currentText,itemId:i,selectedValue:this._selectedValue,value:this._selectedValue,isChecked:this.checkedStatus},this._updateValue(this.element.val()),this._updateText(),this._initValue||this._trigger("change",o),this._cascadeAction(),"visualmode"==this.model.multiSelectMode&&(this._deleteBoxCheck(this._hiddenValue),this._isPopupShown()&&this._setListPosition()));this.model.itemValue=this._selectedValue,this.model.checkAll=!1,this.model.uncheckAll=!0,this._setWatermark(),this._activeItem=-1,this._clearTextboxValue()}},_removeSelectedItemsID:function(){var e;e=this._selectedItemsID.indexOf(this._itemID),this._selectedItemsID.splice(e,1),this._itemID=""},_refreshScroller:function(){if(!t.isNullOrUndefined(this.popupListWrapper)){this.model.enablePopupResize||(this.popupList.css("height","auto"),this.popupListWrapper.css("height","auto")),this.popupList.find(".e-content, .e-vhandle").removeAttr("style"),this.popupList.find(".e-vhandle div").removeAttr("style"),this.popupList.children(".e-content").removeClass("e-content");var e=this._isPopupShown();this.popupListWrapper.css("display","block"),this.popupList.css({display:"block"}),this.scrollerObj.model.height=Math.ceil(this._getPopupHeight()),this.scrollerObj.refresh(),this.model.enablePopupResize||(this.popupList.css("height","auto"),this.popupListWrapper.css("height","auto")),this.scrollerObj.option("scrollTop",0),e||this.popupListWrapper.css("display","none")}},_enablePopupResize:function(){this.model.enablePopupResize&&!t.isNullOrUndefined(this.popupListWrapper)&&(this.popupListWrapper.addClass("e-resizable").append(t.buildTag("div.e-resizebar").append(t.buildTag("div.e-icon e-resize-handle"))).find(".e-resize-handle").addClass(this.model.enableRTL?"e-rtl-resize":""),this._resizePopup())},_resizePopup:function(){var t=this,i=!1;this.popupListWrapper.find("div.e-resize-handle").ejResizable({minHeight:t._validatePixelData(t.model.minPopupHeight),minWidth:t._validatePixelData(t.model.minPopupWidth),maxHeight:t._validatePixelData(t.model.maxPopupHeight),maxWidth:t._validatePixelData(t.model.maxPopupWidth),handle:"e-ddl-popup",resizeStart:function(e){if(!t.model.enabled)return!1;i||t._trigger("popupResizeStart",{event:e}),i=!0},resize:function(i){var s=e(i.element).parents("div.e-ddl-popup");t._refreshPopupOnResize(e(s).outerHeight(),e(s).outerWidth()),t._trigger("popupResize",{event:i})},resizeStop:function(e){i&&(t._refreshPopupOnResize(t.model.popupHeight,t.model.popupWidth),i&&t._trigger("popupResizeStop",{event:e}),i=!1)},helper:function(i){var s=e(i.element).parents("div.e-ddl-popup");return t._refreshPopupOnResize(e(s).outerHeight(),e(s).outerWidth()),e(t.popupListWrapper)}})},_refreshPopupOnResize:function(e,t){e&&(this.model.popupHeight=e),t&&(this.model.popupWidth=t),this.popupListWrapper.css({height:this._validatePixelData(this.model.popupHeight),"min-height":this._validatePixelData(this.model.minPopupHeight),"max-height":this._validatePixelData(this.model.maxPopupHeight)}),this._setListWidth(),this._refreshScroller()},_setListWidth:function(){if(!t.isNullOrUndefined(this.popupListWrapper)){var e=this.model.popupWidth;"auto"!=e?this.popupListWrapper.css({width:e}):this.popupListWrapper.css({"min-width":this._validatePixelData(this.model.minPopupWidth)}),this.popupListWrapper.css({"max-width":this._validatePixelData(this.model.maxPopupWidth)})}},_setListHeight:function(){t.isNullOrUndefined(this.popupListWrapper)||(this.model.enablePopupResize&&this.model.enableFilterSearch&&this.model.minPopupHeight&&this.model.minPopupHeight.toString().indexOf("%")<0&&20==this._validatePixelData(this.model.minPopupHeight)&&(this.model.minPopupHeight="65"),this.model.enablePopupResize?this.popupListWrapper.css({"min-height":this._validatePixelData(this.model.minPopupHeight),"max-height":this._validatePixelData(this.model.maxPopupHeight),height:this._validatePixelData(this.model.popupHeight)}):this.popupListWrapper.css({"max-height":this._validatePixelData(this.model.popupHeight),"min-height":this._validatePixelData(this.model.minPopupHeight)}))},_validatePixelData:function(e){return e&&!isNaN(e)?Number(e):e},_getPopupHeight:function(){var e,t=this.popupListWrapper.height();return this.model.enablePopupResize&&(t-=this.popupListWrapper.find(">div.e-resizebar").height()),this.model.headerTemplate&&this.headerTemplate&&(t-=this.headerTemplate.height()),this.model.enableFilterSearch&&this.inputSearch&&(e=this.inputSearch.parent(".e-in-wrap"),t-=parseInt(e.css("height"))+parseInt(e.css("margin-top"))+parseInt(e.css("margin-bottom"))),t},_refreshPopup:function(){"auto"!=this.model.popupWidth||this._validatePixelData(this.model.minPopupWidth)?this._validatePixelData(this.model.minPopupWidth)&&this.popupListWrapper.css({"min-width":this._validatePixelData(this.model.minPopupWidth)}):this.popupListWrapper.css({"min-width":this.wrapper.width()}),this.scrollerObj!=i&&this._refreshScroller(),this._setListPosition()},_setListPosition:function(){var t,i=this.wrapper,s=this._getOffset(i),a=e(document).scrollTop()+e(window).height()-(s.top+e(i).outerHeight()),o=s.top-e(document).scrollTop(),r=this.popupListWrapper.outerHeight(),l=this.popupListWrapper.outerWidth(),n=s.left,d=i.outerHeight(),h=(d-i.height())/2,c=this._getZindexPartial(),u=3,p=(r<a||r>o?s.top+d+u:s.top-r-u)-h;t=e(document).scrollLeft()+e(window).width()-n,(this.model.enableRTL||l>t&&l<n+i.outerWidth())&&(n-=this.popupListWrapper.outerWidth()-i.outerWidth()),this.popupListWrapper.css({left:n+"px",top:p+"px","z-index":c})},_getOffset:function(e){return t.util.getOffset(e)},_getZindexPartial:function(){return t.util.getZindexPartial(this.element,this.popupListWrapper)},_showResult:function(){var i,s=this;this.popUpShow=!0,this.model.loadOnDemand&&(t.isNullOrUndefined(this.popupListWrapper)&&this._renderPopupPanelWrapper(),(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),this._renderRemaining()),(this.model.allowGrouping||this.model.fields.groupBy)&&this.popupListWrapper.addClass("e-atc-popup"),i={text:this._visibleInput[0].value,value:this._selectedValue,refreshPopup:!0},this._trigger("beforePopupShown",i)||(i.refreshPopup&&this._refreshPopup(),e(this.popupListWrapper).slideDown(this.model.enableAnimation?200:1,(function(){e(document).on("mousedown",e.proxy(s._OnDocumentClick,s)),t.isDevice()||s._on(t.getScrollableParents(s.wrapper),"scroll",s._hideResult)})),this._setAttr(this.wrapper[0],{"aria-expanded":!0}),this._setAttr(this.popupListWrapper[0],{"aria-hidden":!1}),this._setAttr(this.ultag[0],{"aria-hidden":!1}),this._listSize=this._getLi().length,this.wrapper.addClass("e-popactive"),this._trigger("popupShown",{text:this._visibleInput[0].value,value:this._selectedValue}),this.scrollerObj.setModel({scrollTop:this._calcScrollTop("active")}))},_OnWindowResize:function(){!t.isNullOrUndefined(this.model)&&this._isPopupShown()&&this._refreshPopup()},_hideResult:function(i){if(this.model&&this._isPopupShown()){if(!t.isNullOrUndefined(i)&&!t.isNullOrUndefined(this.inputSearch)&&e(this.inputSearch).is(":focus")&&"scroll"==i.type&&t.isTouchDevice())return!1;var s=this;if(this._trigger("beforePopupHide",{text:this._visibleInput[0].value,value:this._selectedValue}))return;e(this.popupListWrapper).slideUp(this.model.enableAnimation?100:0,(function(){e(document).off("mousedown",e.proxy(s._OnDocumentClick,s))})),null!=this.element&&this._setAttr(this.wrapper[0],{"aria-expanded":!1}),this.popupListWrapper[0]&&this._setAttr(this.popupListWrapper[0],{"aria-hidden":!0}),this.ultag[0]&&this._setAttr(this.ultag[0],{"aria-hidden":!0}),t.isDevice()||this._off(t.getScrollableParents(this.wrapper),"scroll",this._hideResult),null!=this._visibleInput&&this.wrapper.removeClass("e-popactive"),this.popUpShow=!1,this._trigger("popupHide",{text:this._visibleInput[0].value,value:this._selectedValue}),setTimeout((function(){s._resetSearch()}),100),this._getLi().find(".e-ddl-anim").removeClass("e-ddl-anim")}},_isPopupShown:function(){if(!t.isNullOrUndefined(this.popupListWrapper))return"block"==this.popupListWrapper.css("display")},_enterTextBoxValue:function(t){var i,s,a,o=!0;this.removeID=!1,this.checkedStatus=!1,this._isWatermark||this._hiddenSpan.css("display","none"),this._chooseSelectionType(),(this._activeItem>=0||null!=this._activeItem)&&(this.model.showCheckbox?(s=this.activeItem.find(".e-checkwrap")[0],e(s).removeClass("e-check-inact"),this.checkedStatus=this._isChecked(s)):this.checkedStatus=this.activeItem.hasClass("e-active")),i={text:this._currentText,selectedText:this._currentText,itemId:this.selectedIndexValue,value:this._selectedValue,isChecked:this.checkedStatus,isInteraction:!!this._uiInteract},this._initValue||this._onSearch||!this._raiseEvents||!this._trigger("select",i)?((this._activeItem>=0||null!=this._activeItem)&&(this._isSingleSelect()||this._checkContains(this._selectedValue)&&!(this._checkedValues.length>0)?this._isSingleSelect()?(this.ultag.children("li").removeClass("e-hover").removeClass("e-active"),this.activeItem.addClass("e-active"),this._maintainHiddenValue(),this._visibleInput.val(this._currentText),this.element.val(this._hiddenValue),this.selectedItemIndex(this.selectedIndexValue),this.selectedIndex(this.selectedIndexValue),this._selectedIndices[0]=this.selectedIndexValue):o=!1:(this.model.showCheckbox?(s=this.activeItem.find(".e-checkwrap")[0],this._isChecked(s)||(this._removeClass(s,"e-ddl-anim"),this._setClass(s,"e-check-act e-ddl-anim"),this._setAttr(s,{"aria-checked":!0}),e(s).find(".e-check-input")[0].checked=!0)):this.activeItem.addClass("e-active"),"visualmode"==this.model.multiSelectMode&&(a=this._createBox(this._currentText,this._selectedValue),(!(this._ulBox.children()&&this._ulBox.children().length>0)||this._checkForDuplicates(a))&&this._ulBox.append(a),this._isPopupShown()&&this._setListPosition()),this._maintainHiddenValue(),this._addText(this._currentText),this._isSingleSelect()||JSON.stringify(this._boxValue)==JSON.stringify(this._valueContainer)||this._createListHidden(this._hiddenValue),-1==e.inArray(this.selectedIndexValue,this._selectedIndices)&&(this._selectedIndices.push(this.selectedIndexValue),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices)),o&&(this.checkedStatus=!0,t&&this._checkedValues.push(this.activeItem.text()),this._onValueChange(),this._cascadeAction(),this.selectelement&&e("#"+this._id).children().length>this.selectedIndexValue&&(e("#"+this._id).children()[this.selectedIndexValue].selected=!0))),this.model.uncheckAll=!1,this._setWatermark(),this._uiInteract=!1):this._setWatermark()},_checkForDuplicates:function(t){var i=!0;return this._ulBox.children().toArray().forEach((function(s){if(t.attr("data-value")==e(s).attr("data-value"))return i=!1,!1}),this),i},_onValueChange:function(){if(this.model.itemValue=this._selectedValue,this._updateText(),this._isSingleSelect()||JSON.stringify(this._boxValue)==JSON.stringify(this._valueContainer)||(this._valueContainer=this._boxValue),""==this._visibleInput.val()&&this.element.val()&&this.element.val(""),this.value()!=this.element.val()||null==this.value()&&-1!=e.inArray("",this._valueContainer)){t.isNullOrUndefined(e(this.getSelectedItem()).last()[0])||(this.model.enableFilterSearch&&this.model.enableServerFiltering?this._updateSelectedIndex(this.element.val(),e(this.getSelectedItem()).last().attr("data-uid")):this._updateSelectedIndexByValue(this.element.val())),this._isSingleSelect()?this._updateValue(this.element.val()):this._updateValue(this._valueContainer.toString()),this.selectedTextValue=this.model.text,this.model.showCheckbox||"none"!=this.model.multiSelectMode||null!=this.model.value&&""!=this.model.value||(this.model.itemValue="");var i={text:this._visibleInput[0].value,selectedText:this._currentText,itemId:this.selectedIndexValue,selectedValue:this._selectedValue,value:this._selectedValue,isChecked:this.checkedStatus,isInteraction:!!this._uiInteract};this._initValue||this._onSearch||!this._raiseEvents||("function"==typeof this.model._change&&this._trigger("_change",{isChecked:this.checkedStatus,text:this._visibleInput.val(),itemId:this.selectedIndexValue,selectedText:this._currentText,selectedValue:this._selectedValue,value:this.value(),data:this.model,isInteraction:!!this._uiInteract}),this._trigger("change",i),this.model.showCheckbox&&this._trigger("checkChange",{isChecked:this.checkedStatus,text:this._visibleInput.val(),itemId:this.selectedIndexValue,selectedText:this._currentText,selectedValue:this._selectedValue,value:this._selectedValue,data:this.model})),this._uiInteract=!1,this.model.enableFilterSearch&&this.model.enableServerFiltering&&(this._searchresult=[],this._searchresult=this.getItemDataByValue(this.value()))}},_updateSelectedIndex:function(t,i){var s,a,o;if(t){for(this._selectedIndices=this.model.selectedItems=this.model.selectedIndices=[],this._virtualList=this._virtualUl.children("li:not('.e-category')"),s=this._toArray(t),a=0;a<s.length;a++)for(o=0;o<this._virtualList.length;o++)if(s[a]==this._getIndexedValue(this._virtualList[o])&&i==e(this._virtualList[o]).attr("data-uid")){this._selectedIndices.push(o);break}this.model.selectedItems=this.model.selectedIndices=this._selectedIndices}},_decode:function(t){return e("<span>").html(t).text()},_chooseSelectionType:function(){this.activeItem=this._getActiveItem(),this.selectedIndexValue=this._activeItem,this._mapFields();var i=/([^"]*)\&[gl]t;([^"]*)/g;null==this._dataSource()||this._isPlainType(this._dataSource())&&this._isPlainType(this.popupListItems)?(this._currentText=this.activeItem.text(),this._getAttributeValue(this.activeItem[0])?this._selectedValue=this._getAttributeValue(this.activeItem[0]):null!=this._currentText?(t.isNullOrUndefined(this.activeItem[0])||this.activeItem[0].setAttribute("value",this._currentText),this._selectedValue=this._currentText):this._selectedValue="",this._itemID=e(this.activeItem).attr("id")):(this._currentText=this.model.enableFilterSearch&&this.ultag.children()[this._activeItem].textContent==this.activeItem.text()?i.test(this.ultag.children()[this._activeItem].textContent)?this._decode(this.ultag.children()[this._activeItem].textContent):this.ultag.children()[this._activeItem].textContent:i.test(this._getField(this.popupListItems[this._activeItem],this.mapFld._text))?this._decode(this._getField(this.popupListItems[this._activeItem],this.mapFld._text)):this._getField(this.popupListItems[this._activeItem],this.mapFld._text),this._currentText=""===this._currentText||null==this._currentText?this.activeItem.text():this._currentText,this._selectedValue=this._getField(this.popupListItems[this._activeItem],this.mapFld._value),this._selectedValue=null!=this._selectedValue?this._selectedValue:this._currentText,this._itemID=this._getField(this.popupListItems[this._activeItem],this.mapFld._id)),t.isNullOrUndefined(this._itemID)||""==this._itemID&&0!=this._itemID||(this.model.showCheckbox?this.removeID?this._removeSelectedItemsID():this._selectedItemsID.push(this._itemID):(this._selectedItemsID=[],this.removeID||this._selectedItemsID.push(this._itemID))),this.selectedTextValue=this._currentText},_maintainHiddenValue:function(){var e=this._getAttributeValue(this.activeItem[0]);this._hiddenValue=t.isNullOrUndefined(e)?this._currentText:e},_removeTextBoxValue:function(i){var s,a,o;if(this._uiInteract=!0,this.removeID=!0,this.checkedStatus=!0,this._isFilterInput())for(s=0;s<this._getLi().length;s++)e(this._getLi()[s]).attr("data-value")==i&&(this._activeItem=s);this._chooseSelectionType(),(this._activeItem>=0||null!=this._activeItem)&&(this.model.showCheckbox?(o=this.activeItem.find(".e-checkwrap")[0],e(o).removeClass("e-ddl-anim").addClass("e-check-inact e-ddl-anim"),this.checkedStatus=this._isChecked(o)):this.checkedStatus=this.activeItem.hasClass("e-active")),a={text:this._currentText,selectedText:this._currentText,itemId:this.selectedIndexValue,value:this._selectedValue,isChecked:this.checkedStatus},this._initValue||this._onSearch||!this._raiseEvents||!this._trigger("select",a)?(this._maintainHiddenValue(),this._hiddenValue=this._isFilterInput()&&!t.isNullOrUndefined(i)?i:this._hiddenValue,this._removeText(this._hiddenValue),this._isSingleSelect()||JSON.stringify(this._boxValue)==JSON.stringify(this._valueContainer)||this._removeListHidden(this._hiddenValue),this._isFilterInput()&&!this.activeItem.attr("data-value")==i&&this.activeItem.removeClass("e-active"),this._isSingleSelect()||(this.model.showCheckbox?(o=this.activeItem.find(".e-checkwrap")[0],this._isChecked(o)&&(this._removeClass(o,"e-check-act"),this._setAttr(o,{"aria-checked":!1}),e(o).find(".e-check-input")[0].checked=!0)):this.activeItem.removeClass("e-active"),e.inArray(this.selectedIndexValue,this._selectedIndices)>-1&&(this._selectedIndices.splice(e.inArray(this.selectedIndexValue,this._selectedIndices),1),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices),"visualmode"==this.model.multiSelectMode&&(this._deleteBoxCheck(this._hiddenValue),this._isPopupShown()&&this._setListPosition())),this.checkedStatus=!1,this._onValueChange(),null==this.model.cascadeTo||this._isSingleSelect()||this._initValue||this._cascadeAction(),this.model.checkAll=!1,this._setWatermark()):this._setWatermark()},_createBox:function(i,s){if(!this._checkContains(s)||this._checkedValues.length>0){"none"==this._ulBox.css("display")&&"none"!=this._visibleInput.css("display")&&this._swapUlandInput(!0);var a=t.buildTag("span.e-icon e-close","",{},{unselectable:"on"}),o=t.buildTag("li.e-options").text(i).attr("data-value",s).append(a);return this._on(a,"click",(function(t){if(!this.model.enabled)return!1;this.delIconClick=!0,this._deleteBox(e(t.target).parent()),this.delIconClick=!1})),o}},_deleteBoxCheck:function(t){for(var i=this._ulBox.children("li"),s=0;s<i.length;s++)e(i[s]).attr("data-value")==t&&(e(i[s]).remove(),this._checkedValues.splice(s,1))},_deleteLastBox:function(){var e=this._ulBox.children("li:not(.e-search-box)").last();e.hasClass("e-active")?this._deleteBox(e):(this._removeActive(),e.addClass("e-active"))},_deleteBox:function(t){for(var i,s,a,o,r=0;r<t.length;r++)if(i=e(t[r]).attr("data-value"),this._isFilterInput()){for(s=this.getListData(),o=0;o<s.length;o++)if((this._getField(s[o],this.mapFld._value)?this._getField(s[o],this.mapFld._value):this._getField(s[o],this.mapFld._text))==i){this._removeTextBoxValue(i);break}this._resetSearch()}else for(a=this._getLi(),o=0;o<a.length;o++)if(e(a[o]).attr("data-value")==i){this._activeItem=o,this._removeTextBoxValue();break}this._isFocused||this._isPopupShown()||this._setWatermark()},_isFilterInput:function(){return!(!this.model.enableFilterSearch||!this.inputSearch)&&(""==!this.inputSearch.val()||void 0)},_swapUlandInput:function(e){e?(this._visibleInput.css("display","none"),this._ulBox.css("display","block"),this.wrapper.css({height:"auto"})):(this._visibleInput.css("display","block"),this._ulBox.css("display","none"),this.wrapper.css({height:this.model.height}))},_removeActive:function(){this._ulBox.children("li").removeClass("e-active")},_adjustWidth:function(){var e=t.buildTag("span",this._visibleInput.val());this.container.append(e),this._visibleInput.width(e.width()+30),e.remove()},_destroyBoxModel:function(){this._visibleInput.css("display","block"),this.wrapper.height(this.model.height),this._ulBox.remove(),this._ulBox=null,this._off(this.container,"click")},_removeListHover:function(){this.ultag.children("li").removeClass("e-hover")},_addListHover:function(){var e=this._getActiveItem();this._setAttr(e[0],{"aria-selected":!0}),this._setAttr(this.wrapper[0],{"aria-activedescendant":e[0].id.toString(),"aria-labelledby":e[0].id.toString()}),e.addClass("e-hover"),this.scrollerObj.setModel({scrollTop:this._calcScrollTop("hover")})},_getLi:function(){if(this.ultag)return this.ultag.children("li:not('.e-category'):not('.e-nosuggestion')")},_calcScrollTop:function(t){this.ultag.outerHeight();var i,s,a,o,r=this.ultag.find("li"),l=0;for(this._selectedIndices&&this._selectedIndices.length>0&&"active"==t?(o=this._getLi(),i=this._selectedIndices.length==o.length?0:this._selectedIndices[this._selectedIndices.length-1],(null!=this.model.fields.groupBy||this.ultag.find("li.e-category").length>0)&&(i=e.inArray(o.eq(i)[0],r))):i=this.ultag.find("li.e-"+t).index(),a=0;a<i;a++)l+=r.eq(a).outerHeight(!0);return(s=l-(this.popupList.outerHeight()-r.eq(i).outerHeight(!0))/2)<0?0:s},_getActiveItem:function(){return this._getLi().eq(this._activeItem)},_setDimentions:function(){this.model.height&&this.wrapper.height(this.model.height),this.model.width&&this.wrapper.width(this.model.width)},_roundedCorner:function(e){e?(this.container.addClass("e-corner"),t.isNullOrUndefined(this.popupListWrapper)||this.popupListWrapper.addClass("e-corner"),this.inputSearch&&this.inputSearch.parent(".e-in-wrap").addClass("e-corner")):(this.container.removeClass("e-corner"),t.isNullOrUndefined(this.popupListWrapper)||this.popupListWrapper.removeClass("e-corner"),this.inputSearch&&this.inputSearch.parent(".e-in-wrap").removeClass("e-corner"))},_enabled:function(e){e?this.enable():this.disable()},_RightToLeft:function(){this.model.enableRTL?this.wrapper.addClass("e-rtl"):this.wrapper.removeClass("e-rtl")},_dropbtnRTL:function(){this.model.enableRTL?(this.popupListWrapper.addClass("e-rtl").find(".e-resize-handle").addClass("e-rtl-resize"),this.popupList.addClass("e-rtl")):(this.popupListWrapper.removeClass("e-rtl").find(".e-resize-handle").removeClass("e-rtl-resize"),this.popupList.removeClass("e-rtl"))},_OnDropdownClick:function(i){if(this._preventDefaultAction(i),e(i.target).is("li")&&e(i.target).parent().hasClass("e-boxes")||e(i.target).parents("ul").hasClass("e-boxes")&&e(i.target).hasClass("e-icon e-close")||this.model.readOnly||this._readOnly)return!1;(t.isNullOrUndefined(this.ultag)?this.model.loadOnDemand&&!t.isNullOrUndefined(this.model.dataSource):this.ultag.find("li").length>0)&&(i.which&&1==i.which||i.button&&0==i.button)&&this._OnPopupHideShow()},_OnPopupHideShow:function(){if(this._isPopupShown())this._hideResult();else if(this._showResult(),this.model.enableFilterSearch){if(0==this.getSelectedItem().length)this.ultag.find("li:first").addClass("e-hover");else{var t=this.getSelectedItem().length;e(this.getSelectedItem()[t-1]).addClass("e-hover")}e(this.inputSearch).focus()}else this.wrapper.focus()},_showFullList:function(){var e=this._dataSource();t.isNullOrUndefined(this.ultag)&&(this.ultag=t.buildTag("ul.e-ul","",{},{role:"listbox"})),t.DataManager&&e instanceof t.DataManager?e.dataSource.offline||e.dataSource.json&&e.dataSource.json.length>0?this._getFilteredList(e.dataSource.json):this._initDataSource(e):this._getFilteredList(e)},_getFilteredList:function(e){if(!e||!e.length||e.length<1)this._targetElementBinding(),this._renderRemaining();else{var i=t.DataManager(e).executeLocal(this._isPlainType(e)?t.Query():this._getQuery(!0));this._totalCount=i.count,this._listItem(i.result?i.result:i),this._renderPopupList(),this._rawList=this.popupListItems.slice()}},_cascadeAction:function(){if(this.model.cascadeTo)for(var i=this.model.cascadeTo.split(","),s=0;s<i.length;s++)e("#"+i[s]).hasClass("e-dropdownlist")?this._doCascadeAction(i[s],this,this.checkedStatus):e("#"+i[s]).on("ejDropDownListcreate",{Obj:this,status:this.checkedStatus},(function(e){t.isNullOrUndefined(e.data.Obj.getValue())||""==e.data.Obj.getValue()||e.data.Obj._doCascadeAction(this.id,e.data.Obj,e.data.status)}))},_doCascadeAction:function(i,s,a){s._currentValue=s._getField(s.popupListItems[s._activeItem],s.mapFld._value),s.selectDropObj=e("#"+i).ejDropDownList("instance");var o={cascadeModel:s.selectDropObj.model,cascadeValue:s._currentValue,setCascadeModel:{},requiresDefaultFilter:!0};this._trigger("cascade",o),s.selectDropObj._setCascadeModel=o.setCascadeModel,t.isNullOrUndefined(s[i])&&(s[i]=s.selectDropObj._dataSource()),t.DataManager&&s[i]instanceof t.DataManager?s._cascadeOdataInit(s[i],o.requiresDefaultFilter,a,o.cascadeQuery):s._cascadeJsonInit(s.selectDropObj,s[i],s.mapFld._value,o.requiresDefaultFilter,a,o.cascadeQuery)},_cascadeOdataInit:function(e,t,i,s){var a,o=this;o._dQuery=this.selectDropObj._getQuery().clone(),a=o._dQuery.clone(),t?a.where(o.mapFld._value,"equal",o._currentValue):a=s,o.selectDropObj._addLoadingClass(),o._trigger("actionBegin",{requestFrom:"cascade"})||e.executeQuery(a).fail((function(e){o._changedSource=null,o.selectDropObj.setModel({dataSource:o._changedSource,enabled:!1}),o._trigger("actionFailure",{e:e,requestFrom:"cascade"})})).done((function(e){o._trigger("actionSuccess",{e:e,requestFrom:"cascade"}),o._cascadeDataBind(o.selectDropObj,e.result,i),o.selectDropObj._removeLoadingClass()})).always((function(e){o._trigger("actionComplete",{e:e,requestFrom:"cascade"})}))},_cascadeJsonInit:function(e,i,s,a,o,r){var l=a?t.Query().where(s,"==",this._currentValue):r,n=t.DataManager(i).executeLocal(l);this._cascadeDataBind(e,n,o)},_cascadeDataBind:function(i,s,a){var o,r,l,n,d,h,c=i.value();if(this.model.showCheckbox&&a||"none"!=this.model.multiSelectMode&&this.activeItem.hasClass("e-active"))this._changedSource=t.isNullOrUndefined(this._changedSource)?s:this._changedSource.concat(s);else if(this.model.showCheckbox||"none"!=this.model.multiSelectMode){for(o=0;o<s.length;o++)if(this._isPlainType(s)&&this._isPlainType(this._changedSource))this._changedSource.splice(this._changedSource.indexOf(s[o]),1);else for(r=0;r<this._changedSource.length;r++)JSON.stringify(this._changedSource[r])==JSON.stringify(s[o])&&this._changedSource.splice(r,1);i.setModel({dataSource:null})}else this._changedSource=s;if(l=i.model.value,n=JSON.parse(JSON.stringify(i.model)),i.setModel({dataSource:this._changedSource,enabled:this._changedSource.length>0}),this._isSingleSelect()||i.selectItemByValue(c),(i.model.showCheckbox||"none"!=i.model.multiSelectMode)&&e("input:hidden[id^='#'][name="+i._id+"]").remove(),i._setSelectedItem)i.setModel(i._setCascadeModel);else{for(d=["value","text","selectedIndex","selectedIndices"],h=0;h<d.length;h++)i.model[d[h]]=n[d[h]];i.model.value=l,i._finalize()}i._setSelectedItem=!0},_OnMouseEnter:function(t){var i,s;if(!this.model.enabled||this.model.readOnly)return!1;this.ultag.children("li").removeClass("e-hover"),e(t.target).is("li:not('.e-category')")&&e(t.target).addClass("e-hover"),e(t.target).hasClass("e-disable")?e(t.target).removeClass("e-hover"):"li"!=t.target.tagName&&(i=e(t.target).parents("li:not('.e-category')"),e(i).addClass("e-hover")),this.ultag.children("li:not('.e-category')").each((function(t){if(e(this).hasClass("e-hover"))return s=t,!1})),this._activeItem=s},_OnMouseLeave:function(){if(!this.model.enabled||this.model.readOnly||this._readOnly)return!1;this.ultag.children("li").removeClass("e-hover")},_OnMouseClick:function(t){var i,s,a;if(this._uiInteract=!0,!this.model.enabled||this.model.readOnly||this._readOnly||this.model.enableFilterSearch&&e(t.target).is("li")&&e(t.target).hasClass("e-nosuggestion"))return!1;(!e(t.target).is("li")||e(t.target).hasClass("e-disable"))&&(e(t.target).is("li")||e(t.target).closest("li").hasClass("e-disable"))||(this._isSingleSelect()?(this._enterTextBoxValue(),this._hideResult()):this.model.showCheckbox?(i="LI"===t.target.nodeName?t.target:e(t.target).parents("li.e-hover"),s=e(i).find(".e-checkwrap")[0],this._onCheckChange({target:s})):(a=e(t.target).is("li")?t.target:e(t.target).closest("li")[0],this._activeItem=e.inArray(a,this._getLi()),e(a).hasClass("e-active")?this._removeTextBoxValue():this._enterTextBoxValue()))},_OnDocumentClick:function(t){if(this.model&&(!this.model.enabled||this.model.readOnly||this._readOnly))return!1;e(t.target).is(this.popupList)||e(t.target).parents(".e-ddl-popup").is(this.popupListWrapper)||e(t.target).is(this._visibleInput)||e(t.target).parents(".e-ddl").is(this.wrapper)?e(t.target).is(this.inputSearch)?this.inputSearch.focus():(e(t.target).is(this.popupList)||e(t.target).parents(".e-ddl-popup").is(this.popupListWrapper))&&this._preventDefaultAction(t):this._hideResult()},_OnKeyPress:function(e){this.model.enableIncrementalSearch&&13!=e.keyCode&&this._OnTextEnter("mozilla"==t.browserInfo().name?e.charCode:e.keyCode),32==e.keyCode&&this._preventDefaultAction(e)},_OnTextEnter:function(i){var s,a,o,r=this;this._incqueryString+=String.fromCharCode(i),this._incqueryString.length>0&&setTimeout((function(){r._incqueryString=""}),this.model.incrementalSearchDelay);var l,n=this._getLi(),d=null,h=this.model.caseSensitiveSearch,c=this._incqueryString,u=this._incqueryString.length;if(h||(c=c.toLowerCase()),this._prevQueryString==c){for(l=0;l<this._matchedListItems.length;l++)if(e(this._matchedListItems[l]).hasClass("e-active")||this.model.showCheckbox&&e(this._matchedListItems[l]).hasClass("e-hover")){d=l==this._matchedListItems.length-1?this._matchedListItems[0]:this._matchedListItems[l+1];break}}else if(!t.isNullOrUndefined(n)){for(this._matchedListItems=[],s=this.selectedIndex(),l=0;l<n.length;l++)l!=s&&((l==n.length||-1==l)&&(l=-1),-1==s&&(s=n.length,l=0),n[a=-1==l?0:l],o=e(n[a]).text(),(o=h?o:o.toLowerCase()).substr(0,u)==c&&this._matchedListItems.push(n[a]));this._prevQueryString=c,d=this._matchedListItems[0]}t.isNullOrUndefined(d)||(this._activeItem=e.inArray(d,n),this._isSingleSelect()&&!t.isNullOrUndefined(this.scrollerObj)?(this._enterTextBoxValue(),this.scrollerObj.setModel({scrollTop:this._calcScrollTop("active")})):this._isPopupShown()&&(this._removeListHover(),this._addListHover()))},_selectItem:function(e){this._isSingle||this._clearTextboxValue(),this.activeItem&&this._setAttr(this.activeItem[0],{"aria-selected":!1}),this._activeItem=e,this._addListHover(),this.wrapper.focus(),this._enterTextBoxValue()},_focusItem:function(e){this._removeListHover(),this._activeItem=e,this._addListHover()},_selectFocusedItem:function(e){this._focusItem(e),this._enterTextBoxValue()},_selectShiftDown:function(t,i,s){s||this._clearTextboxValue();for(var a=t;a<=i;a++)e.inArray(a,this._disabledItems)<0&&e.inArray(a,this.model.selectedIndices)<0&&this._selectFocusedItem(a)},_selectShiftUp:function(t,i,s){s||this._clearTextboxValue();for(var a=i;a>=t;a--)e.inArray(a,this._disabledItems)<0&&e.inArray(a,this.model.selectedIndices)<0&&this._selectFocusedItem(a)},_selectShiftHome:function(t,i,s){if(s||this._clearTextboxValue(),t>=0&&t<=this._listSize-1){if(0==t)this._clearTextboxValue();else for(var a=t;a>=i;a--)e.inArray(a,this._disabledItems)<0&&e.inArray(a,this.model.selectedIndices)<0&&(this._activeItem=a,this._enterTextBoxValue());this._activeItem=t,0==t&&this._enterTextBoxValue(),this.scrollerObj.setModel({scrollTop:0})}},_selectShiftEnd:function(t,i,s){if(s||this._clearTextboxValue(),t<=this._listSize-1){if(t==i)this._clearTextboxValue();else for(var a=t;a<=i;a++)e.inArray(a,this._disabledItems)<0&&e.inArray(a,this.model.selectedIndices)<0&&(this._activeItem=a,this._enterTextBoxValue());this._activeItem=t,t==i&&this._enterTextBoxValue(),this.scrollerObj.setModel({scrollTop:this.ultag.outerHeight()})}},_getLastFocusedLi:function(){return this._selectedIndices&&this._selectedIndices.length>0?this._selectedIndices[this._selectedIndices.length-1]:null},_getLastShiftFocusedLi:function(t,i){var s=i?t-1:t+1;return e.inArray(s,this._selectedIndices)<0?t:this._getLastShiftFocusedLi(s,i)},_shiftUp:function(e,t,i){var s,a,o;if(null==e||e<0)this._checkDisableStep(0,t,!1,!1,!0);else if(e>0&&e<=this._listSize-1&&null!=(s=this._disableItemSelectUp(e-t)))if(null!=this._getLastFocusedLi())if(this._selectedIndices.length>1&&e-1==this._selectedIndices[this._selectedIndices.length-2])for(a=1;a<=t&&e-a==this._selectedIndices[this._selectedIndices.length-2];a++)this._activeItem=e+1-a,this._removeTextBoxValue(),this._focusItem(e-a);else o=this._getLastShiftFocusedLi(this._getLastFocusedLi(),!1),this._selectShiftUp(s,o,i);else this._moveUp(e,t,!1)},_shiftDown:function(e,t,i){var s,a,o;if(null==e||e<0)this._checkDisableStep(-1,t,!0,!1,!0);else if(e<this._listSize-1&&null!=(s=this._disableItemSelectDown(e+t)))if(null!=this._getLastFocusedLi())if(this._selectedIndices.length>1&&e+1==this._selectedIndices[this._selectedIndices.length-2])for(a=1;a<=t&&e+a==this._selectedIndices[this._selectedIndices.length-2];a++)this._activeItem=e-1+a,this._removeTextBoxValue(),this._focusItem(e+a);else o=this._getLastShiftFocusedLi(this._getLastFocusedLi(),!0),this._selectShiftDown(o,s,i);else this._moveDown(e,t,!1)},_moveUp:function(e,t,i){null==e||e<=0?this._checkDisableStep(0,t,!1,i):e>this._listSize-1?this._checkDisableStep(this._listSize-1,t,!1,i):e>0&&e<=this._listSize-1&&this._checkDisableStep(e,t,!1,i)},_moveDown:function(e,t,i){null==e||e<0?this._checkDisableStep(-1,t,!0,i):0==e?this._checkDisableStep(0,t,!0,i):e>=this._listSize-1?this._checkDisableStep(this._listSize-1,t,!0,i):e<this._listSize-1&&this._checkDisableStep(e,t,!0,i)},_checkDisableStep:function(e,t,i,s,a){var o,r=i?"_disableItemSelectDown":"_disableItemSelectUp",l=i?e+t:e-t,n=this[r](l);if(null==n)for(o=t;o>=0&&(l=i?e+o:e-o,null==(n=this[r](l)));o--);null!=n&&(s?this._focusItem(n):this._selectItem(n),a&&s&&this._enterTextBoxValue())},_disableItemSelectDown:function(t){return(null==t||t<0)&&(t=0),t<this._listSize?e.inArray(t,this._disabledItems)<0?t:this._disableItemSelectDown(t+1):this._listSize-1},_disableItemSelectUp:function(t){if((null==t||t<0)&&(t=0),t<this._listSize){if(e.inArray(t,this._disabledItems)<0)return t;if(t>0)return this._disableItemSelectUp(t-1)}},_preventDefaultAction:function(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},_OnKeyDown:function(e){var i,s,a,o,r;if(this._uiInteract=!0,this.model.enabled&&!t.isNullOrUndefined(this.popupListWrapper))if(this._itemId=null,i=this._getLi(),this._listSize=i.length,a=this.popupList.height(),s=this.ultag.children("li").outerHeight(),o=0!=Math.round(a/s)?Math.round(a/s):5,this._isSingle=this._isSingleSelect(),this._isSingle)switch(e.keyCode){case 38:if(e.altKey){this.ultag.find("li").length>0&&this._hideResult();break}case 33:r=33==e.keyCode?o:1,this._moveUp(this._activeItem,r),this._preventDefaultAction(e,!0);break;case 8:this._preventDefaultAction(e);break;case 40:if(e.altKey){this.ultag.find("li").length>0&&this._showResult();break}case 34:r=34==e.keyCode?o:1,this._moveDown(this._activeItem,r),this._preventDefaultAction(e,!0);break;case 37:this.model.enableRTL?this._moveDown(this._activeItem,1):this._moveUp(this._activeItem,1),this._preventDefaultAction(e);break;case 39:this.model.enableRTL?this._moveUp(this._activeItem,1):this._moveDown(this._activeItem,1),this._preventDefaultAction(e);break;case 9:case 27:this._isPopupShown()&&this._hideResult();break;case 35:this._moveDown(this._listSize-1,0),this._preventDefaultAction(e);break;case 36:r=null!=this._activeItem?this._activeItem:this._listSize-1,this._moveUp(r,r),this._preventDefaultAction(e)}else switch(e.keyCode){case 38:e.altKey?this.ultag.find("li").length>0&&this._hideResult():e.shiftKey?this._shiftUp(this._activeItem,1,e.ctrlKey):this._moveUp(this._activeItem,1,e.ctrlKey),this._preventDefaultAction(e);break;case 33:e.shiftKey?this._shiftUp(this._activeItem,o,e.ctrlKey):this._moveUp(this._activeItem,o,e.ctrlKey),this._preventDefaultAction(e);break;case 8:this._preventDefaultAction(e);break;case 40:e.altKey?this.ultag.find("li").length>0&&this._showResult():e.shiftKey?this._shiftDown(this._activeItem,1,e.ctrlKey):this._moveDown(this._activeItem,1,e.ctrlKey),this._preventDefaultAction(e);break;case 34:e.shiftKey?this._shiftDown(this._activeItem,o,e.ctrlKey):this._moveDown(this._activeItem,o,e.ctrlKey),this._preventDefaultAction(e);break;case 37:this.model.enableRTL?this._moveDown(this._activeItem,1,!1):this._moveUp(this._activeItem,1,!1),this._preventDefaultAction(e);break;case 39:this.model.enableRTL?this._moveUp(this._activeItem,1,!1):this._moveDown(this._activeItem,1,!1),this._preventDefaultAction(e);break;case 9:case 27:this._isPopupShown()&&this._hideResult();break;case 35:e.shiftKey?this._selectShiftEnd(this._activeItem,this._listSize-1,e.ctrlKey):this._moveDown(this._activeItem,this._listSize,e.ctrlKey),this._preventDefaultAction(e);break;case 36:r=null!=this._activeItem?this._activeItem:this._listSize-1,e.shiftKey?this._selectShiftHome(this._activeItem,0,e.ctrlKey):this._moveUp(this._activeItem,r,e.ctrlKey),this._preventDefaultAction(e)}},_OnKeyUp:function(i){var s;if(this.model.enabled&&!t.isNullOrUndefined(this.popupListWrapper)){if(this._preventDefaultAction(i),i.target,null==this._activeItem&&(this._activeItem=this._getLi().index(this.popupList.find("ol,ul").children("li.e-hover"))),""==this._trim(this._visibleInput.val())&&38==i.keyCode&&40==i.keyCode)return this._hideResult(),!1;switch(i.keyCode){case 13:!this._isSingle&&this._isPopupShown()&&(i.ctrlKey||i.shiftKey)&&this._activeItem>=0?this._selectAndUnselect():!this._isPopupShown()||i.ctrlKey||i.shiftKey?this._isPopupShown()&&this._hideResult():(t.isNullOrUndefined(this.inputSearch)||(0==this.getSelectedItem().length||!this.listitems[0].classList.contains("e-active")&&this._activeItem>=0?(this.selectItemByIndex(this._activeItem),e(this.listitems[this._activeItem]).removeClass("e-hover")):(s=this._getLastFocusedLi(),("none"!=this.model.multiSelectMode||this.model.showCheckbox)&&(this.unselectItemByIndex(s),e(this.listitems[s]).removeClass("e-hover")))),this._hideResult()),this._preventDefaultAction(i);break;case 32:this._isPopupShown()&&this._isSingle&&this._hideResult(),!this._isSingle&&this._isPopupShown()&&this._activeItem>=0&&this._selectAndUnselect(),this._preventDefaultAction(i);break;case 8:"visualmode"==this.model.multiSelectMode&&this._deleteLastBox(),this._preventDefaultAction(i);break;case 46:if("visualmode"==this.model.multiSelectMode||this.model.showCheckbox){this._deleteBox(this._ulBox.children("li.e-active"));break}}}},_isSingleSelect:function(){return!this.model.showCheckbox&&"none"==this.model.multiSelectMode},_selectAndUnselect:function(){this.model.showCheckbox?this._isChecked(this._getActiveItem().find(".e-checkwrap")[0])?this._removeTextBoxValue():this._enterTextBoxValue():"none"!=this.model.MultiSelectMode&&(this._getActiveItem().hasClass("e-active")?this._removeTextBoxValue():this._enterTextBoxValue())},_targetFocus:function(){this.model.enabled&&!this._isFocused&&(this._isWatermark||this._hiddenSpan.css("display","none"),this.wrapper.addClass("e-focus e-popactive"),this._isFocused=!0,this._trigger("focusIn"))},_targetBlur:function(){this.model.enabled&&(this._isFocused=!1,this.wrapper.removeClass("e-focus e-popactive"),this._setWatermark(),this._trigger("focusOut"))},_getLocalizedLabels:function(e){return this._localizedLabels[e]===i?t.DropDownList.Locale["en-US"][e]:this._localizedLabels[e]},_wireEvents:function(){this._on(this.wrapper,"focus",this._targetFocus),this._on(this.wrapper,"blur",this._targetBlur),this._on(this.wrapper,"keydown",this._OnKeyDown),t.isNullOrUndefined(this.popupList)||this._on(this.popupList,"keydown",this._OnKeyDown),t.isNullOrUndefined(this.popupList)||this._on(this.popupList,"keyup",this._OnKeyUp),this._on(this.wrapper,"keyup",this._OnKeyUp),t.isNullOrUndefined(this.popupList)||this._on(this.popupList,"keypress",this._OnKeyPress),this._on(this.wrapper,"keypress",this._OnKeyPress)},_unwireEvents:function(){this._off(this.wrapper,"focus",this._targetFocus),this._off(this.wrapper,"blur",this._targetBlur),this._off(this.wrapper,"keydown",this._OnKeyDown),t.isNullOrUndefined(this.popupList)||this._off(this.popupList,"keydown",this._OnKeyDown),t.isNullOrUndefined(this.popupList)||this._off(this.popupList,"keyup",this._OnKeyUp),this._off(this.wrapper,"keyup",this._OnKeyUp),t.isNullOrUndefined(this.popupList)||this._off(this.popupList,"keypress",this._OnKeyPress),this._off(this.wrapper,"keypress",this._OnKeyPress),e(window).off("resize",e.proxy(this._OnWindowResize,this))},_multiItemSelection:function(e,t){var i,s;for(this._ulBox||"visualmode"!=this.model.multiSelectMode||this._renderBoxModel(),i=0;i<e.length;i++)s=t?this._rawList.length-(e.length-i):i,this._hasClass(e[i],"chkselect")&&(this._activeItem=s,this._enterTextBoxValue(),this._removeClass(e[i],"chkselect"));this._setWatermark()},_appendCheckbox:function(e,t){var i;for(this._ulBox||"visualmode"!=this.model.multiSelectMode||this._renderBoxModel(),i=0;i<e.length;i++){var s=t?this._rawList.length-(e.length-i):i,a=document.createElement("input"),o=document.createElement("span");this._setAttr(a,{type:"checkbox",name:"list"+s,"data-role":"none",id:this._id+"_check"+s})._setClass(a,"e-check-input")._setAttr(o,{name:"list"+s+"_wrap","data-role":"none",id:this._id+"_check"+s+"wrap",unselectable:"on","aria-checked":!1})._setClass(o,"e-checkwrap e-icon "),o.appendChild(a),e[i].insertBefore(o,e[i].childNodes[0]),this._hasClass(e[i],"chkselect")&&(this._activeItem=s,this._enterTextBoxValue(),this._removeClass(e[i],"chkselect"))}this._setWatermark()},_onCheckChange:function(t){this.checkChange=!0;var i="INPUT"===t.target.nodeName?t.target.parentElement:t.target;this._activeItem=e.inArray(e(i).parents("li")[0],this._getLi()),this._hasClass(i,"e-check-act")?this._removeTextBoxValue():this._enterTextBoxValue(!0),this.checkChange=!1},_isChecked:function(t){return this._hasClass(t,"e-check-act")&&1==e(t).children(".e-check-input")[0].checked},_removeCheck:function(){this._getLi().find(".e-checkwrap").remove()},_resetCheck:function(){var e,t,i=this._getLi();for(i.find(".e-check-act").removeClass("e-check-act").attr("aria-checked",!1),e=i.find(".e-check-input:checked"),t=0;t<e.length;t++)e[t].checked=!1}}),t.DropDownList.Locale=t.DropDownList.Locale||{},t.DropDownList.Locale.default=t.DropDownList.Locale["en-US"]={emptyResultText:"No suggestions",watermarkText:""},t.MultiSelectMode={None:"none",Delimiter:"delimiter",VisualMode:"visualmode"},t.VirtualScrollMode={Normal:"normal",Continuous:"continuous"}}(jQuery,Syncfusion),function(e,t,i){t.widget("ejDialog","ej.Dialog",{_rootCSS:"e-dialog",element:null,_ignoreOnPersist:["drag","dragStart","dragStop","resizeStop","resizeStart","resize","beforeClose","beforeOpen","collapse","expand","close","open","destroy","create","ajaxSuccess","ajaxError","contentLoad","actionButtonClick","enableResize"],model:null,validTags:["div","span"],_setFirst:!1,angular:{terminal:!1},defaults:{showOnInit:!0,closeOnEscape:!0,closeIconTooltip:"close",enableAnimation:!0,allowDraggable:!0,backgroundScroll:!0,height:"auto",minHeight:120,minWidth:200,maxHeight:null,maxWidth:null,enableModal:!1,position:{X:"",Y:""},containment:null,enableResize:!0,htmlAttributes:{},showHeader:!0,showFooter:!1,contentType:null,contentUrl:null,ajaxSettings:{type:"GET",cache:!1,data:{},dataType:"html",contentType:"html",async:!0},title:"",width:400,zIndex:1e3,cssClass:"",enableRTL:!1,allowKeyboardNavigation:!0,showRoundedCorner:!1,actionButtons:["close"],animation:{show:{effect:"fade",duration:400},hide:{effect:"fade",duration:400}},tooltip:{close:"Close",collapse:"Collapse",restore:"Restore",maximize:"Maximize",minimize:"Minimize",expand:"Expand",unPin:"UnPin",pin:"Pin"},footerTemplateId:null,locale:"en-US",faviconCSS:null,content:null,target:null,enablePersistence:!1,enabled:!0,isResponsive:!1,actionButtonClick:null,beforeClose:null,close:null,expand:null,collapse:null,beforeOpen:null,open:null,drag:null,dragStart:null,dragStop:null,resize:null,resizeStart:null,resizeStop:null,contentLoad:null,ajaxSuccess:null,ajaxError:null,create:null,destroy:null,Close:null},dataTypes:{showOnInit:"boolean",closeOnEscape:"boolean",enableAnimation:"boolean",backgroundScroll:"boolean",position:"data",animation:"data",closeIconTooltip:"string",tooltip:"data",allowDraggable:"boolean",enableModal:"boolean",enableResize:"boolean",isResponsive:"boolean",showHeader:"boolean",showFooter:"boolean",title:"string",faviconCSS:"string",zIndex:"number",cssClass:"string",enablePersistence:"boolean",contentUrl:"string",contentType:"string",enableRTL:"boolean",enabled:"boolean",allowKeyboardNavigation:"boolean",showRoundedCorner:"boolean",locale:"string",htmlAttributes:"data",ajaxSettings:"data",actionButtons:"array",footerTemplateId:"string"},_setModel:function(i){var s,a;for(s in i)switch(s){case"closeIconTooltip":this._dialogClose.attr("title",i[s]);break;case"tooltip":this._tooltipText(i[s]);break;case"title":this.model.title=i[s],this._ejDialog.find("span.e-title").length<=0?this._addTitleText():this._ejDialog.find("span.e-title").html(i[s]),this._updateCaptionWidth();break;case"width":this.model.width=i[s],this._changeSize(),this._updateCaptionWidth(),i[s]=this.model.width;break;case"height":this.model.height=i[s],this._changeSize(),i[s]=this.model.height;break;case"position":this.model.position=i[s],this._dialogPosition();break;case"cssClass":this._changeSkin(i[s]);break;case"showRoundedCorner":this.model.showRoundedCorner=i[s],this._roundedCorner(i[s]);break;case"contentType":this.model.contentType=i[s],this._appendContent(i[s]);break;case"enabled":this.model.enabled=i[s],this._enabledAction(i[s]);break;case"contentUrl":this.model.contentUrl=i[s],this._appendContent(this.model.contentType);break;case"backgroundScroll":this.model.backgroundScroll=i[s],!this.model.backgroundScroll&&this.model.enableModal?e("body").addClass("e-dialog-modal"):e("body").removeClass("e-dialog-modal");break;case"content":case"target":this._ejDialog.appendTo(e(i[s])),this.model.target=this.model.content=i[s],this._dialogPosition();break;case"containment":this._setDragArea(i[s]),t.isNullOrUndefined(this._target)?this._ejDialog.appendTo(document.body):this._ejDialog.appendTo(this._target),this.model.position.X=this.model.position.Y="",this._dialogPosition(),this.model.containment=i[s]=this._target,this.model.enableModal&&this._createOverlay(),this._dialogTitlebar.ejDraggable({dragArea:this._target});break;case"locale":this.model.locale=i[s],this.localizedLabels=this._getLocalizedLabels(),this._setLocaleCulture(this.localizedLabels,!0),this._tooltipText(this.model.tooltip),this._ejDialog.find("span.e-title").length<=0?this._addTitleText():this._ejDialog.find("span.e-title").html(this.model.title),this._updateCaptionWidth();break;case"minHeight":this.model.minHeight=i[s],this._ejDialog.css("minHeight",i[s]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"minWidth":this.model.minWidth=i[s],this._ejDialog.css("minWidth",i[s]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"maxHeight":this.model.maxHeight=i[s],this._ejDialog.css("maxHeight",i[s]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"maxWidth":this.model.maxWidth=i[s],this._ejDialog.css("maxWidth",i[s]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"zIndex":this._ejDialog.css("z-index",i[s]);break;case"faviconCSS":this.model.faviconCSS=i[s],this._favIcon(),this._updateCaptionWidth();break;case"isResponsive":this.model.isResponsive=i[s],this.model.isResponsive?this._ejDialog.addClass("e-dialog-resize"):this._ejDialog.removeClass("e-dialog-resize"),this._wireResizing();break;case"allowDraggable":this.model.allowDraggable=i[s],i[s]?this._enableDrag():this._dialogTitlebar.removeClass("e-draggable");break;case"enableResize":this.model.enableResize=i[s],i[s]?this._enableResize():(this._ejDialog.removeClass("e-resizable"),this._ejDialog.find(".e-resize-handle").remove()),this._reRenderScroller();break;case"showHeader":this.model.showHeader=i[s],i[s]?(this._renderTitleBar(),this._iconsRender(this.model.actionButtons),this.model.faviconCSS&&(this._dialogFavIcon=!1,this._favIcon()),this._enableDrag(),this._maximize||this._updateScroller(t.isNullOrUndefined(this.contentDiv)?this._ejDialog.outerHeight(!0)-1-this._dialogTitlebar.outerHeight(!0):"0px"==this.contentDiv.css("border-width"),t.isNullOrUndefined(this.contentDiv)?this._ejDialog.width()-2:"0px"==this.contentDiv.css("border-width"))):(this._ejDialog.find(".e-titlebar").remove(),this._maximize?this.refresh():this._updateScroller(t.isNullOrUndefined(this.contentDiv)?this._ejDialog.outerHeight(!0)-1:"0px"==this.contentDiv.css("border-width"),t.isNullOrUndefined(this.contentDiv)?this._ejDialog.width()-2:"0px"==this.contentDiv.css("border-width"))),this._roundedCorner(this.model.showRoundedCorner),this.model.showFooter&&this._setContainerSize()._resetScroller();break;case"showFooter":this.model.showFooter=i[s],i[s]?(this._appendContent(),this._ejDialog.find(".e-resizable").remove()):this._ejDialog.find(".e-footerbar").remove(),this._enableResize()._enableDrag()._sizeInPercent(),this._reRenderScroller(),this._setContainerSize()._resetScroller(),this._roundedCorner(this.model.showRoundedCorner);break;case"footerTemplateId":this.model.footerTemplateId=i[s],this.model.showFooter&&(this._ejDialog.find(".e-footerbar").empty(),a=e("body").find("#"+this.model.footerTemplateId).html(),this._dialogFooterbar.append(a),this._enableResize());break;case"enableRTL":this.model.enableRTL=i[s],this.model.faviconCSS&&this._favIcon(),i[s]?(this._ejDialog.addClass("e-rtl"),this.iframe&&this.iframe.contents().find("body").css("direction","rtl"),this.scroller&&this._resetScroller()):(this._ejDialog.removeClass("e-rtl"),this.iframe&&this.iframe.contents().find("body").css("direction","ltr"),this.scroller&&this._resetScroller());break;case"actionButtons":t.isNullOrUndefined(this._dialogTitlebar)||(this._removeAllIcons(),this._iconsRender(i[s])),this.model.actionButtons=i[s],this._updateCaptionWidth();break;case"enableModal":this._enableModal(i[s]);break;case"htmlAttributes":this._addAttr(i[s])}},_destroy:function(){this._overLay&&this._overLay.remove(),this._cloneElement.appendTo(this._ejDialog.parent()),this._ejDialog.remove(),this.model.enableAnimation&&this._ejDialog.stop(),this._cloneElement.removeClass("e-dialog"),this.element=this._cloneElement,this._isOpen=!1,e(window).off("resize",e.proxy(this._reSizeHandler,this))},keyConfigs:[37,38,39,40],_init:function(){this._init=!0,this._widthPercent=null,this._heightPercent=null,this._windowSize={outerWidth:e(window).outerWidth(),outerHeight:e(window).outerHeight()},this._initSize={width:this.model.width,height:this.model.height},this._sizeType={width:isNaN(this.model.width)?this.model.width.match(/px|%|auto/g)[0]:null,height:isNaN(this.model.height)?this.model.height.match(/px|%|auto/g)[0]:null},this._isOpen=this._maximize=this._minimize=!1,this.localizedLabels=this._getLocalizedLabels(),this._setLocaleCulture(this.localizedLabels),this._setDimension(),this.model.close||(this.model.close=this.model.Close),this.model.target||(this.model.target=this.model.content),this._responsive(),this._renderControl(),this._wireEvents(),this.scrObj=this._ejDialog.closest(".e-dialog.e-js").data("ejDialog"),this.scrObj&&this.scrObj._resetScroller(),this.hidden=!1,this._init=!1,this._keyNavigation=!1},_responsive:function(){this.width=this.model.width,e(this.element).width(this.width),this.height=this.model.height,e(this.element).height(this.height),e(window).on("resize",e.proxy(this._resizeHandler,this))},_resizeHandler:function(){this._maximize&&(this.width=e(this._dialogTitlebar).outerWidth(),e(this.contentDiv).width(this.width),e(this.contentDiv).children().width(this.width),this.model.height=this.height=e(window).height(),this._ejDialog.css({height:this.height}),this.contentDiv.height(this._ejDialog.height()-e(this._dialogTitlebar).outerHeight()-e(this._dialogFooterbar).outerHeight()),this.element.height(this.contentDiv.height())),t.isNullOrUndefined(this.element)||this._collapsible||this._resetScroller()},_setLocaleCulture:function(e,t){this.defaults.closeIconTooltip===this.model.closeIconTooltip&&(this.model.closeIconTooltip=e.closeIconTooltip),t&&(this.model.tooltip=this.localizedLabels.tooltip,this.model.title=this.localizedLabels.title),JSON.stringify(this.model.tooltip)===JSON.stringify(this.defaults.tooltip)&&(this.model.tooltip=e.tooltip),this.model.title===this.defaults.title&&(this.model.title=e.title)},_setDragArea:function(i){t.isNullOrUndefined(i)?this._target=null:"string"==typeof i?("parent"==i&&(this._target=e(this.element).parent()),"document"==i.toLowerCase()&&(this._target=e(document)),"window"==i.toLowerCase()?this._target=e(window):e(i).length>0&&(this._target=e(i))):"object"==typeof i?i.length>0&&(this._target=i):this._target=null},_addAttr:function(t){var i=this;e.map(t,(function(e,t){if("class"==t)i._ejDialog.addClass(e);else if("disabled"==t&&"disabled"==e)i.model.enabled=!1,i._enabledAction(!1);else if(i._ejDialog[0].hasAttribute("style")){var s=i._ejDialog[0].getAttribute("style")+e;i._ejDialog.attr(t,s)}}))},_tooltipText:function(i){e.extend(this.model.tooltip,i),!t.isNullOrUndefined(this._dialogClose)&&this._dialogClose.hasClass("e-close")&&this._dialogClose.attr("title",this.model.tooltip.close),!t.isNullOrUndefined(this._dialogCollapsible)&&(i.collapse||i.expand)&&(this._dialogCollapsible.hasClass("e-arrowhead-up")&&this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._dialogCollapsible.hasClass("e-arrowhead-down")&&this._dialogCollapsible.attr("title",this.model.tooltip.expand)),!t.isNullOrUndefined(this._dialogMaximize)&&(i.maximize||i.restore)&&(this._dialogMaximize.hasClass("e-maximize")&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._dialogMaximize.hasClass("e-restore")&&this._dialogMaximize.attr("title",this.model.tooltip.restore)),!t.isNullOrUndefined(this._dialogMinimize)&&(i.minimize||i.restore)&&(this._dialogMinimize.hasClass("e-minus")&&this._dialogMinimize.attr("title",this.model.tooltip.minimize),this._dialogMinimize.hasClass("e-restore")&&this._dialogMinimize.attr("title",this.model.tooltip.restore)),!t.isNullOrUndefined(this._dialogPin)&&(i.pin||i.unPin)&&(this._dialogPin.hasClass("e-unpin")&&this._dialogPin.attr("title",this.model.tooltip.pin),this._dialogPin.hasClass("e-pin")&&this._dialogPin.attr("title",this.model.tooltip.unPin))},_renderControl:function(){var i,s,a;this._cloneElement=this.element.clone(),this.element.attr("tabindex",0).attr({role:"dialog","aria-labelledby":this.element.prop("id")+"_title"}),this._ejDialog=t.buildTag("div.e-dialog e-widget e-box "+this.model.cssClass+" e-dialog-wrap e-shadow#"+(""==this.element.prop("id")?"":this.element.prop("id")+"_wrapper"),"",{display:"none",zIndex:this.model.zIndex},{tabindex:0}),this.model.isResponsive&&this._ejDialog.addClass("e-dialog-resize"),this.wrapper=this._ejDialog,this._addAttr(this.model.htmlAttributes),this._setDragArea(this.model.containment),t.isNullOrUndefined(this.model.containment)||t.isNullOrUndefined(this._target)?t.isNullOrUndefined(this.model.target)||(i=this.model.target):i=this._target,s=t.isNullOrUndefined(i)?document.body:i,(a=e(s).find("#"+this._id+"_wrapper").get(0))&&e(a).remove(),this._ejDialog.appendTo(s),this.model.enableRTL&&this._ejDialog.addClass("e-rtl"),this.model.showHeader&&(this._renderTitleBar(),this._iconsRender(this.model.actionButtons),this.model.faviconCSS&&this._favIcon()),this._appendContent(this.model.contentType),this._enableResize()._enableDrag()._setSize(),"auto"!=this.model.height&&this._sizeInPercent(),"ajax"!=this.model.contentType&&(this.model.showOnInit&&this.open()?this._setContainerSize()._resetScroller():this._setHiddenDialogSize()),this._roundedCorner(this.model.showRoundedCorner),this._enabledAction(this.model.enabled),"auto"==this._sizeType.width&&(this._maxWidth=this.model.width),"auto"==this._sizeType.height&&(this._maxHeight=this.model.height)},_setContainerSize:function(){if("auto"!=this.model.height){var t=this._ejDialog.outerHeight()-(this.model.showHeader?e(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)+(this.model.showFooter?e(this._ejDialog.find("div.e-footerbar")).outerHeight(!0):0)-1;this.contentDiv.height(t),this.element.outerHeight(t)}return this},_changeSize:function(){this._initSize={width:this.model.width,height:this.model.height},this._sizeType.width=isNaN(this.model.width)?this.model.width.match(/px|%|auto/g):null,this._sizeType.height=isNaN(this.model.height)?this.model.height.match(/px|%|auto/g):null,this._setSize()._sizeInPercent()._setContainerSize()._resetScroller()},_enableDrag:function(){return this.model.allowDraggable&&this.model.showHeader&&(this._dialogTitlebar.addClass("e-draggable"),this._dragDialog()),this},_enableResize:function(){if(this.model.enableResize){this._ejDialog.addClass("e-resizable");var e=t.buildTag("div.e-icon e-resize-handle");this.model.showFooter?e.appendTo(this._dialogFooterbar):e.appendTo(this._ejDialog),this._resizeDialog()}return this},_changeSkin:function(e){this.model.cssClass!=e&&this._ejDialog.removeClass(this.model.cssClass).addClass(e)},_enableModal:function(e){e?this._isOpen&&this._createOverlay():this._overLay&&this._overLay.remove()},_enabledAction:function(e){e?(this._ejDialog.removeClass("e-disable"),this.wrapper.children(".e-disable-overlay").remove(),t.isNullOrUndefined(this.scroller)||this.scroller.enable()):(this._ejDialog.addClass("e-disable"),t.buildTag("div.e-disable-overlay").appendTo(this.wrapper),t.isNullOrUndefined(this.scroller)||this.scroller.disable())},_renderTitleBar:function(){this._elementTitle=this.element.attr("title"),"string"!=typeof this._elementTitle&&(this._elementTitle=""),this.model.title=this.model.title||this._elementTitle,this._dialogTitlebar=t.buildTag("div#"+this.element.prop("id")+"_title.e-titlebar e-header").prependTo(this._ejDialog),this._addTitleText()},_renderFooterBar:function(){this._dialogFooterbar=t.buildTag("div#"+this.element.prop("id")+"_foot.e-footerbar e-js").appendTo(this._ejDialog)},_addTitleText:function(){return this.model.title&&(this._titleText=t.buildTag("span.e-title",this.model.title).prependTo(this._dialogTitlebar)),this},_updateCaptionWidth:function(){var e=this.model.faviconCSS&&!t.isNullOrUndefined(this._dialogFavIcon)?this._dialogFavIcon.outerWidth():0;return this._titleText&&!t.isNullOrUndefined(this._dialogTitlebar)&&this._titleText.css("max-width",this._dialogTitlebar.width()-20-this._dialogTitlebar.find(".e-dialog-icon").width()*this._dialogTitlebar.find(".e-dialog-icon").length-e),this},_iconsRender:function(i){for(var s=0;s<i.length;s++)switch("msie"==t.browserInfo().name&&t.browserInfo().version<=8?e.trim(i[s]):i[s].trim()){case"close":this._closeIcon();break;case"collapse":case"collapsible":this._collapsibleIcon();break;case"maximize":this._maximizeIcon();break;case"minimize":this._minimizeIcon();break;case"pin":this._pinIcon();break;default:this._customIconsRender(i[s])}},_customIconsRender:function(e){this._customIcon=t.util.buildTag("div#"+this.element[0].id+"_"+e+"button.e-dialog-icon e-icon e-"+e,null,null).attr("tabIndex","0").attr("title",e),this._customIcon.appendTo(this._dialogTitlebar),this._on(this._customIcon,"touchstart click",this._iconClick)},_iconClick:function(t){if(!this.element.hasClass("e-disable")){var i={cancel:!1,buttonID:e(t.target).attr("id"),event:t.type,model:this.model,currentTarget:t.currentTarget.title};this._trigger("actionButtonClick",i)}},_removeAllIcons:function(){this._dialogTitlebar.find("div.e-dialog-icon").remove()},_appendContent:function(i){var s,a,o,r,l;this.contentDiv=t.isNullOrUndefined(this.contentDiv)?t.buildTag("div.e-dialog-scroller"):this.contentDiv,this.element.removeAttr("title").addClass("e-widget-content e-box"),s=this,t.isNullOrUndefined(this.model.contentUrl)||t.isNullOrUndefined(i)?(this.dialogIframeContent=this.element.children().find("iframe").contents()[0],t.isNullOrUndefined(this.dialogIframeContent)?this.element.show().appendTo(this.contentDiv):this.element.show().appendTo(this.contentDiv).find("iframe").append(this.dialogIframeContent.lastChild)):"ajax"==i?(this.model.ajaxSettings.url=this.model.contentUrl,this._sendAjaxOptions(this.element,this.model.ajaxSettings.url)):"iframe"==i?(this.element.children(".e-iframe").length>0?(this.iframe=this.element.find("iframe.e-iframe"),this.iframe.attr("src",this.model.contentUrl)):(this.iframe=t.buildTag("iframe.e-iframe","",{width:"100%",height:"100%"},{scrolling:"auto",frameborder:0,src:this.model.contentUrl}),this.element.appendTo(this.contentDiv).append(this.iframe).show()),this.model.enableRTL&&e(this.iframe).load((function(){s.iframe.contents().find("body").css("direction","rtl")})),this._trigger("contentLoad",{contentType:i,url:this.model.contentUrl})):"image"==i?(a=t.buildTag("img.e-images","","",{src:this.model.contentUrl}),this.element.append(a).show().appendTo(this.contentDiv),e(a).on("load",(function(){s._dialogPosition()})),this._trigger("contentLoad",{contentType:i,url:this.model.contentUrl})):this.element.show().appendTo(this.contentDiv),this._ejDialog.find("div.e-resize-handle").length>0?0==this._ejDialog.find(".e-footerbar").length&&this.contentDiv.insertBefore(this._ejDialog.find("div.e-resize-handle")):(o=this.element.children().find("iframe").contents()[0],t.isNullOrUndefined(o)?0==this._ejDialog.find(".e-footerbar").length?this.contentDiv.appendTo(this._ejDialog):this.contentDiv.insertBefore(this._dialogFooterbar):(this.contentDiv.appendTo(this._ejDialog),r=e("#"+this.contentDiv.find("iframe").attr("id")),e(r[0].contentDocument.lastChild).remove(),r[0].contentDocument.appendChild(o),"mozilla"==t.browserInfo().name&&setTimeout((function(){e(r[0].contentDocument.lastChild).remove(),r[0].contentDocument.appendChild(o)}),500))),this.model.showFooter&&0==this._ejDialog.find(".e-footerbar").length&&(this._renderFooterBar(),null!=this.model.footerTemplateId&&(l=e("body").find("#"+this.model.footerTemplateId).html(),this._dialogFooterbar.append(l)))},_roundedCorner:function(e){this._ejDialog[e?"addClass":"removeClass"]("e-corner"),this.contentDiv.removeClass("e-dialog-top e-dialog-bottom e-dialog-content"),this.model.showRoundedCorner&&(this.model.showHeader&&!this.model.showFooter?this.contentDiv.addClass("e-dialog-bottom"):!this.model.showHeader&&this.model.showFooter?this.contentDiv.addClass("e-dialog-top"):this.model.showHeader||this.model.showFooter||this.contentDiv.addClass("e-dialog-content"))},_reRenderScroller:function(){if(this.scroller!=i&&(this.scroller.refresh(!0),!this.model.enableRTL)){if(this.scroller._vScrollbar&&this.scroller._vScrollbar._scrollData&&this.model.enableResize){if(this.model.showFooter)var e=this.scroller._vScrollbar.element.find("> div.e-vscroll").height(),t=0,s=0;else e=this.scroller._vScrollbar.element.find("> div.e-vscroll").height(),t=2,s=this._ejDialog.find("div.e-resize-handle").outerHeight();Math.floor(this.contentDiv.outerHeight())===Math.floor(this.scroller._vScrollbar.model.height+1)&&(this.scroller._vScrollbar.model.height-=s+t,this.scroller._vScrollbar._scrollData.handle-=s,this.scroller._vScrollbar._scrollData.handleSpace-=s+t,this.scroller._vScrollbar._updateLayout(this.scroller._vScrollbar._scrollData),this.scroller._vScrollbar.element.find("> div.e-vscroll").height(e-s-t))}if((!this.scroller._vScrollbar||!this.scroller._vScrollbar._scrollData)&&this.scroller._hScrollbar&&this.scroller._hScrollbar._scrollData&&this.model.enableResize){if(this.model.showFooter){var a=this.scroller._hScrollbar.element.find("> div.e-hscroll").width();t=0,s=0}else a=this.scroller._hScrollbar.element.find("> div.e-hscroll").width(),t=2,s=this._ejDialog.find("div.e-resize-handle").outerWidth();this.scroller._hScrollbar.model.width-=s+t,this.scroller._hScrollbar._scrollData.handle-=s+t,this.scroller._hScrollbar._scrollData.handleSpace-=s+t,this.scroller._hScrollbar._updateLayout(this.scroller._hScrollbar._scrollData),this.scroller._hScrollbar.element.find("> div.e-hscroll").width(a-s-t)}}},_dialogMaxZindex:function(){var t,i,s,a=this.element.parents();return t=e("body").children(),e(t).each((function(e,t){a.push(t)})),i=e(this.model.target).children(),e(i).each((function(e,t){a.push(t)})),!(s=Math.max.apply(s,e.map(a,(function(t){if("static"!=e(t).css("position"))return parseInt(e(t).css("z-index"))||1}))))||s<1e4?s=1e4:s+=1,s},_setZindex:function(){var e=this._dialogMaxZindex();this.model.zIndex<=e&&this._ejDialog.css({zIndex:e+1})},_createOverlay:function(){var i,s=this._ejDialog.css("zIndex");t.isNullOrUndefined(this._overLay)||this._overLay.remove(),this.model.backgroundScroll||e("body").addClass("e-dialog-modal"),this._overLay=t.buildTag("div#"+this.element.attr("id")+"_overLay.e-overlay","",{zIndex:s-1}),e(this._overLay).addClass("e-widget"),t.isNullOrUndefined(this.model.containment)||t.isNullOrUndefined(this._target)?t.isNullOrUndefined(this.model.target)||(i=this.model.target):i=this._target,this._overLay.appendTo(t.isNullOrUndefined(i)?document.body:i);var a=t.isNullOrUndefined(this.model.containment)||t.isNullOrUndefined(this._target)?"fixed":"absolute",o=t.isNullOrUndefined(i)||"fixed"==a||"static"!=e(i).css("position").toLowerCase()?0:e(i).offset().left,r=t.isNullOrUndefined(i)||"fixed"==a||"static"!=e(i).css("position").toLowerCase()?0:e(i).offset().top;this._overLay.css({top:r,left:o,position:a})},_sendAjaxOptions:function(t,i){t.addClass("e-load");var s=this,a=this.model.title,o={success:function(e){try{s._ajaxSuccessHandler(e,t,i,a)}catch(o){}},error:function(e){try{s._ajaxErrorHandler({status:e.status,responseText:e.responseText,statusText:e.statusText},t,i,a)}catch(e){}},complete:function(){try{s._setContainerSize(),s._resetScroller(),s.model.showOnInit||s._setHiddenDialogSize()}catch(e){}}};e.extend(!0,o,this.model.ajaxSettings),this._sendAjaxRequest(o)},_setHiddenDialogSize:function(){this._isOpen||(this._ejDialog.css({display:"block",visibility:"hidden"}),this._setContainerSize()._resetScroller(),this._ejDialog.css({display:"none",visibility:""}))},_sendAjaxRequest:function(t){e.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.success,error:t.error,beforeSend:t.beforeSend,complete:t.complete})},_ajaxSuccessHandler:function(e,t,i){t.removeClass("e-load"),t.html(e).addClass("e-dialog-loaded").appendTo(this._ejDialog),t.appendTo(this.contentDiv),this._dialogPosition(),this.model.showOnInit&&this.open(),this._trigger("ajaxSuccess",{data:e,url:i})},_ajaxErrorHandler:function(e,t,i){t.addClass("e-dialog-loaded").appendTo(this.contentDiv),this._dialogPosition().open(),this._trigger("ajaxError",{data:e,url:i})},_closeIcon:function(){this._dialogClose=t.util.buildTag("div#"+this.element[0].id+"_closebutton.e-dialog-icon e-icon e-close",null,null).attr("tabIndex","0"),"close"==this.model.closeIconTooltip&&"Close"==this.model.tooltip.close?this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.close):"close"!=this.model.closeIconTooltip&&"Close"==this.model.tooltip.close?this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.closeIconTooltip):("close"==this.model.closeIconTooltip&&this.model.tooltip.close,this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.close)),this._on(this._dialogClose,"touchstart click",this._closeClick)},_collapsibleIcon:function(){this._dialogCollapsible=t.util.buildTag("div#"+this.element[0].id+"_collapsbutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._collapsible?this._dialogCollapsible.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.expand).addClass("e-arrowhead-down").removeClass("e-arrowhead-up"):this._dialogCollapsible.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.collapse).addClass("e-arrowhead-up").removeClass("e-arrowhead-down"),this._on(this._dialogCollapsible,"touchstart click",this._collapsibleClick)},_maximizeIcon:function(){this._dialogMaximize=t.util.buildTag("div#"+this.element[0].id+"_maximizebutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._maximize?this._dialogMaximize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.restore).addClass("e-restore").removeClass("e-maximize"):this._dialogMaximize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.maximize).addClass("e-maximize").removeClass("e-restore"),this._on(this._dialogMaximize,"touchstart click",this._maximizeClick)},_minimizeIcon:function(){this._dialogMinimize=t.util.buildTag("div#"+this.element[0].id+"_minimizebutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._minimize?this._dialogMinimize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.restore).addClass("e-restore").removeClass("e-minus"):this._dialogMinimize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.minimize).addClass("e-minus").removeClass("e-restore"),this._on(this._dialogMinimize,"touchstart click",this._minimizeClick)},_pinIcon:function(){this._dialogPin=t.util.buildTag("div#"+this.element[0].id+"_pinbutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._dialogPin.appendTo(this._dialogTitlebar).attr("title",this.dialogPin?this.model.tooltip.unPin:this.model.tooltip.pin).addClass(this.dialogPin?"e-pin":"e-unpin").removeClass(this.dialogPin?"e-unpin":"e-pin"),this._on(this._dialogPin,"touchstart click",this._pinClick)},_favIcon:function(){if(this._dialogFavIcon)e=this._dialogFavIcon.find("span").removeClass().addClass("e-dialog-custom");else{this._dialogFavIcon=t.util.buildTag("div.e-dialog-favicon","",{},{style:"float:"+(this.model.enableRTL?"right":"left")});var e=t.util.buildTag("span.e-dialog-custom","",{},{role:"presentation"});e.appendTo(this._dialogFavIcon),this._dialogFavIcon.appendTo(this._dialogTitlebar)}this.model.faviconCSS?e.addClass(this.model.faviconCSS):this._dialogFavIcon.remove(),this._dialogFavIcon.css("float",this.model.enableRTL?"right":"left")},_minMaxValidation:function(){var e=parseInt(this.model.minWidth),t=parseInt(this.model.minHeight),i=parseInt(this.model.maxWidth),s=parseInt(this.model.maxHeight),a=parseInt(this.model.width),o=parseInt(this.model.height),r=this._getParentObj();isNaN(this.model.minWidth)&&this.model.minWidth.indexOf("%")>0&&(e=this._convertPercentageToPixel(r.outerWidth(),e)),isNaN(this.model.minHeight)&&this.model.minHeight.indexOf("%")>0&&(t=this._convertPercentageToPixel(r.outerHeight(),t)),isNaN(this.model.maxWidth)&&this.model.maxWidth.indexOf("%")>0&&(i=this._convertPercentageToPixel(r.innerWidth(),i)),isNaN(this.model.maxHeight)&&this.model.maxHeight.indexOf("%")>0&&(s=this._convertPercentageToPixel(r.innerHeight(),s)),isNaN(this.model.width)&&this.model.width.indexOf("%")>0&&(a=this._convertPercentageToPixel(r.innerWidth(),a)),isNaN(this.model.height)&&this.model.height.indexOf("%")>0&&(o=this._convertPercentageToPixel(r.innerHeight(),o)),(i&&a>i||e&&a<e)&&(this.model.width=a>i?i:e),(s&&o>s||t&&o<t)&&(this.model.height=o>s?s:t)},_setSize:function(){var e=this.model;return this._minMaxValidation(),this._ejDialog.css({width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth}),this._ejDialog.css({height:e.height,minHeight:e.minHeight,maxHeight:e.maxHeight}),this._dialogPosition(),this},_resetScroller:function(){this.element.css({height:"auto","max-width":"","max-height":"",width:""});var i,s=this._ejDialog.outerHeight(!0)-(this.model.showHeader?e(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)-(this.model.showFooter?e(this._ejDialog.find("div.e-footerbar")).outerHeight(!0):0),a={width:"0px"==this.contentDiv.css("border-width")||"0px"==this.contentDiv.css("border-left-width")?Math.round(this._ejDialog.width()):Math.round(this._ejDialog.width()-2),enableRTL:this.model.enableRTL,height:"0px"==this.contentDiv.css("border-width")?s:s-1,enableTouchScroll:!1};"auto"==this.model.height&&(this.element.height()<this.model.maxHeight||!this.model.maxHeight)&&!this._maximize&&(a.height="auto"),"auto"!=this.model.width||this._maximize||(a.width=this.model.width),this.contentDiv.ejScroller(a),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),this._padding=parseInt(e(this.element).css("padding-top"))+parseInt(e(this.element).css("padding-bottom")),"none"==e(this._ejDialog).css("display")&&(this.hidden=!0,this._ejDialog.css({display:"block"})),!t.isNullOrUndefined(this.contentDiv.height())&&this.contentDiv.height()>0&&(i=t.isNullOrUndefined(this.scroller)?this.contentDiv.outerHeight()-this._padding:!this.scroller._hScrollbar&&this.scroller._vScrollbar?this.contentDiv.outerHeight():this.scroller._hScrollbar?this.contentDiv.outerHeight()-this.scroller.model.buttonSize:this.contentDiv.outerHeight(),"auto"!=this.model.height&&"100%"!=this.model.height?this.element.css({height:i-1}):this.element.css("height",this.model.height),"auto"!=this.model.height&&"100%"!=this.model.height||this.scroller._vScrollbar||this.element.css({"min-height":this.model.minHeight-(this.model.showHeader?e(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)}),this.scroller._vScrollbar||"auto"==this.model.width||"100%"==this.model.width?this.scroller._vScrollbar||this.element.css("width",this.model.width):this.element.outerWidth("0px"==this.contentDiv.css("border-width")||"0px"==this.contentDiv.css("border-left-width")?this._ejDialog.width():this._ejDialog.width()-2),this.element.css({"max-width":this.model.maxWidth,"max-height":this.model.maxHeight})),this.hidden&&this._ejDialog.css({display:"none"}),this.hidden=!1},_updateScroller:function(e,t){this.contentDiv.ejScroller({width:t,height:e,enableRTL:this.model.enableRTL,enableTouchScroll:!1}),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),this._changeSize()},_dragDialog:function(){var i=this;return this._ejDialog.parents(".e-dialog-scroller"),this._dialogTitlebar.ejDraggable({handle:".e-titlebar",cursorAt:{top:0,left:0},dragArea:i._target,dragStart:function(e){return e.element.attr("aria-grabbed",!0),i._clickHandler(),!i.dialogPin&&i.model.allowDraggable&&i.model.enabled?i._trigger("dragStart",{event:e})?(e.cancel=!0,!1):void 0:(e.cancel=!0,!1)},drag:function(e){i._trigger("drag",{event:e})},dragStop:function(s){var a,o;i._ejDialog.focus(),s.element.attr("aria-grabbed",!1),i.element.find("> .e-draggable.e-titlebar")&&(a=e("#"+i.element.find("> .e-draggable.e-titlebar").attr("id")).data("ejDraggable"))&&a.option("cursorAt",i.element.offset()),o=this.helper.offsetParent().offset(),i._trigger("dragStop",{event:s}),i.model.position.X=t.isNullOrUndefined(this.position.left)?parseInt(this.helper.css("left")):this.position.left-[o.left+parseFloat(this.helper.offsetParent().css("border-left-width"))],i.model.position.Y=t.isNullOrUndefined(this.position.top)?parseInt(this.helper.css("top")):this.position.top-[o.top+parseFloat(this.helper.offsetParent().css("border-top-width"))],i._positionChanged=!0,i.dlgresized=!0},helper:function(){return e(i._ejDialog).addClass("dragClone")}}),this},_resizeDialog:function(){if(this.model.enableResize){var t,i=this,s=!1,a=parseInt(this.model.minWidth),o=parseInt(this.model.minHeight),r=parseInt(this.model.maxWidth),l=parseInt(this.model.maxHeight);return t=this._getParentObj(),isNaN(this.model.minWidth)&&this.model.minWidth.indexOf("%")>0&&(a=this._convertPercentageToPixel(t.outerWidth(),a)),isNaN(this.model.minHeight)&&this.model.minHeight.indexOf("%")>0&&(o=this._convertPercentageToPixel(t.outerHeight(),o)),isNaN(this.model.maxWidth)&&this.model.maxWidth.indexOf("%")>0&&(r=this._convertPercentageToPixel(t.innerWidth(),r)),isNaN(this.model.maxHeight)&&this.model.maxHeight.indexOf("%")>0&&(l=this._convertPercentageToPixel(t.innerHeight(),l)),this._ejDialog.find("div.e-resize-handle").ejResizable({minHeight:o,minWidth:a,maxHeight:l,maxWidth:r,handle:"e-widget-content",resizeStart:function(e){if(i.dlgresized=!0,!i.model.enabled)return!1;s||i._trigger("resizeStart",{event:e}),s=!0,i.model.position={X:i._ejDialog.css("left"),Y:i._ejDialog.css("top")},i._dialogPosition()},resize:function(t){i.dlgresized=!0;var s=e(t.element).parents("div.e-dialog-wrap");i.model.height=e(s).outerHeight(),i.model.width=e(s).outerWidth(),i._setSize(),i._setContainerSize(),i._resetScroller(),i._updateCaptionWidth(),i._trigger("resize",{event:t}),i._sizeType={width:"px",height:"px"},this.scrObj&&this.scrObj._resetScroller()},resizeStop:function(t){i.dlgresized=!0,i._ejDialog.focus(),i._sizeInPercent();var a=e(t.element).parents("div.e-dialog-wrap");i.model.height=e(a).outerHeight(),i.model.width=e(a).outerWidth(),i._setSize(),i._setContainerSize(),i._resetScroller(),s&&i._trigger("resizeStop",{event:t}),s=!1,i._setDimension()},helper:function(){return e(i._ejDialog)}}),this}},_dialogPosition:function(){if(this._ejDialog.parents("form").length>0&&t.isNullOrUndefined(this.model.containment)&&t.isNullOrUndefined(this.model.target)&&this._ejDialog.appendTo(this._ejDialog.parents("form")),""!=this.model.position.X||""!=this.model.position.Y)if(this._ejDialog.css("position","absolute"),t.isNullOrUndefined(this.model.target)&&t.isNullOrUndefined(this.model.containment))this._ejDialog.css("left",this.model.position.X),this._ejDialog.css("top",this.model.position.Y);else{var i=t.isNullOrUndefined(this.model.containment)?this.model.target:this.model.containment;this.dlgresized||this._keyNavigation?(this._ejDialog.css("left",this.model.position.X),this._ejDialog.css("top",this.model.position.Y)):(this._ejDialog.css("left",e(i).offset().left+parseInt(this.model.position.X)),this._ejDialog.css("top",e(i).offset().top+parseInt(this.model.position.Y)))}else this._centerPosition();return this},_centerPosition:function(){var i,s,a,o,r=0,l=0;t.isNullOrUndefined(this.model.target)&&(t.isNullOrUndefined(this._target)||e(this._target).is(e(document))||e(this._target).is(e(window)))?(o=document.documentElement,r=(e(window).outerWidth()>this._ejDialog.width()?(e(window).outerWidth()-this._ejDialog.outerWidth())/2:0)+(window.pageXOffset||o.scrollLeft),l=(e(window).outerHeight()>this._ejDialog.height()?(e(window).outerHeight()-this._ejDialog.outerHeight())/2:0)+(window.pageYOffset||o.scrollTop)):("static"==(i=t.isNullOrUndefined(this._target)?e(this.model.target):e(this._target)).css("position")&&(s=i.offsetParent().offset(),r=(a=i.offset()).left-s.left,l=a.top-s.top),i.outerWidth()>this._ejDialog.width()&&(r+=(i.outerWidth()-this._ejDialog.width())/2),i.outerHeight()>this._ejDialog.height()&&(l+=(i.outerHeight()-this._ejDialog.height())/2)),this._ejDialog.css({top:l,left:r}),this._ejDialog.css("position","absolute")},_closeClick:function(e){"touchstart"==e.type&&e.preventDefault(),this.model.enabled&&(e.stopPropagation(),this.close(e))},_collapsibleClick:function(t){this.model.enabled&&(e(t.target).hasClass("e-arrowhead-up")?this._actionCollapse(t):e(t.target).hasClass("e-arrowhead-down")&&this._actionExpand(t))},_actionCollapse:function(e){this._minimize||(this._dialogCollapsible&&this._dialogCollapsible.removeClass("e-arrowhead-up").addClass("e-arrowhead-down"),this._dialogCollapsible&&this._dialogCollapsible.attr("title",this.model.tooltip.expand),this._ejDialog.find("div.e-resize-handle").hide(),this._ejDialog.find(".e-widget-content").parent().slideUp("fast"),this.model.showFooter&&this._dialogFooterbar.slideUp("fast"),this._ejDialog.removeClass("e-shadow"),this._ejDialog.css("minHeight","0"),this._ejDialog.height("auto"),this._trigger("collapse",{isInteraction:!!e}),this._collapsible=!0)},_actionExpand:function(e){this._minimize||(this._dialogCollapsible&&this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible&&this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._ejDialog.addClass("e-shadow"),this._ejDialog.find(".e-widget-content").parent().slideDown("fast"),this.model.showFooter&&this._dialogFooterbar.slideDown("fast"),this._maximize?(this._ejDialog.css({width:"100%",height:"100%"}),this.element.css({width:"100%",height:"100%"}),this.contentDiv.css({width:"100%",height:"100%"})):this._ejDialog.height(this.model.height),this._ejDialog.find("div.e-resize-handle").show(),this._trigger("expand",{isInteraction:!!e}),this._collapsible=!1)},_maximizeClick:function(i){if(this.model.enabled){var s=e(i.target),a=this._dialogMaximize;s.hasClass("e-maximize")?(this._actionMaximize(),this._dialogTitlebar&&(this._dialogTitlebar.find(".e-restore").removeClass("e-restore").addClass("e-minus"),this._dialogMinimize&&this._dialogMinimize.attr("title",this.model.tooltip.minimize)),s.removeClass("e-maximize").addClass("e-restore"),this._dialogMaximize.attr("title",this.model.tooltip.restore),this._hideIcon(!0)):s.hasClass("e-restore")&&(this._actionRestore(),s.removeClass("e-restore").addClass("e-maximize"),this._dialogMaximize.attr("title",this.model.tooltip.maximize),!t.isNullOrUndefined(a)&&e(a).hasClass("e-arrowhead-down")&&(e(a).removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogMaximize.attr("title",this.model.tooltip.collapse)),this._hideIcon(!0))}this._resetScroller()},_actionMaximize:function(){this._ejDialog.css("top","0px").css("left","0px").css("overflow","hidden").css("position",this.model.containment||this.model.target?"absolute":"fixed"),this._ejDialog.css({width:"100%",height:"100%"}),this.element.css({width:"100%",height:"100%"}),this.contentDiv.css({width:"100%",height:"100%"}),this._maximize=!0,this._minimize=!1;var i=this;this._dialogCollapsible&&!t.isNullOrUndefined(this._dialogCollapsible.hasClass("e-arrowhead-down"))&&(this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._collapseValue=!0),1==this._collapseValue&&this._ejDialog.find(".e-widget-content").parent().slideDown("fast",(function(){i.refresh(),i._reRenderScroller()})),this._resetScroller(),e(this.contentDiv).is(":hidden")&&this.contentDiv.show()},_actionRestore:function(){this.element.height("").width(""),this.contentDiv.height("").width(""),this._restoreDialog(),this._maximize=this._minimize=!1},_minimizeClick:function(i){if(this.model.enabled){var s=e(i.target),a=this._dialogMinimize.hasClass("e-icon")&&this._dialogMinimize;s.hasClass("e-minus")?(this._maximize&&this._setSize(),this._actionMinimize()):s.hasClass("e-restore")&&(this._actionRestore(),s.removeClass("e-restore").addClass("e-minus"),this._dialogMinimize.attr("title",this.model.tooltip.minimize),!t.isNullOrUndefined(a)&&e(a).hasClass("e-arrowhead-down")&&(e(a).removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogMinimize.attr("title",this.model.tooltip.collapse)),this._hideIcon(!0))}},_actionMinimize:function(){var t;e(window).height(),this._ejDialog.height(),this.element.height(),this._ejDialog.css("top","").css("bottom","0").css("left","0").css("position",this.model.containment||this.model.target?"absolute":"fixed"),this._ejDialog.css("minHeight","0"),this._dialogTitlebar?(this._dialogTitlebar.find(".e-restore").removeClass("e-restore").addClass("e-maximize"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._dialogTitlebar.find(".e-minus").removeClass("e-minus").addClass("e-restore"),this._dialogMinimize&&this._dialogMinimize.attr("title",this.model.tooltip.restore),this._isOpen?t=this._dialogTitlebar.outerHeight():(this._ejDialog.css({display:"block",visibility:"hidden"}),t=this._dialogTitlebar.outerHeight(),this._ejDialog.css({display:"none",visibility:""})),this._ejDialog.css("height",t+2),this._hideIcon(!1)):this._ejDialog.css("height",""),this.contentDiv.hide(),this.model.showFooter&&this._dialogFooterbar.hide(),this._maximize=!1,this._minimize=!0},_hideIcon:function(i){var s=this._dialogCollapsible?this._dialogCollapsible:null;i?(t.isNullOrUndefined(s)||e(s).parent(".e-dialog-icon").show(),this._ejDialog.find("div.e-resize-handle").show()):(t.isNullOrUndefined(s)||e(s).parent(".e-dialog-icon").hide(),this._ejDialog.find("div.e-resize-handle").hide())},_pinClick:function(t){if(this.model.enabled){var i=e(t.target);i.hasClass("e-unpin")?(this.dialogPin=!0,i.removeClass("e-unpin").addClass("e-pin"),this._dialogPin.attr("title",this.model.tooltip.unPin)):i.hasClass("e-pin")&&(this.dialogPin=!1,i.removeClass("e-pin").addClass("e-unpin"),this._dialogPin.attr("title",this.model.tooltip.pin))}},_restoreDialog:function(){this.contentDiv.show(),this.model.showFooter&&this._dialogFooterbar.show(),this._ejDialog.css({position:"absolute",bottom:""}).addClass("e-shadow"),this._setSize()._resetScroller(),this._dialogTitlebar&&(this._dialogTitlebar.find(".e-minus").parent().show(),this._dialogCollapsible&&(this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible.attr("title",this.model.tooltip.collapse)))},_clickHandler:function(){var e=this._dialogMaxZindex();parseInt(this._ejDialog.css("zIndex"))<e&&this._ejDialog.css({zIndex:e+1})},_mouseClick:function(t){t.currentTarget==this._id&&(e(t.target).hasClass("e-dialog")||e(t.target).hasClass("e-icon e-resize-handle"))&&(this._setZindex(),e(t.target).closest(".e-dialog.e-widget").focus())},_keyDown:function(t){var i;i=t.keyCode?t.keyCode:t.which?t.which:t.charCode,this.model.allowKeyboardNavigation&&this.model.enabled&&e(t.target).hasClass("e-dialog")&&e.inArray(i,this.keyConfigs)>-1&&this.model.allowDraggable&&!this.dialogPin&&(this._keyPressed(i,t.ctrlKey),t.preventDefault()),this.model.closeOnEscape&&27===i&&this.model.enabled&&(this.element.find(".e-js.e-dialog").first().is(":visible")||(this.close(t),t.preventDefault())),13===i&&this.model.enabled&&(e(t.target).hasClass("e-close")?this.close(t):(e(t.target).hasClass("e-arrowhead-up")||e(t.target).hasClass("e-arrowhead-down"))&&this._collapsibleClick(t),e(t.target).hasClass("e-maximize")||e(t.target).hasClass("e-restore")&&e(t.target).is(this._dialogMaximize)?this._maximizeClick(t):(e(t.target).hasClass("e-minus")||e(t.target).hasClass("e-restore")&&e(t.target).is(this._dialogMinimize))&&this._minimizeClick(t),(e(t.target).hasClass("e-pin")||e(t.target).hasClass("e-unpin"))&&this._pinClick(t)),9==i&&this.model.enableModal&&this._focusOnTab(t)},_focusOnTab:function(t){var i=this._ejDialog.find("a, button, :input, select, [tabindex]:not('-1')");i=e(i).find("a, button, :input, select, [tabindex]:not('')"),t.shiftKey?i[i.index(t.target)-1]||(t.preventDefault(),i.last().focus()):i[i.index(t.target)+1]||(t.preventDefault(),i[0].focus())},_keyPressed:function(e,t){switch(this._keyNavigation=!0,e){case 40:t?this._resizing("height",this._ejDialog.outerHeight()+3):this.option("position",{X:this._ejDialog.position().left,Y:this._ejDialog.position().top+3});break;case 39:t?this._resizing("width",this._ejDialog.outerWidth()+3):this.option("position",{X:this._ejDialog.position().left+3,Y:this._ejDialog.position().top});break;case 38:t?this._resizing("height",this._ejDialog.outerHeight()-3):this.option("position",{X:0==this._ejDialog.position().left?0:this._ejDialog.position().left,Y:this._ejDialog.position().top>3?this._ejDialog.position().top-3:0});break;case 37:t?this._resizing("width",this._ejDialog.outerWidth()-3):this.option("position",{X:this._ejDialog.position().left>3?this._ejDialog.position().left-3:0,Y:0==this._ejDialog.position().top?0:this._ejDialog.position().top})}},_resizing:function(e,t){this.model.enableResize&&this.option(e,t)},_sizeInPercent:function(){if(!this._enableWindowResize())return this;var e=this._getParentObj();return this._widthPercent="%"==this._sizeType.width?parseFloat(this.model.width):this._convertPixelToPercentage(e.outerWidth(),this._ejDialog.outerWidth()),this._heightPercent="%"==this._sizeType.height?parseFloat(this.model.height):this._convertPixelToPercentage(e.outerHeight(),this._ejDialog.outerHeight()),this._widthPercent>=100&&(this._widthPercent=100,this._ejDialog.outerWidth(e.outerWidth()),this.model.width=this._ejDialog.width()),this._heightPercent>=100&&(this._heightPercent=100,this._ejDialog.outerHeight(e.outerHeight()),this.model.height=this._ejDialog.height()),this},_getParentObj:function(){return t.isNullOrUndefined(this.model.containment)?t.isNullOrUndefined(this.model.target)?e(document):e(this.model.target):e(this.model.containment)},_convertPercentageToPixel:function(e,t){return Math.round(t*e/100)},_convertPixelToPercentage:function(e,t){return Math.round(t/e*100)},_reSizeHandler:function(){var t;this._maximize?this._resetScroller():(""!=this.model.position.X&&(""!=this.model.position.Y||this._minimize)||this._centerPosition(),t=this._getParentObj(),this._change=!1,this._windowSize.outerWidth!=e(window).outerWidth()?"%"==this._sizeType.width?this._percentageWidthDimension(t):this._pixelsWidthDimension(t):this._windowSize.outerHeight!=e(window).outerHeight()&&("%"==this._sizeType.height?this._percentageHeightDimension(t):this._pixelsHeightDimension(t)),this._change&&this._resizeContainer(t),this._windowSize={outerWidth:e(window).outerWidth(),outerHeight:e(window).outerHeight()},this._centerPosition())},_setDimension:function(){t.isNullOrUndefined(this.model.maxWidth)?t.isNullOrUndefined(this._sizeType.width)?this._maxWidth=+this.model.width:("px"==this._sizeType.width||"auto"==this._sizeType.width)&&(this._maxWidth=this.model.width):this._maxWidth=this.model.maxWidth,t.isNullOrUndefined(this.model.maxHeight)?t.isNullOrUndefined(this._sizeType.height)?this._maxHeight=+this.model.height:("px"==this._sizeType.height||"auto"==this._sizeType.height)&&(this._maxHeight=this.model.height):this._maxHeight=this.model.maxHeight},_percentageWidthDimension:function(e){this._ejDialog.outerWidth(this._convertPercentageToPixel(e.outerWidth(),this._widthPercent)),this._change=!0},_percentageHeightDimension:function(e){this._ejDialog.outerHeight(this._convertPercentageToPixel(e.outerHeight(),this._heightPercent)),this._change=!0},_pixelsWidthDimension:function(t){e(t).outerWidth()<=this._ejDialog.outerWidth()&&this._setWidth(t),e(t).outerHeight()<=this._ejDialog.outerHeight()&&!this.model.isResponsive&&this._setHeight(t),parseInt(this._ejDialog.css("width"))<parseInt(this._maxWidth)&&(parseInt(this._maxWidth)<e(t).outerWidth()?this._ejDialog.outerWidth(parseInt(this._maxWidth)):this._ejDialog.outerWidth(t.outerWidth()),this._change=!0)},_pixelsHeightDimension:function(t){e(t).outerHeight()<=this._ejDialog.outerHeight()&&!this.model.isResponsive&&this._setHeight(t),e(t).outerWidth()<=this._ejDialog.outerWidth()&&this._setWidth(t),parseInt(this._ejDialog.css("height"))<parseInt(this._maxHeight)&&(parseInt(this._maxHeight)<e(t).outerHeight()?this._ejDialog.outerWidth(parseInt(this._maxHeight)):this._ejDialog.outerHeight(t.outerHeight()),this._change=!0)},_setWidth:function(e){this._ejDialog.outerWidth(e.outerWidth()),this._change=!0},_setHeight:function(e){this._ejDialog.outerHeight(e.outerHeight()),this._change=!0},_resizeContainer:function(){this.contentDiv.width(this._ejDialog.width()),this.element.outerWidth(this.contentDiv.width());var i=this._ejDialog.height()-(this.model.showHeader?e(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0);this.contentDiv.height(t.isNullOrUndefined(this.contentDiv)?i-1:"0px"==this.contentDiv.css("border-width")),this.element.outerHeight(t.isNullOrUndefined(this.contentDiv)?i-1:"0px"==this.contentDiv.css("border-width")),this.scroller=this.contentDiv.ejScroller({width:!t.isNullOrUndefined(this.contentDiv)&&("0px"==this.contentDiv.css("border-width")?this._ejDialog.width():this._ejDialog.width()-2),height:!t.isNullOrUndefined(this.contentDiv)&&("0px"==this.contentDiv.css("border-width")?this.element.outerHeight():this.element.outerHeight()-2),rtl:this.model.rtl,enableTouchScroll:!1}),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),""==this.model.position.X||""==this.model.position.Y&&!this._minimize||this._positionChanged?this._centerPosition():this._ejDialog.css("height",this._dialogTitlebar.outerHeight()),this._updateCaptionWidth(),this._change=!1},_getLocalizedLabels:function(){return t.getLocalizedConstants(this.sfType,this.model.locale)},_enableWindowResize:function(){return!!(this.model.isResponsive||isNaN(this.model.width)&&this.model.width.indexOf("%")>0&&isNaN(this.model.height)&&this.model.height.indexOf("%")>0&&"auto"!=this.model.height)},_wireResizing:function(){e(window)[this._enableWindowResize()?"on":"off"]("resize",e.proxy(this._reSizeHandler,this))},_wireEvents:function(){this._on(this._ejDialog,"keydown",this._keyDown),this._on(this._ejDialog,"click",this._mouseClick),this._wireResizing()},refresh:function(){this._resetScroller()},open:function(){var i,s,a,o,r;return!!this._isOpen||1!=this._trigger("beforeOpen")&&(this.element.css("display","block"),this._setZindex(),this._minimize||this._maximize||this._init||this._dialogPosition(),i=this,s={},this._ejDialog.show(),this.model.enableAnimation&&(this._ejDialog.css({opacity:0}),"slide"==this.model.animation.show.effect?(o=this._ejDialog.css("left"),this._ejDialog.css({left:-this._ejDialog.width()}),s={left:o,opacity:1}):s={opacity:1}),this._ejDialog.animate(s,this.model.enableAnimation?Number(this.model.animation.show.duration):0,(function(){i.model&&("none"==i._ejDialog.css("display")&&i._ejDialog.show(),i._ejDialog.eq(0).focus(),i._ejDialog.css({opacity:""}),i.contentDiv.find("a:visible:enabled, button:visible:enabled, :input:visible:enabled, select:visible:enabled, .e-input").first().focus(),i._trigger("open"),i._updateCaptionWidth(),i.model.enableModal&&!i.model.backgroundScroll&&(i._ejDialog.height()>e(window).height()&&i._ejDialog.css("height",e(window).height()),i.model.height=e(window).height(),i._overLay.css("position","fixed"),i.scroller.refresh(!0),i.refresh()),(i.model.maxHeight||i.model.maxWidth)&&(a=i._ejDialog.outerHeight(!0)-(i._dialogTitlebar?i._dialogTitlebar.outerHeight(!0):0),("auto"==i.model.height||"100%"==i.model.height)&&(a=i.model.height),i._updateScroller(t.isNullOrUndefined(this.contentDiv)?a-2:"0px"==this.contentDiv.css("border-width"),t.isNullOrUndefined(this.contentDiv)?i._ejDialog.width()-2:"0px"==this.contentDiv.css("border-width")),i.scroller.refresh()))})),1==this.model.enableModal&&this._createOverlay(),this._isOpen=!0,this.element.find("> .e-draggable.e-titlebar")&&(r=e("#"+this.element.find("> .e-draggable.e-titlebar").attr("id")).data("ejDraggable"))&&r.option("cursorAt",this.element.offset()),this)},close:function(t){var i,s,a;return!this._isOpen||!this.model.enabled||(i=!!t,1!=this._trigger("beforeClose",{event:t,isInteraction:i})&&(this._isOpen=!1,s=this,a={},this.model.enableAnimation&&(a="slide"==this.model.animation.hide.effect?{left:-this._ejDialog.width(),opacity:0}:{opacity:0}),this._ejDialog.animate(a,this.model.enableAnimation?Number(this.model.animation.hide.duration):0,(function(){s._trigger("close",{event:t,isInteraction:i}),s._ejDialog.hide()})),this.model.enableModal&&(this._overLay&&this._overLay.remove(),this.model.backgroundScroll||e("body").removeClass("e-dialog-modal")),this))},isOpened:function(){return this.isOpen()},isOpen:function(){return this._isOpen},setTitle:function(e){return this.model.title=e,this._titleText.text(e),this._updateCaptionWidth(),this},setContent:function(e){return!!this.model.enabled&&(this.element.html(e),this._resetScroller(),this)},focus:function(){return this._setZindex(),this.element.focus(),this},minimize:function(){if(this.model.showHeader)return this._actionMinimize(),e(this.wrapper.find(".e-minus")[0]).parent().hide(),this},maximize:function(){if(this.model.showHeader)return this._actionMaximize(),e(this.wrapper.find(".e-maximize")[0]).removeClass("e-maximize").addClass("e-restore"),e(this.wrapper.find(".e-restore")[1]).removeClass("e-restore").addClass("e-minus"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.restore),this._dialogTitlebar&&this._dialogTitlebar.find(".e-minus").parent().show(),this._hideIcon(!0),this},restore:function(){if(this.model.showHeader){var t=this._minimize;return this._actionRestore(),e(this.wrapper.find(".e-restore")[0]).removeClass("e-restore").addClass(t?"e-minus":"e-maximize"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._hideIcon(!0),this}},pin:function(){if(this.model.showHeader)return this.dialogPin=!0,e(this.wrapper.find(".e-unpin")[0]).removeClass("e-unpin").addClass("e-pin"),this._dialogPin&&this._dialogPin.attr("title",this.model.tooltip.unPin),this},unpin:function(){if(this.model.showHeader)return this.dialogPin=!1,e(this.wrapper.find(".e-pin")[0]).removeClass("e-pin").addClass("e-unpin"),this._dialogPin&&this._dialogPin.attr("title",this.model.tooltip.pin),this},collapse:function(){if(this.model.showHeader)return this._actionCollapse(),this._collapseValue=!0,this},expand:function(){if(this.model.showHeader)return this._actionExpand(),this}}),t.Dialog.Locale=t.Dialog.Locale||{},t.Dialog.Locale.default=t.Dialog.Locale["en-US"]={tooltip:{close:"Close",collapse:"Collapse",restore:"Restore",maximize:"Maximize",minimize:"Minimize",expand:"Expand",unPin:"UnPin",pin:"Pin"},title:"",closeIconTooltip:"close"}}(jQuery,Syncfusion),function(e,t,i){t.widget("ejMaskEdit","ej.MaskEdit",{element:null,model:null,validTags:["input"],_addToPersist:["value"],_setFirst:!1,type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"],requireFormatters:!0},defaults:{maskFormat:"",value:null,watermarkText:"",name:null,height:"",width:"",showError:!1,htmlAttributes:{},cssClass:"",customCharacter:null,inputMode:"text",readOnly:!1,textAlign:t.TextAlign.Left,hidePromptOnLeave:!1,showRoundedCorner:!1,enablePersistence:!1,enabled:!0,locale:"en-US",showPromptChar:!0,validationRules:null,validationMessage:null,keydown:null,keyup:null,keyPress:null,change:null,mouseover:null,mouseout:null,focusIn:null,focusOut:null,create:null,destroy:null},dataTypes:{maskFormat:"string",showError:"boolean",enabled:"boolean",customCharacter:"string",cssClass:"string",watermarkText:"string",showRoundedCorner:"boolean",showPromptChar:"boolean",inputMode:"enum",textAlign:"enum",hidePromptOnLeave:"boolean",readOnly:"boolean",validationRules:"data",validationMessage:"data",htmlAttributes:"data"},_setModel:function(e){for(var i in e)switch(i){case"value":this.temp_index=0,this.indexValue=[],t.isPlainObject(e[i])&&(e[i]=null),this._setValue(e[i]),this._initObjects(),e[i]=this.get_UnstrippedValue(),this._raiseEvents("change",!0);break;case"width":this._setWidth(e[i]);break;case"height":this._setHeight(e[i]);break;case"watermarkText":this.model.watermarkText=e[i],this._changeWatermark(e[i]);break;case"showRoundedCorner":this._roundedCorner(e[i]);break;case"showPromptChar":this._setShowPrompt(e[i]);break;case"validationRules":null!=this.model.validationRules&&(this._hiddenInput.rules("remove"),this.model.validationMessage=null),this.model.validationRules=e[i],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":this.model.validationMessage=e[i],null!=this.model.validationRules&&null!=this.model.validationMessage&&(this._initValidator(),this._setValidation());break;case"textAlign":this._setTextAlign(e[i]);break;case"inputMode":this._setInputMode(e[i]);break;case"maskFormat":this.model.maskFormat=e[i],this._valueMapper(),this._maskModel=this.model.maskFormat,this._setMask(e[i]),this._initObjects(),e[i]=this.model.maskFormat;break;case"locale":this.model.value=this.get_StrippedValue(),this.model.locale=e[i],this._setValue(this.model.value),this._initObjects();break;case"cssClass":this._setSkin(e[i]);break;case"readOnly":this._setReadOnly(e[i]);break;case"enabled":this.model.enabled=e[i],this._controlStatus(e[i]);break;case"htmlAttributes":this._addAttr(e[i]);break;case"hidePromptOnLeave":this.model.hidePromptOnLeave=e[i],""!=this._textbox.value&&(this.model.hidePromptOnLeave?(this._unStrippedMask=this._textbox.value,this._textbox.value=this.get_UnstrippedValue()):this._textbox.value=this._textbox.value.replace(/[ ]/g,"_"),this.model.value=this._textbox.value)}},observables:["value"],_destroy:function(){t.isNullOrUndefined(this._hiddenInput)||this.element.attr("name",this._hiddenInput.attr("name")),this._isWatermark&&this.element.removeAttr("placeholder"),this.element.insertAfter(this.wrapper),t.isNullOrUndefined(this.wrapper)||this.wrapper.remove(),this.model.textAlign&&this.element.css("text-align",""),this.element.val("").removeClass(" e-mask e-input e-disable").empty(),this.element.removeAttr("aria-invalid aria-disabled")},_init:function(e){if(this.indexValue=[],this.temp_index=0,this._options=e,this._tempMask=this.model.maskFormat,this._keyFlag=!1,this._keyupFlag=!0,this._checkMask=!1,this._isAndroid=/android/i.test(navigator.userAgent.toLowerCase()),!this.element.is("input")||!this.element.is("input[type=text]")&&!this.element.is("input[type=password]")&&this.element.attr("type"))return this._destroy(),!1;this.element.attr("autocomplete","off"),this._isWatermark="placeholder"in document.createElement("input"),this._setValues(),this._valueMapper(),this._renderControl(),this._initObjects(),this._wireEvents(),this._addAttr(this.model.htmlAttributes),null!=this.model.validationRules&&(this._initValidator(),this._setValidation()),e&&e.value!=i&&this.model.value!==e.value&&this._trigger("_change",{value:this.get_UnstrippedValue(),unmaskedValue:this.get_StrippedValue()})},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_addAttr:function(i){var s=this;e.map(i,(function(e,i){var a=i.toLowerCase();"class"==a?s.wrapper.addClass(e):"name"==a?s._hiddenInput.attr(i,e):"disabled"==a&&"disabled"==e?s.disable():"readonly"==a&&"readOnly"==e?s._setReadOnly(!0):"style"==a||"id"==a?s.wrapper.attr(i,e):t.isValidAttr(s.element[0],i)?s.element.attr(i,e):s.wrapper.attr(i,e)}))},_setValidation:function(){var i,s,a,o,r;for(a in this._hiddenInput.rules("add",this.model.validationRules),i=(i=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),s=this._hiddenInput.attr("name"),i.settings.messages[s]={},this.model.validationRules)if(o=null,!t.isNullOrUndefined(this.model.validationRules[a])){if(t.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[a]))for(r in i.settings.messages[s][a]=e.validator.messages[a],this.model.validationMessage)a==r&&(o=this.model.validationMessage[a]);else o=this.model.validationRules.messages[a];i.settings.messages[s][a]=null!=o?o:e.validator.messages[a]}},_setShowPrompt:function(e){this.model.showPromptChar=e,this._textbox.value=this.model.showPromptChar?this._unStrippedMask:this.get_UnstrippedValue()},_controlStatus:function(e){1!=e?this.disable():this.enable()},_setValues:function(){this._unStrippedMask=null,this._charMap={9:"[0-9 ]",a:"[A-Za-z0-9 ]",A:"[A-Za-z0-9]",N:"[0-9]","#":"[0-9]","&":"[^\x7f]+","<":"",">":"",C:null!=this.model.customCharacter?"["+this.model.customCharacter+"]":"[A-Za-z ]","?":"[A-Za-z]"}},_renderControl:function(){if(this.model.name=null!=this.element.attr("name")?this.element.attr("name"):null!=this.model.name?this.model.name:this.element[0].id,null!=this.element.attr("name")&&this.element.removeAttr("name"),this.wrapper=t.buildTag("span.e-mask e-widget "+this.model.cssClass),this.innerWrapper=t.buildTag("span.e-in-wrap e-box"),this.wrapper.append(this.innerWrapper).insertBefore(this.element),this.innerWrapper.append(this.element),this._hiddenInput=t.buildTag("input#"+this._id+"_hidden","",{},{type:"hidden"}).insertBefore(this.element),this._isWatermark||"password"==this.model.inputMode||(this._hiddenSpan=t.buildTag("span.e-input e-placeholder ").insertAfter(this.element),this._hiddenSpan.text(this.model.watermarkText),this._hiddenSpan.css("display","none"),this._hiddenSpan.bind("mousedown",e.proxy(this._OnFocusHandler,this))),t.isNullOrUndefined(this.model.value)&&""!=this.element[0].value&&(this.model.value=this.element[0].value),t.isNullOrUndefined(this.model.value)||(this.wrapper.addClass("e-valid"),"number"==typeof this.model.value&&(this.model.value=this.model.value.toString())),this._hiddenInput.attr({name:this.model.name,value:this.model.value}),this.element.attr({"aria-invalid":!1}).addClass("e-input"),""==this.model.maskFormat&&null==this.model.value){var i=this;setTimeout((function(){""!=i.element.val()&&(i.option("value",i.element.val()),i.previousValue=i.model.value,i._initObjects())}),500)}else this.element.attr({value:this.model.value});t.isNullOrUndefined(this._options.inputMode)&&!t.isNullOrUndefined(this.element.attr("type"))?this.model.inputMode=this.element.attr("type"):this._setInputMode(this.model.inputMode),this._setWidth(this.model.width),this._setHeight(this.model.height),this._roundedCorner(this.model.showRoundedCorner),this._setTextAlign(this.model.textAlign),this._setReadOnly(this.model.readOnly),this._controlStatus(this.model.enabled),this.previousValue=this.model.value},_initObjects:function(){var e,t,i;if(this._textbox=this.element[0],this._keypressFlag=0,this._selectedTextKeyDown=0,this._keydownFlag=0,this.model.maskFormat.indexOf("\\")>=0){for(e=0,t=0;t<this.model.maskFormat.length;t++)"\\"==this.model.maskFormat[t]&&(e+=1);this._maskLength=this.model.maskFormat.length-e}else this._maskLength=this.model.maskFormat.length;if(this.model.maskFormat.indexOf("\\")>=0)if(this.model.value)for(this._maskModel="",i=0;i<this.model.maskFormat.length;++i)"\\"==this.model.maskFormat[i]?this._maskModel+=this.model.maskFormat[++i]:"\\"==this.model.maskFormat[i]||(this._maskModel+=this.model.maskFormat[i].replace(/[9?CANa#&]/g,"_"));else this._maskModel=this._emptyMask;else this._maskModel=this.model.maskFormat.replace(/[9?CANa#&]/g,"_");this._changeMask(this.model.locale),(this._maskModel.indexOf("<")>=0||this._maskModel.indexOf(">")>=0)&&(this._maskModel=this._maskModel.replace(/[<>]/g,""),this.model.maskFormat=this.model.maskFormat.replace(/[<>]/g,""),this._valueMapper()),this._validatedValue=this._maskModel,"password"!=this.model.inputMode&&(this._setValue(this.model.value),this._setWaterMark()),this.model.showError&&this.element.addClass("e-error").attr("aria-invalid","true"),this._prevValue=this.model.watermarkText?this._textbox.value?this._textbox.value:this._maskModel:this._textbox.value},_setWidth:function(e){this.wrapper.width(e)},_setHeight:function(e){this.wrapper.height(e)},_roundedCorner:function(e){e&&!this.innerWrapper.hasClass("e-corner")?this.innerWrapper.addClass("e-corner"):this.innerWrapper.hasClass("e-corner")&&this.innerWrapper.removeClass("e-corner")},_setTextAlign:function(e){"right"==e?(this.element.css("text-align",""),this.wrapper.addClass("e-rtl")):(this.wrapper.removeClass("e-rtl"),this.element.css("text-align",e))},_setInputMode:function(e){this.element.attr("type",e)},_setReadOnly:function(e){this.model.readOnly=e,e?this.element.attr("readonly",!0):this.element.removeAttr("readonly")},_setSkin:function(e){this.wrapper.removeClass(this.model.cssClass),this.wrapper.addClass(e)},_setWaterMark:function(){var i=this.model.showPromptChar?this._maskModel:""!=this._maskModel&&null!=this._maskModel?this._maskModel.replace(/[_]/g," "):this._maskModel;this._maskModel=this.model.maskFormat.indexOf("\\")>=0?""===this.model.maskFormat?null:i:""===e.trim(this.model.maskFormat.replace(/[9?CANa#&]/g,"_"))?null:this.model.maskFormat.replace(/[9?CANa#&]/g,"_"),(""!=this._maskModel&&null!=this._maskModel&&this._textbox.value==i||""==i&&""==this._textbox.value&&"password"!=this.model.inputMode)&&(this._textbox.value=""),0!=this.model.watermarkText.length||t.isNullOrUndefined(this.element.attr("placeholder"))||(this.model.watermarkText=this.element.attr("placeholder")),this.model.watermarkText&&(this._isWatermark?this.element.attr("placeholder",this.model.watermarkText):this._textbox.value?this._hiddenSpan.css("display","none").text(this.model.watermarkText):this._hiddenSpan.css("display","block").text(this.model.watermarkText)),this.model.watermarkText||this._textbox.value||!this.model.maskFormat||(this.model.hidePromptOnLeave?(this._unStrippedMask=this._maskModel,this._textbox.value=this.get_UnstrippedValue()):this._textbox.value=i)},_changeWatermark:function(t){if(!this.model.enabled)return!1;var i=this.model.showPromptChar?this._maskModel:""!=this._maskModel&&null!=this._maskModel?this._maskModel.replace(/[_]/g," "):this._maskModel;(this._textbox.value==i||""==this._textbox.value||""==e.trim(this.get_StrippedValue()))&&"password"!=this.model.inputMode&&(this._textbox.value=""),this._isWatermark?this.element.attr("placeholder",t):this._hiddenSpan.text(t),!this.model.watermarkText&&""==e.trim(this.get_StrippedValue())&&this.model.maskFormat&&(this.model.hidePromptOnLeave?(this._unStrippedMask=this._maskModel,this._textbox.value=this.get_UnstrippedValue()):this._textbox.value=i)},_showAlert:function(){var t=this;this.element.addClass("e-error").attr("aria-invalid","true").animate({Opacity:1},700,null,(function(){e(t._textbox).removeClass("e-error").attr("aria-invalid","false")}))},_unMask:function(){for(var e,t,s,a,o,r="",l=0,n=0,d=0,h="_",c=this.model.value.toString(),u="",p=this._rules.slice(),m=0;m<this._rules.length;m++){for(e=0;e<c.length;e++)if(p[m].rule&&c[e].match(p[m].rule)||p[m].rule===i){u+=p[m].rule?c.charAt(e):p[m],c=p[m].rule||p[m]===c[e]?c.slice(e+1,c.length):c,l=1;break}0===l&&c.length>0&&(u+=p[m].rule===i?p[m]:""),l=0}for(;n<this._rules.length&&(a=u[d],o=this._rules[n],a!=i)&&(a===o||a===h?(r+=a===h?h:a,d+=1,n+=1):o.rule===i?(r+=o,n+=1):this._rules[n].rule!=i&&a.match(this._rules[n].rule)?(s=u.charCodeAt(d),t=n,(">"===this._rules[0]||"<"===this._rules[0])&&(t=n-1),this._validateChars(s,t)?(r+=u.charAt(d),n++,d++):n++):"string"!=typeof o?a.match(this._rules[n].rule)?(s=u.charCodeAt(d),this._validateChars(s,n)&&(r+=u.charAt(d),n++,d++)):(d++,n++):n++,!(d>u.length)););return r},_validateValue:function(){var e,s,a,o,r,l,n,d,h,c,u;if(!t.isNullOrUndefined(this.model.value)){var p,m,g=this.model.value,_=this._maskModel,f=c=0,b="_",v=this._unMask();if(this._isWatermark||"password"==this.model.inputMode||this._hiddenSpan.css("display","none"),0==this._maskLength)return this._textbox.value=g,this._setWaterMark(),!0;for(e=this.model.value.toString(),g=this.model.maskFormat.indexOf("\\")>=0||null!=this.model.customCharacter?this.model.value:this.model.value=e;f<this._rules.length&&("_"===(p=v[c])&&"[^\x7f]+"===this._rules[f].rule&&(this.indexValue[this.temp_index]=f,this.temp_index++),m=this._rules[f],p!=i);)p===m||p===b?(o=_.substring(0,f),r=_.substring(f),_=o+p+r.substr(1,r.length),c+=1,f+=1):this._rules[f].rule!=i?(a=v.charCodeAt(c),s=f,(">"===this._rules[0]||"<"===this._rules[0])&&(s=f-1),this._validateChars(a,s)?(o=_.substring(0,s),r=_.substring(s),_=o+v.charAt(c)+r.substr(1,r.length),f++,c++):f++):"string"!=typeof m?p.match(this._rules[f].rule)?(a=v.charCodeAt(c),this._validateChars(a,f)?(o=_.substring(0,f),r=_.substring(f),_=o+v.charAt(c)+r.substr(1,r.length),f++,c++):f++):(o=_.substring(0,f),r=_.substring(f),_=o+b+r.substr(1,r.length),c++,f++):f++;if(this.model.value)if(this._textbox.value=_,this.model.value=this.get_UnstrippedValue(),null===this.model.value&&(this.model.value=_),this.model.maskFormat.indexOf("\\")>=0){for(this._textbox.value="",l=0,n=0;n<this.model.maskFormat.length;n++)"\\"==this.model.maskFormat[n]&&(l+=1);if(d=0,this.model.value.length==_.length-l)for(h=0;h<this.model.maskFormat.length;++h)"\\"==this.model.maskFormat[h]?d+=1:"\\"==this.model.maskFormat[h-1]?this._textbox.value+=g[h-d]:"\\"==this.model.maskFormat[h]||(this._textbox.value+=g.length<=h-d?_[h].replace(/[9?CANa#&]/g,"_"):g[h-d].replace(/[9?CANa#&]/g,"_"));else this._textbox.value=_}else this.model.hidePromptOnLeave?(this._unStrippedMask=_.replace(/[ ]/g,"_"),this._textbox.value=_):this._textbox.value=_;else if(this.model.maskFormat.indexOf("\\")>=0)for(h=0;h<this.model.maskFormat.length;++h)"\\"==this.model.maskFormat[h-1]?this._textbox.value+=this.model.maskFormat[h]:"\\"==this.model.maskFormat[h]||(this._textbox.value+=this.model.maskFormat[h].replace(/[9?CANa#&]/g,"_"));else this._textbox.value=this.model.maskFormat.replace(/[9?CANa#&]/g,"_");if(this._textbox.value!=i&&this.model.hidePromptOnLeave&&(this._unStrippedMask=this._textbox.value.replace(/[ ]/g,"_"),this._textbox.value=this.get_UnstrippedValue()),null!=this._maskModel&&(this._textbox.value.indexOf(">")>=0||this._textbox.value.indexOf("<")>=0)&&(this._textbox.value=this._textbox.value.replace(/[<>]/g,""),this._tempMask=this.model.maskFormat,this.model.maskFormat=this.model.maskFormat.replace(/[<>]/g,"")),this.model.showPromptChar||(this._textbox.value=this._getUnstrippedValue(!0)),null!=this._tempMask)for(c=0;c<this._textbox.value.length;c++)u=this._updateCasing(this._textbox.value[c],c),t.isNullOrUndefined(u)||(this._textbox.value=this._textbox.value.substring(0,c)+u+this._textbox.value.substring(c+u.length));this._setWaterMark()}},_selectionText:function(e,i){var s=t.isNullOrUndefined(this._maskModel)?"":this._maskModel.substring(e,i);return this._textbox.value=this._textbox.value.substring(0,e)+s+this._textbox.value.substring(i),1==this._keydownFlag?(this._setCaretPosition(e),e):2==this._keydownFlag?(this._setCaretPosition(i),i):e},_caretPosition:function(e){var t,i,s=0;return document.selection?(i=(t=document.selection.createRange()).text.length,t.moveStart("character",-e.value.length),s=t.text.length-i,0!=i&&(s=this._selectionText(s,t.text.length),this._selectedTextKeyDown=1)):(e.selectionStart||"0"==e.selectionStart)&&(s=e.selectionStart,e.selectionStart!=e.selectionEnd&&(this._keydownFlag&&(s=this._selectionText(e.selectionStart,e.selectionEnd)),this._selectedTextKeyDown=1)),s},_setCaretPosition:function(e){var t,i=this._textbox;"Microsoft Internet Explorer"==window.navigator.appName?i.createTextRange&&((t=i.createTextRange()).move("character",e),t.select()):i.selectionStart||"0"==i.selectionStart?(i.focus(),this._isAndroid?setTimeout((function(){i.setSelectionRange(e,e)}),0):i.setSelectionRange(e,e)):i.focus()},_validateChars:function(t,i){var s,a,o,r,l=this._charMap,n=!1;return this.model.maskFormat.indexOf("\\")>=0?(s=this._getCunrrentPos(i),a=this.model.maskFormat.substr(i+s,1)):a=this.model.maskFormat.substr(i,1),o=this.model.customCharacter,r=String.fromCharCode(t),e.each(l,(function(e,t){a==e&&(null!=o&&("C"==e?t="["+o+"]":("A"==e||"N"==e||"#"==e)&&(t=t.replace("]","")+o+"]")),n=!!r.match(new RegExp(t)))})),n},_seekNext:function(e,t){for(var i,s,a=this._caretPosition(this._textbox),o=e?t?a-t-1:a-1:a,r=o,l=!0;l;){if(o>=0&&o<this._maskLength){for(i=0,s=0;s<=o;s++)"\\"==this.model.maskFormat[s]&&(i+=1);if("C"!=this.model.maskFormat.charAt(o)&&(this.model.maskFormat.indexOf("\\")>=0?"\\"!=this.model.maskFormat.charAt(o+i)&&"\\"!=this.model.maskFormat.charAt(o+i-1)?this._charMap[this.model.maskFormat.charAt(o+i)]||o++:"\\"!=this.model.maskFormat.charAt(o+i)&&"\\"==this.model.maskFormat.charAt(o+i-1)&&++o:this._charMap[this.model.maskFormat.charAt(o)]||o++,o!=r)){r=o;continue}}l=!1}return o},_seekBefore:function(e){var t,i,s=this._caretPosition(this._textbox),a=e?s+1:s,o=--a,r=!0;for(1==this._selectedTextKeyDown&&(r=!1);r;){if(a>=0&&a<this._maskLength){for(t=0,i=0;i<=a;i++)"\\"==this.model.maskFormat[i]&&(t+=1);if("C"!=this.model.maskFormat.charAt(a)&&(this.model.maskFormat.indexOf("\\")>=0?"\\"!=this.model.maskFormat.charAt(a+t)&&"\\"!=this.model.maskFormat.charAt(a+t-1)?this._charMap[this.model.maskFormat.charAt(a+t)]||this._setCaretPosition(--a):"\\"==this.model.maskFormat.charAt(a+t-1)&&this._setCaretPosition(--a+t):this._charMap[this.model.maskFormat.charAt(a)]||this._setCaretPosition(--a)),a!=o){o=a;continue}}r=!1}return a},_writeBuffer:function(e,t,s){var a,o,r,l,n,d;if(t<=this._maskLength){if(a=this._textbox.value,null!=this.indexValue&&"95"!=s.keyCode)for(d=0;d<this.indexValue.length;d++)this.indexValue[d]==t&&("_"!=e||"8"==s.keyCode)&&(this.indexValue[d]="");if("95"==s.keyCode&&(this.indexValue[this.temp_index]=t,this.temp_index++),null!=this._tempMask&&(o=this._updateCasing(e,t)),e=o==i?e:o,r=a.substring(0,t),l=a.substring(t),this.model.maskFormat.indexOf("\\")>=0){for(n=0,d=0;d<=t;d++)this.model.maskFormat[d].indexOf("\\")>=0&&0!=t&&(n+=1);this._textbox.value=this.model.maskFormat[t+n].indexOf("\\")>=0?r+a[t]+l.substr(1,l.length):r+e+l.substr(1,l.length)}else this._textbox.value=r+e+l.substr(1,l.length);this._setCaretPosition(t+1)}},_updateCasing:function(e,t){for(var i,s=0;s<t+1;s++)("<"==this._tempMask.substr(s,1)||">"==this._tempMask.substr(s,1))&&t++;for(i=t;i>-1;i--){if("<"==this._tempMask.substr(i,1))return e.toLowerCase();if(">"==this._tempMask.substr(i,1))return e.toUpperCase()}},_getStrippedValue:function(t){var i,s,a,o,r,l=this.model.maskFormat,n=t?"":null;if(i=""==this._textbox.value&&"password"!=this.model.inputMode?this._maskModel:this._textbox.value,0==l.length)return i;for(s=0,a=0;a<l.length;a++)n=t?n:e.trim(n),this.model.maskFormat.indexOf("\\")>=0?"\\"==this.model.maskFormat[a]?s+=1:"\\"==this.model.maskFormat[a-1]?n+=this._textbox.value[a-s]:(o=l[a],r=null,-1!="9?$a*".indexOf(o)?r=this._charMap[o]:"A"==o||"N"==o||"#"==o?r=this._charMap[o].replace("]","")+this.model.customCharacter+"]":"C"==o?r="["+this.model.customCharacter+"]":"&"==o&&(n+=i[a-s]),r&&i[a-s]&&i[a-s].match(new RegExp(r))&&(n+=i[a-s])):(o=l[a],r=null,-1!="9?$a*".indexOf(o)?r=this._charMap[o]:"A"==o||"N"==o||"#"==o?r=this._charMap[o].replace("]","")+this.model.customCharacter+"]":"C"==o?r="["+this.model.customCharacter+"]":"&"==o&&(n+=i[a-s]),r&&i[a]&&i[a].match(new RegExp(r))&&(n+=i[a]));return n},_getUnstrippedValue:function(t){var s=0,a=""==this._textbox.value&&"password"!=this.model.inputMode?this._maskModel:this._textbox.value,o=null;if(0==this.model.maskFormat.length)return a;if(a!=i&&(o=""==e.trim(a.replace(/[_]/g," "))?null:a.replace(/[_]/g," ")),"_"==this.model.customCharacter&&null==o&&(o=""),null==o&&null!=this.indexValue[s]&&(o=""),a!=i&&null!=this.indexValue[s]&&null!=o)for(;s<this.indexValue.length;s++)(""!=this.indexValue[s]||"0"==this.indexValue[s])&&(o=o.substr(0,this.indexValue[s])+"_"+o.substr(this.indexValue[s]+1));return null==o&&t?"":o},get_StrippedValue:function(){return this._getStrippedValue()},get_UnstrippedValue:function(){return this._getUnstrippedValue()},_setValue:function(i){(t.isNullOrUndefined(i)||""==e.trim(i))&&(i=null),this.model.value=i,this._isWatermark||"password"==this.model.inputMode||this._hiddenSpan.css("display","none"),t.isNullOrUndefined(this.model.maskFormat)||""==this.model.maskFormat?(this._textbox.value=t.isNullOrUndefined(i)?"":i,this._unStrippedMask=this._textbox.value):(this._validateValue(),t.isNullOrUndefined(this.model.value)&&(this._textbox.value=t.isNullOrUndefined(i)?"":i,this._unStrippedMask=this._maskModel)),this._setWaterMark(),this._prevValue=this._textbox.value,this._prevPosition=this.element[0].selectionStart},_valueMapper:function(){for(var e,t,i,s=[],a=0,o=this.model.maskFormat||"",r=o.split(""),l=0,n=0,d="",h=this._charMap;l<o.length;l++)if(t=h[e=r[l]])s[a]={rule:t},d+="_",a+=1;else for("\\"===e&&(n=l+1,l++,e=r[n]),e=e.split(""),i=0;i<e.length;i++)s[a]=e[i],d+=e[i],a+=1;this._rules=s,this._emptyMask=d,this._maskLength=d.length},_changeMask:function(e){var i,s,a,o,r,l;if(0!=this._maskModel.length){for(r="",s=(i=t.preferredCulture(e)).numberFormat[","],a=i.numberFormat.currency.symbol,o=i.numberFormat["."],l=0;l<this._maskModel.length;l++)r+=","==this._maskModel[l]?s:"."==this._maskModel[l]?o:"$"==this._maskModel[l]?a:this._maskModel[l];this._maskModel=r}},_setMask:function(i){if(this._maskLength=i.length,this.model.maskFormat=i,this._tempMask=this.model.maskFormat,this._maskModel=i.replace(/[9?CANa]/g,"_"),(this._maskModel.indexOf("<")>=0||this._maskModel.indexOf(">")>=0)&&(this._maskModel=this._maskModel.replace(/[<>]/g,""),this.model.maskFormat=this.model.maskFormat.replace(/[<>]/g,"")),t.isNullOrUndefined(this.model.maskFormat)||""==this.model.maskFormat){if(!this.model.watermarkText&&this._textbox.value!=this._maskModel)if(this.model.maskFormat)this.model.hidePromptOnLeave?(this._textbox.value=this._maskModel,this._unStrippedMask=this._textbox.value,this._textbox.value=this.get_UnstrippedValue()):this._textbox.value=this._maskModel;else{var s=this._unStrippedMask.replace(/[_]/g," ");this._textbox.value=null==this.model.customCharacter?e.trim(s.replace(/[\(\)-]/g,"")):e.trim(s),this._unStrippedMask=this._textbox.value}}else this._validateValue()},enable:function(){this.element.disabled=!1,this.element.removeAttr("disabled").removeClass("e-disable").attr({"aria-disabled":!1}),this.wrapper.find(".e-placeholder").length>0&&this.wrapper.find(".e-placeholder").removeAttr("disabled","disabled"),this.wrapper.removeClass("e-disable-wrap"),this.model.enabled=!0},disable:function(){this.element.disabled=!0,this.element.attr("disabled","disabled").addClass("e-disable").attr({"aria-disabled":!0}),this.wrapper.find(".e-placeholder").length>0&&this.wrapper.find(".e-placeholder").attr("disabled","disabled"),this.wrapper.addClass("e-disable-wrap"),this.model.enabled=!1},clear:function(){this._textbox.value=this.model.maskFormat.replace(/[9?aCAN]/g,"_"),this.model.value=this.get_StrippedValue()},_wireEvents:function(){this._on(this.element,"focus",this._OnFocusHandler),this._on(this.element,"blur",this._OnBlurHandler),this._on(this.element,"keydown",this._OnKeyDownHandler),this._on(this.element,"input",this._OnInputHandler),this._on(this.element,"keypress",this._OnKeyPressHandler),this._on(this.element,"keyup",this._OnKeyUpHandler),this._on(this.element,"mouseover",this._OnMouseOverHandler),this._on(this.element,"mouseout",this._OnMouseOutHandler),this._on(this.element,"paste",this._OnPasteHandler),this._on(this.element,"cut",this._OnCutHandler)},_OnCutHandler:function(){var e=t.isNullOrUndefined(this._maskModel)?"":this._maskModel.substring(this._textbox.selectionStart,this._textbox.selectionEnd),i=this._textbox.value.substring(0,this._textbox.selectionStart),s=this._textbox.value.substring(this._textbox.selectionEnd),a=this._textbox.selectionStart,o=this;setTimeout((function(){o._textbox.value=i+e+s,o._setCaretPosition(a),o._prevValue=o._textbox.value,o._prevPosition=o.element[0].selectionStart,o._raiseEvents("change")}),0)},_OnPasteHandler:function(){var t=this;return this._keyFlag=!0,setTimeout((function(){var i=e(t._textbox).val();t._setValue(i),t._raiseEvents("change")}),0),!0},_OnFocusHandler:function(){var i,s;this.wrapper.addClass("e-focus"),i=this.model.showPromptChar?this._maskModel:""!=this._maskModel&&null!=this._maskModel?this._maskModel.replace(/[_]/g," "):this._maskModel,this.model.readOnly||(this._focusValue=this.model.value,this._isWatermark||"password"==this.model.inputMode||this._hiddenSpan.css("display","none"),""==this._textbox.value&&""!=this._maskModel&&"password"!=this.model.inputMode&&(this._textbox.value=this.model.maskFormat.indexOf("\\")>=0?i:t.isNullOrUndefined(this._maskModel)?"":i),null!=this._maskModel&&(this._textbox.value.indexOf("<")>=0||this._textbox.value.indexOf(">")>=0)&&(this._textbox.value=this._textbox.value.replace(/[<>]/g,""),this._maskModel=this._textbox.value,this._tempMask=this.model.maskFormat,this.model.maskFormat=this.model.maskFormat.replace(/[<>]/g,"")),this._textbox.value!=i&&null!=this._unStrippedMask&&this.model.hidePromptOnLeave&&(this._textbox.value=this._unStrippedMask),this.model.showPromptChar||(this._textbox.value=this._getUnstrippedValue(!0)),e.fn.selectRange=function(e,t){return this.each((function(){if(this.setSelectionRange)this.focus(),this.setSelectionRange(e,t);else if(this.createTextRange){var i=this.createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}}))},this.model.maskFormat&&e(this.element).selectRange(0,0),s=this,setTimeout((function(){s._prevPosition=s.element[0].selectionStart}),0),this._raiseEvents("focusIn"))},_OnBlurHandler:function(){var e,s,a,o;if(this.wrapper.removeClass("e-focus"),this.model.value=this.get_StrippedValue(),e=[],s=[],(-1!=this._textbox.value.indexOf("_")||-1!=this._textbox.value.indexOf(" "))&&!t.isNullOrUndefined(this.model.value)){for(a=0;a<this.model.maskFormat.length;a++)"A"==this.model.maskFormat[a]||"?"==this.model.maskFormat[a]?e.push(a):("9"==this.model.maskFormat[a]||"a"==this.model.maskFormat[a]||"C"==this.model.maskFormat[a])&&s.push(a);for(a=0;a<e.length;a++)"_"===this._textbox.value[e[a]]&&(this._showAlert(),this.model.value=this._textbox.value);for(a=0;a<s.length;a++)if("_"==this.model.value[s[a]]||" "==this.model.value[s[a]])for(this.model.value=this.model.value.substr(0,s[a])+this.model.value.substr(s[a]+1,this.model.value.length),o=a;o<s.length;o++)s[o]=s[o]-1}this.model.value=null!=this.model.value?this.model.value.replace(/\s+/g,""):this.model.value,this._textbox.value!=i&&(""==this.model.watermarkText||""!=this.model.watermarkText&&""!=this.model.value)&&(this.model.hidePromptOnLeave?(this._unStrippedMask=this._textbox.value,this._textbox.value=this.get_UnstrippedValue()):this._unStrippedMask=this._textbox.value),"password"!=this.model.inputMode&&this._setWaterMark(),this._raiseEvents("change"),this._raiseEvents("focusOut")},_OnKeyDownHandler:function(e){var i,s,a,o;if(!this.model.readOnly){if(this._keyFlag=!0,this._checkMask&&(a=this.element[0].selectionStart,i=this._getStrippedValue(!0),this._setValue(i),this._setCaretPosition(a),this._checkMask=!1),this._keypressFlag=0,this._keyupFlag=!0,r=t.browserInfo().name,s=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,t.isDevice()&&t.isTouchDevice()&&!s&&(229==e.keyCode||"mozilla"==r&&0==e.keyCode&&0==e.charCode||"edge"==r||"msie"==r)&&(this._keyupFlag=!1),this._raiseEvents("onKeyDown",null,{keyCode:e.keyCode,altKey:e.altKey,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,originalArgs:e}),this._raiseEvents("keyDown",null,{keyCode:e.keyCode,altKey:e.altKey,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,originalArgs:e}),this.element.removeClass("error"),0==this._maskLength)return!0;var r,l=e.keyCode?e.keyCode:e.charCode,n=(String.fromCharCode(l),this._seekNext()),d=this.model.showPromptChar?"_":" ";if("msie"==(r=t.browserInfo().name)&&""==this._textbox.value){if(this.model.maskFormat.indexOf("\\")>=0)for(a=0;a<this.model.maskFormat.length;++a)"\\"==this.model.maskFormat[a-1]?this._textbox.value+=this.model.maskFormat[a]:"\\"==this.model.maskFormat[a]||(this._textbox.value+=this.model.maskFormat[a].replace(/[9?CANa#&]/g,"_"));else this._textbox.value=this.model.maskFormat.replace(/[9?CANa#&]/g,"_");this._setCaretPosition(n)}return l>=35&&l<=41&&("Mozilla"==window.navigator.appCodeName||"opera"==window.navigator.appCodeName)&&(this._keypressFlag=1),e.shiftKey&&(35==e.keyCode||36==e.keyCode||37==e.keyCode||39==e.keyCode||46==e.keyCode||127==e.keyCode)||e.ctrlKey&&(86==e.keyCode||65==e.keyCode||67==e.keyCode||88==e.keyCode)?void(this._keypressFlag=1):8==l?"password"!=this.model.inputMode?(this._keydownFlag=1,n=this._seekBefore(),this._selectedTextKeyDown?!this.model.showPromptChar&&this._selectedTextKeyDown&&(8==e.keyCode&&"-1"==n&&null!=this.indexValue&&(this.indexValue=[],this.temp_index=0),this._textbox.value=this.get_UnstrippedValue(),this._setCaretPosition(n+1)):(n>=0&&n<this._maskLength&&this._writeBuffer(d,n,e),n<0&&(n=0),this._setCaretPosition(n)),this._keydownFlag=0,this._selectedTextKeyDown=0,8==e.keyCode&&"-1"==n&&null!=this.indexValue&&(this.indexValue=[],this.temp_index=0),e.preventDefault(),this._prevValue=this._textbox.value,this._prevPosition=this.element[0].selectionStart,this._keyFlag=!1,!1):(this._keypressFlag=1,!0):46==e.keyCode||127==e.keyCode?"password"!=this.model.inputMode?(this._keydownFlag=2,n=this._seekNext(),this._selectedTextKeyDown?!this.model.showPromptChar&&this._selectedTextKeyDown&&(this._textbox.value=this.get_UnstrippedValue(),this._setCaretPosition(n)):n>=0&&n<this._maskLength&&(o=this._getCunrrentPos(n),"&"==this.model.maskFormat[n+o]||this._writeBuffer(d,n,e)),this._keydownFlag=0,this._selectedTextKeyDown=0,e.preventDefault(),!1):(this._keypressFlag=1,!0):void 0}},_ErrorHandler:function(e){var t=this.model.showPromptChar?"_":" ";""==this._textbox.value&&(this._textbox.value=this.model.maskFormat.replace(/[9?$CANa*]/g,t)),this._setCaretPosition(e),this._showAlert()},_getCunrrentPos:function(e){for(var t=0,i=0;i<=e+t;i++)"\\"==this.model.maskFormat[i]&&(t+=1);return t},_OnKeyPressHandler:function(e){var i;if(!this.model.readOnly){if(this._keyFlag=!1,this._raiseEvents("keyPress",null,{keyCode:e.keyCode,altKey:e.altKey,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,originalArgs:e}),0==this._maskLength)return!0;var s=e.keyCode?e.keyCode:e.charCode,a=String.fromCharCode(s),o=this.model.showPromptChar?"_":" ",r=this._seekNext(),l=t.browserInfo().name,n=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;if(t.isDevice()&&t.isTouchDevice()&&!n&&("edge"==l||"msie"==l))return!0;if(this._validateChars(s,r)?(("mozilla"==l||"opera"==l)&&(35==e.keyCode||36==e.keyCode||37==e.keyCode||39==e.keyCode)||("mozilla"==l||"opera"==l)&&e.ctrlKey&&(97==s||99==s||118==s||120==s)||(""==this._textbox.value&&(this._textbox.value=this.model.maskFormat.replace(/[9?$CANa&*]/g,o)),this.model.maskFormat.indexOf("\\")>=0?r<this._maskLength&&this._writeBuffer(a,r,e):this._writeBuffer(a,r,e)),this._prevValue=this._textbox.value):("mozilla"==l||"opera"==l)&&(35==e.keyCode||36==e.keyCode||37==e.keyCode||39==e.keyCode)||("mozilla"==l||"opera"==l)&&e.ctrlKey&&(97==s||99==s||118==s||120==s)||(this.model.maskFormat.indexOf("&")>=0||this.model.maskFormat.indexOf("\\")>=0?(i=this._getCunrrentPos(r),"&"==this.model.maskFormat[r+i]&&127==s||(this.model.maskFormat.indexOf("\\")>=0?r<this._maskLength&&(this._validateChars(s,r+i)||"\\"==this.model.maskFormat[r+i-1]?this._writeBuffer(a,r,e):this._ErrorHandler(r)):this._validateChars(s,r+i)?this._writeBuffer(a,r,e):this._ErrorHandler(r))):this._ErrorHandler(r)),!this._keypressFlag&&9!=s)return this._keypressFlag=0,e.preventDefault(),!1;this._keypressFlag=0}},_OnInputHandler:function(e){var i,s,a,o=t.browserInfo().name,r=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!this._keyFlag,l=this._keyupFlag&&("edge"==o||"msie"==o);if(0==this._maskLength)return!0;if(t.isDevice()&&t.isTouchDevice()&&(r||l)){var n=1==(d=this._textbox.value.length-this._prevValue.length)?this._seekNext(!0):this._seekNext(!0,d-1);h=(m=this._textbox.value[this.element[0].selectionStart-1]).charCodeAt(0),this._validateChars(h,n)?(this._textbox.value=this._prevValue,s=String.fromCharCode(h),this._writeBuffer(s,n,e)):(this._textbox.value=this._prevValue,this._setCaretPosition(n),this._ErrorHandler(n)),this._prevValue=this._textbox.value,this._prevPosition=this.element[0].selectionStart,this._checkMask=!0}if(t.isDevice()&&t.isTouchDevice()&&!r&&!this._keyupFlag){this.element[0].selectionStart!=(i=this.element[0].selectionEnd)&&this._textbox.setSelectionRange(i,i);var d,h,c=this.model.showPromptChar?"_":" ",u=(d=this._textbox.value.length-this._prevValue.length)<=0,p=u?this._seekBefore(!0):this._seekNext(!0),m=this._textbox.value[this.element[0].selectionStart-1];if(this.element[0].selectionStart>0&&(h=m.charCodeAt(0)),this._tempMask.length>this._textbox.value.length)t.isNullOrUndefined(m)&&this._emptyMask.slice(1,this._emptyMask.length)==this._textbox.value?this._textbox.value=this._emptyMask:u?(this._textbox.value=this._prevValue,this._writeBuffer(c,p,e)):(n=p,this._validateChars(h,n)?(this._textbox.value=this._prevValue,s=String.fromCharCode(h),this._writeBuffer(s,n,e)):(this._textbox.value=this._prevValue,this._setCaretPosition(n),this._ErrorHandler(n))),this._setCaretPosition(p);else if(n=p,this._validateChars(h,n))for(this._textbox.value=this._prevValue,s=String.fromCharCode(h),this._writeBuffer(s,n,e),a=0;a<this._emptyMask.length;a++)" "==this._emptyMask[a]&&" "!=this._textbox.value[a]&&m==this._textbox.value[a]&&(this._textbox.value=this._textbox.value.substring(0,startPos-1)+" "+m+this._textbox.value.substring(endPos,this._textbox.value.length),this._setCaretPosition(p+1));else this._textbox.value=this._prevValue,this._setCaretPosition(n),this._ErrorHandler(n);this._prevValue=this._textbox.value,this._prevPosition=this.element[0].selectionStart,this._keyupFlag=!0}this._keyFlag=!1},_OnKeyUpHandler:function(e){0==this._maskLength&&this._raiseEvents("change"),this._raiseEvents("keyUp",null,{keyCode:e.keyCode,altKey:e.altKey,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,originalArgs:e}),t.isNullOrUndefined(this.model.validationRules)||this._hiddenInput.valid()},_OnMouseOverHandler:function(){this._raiseEvents("mouseOver")},_OnMouseOutHandler:function(){this._raiseEvents("mouseOut")},_raiseEvents:function(i,s,a){var o,r=this.get_StrippedValue(),l=this.get_UnstrippedValue();if(this.model.value=null!==l?null==this.model.customCharacter&&""==e.trim(l.replace(/[\(\)-]/g,""))?null:l:null,"change"==i)if(this.previousValue!=this.model.value)this.previousValue=this.model.value;else if(this._focusValue==this.model.value)return!1;o={value:l,unmaskedValue:r},"change"==i&&(o.isInteraction=!s),"change"==i&&(this._trigger("_change",o),t.isNullOrUndefined(this.model.value)?this.wrapper.removeClass("e-valid"):this.wrapper.addClass("e-valid")),a&&e.extend(!0,o,a),this._hiddenInput.val(r),this._trigger(i,o)},_OnValueChange:function(){""==this._textbox.value&&""!=this._maskModel&&(this._textbox.value=this._maskModel),this._setValue(this._textbox.value)}}),t.InputMode={Password:"password",Text:"text"}}(jQuery,Syncfusion)},void 0===(o="function"===typeof s?s.apply(t,a):s)||(e.exports=o)},656:function(e,t,i){},657:function(e,t,i){var s,a,o,r=i(41).default;a=[i(501)],void 0===(o="function"===typeof(s=function(){(function(e,t,i){t.widget("ejBulletGraph","ej.datavisualization.BulletGraph",{element:null,model:null,validTags:["div"],_tags:[{tag:"qualitativeRanges",attr:["rangeEnd","rangeStroke","rangeOpacity"]},{tag:"quantitativeScaleSettings.featureMeasures",attr:["value","comparativeMeasureValue"]}],defaults:{locale:null,enableGroupSeparator:!1,value:0,comparativeMeasureValue:0,width:null,height:null,theme:"flatlight",orientation:"horizontal",flowDirection:"forward",qualitativeRangeSize:32,quantitativeScaleLength:475,tooltipSettings:{enableCaptionTooltip:!1,captionTemplate:null,visible:!0,template:null},quantitativeScaleSettings:{location:{x:10,y:10},minimum:0,maximum:10,interval:1,minorTicksPerInterval:4,majorTickSettings:{size:13,stroke:null,width:2},minorTickSettings:{size:7,stroke:null,width:2},tickPosition:"far",tickPlacement:"outside",labelSettings:{labelPlacement:"outside",labelPrefix:"",labelSuffix:"",stroke:null,size:12,offset:15,font:{fontFamily:"Segoe UI",fontStyle:"Normal ",fontWeight:"regular",opacity:1},position:"below"},featuredMeasureSettings:{stroke:null,width:6},comparativeMeasureSettings:{stroke:null,width:5},featureMeasures:[{value:null,comparativeMeasureValue:null,category:null}]},fields:{dataSource:null,query:null,tableName:null,category:null,featureMeasures:null,comparativeMeasure:null},enableAnimation:!0,enableResizing:!0,isResponsive:!0,applyRangeStrokeToTicks:!1,applyRangeStrokeToLabels:!1,qualitativeRanges:[{rangeEnd:4.3,rangeStroke:null,rangeOpacity:1},{rangeEnd:7.3,rangeStroke:null,rangeOpacity:1},{rangeEnd:10,rangeStroke:null,rangeOpacity:1}],captionSettings:{enableTrim:!0,textPosition:"float",textAlignment:"Near",textAnchor:"start",padding:5,textAngle:0,location:{x:17,y:30},text:"",font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"regular",opacity:1},subTitle:{textPosition:"float",textAlignment:"Near",textAnchor:"start",padding:5,textAngle:0,text:"",location:{x:10,y:45},font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal ",size:"12px",fontWeight:"regular",opacity:1}},indicator:{textPosition:"float",textAlignment:"Near",textAnchor:"start",padding:5,visible:!1,textAngle:0,textSpacing:3,text:"",symbol:{border:{color:null,width:1},color:null,shape:"",imageURL:"",size:{width:10,height:10},opacity:1},location:{x:10,y:60},font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal ",size:"12px",fontWeight:"regular",opacity:1}}},load:"",click:"",doubleClick:"",rightClick:"",drawTicks:null,drawLabels:null,drawCaption:null,drawIndicator:null,drawQualitativeRanges:null,drawFeatureMeasureBar:null,drawCategory:null,drawComparativeMeasureSymbol:null},observables:["value","comparativeMeasureValue"],value:t.util.valueFunction("value"),comparativeMeasureValue:t.util.valueFunction("comparativeMeasureValue"),dataTypes:{quantitativeScaleSettings:{labelSettings:"data",featureMeasures:"array"},fields:{dataSource:"data",query:"data"},qualitativeRanges:"array",captionSettings:"data",isResponsive:"boolean"},_init:function(){this._renderBulletGraph()},_destroy:function(){e(this.element).removeClass("e-datavisualization-bulletgraph e-js").find("#"+this.svgObject.id).remove()},_isSVG:function(){return!!window.SVGSVGElement},_value:t.util.valueFunction("value"),_comparativeMeasureValue:t.util.valueFunction("comparativeMeasureValue"),_qualitativeRanges:function(){this.redraw(),this._trigger("refresh")},_quantitativeScaleSettings_featureMeasures:function(){this.redraw(),this._trigger("refresh")},_renderBulletGraph:function(){var e=this.model.theme.toLowerCase();this._isSVG()&&(this.svgRenderer=new t.EjSvgRender(this.element),this.svgObject=this.svgRenderer.svgObj,this._trigger("load"),this._setSvgSize(this),this._setTheme(t.datavisualization.BulletGraph.Themes,e),this.bindEvents(),this._renderBulletElements(),this.model.enableAnimation&&this._animateMeasures())},_animateMeasures:function(){this._doAnimation(),this._doLineAnimation()},_setSvgSize:function(i){var s=i,a=e(s.element).height(),o=90,r=t.isTouchDevice()?250:595,l=e(s.element).width();s.model.width?r=parseInt(s.model.width):l>0&&l<595?r=l:l>595&&(r=595),e(s.svgObject).width(r),s.model.height?o=parseInt(s.model.height):a>0?o=a:e(s.svgObject).css("display","block"),e(s.svgObject).height(o),s.svgObject.setAttribute("width",r),s.svgObject.setAttribute("height",o)},_renderBulletElements:function(){var t,i=this.model.width?this.model.width:595,s=this.model.height?this.model.height:90;this.svgObject.setAttribute("viewBox","0 0 "+i+" "+s),this.svgObject.setAttribute("preserveAspectRatio","xMinYMin"),this.svgWidth=e(this.svgObject).width(),this.svgHeight=e(this.svgObject).height();var a=this.svgRenderer.createGroup({id:this.svgObject.id+"_captionGroup"}),o=this.svgRenderer.createGroup({id:this.svgObject.id+"_scaleGroup"}),r=this.svgRenderer.createGroup({id:this.svgObject.id+"_outerWrap"});this._initializeValues(),t=this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/this._scale.interval),this._drawCaption(),this._drawIndicator(),this._drawCaptionGroup(a),this._scaleGroup=o,this._drawScale(a,o),this._drawQualitativeRanges(o),this._drawMajorTicks(t,o),this._drawMinorTicks(t,o),this._drawLabels(t,o),this._bindData(),e(o).appendTo(r),e(a).appendTo(r),this._changeOrientation(o),e(r).appendTo(this.svgObject),e(this.svgObject).appendTo(this.element),this._bindHighlightRemoving()},_bindHighlightRemoving:function(){var t,i=this.model.browserInfo.isMSPointerEnabled,s=this.model.browserInfo.pointerEnabled;t=i?s?"pointerout":"MSPointerOut":"touchout mouseout",this._on(e("[id*="+this.svgObject.id+"_FeatureMeasure_]"),t,(function(t){this.isTouch(t)||e(t.target).attr("opacity",1)}))},_drawCaptionGroup:function(e){var s,a,o,r,l,n=this.model.captionSettings,d=n.subTitle,h=this._indicator?this._indicator.settings:n.indicator;n._location=d._location=h._location=y;var c="float"!=n.textPosition.toLowerCase()&&""!=n.text,u="float"!=d.textPosition.toLowerCase()&&""!=d.text,p=h.visible&&"float"!=h.textPosition.toLowerCase();if(c||u||p){s=t.EjSvgRender.utils._measureText(n.text,null,n.font),a=t.EjSvgRender.utils._measureText(d.text,null,d.font),h.visible&&(o=this._indicator.bounds,r={x:0,y:0,width:(l={width:h.symbol.size.width+o.width+h.textSpacing,height:Math.max(h.symbol.size.height,o.height)}).width,height:l.height,padding:h.padding,anchor:h.textAnchor.toLowerCase(),alignment:h.textAlignment.toLowerCase()});var m={x:0,y:0,width:s.width,height:parseFloat(n.font.size),padding:n.padding,anchor:n.textAnchor.toLowerCase(),alignment:n.textAlignment.toLowerCase()},g={x:0,y:0,width:a.width,height:parseFloat(d.font.size),padding:d.padding,anchor:d.textAnchor.toLowerCase(),alignment:d.textAlignment.toLowerCase()},_={x:this._scale.location.x,y:this._scale.location.y,width:this.model.quantitativeScaleLength,height:this.model.qualitativeRangeSize},f=[c?n:null,u?d:null,p?h:null];this._positionTextGroup(f,[m,g,r],_),this._locateTextGroup(f,[m,g,r])}var b=n._location==i?n.location:n._location,v=d._location==i?d.location:d._location,x=h._location==i?h.location:h._location;if(n.displayText=n.text,1==n.enableTrim&&(b.x=b.x<0?0:b.x,b.y=b.y<0?0:b.y,n.displayText=this._displayText(n,b)),""!=d.text&&(d.displayText=d.text,1==n.enableTrim&&(v.x=v.x<0?0:v.x,v.y=v.y<0?0:v.y,d.displayText=this._displayText(d,v))),h.visible){h.displayText=h.text,1==this.model.captionSettings.enableTrim&&(x.x=x.x<0?0:x.x,x.y=x.y<0?0:x.y);var y,w={x:(y=h._location?h._location:h.location).x+h.symbol.size.width/2,y:y.y-h.symbol.size.height/2,width:h.symbol.size.width,height:h.symbol.size.height},S=this._indicatorTextOptions(h,w,this._indicator.bounds,this.svgObject.id+"_Indicator"),C=this._indicatorSymbolOptions(e,h);this._drawBulletSymbol(this._indicator.settings.symbol.shape,w,C,e),1==this.model.captionSettings.enableTrim&&(h.displayText=this._displayText(h,w))}n.displayText="float"!=n.textPosition.toLowerCase()?this._captionOverlap(this.model.captionSettings):n.displayText,this.svgRenderer.drawText(this._textOptions(n,this.svgObject.id+"_Caption"),n.displayText,e),""!=d.text&&(d.displayText="float"!=d.textPosition.toLowerCase()?this._subOverlap(this.model.captionSettings.subTitle):d.displayText,this.svgRenderer.drawText(this._textOptions(d,this.svgObject.id+"_SubTitle"),d.displayText,e)),h.visible&&(h.displayText="float"!=h.textPosition.toLowerCase()?this._indOverlap(h,w):h.displayText,this.svgRenderer.drawText(S,h.displayText,e))},_captionOverlap:function(e){var t,i;return i=!0,e.textPosition==e.subTitle.textPosition&&e.textAlignment==e.subTitle.textAlignment&&e.textAngle>0&&e.textAngle<120?t=e.subTitle._location.y-e._location.y:e.textPosition==e.indicator.textPosition&&e.textAlignment==e.indicator.textAlignment&&e.textAngle>0&&e.textAngle<120?t=e.indicator._location.y-e._location.y:e.textPosition==e.subTitle.textPosition&&e._location.y<e.subTitle._location.y&&e.textAngle>0&&e.textAngle<180?t=e.subTitle._location.y-e._location.y:e.textPosition==e.subTitle.textPosition&&e._location.y>e.subTitle._location.y&&e.textAngle>190&&e.textAngle<360?t=e._location.y-e.subTitle._location.y:e.textPosition==e.indicator.textPosition&&e._location.y<e.indicator._location.y&&e.textAngle>0&&e.textAngle<180?t=e.indicator._location.y-e._location.y:e.textPosition==e.indicator.textPosition&&e._location.y>e.indicator._location.y&&e.textAngle>190&&e.textAngle<360&&(t=e._location.y-e.indicator._location.y),this._trim(e.displayText,e,t,i)},_indOverlap:function(e,t){var i,s,a,o;return s=!0,a=this.model.captionSettings.subTitle,o=this.model.captionSettings,e.textPosition==a.textPosition&&e.textAlignment==a.textAlignment&&e.textAngle>190&&e.textAngle<360?i=t.y-a._location.y:e.textPosition==o.textPosition&&e.textAlignment==o.textAlignment&&e.textAngle>190&&e.textAngle<360?i=t.y-o._location.y:e.textPosition==a.textPosition&&e._location.y<a._location.y&&e.textAngle>0&&e.textAngle<180?i=a._location.y-e._location.y:e.textPosition==a.textPosition&&e._location.y>a._location.y&&e.textAngle>190&&e.textAngle<360?i=e._location.y-a._location.y:e.textPosition==o.textPosition&&e._location.y<o._location.y&&e.textAngle>0&&e.textAngle<180?i=o._location.y-e._location.y:e.textPosition==o.textPosition&&e._location.y>o._location.y&&e.textAngle>190&&e.textAngle<360&&(i=e._location.y-o._location.y),this._trim(e.displayText,e,i,s)},_subOverlap:function(e){var t,i,s,a;return i=!0,s=this.model.captionSettings.indicator,a=this.model.captionSettings,e.textPosition==s.textPosition&&e.textAlignment==s.textAlignment&&e.textAngle>0&&e.textAngle<180?t=s._location.y-e._location.y:e.textPosition==a.textPosition&&e.textAlignment==a.textAlignment&&e.textAngle>190&&e.textAngle<360?t=e._location.y-a._location.y:e.textPosition==s.textPosition&&e._location.y<s._location.y&&e.textAngle>0&&e.textAngle<180?t=s._location.y-e._location.y:e.textPosition==s.textPosition&&e._location.y>s._location.y&&e.textAngle>190&&e.textAngle<360?t=e._location.y-s._location.y:e.textPosition==a.textPosition&&e._location.y<a._location.y&&e.textAngle>0&&e.textAngle<180?t=a._location.y-e._location.y:e.textPosition==a.textPosition&&e._location.y>a._location.y&&e.textAngle>190&&e.textAngle<360&&(t=e._location.y-a._location.y),this._trim(e.displayText,e,t,i)},rotatedLabel:function(e,i,s,a){var o={"font-size":e.size,transform:"rotate("+s+",0,0)","font-family":e.fontFamily,"font-style":e.fontStyle,rotateAngle:"rotate("+s+"deg)","text-anchor":"middle"},r=i.svgRenderer.createText(o,a);return Math.ceil(t.EjSvgRender.utils._measureBounds(r,i).width)},calcGap:function(e,t,i,s,a,o,r){var l;return e>=0&&e<=90?s+t.y>=r&&e>0?(l=r-t.y,a=!0):s+t.y<=r&&i+t.x>=o&&e>0?l=o-t.x:s+t.y<=r&&e>0?(l=r-t.y,a=!0):l=o-t.x:e>90&&e<180?s+t.y>=r?(l=r-t.y,a=!0):s+t.y<=r&&i+t.x>=o||i+t.x<=o?l=t.x:(l=r-t.y,a=!0):e>=180&&e<270?t.x-i>=0?(l=t.y,a=!0):t.y-s<=0&&t.x-i<=0?l=t.x:t.y-s<=0?(l=r-t.y,a=!0):l=t.x:i+t.x<=o?(l=t.y,a=!0):t.y-s>=0&&i+t.x>=o||i+t.x>=o?l=o-t.x:(l=t.y,a=!0),{trimSize:l,rotate:a}},_scaleLoc:function(){var e,i,s,a,o=this._scale,r=o.labelSettings.offset,l=o.majorTickSettings.size,n=this._scale.labelSettings,d=t.EjSvgRender.utils._measureText(n.labelPrefix+o.maximum+n.labelSuffix,null,n),h=this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?d.height:d.width;switch(e=o.location.y,s=this.model.qualitativeRangeSize,a=this._tickPosition+this._tickPlacement+this._labelPosition+this._labelPlacement,"center"==this._tickPosition&&(l=l>s&&(l-s)/2),a){case"faroutsidebelowoutside":i=e+h+s+r+(l>r&&l-r);break;case"faroutsidebelowinside":i=e+l+s,e-=r+h>s&&r+h-s;break;case"faroutsideaboveoutside":i=e+l+s,e-=r+h;break;case"faroutsideaboveinside":i=e+l+s+(r+h>s+l?r+h-(s+l):0);break;case"farinsidebelowoutside":i=e+h+s+r,e-=l>s&&l-s;break;case"farinsidebelowinside":i=e+s,e=e-(l>s&&l-s)-(r+h>s+l&&r+h-l);break;case"farinsideaboveoutside":i=e+s,e=e-(r+h)-(l>r+h+s&&l-(r+h+s));break;case"farinsideaboveinside":i=e+s+(r+h>s&&h+r-s),e-=l>s&&l-s;break;case"nearoutsidebelowoutside":i=e+s+r+h,e-=l;break;case"nearoutsidebelowinside":i=e+s,e=e-l-(r+h>s+l&&r+h-(s+l));break;case"nearoutsideaboveoutside":i=e+s,e=e-l-(l<r+h&&r+h-l);break;case"nearoutsideaboveinside":i=e+s+(r+h>s&&r+h-s),e-=l;break;case"nearinsidebelowoutside":i=e+s+(l>r+h+s?l-s:r+h);break;case"nearinsidebelowinside":i=e+s+(l>s&&l-s),e-=r+h>s&&r+h-s;break;case"nearinsideaboveoutside":i=e+(l>s?l:s),e=e-r-h;break;case"nearinsideaboveinside":i=e+s+(l>h+r?l-s:h+r-s);break;case"centeroutsidebelowoutside":case"centerinsidebelowoutside":i=e+s+(l>r+h?l:r+h),e-=l;break;case"centeroutsidebelowinside":i=e+s+l,e=e-l-(r+h>s+l&&r+h-(s+l));break;case"centeroutsideaboveoutside":case"centerinsideaboveoutside":i=e+s+l,e=e-l-(l<r+h&&r+h-l);break;case"centeroutsideaboveinside":i=e+s+(r+h>s+l?r+h-s-l:l),e-=l;break;case"centerinsidebelowinside":i=e+s+l,e-=r+h-s>l?r+h-s:l;break;case"centerinsideaboveinside":i=e+s+(l>h+r?l:h+r-s),e-=l}return{x:o.location.x,y:e,height:i}},_displayText:function(i,s){var a,o,r=e.extend(!0,s),l=i.textAngle%360,n=i.text,d=i.font,h=this._scale,c=this._scale.labelSettings,u=t.EjSvgRender.utils._measureText(c.labelPrefix+h.minimum+c.labelSuffix,null,c).width,p=(t.EjSvgRender.utils._measureText(n,null,d).width,t.EjSvgRender.utils.rotatedLabel(i,this,l,i.text)),m=this.rotatedLabel(d,this,l,i.text),g=this.svgHeight,_=this.svgWidth,f=!1,b=this._scaleLoc();return i.textSpacing&&(i.textSpacing,m+=i.textSpacing),this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?(r.x<=b.x&&b.y<=r.y&&r.y<=b.height?_=h.location.x-u/2:r.x<=b.x&&r.y<=b.y&&l<90||r.x>=b.x&&r.x<=b.x+this.model.quantitativeScaleLength&&r.y<=b.y||r.y<=b.y&&r.x>=b.x+this.model.quantitativeScaleLength&&l>=90?g=b.y:r.x>=b.x+this.model.quantitativeScaleLength&&b.y<=r.y&&r.y<=b.height&&l<270?(_-=b.x+this.model.quantitativeScaleLength,r.x=r.x-(b.x+this.model.quantitativeScaleLength)):(r.x<=b.x&&r.y>=b.height&&l>270||r.x>=b.x&&r.x<=b.x+this.model.quantitativeScaleLength&&r.y>=b.height||r.x>=b.x+this.model.quantitativeScaleLength&&r.y>=b.height&&l>=180&&l<270)&&(r.y=r.y-b.height),f=(a=this.calcGap(l,r,m,p,f,_,g)).rotate,a=a.trimSize):(o=b.height-b.y,b.y=this.svgHeight-h.location.y-this.model.quantitativeScaleLength,b.height=b.y+this.model.quantitativeScaleLength,r.x<=b.x&&b.y<=r.y&&r.y<=b.height?_=h.location.x-u/2:r.x<=b.x&&r.y<=b.y&&l<90||r.x>=b.x&&r.x<=b.x+o&&r.y<=b.y||r.y<=b.y&&r.x>=b.x+o&&l>=90?g=b.y:r.x>=b.x+o&&b.y<=r.y&&r.y<=b.height&&l<=260?(_-=b.x+o,r.x=r.x-(b.x+o)):(r.x<=b.x&&r.y>=b.height&&l>=280||r.x>=b.x&&r.x<=b.x+o&&r.y>=b.height||r.x>=b.x+o&&r.y>=b.height&&l>=180&&l<=260)&&(r.y=r.y-b.height),f=(a=this.calcGap(l,r,m,p,f,_,g)).rotate,a=a.trimSize),this._trim(n,i,a,f)},_trim:function(e,i,s,a){var o,r,l=e,n=(this.rotatedLabel(i.font,this,i.textAngle,e),t.EjSvgRender.utils._measureText(e,null,i.font).width);if(i.textSpacing&&(n+=i.textSpacing,i.textSpacing),n>s&&""!=e){for(r=1;r<=e.toString().length;r++)if(e=l.toString().substring(0,r)+"... ",o=1==a?t.EjSvgRender.utils.rotatedLabel(i,this,i.textAngle,e):t.EjSvgRender.utils._measureText(e,null,i.font).width,i.textSpacing&&(o+=i.textSpacing),o>=s){l=e=e.toString().substring(0,r-1)+"... ";break}l.toString(0,e.toString.lenght-4)!=l&&(l=e)}return l},_getVerticalScaleLocation:function(e){return{x:this._scale.location.y,y:this.svgHeight-this._scale.location.x-e}},_horizontalTextPositioning:function(e,i,s,a,o){var r=e.textPosition.toLowerCase(),l=i.alignment,n=(s=this._scaleLoc(),this._scale.labelSettings),d=t.EjSvgRender.utils._measureText(n.labelPrefix+this._scale.maximum+n.labelSuffix,null,n).width;switch(r){case"left":i.x=s.x-i.width-i.padding-d/2,i.y=s.y+("center"==l?a.height/2+i.height/3:"far"==l?a.height:i.height),o[0].push(i);break;case"right":i.x=s.x+a.width+i.padding+d/2,i.y=s.y+("center"==l?a.height/2+i.height/3:"far"==l?a.height:i.height),o[1].push(i);break;case"top":i.x="center"==l?a.x+a.width/2-i.width/2:"near"==l?a.x:a.x+a.width-i.width,i.y=s.y-i.padding,o[2].push(i);break;case"bottom":i.x="center"==l?a.x+a.width/2-i.width/2:"near"==l?a.x:a.x+a.width-i.width,i.y=s.height+i.height/2+i.padding,o[3].push(i)}},_VerticalTextPositioning:function(e,t,i,s,a){var o=e.textPosition.toLowerCase(),r=t.alignment,l=this._scaleLoc();switch(o){case"left":t.x=l.y-t.width-t.padding,t.y=i.y+("center"==r?s.height/2+t.height/3:"far"==r?s.height:t.height),"near"==this._tickPosition&&"inside"==this._tickPlacement&&"above"==this._labelPosition&&"inside"==this._labelPlacement&&(t.x+=this._scale.majorTickSettings.size),a[0].push(t);break;case"right":t.x=l.height+t.padding,t.y=i.y+("center"==r?s.height/2+t.height/3:"far"==r?s.height:t.height),a[1].push(t);break;case"top":t.x=s.x-t.width/2+("center"==r?s.width/2:"far"==r&&s.width),t.y=s.y-t.padding,a[2].push(t);break;case"bottom":t.x=s.x-t.width/2+("center"==r?s.width/2:"far"==r&&s.width),t.y=s.y+s.height+t.height+t.padding-t.height/3+this._scale.labelSettings.size/2,a[3].push(t)}},_positionTextGroup:function(e,t,i){for(var s=[[],[],[],[]],a="horizontal"==this._orientation,o=a?this._scaleLocation:this._getVerticalScaleLocation(i.width),r=a?i:{x:o.x,y:o.y,width:i.height,height:i.width},l=0;l<e.length;l++)e[l]&&(a?this._horizontalTextPositioning(e[l],t[l],o,r,s):this._VerticalTextPositioning(e[l],t[l],o,r,s));this._avoidElementsOverlapping(s)},_avoidElementsOverlapping:function(e){for(var t,i,s,a,o=0;o<e.length;o++){t=e[o],i=!1;do{for(s=0;s<t.length;s++)for(a=s-1;a>=0;a--){if(this._isOverlapping(t[s],t[a])){switch(o){case 0:case 1:t[a].y>t[s].y?t[a].y=t[s].y+t[a].height+(t[a].padding>1?t[a].padding:1):t[s].y=t[a].y+t[s].height+(t[s].padding>1?t[s].padding:1);break;case 2:t[a].y=t[s].y-t[s].height-(t[a].padding>1?t[a].padding:1);break;default:t[s].y=t[a].y+t[a].height+(t[a].padding>1?t[a].padding:1)}i=!0;break}i=!1}}while(i)}this._applyLeftRightAnchor([e[0],e[1]]),this._applyTopBottomAnchor([e[2],e[3]])},_locateTextGroup:function(e,t){for(var i=0;i<e.length;i++)e[i]&&(e[i]._location={x:0,y:0},e[i]._location.x=t[i].x,e[i]._location.y=t[i].y)},_applyLeftRightAnchor:function(e){for(var t,i,s,a,o=0;o<e.length;o++){for(t=e[o],i=0,s=0;s<t.length;s++)i=Math.max(i,t[s].width);for(s=0;s<t.length;s++)a=t[s].anchor,t[s].x+="start"==a?0==o&&t[s].width-i:"middle"==a?0==o?(t[s].width-i)/2:(i-t[s].width)/2:0!=o&&i-t[s].width}},_applyTopBottomAnchor:function(e){for(var t,i=0;i<e.length;i++){var s=[],a=[],o=[],r=e[i];for(t=0;t<r.length;t++)"near"==r[t].alignment?s.push(r[t]):"far"==r[t].alignment?a.push(r[t]):o.push(r[t]);this._applyNearAnchor(s),this._applyCenterAnchor(o),this._applyFarAnchor(a)}},_applyNearAnchor:function(e){var t,i;if(e.length>1){for(t=0,i=0;i<e.length;i++)t=Math.max(t,e[i].width);for(i=0;i<e.length;i++)e[i].x+="start"==e[i].anchor?"vertical"==this._orientation&&(e[i].width-t)/2:"middle"==e[i].anchor?"horizontal"==this._orientation&&(t-e[i].width)/2:"horizontal"==this._orientation?t-e[i].width:(t-e[i].width)/2}},_applyCenterAnchor:function(e){var t,i;if(e.length>1){for(t=0,i=0;i<e.length;i++)t=Math.max(t,e[i].width);for(i=0;i<e.length;i++)"start"==e[i].anchor?e[i].x+=(e[i].width-t)/2:"end"==e[i].anchor&&(e[i].x+=(t-e[i].width)/2)}},_applyFarAnchor:function(e){var t,i;if(e.length>1){for(t=0,i=0;i<e.length;i++)t=Math.max(t,e[i].width);for(i=0;i<e.length;i++)"start"==e[i].anchor?e[i].x+="horizontal"==this._orientation?e[i].width-t:(e[i].width-t)/2:"middle"==e[i].anchor?e[i].x+="horizontal"==this._orientation&&(e[i].width-t)/2:"end"==e[i].anchor&&(e[i].x+="vertical"==this._orientation&&(t-e[i].width)/2)}},_isOverlapping:function(e,t){return!(e.x+e.width<t.x||e.x>t.x+t.width||e.y-e.height>t.y||e.y<t.y-t.height)},_initializeValues:function(){this._scale=this.model.quantitativeScaleSettings,this._labelPosition=this._scale.labelSettings.position.toLowerCase(),this._tickPosition=this._scale.tickPosition.toLowerCase(),this._flowDirection=this.model.flowDirection.toLowerCase(),this._orientation=this.model.orientation.toLowerCase(),this._tickPlacement=this._scale.tickPlacement.toLowerCase(),this._labelPlacement=this._scale.labelSettings.labelPlacement.toLowerCase()},_changeOrientation:function(e){this._orientation==t.datavisualization.BulletGraph.Orientation.Vertical&&e.setAttribute("transform","translate(0,"+this.svgHeight+")rotate(-90)")},_setModel:function(i){var s,a,o=!0;for(s in i)switch(this.model.enableAnimation=!1,s){case"height":this.model.height=i[s];break;case"width":this.model.width=i[s];break;case"theme":this.model.theme=i[s],this._setTheme(t.datavisualization.BulletGraph.Themes,this.model.theme);break;case"orientation":this.model.orientation=i[s];break;case"flowDirection":this.model.flowDirection=i[s];break;case"qualitativeRangeSize":this.model.qualitativeRangeSize=i[s];break;case"quantitativeScaleLength":this.model.quantitativeScaleLength=i[s];break;case"quantitativeScaleSettings":e.extend(!0,this.model.quantitativeScaleSettings,{},i[s]);break;case"applyRangeStrokeToTicks":this.model.applyRangeStrokeToTicks=i[s];break;case"applyRangeStrokeToLabels":this.model.applyRangeStrokeToLabels=i[s];break;case"qualitativeRanges":e.extend(!0,this.model.qualitativeRanges,{},i[s]);break;case"captionSettings":e.extend(!0,this.model.captionSettings,{},i[s]);break;case"dataSource":e.extend(!0,this.model.fields,{},i[s]);break;case"value":for(a=0;null!=this.model.quantitativeScaleSettings.featureMeasures[a];a++)this.model.quantitativeScaleSettings.featureMeasures[a].value=parseFloat(this.value());break;case"comparativeMeasureValue":for(a=0;null!=this.model.quantitativeScaleSettings.featureMeasures[a];a++)this.model.quantitativeScaleSettings.featureMeasures[a].comparativeMeasureValue=parseFloat(this.comparativeMeasureValue());break;case"enableAnimation":this.model.enableAnimation=i[s],this.model.enableAnimation&&(e(this.svgObject).empty(),this._renderBulletElements(),this._animateMeasures()),o=!1}o&&(e(this.svgObject).empty(),this._renderBulletElements())},_bindData:function(){t.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?(this._dataCount=this._scale.featureMeasures.length,this._drawMeasures()):this.model.fields.dataSource instanceof t.DataManager?this._initDataSource():(this._dataCount=this.model.fields.dataSource.length,this._drawMeasures())},_drawMeasures:function(){this._drawFeatureMeasureBar(),this._drawComparativeMeasureSymbol()},_initDataSource:function(){var e=this._columnToSelect(this.model.fields),t=this;this.model.fields.dataSource.executeQuery(e).done((function(e){t.model.fields.dataSource=e.result,t._dataCount=e.result.length,t._drawFeatureMeasureBar(),t._drawComparativeMeasureSymbol(),t._bindHighlightRemoving()}))},_columnToSelect:function(e){var i,s=[],a=t.Query();if(t.isNullOrUndefined(e.query)){for(i in e)"tableName"!==i&&"query"!==i&&"dataSource"!==i&&s.push(e[i]);s.length>0&&a.select(s),this.model.fields.dataSource.dataSource.url.match(e.tableName+"$")||t.isNullOrUndefined(e.tableName)||a.from(e.tableName)}else a=e.query;return a},_drawCaption:function(){if(this.model.drawCaption){var t={font:this.model.captionSettings.font,location:this.model.captionSettings.location,subTitle:this.model.captionSettings.subTitle,text:this.model.captionSettings.text,textAngle:this.model.captionSettings.textAngle};this._trigger("drawCaption",t),this.model.captionSettings=e.extend(this.model.captionSettings,t)}},_drawBulletSymbol:function(e,i,s,a){var o,r,l,n,d,h,c,u,p,m,g="M "+(i.x-i.width/2+i.width)+" "+(i.y+i.height/4)+" L "+(i.x-i.width/2+i.width)+" "+(i.y+-i.height/4)+" L "+(i.x-i.width/2+i.width/2)+" "+(i.y+-i.height/4)+" L "+(i.x-i.width/2+i.width/2)+" "+(i.y+-i.height/2)+" L "+(i.x-i.width/2)+" "+i.y+" L "+(i.x-i.width/2+i.width/2)+" "+(i.y+i.height/2)+" L "+(i.x-i.width/2+i.width/2)+" "+(i.y+i.height/4)+" L "+(i.x-i.width/2+i.width)+" "+(i.y+i.height/4);switch(e.toLowerCase()){case"circle":_=Math.min(i.height,i.width)/2,s.cx=i.x,s.cy=i.y,s.r=_,this.svgRenderer.drawCircle(s,a);break;case"leftarrow":s.d=g,this.svgRenderer.drawPath(s,a);break;case"rightarrow":s.d=g,s.transform="rotate(180,"+i.x+","+i.y+")",this.svgRenderer.drawPath(s,a);break;case"uparrow":s.d=g,s.transform="rotate(90,"+i.x+","+i.y+")",this.svgRenderer.drawPath(s,a);break;case"downarrow":s.d=g,s.transform="rotate(-90,"+i.x+","+i.y+")",this.svgRenderer.drawPath(s,a);break;case"cross":o="M "+(i.x+-i.width/2)+" "+i.y+" L "+(i.x+i.width/2)+" "+i.y+" M "+i.x+" "+(i.y+i.height/2)+" L "+i.x+" "+(i.y+-i.height/2),s.d=o,s.stroke=s.stroke?s.stroke:s.fill,this.svgRenderer.drawPath(s,a);break;case"horizontalline":r="M "+(i.x+-i.width/2)+" "+i.y+" L "+(i.x+i.width/2)+" "+i.y,s.d=r,s.stroke=s.stroke?s.stroke:s.fill,this.svgRenderer.drawPath(s,a);break;case"verticalline":l="M "+i.x+" "+(i.y+i.height/2)+" L "+i.x+" "+(i.y+-i.height/2),s.d=l,s.stroke=s.stroke?s.stroke:s.fill,this.svgRenderer.drawPath(s,a);break;case"triangle":n="M "+(i.x+-i.width/2)+" "+(i.y+i.height/2)+" L "+i.x+" "+(i.y+-i.height/2)+" L "+(i.x+i.width/2)+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/2)+" "+(i.y+i.height/2)+" Z",s.d=n,this.svgRenderer.drawPath(s,a);break;case"invertedtriangle":n="M "+(i.x+-i.width/2)+" "+(i.y+i.height/2)+" L "+i.x+" "+(i.y+-i.height/2)+" L "+(i.x+i.width/2)+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/2)+" "+(i.y+i.height/2)+" Z",s.d=n,s.transform="rotate(180,"+i.x+","+i.y+")",this.svgRenderer.drawPath(s,a);break;case"hexagon":d="M "+(i.x+-i.width/2)+" "+i.y+" L "+(i.x+-i.width/4)+" "+(i.y+-i.height/2)+" L "+(i.x+i.width/4)+" "+(i.y+-i.height/2)+" L "+(i.x+i.width/2)+" "+i.y+" L "+(i.x+i.width/4)+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/4)+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/2)+" "+i.y,s.d=d,this.svgRenderer.drawPath(s,a);break;case"wedge":h="M "+(i.x+-i.width/2)+" "+i.y+" L "+(i.x+i.width/2)+" "+(i.y+-i.height/2)+" L "+(i.x+i.width/4)+" "+i.y+" L "+(i.x+i.width/2)+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/2)+" "+i.y,s.d=h,this.svgRenderer.drawPath(s,a);break;case"pentagon":var _=Math.sqrt(i.height*i.height+i.width*i.width)/2,f=t.EjSvgRender.utils._getStringBuilder();for(c=0;c<=5;c++){var b=72*c,v=Math.PI/180*b,x=_*Math.cos(v),y=_*Math.sin(v);0==c?f.append("M "+(i.x+x)+" "+(i.y+y)+" "):f.append("L "+(i.x+x)+" "+(i.y+y)+" ")}s.d=f.toString(),this.svgRenderer.drawPath(s,a);break;case"star":u="M "+(i.x+i.width/3)+" "+(i.y+-i.height/2)+" L "+(i.x+-i.width/2)+" "+(i.y+i.height/6)+" L "+(i.x+i.width/2)+" "+(i.y+i.height/6)+" L "+(i.x+-i.width/3)+" "+(i.y+-i.height/2)+" L "+i.x+" "+(i.y+i.height/2)+" L "+(i.x+i.width/3)+" "+(i.y+-i.height/2),s.d=u,this.svgRenderer.drawPath(s,a);break;case"rectangle":p="M "+(i.x+-i.width/2)+" "+(i.y+-i.height/2)+" L "+(i.x+i.width/2)+" "+(i.y+-i.height/2)+" L "+(i.x+i.width/2)+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/2)+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/2)+" "+(i.y+-i.height/2),s.d=p,this.svgRenderer.drawPath(s,a);break;case"trapezoid":m="M "+(i.x+-i.width/2)+" "+i.y+" L "+(i.x+-i.width/2)+" "+(i.y+-i.height/4)+" L "+(i.x+-i.width/2+i.width)+" "+(i.y+-i.height/2)+" L "+(i.x+-i.width/2+i.width)+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/2)+" "+(i.y+i.height/4)+" L "+(i.x+-i.width/2)+" "+i.y,s.d=m,this.svgRenderer.drawPath(s,a);break;case"diamond":m="M "+(i.x+-i.width/2)+" "+i.y+" L "+i.x+" "+(i.y+-i.height/2)+" L "+(i.x+i.width/2)+" "+i.y+" L "+i.x+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/2)+" "+i.y,s.d=m,this.svgRenderer.drawPath(s,a);break;case"ellipse":s.cx=i.x,s.cy=i.y,s.rx=i.width/2,s.ry=i.height/2,this.svgRenderer.drawEllipse(s,a);break;case"image":s.x=i.x-i.width/2,s.y=i.y-i.height/2,s.width=i.width,s.height=i.height,s.href=this.model.captionSettings.indicator.symbol.imageURL,s.visibility="visible",this.svgRenderer.drawImage(s,a)}},_drawIndicator:function(){var i,s,a;this.model.captionSettings.indicator.visible&&(i=this.model.captionSettings.indicator,s=e.extend({},{indicatorSettings:this.model.captionSettings.indicator}),this.model.drawIndicator&&(this._trigger("drawIndicator",s),0==s.cancel&&(i=s.indicatorSettings,this.model.captionSettings.indicator=i)),a=t.EjSvgRender.utils._measureText(i.text,null,i.font),this._indicator={bounds:a,settings:i})},_indicatorTextOptions:function(e,t,i,s){var a=e._location?e._location:e.location;return{class:s,x:a.x+t.width+e.textSpacing,y:a.y-t.height/2+parseFloat(e.font.size)/3,fill:e.font.color,"font-size":e.font.size,"font-family":e.font.fontFamily,"font-style":e.font.fontStyle,"font-weight":e.font.fontWeight,"text-anchor":"start",opacity:e.font.opacity,transform:"rotate("+e.textAngle+","+t.x+","+t.y+")"}},_indicatorSymbolOptions:function(e,t){return{id:e.id+"_indicatorSymbol",stroke:t.symbol.border.color,fill:t.symbol.color,"stroke-width":t.symbol.border.width,opacity:t.symbol.opacity}},_textOptions:function(e,t){var i=e._location?e._location:e.location;return{class:t,x:i.x,y:i.y,fill:e.font.color,"font-size":e.font.size,"font-family":e.font.fontFamily,"font-style":e.font.fontStyle,"font-weight":e.font.fontWeight,"text-anchor":"start",opacity:e.font.opacity,cursor:"default",transform:"rotate("+e.textAngle+","+i.x+","+i.y+")"}},_drawScale:function(e,i){var s,a,o,r=this._scale._location?this._scale._location:this._scale.location;s=this._tickPosition==t.datavisualization.BulletGraph.TickPosition.Far||this._tickPosition==t.datavisualization.BulletGraph.TickPosition.Center?this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?r.y:r.y+this._scale.labelSettings.offset+this._scale.labelSettings.size:this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?r.y+this._scale.majorTickSettings.size:r.y+this._scale.labelSettings.offset+this._scale.labelSettings.size+this._scale.majorTickSettings.size,a=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward?r.x:this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?r.x-this._scale.labelSettings.offset:r.x,o={id:this.svgObject.id+"_SvgScale",x:a,y:s,width:this.model.quantitativeScaleLength,height:this.model.qualitativeRangeSize,fill:"transparent","stroke-width":0},this.svgRenderer.drawRect(o,i)},_drawMajorTicks:function(e,i){var s,a,o,r,l,n,d,h=this._scale.location,c="inside"==this._tickPlacement,u=this._scale.location.x,p=this.model.quantitativeScaleLength,m=(this._scale.labelSettings.offset,this.model.qualitativeRangeSize),g=this._scale.majorTickSettings.width,_=this._scale.majorTickSettings.size,f=this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal,b=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward;this._labelPosition,t.datavisualization.BulletGraph.LabelPosition.Below,s=b?f?u+g/2:u+p+g/2:f?u+p-g/2:u+g/2,a="far"==this._tickPosition?h.y+m+(c?-_:0):"near"==this._tickPosition?h.y+(c?0:-_):h.y+m/2-_/2;var v=this._scale.minimum,x=this._scale.maximum,y=this._scale.interval;for(o=v;o<=x;o+=y)o>=x&&(f&&!b?s+=g:s-=g),!f&&b&&(s=o>=x?s+g:o==v?s-g:s),this.model.applyRangeStrokeToTicks&&(r=this._bindingRangeStrokes(s-g/2)),l=this._majorTickLines(this._scale,s,a,r),!f&&b&&o==v&&(s+=g),this.model.drawTicks&&(n={majorTickSettings:this._scale.majorTickSettings,minorTickSettings:this._scale.minorTickSettings,minorTicksPerInterval:this._scale.minorTicksPerInterval,maximum:x,minimum:v,interval:y},this._trigger("drawTicks",n),l=this._majorTickLines(n,s,a,r)),d=this.svgRenderer.createLine(l),s=!b&&f||b&&!f?s-e:s+e,i.appendChild(d)},_majorTickLines:function(e,t,i,s){return{x1:t,y1:i,x2:t,y2:i+e.majorTickSettings.size,"stroke-width":e.majorTickSettings.width,stroke:this.model.applyRangeStrokeToTicks&&s?s:e.majorTickSettings.stroke}},_forwardStrokeBinding:function(e){if(e>=this._scale.location.x&&e<=this._rangeCollection[0]+this._scale.location.x)return this.model.qualitativeRanges[0].rangeStroke;for(var t=0;t<=this._rangeCollection.length-1;t++)if(e>=this._rangeCollection[t]+this._scale.location.x&&e<=this._rangeCollection[t+1]+this._scale.location.x)return this.model.qualitativeRanges[t+1].rangeStroke},_backwardStrokeBinding:function(t){var i,s;if(t>=this._rangeCollection[this._rangeCollection.length-1])return this.model.qualitativeRanges[0].rangeStroke;for(i=0;i<=this._rangeCollection.length-1;i++)if(t>=this._rangeCollection[i]&&t<this._rangeCollection[i+1])return s=e.inArray(this._rangeCollection[i],this._rangeCollection),this.model.qualitativeRanges[this._rangeCollection.length-1-s].rangeStroke},_bindingRangeStrokes:function(e){return 1!=this._rangeCollection.length?this.model.orientation==t.datavisualization.BulletGraph.Orientation.Horizontal&&this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward||this.model.orientation==t.datavisualization.BulletGraph.Orientation.Vertical&&this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Backward?this._forwardStrokeBinding(e):this._backwardStrokeBinding(e):e>=this._scale.location.x&&e<=this._rangeCollection[0]+this._scale.location.x?this.model.qualitativeRanges[0].rangeStroke:void 0},_drawMinorTicks:function(i,s){var a,o,r,l,n,d,h,c,u,p,m,g=0,_=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward,f=this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal,b="inside"==this._tickPlacement,v=this._scale.location.x,x=this.model.qualitativeRangeSize,y=(this._scale.labelSettings.offset,this._scale.majorTickSettings.size,this._scale.minorTickSettings.size),w=this._scale.minorTickSettings.width,S=this.model.quantitativeScaleLength;switch(a=_?f?v:v+S:f?v+S-w/2:v,this._tickPosition){case"far":l=(r=this._scale.location.y+x)+(b?-y:y);break;case"near":r=this._scale.location.y+(b?y:-y),l=this._scale.location.y;break;default:l=(r=this._scale.location.y+x/2-y/2)+y}var C=this._scale.maximum,T=this._scale.minimum,L=this._scale.interval,k=this._scale.minorTicksPerInterval;for(d=T;d<=C;d+=L){for(o=i/k,h=1;h<=k;h++)g++,n=!f&&_||f&&!_?a-o+o/(k+1):a+o-o/(k+1),!_&&f&&g>=(C-T)*k&&(n+=w/2),this.model.applyRangeStrokeToTicks&&(c=this._bindingRangeStrokes(n)),u=this._minorTickLines(this._scale,n,r,l,c),this.model.drawTicks&&(p={majorTickSettings:this._scale.majorTickSettings,minorTickSettings:this._scale.minorTickSettings,minorTicksPerInterval:this._scale.minorTicksPerInterval,maximum:this._scale.maximum,minimum:this._scale.minimum,interval:this._scale.interval},this._trigger("drawTicks",p),this._scale=e.extend(this._scale,p),u=this._minorTickLines(p,n,r,l,c)),!_&&f?n<=S+v+1&&n>=v+1&&(m=this.svgRenderer.createLine(u),s.appendChild(m)):_&&!f?n>=v+1&&(m=this.svgRenderer.createLine(u),s.appendChild(m)):n<=S+v+1&&(m=this.svgRenderer.createLine(u),s.appendChild(m)),o=i/k*(h+1);a=!_&&f||_&&!f?a-i:a+i}},_minorTickLines:function(e,t,i,s,a){return{x1:t,y1:i,x2:t,y2:s,"stroke-width":e.minorTickSettings.width,stroke:this.model.applyRangeStrokeToTicks&&a?a:e.minorTickSettings.stroke}},_drawLabels:function(e,i){var s,a,o,r,l,n,d,h,c,u,p=this.model.locale,m=p&&this.model.enableGroupSeparator,g=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward,_=this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal,f=this._scale.location.x,b=this._scale.labelSettings.offset,v=this.model.quantitativeScaleLength;this._scale.majorTickSettings.width,s=g?_?f:f+v:_?f+v:f;var x=this._tickPosition+this._labelPlacement,y=this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below,w=(this._scale.location.y,this.model.qualitativeRangeSize),S=this._scale.labelSettings.size;switch(this._scale.majorTickSettings.size,x){case"faroutside":case"centeroutside":case"nearoutside":a=y?this._scale.location.y+w+b+S:this._scale.location.y-b;break;case"farinside":case"centerinside":a=y?this._scale.location.y+w-b:this._scale.location.y+b+(_?S:0);break;case"nearinside":a=y?this._scale.location.y+w-b:this._scale.location.y+b+S}var C=this._scale.minimum,T=this._scale.maximum,L=this._scale.interval;for(this._labelPlacement,n=C;n<=T;n+=L){var k=a,P=s,j=this._scale.labelSettings.font;if(j.size=S,_)r="rotate(0,"+P+","+k+")";else{switch(d=this._scale.labelSettings.labelPrefix+n+this._scale.labelSettings.labelSuffix,x){case"faroutside":case"centeroutside":case"nearoutside":k-=y?S:t.EjSvgRender.utils._measureText(d,null,j).width;break;case"farinside":case"centerinside":y&&(k-=t.EjSvgRender.utils._measureText(d,null,j).width);break;case"nearinside":k-=y?t.EjSvgRender.utils._measureText(d,null,j).width:S}r="rotate(90,"+(P-=S/3)+","+k+")"}this.model.applyRangeStrokeToLabels&&(h=this._bindingRangeStrokes(s)),c=this._labelOptions(this.model.quantitativeScaleSettings.labelSettings,P,k,r,h),this.model.drawLabels&&(u={font:this._scale.labelSettings.font,labelPrefix:this._scale.labelSettings.labelPrefix,labelSuffix:this._scale.labelSettings.labelSuffix,offset:b,size:S,stroke:this._scale.labelSettings.stroke},this._trigger("drawLabels",u),c=this._labelOptions(u,P,k,r,h)),s=g?_?s+e:s-e:_?s-e:s+e,l=o=m?n.toLocaleString(p):n,t.util.isNullOrUndefined(c.labelPrefix)||(l=c.labelPrefix+o),t.util.isNullOrUndefined(c.labelSuffix)||(l+=c.labelSuffix),this.svgRenderer.drawText(c,l,i)}},_labelOptions:function(e,i,s,a,o){var r={x:i,y:s,"text-anchor":this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?"middle":"start",fill:this.model.applyRangeStrokeToLabels&&o?o:e.stroke,"font-size":e.size+"px","font-family":e.font.fontFamily,"font-style":e.font.fontStyle,"font-weight":e.font.fontWeight,opacity:e.font.opacity,transform:a};return""!=e.labelPrefix&&(r.labelPrefix=e.labelPrefix),""!=e.labelSuffix&&(r.labelSuffix=e.labelSuffix),r},_drawQualitativeRanges:function(e){var i,s,a,o,r,l=this._scale.location.x,n=this._scale.location.y,d=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward,h=this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal;this._scale.labelSettings.offset,this._rangeCollection=[],this._tickPosition,this._labelPlacement,this._labelPosition,t.datavisualization.BulletGraph.LabelPosition.Below,this.model.qualitativeRangeSize;var c=this._scale.location.x,u=this._scale.minimum,p=this._scale.maximum,m=this.model.quantitativeScaleLength;for(s=this.model.qualitativeRanges.length-1;s>=0;s--)a={object:this,rangeIndex:s,rangeOptions:this.model.qualitativeRanges[s],rangeEndValue:this.model.qualitativeRanges[s].rangeEnd},this.model.drawQualitativeRanges&&this._trigger("drawQualitativeRanges",a),o=(o=a.rangeEndValue)>p?p:o,d?(l=h?c:c+(m-m/((p-u)/(p-u-(p-o)))),i=m/((p-u)/(p-u-(p-o)))):(l=h?c+(m-m/((p-u)/(p-u-(p-o)))):c,i=m/((p-u)/(p-u-(p-o)))),r={x:l,y:n,height:this.model.qualitativeRangeSize,width:i>0?i<m?i:m:0,fill:a.rangeOptions.rangeStroke,opacity:a.rangeOptions.rangeOpacity},h&&d||!h&&!d?this._rangeCollection.push(i):this._rangeCollection.push(l),this.svgRenderer.drawRect(r,e);this._rangeCollection.sort(this._sortRangeCollection)},_sortRangeCollection:function(e,t){return e-t},_calculateFeatureMeasureBounds:function(e,i){var s,a,o=this._scale.minimum;if((e=e<o&&o<0?o:e)>=o){var r,l,n,d=this._scale.location.x,h=this.model.quantitativeScaleLength,c=this._scale.maximum-this._scale.minimum,u=this._scale.maximum-e,p=this._flowDirection.toLowerCase()+this._orientation.toLowerCase();switch(i=null==i?"":i,(s=this._scale.labelSettings.font).size=this._scale.labelSettings.size,a=t.EjSvgRender.utils._measureText(i.toString(),null,s).width,p){case"forwardhorizontal":case"backwardvertical":r=d+(o>0?0:h/c*Math.abs(o)),n=h/(c/(o>0?c-u:e)),e<0&&(r-=n=Math.abs(n)),n=r+n<d+h?n:d+h-r,l=d-("forwardhorizontal"==p?a/2+this._scale.labelSettings.offset:this._scale.labelSettings.offset);break;default:r=d+(h-h/(c/(c-u))),n=o>0?h/(c/(c-u)):h/(c/e),e<0&&(r-=n=Math.abs(n)),r<d&&(n=r+n-d,r=d),l=d+h+("backwardhorizontal"==p?a/2+this._scale.labelSettings.offset:this._scale.labelSettings.offset)}return{pointX:r,Width:n,lPointX:l}}return!1},_drawFeatureMeasureBar:function(){var e,i,s,a,o,r,l,n,d,h,c=1,u=this.model.locale,p=u&&this.model.enableGroupSeparator,m=!t.isNullOrUndefined(this.model.fields)&&null!=this.model.fields.dataSource,g=this._orientation==t.datavisualization.BulletGraph.Orientation.Vertical,_="function"==typeof this.model.value?this._value():this.model.value;if(this._dataCount>0)for(r=this._dataCount-1;r>=0;r--)e=m?this.model.fields.dataSource[r][this.model.fields.featureMeasures]:t.isNullOrUndefined(this._scale.featureMeasures[r].value)?_:this._scale.featureMeasures[r].value,i=m?this.model.fields.dataSource[r][this.model.fields.category]:this._scale.featureMeasures[r].category,a=this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*c/2-this._scale.featuredMeasureSettings.width/2,o=this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*c/2+this._scale.featuredMeasureSettings.width/2-1,(l=this._calculateFeatureMeasureBounds(e,i))&&(n=this._featureBar(this._scale,l.pointX,a,l.Width,r),this.model.drawFeatureMeasureBar&&(h={featuredMeasureSettings:this._scale.featuredMeasureSettings},this._trigger("drawFeatureMeasureBar",h),n=this._featureBar(h,l.pointX,a,l.Width,r)),this.svgRenderer.drawRect(n,this._scaleGroup),s=g?"rotate(90,"+l.lPointX+","+(o-4)+")":"rotate(0,"+l.lPointX+","+o+")",d=this._drawcategory(this.model.quantitativeScaleSettings.labelSettings,l.lPointX,o,s),this.model.drawCategory&&(h={size:this.model.quantitativeScaleSettings.labelSettings.size,stroke:this.model.quantitativeScaleSettings.labelSettings.stroke,font:this.model.quantitativeScaleSettings.labelSettings.font,categoryValue:i},this._trigger("drawCategory",h),d=this._drawcategory(h,l.lPointX,o,s),i=h.categoryValue),t.isNullOrUndefined(i)||this.svgRenderer.drawText(d,p?i.toLocaleString(u):i,this._scaleGroup),c+=2,this.value(e))},_drawcategory:function(e,t,i,s){return{x:t,y:i+this._scale.featuredMeasureSettings.width/2,"text-anchor":"middle",fill:e.stroke,"font-size":e.size+"px","font-family":e.font.fontFamily,"font-style":e.font.fontStyle,"font-weight":e.font.fontWeight,opacity:e.font.opacity,transform:s}},_featureBar:function(e,t,i,s,a){return{class:this.svgObject.id+"_FeatureMeasure",id:this.svgObject.id+"_FeatureMeasure_"+a,x:t,y:i,height:e.featuredMeasureSettings.width,width:s,fill:e.featuredMeasureSettings.stroke}},_drawComparativeMeasureSymbol:function(){var e,i,s,a,o,r,l,n=1,d=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward,h=this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal,c="function"==typeof this.model.comparativeMeasureValue?this._comparativeMeasureValue():this.model.comparativeMeasureValue;if(this._dataCount>0)for(o=this._dataCount-1;o>=0;o--)(e=t.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?t.isNullOrUndefined(this._scale.featureMeasures[o].comparativeMeasureValue)?c:this._scale.featureMeasures[o].comparativeMeasureValue:this.model.fields.dataSource[o][this.model.fields.comparativeMeasure])>=this._scale.minimum&&e<=this._scale.maximum&&(i=this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*n/2-this._scale.featuredMeasureSettings.width/2-this._scale.featuredMeasureSettings.width,s=this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*n/2-this._scale.featuredMeasureSettings.width/2+2*this._scale.featuredMeasureSettings.width,a=d?h?this._scale.location.x+this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-e))):this._scale.location.x+(this.model.quantitativeScaleLength-this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-e)))):h?this._scale.location.x+(this.model.quantitativeScaleLength-this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-e)))):this._scale.location.x+this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-e))),r=this._compareMeasure(this._scale,a,i,s,o,e),this.model.drawComparativeMeasureSymbol&&(l={comparativeMeasureSettings:this._scale.comparativeMeasureSettings},this._trigger("drawComparativeMeasureSymbol",l),r=this._compareMeasure(l,a,i,s,o,e)),this.svgRenderer.drawLine(r,this._scaleGroup),n+=2,this.comparativeMeasureValue(e))},_compareMeasure:function(e,t,i,s,a,o){return{class:this.svgObject.id+"_ComparativeMeasure",id:this.svgObject.id+"_ComparativeMeasure_"+a,x1:o==this._scale.maximum?t-e.comparativeMeasureSettings.width/2:o==this._scale.minimum?t+e.comparativeMeasureSettings.width/2:t,y1:i,x2:o==this._scale.maximum?t-e.comparativeMeasureSettings.width/2:o==this._scale.minimum?t+e.comparativeMeasureSettings.width/2:t,y2:s,"stroke-width":e.comparativeMeasureSettings.width,stroke:e.comparativeMeasureSettings.stroke}},_setTheme:function(e,i){var s,a,o,r=[];for(s in this._scale=this.model.quantitativeScaleSettings,e)r.push(s);for(a=0;a<r.length;a++)for(this._scale.majorTickSettings.stroke=this._scale.majorTickSettings.stroke&&this._scale.majorTickSettings.stroke!=e[r[a]].quantitativeScaleSettings.majorTickSettings.stroke?this._scale.majorTickSettings.stroke:e[i].quantitativeScaleSettings.majorTickSettings.stroke,this._scale.minorTickSettings.stroke=this._scale.minorTickSettings.stroke&&this._scale.minorTickSettings.stroke!=e[r[a]].quantitativeScaleSettings.minorTickSettings.stroke?this._scale.minorTickSettings.stroke:e[i].quantitativeScaleSettings.minorTickSettings.stroke,this._scale.labelSettings.stroke=this._scale.labelSettings.stroke&&this._scale.labelSettings.stroke!=e[r[a]].quantitativeScaleSettings.labelSettings.stroke?this._scale.labelSettings.stroke:e[i].quantitativeScaleSettings.labelSettings.stroke,this._scale.featuredMeasureSettings.stroke=this._scale.featuredMeasureSettings.stroke&&this._scale.featuredMeasureSettings.stroke!=e[r[a]].quantitativeScaleSettings.featuredMeasureSettings.stroke?this._scale.featuredMeasureSettings.stroke:e[i].quantitativeScaleSettings.featuredMeasureSettings.stroke,this._scale.comparativeMeasureSettings.stroke=this._scale.comparativeMeasureSettings.stroke&&this._scale.comparativeMeasureSettings.stroke!=e[r[a]].quantitativeScaleSettings.comparativeMeasureSettings.stroke?this._scale.comparativeMeasureSettings.stroke:e[i].quantitativeScaleSettings.comparativeMeasureSettings.stroke,this.model.captionSettings.font.color=this.model.captionSettings.font.color&&this.model.captionSettings.font.color!=e[r[a]].captionSettings.font.color?this.model.captionSettings.font.color:e[i].captionSettings.font.color,this.model.captionSettings.subTitle.font.color=this.model.captionSettings.subTitle.font.color&&this.model.captionSettings.subTitle.font.color!=e[r[a]].captionSettings.subTitle.font.color?this.model.captionSettings.subTitle.font.color:e[i].captionSettings.subTitle.font.color,this.model.captionSettings.indicator.font.color=this.model.captionSettings.indicator.font.color&&this.model.captionSettings.indicator.font.color!=e[r[a]].captionSettings.indicator.font.color?this.model.captionSettings.indicator.font.color:e[i].captionSettings.indicator.font.color,this.model.captionSettings.indicator.symbol.color=this.model.captionSettings.indicator.symbol.color&&this.model.captionSettings.indicator.symbol.color!=e[r[a]].captionSettings.indicator.symbol.color?this.model.captionSettings.indicator.symbol.color:e[i].captionSettings.indicator.symbol.color,o=0;o<this.model.qualitativeRanges.length;o++)this.model.qualitativeRanges[o].rangeStroke=this.model.qualitativeRanges[o].rangeStroke?this.model.qualitativeRanges[o].rangeStroke:t.isNullOrUndefined(e[i].qualitativeRanges[o])?e[i].qualitativeRanges[0].rangeStroke:e[i].qualitativeRanges[o].rangeStroke},_onDrawQualitativeRanges:function(e,t,i){var s={object:this,scaleElement:this.model.quantitativeScaleSettings,rangeIndex:i,rangeElement:e,rangeEndValue:t};this._trigger("drawQualitativeRanges",s)},_doAnimation:function(){for(var t,i=e("."+this.svgObject.id+"_FeatureMeasure"),s=i.length-1;s>=0;s--)t=i[s],this._animateFeatureBar(t)},_doLineAnimation:function(){for(var t,i=e("."+this.svgObject.id+"_ComparativeMeasure"),s=2e3/i.length,a=i.length-1;a>=0;a--)t=i[a],e(t).attr("transform","scale(0)"),this._doLineSymbol(t,s,a)},_animateFeatureBar:function(i){var s,a,o=i.getBBox();this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal&&this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Backward||this._orientation==t.datavisualization.BulletGraph.Orientation.Vertical&&this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward?(s=o.x+o.width,a=o.y+o.height):(s=o.x,a=o.y),e(i).animate({scale:1},{duration:1e3,step:function(t){e(i).attr("transform","translate("+s+" "+a+") scale("+t+",1) translate("+-s+" "+-a+")")}})},_doLineSymbol:function(t,i,s){var a=parseInt(s*i),o=t.getBBox(),r=o.x+o.width/2,l=o.y+o.height/2;e(t).delay(a).animate({scale:1},{duration:200,step:function(i){e(t).attr("transform","translate("+r+" "+l+") scale("+i+") translate("+-r+" "+-l+")")}})},bindEvents:function(){var i=t.EjSvgRender.utils.browserInfo(),s=i.isMSPointerEnabled,a=i.pointerEnabled,o=s?a?"pointerdown":"MSPointerDown":"touchstart mousedown",r=s?a?"pointerup":"MSPointerUp":"touchend mouseup",l=s?a?"pointermove":"MSPointerMove":"touchmove mousemove",n=s?a?"pointerleave":"MSPointerOut":"touchleave mouseleave";this.model.browserInfo=i,this._on(e(this.svgObject),l,this._bulletMouseMove),this._on(e(this.svgObject),n,this._bulletMouseLeave),this._on(e(this.svgObject),o,this._bulletMouseDown),this._on(e(this.svgObject),r,this._bulletMouseUp),this._on(e(this.svgObject),"contextmenu",this._bulletRightClick),this._on(e(this.svgObject),"click",this._bulletClick),(this.model.enableResizing||this.model.isResponsive)&&(t.isTouchDevice()?this._on(e(window),"orientationchange",this._bulletResize):this._on(e(window),"resize",this._bulletResize))},_unwireEvents:function(){this._off(e(this.svgObject),"contextmenu",this._bulletRightClick),this._off(e(this.svgObject),"click",this._bulletClick)},isDevice:function(){return/mobile|tablet|android|kindle/i.test(navigator.userAgent.toLowerCase())},_bulletResize:function(){var i,s=this,a=this.model.height,o=this.model.width,r=e(s.svgObject),l=(a=90,o=t.isTouchDevice()?250:595,e(s.element).width());s.model.width?o=parseInt(s.model.width):l>0&&l<595?o=l:l>595&&(o=595),s.model.height&&(a=parseInt(s.model.height)),i=e(s.element).height()>a?a:e(s.element).height(),this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout((function(){o<e(s.element).width()?r.width(o):r.width(e(s.element).width()),r.height(i),s.redraw()}),500)},_bulletMouseLeave:function(t){this.isTouch(t)||(e("#tooltip").remove(),e(".tooltipDiv"+this._id).remove())},isTouch:function(e){var t=e.originalEvent?e.originalEvent:e;return"touch"==t.pointerType||2==t.pointerType||t.type.indexOf("touch")>-1},_bulletMouseMove:function(t){var i,s;i=e(t.target).attr("id"),s=e(t.target).attr("class"),this.isTouch(t)||(e("#tooltip").remove(),e(".tooltipDiv"+this._id).remove(),this._elementTooltip(t,s,i),this._displayTooltip(t,s,i))},_bulletMouseDown:function(i){if(this.isTouch(i)){e("#tooltip").remove(),e(".tooltipDiv"+this._id).remove();var s=e(i.target).attr("id"),a=e(i.target).attr("class");this._elementTooltip(i,a,s),this._displayTooltip(i,a,s)}t.isTouchDevice()&&""!=this.model.rightClick&&(this._longPressTimer=new Date)},_bulletMouseUp:function(i){if(this.isTouch(i)){var s,a=this;window.clearTimeout(a.model.timer),1==e(".tooltipDiv"+this._id).length&&(s=e(".tooltipDiv"+this._id)),s&&(a.model.trackerElement=s,a.model.timer=setTimeout((function(){a.model.trackerElement&&e(".tooltipDiv"+a._id).fadeOut(500,(function(){e(".tooltipDiv"+a._id).remove(),e("[id*="+a.svgObject.id+"_FeatureMeasure_]").attr("opacity","1")}))}),1200))}t.isTouchDevice()&&""!=this.model.rightClick&&new Date-this.model._longPressTimer>1500&&this._bulletRightClick(i)},_bulletClick:function(e){var t=new Date;""!=this.model.click&&this._trigger("click",{data:{event:e}}),null!=this._doubleTapTimer&&t-this._doubleTapTimer<300&&this._bulletDoubleClick(e),this._doubleTapTimer=t},_bulletDoubleClick:function(e){""!=this.model.doubleClick&&this._trigger("doubleClick",{data:{event:e}})},_bulletRightClick:function(e){""!=this.model.rightClick&&this._trigger("rightClick",{data:{event:e}})},_elementTooltip:function(t,s){var a,o,r,l=this.model.captionSettings,n=e("<div></div>").attr({id:"tooltip",class:"tooltipDiv"+this._id}),d=this.mousePosition(t),h="";if(e(n).css({left:d.pageX+10,top:d.pageY+10,display:"block",position:"absolute","z-index":"13000",cursor:"default","font-family":"Segoe UI",color:"#707070","font-size":"12px","background-color":"#FFFFFF",border:"1px solid #707070"}),s==this.svgObject.id+"_Caption"?h=t.target.textContent==l.text?"":l.text:s==this.svgObject.id+"_SubTitle"?h=t.target.textContent==l.subTitle.text?"":l.subTitle.text:s==this.svgObject.id+"_Indicator"&&(h=t.target.textContent==l.indicator.text?"":l.indicator.text),""!=h)e(n).html("&nbsp"+h+"&nbsp"),e(document.body).append(n);else if(this.model.tooltipSettings.enableCaptionTooltip&&(s==this.svgObject.id+"_Caption"||s==this.svgObject.id+"_SubTitle"||s==this.svgObject.id+"_Indicator")){var c=e("."+s).text(),u={Text:c},p=this.model.tooltipSettings.captionTemplate;0==e(".tooltipDiv"+this._id).length&&(n=e("<div></div>").attr("class","tooltipDiv"+this._id).css({position:"absolute","z-index":"13000",display:"block"}),e(document.body).append(n)),""!=p&&null!=p?(a=(a=document.getElementById(p))?e(a).clone():e(p),e(a).css("display","block").appendTo(n),e(n).html(e(a).render(u))):e(n).html(c),e(n).css("font-size","12px"),o=d.clientX+e(document).scrollLeft()+10,r=d.clientY+e(document).scrollTop()+10,o=o+e(n).width()<e(window).width()?o:o-e(n).width(),r=r+e(n).height()<e(window).height()?r:r-e(n).height(),(o===i||null===o)&&(o=d.clientX+e(document).scrollLeft()+10),(r===i||null===r)&&(r=d.clientY+e(document).scrollTop()+10),e(n).css({left:o,top:r,"-webkit-border-radius":"5px 5px 5px 5px","-moz-border-radius":"5px 5px 5px 5px","-o-border-radius":"5px 5px 5px 5px","border-radius":"5px 5px 5px 5px","background-color":"White",border:"1px Solid Black","padding-bottom":"5px","padding-left":"5px","padding-right":"5px","padding-top":"5px"})}},mousePosition:function(e){return!t.util.isNullOrUndefined(e.pageX)&&e.pageX>0?e:e.originalEvent&&!t.util.isNullOrUndefined(e.originalEvent.pageX)&&e.originalEvent.pageX>0?e.originalEvent:e.originalEvent&&e.originalEvent.changedTouches!=i&&!t.util.isNullOrUndefined(e.originalEvent.changedTouches[0].pageX)&&e.originalEvent.changedTouches[0].pageX>0?e.originalEvent.changedTouches[0]:e},_displayTooltip:function(s,a,o){var r,l,n,d;if("undefined"!=a&&(a==this.svgObject.id+"_FeatureMeasure"||a==this.svgObject.id+"_ComparativeMeasure")){var h,c,u,p,m,g,_=this.model.locale,f=_&&this.model.enableGroupSeparator,b="function"==typeof this.model.value?this._value():this.model.value,v="function"==typeof this.model.comparativeMeasureValue?this._comparativeMeasureValue():this.model.comparativeMeasureValue,x=this.mousePosition(s);c=o.substring(o.lastIndexOf("_")+1),u=t.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?t.isNullOrUndefined(this._scale.featureMeasures[c].value)?b:this._scale.featureMeasures[c].value:this.model.fields.dataSource[c][this.model.fields.featureMeasures],p=t.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?t.isNullOrUndefined(this._scale.featureMeasures[c].comparativeMeasureValue)?v:this._scale.featureMeasures[c].comparativeMeasureValue:this.model.fields.dataSource[c][this.model.fields.comparativeMeasure],m=t.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?t.isNullOrUndefined(this._scale.featureMeasures[c].category)?null:this._scale.featureMeasures[c].category:t.isNullOrUndefined(this.model.fields.dataSource[c][this.model.fields.category])?null:this.model.fields.dataSource[c][this.model.fields.category],h=f?{currentValue:u.toLocaleString(_),targetValue:p.toLocaleString(_),category:t.util.isNullOrUndefined(m)?m:m.toLocaleString(_)}:{currentValue:u,targetValue:p,category:m},0==e(".tooltipDiv"+this._id).length&&(g=e("<div></div>").attr("class","tooltipDiv"+this._id).css({position:"absolute","z-index":"13000",display:"block"}),e(document.body).append(g)),""!=this.model.tooltipSettings.template&&null!=this.model.tooltipSettings.template?(r=e("#"+this.model.tooltipSettings.template).clone(),e(r).css("display","block").appendTo(g),e(g).html(e(r).render(h))):(l=t.isNullOrUndefined(h.category)?"":"<br/> Category : "+h.category,e(g).html("Current : "+h.currentValue+"<br/> Target : "+h.targetValue+l)),e(g).css("font-size","12px"),n=x.clientX+e(document).scrollLeft()+10,d=x.clientY+e(document).scrollTop()+10,n=n+e(g).width()<e(window).width()?n:n-e(g).width(),d=d+e(g).height()<e(window).height()?d:d-e(g).height(),(n===i||null===n)&&(n=x.clientX+e(document).scrollLeft()+10),(d===i||null===d)&&(d=x.clientY+e(document).scrollTop()+10),e(g).css({left:n,top:d,"-webkit-border-radius":"5px 5px 5px 5px","-moz-border-radius":"5px 5px 5px 5px","-o-border-radius":"5px 5px 5px 5px","border-radius":"5px 5px 5px 5px","background-color":"White",color:"black",border:"1px Solid Black","padding-bottom":"5px","padding-left":"5px","padding-right":"5px","padding-top":"5px"}),a==this.svgObject.id+"_FeatureMeasure"&&e("#"+o).attr("opacity","0.7")}},redraw:function(){e(this.svgObject).empty(),this._renderBulletElements()},destroy:function(){this._unwireEvents(),e(this.element).removeClass("e-bulletgraph e-js").find("#"+this.svgObject.id).remove()},setFeatureMeasureBarValue:function(e,i){this._scale=this.model.quantitativeScaleSettings,e<(t.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?this._scale.featureMeasures.length:this.model.fields.dataSource.length)&&null!=i&&(t.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?this._scale.featureMeasures[e].value=i:this.model.fields.dataSource[e][this.model.fields.featureMeasures]=i,this.redraw(),this.model.enableAnimation&&this._doAnimation())},setComparativeMeasureSymbol:function(e,i){this._scale=this.model.quantitativeScaleSettings,e<(t.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?this._scale.featureMeasures.length:this.model.fields.dataSource.length)&&null!=i&&(t.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?this._scale.featureMeasures[e].comparativeMeasureValue=i:this.model.fields.dataSource[e][this.model.fields.comparativeMeasure]=i,this.redraw(),this.model.enableAnimation&&this._doLineAnimation())}}),t.datavisualization.BulletGraph.Orientation={Horizontal:"horizontal",Vertical:"vertical"},t.datavisualization.BulletGraph.TickPlacement={Inside:"inside",Outside:"outside"},t.datavisualization.BulletGraph.LabelPlacement={Inside:"inside",Outside:"outside"},t.datavisualization.BulletGraph.Shape={Circle:"circle",Cross:"cross",Diamond:"diamond",DownArrow:"downarrow",Ellipse:"ellipse",HorizontalLine:"horizontalLine",Image:"image",InvertedTriangle:"invertedtriangle",LeftArrow:"leftarrow",Pentagon:"pentagon",Rectangle:"Rectangle",RightArrow:"rightarrow",Star:"star",Trapezoid:"trapezoid",Triangle:"triangle",UpArrow:"uparrow",VerticalLine:"verticalline",Wedge:"wedge"},t.datavisualization.BulletGraph.TickPosition={Far:"far",Near:"near",Center:"center"},t.datavisualization.BulletGraph.LabelPosition={Below:"below",Above:"above"},t.datavisualization.BulletGraph.FlowDirection={Forward:"forward",Backward:"backward"},t.datavisualization.BulletGraph.FontStyle={Normal:"Normal",Italic:"Italic",Oblique:"Oblique"},t.datavisualization.BulletGraph.FontWeight={Normal:"Normal",Bold:"Bold",Bolder:"Bolder",Lighter:"Lighter"},t.datavisualization.BulletGraph.Themes={flatlight:{quantitativeScaleSettings:{majorTickSettings:{stroke:"#191919"},minorTickSettings:{stroke:"#191919"},labelSettings:{stroke:"#191919"},featuredMeasureSettings:{stroke:"#191919"},comparativeMeasureSettings:{stroke:"#191919"}},qualitativeRanges:[{rangeStroke:"#ebebeb"},{rangeStroke:"#d8d8d8"},{rangeStroke:"#7f7f7f"}],captionSettings:{font:{color:"#191919"},subTitle:{font:{color:"#191919"}},indicator:{font:{color:"#191919"},symbol:{color:"#191919"}}}},material:{quantitativeScaleSettings:{majorTickSettings:{stroke:"#333333"},minorTickSettings:{stroke:"#191919"},labelSettings:{stroke:"#333333"},featuredMeasureSettings:{stroke:"#333333"},comparativeMeasureSettings:{stroke:"#333333"}},qualitativeRanges:[{rangeStroke:"#ebebeb"},{rangeStroke:"#d8d8d8"},{rangeStroke:"#7f7f7f"}],captionSettings:{font:{color:"#333333"},subTitle:{font:{color:"#333333"}},indicator:{font:{color:"#333333"},symbol:{color:"#333333"}}}},flatdark:{quantitativeScaleSettings:{majorTickSettings:{stroke:"#ffffff"},minorTickSettings:{stroke:"#ffffff"},labelSettings:{stroke:"#ffffff"},featuredMeasureSettings:{stroke:"#ffffff"},comparativeMeasureSettings:{stroke:"#ffffff"}},qualitativeRanges:[{rangeStroke:"#b3b3b3"},{rangeStroke:"#999999"},{rangeStroke:"#4d4d4d"}],captionSettings:{font:{color:"#ffffff"},subTitle:{font:{color:"#ffffff"}},indicator:{font:{color:"#ffffff"},symbol:{color:"#ffffff"}}}}}})(jQuery,Syncfusion),ej.EjSvgRender=function(e){var t,i;if(this.svgLink="http://www.w3.org/2000/svg",this.svgObj=document.createElementNS(this.svgLink,"svg"),this._rootId=jQuery(e).attr("id"),t=this._rootId+"_svg",$(document).find("#"+t).length>0){i=0;do{i++}while($(document).find("#"+this._rootId+"_svg"+i).length>0);t=this._rootId+"_svg"+i}this.svgObj.setAttribute("id",t)},function(e){function t(e,t,i,s){var a=s*Math.PI/180;return[e+i*Math.cos(a),t+i*Math.sin(a)]}ej.EjSvgRender.prototype={drawPath:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"path");e(s).attr(t).appendTo(i)}},createLegendSvg:function(e){return this.svgLink="http://www.w3.org/2000/svg",this.legendsvgObj=document.createElementNS(this.svgLink,"svg"),this._rootId=jQuery(e).attr("id"),this.legendsvgObj.setAttribute("id","legend_"+this._rootId+"_svg"),this.legendsvgObj},drawPolyline:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"polyline");e(s).attr(t).appendTo(i)}},drawLine:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"line");e(s).attr(t),e(s).appendTo(i)}},drawPolygon:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"polygon");e(s).attr(t),e(s).appendTo(i)}},drawCircle:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"circle");e(s).attr(t).appendTo(i)}},drawEllipse:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"ellipse");e(s).attr(t).appendTo(i)}},drawRect:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"rect");e(s).attr(t).appendTo(i)}},drawCylinder:function(t,i,s){var a,o,r;if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var l=t.x,n=t.y,d=t.id,h=t.fill,c=h;this.checkColorFormat(h)||(h=ej.datavisualization.Chart.prototype.colorNameToHex(h));var u,p,m,g,_,f,b,v,x,y,w,S=2,C=0,T=0,L={svgRenderer:this};if(1==s.isColumn){var k=t.width/2,P=t.height;_=x=l,y=f=(j=k/4)<n?n-j:s.stacking?n+j:n-j,u=2*k,p=0,m=0,g=j<n||P<2*j?P:s.stacking?P-2*j:P,b=_,v=j<n?f+P:P<f?P+f:s.stacking?P+(n-j):P+f,C=100,(s.stacking=!0)&&(s.isLastSeries||(f=y=n+j,g=P<k/2?P:P-k/2))}else{var j;u=0,p=2*(j=t.height/2),m=P=t.width,g=0,b=(_=x=l+(k=j/4))+P,v=f=y=n,T=100,(s.stacking=!0)&&(s.isLastSeries||(b=_+P-2*k,m=P-2*k))}for(delete t.x,delete t.y,delete t.width,delete t.height,delete t.isColumn;S--;)w="M"+_.toString()+","+f.toString(),w+="a"+k.toString()+","+j.toString()+" 0 1,0 "+u.toString()+","+p.toString(),w+="a"+k.toString()+","+j.toString()+" 0 1,0 "+(-1*u).toString()+","+(-1*p).toString(),t.d=w,t.id=d+"_Region_"+S,t.fill=ej.Ej3DRender.prototype.polygon3D.prototype.applyZLight(h,L),this.drawPath(t,i),_=b,f=v;w="M"+x.toString()+","+y.toString(),w+="a"+k.toString()+","+j.toString()+" 0 1,0 "+u.toString()+","+p.toString(),w+="l"+m.toString()+" "+g.toString(),w+="a"+k.toString()+","+j.toString()+" 0 1,1 "+(-1*u).toString()+","+(-1*p).toString()+" z",t.d=w,t.id=d+"_Region_2",-1==c.indexOf("url")&&(0==e("#"+(a=d)).length&&(o={id:a,x1:"0%",y1:"0%",x2:C.toString()+"%",y2:T.toString()+"%"},(r=[])[0]={colorStop:"0%",color:h},r[1]={colorStop:"30%",color:ej.Ej3DRender.prototype.polygon3D.prototype.applyXLight(h,L)},r[2]={colorStop:"70%",color:ej.Ej3DRender.prototype.polygon3D.prototype.applyXLight(h,L)},r[3]={colorStop:"100%",color:h},this.drawGradient(o,r,i)),t.fill="url(#"+a+")"),this.drawPath(t,i)}},createGradientElement:function(e,t,i,s,a,o,r){var l,n;return"[object Array]"==Object.prototype.toString.call(t)?(n={id:this.svgObj.id+"_"+e+"Gradient",x1:i+"%",y1:s+"%",x2:a+"%",y2:o+"%"},this.svgObj.id,this.drawGradient(n,t,r),l="url(#"+this.svgObj.id+"_"+e+"Gradient)"):l=t,l},drawGradient:function(t,i,s){var a,o,r=this.createDefs(),l=document.createElementNS(this.svgLink,"linearGradient");for(e(l).attr(t),a=0;a<i.length;a++)o=document.createElementNS(this.svgLink,"stop"),e(o).attr({offset:i[a].colorStop,"stop-color":i[a].color,"stop-opacity":1}),e(o).appendTo(l);e(l).appendTo(r),e(r).appendTo(s)},drawText:function(t,i,s,a){var o,r,l,n,d,h;if(e("#"+t.id).length>0)this._textAttrReplace(t,i,a);else{if(o=document.createElementNS(this.svgLink,"text"),r=e(o),"array"==jQuery.type(i))for(l=0,r.attr(t),n=0;n<i.length;n++)(d=document.createElementNS(this.svgLink,"tspan")).textContent=i[n],e(d).attr({x:t.x,dy:l}),e(d).appendTo(o),a=this.enable3D?a.font:a,h=ej.EjSvgRender.utils._measureText(i[n],null,a),l=t.isTrackball?h.height+2:h.height;else o.textContent=i,r.attr(t);r.appendTo(s)}},_textAttrReplace:function(t,i,s){var a,o,r,l;if(e("#"+t.id).attr(t),"array"==jQuery.type(i))if(o=0,(a=e("#"+t.id).children("tspan")).length>0&&a.length==i.length)for(r=0;r<a.length;r++)l=a[r],e(l).attr({x:t.x,dy:o}),l.textContent=i[r],o=ej.EjSvgRender.utils._measureText(i[r],null,s).height+2;else e("#"+t.id).remove(),this.drawText(t,i,this.gTransToolEle,s);else e("#"+t.id).text(i)},drawImage:function(t,i){var s=document.createElementNS(this.svgLink,"image");s.setAttributeNS(null,"height",t.height),s.setAttributeNS(null,"width",t.width),s.setAttributeNS("http://www.w3.org/1999/xlink","href",t.href),s.setAttributeNS(null,"x",t.x),s.setAttributeNS(null,"y",t.y),s.setAttributeNS(null,"id",t.id),s.setAttributeNS(null,"visibility",t.visibility),ej.util.isNullOrUndefined(t.clippath)&&ej.util.isNullOrUndefined(t.preserveAspectRatio)||(s.setAttributeNS(null,"clip-path",t.clippath),s.setAttributeNS(null,"preserveAspectRatio",t.preserveAspectRatio)),e(s).appendTo(i)},createDefs:function(){return document.createElementNS(this.svgLink,"defs")},createClipPath:function(t){var i=document.createElementNS(this.svgLink,"clipPath");return e(i).attr(t),i},createForeignObject:function(t){var i=document.createElementNS(this.svgLink,"foreignObject");return e(i).attr(t),i},createGroup:function(t){var i=document.createElementNS(this.svgLink,"g");return e(i).attr(t),i},createPattern:function(e,t){var i=document.createElementNS(this.svgLink,t);for(var s in e)e.hasOwnProperty(s)&&i.setAttribute(s,e[s]);return i},createText:function(t,i){var s=document.createElementNS(this.svgLink,"text");return e(s).attr(t),ej.util.isNullOrUndefined(i)||(s.textContent=i),s},createPath:function(t){var i=document.createElementNS(this.svgLink,"path");return e(i).attr(t),i},createCircle:function(t){var i=document.createElementNS(this.svgLink,"circle");return e(i).attr(t),i},createLine:function(t){var i=document.createElementNS(this.svgLink,"line");return e(i).attr(t),i},_getAttrVal:function(t,i,s){var a=e(t).attr(i);return null!=a?a:s},hexFromRGB:function(t){var i,s=t.R,a=t.G,o=t.B;return t.A?"rgba("+s.toString()+","+a.toString()+","+o.toString()+","+t.A+")":(i=[s.toString(16),a.toString(16),o.toString(16)],e.each(i,(function(e,t){1===t.length&&(i[e]="0"+t)})),"#"+i.join("").toUpperCase())},checkColorFormat:function(e){return/(rgba?\((?:\d{1,3}[,\)]){3}(?:\d+\.\d+\))?)|(^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$)/gim.test(e)},hexToRGB:function(e){var t;return 1==/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.test(e)?(t=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.exec(e))?{R:parseInt(t[1]),G:parseInt(t[2]),B:parseInt(t[3]),A:t[4]}:null:(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?{R:parseInt(t[1],16),G:parseInt(t[2],16),B:parseInt(t[3],16)}:null},createDelegate:function(e,t){return function(i){t.apply(e,[i,this])}},drawClipPath:function(t,i){if(e(i).find("#"+t.id).length>0)e(i).find("#"+t.id).attr(t);else{var s=this.createDefs(),a=this.createClipPath({id:t.id});t.id=t.id+"_Rect",this.drawRect(t,a),this.append(a,s),this.append(s,i)}},drawCircularClipPath:function(e,t){var i=this.createDefs(),s=this.createClipPath({id:e.id});this.drawCircle(e,s),this.append(s,i),this.append(i,t)},append:function(t,i){e(t).appendTo(i)},_setAttr:function(t,i){e(t).attr(i)}},ej.EjSvgRender.commonChartEventArgs={cancel:!1,data:null},ej.EjSvgRender.utils={_decimalPlaces:function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},_getLabelContent:function(e,t,i){switch(t._categoryValueType){case"number":var s=ej.util.isNullOrUndefined(t.labelFormat)?null:t.labelFormat.match("{value}");return ej.util.isNullOrUndefined(t.labelFormat)?t.labels[Math.floor(e)]:null!=s?t.labelFormat.replace("{value}",t.labels[Math.floor(e)]):ej.format(t.labels[Math.floor(e)],t.labelFormat,i);case"date":return ej.format(new Date(t.labels[Math.floor(e)]),ej.util.isNullOrUndefined(t.labelFormat)?"dd/MM/yyyy":t.labelFormat,i);case"string":return t.labels[Math.floor(e)];default:return""}},_getSeriesTemplateSize:function(t,i,s,a,o){var r,l,n,d,h,c=o.model.AreaType,u=o._id,p=e.inArray(s,o.model._visibleSeries);(r=0!=e("#template_group_"+u).length?e("#template_group_"+u):e("<div></div>").attr("id","template_group_"+u)).css("position","relative").css("z-index",1e3),l=e("#"+s.marker.dataLabel.template).clone(),e(l).attr("id",s.marker.dataLabel.template+"_"+p+"_"+i+"_"+u),(n=e(l)).css("position","absolute"),t.count=1,d={series:s,point:t},n.html(n.html().parseTemplate(d)),h="cartesianaxes"!=c&&s.enableAnimation&&"pyramid"!=s.type.toLowerCase()&&"funnel"!=s.type.toLowerCase()?"none":"block",n.css("display",h).appendTo(e(r)),e(r).appendTo("#"+u),t.size={height:n.height(),width:n.width()},a?((ej.util.isNullOrUndefined(s.LeftLabelMaxHeight)||s.LeftLabelMaxHeight<t.size.height)&&(s.LeftLabelMaxHeight=t.size.height),(ej.util.isNullOrUndefined(s.LeftLabelMaxWidth)||s.LeftLabelMaxWidth<t.size.width)&&(s.LeftLabelMaxWidth=t.size.width)):((ej.util.isNullOrUndefined(s.RightLabelMaxHeight)||s.RightLabelMaxHeight<t.size.height)&&(s.RightLabelMaxHeight=t.size.height),(ej.util.isNullOrUndefined(s.RightLabelMaxWidth)||s.RightLabelMaxWidth<t.size.width)&&(s.RightLabelMaxWidth=t.size.width))},getMinPointsDelta:function(t,i,s){var a=i,o=Number.MAX_VALUE;return e.each(a.model._visibleSeries,(function(i,r){var l,n,d;"visible"==r.visibility.toLowerCase()&&t.name==r._xAxisName&&(1!=(l=ej.DataManager(r.points,ej.Query().sortBy("xValue")).executeLocal()).length||a.currentSeries&&a.currentSeries._yAxisName.toLowerCase()!=r._yAxisName.toLowerCase()?e.each(l,(function(e,t){if(e>0&&t.xValue){var i=t.xValue-l[e-1].xValue;0!=i&&(o=Math.min(o,i))}})):(n=ej.util.isNullOrUndefined(s)?r.xAxis.visibleRange.min:s,0!=(d=l[0].xValue-n)&&(o=Math.min(o,d))))})),o==Number.MAX_VALUE&&(o=1),o},_getSeriesMaxLabel:function(t){var i,s,a,o,r,l={width:0,height:0},n=e(this.svgObject).width(),d=[];if(t.labels.length>0){for(r=0;r<t.labels.length;r++)a=this._measureText(t.visibleLabels[r],n,t.marker.dataLabel.font),l.width<a.width&&(l.width=a.width),l.height<a.height&&(l.height=a.height);t.LabelMaxHeight=l.height,t.LabelMaxWidth=l.width}else for(d.push(t.rightsidePoints),d.push(t.leftsidePoints),o=0;o<d.length;o++){for(r=0;r<d[o].length;r++)s=(i=d[o][r]).text?i.text:i.y,a=this._measureText(s,n,t.marker.dataLabel.font),l.width<a.width&&(l.width=a.width),l.height<a.height&&(l.height=a.height);0==o?(t.RightLabelMaxHeight=l.height,t.RightLabelMaxWidth=l.width):(t.LeftLabelMaxHeight=l.height,t.LeftLabelMaxWidth=l.width)}},_getHighestLabel:function(t,i,s){var a,o,r,l,n,d,h,c,u=0,p=[],m=0;if(ej.isNullOrUndefined(s))for(n=0==t.labels.length?t.visibleLabels:t.labels,d=0;d<n.length;d++){for(m=0,-1!=(h=0==t.labels.length?n[d].Text:n[d]).indexOf("<br>")?p=h.split("<br>"):p.push(h),c=0;c<p.length;c++)o=p[c],m<(r=this._measureText(o,e(i.svgObject).width(),t.font).width)&&(m=r,a=o);u<m&&(u=m,l=a)}else if(s&&("string"==typeof s&&-1!=s.indexOf("<br>")||"object"==typeof s))for(m=0,p="object"==typeof s?s:s.split("<br>"),c=0;c<p.length;c++)o="object"==typeof p[c]?p[c].Text:p[c],m<(r=this._measureText(o,i,t.font).width)&&(m=r,a=o),l=a;return l},_getMaxLabelWidth:function(t,i){var s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T;this.chartObj=i;var L,k,P,j,D={width:0,height:0,maxHeight:0,maxWidth:0},A="",O=1,I=i.svgRenderer.vmlNamespace,R=t.visibleRange,M=t.labelIntersectAction?t.labelIntersectAction.toLowerCase():"",E=t.labelPlacement,V=t.opposedPosition,N=t.orientation.toLowerCase(),B=i.model.requireInvertedAxes?"vertical"==N:"horizontal"==N,F=t.roundingPlaces,z=t.labelRotation,Y=(N=t.orientation,0),X=t.visibleLabels,W=X.length;if(t.visible){for(s=0;s<W;s++)t.visibleLabels[s].y=0,"string"==typeof t.visibleLabels[s].Text&&-1!=t.visibleLabels[s].Text.indexOf("<br>")&&"vertical"==t.orientation?(L=t.visibleLabels[s].Text.split("<br>"),k=this._getHighestLabel(t,e(this.svgObject).width(),L),le=this._measureText(k,e(this.svgObject).width(),t.font,t.labelRotation)):le=this._measureText(t.visibleLabels[s].Text,e(this.svgObject).width(),t.font,t.labelRotation),D.width<le.width&&(D.width=le.width,A=t.visibleLabels[s].Text),D.height<le.height&&(D.height=le.height);if((t.enableTrim||"trim"==M&&"vertical"!=t.orientation)&&(a=t.maximumLabelWidth,D.width=D.width>a?a:D.width),D.rows=1,D.maxWidth=D.width,D.maxHeight=D.height,!I&&(z||M)&&(o=0,"rotate45"==M?o=45:"rotate90"==M&&(o=90),z=null!=z||"vertical"==N?z:o,t.rotationValue=z,z)){if(A=ej.isNullOrUndefined(A)?"":A,r=this._measureText(A,e(this.svgObject).width(),t.font,t.labelRotation),(t.enableTrim||"trim"==M)&&r.width>a&&""!=A)for(me=A,h=1;h<me.toString().length;h++)if(me=me.toString().substring(0,h)+"... ",(be=this._measureText(me,e(i.svgObject).width(),t.font)).width>=a){A=me=me.toString().substring(0,h-1)+"... ";break}A=(M||t.enableTrim)&&z?"string"==typeof A&&-1!=A.indexOf("<br>")?this._getHighestLabel(t,i,null):A:this._getHighestLabel(t,i,null),u=this.rotatedLabel(t,i,z,A),t.labelIntersectAction&&"multiplerows"==t.labelIntersectAction.toLowerCase()&&(Y=D.height+u.height),D.height=t.rowsCount&&t.rowsCount>1&&90!=z&&t.enableTrim?t.rowsCount*D.height:u.height,D.width=u.width}if(t.labelIntersectAction)if(!t.rowsCount||"none"!=M&&"trim"!=M&&"hide"!=M&&0!=z||"wrap"==M&&!t.enableTrim||"wrapbyword"==M&&!t.enableTrim||"multiplerows"==M&&!t.enableTrim){if("wrap"==M||"wrapbyword"==M){if("betweenticks"==(E=E||ej.datavisualization.Chart.LabelPlacement.BetweenTicks).toLowerCase()?(n=1+(t.labels.length>1?-.5:0),n=F?parseFloat(n.toFixed(F)):parseFloat(n.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(R.interval)?1:ej.EjSvgRender.utils._decimalPlaces(R.interval))),l=Math.ceil((n-R.min)/(R.max-R.min)*t.length)):l=Math.ceil(t.length/X.length),"horizontal"==t.orientation){var H=0,U=0,$=t.labels.length>0&&"datetimecategory"!=t.valueType?t.labels:t.visibleLabels,G=t.width?t.width/$.length:(t.length-(i.svgWidth-t.length)-20)/$.length;for(t.labelsCollection=[],y=0;y<$.length;y++){var q=0,Z=[],Q=[],K="object"==typeof $[y]?$[y].Text:$[y];for("string"==typeof K&&-1!=K.indexOf("<br>")?Q=K.split("<br>"):Q.push(K),w=0;w<Q.length;w++)for(q=(d=ej.EjAxisRenderer.prototype.rowscalculation(Q[w],i.model.m_AreaBounds,t,G,null)).length+q,h=0;h<d.length;h++)Z.push(d[h]);z&&(A=this._getHighestLabel(t,i,Z),U<(c=this._measureText(A,e(i.svgObject).width(),t.font).width)&&(U=c,he=A)),H=Math.max(q,H),t.labelsCollection[y]=Z}u=this.rotatedLabel(t,i,z,he)}l=l<0?Math.ceil(t.length/X.length):l,pe=Math.round(D.width/l),D.rows=z?pe-O:pe+O,D.rows<0&&(D.rows=0),p=H&&!z?H:D.rows,H>pe&&!z&&(p-=1),D.height=z?u.height+p*u.height:D.height+p*D.height}else if("multiplerows"==M){var J=i._getLegendSpace(),ee=i.model.border.width,te=(i.model._axes[1],e(i.svgObject).width()-i.model.margin.left-i.model.margin.right),ie=""!=(j=(P=t.title).text)&&t.visible?this._measureText(j,te,P.font).height+2*i.model.elementSpacing:0,se=i.model.elementSpacing+ie+t.majorTickLines.size+t.axisLine.width,ae=i._getYValues(i.model._visibleSeries[0].points),oe=Math.max.apply(Math,ae),re=i.model._axes[1],le=this._measureText(oe,e(this.svgObject).width(),re.font,re.labelRotation),ne=J.rightLegendWidth+se+le.width+i.model.margin.right+i.model.margin.left+2*ee,de=e(i.svgObject).width()-ne;if(B){var he,ce=0,ue=[],pe=0;for(U=0,s=0;s<X.length;s++){g=[],"string"==typeof(m=X[s]).Text&&-1!=m.Text.indexOf("<br>")?g=m.Text.split("<br>"):g.push(m),_=g.length,f=!1,Y=Math.max(Y,ce),ce=m.y=D.height;var me,ge=(me=this._measureText(m.Text,e(this.svgObject).width(),t.font)).height,_e=Math.abs(Math.floor((m.Value-R.min)/R.delta*de));if(ue.length>0)for(b=ue,v=!0,x=0;x<b.length&&v;x++){q=0;var fe=b[x];for(y=0;fe&&y<fe.length;y++)for(w=0;w<_;w++){var be=ej.EjSvgRender.utils._measureText(1==_?g[w].Text:g[w],e(this.svgObject).width(),t.font).width,ve=(ge=ej.EjSvgRender.utils._measureText(g[w],e(this.svgObject).width(),t.font).height,y==fe.length?fe[y-1]:fe[y]),xe=Math.abs(Math.floor((ve.Value-R.min)/R.delta*de)),ye=ej.EjSvgRender.utils._measureText(ve.Text,e(this.svgObject).width(),t.font).width;if(be/=2,xe+(t.isInversed?-ye/2:ye/2)>=_e-be)ce=m.y+ge,m.y+=ge,q++,x+1==b.length&&(v=!1);else if(y+1==fe.length){v=w!=_-1;break}}}if(m.y=ce,void 0==ue[pe=ce/ge-1]&&(ue[pe]=[]),1==_)ue[pe].push(m);else for(w=0;w<_;w++)void 0==ue[pe]&&(ue[pe]=[]),ue[pe].push({Text:g[w],Value:m.Value}),w!=_-1&&(pe+=1,ce=m.y+ge)}Y=ue.length*ge,D.height=D.height>Y?D.height:Y,ge>0&&(D.rows=V?Math.round((Y+ge)/ge):Math.round(Y/ge)),D.rows=z?D.rows-1:D.rows,D.rows<1&&(D.rows=1)}if(!B){for(S=0,s=0;s<t.visibleLabels.length;s++){for(m=t.visibleLabels[s],be=(me=this._measureText(m.Text,e(this.svgObject).width(),t.font)).width,ge=me.height,_e=Math.abs(Math.floor((m.Value-t.visibleRange.min)/t.visibleRange.delta*t.length)),C=0;C<s;C++)fe=t.visibleLabels[C],Math.abs(Math.floor((fe.Value-t.visibleRange.min)/t.visibleRange.delta*t.length))+this._measureText(fe.Text,e(this.svgObject).width(),t.font).height/2>_e-ge/2&&t.visibleLabels[C].y==m.y&&(S=m.y+be,m.y=S,f=!0);T=S}D.width=D.width+T+(f?5:0)}}}else 0==z&&(D.rows=t.rowsCount,D.height=t.rowsCount*D.height)}return D},rotatedLabel:function(e,t,i,s,a){var o={"font-size":e.font.size,transform:"rotate("+i+",0,0)","font-family":e.font.fontFamily,"font-style":e.font.fontStyle,rotateAngle:"rotate("+i+"deg)","text-anchor":"middle"},r=(t=a?this.chartObj:t||this.chartObj).svgRenderer.createText(o,s);return{height:Math.ceil(this._measureBounds(r,t).height),width:Math.ceil(this._measureBounds(r,t).width)}},_getTransform:function(e,t,i){var s,a,o,r;return i?(s=t.x,a=e.y,o=t.width,r=e.height):(s=e.x,a=t.y,o=e.width,r=t.height),{x:s,y:a,width:o,height:r}},_calculateroundedCorner:function(e,t,i,s,a,o){var r,l,n,d,h,c=t.x,u=t.y,p=5,m=this.chartObj.model.enableCanvasRendering&&!o?p/4:0,g=t.width,_=t.height;return"object"!=typeof e||ej.util.isNullOrUndefined(e)?r=l=n=d=e:(r=e.topLeft,l=e.bottomLeft,n=e.topRight,d=e.bottomRight),r=ej.util.isNullOrUndefined(t.rx)?r:t.rx,l=ej.util.isNullOrUndefined(t.rx)?l:t.rx,h="M "+c+" "+(r+u)+" Q "+c+" "+u+" "+(c+r)+" "+u+" ",i&&"top"==s&&(h+="L "+(c+g/2-p/2+m)+" "+u+" L "+(c+g/2+m-a)+" "+(u-p)+" L "+(c+g/2+p/2+m)+" "+u+" "),h+="L "+(c+g-(n=ej.util.isNullOrUndefined(t.ry)?n:t.ry))+" "+u+" Q "+(c+g)+" "+u+" "+(c+g)+" "+(u+n)+" ",i&&"right"==s&&(h+="L "+(c+g)+" "+(u+_/2-p/2+m)+" L "+(c+g+p)+" "+(u+_/2+m-a)+" L "+(c+g)+" "+(u+_/2+p/2+m)+" "),h+="L "+(c+g)+" "+(u+_-(d=ej.util.isNullOrUndefined(t.ry)?d:t.ry))+" Q "+(c+g)+" "+(u+_)+" "+(c+g-d)+" "+(u+_)+" ",i&&"bottom"==s&&(h+="L "+(c+g/2-p/2+m)+" "+(u+_)+" L "+(c+g/2+m-a)+" "+(u+_+p)+" L "+(c+g/2+p/2+m)+" "+(u+_)+" "),h+="L "+(c+l)+" "+(u+_)+" Q "+c+" "+(u+_)+" "+c+" "+(u+_-l)+" ",i&&"left"==s&&(h+="L "+c+" "+(u+_/2-p/2+m)+" L "+(c-p)+" "+(u+_/2+m-a)+" L "+c+" "+(u+_/2+p/2+m)+" "),h+"L "+c+" "+(r+u)+" z"},browserInfo:function(){var e={},t=[],i={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var s in i)if(i.hasOwnProperty(s)&&(t=navigator.userAgent.match(i[s]))){e.name=t[1].toLowerCase(),e.version=t[2],!navigator.userAgent.match(/Trident\/7\./)||(e.name="msie");break}return e.isMSPointerEnabled="msie"==e.name&&e.version>9&&window.navigator.msPointerEnabled,e.pointerEnabled=window.navigator.pointerEnabled,e},_measureText:function(t,i,s){var a,o,r,l,n,d=e(document).find("#measureTex");e("#measureTex").css("display","block"),0==d.length?(a=document.createElement("text"),e(a).attr({id:"measureTex"}),document.body.appendChild(a)):a=d[0];var h=null,c=null,u=null,p=null;if("string"==typeof t&&(t.indexOf("<")>-1||t.indexOf(">")>-1)){for(o=t.split(" "),r=0;r<o.length;r++)-1==o[r].indexOf("<br/>")&&(o[r]=o[r].replace(/[<>]/g,"&"));t=o.join(" ")}return/<\/?[a-z][\s\S]*>/.test(t)?e(a).html(t):a.textContent=t,void 0!=s&&void 0==s.size&&(h=(l=(l=s).split(" "))[0],c=l[1],u=l[2],p=l[3]),null!=s&&(a.style.fontSize=s.size>0?s.size+"px":s.size?s.size:c,a.style.fontStyle&&(a.style.fontStyle=s.fontStyle?s.fontStyle:h),a.style.fontFamily=s.fontFamily?s.fontFamily:u,-1==window.navigator.userAgent.indexOf("MSIE 8.0")&&(a.style.fontWeight=s.fontWeight?s.fontWeight:p)),a.style.backgroundColor="white",a.style.position="absolute",a.style.top=-100,a.style.left=0,a.style.visibility="hidden",a.style.whiteSpace="nowrap",i&&(a.style.maxwidth=i+"px"),n={width:a.offsetWidth,height:a.offsetHeight},e("#measureTex").css("display","none"),n},_trimText:function(e,t,i){var s,a,o;for(a=(s=e.toString()).length,o=1;o<a;o++)if(s=e.substring(0,o)+"...",ej.EjSvgRender.utils._measureText(s,null,i).width>=t)return s.substring(0,o-1)+"... ";return e},_measureBounds:function(t,i){i.model.enableCanvasRendering?e(document.body).append(t):(i.svgRenderer.append(t,i.svgObject),i.svgRenderer.append(i.svgObject,i.element));var s=t.getBoundingClientRect(),a={left:s.left,right:s.right,top:s.top,bottom:s.bottom,width:s.right-s.left,height:s.bottom-s.top};return e(t).remove(),a},_drawAxesBoundsClipPath:function(t,i,s){var a,o=e(t),r=this._getTransform(i.xAxis,i.yAxis,s.model.requireInvertedAxes),l="polaraxes"==s.model.AreaType?e(s.svgObject).width():r.width,n="polaraxes"==s.model.AreaType?e(s.svgObject).height():r.height,d=s.model.requireInvertedAxes?i.yAxis.plotOffset:i.xAxis.plotOffset,h=s.model.requireInvertedAxes?i.xAxis.plotOffset:i.yAxis.plotOffset;"polaraxes"==s.model.AreaType?(a={id:t?t.id+"_ClipRect":"",cx:s.model.centerX,cy:s.model.centerY,r:s.model.Radius,fill:"white","stroke-width":1,stroke:"transparent"},s.svgRenderer.drawCircularClipPath(a,t)):(a={id:t?t.id+"_ClipRect":"",x:0-d,y:0-h,width:l+2*d,height:n+2*h,fill:"white","stroke-width":1,stroke:"transparent"},s.svgRenderer.drawClipPath(a,t)),a.id.indexOf("_Rect")&&(a.id=a.id.replace("_Rect","")),o.attr("clip-path","url(#"+a.id+")")},_getStringBuilder:function(){var e=[],t=0;return{append:function(i){return e[t++]=i,this},remove:function(t,i){return e.splice(t,i||1),this},insert:function(t,i){return e.splice(t,0,i),this},toString:function(t){return e.join(t||"")}}},_addRegion:function(t,i,s,a,o){var r,l=s.type,n=e.inArray(s,t.model._visibleSeries);n>=0&&(r={SeriesIndex:n,Region:{PointIndex:o,Bounds:i},type:l},t.model.chartRegions.push(r))},AddRegion:function(e,t,i){if(i){var s={isStripLine:i,Region:{Bounds:t}};e.model.chartRegions.push(s)}},_getSvgXY:function(e,t,i,s){var a,o;return s.model.requireInvertedAxes?(a=e+i.yAxis.x,o=t+i.xAxis.y):(a=e+i.xAxis.x,o=t+i.yAxis.y),{X:a,Y:o}},_getPoint:function(e,t){var i,s,a,o=e.xValue,r="boxandwhisker"==t.type?e.YValues:e.YValues[0],l=t._isTransposed?t.xAxis.height:t.xAxis.width,n=t._isTransposed?t.yAxis.width:t.yAxis.height;return e.location={},t._hiloTypes&&(i=e.YValues[1],i="logarithmic"==t.yAxis._valueType?ej.EjSvgRender.utils._logBase(0==i?1:i,t.xAxis.logBase):i,i=this._getPointXY(i,t.yAxis.visibleRange,t.yAxis.isInversed),e.location.low=(t._isTransposed?i:1-i)*n),s="logarithmic"==t.xAxis._valueType?ej.EjSvgRender.utils._logBase(0==o?1:o,t.xAxis.logBase):o,a="logarithmic"==t.yAxis._valueType?ej.EjSvgRender.utils._logBase(0==r?1:r,t.xAxis.logBase):r,s=this._getPointXY(s,t.xAxis.visibleRange,t.xAxis.isInversed),a=this._getPointXY(a,t.yAxis.visibleRange,t.yAxis.isInversed),e.location.X=t._isTransposed?a*n:s*l,e.location.Y=t._isTransposed?(1-s)*l:(1-a)*n,e.location},_getPointXY:function(e,t,i){var s=0;return s=(e-t.min)/t.delta,s=isNaN(s)?0:s,i?1-s:s},_dateTimeLabelFormat:function(e,t){switch(e.toLowerCase()){case"years":return t._labelFormat="MMM, yyyy";case"months":case"weeks":return t._labelFormat="dd, MMM";case"days":default:return t._labelFormat="dd/MM/yyyy";case"hours":return t._labelFormat="dd, hh:mm";case"minutes":return t._labelFormat="hh:mm";case"seconds":return t._labelFormat="mm:ss";case"milliseconds":return t._labelFormat="ss:fff"}},_getFontString:function(e){return null==e&&(e={}),e.FontFamily||(e.FontFamily="Arial"),e.FontStyle||(e.FontStyle="Normal"),e.Size||(e.Size="12px"),e.FontStyle+" "+e.Size+" "+e.FontFamily},_valueToVector:function(e,t){return this._coefficientToVector(this._valueToPolarCoefficient(e,t))},TransformToVisible:function(e,t,i,s){t="logarithmic"==e.xAxis._valueType&&t>0?Math.log(t,e.xAxis.logBase):t,i="logarithmic"==e.xAxis._valueType&&i>0?Math.log(i,e.yAxis.logBase):i;var a=s.model.Radius*this._valueToCoefficient(e.yAxis,i),o=this._valueToVector(e.xAxis,t);return{X:s.model.centerX+a*o.X,Y:s.model.centerY+a*o.Y}},Transform3DToVisible:function(e,t,i,s){var a,o;if(null!=e.xAxis&&null!=e.yAxis){if(t=t="logarithmic"==e.xAxis._valueType.toLowerCase()&&t>0?math.log(t,a):t,s.model.requireInvertedAxes){var r=s.model.m_AreaBounds.X,l=s.model.m_AreaBounds.Y;return{X:r+e.yAxis.width*ej.EjSvgRender.utils._valueToCoefficient(e.yAxis,i,s),Y:l+e.xAxis.height*(1-ej.EjSvgRender.utils._valueToCoefficient(e.xAxis,t,s))}}return r=e.xAxis.x,l=e.yAxis.y,{X:t=r+Math.round(e.xAxis.width*ej.EjSvgRender.utils._valueToCoefficient(e.xAxis,t,s)),Y:i=l+Math.round(e.yAxis.height*(1-ej.EjSvgRender.utils._valueToCoefficient(e.yAxis,i,s)))}}return new o(0,0)},_valueToPolarCoefficient:function(e,t){var i,s,a,o=e.visibleRange.min;return"category"!=e._valueType?(i=e.visibleRange.max-e.visibleRange.interval-e.visibleRange.min,s=e.visibleLabels.length-1):(i=e.visibleRange.delta,s=e.visibleLabels.length),a=(t-o)/i,a*=1-1/s,a=isNaN(a)?0:a,e.isInversed?a:1-a},_coefficientToVector:function(e){var t=Math.PI*(1.5-2*e);return{X:Math.cos(t),Y:Math.sin(t)}},_valueToCoefficient:function(e,t,i){var s;return s=((s=i&&"polaraxes"==i.model.AreaType?t:e._valueType&&"logarithmic"==e._valueType.toLowerCase()?ej.EjSvgRender.utils._logBase(0==t?1:t,e.logBase):t)-e.visibleRange.min)/e.visibleRange.delta,e.isInversed?1-s:s},_getBoundingClientRect:function(t,i,s,a){var o,r,l=t.getBoundingClientRect(),n=e("#"+i.svgObject.id)[0].getBoundingClientRect();return a?(o=this._getTransform(s.xAxis,s.yAxis,!0).x,r=this._getTransform(s.xAxis,s.yAxis,!0).y):(o=this._getTransform(s.xAxis,s.yAxis,!1).x,r=this._getTransform(s.xAxis,s.yAxis,!1).y),{x:l.left-(o+n.left),y:l.top-(r+n.top),width:l.right-l.left,height:l.bottom-l.top}},_minMax:function(e,t,i){return e>i?i:e<t?t:e},_inside:function(e,t){return""!==e&&e<=t.max&&e>=t.min},_logBase:function(e,t){return Math.log(e)/Math.log(t)},_correctRect:function(e,t,i,s){return{X:Math.min(e,i),Y:Math.min(t,s),Width:Math.abs(i-e),Height:Math.abs(s-t)}},_getValuebyPoint:function(e,t,i,s){var a=s?i.xAxis.height:i.xAxis.width,o=s?i.yAxis.width:i.yAxis.height,r=i.xAxis.isInversed?1-e/a:e/a,l=i.yAxis.isInversed?1-t/o:t/o;return r=r*i.xAxis.visibleRange.delta+i.xAxis.visibleRange.min,l=l*i.yAxis.visibleRange.delta+i.yAxis.visibleRange.min,{PointX:r="logarithmic"==i.xAxis._valueType?Math.pow(i.xAxis.logBase,r):r,PointY:l="logarithmic"==i.yAxis._valueType?Math.pow(i.yAxis.logBase,l):l}}},ej.EjSvgRender.chartTransform3D={ToRadial:Math.PI/180,transform3D:function(e){return this.vector||(this.vector=new((new ej.Ej3DRender).vector3D),this.matrixobj=new((new ej.Ej3DRender).matrix3D),this.bsptreeobj=new((new ej.Ej3DRender).BSPTreeBuilder),this.polygon=new((new ej.Ej3DRender).polygon3D)),r({mViewport:e,Rotation:0,Tilt:0,Depth:0,PerspectiveAngle:0,needUpdate:!0,centeredMatrix:this.matrixobj.getIdentity(),Perspective:this.matrixobj.getIdentity(),resultMatrix:this.matrixobj.getIdentity(),viewMatrix:this.matrixobj.getIdentity()},"Depth",0)},transform:function(e){this.setCenter(this.vector.vector3D(e.mViewport.Width/2,e.mViewport.Height/2,e.Depth/2),e),this.setViewMatrix(this.matrixobj.transform(0,0,e.Depth),e),this.setViewMatrix(this.matrixobj.getMatrixMultiplication(e.viewMatrix,this.matrixobj.turn(-this.ToRadial*e.Rotation)),e),this.setViewMatrix(this.matrixobj.getMatrixMultiplication(e.viewMatrix,this.matrixobj.tilt(-this.ToRadial*e.Tilt)),e),this.updatePerspective(e.PerspectiveAngle,e),e.needUpdate=!0},updatePerspective:function(e,t){var i=(t.mViewport.Width+t.mViewport.Height)*Math.tan(this.degreeToRadianConverter((180-Math.abs(e%181))/2))+t.Depth/1;t.Perspective[0][0]=i,t.Perspective[1][1]=i,t.Perspective[2][3]=1,t.Perspective[3][3]=i},degreeToRadianConverter:function(e){return e*Math.PI/180},toScreen:function(e,t,i,s){return i=i||this.result,s?(this.matrixobj=s,e=s.getMatrixVectorMutiple(i(t,s),e)):(t.chartObj=this.matrixobj,e=this.matrixobj.getMatrixVectorMutiple(i(t),e)),{x:e.x,y:e.y}},setViewMatrix:function(e,t){t.viewMatrix!=e&&(t.viewMatrix=e,t.needUpdate=!0)},setCenteredMatrix:function(e,t){t.viewMatrix!=e&&(t.centeredMatrix=e,t.needUpdate=!0)},result:function(e,t){var i,s=e.chartObj?e.chartObj:this.matrixobj;return s||(s=t),e.needUpdate?(i=this.matrixobj?this.matrixobj:t,e.resultMatrix=s.getMatrixMultiplication(i.getInvertal(e.centeredMatrix),e.Perspective),e.resultMatrix=s.getMatrixMultiplication(e.resultMatrix,e.viewMatrix),e.resultMatrix=s.getMatrixMultiplication(e.resultMatrix,e.centeredMatrix),e.needUpdate=!1,e.resultMatrix):e.resultMatrix},setCenter:function(e,t){t.centeredMatrix=this.matrixobj.transform(-e.x,-e.y,-e.z),t.needUpdate=!0},toPlane:function(e,t,i){var s=this.vector.vector3D(e.x,e.y,0),a=this.vector.vector3DPlus(s,this.vector.vector3D(0,0,1));return s=this.vector.vector3DMultiply(i.centeredMatrix,s),a=this.vector.vector3DMultiply(i.centeredMatrix,a),s=this.vector.vector3DMultiply(this.matrixobj.getInvertal(i.Perspective),s),a=this.vector.vector3DMultiply(this.matrixobj.getInvertal(i.Perspective),a),s=this.polygon.getPoint(s,this.vector.vector3DMinus(a-s)),s=this.vector.vector3DMultiply(this.matrixobj.getInvertal(i.viewMatrix),s),this.vector.vector3DMultiply(this.matrixobj.getInvertal(i.centeredMatrix),s)}},ej.EjSvgRender.chartSymbol={_drawSeriesType:function(e,t,i){var s=i.model.series[t.SeriesIndex].type.toLowerCase(),a=i.legendItem.drawType;switch(s=ej.util.isNullOrUndefined(a)?s:a){case ej.datavisualization.Chart.Type.Line:return ej.util.isNullOrUndefined(a)?this._drawLine(e,t,i,i.gLegendItemEle):this._drawStraightLine(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.StepLine:return this._drawStepLine(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.StackingArea:case ej.datavisualization.Chart.Type.StackingArea100:case ej.datavisualization.Chart.Type.Area:case ej.datavisualization.Chart.Type.RangeArea:return this._drawArea(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.StepArea:return this._drawStepArea(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Bar:case ej.datavisualization.Chart.Type.StackingBar100:case ej.datavisualization.Chart.Type.StackingBar:return this._drawBar(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Pie:return this._drawPie(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Doughnut:return this._drawDoughnut(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Hilo:return this._drawHilo(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.HiloOpenClose:return this._drawHiloOpenClose(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Candle:return this._drawCandle(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Pyramid:return this._drawPyramid(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Funnel:return this._drawFunnel(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Spline:return this._drawSpline(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.SplineArea:case ej.datavisualization.Chart.Type.StackingSplineArea:case ej.datavisualization.Chart.Type.StackingSplineArea100:return this._drawSplineArea(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.RangeColumn:return this._drawRangeColumn(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Bubble:case ej.datavisualization.Chart.Type.Scatter:return this._drawCircle(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Column:case ej.datavisualization.Chart.Type.StackingColumn:case ej.datavisualization.Chart.Type.StackingColumn100:case ej.datavisualization.Chart.Type.Waterfall:return this._drawColumn(e,t,i,i.gLegendItemEle);default:return this._drawRectangle(e,t,i,i.gLegendItemEle)}},_drawCircle:function(e,t,i,s){var a=i.svgRenderer,o=(i.svgObject,t.ShapeSize),r=Math.sqrt(o.height*o.height+o.width*o.width)/2,l=t.Style,n={id:t.ID,cx:e.startX,cy:e.startY,r:r,fill:l.Color,"stroke-width":l.BorderWidth,stroke:l.BorderColor,opacity:l.Opacity,visibility:l.Visibility,lgndCtx:t.context};return a.drawCircle(n,s),e.startX-r},_drawLeftArrow:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+(e.startX-l.width/2+l.width)+" "+(e.startY+l.height/4)+" L "+(e.startX-l.width/2+l.width)+" "+(e.startY+-l.height/4)+" L "+(e.startX-l.width/2+l.width/2)+" "+(e.startY+-l.height/4)+" L "+(e.startX-l.width/2+l.width/2)+" "+(e.startY+-l.height/2)+" L "+(e.startX-l.width/2)+" "+e.startY+" L "+(e.startX-l.width/2+l.width/2)+" "+(e.startY+l.height/2)+" L "+(e.startX-l.width/2+l.width/2)+" "+(e.startY+l.height/4)+" L "+(e.startX-l.width/2+l.width)+" "+(e.startY+l.height/4)+" z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawRightArrow:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+(e.startX-l.width/2)+" "+(e.startY+l.height/4)+" L "+(e.startX-l.width/2)+" "+(e.startY+-l.height/4)+" L "+(e.startX-l.width/2+l.width/2)+" "+(e.startY+-l.height/4)+" L "+(e.startX-l.width/2+l.width/2)+" "+(e.startY+-l.height/2)+" L "+(e.startX-l.width/2+l.width)+" "+e.startY+" L "+(e.startX-l.width/2+l.width/2)+" "+(e.startY+l.height/2)+" L "+(e.startX-l.width/2+l.width/2)+" "+(e.startY+l.height/4)+" L "+(e.startX-l.width/2)+" "+(e.startY+l.height/4)+" z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawUpArrow:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+(e.startX-l.width/2+l.width/4)+" "+(e.startY-l.height/2+l.height)+" L "+(e.startX-l.width/2+l.width/4)+" "+(e.startY-l.height/2+l.height/2)+" L "+(e.startX-l.width/2)+" "+(e.startY-l.height/2+l.height/2)+" L "+e.startX+" "+(e.startY-l.height/2)+" L "+(e.startX+l.width/2)+" "+(e.startY-l.height/2+l.height/2)+" L "+(e.startX+l.width/2-l.width/4)+" "+(e.startY-l.height/2+l.height/2)+" L "+(e.startX+l.width/2-l.width/4)+" "+(e.startY-l.height/2+l.height)+" L "+(e.startX-l.width/2+l.width/4)+" "+(e.startY-l.height/2+l.height)+" z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawDownArrow:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+(e.startX-l.width/2+l.width/4)+" "+(e.startY-l.height/2)+" L "+(e.startX+l.width/2-l.width/4)+" "+(e.startY-l.height/2)+" L "+(e.startX+l.width/2-l.width/4)+" "+(e.startY-l.height/2+l.height/2)+" L "+(e.startX+l.width/2)+" "+(e.startY-l.height/2+l.height/2)+" L "+e.startX+" "+(e.startY-l.height/2+l.height)+" L "+(e.startX-l.width/2)+" "+(e.startY-l.height/2+l.height/2)+" L "+(e.startX-l.width/2+l.width/4)+" "+(e.startY-l.height/2+l.height/2)+" L "+(e.startX-l.width/2+l.width/4)+" "+(e.startY-l.height/2)+" z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawCross:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+(e.startX+-l.width/2)+" "+e.startY+" L "+(e.startX+l.width/2)+" "+e.startY+" M "+e.startX+" "+(e.startY+l.height/2)+" L "+e.startX+" "+(e.startY+-l.height/2),o={id:t.ID,opacity:t.Style.Opacity,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawHorizLine:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+(e.startX+-l.width/2)+" "+e.startY+" L "+(e.startX+l.width/2)+" "+e.startY,o={id:t.ID,opacity:t.Style.Opacity,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawVertLine:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+e.startX+" "+(e.startY+l.height/2)+" L "+e.startX+" "+(e.startY+-l.height/2),o={id:t.ID,opacity:t.Style.Opacity,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawTriangle:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+(e.startX+-l.width/2)+" "+(e.startY+l.height/2)+" L "+e.startX+" "+(e.startY+-l.height/2)+" L "+(e.startX+l.width/2)+" "+(e.startY+l.height/2)+" L "+(e.startX+-l.width/2)+" "+(e.startY+l.height/2)+" z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawInvertedTriangle:function(e,t,i,s){var a=i.svgRenderer,o=(i.svgObject,t.ShapeSize),r="M "+(e.startX+o.width/2)+" "+(e.startY-o.height/2)+" L "+e.startX+" "+(e.startY+o.height/2)+" L "+(e.startX-o.width/2)+" "+(e.startY-o.height/2)+" L "+(e.startX+o.width/2)+" "+(e.startY-o.height/2)+" z",l=(e.startX,e.startY,{id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:r});a.drawPath(l,s)},_drawHexagon:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+(e.startX+-l.width/2)+" "+e.startY+" L "+(e.startX+-l.width/4)+" "+(e.startY+-l.height/2)+" L "+(e.startX+l.width/4)+" "+(e.startY+-l.height/2)+" L "+(e.startX+l.width/2)+" "+e.startY+" L "+(e.startX+l.width/4)+" "+(e.startY+l.height/2)+" L "+(e.startX+-l.width/4)+" "+(e.startY+l.height/2)+" L "+(e.startX+-l.width/2)+" "+e.startY+" z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawWedge:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+(e.startX-l.width)+" "+e.startY+" L "+(e.startX+l.width)+" "+(e.startY+-l.height/2)+" L "+(e.startX+l.width/4*3)+" "+e.startY+" L "+(e.startX+l.width)+" "+(e.startY+l.height/2)+" L "+(e.startX-l.width)+" "+e.startY+" z",o={"stroke-linecap":"miter","stroke-miterlimit":l.width/4,id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawPentagon:function(e,t,i,s){for(var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize),n=Math.sqrt(l.height*l.height+l.width*l.width)/2,d=ej.EjSvgRender.utils._getStringBuilder(),h=0;h<=5;h++){var c=72*h,u=Math.PI/180*c,p=n*Math.cos(u),m=n*Math.sin(u);0==h?d.append("M "+(e.startX+p)+" "+(e.startY+m)+" "):d.append("L "+(e.startX+p)+" "+(e.startY+m)+" ")}d.append("z"),a=d.toString(),o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawStar:function(e,t,i,s){var a,o,r=i.svgRenderer,l=t.ShapeSize;i.svgObject,a="M "+(e.startX+l.width/3)+" "+(e.startY+-l.height/2)+" L "+(e.startX+-l.width/2)+" "+(e.startY+l.height/6)+" L "+(e.startX+l.width/2)+" "+(e.startY+l.height/6)+" L "+(e.startX+-l.width/3)+" "+(e.startY+-l.height/2)+" L "+e.startX+" "+(e.startY+l.height/2)+" L "+(e.startX+l.width/3)+" "+(e.startY+-l.height/2)+" z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawRectangle:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+(e.startX+-l.width/2)+" "+(e.startY+-l.height/2)+" L "+(e.startX+l.width/2)+" "+(e.startY+-l.height/2)+" L "+(e.startX+l.width/2)+" "+(e.startY+l.height/2)+" L "+(e.startX+-l.width/2)+" "+(e.startY+l.height/2)+" L "+(e.startX+-l.width/2)+" "+(e.startY+-l.height/2)+" z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawTrapezoid:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+(e.startX+-l.width/2)+" "+e.startY+" L "+(e.startX+-l.width/2)+" "+(e.startY+-l.height/4)+" L "+(e.startX+-l.width/2+l.width)+" "+(e.startY+-l.height/2)+" L "+(e.startX+-l.width/2+l.width)+" "+(e.startY+l.height/2)+" L "+(e.startX+-l.width/2)+" "+(e.startY+l.height/4)+" L "+(e.startX+-l.width/2)+" "+e.startY+" z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawDiamond:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+(e.startX+-l.width/2)+" "+e.startY+" L "+e.startX+" "+(e.startY+-l.height/2)+" L "+(e.startX+l.width/2)+" "+e.startY+" L "+e.startX+" "+(e.startY+l.height/2)+" L "+(e.startX+-l.width/2)+" "+e.startY+" z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawEllipse:function(e,t,i,s){var a=i.svgRenderer,o=(i.svgObject,t.ShapeSize),r=e.startX,l=e.startY,n={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,cx:r,cy:l,rx:o.width,ry:o.height/2};a.drawEllipse(n,s)},_drawImage:function(e,t,i,s){var a=i.svgRenderer,o=i.svgObject,r=t.ShapeSize,l=e.startX+-r.width/2,n=e.startY+-r.width/2,d=r.width,h=r.height,c={id:o.id+"_image"+t.PointIndex,height:h,width:d,href:t.Imageurl,x:l,y:n,visibility:"visible",lgndCtx:t.context};a.drawImage(c,s)},_drawStraightLine:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize),n=t.ElementSpace;return a="M "+(e.startX+-l.width/2+-n/4)+" "+(e.startY+l.height/10)+" L "+(e.startX+l.width/2+n/4)+" "+(e.startY+l.height/10),o={id:t.ID,fill:t.Style.Color,"stroke-width":2*t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX+-l.width/2+-n/4},_drawLine:function(e,t,i,s){var a,o=i.svgRenderer,r=(i.svgObject,t.ShapeSize),l=t.ElementSpace;if(!0===i.model.enableCanvasRendering){a="M "+(e.startX+-r.width/2+-l/4)+" "+(e.startY+r.height/10)+" L "+(e.startX-Math.floor(r.width/3))+" "+(e.startY+r.height/10)+" M "+(e.startX+Math.floor(r.width/3))+" "+(e.startY+r.height/10)+" L "+(e.startX+r.width/2+l/4)+" "+(e.startY+r.height/10);var n={id:t.ID,fill:t.Style.Color,"stroke-width":2*t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},d="M "+(e.startX-Math.floor(r.width/3))+" "+(e.startY+r.height/10)+" a "+Math.floor(r.width/3)+" "+Math.floor(r.width/3)+" 0 1 0 "+2*Math.floor(r.width/3)+" 0 a"+Math.floor(r.width/3)+" "+Math.floor(r.width/3)+" 0 1 0 "+-2*Math.floor(r.width/3)+" 0",h={id:t.ID,fill:"transparent","stroke-width":2*t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:d,lgndCtx:!0};o.drawPath(n,s),o.drawPath(h,s)}else a="M "+(e.startX+-r.width/2+-l/4)+" "+(e.startY+r.height/10)+" L "+(e.startX-Math.floor(r.width/3))+" "+(e.startY+r.height/10)+" M "+(e.startX+Math.floor(r.width/3))+" "+(e.startY+r.height/10)+" L "+(e.startX+r.width/2+l/4)+" "+(e.startY+r.height/10)+" M "+(e.startX-Math.floor(r.width/3))+" "+(e.startY+r.height/10)+" a "+Math.floor(r.width/3)+" "+Math.floor(r.width/3)+" 0 1 0 "+2*Math.floor(r.width/3)+" 0 a"+Math.floor(r.width/3)+" "+Math.floor(r.width/3)+" 0 1 0 "+-2*Math.floor(r.width/3)+" 0",n={id:t.ID,fill:"transparent","stroke-width":2*t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},o.drawPath(n,s);return e.startX+-r.width/2+-l/4},_drawColumn:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize),n=t.ElementSpace;return a="M "+(e.startX-l.width/5*3)+" "+(e.startY-l.height/5)+" L "+(e.startX+-l.width/10*3)+" "+(e.startY-l.height/5)+" L "+(e.startX+-l.width/10*3)+" "+(e.startY+l.height/2)+" L "+(e.startX-l.height/5*3)+" "+(e.startY+l.height/2)+" Z M "+(e.startX+-l.width/10-l.width/20)+" "+(e.startY-l.height/4-n/2)+" L "+(e.startX+l.width/10+l.width/20)+" "+(e.startY-l.height/4-n/2)+" L "+(e.startX+l.width/10+l.width/20)+" "+(e.startY+l.height/2)+" L "+(e.startX+-l.width/10-l.width/20)+" "+(e.startY+l.height/2)+" Z M "+(e.startX+l.width/10*3)+" "+e.startY+" L "+(e.startX+l.width/5*3)+" "+e.startY+" L "+(e.startX+l.width/5*3)+" "+(e.startY+l.height/2)+" L "+(e.startX+l.width/10*3)+" "+(e.startY+l.height/2)+" Z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX-l.width/5*3},_drawRangeColumn:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize),n=t.ElementSpace;return a="M "+(e.startX+-l.width/5)+" "+(e.startY+l.height/2+n/4)+" L "+(e.startX+-l.width/5)+" "+(e.startY-l.height/2-n/4)+" L "+(e.startX+l.width/2)+" "+(e.startY+-l.height/2+-n/4)+" L "+(e.startX+l.width/2)+" "+(e.startY+l.height/2+n/4)+" Z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX+-l.width/5},_drawBar:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize),n=t.ElementSpace;return a="M "+(e.startX+-l.width/2+-n/4)+" "+(e.startY-l.height/5*3)+" L "+(e.startX+l.width/10*3)+" "+(e.startY-l.height/5*3)+" L "+(e.startX+l.width/10*3)+" "+(e.startY-l.height/10*3)+" L "+(e.startX-l.width/2+-n/4)+" "+(e.startY-l.height/10*3)+" Z M "+(e.startX+-l.width/2+-n/4)+" "+(e.startY-l.height/5+n/20)+" L "+(e.startX+l.width/2+n/4)+" "+(e.startY-l.height/5+n/20)+" L "+(e.startX+l.width/2+n/4)+" "+(e.startY+l.height/10+n/20)+" L "+(e.startX-l.width/2+-n/4)+" "+(e.startY+l.height/10+n/20)+" Z M "+(e.startX-l.width/2+-n/4)+" "+(e.startY+l.height/5+n/10)+" L "+(e.startX+-l.width/4)+" "+(e.startY+l.height/5+n/10)+" L "+(e.startX+-l.width/4)+" "+(e.startY+l.height/2+n/10)+" L "+(e.startX-l.width/2+-n/4)+" "+(e.startY+l.height/2+n/10)+" Z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX+-l.width/2+-n/4},_drawStepLine:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize),n=t.ElementSpace;return a="M "+(e.startX+-l.width/2-n/4)+" "+(e.startY+l.height/2)+" L "+(e.startX+-l.width/2+l.width/10)+" "+(e.startY+l.height/2)+" L "+(e.startX+-l.width/2+l.width/10)+" "+e.startY+" L "+(e.startX+-l.width/10)+" "+e.startY+" L "+(e.startX+-l.width/10)+" "+(e.startY+l.height/2)+" L "+(e.startX+l.width/5)+" "+(e.startY+l.height/2)+" L "+(e.startX+l.width/5)+" "+(e.startY+-l.height/2)+" L "+(e.startX+l.width/2)+" "+(e.startY+-l.height/2)+"L "+(e.startX+l.width/2)+" "+(e.startY+l.height/2)+" L"+(e.startX+l.width/2+n/4)+" "+(e.startY+l.height/2),o={id:t.ID,fill:"transparent","stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX+-l.width/2-n/4},_drawSpline:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);return a="M "+(e.startX-l.width/2)+" "+(e.startY+l.height/5)+" Q "+e.startX+" "+(e.startY-l.height)+" "+e.startX+" "+(e.startY+l.height/5)+" M "+e.startX+" "+(e.startY+l.height/5)+" Q "+(e.startX+l.width/2)+" "+(e.startY+l.height/2)+" "+(e.startX+l.width/2)+" "+(e.startY-l.height/2),o={id:t.ID,fill:"transparent","stroke-width":2*t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX-l.width/2},_drawSplineArea:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);return a="M "+(e.startX-l.width/2)+" "+(e.startY+l.height/5)+" Q "+e.startX+" "+(e.startY-l.height)+" "+e.startX+" "+(e.startY+l.height/5)+" Z M "+e.startX+" "+(e.startY+l.height/5)+" Q "+(e.startX+l.width/2)+" "+(e.startY+l.height/2)+" "+(e.startX+l.width/2)+" "+(e.startY-l.height/2)+"  Z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX-l.width/2},_drawArea:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize),n=t.ElementSpace;return a="M "+(e.startX-l.width/2-n/4)+" "+(e.startY+l.height/2)+" L "+(e.startX+-l.width/4+-n/8)+" "+(e.startY-l.height/2)+" L "+e.startX+" "+(e.startY+l.height/4)+" L "+(e.startX+l.width/4+n/8)+" "+(e.startY+-l.height/2+l.height/4)+" L "+(e.startX+l.height/2+n/4)+" "+(e.startY+l.height/2)+" Z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX-l.width/2-n/4},_drawStepArea:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize),n=t.ElementSpace;return a="M "+(e.startX+-l.width/2+-n/4)+" "+(e.startY+l.height/2)+" L "+(e.startX+-l.width/2+-n/4)+" "+(e.startY+-l.height/2)+" L "+(e.startX-l.width/4)+" "+(e.startY-l.height/2)+" L "+(e.startX-l.width/4)+" "+(e.startY-l.height/4)+" L "+(e.startX+l.width/4)+" "+(e.startY-l.height/4)+" L "+(e.startX+l.width/4)+" "+e.startX+" L "+(e.startX+l.width/2+n/4)+" "+e.startY+" L "+(e.startX+l.width/2+n/4)+" "+(e.startY+l.height/2)+" Z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX+-l.width/2+-n/4},_drawPyramid:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize),n=t.ElementSpace;return a="M "+(e.startX+-l.width/2+-n/4)+" "+(e.startY+l.height/2+n/8)+" L "+e.startX+" "+(e.startY+-l.height/2+-n/8)+" L "+(e.startX+l.width/2+n/4)+" "+(e.startY+l.height/2+n/8)+" Z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX+-l.width/2+-n/4},_drawFunnel:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize),n=t.ElementSpace;return a="M "+(e.startX+-l.width/2+-n/5)+" "+(e.startY+-l.height/2+-n/4)+" L "+(e.startX+-l.width/5)+" "+(e.startY+l.height/4)+" L "+(e.startX+-l.width/5)+" "+(e.startY+l.height/2+n/4)+" L "+(e.startX+l.width/5)+" "+(e.startY+l.height/2+n/4)+" L "+(e.startX+l.width/5)+" "+(e.startY+l.height/4)+" L "+(e.startX+l.width/2+n/5)+" "+(e.startY+-l.height/2+-n/4)+" Z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX+-l.width/2+-n/5},_drawCandle:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize),n=t.ElementSpace;return a="M "+(e.startX+-l.width/2)+" "+(e.startY+l.height/4+n/8)+" L "+(e.startX+l.width/2)+" "+(e.startY+l.height/4+n/8)+" L "+(e.startX+l.width/2)+" "+(e.startY+-l.height/2+n/8)+" L "+(e.startX+-l.width/2)+" "+(e.startY+-l.height/2+n/8)+" Z M "+e.startX+" "+(e.startY+-l.height/2+n/8)+" L "+e.startX+" "+(e.startY+-l.height/2+-n/4)+" M "+e.startX+" "+(e.startY+l.height/4+n/8)+" L "+e.startX+" "+(e.startY+l.height/4+n/2),o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX+-l.width/2},_drawHilo:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize),n=t.ElementSpace;return a="M "+(e.startX+l.width/2)+" "+(e.startY+l.height/2+n/4)+" L "+(e.startX+l.width/2)+" "+(e.startY+-l.height/2+-n/4),o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX+l.width/2},_drawHiloOpenClose:function(e,i,s,a){var o,r,l=s.svgRenderer,n=(s.svgObject,i.ShapeSize),d=(t(18,12,4.0710678118654755,270),i.ElementSpace);return o="M "+e.startX+" "+(e.startY-n.height/10*3)+" L "+(e.startX-n.width/2-d/4)+" "+(e.startY-n.height/10*3)+" M "+e.startX+" "+(e.startY-n.height/2-d/4)+" L "+e.startX+" "+(e.startY+n.height/2+d/4)+" M "+e.startX+" "+(e.startY+n.height/10*3)+" L "+(e.startX+n.width/2+d/4)+" "+(e.startY+n.height/10*3),r={id:i.ID,fill:"transparent","stroke-width":i.Style.BorderWidth,stroke:i.Style.Color,opacity:i.Style.Opacity,visibility:i.Style.Visibility,d:o,lgndCtx:!0},l.drawPath(r,a),e.startX-n.width/2},_drawDoughnut:function(e,i,s,a){var o=s.svgRenderer,r=(s.svgObject,i.ShapeSize),l=i.ElementSpace,n=Math.sqrt(r.height*r.width)/2;n+=l/5;var d=t(e.startX,e.startY,n,270),h=t(e.startX+r.width/10,e.startY,n,270),c=(l=i.ElementSpace,"M "+e.startX+" "+e.startY+" L "+(e.startX+n)+" "+e.startY+" A "+n+" "+n+" 0 1 1 "+d[0]+" "+d[1]+" Z M "+(e.startX+r.width/10)+" "+(e.startY-r.height/10)+" L"+(e.startX+n)+" "+(e.startY-r.height/10)+" A "+n+" "+n+" 0 0 0 "+h[0]+" "+h[1]+" Z"),u={id:i.ID,fill:i.Style.Color,"stroke-width":i.Style.BorderWidth,stroke:i.Style.BorderColor,opacity:i.Style.Opacity,visibility:i.Style.Visibility,d:c,lgndCtx:!0},p={id:i.ID,cx:e.startX,cy:e.startY,r:n/2,lgndCtx:!0,fill:"white","stroke-width":i.Style.BorderWidth,stroke:i.Style.BorderColor,opacity:i.Style.Opacity,visibility:i.Style.Visibility};return o.drawPath(u,a),o.drawCircle(p,a),e.startX-n},_drawPie:function(e,i,s,a){var o=s.svgRenderer,r=(s.svgObject,i.ShapeSize),l=i.ElementSpace,n=Math.sqrt(r.height*r.width)/2;n+=l/5;var d=t(e.startX,e.startY,n,270),h=t(e.startX+r.width/10,e.startY,n,270),c=(l=i.ElementSpace,"M "+e.startX+" "+e.startY+" L "+(e.startX+n)+" "+e.startY+" A "+n+" "+n+" 0 1 1 "+d[0]+" "+d[1]+" Z M "+(e.startX+r.width/10)+" "+(e.startY-r.height/10)+" L"+(e.startX+n)+" "+(e.startY-r.height/10)+" A "+n+" "+n+" 0 0 0 "+h[0]+" "+h[1]+" Z"),u={id:i.ID,fill:i.Style.Color,"stroke-width":i.Style.BorderWidth,stroke:i.Style.BorderColor,opacity:i.Style.Opacity,visibility:i.Style.Visibility,d:c,lgndCtx:!0};return o.drawPath(u,a),e.startX-n}},ej.EjSvgRender.seriesPalette={defaultMetro:["#E94649","#F6B53F","#6FAAB0","#C4C24A","#FB954F","#005277","#8BC652","#69D2E7","#E27F2D","#6A4B82"],defaultHighContrast:["#F93A00","#44E2D6","#DDD10D","#0AA368","#0556CB","#AB40B2","#5F930A","#D12E41","#E0670E","#008FFF"],defaultOffice:["#005277","#8BC652","#6A4B82","#E94649","#6FAAB0","#F7B74F","#C4C24A","#EF863F","#69D2E7","#FFD13E"],defaultMaterial:["#663AB6","#EB3F79","#F8AB1D","#B82E3D","#049CB1","#F2424F","#C2C924","#3DA046","#074D67","#02A8F4"],defaultGradient:{borderColors:["#F34649","#F6D321","#6EB9B0","#CBC26A","#FBAF4F","#E2CDB1","#FFC0B7","#68E1E6","#E1A62D","#9C6EBF"],seriesColors:[[{color:"#F34649",colorStop:"0%"},{color:"#B74143",colorStop:"100%"}],[{color:"#F6D321",colorStop:"0%"},{color:"#F6AE26",colorStop:"100%"}],[{color:"#6EB9B0",colorStop:"0%"},{color:"#3F77BD",colorStop:"100%"}],[{color:"#CBC26A",colorStop:"0%"},{color:"#9AAD21",colorStop:"100%"}],[{color:"#FBAF4F",colorStop:"0%"},{color:"#F07542",colorStop:"100%"}],[{color:"#E2CDB1",colorStop:"0%"},{color:"#AAA089",colorStop:"100%"}],[{color:"#8BC652",colorStop:"0%"},{color:"#6F9E41",colorStop:"100%"}],[{color:"#68E1E6",colorStop:"0%"},{color:"#3D9CBE",colorStop:"100%"}],[{color:"#E1A62D",colorStop:"0%"},{color:"#B66824",colorStop:"100%"}],[{color:"#9C6EBF",colorStop:"0%"}],[{color:"#593F6D",colorStop:"100%"}]]},blueMetro:["#005378","#006691","#007EB5","#0D97D4","#00AEFF","#14B9FF","#54CCFF","#87DBFF","#ADE5FF","#C5EDFF"],blueGradient:{seriesColors:[[{color:"#005277",colorStop:"0%"},{color:"#00304F",colorStop:"100%"}],[{color:"#006590",colorStop:"0%"},{color:"#004068",colorStop:"100%"}],[{color:"#007DB4",colorStop:"0%"},{color:"#00558B",colorStop:"100%"}],[{color:"#0D97D4",colorStop:"0%"},{color:"#057FC7",colorStop:"100%"}],[{color:"#00ADFE",colorStop:"0%"},{color:"#008BE9",colorStop:"100%"}],[{color:"#14B8FE",colorStop:"0%"},{color:"#0798EB",colorStop:"100%"}],[{color:"#53CBFF",colorStop:"0%"},{color:"#35AFEB",colorStop:"100%"}],[{color:"#86DAFF",colorStop:"0%"},{color:"#64C0EC",colorStop:"100%"}],[{color:"#ACE5FF",colorStop:"0%"},{color:"#8DCEED",colorStop:"100%"}],[{color:"#C4ECFF",colorStop:"0%"}],[{color:"#A3D1E6",colorStop:"100%"}]],borderColors:["#005277","#006590","#007DB4","#0D97D4","#00ADFE","#14B8FE","#53CBFF","#86DAFF","#ACE5FF","#C4ECFF"]},greenMetro:["#496612","#597B15","#709A1B","#87B62A","#9AD926","#A6DC37","#BCE654","#C8E780","#D5EFA5","#E2F3BE"],greenGradient:{seriesColors:[[{color:"#5C7F16",colorStop:"0%"},{color:"#384C08",colorStop:"100%"}],[{color:"#6A9319",colorStop:"0%"},{color:"#486009",colorStop:"100%"}],[{color:"#739D1C",colorStop:"0%"},{color:"#57760B",colorStop:"100%"}],[{color:"#90B546",colorStop:"0%"},{color:"#6E9215",colorStop:"100%"}],[{color:"#9AD826",colorStop:"0%"},{color:"#75A010",colorStop:"100%"}],[{color:"#A5DB36",colorStop:"0%"},{color:"#8EB91D",colorStop:"100%"}],[{color:"#BBE554",colorStop:"0%"},{color:"#A4C849",colorStop:"100%"}],[{color:"#C8E780",colorStop:"0%"},{color:"#B4D072",colorStop:"100%"}],[{color:"#D4EEA5",colorStop:"0%"},{color:"#BFD593",colorStop:"100%"}],[{color:"#E1F2BD",colorStop:"0%"}],[{color:"#C8D7A8",colorStop:"100%"}]],borderColors:["#5C7F16","#6A9319","#739D1C","#90B546","#9AD826","#A5DB36","#BBE554","#C8E780","#D4EEA5","#E1F2BD"]},sandleMetro:["#6C450C","#82520D","#A36812","#C07F1F","#E69719","#E89A2B","#EEB564","#F3CB93","#F7DEB4","#F9E6CA"],sandleGradient:{seriesColors:[[{color:"#7F602F",colorStop:"0%"},{color:"#512D04",colorStop:"100%"}],[{color:"#986827",colorStop:"0%"},{color:"#673803",colorStop:"100%"}],[{color:"#A16C1F",colorStop:"0%"},{color:"#8A4B05",colorStop:"100%"}],[{color:"#BF812A",colorStop:"0%"},{color:"#AD630D",colorStop:"100%"}],[{color:"#E49519",colorStop:"0%"},{color:"#B86607",colorStop:"100%"}],[{color:"#E7992A",colorStop:"0%"},{color:"#D7780D",colorStop:"100%"}],[{color:"#EDB463",colorStop:"0%"},{color:"#D98F31",colorStop:"100%"}],[{color:"#F2CA92",colorStop:"0%"},{color:"#DAAC6F",colorStop:"100%"}],[{color:"#F6DDB3",colorStop:"0%"},{color:"#DABE8F",colorStop:"100%"}],[{color:"#F8E5C9",colorStop:"0%"}],[{color:"#DDBE92",colorStop:"100%"}]],borderColors:["#7F602F","#986827","#A16C1F","#BF812A","#E49519","#E7992A","#EDB463","#F2CA92","#F6DDB3","#F8E5C9"]}},ej.EjSvgRender.themes={flatlight:{highlightColor:"black",background:"transparent",legend:{font:{color:"#282828"},title:{font:{color:"#282828"}}},title:{font:{color:"#565656"},subTitle:{font:{color:"#565656"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",borderWidth:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#565656"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultMetro,colors:ej.EjSvgRender.seriesPalette.defaultMetro},flatdark:{highlightColor:"white",background:"#111111",legend:{font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}}},title:{font:{color:"#C9C9C9"},subTitle:{font:{color:"#C9C9C9"}}},primaryXAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryX:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},primaryYAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryY:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#C9C9C9"}}},errorBar:{fill:"#ffffff",cap:{fill:"#ffffff"}},connectorLine:{color:"#C9C9C9"}},crosshair:{line:{width:1,color:"White"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultMetro,colors:ej.EjSvgRender.seriesPalette.defaultMetro},gradientlight:{highlightColor:"black",background:"transparent",legend:{font:{color:"#282828"},title:{font:{color:"#282828"}}},title:{font:{color:"#565656"},subTitle:{font:{color:"#565656"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#565656"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.defaultGradient.seriesColors},gradientdark:{highlightColor:"white",background:"#111111",legend:{font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}}},title:{font:{color:"#C9C9C9"},subTitle:{font:{color:"#C9C9C9"}}},primaryXAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryX:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},primaryYAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryY:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#C9C9C9"}}},errorBar:{fill:"#ffffff",cap:{fill:"#ffffff"}},connectorLine:{color:"#C9C9C9"}},crosshair:{line:{width:1,color:"White"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.defaultGradient.seriesColors},highcontrast01:{highlightColor:"white",background:"#111111",legend:{font:{color:"#ffffff"},title:{font:{color:"#ffffff"}}},title:{font:{color:"#ffffff"},subTitle:{font:{color:"#ffffff"}}},primaryXAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#ffffff",axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryX:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},primaryYAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#ffffff",axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryY:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#ffffff"}}},errorBar:{fill:"#ffffff",cap:{fill:"#ffffff"}},connectorLine:{color:"#C9C9C9"}},crosshair:{line:{width:1,color:"White"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultHighContrast,colors:ej.EjSvgRender.seriesPalette.defaultHighContrast},material:{highlightColor:"black",background:"transparent",legend:{font:{color:"#333333"},title:{font:{color:"#333333"}}},title:{font:{color:"#333333"},subTitle:{font:{color:"#333333"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",borderWidth:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#333333"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultMaterial,colors:ej.EjSvgRender.seriesPalette.defaultMaterial},office365:{highlightColor:"black",background:"transparent",legend:{font:{color:"#333333"},title:{font:{color:"#333333"}}},title:{font:{color:"#333333"},subTitle:{font:{color:"#333333"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",borderWidth:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#333333"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultOffice,colors:ej.EjSvgRender.seriesPalette.defaultOffice}},e.extend(ej.EjSvgRender.themes,{azure:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueMetro,colors:ej.EjSvgRender.seriesPalette.blueMetro},azuredark:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueMetro,colors:ej.EjSvgRender.seriesPalette.blueMetro},"gradient-azure":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.blueGradient.seriesColors},"gradient-azuredark":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.blueGradient.seriesColors},lime:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenMetro,colors:ej.EjSvgRender.seriesPalette.greenMetro},limedark:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenMetro,colors:ej.EjSvgRender.seriesPalette.greenMetro},"gradient-lime":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.greenGradient.seriesColors},"gradient-limedark":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.greenGradient.seriesColors},saffron:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleMetro,colors:ej.EjSvgRender.seriesPalette.sandleMetro},saffrondark:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleMetro,colors:ej.EjSvgRender.seriesPalette.sandleMetro},"gradient-saffron":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.sandleGradient.seriesColors},"gradient-saffrondark":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.sandleGradient.seriesColors}})}(jQuery)})?s.apply(t,a):s)||(e.exports=o)},658:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,_defineProperty=__webpack_require__(41).default,n;n=function(){var n;ej.Ej3DRender=function(){},function(e,t){ej.Ej3DRender.Polygons=[],ej.Ej3DRender.prototype={matrix3D:function(){},vector3D:function(){},BSPTreeBuilder:function(){},Graphics3D:function(){},polygon3D:function(){}},(i=new ej.Ej3DRender).vector3D.prototype=(t={x:"",y:"",z:"",Epsilon:1e-5,isValid:function(e){return!isNaN(e.x)&&!isNaN(e.y)&&!isNaN(e.z)},vector3D:function(e,t){this.x=e.x,this.y=e.y,this.z=t}},_defineProperty(t,"vector3D",(function(e,t,i){return this.x=e,this.y=t,this.z=i,{x:e,y:t,z:i}})),_defineProperty(t,"vector3DMinus",(function(e,t){return this.vector3D(e.x-t.x,e.y-t.y,e.z-t.z)})),_defineProperty(t,"vector3DPlus",(function(e,t){return this.vector3D(e.x+t.x,e.y+t.y,e.z+t.z)})),_defineProperty(t,"vector3DMultiply",(function(e,t){var i=e.y*t.z-t.y*e.z,s=e.z*t.x-t.z*e.x,a=e.x*t.y-t.x*e.y;return this.vector3D(i,s,a)})),_defineProperty(t,"vector3dAND",(function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z})),_defineProperty(t,"vector3DStarMultiply",(function(e,t){var i=e.x*t,s=e.y*t,a=e.z*t;return this.vector3D(i,s,a)})),_defineProperty(t,"getLength",(function(e){var t=this.vector3dAND(e,e);return Math.sqrt(t)})),_defineProperty(t,"normalize",(function(){this.getLength()})),_defineProperty(t,"getNormal",(function(e,t,i){var s=this.vector3DMinus(e,t),a=this.vector3DMinus(i,t),o=this.vector3DMultiply(s,a),r=this.getLength(o);return r<this.Epsilon&&(r=0),{x:o.x/r,y:o.y/r,z:o.z/r}})),t),i.matrix3D.prototype={MATRIX_SIZE:4,matrix3D:function(e){for(var t=[],i=0;i<e;i++)t[i]=this.createArray(e);return t},isAffine:function(e){return 0==e[0][3]&&0==e[1][3]&&0==e[2][3]&&1==e[3][3]},createArray:function(e){for(var t=[],i=0;i<e;++i)t[i]=0;return t},getIdentity:function(){for(var e=this.matrix3D(this.MATRIX_SIZE),t=0;t<this.MATRIX_SIZE;t++)e[t][t]=1;return e},getInvertal:function(e){for(var t,i=this.getIdentity(),s=0;s<this.MATRIX_SIZE;s++)for(t=0;t<this.MATRIX_SIZE;t++)i[s][t]=this.getMinor(e,s,t);return i=this.transposed(i),this.getMatrixMultiple(1/this.getDeterminant(e),i)},getMatrixMultiple:function(e,t){for(var i,s=0;s<t.length;s++)for(i=0;i<t[s].length;i++)t[s][i]=t[s][i]*e;return t},getMatrixVectorMutiple:function(e,t){var i,s=e[0][0]*t.x+e[1][0]*t.y+e[2][0]*t.z+e[3][0],a=e[0][1]*t.x+e[1][1]*t.y+e[2][1]*t.z+e[3][1],o=e[0][2]*t.x+e[1][2]*t.y+e[2][2]*t.z+e[3][2];return this.isAffine(e)||(s*=i=1/(e[0][3]*t.x+e[1][3]*t.y+e[2][3]*t.z+e[3][3]),a*=i,o*=i),{x:s,y:a,z:o}},getMatrixVectorAnd:function(e,t){var s=e[0][0]*t.x+e[1][0]*t.y+e[2][0]*t.z,a=e[0][1]*t.x+e[1][1]*t.y+e[2][1]*t.z,o=e[0][2]*t.x+e[1][2]*t.y+e[2][2]*t.z;return i.vector3D.prototype.vector3D(s,a,o)},getMatrixAdd:function(e,t){for(var i,s=this.matrix3D(4),a=0;a<4;a++)for(i=0;i<4;i++)s[a][i]=e[a][i]+t[a][i];return s},getMatrixMultiplication:function(e,t){for(var i,s,a,o=this.getIdentity(),r=0;r<this.MATRIX_SIZE;r++)for(i=0;i<this.MATRIX_SIZE;i++){for(s=0,a=0;a<this.MATRIX_SIZE;a++)s+=e[a][i]*t[r][a];o[r][i]=s}return o},getMatrixEqual:function(e,t){for(var i,s=!0,a=0;a<e.length;a++)for(i=0;i<e.length;i++)e[a][i]!=t[a][i]&&(s=!1);return s},getMatrixNotEqual:function(e,t){for(var i,s=!0,a=0;a<e.length;a++)for(i=0;i<e.length;i++)e[a][i]!=t[a][i]&&(s=!1);return!s},getMinor:function(e,t,i){return((t+i)%2==0?1:-1)*this.getDeterminant(this.getMMtr(e,t,i))},getMMtr:function(e,t,i){for(var s,a,o,r=e.length-1,l=this.createArray(r),n=0;n<r;n++)for(s=n>=t?n+1:n,l[n]=this.createArray(r),a=0;a<r;a++)o=a>=i?a+1:a,l[n][a]=e[s][o];return l},getDeterminant:function(e){var t,i,s,a=e.length,o=0;if(a<2)o=e[0][0];else for(t=1,i=0;i<a;i++)s=this.getMMtr(e,i,0),o+=t*e[i][0]*this.getDeterminant(s),t=t>0?-1:1;return o},transform:function(e,t,i){var s=this.getIdentity();return s[3][0]=e,s[3][1]=t,s[3][2]=i,s},turn:function(e){var t=this.getIdentity();return t[0][0]=Math.cos(e),t[2][0]=-Math.sin(e),t[0][2]=Math.sin(e),t[2][2]=Math.cos(e),t},tilt:function(e){var t=this.getIdentity();return t[1][1]=Math.cos(e),t[2][1]=Math.sin(e),t[1][2]=-Math.sin(e),t[2][2]=Math.cos(e),t},transposed:function(e){for(var t,i=this.getIdentity(),s=0;s<this.MATRIX_SIZE;s++)for(t=0;t<this.MATRIX_SIZE;t++)i[s][t]=e[t][s];return i},shear:function(e,t,i,s,a,o){var r=this.getIdentity();return r[0]=e,r[0]=t,r[1]=i,r[1]=s,r[2]=a,r[2]=o,r}},i.Graphics3D.prototype={addVisual:function(e){return null==e||r.test(e)?-1:(e.Graphics3D=this,o.add(e))},getVisualCount:function(){return ej.Ej3DRender.Polygons.length()},remove:function(e){ej.Ej3DRender.Polygons.Remove(e)},clearVisual:function(){ej.Ej3DRender.Polygons=null},getVisual:function(){return ej.Ej3DRender.Polygons},prepareView:function(e,t,i,s,a,r){0==arguments.length?o.build():(null==ej.Ej3DRender.transform?ej.Ej3DRender.transform=ej.EjSvgRender.chartTransform3D.transform3D(a):ej.Ej3DRender.transform.mViewport=a,ej.Ej3DRender.tree||(ej.Ej3DRender.tree=[]),ej.Ej3DRender.transform.Rotation=i,ej.Ej3DRender.transform.Tilt=s,ej.Ej3DRender.transform.Depth=t,ej.Ej3DRender.transform.PerspectiveAngle=e,ej.EjSvgRender.chartTransform3D.transform(ej.Ej3DRender.transform),ej.Ej3DRender.tree[r._id]=o.build())},view:function(e,t,i,a,o,r,l){var n;if(2==arguments.length){if(null==e)return;n=s.vector3D(0,0,32767),this.drawBspNode3D(ej.Ej3DRender.tree[t._id],n,e,t)}else{if(null==e)return;null==ej.Ej3DRender.transform?ej.Ej3DRender.transform=ej.EjSvgRender.chartTransform3D.transform3D(o):ej.Ej3DRender.transform.mViewport=o,ej.Ej3DRender.transform.Rotation=i,ej.Ej3DRender.transform.Tilt=a,ej.Ej3DRender.transform.Depth=l,ej.Ej3DRender.transform.PerspectiveAngle=r,ej.EjSvgRender.chartTransform3D.transform(ej.Ej3DRender.transform),n=s.vector3D(0,0,32767),this.drawBspNode3D(ej.Ej3DRender.tree[t._id],n,e,t)}},draw3DElement:function(e,t){e.Plane.element?"text"==e.Plane.element.tag||"dataLabel"==e.Plane.element.tag?r.drawText(e.Plane,t):"polyline"==e.Plane.element.tag?r.drawPolyLine(e.Plane,t):"template"==e.Plane.element.tag?r.drawTemplate(e.Plane,t):r.drawLine(e.Plane,t):r.draw(e.Plane,t)},drawBspNode3D:function(e,t,i,a){if(null!=e&&null!=ej.Ej3DRender.transform)for(;;){if(s.vector3dAND(r.getNormal(ej.EjSvgRender.chartTransform3D.result(ej.Ej3DRender.transform),e.Plane.VectorPoints),t)>e.Plane.D){if(null!=e.Front&&this.drawBspNode3D(e.Front,t,i,a),this.draw3DElement(e,a),null!=e.Back){e=e.Back;continue}}else if(null!=e.Back&&this.drawBspNode3D(e.Back,t,i,a),this.draw3DElement(e,a),null!=e.Front){e=e.Front;continue}break}}},i.BSPTreeBuilder.prototype={EPSILON:5e-4,Polygon:[],add:function(e){return ej.Ej3DRender.Polygons.push(e),ej.Ej3DRender.Polygons.length-1},remove:function(e){ej.Ej3DRender.Polygons.splice(e,1)},clear:function(){ej.Ej3DRender.Polygons=[]},count:function(){return ej.Ej3DRender.Polygons.length},getNext:function(e,t){return e>=t?e-t:e<0?e+t:e},getNodeCount:function(e){return null==e?0:1+this.getNodeCount(e.Back)+this.getNodeCount(e.Front)},vector3DIndexClassification:function(e,t,i){return{index:t,result:i,vector:e,isCuttingBackPoint:!1,cuttingBackPairIndex:null,alreadyCuttedBack:!1,isCuttingFrontPoint:!1,cuttingFrontPairIndex:null,alreadyCuttedFront:!1}},classifyPoint:function(e,t){var s="OnPlane",a=-t.D-i.vector3D.prototype.vector3dAND(e,t.normal);return a>this.EPSILON?s="OnBack":a<-this.EPSILON&&(s="OnFront"),s},classifyPolygon:function(e,t){var s,a,o,r=t.Points;if(null==r)return"Unknown";var l=0,n=0,d=0,h=e.normal,c=e.D;for(s=0,a=r.length;s<a&&((o=-c-i.vector3D.prototype.vector3dAND(r[s],h))>this.EPSILON?l++:o<-this.EPSILON?n++:d++,!(l>0&&n>0));s++);return d==r.length?"OnPlane":n+d==r.length?"ToRight":l+d==r.length?"ToLeft":"Unknown"},splitPolygon:function(t,i){var a,o,l,n,d,h,c,u=[],p=[];if(null!=t.Points){var m,g,_=[],f=[],b=[],v=t.Points.length;for(d=0;d<v;d++){var x=t.Points[d],y=t.Points[this.getNext(d+1,v)],w=this.classifyPoint(x,i),S=this.classifyPoint(y,i),C=this.vector3DIndexClassification(x,_.length,w);if(_.push(C),w!=S&&"OnPlane"!=w&&"OnPlane"!=S){var T=s.vector3DMinus(x,y),L=s.vector3DMinus(s.vector3DStarMultiply(i.normal,-i.D),y),k=s.vector3dAND(L,i.normal)/s.vector3dAND(i.normal,T),P=s.vector3DPlus(y,s.vector3DStarMultiply(T,k)),j=this.vector3DIndexClassification(P,_.length,"OnPlane");_.push(j),f.push(j),b.push(j)}else if("OnPlane"==w){if(a=t.Points[this.getNext(d-1,v)],(o=this.classifyPoint(a,i))==S)continue;if("OnPlane"!=o&&"OnPlane"!=S)f.push(C),b.push(C);else if("OnPlane"==o)switch(S){case"OnBack":f.push(C);break;case"OnFront":b.push(C)}else if("OnPlane"==S)switch(o){case"OnBack":f.push(C);break;case"OnFront":b.push(C)}}}if(0!=b.length||0!=f.length){for(d=0;d<f.length-1;d+=2)l=f[d],h=f[d+1],l.CuttingBackPoint=!0,h.CuttingBackPoint=!0,l.CuttingBackPairIndex=h.index,h.CuttingBackPairIndex=l.index;for(d=0;d<b.length-1;d+=2)l=b[d],h=b[d+1],l.CuttingFrontPoint=!0,h.CuttingFrontPoint=!0,l.CuttingFrontPairIndex=h.index,h.CuttingFrontPairIndex=l.index;for(d=0;d<f.length-1;d++)(l=f[d]).alreadyCuttedBack||(m=this.cutOutBackPolygon(_,l)).length>2&&(n=r.polygon3D(m,t),u.push(e.extend({},n)));for(d=0;d<b.length-1;d++)(h=b[d]).alreadyCuttedFront||(g=this.cutOutFrontPolygon(_,h)).length>2&&(c=r.polygon3D(g,t),p.push(e.extend({},c)))}}else u.push(t),p.push(t);return{BackP:u,FrontP:p}},cutOutFrontPolygon:function(e,t){for(var i,s,a,o,r,l=[],n=t;;)if(n.alreadyCuttedFront=!0,l.push(n.vector),i=e[n.CuttingFrontPairIndex],n.CuttingFrontPoint)if(i.alreadyCuttedFront)if(s=e[this.getNext(n.index-1,e.length)],a=e[this.getNext(n.index+1,e.length)],"OnFront"!=s.result||s.alreadyCuttedFront){if("OnFront"!=a.result||a.alreadyCuttedFront)return l;n=a}else n=s;else n=i;else if(o=e[this.getNext(n.index-1,e.length)],r=e[this.getNext(n.index+1,e.length)],"OnBack"==o.result||o.alreadyCuttedFront){if("OnBack"==r.result||r.alreadyCuttedFront)return l;n=r}else n=o;return l},cutOutBackPolygon:function(e,t){for(var i,s,a,o=[],r=t;;)if(r.alreadyCuttedBack=!0,o.push(r.vector),i=e[r.CuttingBackPairIndex],r.CuttingBackPoint)if(i.alreadyCuttedBack)if(s=e[this.getNext(r.index-1,e.length)],a=e[this.getNext(r.index+1,e.length)],"OnBack"!=s.result||s.alreadyCuttedBack){if("OnBack"!=a.result||a.alreadyCuttedBack)return o;r=a}else r=s;else r=i;else if(s=e[this.getNext(r.index-1,e.length)],a=e[this.getNext(r.index+1,e.length)],"OnFront"==s.result||s.alreadyCuttedBack){if("OnFront"==a.result||a.alreadyCuttedBack)return o;r=a}else r=s;return o},build:function(){var e,t,i,s,a,o,r,l,n,d,h;if(arguments[0]){if((e=arguments[0]).length<1)return null;for(t={Back:null,Front:null,Plane:null},i=e[0],t.Plane=i,s=[],a=[],o=1,r=e.length;o<r;o++)if((l=e[o])!=i)switch(this.classifyPolygon(i,l)){case"OnPlane":case"ToRight":a.push(l);break;case"ToLeft":s.push(l);break;case"Unknown":if(!l.element||"line"!=l.element.tag&&"text"!=l.element.tag){for(n=this.splitPolygon(l,i),d=0;d<n.BackP.length;d++)n.BackP[d].Name=n.BackP[d].Name+"back",s.push(n.BackP[d]);for(h=0;h<n.FrontP.length;h++)n.FrontP[h].Name=n.FrontP[h].Name+"front",a.push(n.FrontP[h])}else s.push(l)}return s.length>0&&(t.Back=this.build(s)),a.length>0&&(t.Front=this.build(a)),t}return this.build(ej.Ej3DRender.Polygons)}},i.polygon3D.prototype={epsilon:1e-5,normal:{x:0,y:0,z:0},vector:new((new ej.Ej3DRender).vector3D),polygon3D:function(e,t,i,s,a,o,r,l){var n,d;if(3!=arguments.length)return 2==arguments.length?(e=arguments[0],this.calcNormal(e[0],e[1],e[2]),this.vectorPoints=e,this.calcNormal(this.vectorPoints),(d=arguments[1]).Normal=this.normal,d.normal=this.normal,d.Points=e,d.VectorPoints=this.vectorPoints,d.IsSplitted=!0,d.d=this.d,d.D=this.d,d):(this.calcNormal(e[0],e[1],e[2]),this.vectorPoints=e,this.calcNormal(this.vectorPoints),n={Tag:"path",Parent:arguments[arguments.length-1]},d={Normal:this.normal,normal:this.normal,Points:e,VectorPoints:this.vectorPoints,Index:i,Tag:t,Name:l||null,StrokeThickness:a,Opacity:o,Fill:r,d:this.d,D:this.d},1!=arguments.length&&(d.Element=n),d);this.calcNormal(arguments[0],arguments[1],arguments[2])},createLine:function(e,t,i,a,o,r){var l=e.width,n=[];return n[0]=s.vector3D(t,i,r),n[1]=s.vector3D(t+l,o+l,r),n[2]=s.vector3D(a,o,r),this.line3D(e,n)},createPolyline:function(e,t){if(2==e.length){var i=e[1];e.push(s.vector3D(i.x,i.y,i.z))}return this.polyLine3D(t,e)},polyLine3D:function(e,t){var i=this.polygon3D(t);return i.element=e,i},line3D:function(e,t){var i=this.polygon3D(t);return i.element=e,i},text3D:function(e,t){var i=this.polygon3D(t);return i.element=e,i},createCylinder:function(e,t,i,a,o,r,n,d,h,c,u,p){var m,g,_,f,b=0,v=24,x=360/v,y=Math.PI/180,w=parseFloat((e.z+t.z)/2),S=[],C=[],T=[],L=[],k=t.y-e.y<t.z-e.z?parseFloat((t.y-e.y)/2):parseFloat((t.z-e.z)/2),P=t.x-e.x<t.z-e.z?parseFloat((t.x-e.x)/2):parseFloat((t.z-e.z)/2),j=parseFloat((e.x+t.x)/2),D=parseFloat((e.y+t.y)/2);switch(o=o.toLowerCase()){case"bar":case"stackingbar":case"stackingbar100":for(v++;v--;)g=parseFloat(D+k*Math.cos(b*x*y)),_=parseFloat(w+k*Math.sin(b*x*y)),C[b]={Y:g,Z:_},T.push(s.vector3D(e.x,C[b].Y,C[b].Z)),L.push(s.vector3D(t.x,C[b].Y,C[b].Z)),b>0&&(f=[s.vector3D(e.x,C[b-1].Y,C[b-1].Z),s.vector3D(t.x,C[b-1].Y,C[b-1].Z),s.vector3D(t.x,C[b].Y,C[b].Z),s.vector3D(e.x,C[b].Y,C[b].Z)],S[b+1]=this.polygon3D(f,i,a,n,0,h,n,"_"+(b+1).toString()+"_"+u,p),l.addVisual(S[b+1])),b++;break;case"column":case"stackingcolumn":case"stackingcolumn100":for(v++;v--;)m=parseFloat(j+P*Math.cos(b*x*y)),_=parseFloat(w+P*Math.sin(b*x*y)),C[b]={X:m,Z:_},T.push(s.vector3D(C[b].X,e.y,C[b].Z)),L.push(s.vector3D(C[b].X,t.y,C[b].Z)),b>0&&(f=[s.vector3D(C[b-1].X,e.y,C[b-1].Z),s.vector3D(C[b-1].X,t.y,C[b-1].Z),s.vector3D(C[b].X,t.y,C[b].Z),s.vector3D(C[b].X,e.y,C[b].Z)],S[b+1]=this.polygon3D(f,i,a,n,0,h,n,"_"+(b+1).toString()+"_"+u,p),l.addVisual(S[b+1])),b++}return S[0]=this.polygon3D(L,i,a,r,0,h,n,"_0_"+u,p),S[1]=this.polygon3D(T,i,a,r,d,h,n,"_1_"+u,p),l.addVisual(S[0]),l.addVisual(S[1]),S},createBox:function(e,t,i,a,o,r,n,d,h,c,u,p){var m=[],g=[s.vector3D(e.x,e.y,e.z),s.vector3D(t.x,e.y,e.z),s.vector3D(t.x,t.y,e.z),s.vector3D(e.x,t.y,e.z)],_=[s.vector3D(e.x,e.y,t.z),s.vector3D(t.x,e.y,t.z),s.vector3D(t.x,t.y,t.z),s.vector3D(e.x,t.y,t.z)],f=[s.vector3D(e.x,e.y,t.z),s.vector3D(t.x,e.y,t.z),s.vector3D(t.x,e.y,e.z),s.vector3D(e.x,e.y,e.z)],b=[s.vector3D(e.x,t.y,t.z),s.vector3D(t.x,t.y,t.z),s.vector3D(t.x,t.y,e.z),s.vector3D(e.x,t.y,e.z)],v=[s.vector3D(e.x,e.y,e.z),s.vector3D(e.x,e.y,t.z),s.vector3D(e.x,t.y,t.z),s.vector3D(e.x,t.y,e.z)],x=[s.vector3D(t.x,e.y,e.z),s.vector3D(t.x,e.y,t.z),s.vector3D(t.x,t.y,t.z),s.vector3D(t.x,t.y,e.z)];return arguments[10]?(m[0]=this.polygon3D(g,i,a,r,d,h,n,"_0_"+u,p),m[1]=this.polygon3D(_,i,a,r,d,h,n,"_1_"+u,p),m[2]=this.polygon3D(f,i,a,r,d,h,n,"_2_"+u,p),m[3]=this.polygon3D(b,i,a,r,d,h,n,"_3_"+u,p),m[4]=this.polygon3D(v,i,a,r,d,h,n,"_4_"+u,p),m[5]=this.polygon3D(x,i,a,r,d,h,n,"_5_"+u,p)):(p=arguments[arguments.length-1],m[0]=this.polygon3D(g,i,a,r,d,h,n,"_0_"+a,p),m[1]=this.polygon3D(_,i,a,r,d,h,n,"_1_"+a,p),m[2]=this.polygon3D(f,i,a,r,d,h,n,"_2_"+a,p),m[3]=this.polygon3D(b,i,a,r,d,h,n,"_3_"+a,p),m[4]=this.polygon3D(v,i,a,r,d,h,n,"_4_"+a,p),m[5]=this.polygon3D(x,i,a,r,d,h,n,"_5_"+a,p)),c?(l.addVisual(m[0]),l.addVisual(m[1]),l.addVisual(m[2]),l.addVisual(m[3]),l.addVisual(m[4]),l.addVisual(m[5])):(l.addVisual(m[5]),l.addVisual(m[4]),l.addVisual(m[0]),l.addVisual(m[1]),l.addVisual(m[2]),l.addVisual(m[3])),m},calcNormal:function(){var e,t;if(arguments.length>=3){var i=arguments[0],a=arguments[1],o=arguments[2],r=s.vector3DMinus(i,a),l=s.vector3DMinus(o,a),n=s.vector3DMultiply(r,l),d=s.getLength(n);d<this.epsilon&&(d=1),this.normal=s.vector3D(n.x/d,n.y/d,n.z/d),this.d=-(this.normal.x*i.x+this.normal.y*i.y+this.normal.z*i.z),arguments[3]&&(arguments[3].normal=this.normal,arguments.d=this.d)}else for(e=arguments[0],this.calcNormal(e[0],e[1],e[2],arguments[1]),t=3;t<e.length&&this.test();t++)this.calcNormal(e[t],e[0],e[t/2])},test:function(){return!s.isValid(this.normal)},transform:function(e,t){var i,o;if(null!=t.Points){for(i=0;i<t.Points.length;i++)t.VectorPoints[i]=t.Points[i]=a.getMatrixVectorMutiple(e,t.Points[i]);this.calcNormal(t.VectorPoints,t)}else o=e*t.normal*-t.d,t.normal=a.getMatrixVectorAnd(e,t.normal),s.normalize(),t.d=-(t.normal&o)},getPoint:function(e,t,i,a){var o;if("number"==typeof e)return o=-(i.x*e+i.y*t+a)/i.z,s.vector3D(e,t,o);var r=e,l=t,n=s.vector3DMinus(s.vector3DStarMultiply(i,-a),r),d=s.vector3dAND(n,i)/s.vector3dAND(i,l);return s.vector3DPlus(r,s.vector3DStarMultiply(l*d))},getNormal:function(e,t){var i,o;if(null!=t)for(i=s.getNormal(a.getMatrixVectorMutiple(e,t[0]),a.getMatrixVectorMutiple(e,t[1]),a.getMatrixVectorMutiple(e,t[2])),o=3;o<t.length&&!s.isValid(i)&&t[o/2];o++){var r=a.getMatrixVectorMutiple(e,t[o]),l=a.getMatrixVectorMutiple(e,t[0]),n=a.getMatrixVectorMutiple(e,t[o/2]);i=s.getNormal(r,l,n)}else i=a.getMatrixVectorAnd(e),s.normalize();return i},createTextElement:function(e,t,i,s){var a=[],o=e.x,r=e.y,l=t.Width,n=t.Height;return a[0]=this.vector.vector3D(o,r,e.z),a[1]=this.vector.vector3D(o+l,r+n+s,e.z),a[2]=this.vector.vector3D(o+l+i,r+n+s,e.z),this.text3D(t,a)},redraw:function(){},drawPolyLine:function(e,t){var i,s,a,o,r=ej.Ej3DRender.transform,l=ej.EjSvgRender.utils._getStringBuilder(),n=ej.EjSvgRender.chartTransform3D.toScreen(e.VectorPoints[0],r);for(l.append("M "+n.x+" "+n.y+" "),i=0;i<e.VectorPoints.length;i++)s=ej.EjSvgRender.chartTransform3D.toScreen(e.VectorPoints[i],r),l.append("L "+s.x+" "+s.y+" ");a=l.toString(),(o={id:e.element.id,"stroke-dasharray":e.element.dashArray,"stroke-width":e.element.width,stroke:e.element.stroke,d:a}).id=o.id.replace(/[^a-zA-Z0-9]/g,""),t.svgRenderer.drawPath(o,e.element.child)},drawLine:function(e,t){var i=ej.Ej3DRender.transform;if(null!=i){var s=ej.EjSvgRender.chartTransform3D.toScreen(e.VectorPoints[0],i),a=ej.EjSvgRender.chartTransform3D.toScreen(e.VectorPoints[2],i),o={id:e.element.id,x1:s.x,y1:s.y,x2:a.x,y2:a.y,"stroke-dasharray":e.element.dashArray,"stroke-width":e.element.width,stroke:e.element.stroke,opacity:e.element.opacity};o.id=o.id.replace(/[^a-zA-Z0-9]/g,""),t.svgRenderer.drawLine(o,e.element.child)}},drawTemplate:function(e,t){var i,s=e.element,a=ej.Ej3DRender.transform;null!=a&&(i=ej.EjSvgRender.chartTransform3D.toScreen(e.VectorPoints[0],a),ej.EjSeriesRender.prototype.drawLabelTemplate(s.Label.series,s.Label.series.points[s.Label.pointIndex],s.Label.pointIndex,{X:i.x,Y:i.y},t))},drawText:function(t,i){var s,a,o=t.element,r=ej.Ej3DRender.transform;if(null!=r){var l=ej.EjSvgRender.chartTransform3D.toScreen(t.VectorPoints[0],r),n=l.x,d=l.y;if("text"==o.tag)s={id:o.id,x:n,y:d,fill:o.font.color,"font-size":o.font.size,"font-family":o.font.fontFamily,"font-style":o.font.fontStyle,"font-weight":o.font.fontWeight,opacity:o.font.opacity,"text-anchor":o.TextAnchor,cursor:"default",transform:o.Angle?"rotate("+o.Angle+","+n+","+d+")":null},i.svgRenderer.drawText(s,t.element.Label.Text,t.element.child,t.element.font);else{var h,c=o.series,u=c.yAxis&&c.yAxis.labelFormat?c.yAxis.labelFormat:"",p=o.point.text?o.point.text:o.point.y+u.substring(u.indexOf("}")+1),m=ej.EjSvgRender.utils._measureText(p,null,c.marker.dataLabel.font),g=c.marker.dataLabel.margin,_=m.width+g.left+g.right,f=m.height+g.top+g.bottom,b={X:l.x,Y:l.y};a=c.marker.dataLabel.shape||c.marker.dataLabel.shape?c.marker.dataLabel.shape:"None",e.each(i.model.symbolShape,(function(e){a.toLowerCase()==e.toLowerCase()&&(h=e)}));var v=b.X-g.left/2+g.right/2,x=b.Y-g.top/2-f/g.top+g.bottom/2,y=e.inArray(c,i.model.series);ej.EjSeriesRender.prototype.dataLabelSymbol(y,c,o.pointIndex,v,x,_,f,h,i)}}},draw:function(t,i){var a,o,r,l;if(null!=t.VectorPoints&&!(t.VectorPoints.length<=0)){var n=ej.Ej3DRender.transform,d=ej.EjSvgRender.utils._getStringBuilder(),h=t.Fill;if(i.svgRenderer.checkColorFormat(h)||(h=i.colorNameToHex(h)),a={Segments:null,StartPoint:null},null!=n)for(a.StartPoint=ej.EjSvgRender.chartTransform3D.toScreen(t.VectorPoints[0],n),d.append("M "+a.StartPoint.x+" "+a.StartPoint.y+" "),o=0;o<t.VectorPoints.length;o++)r=ej.EjSvgRender.chartTransform3D.toScreen(t.VectorPoints[o],n),d.append("L "+r.x+" "+r.y+" ");var c=d.toString(),u="Light",p=2*(Math.abs(s.vector3dAND(t.normal,s.vector3D(0,0,1)))-1),m=2*(Math.abs(s.vector3dAND(t.normal,s.vector3D(0,1,0)))-1);p==2*(Math.abs(s.vector3dAND(t.normal,s.vector3D(1,0,0)))-1)?(u="ZLight",h=this.applyZLight(h,i)):m==p||0!=p&&m<p?(u="XLight",h=this.applyXLight(h,i)):p<0?(u="ZLight",h=this.applyZLight(h,i)):u="Light","none"==i.model.AreaType&&(t.StrokeThickness=0),l={id:i.svgObject.id+"_"+t.Name,name:u,fill:h,stroke:t.Stroke,"stroke-width":t.StrokeThickness,opacity:t.Opacity,d:c},i.svgRenderer.drawPath(l,t.Element.Parent),i.model.previousID&&i.model.touchCross&&e("#"+l.id).insertAfter(e("#"+i.model.previousID)),i.model.previousID=l.id}},applyXLight:function(e,t){var i=t.svgRenderer.hexToRGB(e);return i.R=parseInt(.7*i.R),i.G=parseInt(.7*i.G),i.B=parseInt(.7*i.B),t.svgRenderer.hexFromRGB(i)},applyZLight:function(e,t){var i=t.svgRenderer.hexToRGB(e);return i.R=parseInt(.9*i.R),i.G=parseInt(.9*i.G),i.B=parseInt(.9*i.B),t.svgRenderer.hexFromRGB(i)},update:function(t,i,s){var a,o,r,l;if(null!=i.VectorPoints&&!(i.VectorPoints.length<=0)){i.VectorPoints=t;var n=ej.Ej3DRender.transform,d=ej.EjSvgRender.utils._getStringBuilder(),h=(i.Fill,{Segments:null,StartPoint:null});if(null!=n)for(h.StartPoint=ej.EjSvgRender.chartTransform3D.toScreen(i.VectorPoints[0],n),d.append("M "+h.StartPoint.x+" "+h.StartPoint.y+" "),a=0;a<i.VectorPoints.length;a++)o=ej.EjSvgRender.chartTransform3D.toScreen(i.VectorPoints[a],n),d.append("L "+o.x+" "+o.y+" ");r=d.toString(),e(s.chartObj.chart3D).find("#"+s.chartObj.svgObject.id+"_"+i.Name).length>0&&(l=e(s.chartObj.chart3D).find("#"+s.chartObj.svgObject.id+"_"+i.Name)[0],s.chartObj.svgRenderer._setAttr(e(l),{d:r}))}}};var i,s=new((i=new ej.Ej3DRender).vector3D),a=new i.matrix3D,o=new i.BSPTreeBuilder,r=new i.polygon3D,l=new i.Graphics3D}(jQuery),ej.Ej3DAxisRenderer=function(){},ej.Ej3DSeriesRender=function(){},ej.Ej3DChart=function(){},ej.series3DTypes={},n=jQuery,ej.Ej3DAxisRenderer.prototype={_drawAxes:function(e,t,i){t.majorGridLines.visible&&this._drawGridLines3D(t,i),t.visible&&t.majorTickLines.visible&&this._renderTicks3D(t,t.majorTickLines.size,t.majorTickLines.width,i),t.visible&&(this._drawAxisLabel(t,i),this._drawMultiLevelLabel(e,t,i),this._drawAxisTitle(t))},_drawAxisTitle:function(e){var t,i,s,a,o;if(e.title.visible){t=e.title.font,this.gAxisTitleEle=this.svgRenderer.createGroup({id:this.svgObject.id+"axisTitle_"+e.name});var r=e._opposed,l={Width:n(this.svgObject).width(),Height:n(this.svgObject).height()},d=ej.EjSvgRender.chartTransform3D.transform3D(l);d.mViewport=l,d.Rotation=0,d.Tilt=0,d.Depth=100,d.PerspectiveAngle=90,ej.EjSvgRender.chartTransform3D.transform(d);var h,c,u=ej.EjSvgRender.chartTransform3D.result,p=ej.Ej3DRender.prototype.matrix3D.prototype,m=e.orientation.toLowerCase(),g=!1;for(i=0;i<this.model._axes.length;i++)if((h=this.model._axes[i]).orientation.toLowerCase()==m)for(s=0;s<h.multiLevelLabels.length;s++)if(h.multiLevelLabels[s].visible){g=!0;break}if("horizontal"==m){var _=this.model.elementSpacing+e._LableMaxWidth.height,f=ej.EjSvgRender.utils._measureText(e.title.text,e.width,e.title.font).height/2;(b=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={Text:e.title.text,location:{x:e.width/2,y:_+f+e.majorTickLines.size+e.axisLine.width+this.model.wallSize+e._multiLevelLabelHeight},axes:e},this._trigger("axesTitleRendering",b),t=e.title.font,x=b.data.location.x+e.x,y=r?e.y-b.data.location.y:b.data.location.y+e.y,c={Width:f.width,Height:f.height,Label:b.data,TextAnchor:"middle",tag:"text",font:t,id:this.svgObject.id+"axisTitle",child:this.chart3D},g?(a={id:this.svgObject.id+"axisTitle",x:x,y:y,fill:t.color,"font-size":t.size,"font-family":t.fontFamily,"font-style":t.fontStyle,"font-weight":t.fontWeight,opacity:t.opacity,"text-anchor":"middle"},o=ej.EjSvgRender.chartTransform3D.toScreen({x:x,y:y,z:0},d,u,p),a.x=o.x,a.y=o.y,this.svgRenderer.drawText(a,b.data.Text,this.gAxisTitleEle),this.svgRenderer.append(this.gAxisTitleEle,this.svgObject)):this.graphics.addVisual(this.polygon.createTextElement(this.vector.vector3D(x,y,0),c,10,10))}else{var b,v=ej.EjSvgRender.utils._measureText(e.title.text,e.height,e.title.font),x=r?e.x+(4*this.model.elementSpacing+e._LableMaxWidth.width+e.majorTickLines.size+e.axisLine.width+this.model.wallSize+e._multiLevelLabelHeight):e.x-(3*this.model.elementSpacing+e._LableMaxWidth.width+e.majorTickLines.size+e.axisLine.width+this.model.wallSize+e._multiLevelLabelHeight);(b=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={Text:e.title.text,location:{x:v.width/2,y:0},axes:e},this._trigger("axesTitleRendering",b),t=e.title.font;var y=b.data.location.y+(e.y+e.height)+e.height/-2,w=r?25:-25;c={Width:v.width,Height:v.height,Angle:-90,Label:b.data,TextAnchor:"middle",tag:"text",font:t,id:this.svgObject.id+"_YAxisTitle",child:this.chart3D},g?(a={id:void 0,x:x,y:y,fill:t.color,"font-size":t.size,"font-family":t.fontFamily,"font-style":t.fontStyle,"font-weight":t.fontWeight,opacity:t.opacity,"text-anchor":"middle",transform:"rotate(-90,"+x+","+(r?y+10:y-10)+")"},o=ej.EjSvgRender.chartTransform3D.toScreen({x:x,y:y,z:0},d,u,p),a.x=o.x+w,a.y=o.y,this.svgRenderer.drawText(a,b.data.Text,this.gAxisTitleEle),this.svgRenderer.append(this.gAxisTitleEle,this.svgObject)):this.graphics.addVisual(this.polygon.createTextElement(this.vector.vector3D(x,y,0),c,10,10))}}},_drawMultiLevelLabel:function(e,t,i){var s,a,o,r,l,d,h;this.gMultiLevelEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_axisMultiLevelLabels_"+e});var c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I,R,M,E,V,N,B,F,z,Y,X=t.multiLevelLabels.length,W=this.model,H=W.elementSpacing,U=10,$=0,G=0,q=W.m_AreaBounds,Z=t.visibleRange,Q=W.wallSize,K=t._opposed,J=i.axes[t.name]._validCross,ee=t.orientation.toLowerCase(),te=J?t.y:q.Y+(!K&&q.Height),ie=J?t.x:q.X+(K&&q.Width),se=[],ae={Width:n(this.svgObject).width(),Height:n(this.svgObject).height()},oe=ej.EjSvgRender.chartTransform3D.transform3D(ae);for(oe.mViewport=ae,oe.Rotation=0,oe.Tilt=0,oe.Depth=100,oe.PerspectiveAngle=W.perspectiveAngle,ej.EjSvgRender.chartTransform3D.transform(oe),s=ej.EjSvgRender.chartTransform3D.result,a=ej.Ej3DRender.prototype.matrix3D.prototype,c=0;c<X;c++)if(m=t.multiLevelLabels[c],g=this.svgObject.id+"_"+t.name+"MultiLevelLabels_"+e+"_"+c,""!=m.text&&m.visible){if(S=m._level,C="middle",_=m.font,Y=m.border.width,D=m.maximumTextWidth,N=m.textAlignment.toLowerCase(),j=P=m.text,y=m.textOverflow.toLowerCase(),M=ej.EjSvgRender.utils._measureText(m.text,q.Width,m.font),f=(m.end-m.start)/2,b=(m.start+f-Z.min)/Z.delta,v=(m.start-Z.min)/Z.delta,x=(m.end-Z.min)/Z.delta,t.isInversed&&(b=isNaN(b)?0:1-b,v=isNaN(v)?0:1-v,x=isNaN(x)?0:1-x),"horizontal"==ee?($=Math.round(t.width*b)+q.X+t.plotOffset,G=K?te-Q-t.majorTickLines.size-H-5-t._LableMaxWidth.height:te+Q+t.majorTickLines.size+H+t._LableMaxWidth.height,v=Math.round(t.width*v)+q.X+t.plotOffset,x=Math.round(t.width*x)+q.X+t.plotOffset,p=D||x-v-U):(G=Math.round(t.plotOffset+t.y+t.height*(1-b)),$=K?t.x+Q+t.majorTickLines.size+t.axisLine.width+H/2+t._LableMaxWidth.width+t.prevHeight[S]+t.multiLevelLabelHeight[S]/2:ie-Q-t.majorTickLines.size-H/2-t._LableMaxWidth.width-t.prevHeight[S]-t.multiLevelLabelHeight[S]/2,v=Math.round(t.plotOffset+t.y+t.height*(1-v)),x=Math.round(t.plotOffset+t.y+t.height*(1-x)),p=D||t.multiLevelLabelHeight[S]+U),"horizontal"==ee&&(G=K?G-t.prevHeight[S]:G+t.prevHeight[S]),"far"==N?($=$+p/2-Y/2,C="end"):"near"==N&&(C="start",$=$-p/2+Y/2),P=j=(o=ej.EjAxisRenderer.prototype._triggerMultiLevelLabelsRendering(j,$,G,y,_,m.border,this)).text,$=o.location.x,G=o.location.y,y=o.textOverflow.toLowerCase(),(_=o.font).color=_.color?_.color:t.multiLevelLabelsFontColor,o.border,w=o.border.type.toLowerCase(),Y=o.border.width,B={id:g,x:$,y:G,fill:_.color,"font-size":_.size,"font-family":_.fontFamily,"font-style":_.fontStyle,"font-weight":_.fontWeight,opacity:_.opacity,"text-anchor":C},"none"!=y&&(P=ej.EjAxisRenderer.prototype.textOverflowMultiLevelLabels(t,p,P,j,y,_,M,{x:$,y:G},null,this)),"wrap"==y||"wrapandtrim"==y)for(r=G,u=0;u<P.length;u++)M=ej.EjSvgRender.utils._measureText(P[u],null,_),0!=u&&(r=K?r-M.height:r+M.height),M.width,M.height,P[u],this.chart3D,B.id=B.id+"_"+u,F=ej.EjSvgRender.chartTransform3D.toScreen({x:$,y:r+5,z:0},oe,s,a),B.x=F.x,B.y=F.y,this.svgRenderer.drawText(B,P[u],this.gMultiLevelEle);if($="horizontal"==ee?$:K?$+U:$-U,"wrap"!=y&&"wrapandtrim"!=y&&(M.width,M.height,this.chart3D,F=ej.EjSvgRender.chartTransform3D.toScreen({x:$,y:G+5,z:0},oe,s,a),B.x=F.x,B.y=F.y,this.svgRenderer.drawText(B,P,this.gMultiLevelEle)),l="horizontal"==ee?{bounds:{x:v,y:G-U,height:t.multiLevelLabelHeight[S],width:p},axisIndex:e,multiLevelLabel:m}:{bounds:{x:$-A/2-5,y:x,height:v-x,width:A},axisIndex:e,multiLevelLabel:m},this.model.multiLevelLabelRegions.push(l),"none"!=w&&Y>0){for(g=this.svgObject.id+"_"+t.name+"MultiLevelLabelsBorder_"+e+"_"+c,d=G-U+t.multiLevelLabelHeight[S]+5,h=m.border.color?m.border.color:t.multiLevelLabelsColor,"horizontal"==ee?(T={x1:v,y1:G-U,x2:x,y2:G-U},L={x1:v,y1:d,x2:x,y2:d},k={x1:v,y1:G-U,x2:v,y2:d},R={x1:x,y1:G-U,x2:x,y2:d}):(T={x1:$-(A=t.multiLevelLabelHeight[S]-5)/2-5,y1:x,x2:$+A/2+5,y2:x},L={x1:$-A/2-5,y1:v,x2:$+A/2+5,y2:v},k={x1:$-A/2-5,y1:x,x2:$-A/2-5,y2:v},R={x1:$+A/2+5,y1:x,x2:$+A/2+5,y2:v}),z=0;z<4;z++){switch(z){case 0:O=g+"_top",I=T;break;case 1:O=g+"_bottom",I=L;break;case 2:O=g+"_left",I=k;break;case 3:O=g+"_right",I=R}se[0]=ej.Ej3DRender.prototype.vector3D.prototype.vector3D(I.x1,I.y1,0),se[1]=ej.Ej3DRender.prototype.vector3D.prototype.vector3D(I.x2,I.y2,0),E=ej.EjSvgRender.chartTransform3D.toScreen(se[0],oe,s,a),V=ej.EjSvgRender.chartTransform3D.toScreen(se[1],oe,s,a),B={id:O,x1:E.x,y1:E.y,x2:V.x,y2:V.y,stroke:h,"stroke-width":Y},this.svgRenderer.drawLine(B,this.gMultiLevelEle)}this.svgRenderer.append(this.gMultiLevelEle,this.svgObject)}}},_textTrim:function(e,t,i){var s,a,o=t.length;if(!(ej.EjSvgRender.utils._measureText(t,this.model.m_AreaBounds.Width,i).width>e))return t;for(a=o-1;a>=0;--a)if(s=t.substring(0,a)+"...",ej.EjSvgRender.utils._measureText(s,this.model.m_AreaBounds.Width,i).width<=e)return s},_textWrap:function(e,t,i){for(var s=t.toString().split(" "),a="",o=[],r=s.length,l="",n=0;n<r;n++)l=s[n],ej.EjSvgRender.utils._measureText(a.concat(l),this.model.m_AreaBounds.Width,i).width<e?a=a.concat((""===a?"":" ")+l):""!==a?(o.push(this._textTrim(e,a,i)),a=l):(o.push(this._textTrim(e,l,i)),l=""),a&&n===r-1&&o.push(this._textTrim(e,a,i));return o},_textWrapByLength:function(e,t,i){var s,a,o=0,r=[],l="";for(s=(t=t.toString()).length,a=0;a<=s;a++)l=0==o?t.slice(o,a):"-"+t.slice(o,a),ej.EjSvgRender.utils._measureText(l,this.model.m_AreaBounds.Width,i).width>e-5?(r.push(l),o=a++):a===s&&r.push(l);return r},_multipleRows:function(e,t,i,s){for(var a,o,r=[],l=e-1;l>=0;l--)a=s.visibleLabels[l],o=ej.EjSvgRender.utils._measureText(a.Text,this.model.m_AreaBounds.Width,s.font),t<ej.EjSvgRender.utils._valueToCoefficient(s,l)*s.width+s.x+o.width/2?(a.index=a.index?a.index:0,r.push(a.index),i.index=i.index>a.index?i.index:a.index+1):i.index=r.indexOf(a.index)>-1?i.index:a.index},_drawAxisLabel:function(e,t){for(var i,s,a,o,r,l,n=[],d=null,h=e.visibleLabels.length,c=this.model.m_AreaBounds,u=e._opposed,p=t.axes[e.name]._validCross,m=p?e.y:c.Y+(!u&&c.Height),g=p?e.x:c.X+(u&&c.Width),_=0;_<h;_++)if(!ej.util.isNullOrUndefined(e.visibleLabels[_].Text)){var f,b,v=0,x=0;if(e.visibleLabels[_].originalText=e.visibleLabels[_].Text,s=ej.EjSvgRender.utils._measureText(e.visibleLabels[_].Text,this.model.m_AreaBounds.Width,e.font),a=(e.visibleLabels[_].Value-e.visibleRange.min)/e.visibleRange.delta,a=e.isInversed?1-a:a,a=isNaN(a)?0:a,"horizontal"==e.orientation.toLowerCase()?(v=Math.round(e.width*a)+this.model.m_AreaBounds.X+e.plotOffset,x=u?m-this.model.wallSize-e.majorTickLines.size-this.model.elementSpacing/2:m+this.model.wallSize+e.majorTickLines.size+this.model.elementSpacing,i="middle"):(x=Math.round(e.plotOffset+e.y+s.height/4+e.height*(1-a)),v=u?e.x+e.majorTickLines.size+e.axisLine.width+this.model.elementSpacing/2:g-this.model.wallSize-e.majorTickLines.size-this.model.elementSpacing/2,i=u?"start":"end"),n.push({x:v,y:x,size:s}),o=e.width/e.visibleLabels.length-5,((r=n[_]).x-r.size.width/2<e.x&&0===_||r.x+r.size.width/2>e.x+e.width&&_===e.visibleLabels.length-1)&&"trim"!=e.labelIntersectAction&&e.labelIntersectAction.indexOf("wrap")<0){if("hide"===e.edgeLabelPlacement)continue;"shift"===e.edgeLabelPlacement&&(0==_?r.x=v=e.x+r.size.width/2:_==e.visibleLabels.length-1&&(r.x=v=e.x+e.width-r.size.width/2))}if("horizontal"==e.orientation.toLowerCase())if(e.labelRotation)d=e.labelRotation,x+=ej.EjSvgRender.utils.rotatedLabel(e,this,e.labelRotation,e.visibleLabels[_].Text,!0).height/2;else if("trim"==e.labelIntersectAction)e.visibleLabels[_].Text=this._textTrim(o,e.visibleLabels[_].Text,e.font);else if("wrapByWord"==e.labelIntersectAction)e.visibleLabels[_].Text=this._textWrap(o,e.visibleLabels[_].Text,e.font);else if("wrap"==e.labelIntersectAction)e.visibleLabels[_].Text=this._textWrapByLength(o,e.visibleLabels[_].Text,e.font);else if("rotate45"==e.labelIntersectAction||"rotate90"==e.labelIntersectAction)d=e.labelIntersectAction.indexOf("45")>-1?45:90,x+=ej.EjSvgRender.utils.rotatedLabel(e,this,d,e.visibleLabels[_].Text,!0).height/2;else if("multipleRows"===e.labelIntersectAction)f=r.x,f-=s.width/2,this._multipleRows(_,f,e.visibleLabels[_],e),x=e.visibleLabels[_].index?x+e.visibleLabels[_].index*(s.height+5):x;else if("hide"===e.labelIntersectAction){if(b=b||0,0!=_&&n[b].x+n[b].size.width/2>=n[_].x-n[_].size.width/2)continue;b=_}l={Width:s.width,Height:s.height,Label:e.visibleLabels[_],TextAnchor:i,tag:"text",font:e.font,id:this.svgObject.id+e.orientation+_,child:this.chart3D,Angle:d},this.graphics.addVisual(this.polygon.createTextElement(this.vector.vector3D(v,x,0),l,10,10))}},_renderTicks3D:function(e,t,i,s){for(var a,o,r,l,n=e.visibleLabels.length,d=this.model.m_AreaBounds,h=(e.y,0);h<n;h++){var c=0,u=0,p=0,m=0,g=(e.visibleLabels[h].Value-e.visibleRange.min)/e.visibleRange.delta;if(g=e.isInversed?1-g:g,g=isNaN(g)?0:g,"horizontal"==e.orientation.toLowerCase()?u=c=Math.round(e.width*g)+d.X+e.plotOffset:p=m=Math.round(e.plotOffset+e.height*(1-g)+e.y),o=this._calculatePosition3D(e,e.tickLinesPosition,t,i,c,p,u,m,s),(r={width:e.majorTickLines.width,stroke:e.majorTickLines.color,child:this.chart3D,tag:"line"}).id=this.svgObject.id+e.name+"_majorTickLines_"+h,this.graphics.addVisual(this.polygon.createLine(r,o.X1,o.Y1,o.X2,o.Y2,0)),e.minorGridLines.visible&&e.minorTicksPerInterval>0&&h<n-1)for(l=e.visibleRange.interval/(e.minorTicksPerInterval+1),a=0;a<e.minorTicksPerInterval;a++)g=ej.EjSvgRender.utils._valueToCoefficient(e,e.visibleLabels[h].Value+l*(a+1)),g=isNaN(g)?0:g,"horizontal"==e.orientation.toLowerCase()?c=u=Math.round(e.plotOffset+d.Width*g+d.X):p=m=Math.round(e.plotOffset+d.Height*(1-g))+e.y,o=this._calculatePosition3D(e,e.tickLinesPosition,t,i,c,p,u,m,s),(r={width:e.minorTickLines.width,stroke:e.minorTickLines.color,child:this.chart3D,tag:"line"}).id=this.svgObject.id+e.name+"_minorTickLines_"+h+a,this.graphics.addVisual(this.polygon.createLine(r,o.X1,o.Y1,o.X2,o.Y2,0))}},_calculatePosition3D:function(e,t,i,s,a,o,r,l,n){e.orientation;var d,h,c=e._opposed,u=(t="outside",this.model.m_AreaBounds),p=n.axes[e.name]._validCross,m=p?e.y:u.Y+(!c&&u.Height),g=p?e.x:u.X+(c&&u.Width);if("horizontal"==e.orientation.toLowerCase()){switch(t){case"inside":o=c?s:0,l=c?o+i:i;break;case"outside":o=0,l=c?i:o+i}h=c?m-this.model.wallSize-i:m+this.model.wallSize-i/2,d=e.x,o+=h,l+=h,a=r=a}else{switch(t){case"inside":a=0,r=c?i:a+i;break;case"outside":a=0,r=c?a+i:i}d=c?g+this.model.wallSize:g-this.model.wallSize-i,h=this.model.m_AreaBounds.Y,a+=d,r+=d,o=l=o}return{X1:a,Y1:o,X2:r,Y2:l}},_drawGridLines3D:function(e,t){var i,s,a,o,r,l,d;if(null!=e){var h,c,u,p,m,g=e.visibleLabels.length,_=e._opposed,f=e.orientation,b=t.axes[e.name]._validCross;if("horizontal"==f.toLowerCase())for(s=0;s<g;s++){r=ej.EjSvgRender.utils._valueToCoefficient(e,e.visibleLabels[s].Value),r=isNaN(r)?0:r,u=c=Math.round(e.width*r)+this.model.m_AreaBounds.X+e.plotOffset,p=this.model.m_AreaBounds.Y,m=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height;var v,x=this.model.depth>2?this.model.depth-2:1,y=b?e.y:this.model.m_AreaBounds.Y+(!_&&this.model.m_AreaBounds.Height);if((v={opacity:e.majorGridLines.opacity,width:e.majorGridLines.width,stroke:e.majorGridLines.color,child:this.chart3D,tag:"line"}).id=this.svgObject.id+e.name+"_gridlines_"+s,this.graphics.addVisual(this.polygon.createLine(v,c,p,u,m,x)),(i=n.extend({},v)).id=this.svgObject.id+e.name+"_parallelGridlines_"+s,d=this.polygon.createLine(i,u,0,u,-x,y),this.polygon.transform(this.matrixobj.tilt(parseFloat(Math.PI/2)),d),this.graphics.addVisual(d),e.minorGridLines.visible&&e.minorTicksPerInterval>0&&s<g-1)for(h=e.visibleRange.interval/(e.minorTicksPerInterval+1),o=0;o<e.minorTicksPerInterval;o++)r=ej.EjSvgRender.utils._valueToCoefficient(e,e.visibleLabels[s].Value+h*(o+1)),r=isNaN(r)?0:r,u=c=Math.round(this.model.m_AreaBounds.Width*r)+this.model.m_AreaBounds.X,p=this.model.m_AreaBounds.Y,m=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height,(v={opacity:e.minorGridLines.opacity,width:e.minorGridLines.width,stroke:e.minorGridLines.color,child:this.chart3D,tag:"line"}).id=this.svgObject.id+e.name+"_minorgridlines_"+s+o,this.graphics.addVisual(this.polygon.createLine(v,c,p,u,m,x)),(i=n.extend({},v)).id=this.svgObject.id+e.name+"_parallelMinorGridlines_"+s+o,d=this.polygon.createLine(i,u,0,u,-x,y),this.polygon.transform(this.matrixobj.tilt(parseFloat(Math.PI/2)),d),this.graphics.addVisual(d)}else for(s=0;s<g;s++)if(r=(e.visibleLabels[s].Value-e.visibleRange.min)/e.visibleRange.delta,r=e.isInversed?1-r:r,r=isNaN(r)?0:r,c=this.model.m_AreaBounds.X,p=Math.round(e.height*(1-r))+.5,p+=e.y,u=c+this.model.m_AreaBounds.Width,m=p,x=this.model.depth>2?this.model.depth-2:1,(v={opacity:e.majorGridLines.opacity,width:e.majorGridLines.width,stroke:e.majorGridLines.color,axisName:e.name,child:this.chart3D,tag:"line"}).id=this.svgObject.id+e.name+"_gridlines_"+s,this.graphics.addVisual(this.polygon.createLine(v,c,p,u,m,x)),a=b?e.x:this.model.m_AreaBounds.X+(_&&this.model.m_AreaBounds.Width+1),(l=n.extend({},v)).id=this.svgObject.id+e.name+"_parallelGridlines_"+s,d=this.polygon.createLine(l,-x,m,0,m,a),this.polygon.transform(this.matrixobj.turn(parseFloat(-Math.PI/2)),d),this.graphics.addVisual(d),e.minorGridLines.visible&&e.minorTicksPerInterval>0&&s<g-1)for(h=e.visibleRange.interval/(e.minorTicksPerInterval+1),o=0;o<e.minorTicksPerInterval;o++)r=ej.EjSvgRender.utils._valueToCoefficient(e,e.visibleLabels[s].Value+h*(o+1)),r=isNaN(r)?0:r,c=this.model.m_AreaBounds.X,p=Math.round(e.height*(1-r))+.5,p+=e.y,u=c+this.model.m_AreaBounds.Width,m=p,(v={opacity:e.minorGridLines.opacity,width:e.minorGridLines.width,stroke:e.minorGridLines.color,axisName:e.name,child:this.chart3D,tag:"line"}).id=this.svgObject.id+e.name+"_minorgridlines_"+s+o,this.graphics.addVisual(this.polygon.createLine(v,c,p,u,m,x)),(l=n.extend({},v)).id=this.svgObject.id+e.name+"_parallelMinorGridlines_"+s+o,d=this.polygon.createLine(l,-x,m,0,m,a),this.polygon.transform(this.matrixobj.turn(parseFloat(-Math.PI/2)),d),this.graphics.addVisual(d)}}},ej.Ej3DSeriesRender.prototype={_getSegmentDepth:function(e){var t,i,s=this.chartObj.model.depth;if(this.chartObj.model._sideBySideSeriesPlacement)t=a=s/4,i=3*a;else{var a,o=e.position-1,r=e.all;i=(t=(a=s/(2*r+r+1))+a*o*3)+2*a}return{Start:t,End:i,Delta:i-t}},createSegment:function(e,t,i,s,a,o,r,l,n){return{StartValue:t,EndValue:i,depth:s,radius:a,index:o,YData:r,Center:e,inSideRadius:l,ActualEndValue:i,ActualStartValue:t,pointIndex:n}},calculateSize:function(e,t){var i,s,a,o=e.chartObj.model.legend,r=0,l=0,d=e.chartObj.model.title,h=e.chartObj.model.title.subTitle,c=e.chartObj.model._titleLocation,u=e.chartObj.model._subTitleLocation,p=e.chartObj.model.title.textOverflow,m=e.chartObj.model.title.subTitle.textOverflow,g=!(!(d.text&&d.visible&&d.enableTrim)||"wrap"!=p&&"wrapandtrim"!=p),_=!(!(h.text&&h.visible&&h.enableTrim)||"wrap"!=m&&"wrapandtrim"!=m);return o.visible&&"custom"!=o.position.toLowerCase()&&("right"==o.position.toLowerCase()||"left"==o.position.toLowerCase()?r=("right"==o.position.toLowerCase()?e.chartObj.model.margin.right:e.chartObj.model.margin.left)+e.chartObj.model.LegendViewerBounds.Width:l=("top"==o.position.toLowerCase()?e.chartObj.model.margin.top:e.chartObj.model.margin.bottom)+e.chartObj.model.LegendViewerBounds.Height),t.actualWidth=n(e.chartObj.svgObject).width()-r,i=.5*t.actualWidth+("left"===o.position.toLowerCase()?r:0),g||_?(s=c.size.height+(_?u.size.height:0)+l,t.actualHeight=n(e.chartObj.svgObject).height()-s,a=.5*t.actualHeight+("top"===o.position.toLowerCase()?s:c.size.height+(_?u.size.height:0))):(s=(d.text&&d.visible?c.Y:0)+l,t.actualHeight=n(e.chartObj.svgObject).height()-s,a=.5*t.actualHeight+("top"===o.position.toLowerCase()?s:d.text&&d.visible?c.Y:0)),{centerX:i,centerY:a}},createPoints:function(e,t){var i,s;e.segments=[];var a=this.calculateSize(t,e),o=0,r=this._calculateVisiblePoints(e).visiblePoints,l=e._visiblePoints.length;for(i=0;i<l;i++)o+=r[i].YValues[0];var d,h,c,u,p,m,g=360/(o=0!=o?o:1),_=n.inArray(e,t.chartObj.model._visibleSeries),f=(this.chartObj.model._visibleSeries.length,t.chartObj.model.innerRadius[_]),b=t.chartObj._getYValues(e._visiblePoints),v=t.chartObj.model.depth,x=0,y=0,w=0,S=0,C=t.chartObj.model.circularRadius[_];for(s=0;s<l;s++)(e._visiblePoints[s].visible||e._visiblePoints[s].gapMode)&&(h=n.inArray(e._visiblePoints[s],e._visiblePoints),c=Math.abs(b[s]),y=Math.abs(c)*(2*Math.PI/o),(u={}).x=0,u.y=0,ej.util.isNullOrUndefined(c)||((e.explodeIndex==e._visiblePoints[s].actualIndex||e.explodeAll)&&((p={X:0,Y:0}).X=Math.cos(2*Math.PI*(w+c/2)/o),p.Y=Math.sin(2*Math.PI*(w+c/2)/o),u.x=.01*C*p.X*e.explodeOffset,u.y=.01*C*p.Y*e.explodeOffset),d=t.chartObj.vector.vector3D(u.x+a.centerX,u.y+a.centerY,0),(m=this.createSegment(d,parseFloat(g*w),parseFloat(g*c),v,C,s,c,f,h,e)).visible=!e._visiblePoints[s].gapMode,e.segments.push(m)),e.marker.dataLabel.visible&&this._addPieDataLabel(S,b[s],x,x+y,s,C,this._isChartRotated(t)?t.chartObj.model.depth+5:0,d,e._visiblePoints[s]),S++,x+=y,w+=c);return e.segments},_addPieDataLabel:function(e,t,i,s,a,o,r,l,n){var d=(i+s)/2;n.symbolLocation={x:0,y:0,radius:0,angle:0,StartDepth:0},n.symbolLocation.x=e,n.symbolLocation.y=t,n.symbolLocation.radius=o,n.symbolLocation.angle=d,n.symbolLocation.center=l,n.startDepth=r},_isChartRotated:function(e){var t=Math.abs(e.chartObj.model.tilt%360),i=Math.abs(e.chartObj.model.rotattion%360);return!!((t>90&&t<270)^(i>90&&i<270))},createSector:function(e,t,i,s){var a,o,r,l,n,d,h,c,u,p,m,g,_=parseInt(Math.ceil(e.ActualEndValue/6)),f=Math.PI/180,b=0,v=[],x=t.chartObj.model.depth;if(_<1)return null;var y=[],w=e.ActualEndValue/_,S=[],C=[];for(p=0;p<_+1;p++)a=parseFloat(e.Center.x+e.radius*Math.cos((e.ActualStartValue+p*w)*f)),o=parseFloat(e.Center.y+e.radius*Math.sin((e.ActualStartValue+p*w)*f)),S[p]={X:a,Y:o},r=parseFloat(e.Center.x+e.inSideRadius*Math.cos((e.ActualStartValue+p*w)*f)),l=parseFloat(e.Center.y+e.inSideRadius*Math.sin((e.ActualStartValue+p*w)*f)),C[p]={X:r,Y:l},v.push({X:a,Y:o});for(n=[],p=0;p<_;p++)d=[t.chartObj.vector.vector3D(S[p].X,S[p].Y,0),t.chartObj.vector.vector3D(S[p].X,S[p].Y,x),t.chartObj.vector.vector3D(S[p+1].X,S[p+1].Y,x),t.chartObj.vector.vector3D(S[p+1].X,S[p+1].Y,0)],n[p]=t.chartObj.polygon.polygon3D(d,this,e.index,i.borderColor,i.borderWidth,i.opacity,i.interior,b.toString()+"_Region_Series_"+s+"_Point_"+e.index,t.chartObj.chart3D),b++;if(y[1]=n,e.inSideRadius>0){for(h=[],p=0;p<_;p++)d=[t.chartObj.vector.vector3D(C[p].X,C[p].Y,0),t.chartObj.vector.vector3D(C[p].X,C[p].Y,x),t.chartObj.vector.vector3D(C[p+1].X,C[p+1].Y,x),t.chartObj.vector.vector3D(C[p+1].X,C[p+1].Y,0)],h[p]=t.chartObj.polygon.polygon3D(d,this,e.index,i.borderColor,i.borderWidth,i.opacity,i.interior,b.toString()+"_Region_Series_"+s+"_Point_"+e.index,t.chartObj.chart3D),b++;y[3]=h}for(c=[],u=[],p=0;p<_+1;p++)c.push(t.chartObj.vector.vector3D(S[p].X,S[p].Y,0)),u.push(t.chartObj.vector.vector3D(S[p].X,S[p].Y,x));if(e.inSideRadius>0)for(p=_;p>-1;p--)c.push(t.chartObj.vector.vector3D(C[p].X,C[p].Y,0)),u.push(t.chartObj.vector.vector3D(C[p].X,C[p].Y,x));else c.push(e.Center),u.push(t.chartObj.vector.vector3D(e.Center.x,e.Center.y,x));return y[0]=[],y[0].push(t.chartObj.polygon.polygon3D(c,this,e.index,i.borderColor,i.borderWidth,i.opacity,i.interior,b.toString()+"_Region_Series_"+s+"_Point_"+e.index,t.chartObj.chart3D)),b++,y[0].push(t.chartObj.polygon.polygon3D(u,this,e.index,i.borderColor,i.borderWidth,i.opacity,i.interior,b.toString()+"_Region_Series_"+s+"_Point_"+e.index,t.chartObj.chart3D)),b++,e.inSideRadius>0?(m=[t.chartObj.vector.vector3D(S[0].X,S[0].Y,0),t.chartObj.vector.vector3D(S[0].X,S[0].Y,x),t.chartObj.vector.vector3D(C[0].X,C[0].Y,x),t.chartObj.vector.vector3D(C[0].X,C[0].Y,0)],g=[t.chartObj.vector.vector3D(S[_].X,S[_].Y,0),t.chartObj.vector.vector3D(S[_].X,S[_].Y,x),t.chartObj.vector.vector3D(C[_].X,C[_].Y,x),t.chartObj.vector.vector3D(C[_].X,C[_].Y,0)],y[2]=[],y[2].push(t.chartObj.polygon.polygon3D(m,this,e.index,i.borderColor,i.borderWidth,i.opacity,i.interior,b.toString()+"_Region_Series_"+s+"_Point_"+e.index,t.chartObj.chart3D)),b++,y[2].push(t.chartObj.polygon.polygon3D(g,this,e.index,i.borderColor,i.borderWidth,i.opacity,i.interior,b.toString()+"_Region_Series_"+s+"_Point_"+e.index,t.chartObj.chart3D)),b++):(m=[t.chartObj.vector.vector3D(S[0].X,S[0].Y,0),t.chartObj.vector.vector3D(S[0].X,S[0].Y,x),t.chartObj.vector.vector3D(e.Center.x,e.Center.y,x),t.chartObj.vector.vector3D(e.Center.x,e.Center.y,0)],g=[t.chartObj.vector.vector3D(S[_].X,S[_].Y,0),t.chartObj.vector.vector3D(S[_].X,S[_].Y,x),t.chartObj.vector.vector3D(e.Center.x,e.Center.y,x),t.chartObj.vector.vector3D(e.Center.x,e.Center.y,0)],y[2]=[],y[2].push(t.chartObj.polygon.polygon3D(m,this,e.index,i.borderColor,i.borderWidth,i.opacity,i.interior,b.toString()+"_Region_Series_"+s+"_Point_"+e.index,t.chartObj.chart3D)),b++,y[2].push(t.chartObj.polygon.polygon3D(g,this,e.index,i.borderColor,i.borderWidth,i.opacity,i.interior,b.toString()+"_Region_Series_"+s+"_Point_"+e.index,t.chartObj.chart3D)),b++),y},createPolygons:function(e,t,i){var s,a,o,r,l,d,h,c,u,p,m=[],g=n.inArray(e,t.chartObj.model._visibleSeries);for(l=(s=e.segments&&i?e.segments:this.createPoints(e,t)).length,h=0;h<l;h++)if((a=s[h]).visible&&(r=s[h].pointIndex,o=t.chartObj.setStyle(t,e,g,r),"object"==typeof t.chartObj.model.pointColors[r]&&(o.interior=t.chartObj.model.pointColors[r][0].color),null!=(d=this.createSector(a,t,o,g))))for(u=0;u<d.length;u++)if(m[u]||(m[u]=[]),null!=d[u])for(c=0;c<d[u].length;c++)m[u].push(d[u][c]);if(i)return m;for(u=0;u<m.length;u++)for(p=0;p<m[u].length;p++)t.chartObj.graphics.addVisual(m[u][p])},draw3DDataLabel:function(e,t,i){var s,a,o,r,l,d,h,c=e.marker.dataLabel.connectorLine.height,u=0,p=0;if("number"==typeof e.marker.dataLabel.offset?p=e.marker.dataLabel.offset:(u=e.marker.dataLabel.offset.x,p=e.marker.dataLabel.offset.y),"none"==this.chartObj.model.AreaType){w={x:0,y:0};var m=i.text?i.text:i.y,g=n.inArray(e,this.chartObj.model.series),_=ej.EjSvgRender.utils._measureText(m,null,e.marker.dataLabel.font);if("doughnut"==e.type.toLowerCase()||"pie"==e.type.toLowerCase()){Math.min(e.actualWidth,e.actualHeight);var f=i.symbolLocation.center,b=(u=e.marker.dataLabel.offset.x,p=e.marker.dataLabel.offset.y,i.symbolLocation.radius*e._coefficient);ej.util.isNullOrUndefined(c)&&(c=ej.EjSvgRender.utils._measureText(m,null,e.marker.dataLabel.font).height),null!=e&&"inside"!=e.labelPosition?a=i.symbolLocation.radius+c:null!=e&&(a=b+(i.symbolLocation.radius-b)/2),"inside"!=e.labelPosition?(r=a*Math.cos(i.symbolLocation.angle),l=a*Math.sin(i.symbolLocation.angle),T=w.X=r>0?f.x+r+_.width/2+2:f.x+r-_.width/2-2,C=w.Y=l>0?f.y+l+_.height/2:f.y+l):(T=w.X=f.x+a*Math.cos(i.symbolLocation.angle)+u,C=w.Y=f.y+a*Math.sin(i.symbolLocation.angle)+p),(y=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={text:m,location:{x:T,y:C},series:e,pointIndex:t,seriesIndex:g},this.chartObj._trigger("displayTextRendering",y),y.data.Text=y.data.text,_=ej.EjSvgRender.utils._measureText(y.data.Text,null,e.marker.dataLabel.font),T=w.X=y.data.location.x,C=w.Y=y.data.location.y}}else{var v=e.yAxis.labelFormat?e.yAxis.labelFormat:"";g=n.inArray(e,this.chartObj.model.series),m=i.text?i.text:i.y,v&&(v.indexOf("{value}")>-1?m=v.replace("{value}",i.y):0==v.indexOf("e")||0==v.indexOf("E")?(o=null==(o=v.match(/(\d+)/g))?6:o>20?20:o,m=i.y.toExponential(o)):m=ej.globalize.format(i.y,v,this.chartObj.model.locale));var x=0,y=n.extend({},ej.EjSvgRender.commonChartEventArgs),w=(_=ej.EjSvgRender.utils._measureText(m,null,e.marker.dataLabel.font),ej.EjSvgRender.utils.Transform3DToVisible(e,i.symbolLocation.x,i.symbolLocation.y,this.chartObj)),S=(c=e.marker.dataLabel.connectorLine.height?e.marker.dataLabel.connectorLine.height:0,4.71),C=w.Y,T=w.X;this.chartObj.model.requireInvertedAxes?(T=i.x>0?w.X-Math.sin(S)*c:w.X+Math.sin(S)*c,x=-_.height/3):C=i.y>0?w.Y+Math.sin(S)*c:w.Y+Math.sin(-S)*c,C="bottom"==e.marker.dataLabel.textPosition?w.Y+p:w.Y-p,T=w.X+u,y.data={text:m,location:{x:T,y:C},series:e,pointIndex:t},y.data.Text=y.data.text,this.chartObj._trigger("displayTextRendering",y),T=y.data.location.x,C=y.data.location.y}this._getSegmentDepth(e),"none"==e.marker.dataLabel.shape.toLowerCase()||i.marker.dataLabel.template||""==y.data.Text||(d={tag:"dataLabel",series:e,point:i,pointIndex:t,id:this.chartObj.svgObject.id+g+"_DataLabel"+t,child:this.chartObj.chart3D},this.chartObj.graphics.addVisual(this.chartObj.polygon.createTextElement(this.chartObj.vector.vector3D(T,C,i.symbolLocation.z?i.symbolLocation.z:0),d,0,-_.height))),s=i.marker.dataLabel.template?"template":"text",d={Width:_.width,Height:_.height,Label:y.data,TextAnchor:"middle",tag:s,font:e.marker.dataLabel.font,Angle:e.marker.dataLabel.angle,id:this.chartObj.svgObject.id+"_SeriesText"+t+g,child:this.chartObj.chart3D},"none"!=this.chartObj.model.AreaType?(e.marker.dataLabel.connectorLine.height&&e.marker.dataLabel.connectorLine.height>0&&((h=[]).push({x:w.X,y:w.Y+x,z:i.symbolLocation.z}),h.push({x:T,y:C+x,z:i.symbolLocation.z}),this.drawLineSegment(h,t,e)),this.chartObj.graphics.addVisual(this.chartObj.polygon.createTextElement(this.chartObj.vector.vector3D(T,C,i.symbolLocation.z),d,0,-_.height))):("inside"!=e.labelPosition.toLowerCase()&&this.updateConnectorLine(i,t,e,w,c),e.actualWidth,e.actualHeight,this.chartObj.graphics.addVisual(this.chartObj.polygon.createTextElement(this.chartObj.vector.vector3D(w.X,w.Y,-1),d,0,-_.height)))},updateConnectorLine:function(e,t,i,s,a){var o,r=[],l=e.symbolLocation,n=l.center.x+Math.cos(l.angle)*l.radius,d=l.center.y+Math.sin(l.angle)*l.radius;r.push({x:n,y:d}),o=l.radius+a,n=l.center.x+Math.cos(l.angle)*o,d=l.center.y+Math.sin(l.angle)*o,r.push({x:n,y:d}),"bezier"==i.marker.dataLabel.connectorLine.type&&(r=this.getBezierApproximation(r,256,i)),this.drawLineSegment(r,t,i)},getBezierApproximation:function(e,t,i){for(var s,a=[],o=0;o<=t;o++)s=o/t,a.push(this.GetBezierPoint(s,e,0,e.length,i));return a},drawLineSegment:function(e,t,i){for(var s=[],a=0;a<e.length;a++)s.push(this.chartObj.vector.vector3D(e[a].x,e[a].y,e[a].z?e[a].z:0));var o=n.inArray(i,this.chartObj.model._visibleSeries),r="none"==this.chartObj.model.AreaType?this.chartObj.model.pointColors[t]:this.chartObj.model.seriesColors[o],l=i.marker.dataLabel.connectorLine.stroke?i.marker.dataLabel.connectorLine.stroke:r,d={width:i.marker.dataLabel.connectorLine.width,stroke:l,child:this.chartObj.chart3D,tag:"polyline",id:this.chartObj.svgObject.id+"_"+o+"_"+t};this.chartObj.graphics.addVisual(this.chartObj.polygon.createPolyline(s,d))}},ej.ejCircularSeries={draw:function(e,t,i){t.chartObj.model._visibleSeries.length;var s,a=n.inArray(e,t.chartObj.model._visibleSeries);if(t._calculateVisiblePoints(e),t.calculateSize(t,e),"pie"==i?(e._size=e.pieCoefficient,e._coefficient=0==a?0:e._size):(e._size=e.doughnutSize,e._coefficient=e.doughnutCoefficient),t.chartObj.model.circularRadius.length>1){for(s=a;s<t.chartObj.model.circularRadius.length;s++)if(!ej.util.isNullOrUndefined(t.chartObj.model.circularRadius[s])){t.chartObj.model.circularRadius[a]=t.chartObj.model.circularRadius[s]*e._size;break}}else t.chartObj.model.circularRadius[a]=.97*Math.min(e.actualWidth/2,e.actualHeight/2)*e._size;t.chartObj.model.innerRadius[a]=e._coefficient*t.chartObj.model.circularRadius[a],t.createPolygons(e,t)},doAnimation:function(e,t){e.count=0,n.each(e.segments,(function(i,s){var a=s.radius,o=s.inSideRadius;e.animate=!0,n(t.chartObj.element).each((function(){s.radius=0,s.inSideRadius=0})).animate({Radius:a,InsideRadius:o},{duration:1e3,queue:!1,step:function(i,a){var o,r,l;for("Radius"===a.prop.toString()?s.radius=i:s.inSideRadius=i,o=t.createPolygons(e,t,!0),r=0;r<o.length;r++)for(l=0;l<o[r].length;l++)t.chartObj.polygon.update(o[r][l].VectorPoints,o[r][l],t)},complete:function(){t.chartObj.model.AnimationComplete=!0;var i=n.extend({},ej.EjSvgRender.commonChartEventArgs);i.data={series:e},t.chartObj._trigger("animationComplete",i)}})}))}},ej.series3DTypes.doughnut=ej.ejCircularSeries,ej.series3DTypes.pie=ej.ejCircularSeries,ej.ej3DStackingColumn={draw:function(e,t,i,s){var a,o=t._isVisiblePoints(e);for(this.createSegments(e,t,s),a=0;a<o.length;a++)o[a].visible&&(e._visiblePoints[a].plans=null,ej.ej3DColumnSeries.update(e,e._visiblePoints[a],a,t))},createSegments:function(e,t,i){var s,a,o,r,l,n=t.chartObj._getXValues(e._visiblePoints);if(null!=n)for(a=t.getSideBySideInfo(e,i),o=t._getSegmentDepth(e),s=a.Delta/2,r=t._isVisiblePoints(e),l=0;l<r.length;l++){var d=n[l]+a.Start,h=n[l]+a.End,c=e.stackedValue.StartValues[l],u=e.stackedValue.EndValues[l];if(ej.ej3DColumnSeries._setData(d,u,h,c,o.Start,o.End,t,r[l]),e.marker.dataLabel.visible)switch(r[l].symbolLocation={x:0,y:0,z:0},e.marker.dataLabel.textPosition){case"top":r[l].symbolLocation.x=d+s,r[l].symbolLocation.y=u,r[l].symbolLocation.z=o.Start+o.Delta/2;break;case"bottom":r[l].symbolLocation.x=d+s,r[l].symbolLocation.y=c-.2,r[l].symbolLocation.z=o.Start+(o.End-o.Start)/2;break;default:r[l].symbolLocation.x=d+s,r[l].symbolLocation.y=u+(c-u)/2,r[l].symbolLocation.z=o.Start}}},doAnimation:function(e,t){n.each(e._visiblePoints,(function(i,s){var a=s.Top,o=s.Bottom;n(s).each((function(){s.Top=0,s.Bottom=0})).animate({Top:a,Bottom:o},{duration:1200,queue:!1,step:function(a,o){"Top"===o.prop.toString()&&(s.Top=a),"Bottom"===o.prop.toString()&&(s.Bottom=a),ej.ej3DColumnSeries.update(e,s,i,t)},complete:function(){t.chartObj.model.AnimationComplete=!0;var i=n.extend({},ej.EjSvgRender.commonChartEventArgs);i.data={series:e},t.chartObj._trigger("animationComplete",i)}})}))}},ej.series3DTypes.stackingcolumn=ej.ej3DStackingColumn,ej.series3DTypes.stackingbar=ej.ej3DStackingColumn,ej.series3DTypes.stackingbar100=ej.ej3DStackingColumn,ej.series3DTypes.stackingcolumn100=ej.ej3DStackingColumn,ej.ej3DColumnSeries={draw:function(e,t,i,s){var a,o=t._isVisiblePoints(e);for(this.createSegments(e,t,s),a=0;a<o.length;a++)o[a].visible&&(e._visiblePoints[a].plans=null,this.update(e,e._visiblePoints[a],a,t))},update:function(e,t,i,s){var a,o,r=e.xAxis._valueType.toLowerCase(),l=n.inArray(e,s.chartObj.model._visibleSeries),d="logarithmic"==r?null:1,h="logarithmic"==r,c=h?Math.log(t.Left,d):t.Left,u=h?Math.log(t.Right,d):t.Right,p=e.yAxis.visibleRange.min,m=e.yAxis.visibleRange.max,g=e.xAxis.visibleRange.min,_=e.xAxis.visibleRange.max;if(c>=g&&c<=_||u>=g&&u<=_){a=t.Top<0?t.Top>p?t.Top:p:e.yAxis.valueType&&"logarithmic"==e.yAxis.valueType.toLowerCase()||t.Top<m?t.Top:m;var f=ej.EjSvgRender.utils.Transform3DToVisible(e,t.Left>g?t.Left:g,a,s.chartObj),b=ej.EjSvgRender.utils.Transform3DToVisible(e,_>t.Right?t.Right:_,p>t.Bottom?p:t.Bottom,s.chartObj),v=s.chartObj.vector.vector3D(Math.min(f.X,b.X),Math.min(f.Y,b.Y),t.StartDepth),x=s.chartObj.vector.vector3D(Math.max(f.X,b.X),Math.max(f.Y,b.Y),t.EndDepth),y=s.chartObj.setStyle(s,e,l,i);y.interior.indexOf("url")>=0&&(y.interior=s.chartObj.model.seriesColors[l][0].color),o="Region_Series_"+l+"_Point_"+i,"cylinder"==e.columnFacet?s.chartObj.polygon.createCylinder(v,x,this,i,e.type,y.borderColor,y.interior,y.borderWidth,y.opacity,s.chartObj.model.requireInvertedAxes,o,s.chartObj.chart3D):"rectangle"==e.columnFacet&&s.chartObj.polygon.createBox(v,x,this,i,e.type,y.borderColor,y.interior,y.borderWidth,y.opacity,s.chartObj.model.requireInvertedAxes,o,s.chartObj.chart3D)}},_setData:function(){var e=arguments,t=arguments[arguments.length-1],i=arguments[arguments.length-2];t.Left=e[0],t.Bottom=e[3],t.Top=e[1],t.Right=e[2],t.StartDepth=e[4],t.EndDepth=e[5],t.XRange=i.getDoubleRange(t.Left,t.Right),isNaN(t.Top)||isNaN(t.Bottom)||(t.YRange=i.getDoubleRange(t.Top,t.Bottom))},createSegments:function(e,t,i){var s,a=t.chartObj._getXValues(e._visiblePoints),o=t.chartObj._getYValues(e._visiblePoints);if(null!=a){var r=t.getSideBySideInfo(e,i),l=t._getSegmentDepth(e),n=t.chartObj._getXCrossValue(e,e.xAxis,i),d=r.Delta/2,h=e._visiblePoints;for(s=0;s<h.length;s++){var c=a[s]+r.Start,u=a[s]+r.End,p=o[s],m=n;if(this._setData(c,p,u,m,l.Start,l.End,t,h[s]),a[s],o[s],e.marker.dataLabel.visible)switch(h[s].symbolLocation={x:0,y:0,z:0},e.marker.dataLabel.textPosition){case"top":h[s].symbolLocation.x=c+d,h[s].symbolLocation.y=p,h[s].symbolLocation.z=l.Start;break;case"bottom":h[s].symbolLocation.x=c+d,h[s].symbolLocation.y=m-.2,h[s].symbolLocation.z=l.Start+(l.End-l.Start)/2;break;default:h[s].symbolLocation.x=c+d,h[s].symbolLocation.y=Math.abs(m-p)/2,h[s].symbolLocation.z=l.Start}}}},doAnimation:function(e,t){var i=this;n.each(e._visiblePoints,(function(s,a){var o=a.Top;n(a).each((function(){a.Top=0})).animate({Top:o},{duration:1200,queue:!1,step:function(o,r){"Top"===r.prop.toString()&&(a.Top=o),i.update(e,a,s,t)},complete:function(){t.chartObj.model.AnimationComplete=!0;var i=n.extend({},ej.EjSvgRender.commonChartEventArgs);i.data={series:e},t.chartObj._trigger("animationComplete",i)}})}))}},ej.series3DTypes.column=ej.ej3DColumnSeries,ej.series3DTypes.bar=ej.ej3DColumnSeries,ej.Ej3DChart.prototype={renderSeries:function(e,t,i){var s,a,o,r;ej.Ej3DSeriesRender.prototype.chartObj=e,n.extend(ej.Ej3DSeriesRender.prototype,ej.EjSeriesRender.prototype),s=new ej.Ej3DSeriesRender,(a=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={series:t},s.chartObj._trigger("seriesRendering",a),o=t.type.toLowerCase(),r=ej.series3DTypes[o],ej.util.isNullOrUndefined(r)||(r.draw(t,s,o,i),t.marker.dataLabel.visible&&n.each(t._visiblePoints,(function(i,a){a.marker=n.extend(!0,{},t.marker,a.marker),a.visible&&(ej.util.isNullOrUndefined(a.marker)||a.marker.dataLabel&&a.marker.dataLabel.visible)&&s.draw3DDataLabel(t,i,a,e)})))},update3DWall:function(e,t){var i,s,a;if("cartesianaxes"==e.model.AreaType)for(n.extend(ej.Ej3DRender.prototype,this),this.updateBackWall(e),i=0;i<e.model._axes.length;i++)a=(s=e.model._axes[i])._opposed,"vertical"==s.orientation.toLowerCase()?a?this.updateRightWall(e,s,t):this.updateLeftWall(e,s,t):a?this.updateTopWall(e,s,t):this.updateBottomWall(e,s,t)},updateTopWall:function(e,t,i){var s,a,o=e.model.m_AreaBounds,r=i.axes[t.name]._validCross?t.y:o.Y;s=e.model.wallSize<r?r-e.model.wallSize:-(e.model.wallSize-r);var l=e.vector.vector3D(o.X+o.Width,-e.model.depth,r-.1),n=e.vector.vector3D(o.X,-.1,s),d=e.polygon.createBox(l,n,this,0,"Graphics3D","#e2e1e1","#e2e1e1",0,.15,!1,"TopWallBrush",e.chart3D);for(a=0;a<d.length;a++)e.polygon.transform(e.matrixobj.tilt(parseFloat(Math.PI/2)),d[a])},updateRightWall:function(e,t,i){for(var s=i.axes[t.name]._validCross?t.x:e.model.m_AreaBounds.X+e.model.m_AreaBounds.Width,a={left:-e.model.depth,top:e.model.m_AreaBounds.Y,bottom:e.model.m_AreaBounds.Height+e.model.m_AreaBounds.Y,right:0},o=e.vector.vector3D(a.left,a.top,s+1.5),r=e.vector.vector3D(a.right,a.bottom,s+e.model.wallSize),l=e.polygon.createBox(o,r,e,0,"Graphics3D","#e2e1e1","#e2e1e1",0,.15,!1,"RightWallBrush",e.chart3D),n=0;n<l.length;n++)e.polygon.transform(e.matrixobj.turn(parseFloat(-Math.PI/2)),l[n])},updateBackWall:function(e){var t=e.model.m_AreaBounds,i=e.vector.vector3D(t.X,t.Y,0==e.model.depth?1.5:e.model.depth+e.model.wallSize),s=e.vector.vector3D(t.X+t.Width,t.Y+t.Height,0==e.model.depth?1.5:e.model.depth);e.polygon.createBox(i,s,e,0,"Graphics3D","#e2e1e1","#e2e1e1",0,.15,!1,"BackWallBrush",e.chart3D)},updateLeftWall:function(e,t,i){for(var s={left:-e.model.depth,top:e.model.m_AreaBounds.Y,bottom:e.model.m_AreaBounds.Height+e.model.m_AreaBounds.Y,right:0},a=i.axes[t.name]._validCross?t.x:e.model.m_AreaBounds.X,o=e.vector.vector3D(s.left,s.top,a-.1),r=e.vector.vector3D(s.right,s.bottom,a-e.model.wallSize),l=e.polygon.createBox(o,r,this,0,"Graphics3D","#e2e1e1","#e2e1e1",0,.15,!1,"LeftWallBrush",e.chart3D),n=0;n<l.length;n++)e.polygon.transform(e.matrixobj.turn(parseFloat(-Math.PI/2)),l[n])},updateBottomWall:function(e,t,i){for(var s=e.model.m_AreaBounds,a=i.axes[t.name]._validCross?t.y:s.Y+s.Height,o=e.vector.vector3D(s.X+s.Width,-e.model.depth,e.model.wallSize+a),r=e.vector.vector3D(s.X,-.1,a+1),l=e.polygon.createBox(r,o,this,0,"Graphics3D","#D3D3D3","#D3D3D3",0,.15,!1,"BottomWallBrush",e.chart3D),n=0;n<l.length;n++)e.polygon.transform(e.matrixobj.tilt(parseFloat(Math.PI/2)),l[n])}},ej.EjVmlRender=function(e){var t,i,s=document;this.vmlNamespace="urn:schemas-microsoft-com:vml",this.vmStyle="#default#VML",s.namespaces.add("v","urn:schemas-microsoft-com:vml"),this.isdocmode8=8===s.documentMode,s.getElementById("vml_chart")||(t=this.isdocmode8?"v\\:fill, v\\:path, v\\:polyline, v\\:line, v\\:rect,v\\:shape,v\\:oval, v\\:stroke{ behavior:url(#default#VML); display: inline-block; } ":"v\\:*{ behavior:url(#default#VML); display: inline-block; } ",(i=s.createStyleSheet()).owningElement.id="vml_chart",i.cssText=t),this._rootId=jQuery(e).attr("id"),this.svgObj=s.createElement("div"),this.svgObj.style.position="relative",this.svgObj.setAttribute("id",this._rootId+"_vml"),this.changeOptions={id:"id",fill:"fillcolor",stroke:"strokecolor","stroke-width":"strokeweight",d:"path","font-size":"font-size","font-family":"font-family","font-style":"font-style","font-weight":"font-weight",points:"points"}},function(e){ej.EjVmlRender.prototype={drawPath:function(t,i){var s,a,o,r,l=t.d.split(" ");-1!=e.inArray("A",l)&&(s=parseFloat(l[4]),a=parseFloat(l[5]),t.d=this.drawArc(s,a,t)),e("#"+t.id).length>0?(t.d=this.changePathValue(t.d),this.applyVMLStyle(e("#"+t.id),t)):(t.d=this.changePathValue(t.d),o=document.createElement("v:shape"),r=e(o),this.applyVMLStyle(r,t),r.appendTo(i))},createLegendSvg:function(e){var t=document;return this._rootId=jQuery(e).attr("id"),this.legendsvgObj=t.createElement("div"),this.legendsvgObj.style.position="relative",this.legendsvgObj.setAttribute("id","legend_"+this._rootId+"_vml"),this.legendsvgObj},drawPolyline:function(t,i){var s,a;t.points.split(" "),e("#"+t.id).length>0?(t.points=this.changePathValue(t.points),this.applyVMLStyle(e("#"+t.id),t)):(t.points=this.changePathValue(t.points),s=document.createElement("v:polyline"),a=e(s),this.applyVMLStyle(a,t),a.appendTo(i))},setFillAttribute:function(t,i){var s,a,o=document.createElement("v:fill"),r=i["fill-opacity"]?i["fill-opacity"]:i.opacity;r=ej.util.isNullOrUndefined(r)?i.opacity?i.opacity:1:r,"none"==(s=i.fill)||ej.util.isNullOrUndefined(s)?"none"==s?(o.setAttribute("type","gradient"),o.setAttribute("color",i.color),o.setAttribute("color2",i.color2),o.setAttribute("colors",i.colors),o.setAttribute("angle",i.angle),r=i.fill_opacity):r=.1:s.match("gradient")?(a=s.replace("gradient",""),o.setAttribute("type","gradient"),o.setAttribute("colors",a)):e(t).attr("fillcolor",s),o.setAttribute("opacity",r),e(o).appendTo(t)},setStrokeAttribute:function(t,i){var s,a;"transparent"==i.stroke&&(i.opacity=.1),i.name&&e(t).attr("name",i.name),(s=i.opacity)&&((a=document.createElement("v:stroke")).setAttribute("opacity",s),e(a).appendTo(t))},changePathValue:function(e){var t,i;if(!e.d){for(t=e.split(" "),i=0;i<t.length;i++)null!=t[i].match(/\d+/g)&&(t[i]=Math.round(parseFloat(t[i])));return t.join(" ")}},drawArc:function(e,t,i){var s,a=i.start,o=i.end,r=(o=Number(Math.PI.toFixed(2))==Number((o+a).toFixed(2))?o-.01:o,i.r||e||t),l=Math.cos(a),n=Math.sin(a),d=Math.cos(o),h=Math.sin(o),c=i.innerR,u=.08/r,p=c&&.1/c||0;return o-a==0?"":(2*Math.PI-o+a<u?d=-u:o-a<p&&(d=Math.cos(a+p)),s=["wa",0-r,0-r,0+r,0+r,0+r*l,0+r*n,0+r*d,0+r*h],i.open&&!c&&s.push("e",void 0,0,0),s.push("at",0-c,0-c,0+c,0+c,0+c*d,0+c*h,0+c*l,0+c*n,"x","e"),s.join(" "))},changeVMLStyle:function(t,i){var s=this,a=i.stroke;t.css("width",i.width).css("visibility",i.visibility).css("height",i.height).css("position","absolute").css("left",i.x).css("top",i.y),e.each(i,(function(e,a){(null!=s.changeOptions[e]||void 0!=s.changeOptions[e])&&(("d"==e||"points"==e)&&(a=s.changePathValue(i[e]).toLowerCase()),"transparent"!=a||i.fill_opacity||(i[e]=a="white","fill"!=e||i.hasOwnProperty("opacity")&&i.opacity||(i.opacity=.1)),i.fill_opacity&&(i.opacity=i.fill_opacity),"SPAN"===t[0].tagName?"fill"==e?t.css("color",a):"id"==e?t.attr(s.changeOptions[e],a):t.css(s.changeOptions[e],a):s.isdocmode8?t.get(0)[s.changeOptions[e]]=a:t.get(0).setAttribute(s.changeOptions[e],a))})),(i.hasOwnProperty("fill-opacity")||i.hasOwnProperty("opacity")||i.hasOwnProperty("fill"))&&("SPAN"===t[0].tagName||(s.setFillAttribute(t,i),i.hasOwnProperty("stroke")&&(i.stroke=a,i.fill_opacity&&(i.opacity=i.fill_opacity),s.setStrokeAttribute(t,i))))},applyVMLStyle:function(e,t){"SPAN"!==e[0].tagName&&(ej.util.isNullOrUndefined(t.width)&&(t.width="1000px"),ej.util.isNullOrUndefined(t.height)&&(t.height="1000px")),ej.util.isNullOrUndefined(t.x)&&(t.x="0px"),ej.util.isNullOrUndefined(t.y)&&(t.y="0px"),this.changeVMLStyle(e,t)},drawLine:function(t,i){if(e("#"+t.id).length>0)o=t.x1+","+t.y1,r=t.x2+","+t.y2,e(t).attr("from",o).attr("to",r),this.applyVMLStyle(e("#"+t.id),t);else{var s=document.createElement("v:line"),a=e(s),o=t.x1+","+t.y1,r=t.x2+","+t.y2;a.attr("from",o).attr("to",r),this.applyVMLStyle(a,t),a.appendTo(i)}},drawCircle:function(t,i){if(e("#"+t.id).length>0)t.x=t.cx-t.r,t.y=t.cy-t.r,t.width=t.height=2*t.r,this.applyVMLStyle(e("#"+t.id),t);else{var s=document.createElement("v:oval"),a=e(s);t.x=t.cx-t.r,t.y=t.cy-t.r,t.width=t.height=2*t.r,this.applyVMLStyle(a,t),0==e("#"+t.id).length&&a.appendTo(i)}},drawEllipse:function(t,i){if(e("#"+t.id).length>0)t.x=t.cx-t.rx,t.y=t.cy-t.ry,t.width=2*t.rx,t.height=2*t.ry,this.applyVMLStyle(e("#"+t.id),t);else{var s=document.createElement("v:oval"),a=e(s);t.x=t.cx-t.rx,t.y=t.cy-t.ry,t.width=2*t.rx,t.height=2*t.ry,this.applyVMLStyle(a,t),a.appendTo(i)}},drawRect:function(t,i){if(e("#"+t.id).length>0)this.applyVMLStyle(e("#"+t.id),t);else{var s=document.createElement("v:rect"),a=e(s);this.applyVMLStyle(a,t),a.appendTo(i)}},drawCylinder:function(t,i,s){var a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I=t.x,R=t.y,M=t.width,E=t.height,V=t.id,N=t.fill;ej.EjSvgRender.prototype.checkColorFormat(N)||(N=ej.datavisualization.Chart.prototype.colorNameToHex(t.fill));var B=t.opacity,F={svgRenderer:ej.EjSvgRender.prototype},z=ej.Ej3DRender.prototype.polygon3D.prototype.applyZLight(N,F),Y=ej.Ej3DRender.prototype.polygon3D.prototype.applyXLight(N,F),X=65535;for(1==s.isColumn?(t.rx=o=M/2,t.ry=r=o/4,c=d=R-r,g=w=_=R+E-r,u=(l=n=I+o)+o,h=m=y=l-o,k=-Math.round(180*X),P=Math.round(180*X),v=Math.round(360*X),x=-Math.round(180*X),j="90",1==s.stacking&&(s.isLastSeries||(d=R+r)),p=d):(t.ry=r=E/2,t.rx=o=r/4,u=h=n=I+o,y=l=I+M+o,k=Math.round(90*X),P=Math.round(180*X),v=Math.round(270*X),x=-Math.round(180*X),_=d=R+r,w=p=d+r,c=g=_-r,j="0",1==s.stacking&&(s.isLastSeries||(l=I+M-o)),m=l),delete t.x,delete t.y,t.width=1e3,t.x=0,t.y=0,delete t.stacking,t.height=1e3,delete t.isColumn,t.fill=z,t.fill_opacity=B,t.stroke=z,t["stroke-width"]=0,D=1;D<=4;D++)D%2==0?(S=n,C=d,T=m,L=g,f=v,b=x):(S=l,C=_,T=u,L=p,f=k,b=P),D<3&&(f=X,b=23592600),D<4&&(a=["M",Math.round(y),Math.round(w)]),a.push("ae",Math.round(S),Math.round(C),Math.round(o),Math.round(r),f,b),D>2&&(a.push("l",Math.round(T),Math.round(L)),t.fill="none",t.color=N,t.color2=N,t.colors="30% "+Y+",70% "+Y,t.angle=j),3!=D&&(a.push("e"),a=a.join(" "),t.d=a,t.id=V+"_Region_"+(D-1).toString(),4==D&&(t.id=V+"_Region_"+(D-2).toString()),A=document.createElement("v:shape"),O=e(A),this.applyVMLStyle(O,t),O.appendTo(i)),y=h,w=c},_getAttrVal:function(t,i,s){i="y"==(i="x"==i?"left":i)?"top":i;var a=e(t).attr(i),o=a||e(t).css(i);return null!=o?o:s},_setAttr:function(t,i){var s,a,o;i.transform&&(a=(s=i.transform).slice(s.indexOf("(")+1,s.indexOf(")")).split(","),i.x=a[0],i.y=a[1]),(o=e(t)).length>0&&this.changeVMLStyle(o,i)},createGradientElement:function(e,t){var i,s,a,o;if("[object Array]"==Object.prototype.toString.call(t))for(i="gradient ",s="",a=0,o=t.length-1;a<t.length;a++,o--)i+=s+t[a].colorStop+" "+t[o].color,s=",";else i=t;return i},setSpanAttr:function(t,i,s){var a={size:t["font-size"]>0?t["font-size"]+"px":t["font-size"],fontStyle:t["font-style"],fontFamily:t["font-family"]},o=ej.EjSvgRender.utils._measureText(i,null,a);e(s).css("white-space","nowrap"),"middle"===t["text-anchor"]?t.x=Math.round(t.x-o.width/2):"end"===t["text-anchor"]&&(t.x=Math.round(t.x-o.width)),t.y=Math.round(t.y-a.size.replace("px","")),this.applyVMLStyle(s,t)},drawText:function(t,i,s,a){var o,r,l,n,d,h,c,u,p,m=document,g=e("#"+t.id);if(g.length>0)this._textAttrReplace(t,i,a,g);else if(t.id.indexOf("YAxisTitle")>0&&!this.isdocmode8)t.on=!0,(o=document.createElement("v:line")).style.behavior="url(#default#VML)",o.style.display="inline-block",r=ej.EjSvgRender.utils._measureText(i,null,null),o.setAttribute("to",(t.x-1).toString()+","+(t.y-r.width/2).toString()),o.setAttribute("from",t.x.toString()+","+t.y.toString()),(l=document.createElement("v:path")).setAttribute("textpathok",!0),(n=document.createElement("v:textpath")).setAttribute("on",!0),n.setAttribute("string",i),n.style["font-style"]=t["font-style"],n.style["font-size"]=t["font-size"],n.style["font-family"]=t["font-family"],o.appendChild(l),o.appendChild(n),e(o).appendTo(s);else{if(d=m.createElement("span"),h=e(d),"array"==jQuery.type(i))for(this.setSpanAttr(t,i,h),c=0;c<i.length;c++)u=m.createElement("span"),e(u).html(i[c]),e(u).appendTo(d),p=m.createElement("br"),e(p).appendTo(d);else this.setSpanAttr(t,i,h),h.html(i);h.appendTo(s)}},_textAttrReplace:function(t,i,s,a){var o,r,l;if("array"==jQuery.type(i))if(o=e("#"+t.id).children("span"),this.setSpanAttr(t,i,a),o.length>0&&o.length==i.length)for(r=0;r<o.length;r++)l=o[r],e(l).text(i[r]);else e("#"+t.id).remove(),this.drawText(t,i,this.gTransToolEle,s);else this.setSpanAttr(t,i,a),a.text(i)},drawImage:function(t,i){var s=document.createElement("img"),a=e(s);a.css({position:"absolute"}),e.each(t,(function(e,t){"href"==e&&(e="src"),a.attr(e,t)})),a.appendTo(i)},createDefs:function(){},createGroup:function(t){var i,s=document.createElement("div");return ej.util.isNullOrUndefined(t.transform)||(i=t.transform.slice(t.transform.indexOf("(")+1,t.transform.indexOf(")")).split(","),e(s).css({position:"absolute",left:i[0]+"px",top:i[1]+"px"})),t.cursor&&e(s).css({cursor:t.cursor}),e.each(t,(function(t,i){"transform"!==t&&"clip-path"!=t&&e(s).attr(t,i)})),s},createText:function(t,i){var s=document.createElement("span");return e(s).attr(t),ej.util.isNullOrUndefined(i)||(s.textContent=i),s},drawAxesBoundsClipPath:function(t,i,s){var a,o,r=e(t);r.removeAttr("clip-path"),o=this._getTransform(i.xAxis,i.yAxis,s),a={id:t.id+"_ClipRect",x:0,y:0,width:o.width,height:o.height,fill:"white","stroke-width":1,stroke:"transparent"},this.drawClipPath(a,t),r.attr("clip-path","url(#"+a.id+")")},getAttrVal:function(t,i,s){var a=e(t).attr(i);return null!=a?a:s},round:function(e,t,i){return t*(i?Math.ceil(e/t):Math.floor(e/t))},hexFromRGB:function(t){var i=t.R,s=t.G,a=t.B;if(t.A)return"rgba("+i.toString()+","+s.toString()+","+a.toString()+","+t.A+")";i=t.R,s=t.G,a=t.B;var o=[i.toString(16),s.toString(16),a.toString(16)];return e.each(o,(function(e,t){1===t.length&&(o[e]="0"+t)})),"#"+o.join("").toUpperCase()},hexToRGB:function(e){var t;return 1==/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.test(e)?(t=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.exec(e))?{R:parseInt(t[1]),G:parseInt(t[2]),B:parseInt(t[3]),A:t[4]}:null:(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?{R:parseInt(t[1],16),G:parseInt(t[2],16),B:parseInt(t[3],16)}:null},checkColorFormat:function(e){return/(rgba?\((?:\d{1,3}[,\)]){3}(?:\d+\.\d+\))?)|(^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$)/gim.test(e)},createDelegate:function(e,t){return function(i){t.apply(e,[i,this])}},drawClipPath:function(t,i){if(-1==t.id.indexOf("ChartAreaClipRect")){var s=Math.round(t.x)+"px",a="rect("+Math.round(t.y)+"px "+(Math.round(t.width)+Math.round(t.x))+"px "+(Math.round(t.y)+Math.round(t.height))+"px "+s+")";e(i).css("position","absolute").css("clip",a)}},drawCircularClipPath:function(t,i){var s=Math.round(t.r),a=Math.round(t.cx),o=Math.round(t.cy);if(-1==t.id.indexOf("_ClipRect")){var r="rect("+(o-s)+"px "+(a+s)+"px "+(o+s)+"px "+(a-s)+"px)";e(i).css("position","absolute").css("clip",r)}},append:function(t,i){e(t).appendTo(i)}}}(jQuery),ej.EjCanvasRender=function(e){this.svgObj=document.createElement("canvas"),this._rootId=jQuery(e).attr("id"),this.svgObj.setAttribute("id",this._rootId+"_canvas"),this.ctx=this.svgObj.getContext("2d")},function(e){ej.EjCanvasRender.prototype={drawPath:function(e,t,i){var s,a,o,r,l,n,d,h,c,u=!!e.hasStackingInnerRadius&&e.hasStackingInnerRadius,p=e.d.split(" "),m=e["stroke-width"];if(e.lgndCtx){for(r=this.lgndCtx,this.lgndCtx=void 0!=t?t:this.lgndCtx,this.lgndCtx.save(),this.lgndCtx.beginPath(),i&&this.lgndCtx.translate(i[0],i[1]),this.lgndCtx.globalAlpha=e.opacity?e.opacity:e["fill-opacity"],this.lgndCtx.lineWidth=e["stroke-width"],this.lgndCtx.strokeStyle=e.stroke,l=0;l<p.length;l+=3)switch(n=parseFloat(p[l+1]),d=parseFloat(p[l+2]),p[l]){case"M":this.lgndCtx.moveTo(n,d);break;case"L":this.lgndCtx.lineTo(n,d);break;case"C":this.lgndCtx.bezierCurveTo(n,d,parseFloat(p[l+3]),parseFloat(p[l+4]),parseFloat(p[l+5]),parseFloat(p[l+6])),l+=4;break;case"A":this.lgndCtx.arc(parseFloat(p[l-5]),parseFloat(p[l-4]),n,0,2*Math.PI,!1),l+=5;break;case"a":this.lgndCtx.beginPath(),h=parseFloat(p[l-2])+n,c=p[l-1],this.lgndCtx.arc(h,c,n,0,2*Math.PI,!1),l+=5;break;case"Z":this.lgndCtx.fillStyle=e.fill,this.lgndCtx.fill(),l-=2;break;case"Q":this.lgndCtx.quadraticCurveTo(n,d,parseFloat(p[l+3]),parseFloat(p[l+4])),l+=2}"none"!=e.fill&&void 0!=e.fill&&(this.lgndCtx.fillStyle=e.fill,this.lgndCtx.fill()),this.lgndCtx.stroke(),this.lgndCtx.restore(),this.lgndCtx=r}else{for(s=this.ctx,this.ctx=void 0!=t?t:this.ctx,this.ctx.save(),this.ctx.beginPath(),i&&this.ctx.translate(i[0],i[1]),this.ctx.globalAlpha=e.opacity?e.opacity:e["fill-opacity"],a=!0,this.ctx.lineWidth=m,(o=!!e["stroke-dasharray"]&&e["stroke-dasharray"].split(","))&&this.ctx.setLineDash(o),this.ctx.strokeStyle=e.stroke,l=0;l<p.length;l+=3)switch(n=parseFloat(p[l+1]),d=parseFloat(p[l+2]),p[l]){case"M":e.innerR&&!u||e.cx||this.ctx.moveTo(n,d);break;case"L":(!e.innerR||u)&&this.ctx.lineTo(n,d);break;case"C":this.ctx.bezierCurveTo(n,d,parseFloat(p[l+3]),parseFloat(p[l+4]),parseFloat(p[l+5]),parseFloat(p[l+6])),l+=4;break;case"A":e.innerR?a&&(this.ctx.arc(e.x,e.y,e.radius,e.start,e.end,e.counterClockWise),this.ctx.arc(e.x,e.y,e.innerR,e.end,e.start,!e.counterClockWise),a=!1):e.cx?this.ctx.arc(e.cx,e.cy,e.radius,0,2*Math.PI,e.counterClockWise):(this.ctx.moveTo(e.x,e.y),this.ctx.arc(e.x,e.y,e.radius,e.start,e.end,e.counterClockWise),this.ctx.lineTo(e.x,e.y)),l+=5;break;case"Q":this.ctx.bezierCurveTo(n,d,parseFloat(p[l+1]),parseFloat(p[l+2]),parseFloat(p[l+3]),parseFloat(p[l+4])),l+=2;break;case"z":this.ctx.closePath()}"none"!=e.fill&&void 0!=e.fill&&(this.ctx.fillStyle=e.fill,this.ctx.fill()),m>0&&this.ctx.stroke(),this.ctx.restore(),this.ctx=s}},_setLinePathStyle:function(e,t){var i,s=e["stroke-width"];t&&this.ctx.translate(t[0],t[1]),this.ctx.globalAlpha=e.opacity?e.opacity:e["fill-opacity"],this.ctx.lineWidth=s,(i=!!e["stroke-dasharray"]&&e["stroke-dasharray"].split(","))&&this.ctx.setLineDash(i),this.ctx.strokeStyle=e.stroke,"none"!=e.fill&&void 0!=e.fill&&(this.ctx.fillStyle=e.fill,this.ctx.fill())},drawRect:function(e,t){var i,s=this.ctx,a=e.rx;this.ctx=t&&t.canvas?t:this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.globalAlpha=e.opacity,this.ctx.lineWidth=e["stroke-width"],(i=!!e["stroke-dasharray"]&&e["stroke-dasharray"].split(","))&&this.ctx.setLineDash(i),this.ctx.strokeStyle=e.stroke,this.ctx.rect(e.x,e.y,e.width,e.height),null!=a&&a>=0?this.drawCornerRadius(e):("none"==e.fill&&(e.fill="transparent"),this.ctx.fillStyle=e.fill,this.ctx.fillRect(e.x,e.y,e.width,e.height),this.ctx.stroke()),e.id.indexOf("Series")>=0&&this.ctx.clip(),this.ctx.restore(),this.ctx=s},drawCylinder:function(e,t,i){var s,a,o,r,l,n=this.ctx;this.ctx=t&&t.canvas?t:this.ctx,this.ctx.save(),s=ej.datavisualization.Chart.prototype.colorNameToHex(e.fill),a={svgRenderer:ej.EjSvgRender.prototype};var d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I,R=Math.PI,M=2*R+.1,E=e.x,V=e.y,N=e.width,B=e.height,F=M;for(this.ctx.fillStyle=ej.Ej3DRender.prototype.polygon3D.prototype.applyZLight(s,a),this.ctx.lineWidth=0,this.ctx.strokeStyle=ej.Ej3DRender.prototype.polygon3D.prototype.applyZLight(s,a),this.ctx.globalAlpha=e.opacity,1==i.isColumn?(P=E,D=N+E,A=j=0,g=m=E+(u=N/2),y=_=V-(p=u/4),v=E,b=E+N,f=x=V+B-p,k=0,L=R,O=-u,I=p,(i.stacking=!0)&&(i.isLastSeries||(y=_=V+p))):(P=D=0,j=B+V,A=V,v=m=E+(u=(p=B/2)/4),b=g=E+N+u,x=V+B,y=V,f=_=V+p,k=R/2,L=1.5*R,(i.stacking=!0)&&(i.isLastSeries||(b=g=E+N-u)),O=u=-u,I=-(p=-p)),o=ej.Ej3DRender.prototype.polygon3D.prototype.applyXLight(s,a),(r=this.ctx.createLinearGradient(P,A,D,j)).addColorStop(0,s),r.addColorStop(.3,o),r.addColorStop(.7,o),r.addColorStop(1,s),l=1;l<=4;l++){for(d=0,l<4&&this.ctx.beginPath(),l%2==0?(w=g,S=f,C=v,T=y):(w=m,S=_,C=b,T=x),4==l&&(u=O,p=I,this.ctx.fillStyle=r),l>2&&(d=k,F=L);d<=F;d+=.1)h=w-u*Math.cos(d),c=S+p*Math.sin(d),0===d?this.ctx.moveTo(h,c):this.ctx.lineTo(h,c);l>2&&this.ctx.lineTo(C,T),3!=l&&(this.ctx.stroke(),this.ctx.fill())}e.id.indexOf("Series")>=0&&this.ctx.clip(),this.ctx.restore(),this.ctx=n},drawCornerRadius:function(e){var t=e.rx,i=e.x,s=e.y,a=e.width,o=e.height;"none"==e.fill&&(e.fill="transparent"),this.ctx.fillStyle=e.fill,a<2*t&&(t=a/2),o<2*t&&(t=o/2),this.ctx.beginPath(),this.ctx.moveTo(i+a-t,s),this.ctx.arcTo(i+a,s,i+a,s+o,t),this.ctx.arcTo(i+a,s+o,i,s+o,t),this.ctx.arcTo(i,s+o,i,s,t),this.ctx.arcTo(i,s,i+a,s,t),this.ctx.closePath(),this.ctx.fill(),this.ctx.stroke()},createGradientElement:function(e,t){var i,s,a,o,r,l=this.ctx;if("[object Array]"==Object.prototype.toString.call(t)){for(s=l.createLinearGradient(0,0,0,this.svgObj.height),a=0;a<=t.length-1;a++)o=t[a].color,r=t[a].colorStop.slice(0,-1),r=parseInt(r)/100,s.addColorStop(r,o);i=s}else i=t;return i},drawLine:function(e){this.ctx.save(),this.ctx.beginPath(),this.ctx.lineWidth=e["stroke-width"],this.ctx.strokeStyle=e.stroke,this.ctx.moveTo(e.x1,e.y1),this.ctx.lineTo(e.x2,e.y2),this.ctx.stroke(),this.ctx.restore()},drawText:function(t,i,s){var a,o,r,l,n,d,h;ej.util.isNullOrUndefined(t["font-weight"])||"regular"!=t["font-weight"].toLowerCase()||(t["font-weight"]="normal");var c=t["font-style"].toLowerCase()+" "+t["font-weight"]+" "+t["font-size"]+" "+t["font-family"],u=t["text-anchor"],p=void 0!==t.opacity?t.opacity:1;if("middle"==u&&(u="center"),t.lgndCtx)this.lgndCtx.save(),this.lgndCtx.fillStyle=t.fill,this.lgndCtx.font=c,this.lgndCtx.textAlign=u,this.lgndCtx.globalAlpha=p,"middle"==t["dominant-baseline"]&&(this.lgndCtx.textBaseline="center"),t.labelRotation?(this.lgndCtx.translate(t.x,t.y),this.lgndCtx.rotate(t.labelRotation*Math.PI/180),this.lgndCtx.fillText(i,0,0)):this.lgndCtx.fillText(i,t.x,t.y),this.lgndCtx.restore();else{if(this.ctx.save(),this.ctx.fillStyle=t.fill,this.ctx.font=c,this.ctx.textAlign=u,this.ctx.globalAlpha=p,t.baseline&&(this.ctx.textBaseline=t.baseline),t.labelRotation)if(a=0,!(o=t.labelRotation)||-1==t.id.indexOf("XLabel")&&-1==t.id.indexOf("YLabel"))this.ctx.translate(t.x,t.y),this.ctx.rotate(t.labelRotation*Math.PI/180),this.ctx.fillText(i,0,0);else{r="rotate("+t.labelRotation.toString()+"deg)",e(t).attr("rotateAngle",r);var m=s||i,g=ej.EjSvgRender.utils._measureText(m,null,c).height,_=this.createText(t,m);e(document.body).append(_),l=_.getBoundingClientRect(),e(_).remove(),a=l.height,o<0&&(o=360+o),n=t.transform.split(","),u=void 0!=u?u:"center";var f=parseFloat(n[1]),b=parseFloat(n[2]),v=a/2;if("outside"==t.labelPosition?"start"==u?this.ctx.translate(f,b+v-(o<0&&o>-180||o>180?a/2:(a-g)/2)):"end"==u?this.ctx.translate(f,b+v-(o<0&&o>-180||o>180?a/2:-(a-g)/2)):this.ctx.translate(f,b+v):"start"==u?this.ctx.translate(f,b-v-(o<0&&o>-180||o>180?a/2:(a-g)/2)):"end"==u?this.ctx.translate(f,b-v-(o<0&&o>-180||o>180?a/2:-(a-g)/2)):this.ctx.translate(f,b-v),this.ctx.textAlign=u,this.ctx.rotate(o*(Math.PI/180)),"object"==typeof i)for(d=i.length,h=0;h<d;h++)y=ej.EjSvgRender.utils._measureText(i[h],null,c).height,this.ctx.fillText(i[h],0,h*y);else this.ctx.fillText(i,0,0)}else if("object"==typeof i||t.isTrackball)if(t.isTrackball&&"string"==typeof i)this.ctx.fillText(i,t.x,t.y);else for(d=i.length,h=0;h<d;h++){var x=ej.util.isNullOrUndefined(t.padding)?0:t.padding,y=ej.EjSvgRender.utils._measureText(i[h],null,c).height,w=t.isTrackball?Number(parseInt(t["font-size"])):y;this.ctx.fillText(i[h],t.x,t.y+(w+x)*h)}else this.ctx.fillText(i,t.x,t.y);this.ctx.restore()}},drawZoomRect:function(t,i){var s,a,o,r,l=0,n=0,d=e("<div id="+t.id+"></div>"),h=i.model.m_AreaBounds;t.x<h.X||t.x+l+t.width>l+e(this.svgObj).width()-20?(s=this.prevWidth,o=this.prevX):(s=this.prevWidth=t.width,o=this.prevX=t.x+l),t.y<h.Y||t.y+n+t.height>n+h.Y+h.Height?(a=this.prevHeight,r=this.prevY):(a=this.prevHeight=t.height,r=this.prevY=t.y+n),e(d).css({width:s,height:a,top:r,left:o,"background-color":t.fill,"border-style":"solid",position:"absolute","border-color":t.stroke,"border-width":t["stroke-width"]}),document.getElementById("chartContainer_"+this._rootId).appendChild(d[0])},zoomButton:function(t,i,s){var a,o,r,l,n,d,h,c,u,p=s.svgObj?s.svgObj:s.svgObject,m=s._rootId?s._rootId:s._id;a="zoom"==i?"_Zoom":"zoomIn"==i?"_ZoomIn":"_ZoomOut",o={left:0,top:0},e("#"+t.zoomId).length<=0?(u=e("<div id="+p.id+a+"Btn></div>"),e(u).css({width:t.width,height:t.height,top:t.top+o.top,left:t.left+o.left,"background-color":t.fill,"border-style":"solid",position:"absolute","border-radius":"0.4em","border-color":t.fill,"box-sizing":"content-box","z-index":2e3}),r="http://www.w3.org/2000/svg",(l=document.createElementNS(r,"svg")).setAttribute("id",t.zoomId),l.setAttribute("width",25),l.setAttribute("height",25),"zoom"==i?(n="M26.101,22.893l-6.605-6.174c1.414-2.781,0.897-6.267-1.496-8.504c-2.901-2.711-7.448-2.56-10.161,0.341    c-2.712,2.9-2.56,7.45,0.341,10.163c2.426,2.266,6,2.523,8.694,0.853l6.579,6.151L26.101,22.893z M10.186,16.571    c-1.715-1.604-1.805-4.293-0.203-6.009c1.605-1.715,4.295-1.805,6.009-0.201c1.715,1.603,1.805,4.293,0.202,6.007    C14.59,18.084,11.901,18.175,10.186,16.571",d="translate(-3,-3)"):"zoomIn"==i?(n="M9.0983096,4.2999878L9.0983096,9.3999634 3.9983783,9.3999634 3.9983783,12.699951 9.0983096,12.699951 9.0983096,17.799988 12.398249,17.799988 12.398249,12.699951 17.49818,12.699951 17.49818,9.5 12.398249,9.5 12.398249,4.2999878z M10.998276,0C14.298215,0 17.49818,1.3999634 19.69813,4.1999512 22.79809,8.0999756 22.79809,13.5 19.998144,17.399963L28.597992,28.299988 23.898081,32 15.398205,21.199951C10.898271,23.099976 5.5983606,21.899963 2.3983956,17.899963 -1.4015366,13.099976 -0.60156059,6.0999756 4.1983567,2.3999634 6.1983276,0.79998779 8.5983163,0 10.998276,0z",d="translate(4,4) scale(0.6)"):(n="M3.9983433,9.5L3.9983433,12.799988 17.598165,12.799988 17.598165,9.5z M10.998234,0C14.298169,0 17.498131,1.3999634 19.698108,4.1999512 22.798034,8.0999756 22.798034,13.5 19.998092,17.399963L28.597994,28.299988 23.898054,32 15.398188,21.199951C10.898259,23.099976 5.5983546,21.899963 2.398393,17.899963 -1.4015351,13.099976 -0.60155994,6.0999756 4.1983522,2.3999634 6.1983207,0.79998779 8.5983074,0 10.998234,0z",d="translate(4,4) scale(0.6)"),h={id:a+"Path",fill:t.iconColor,transform:d,d:n},c=document.createElementNS(r,"path"),e(c).attr(h).appendTo(l),u[0].appendChild(l),document.getElementById("chartContainer_"+m).appendChild(u[0])):(u=document.getElementById(p.id+a+"Btn"),e(u).css({top:t.top+o.top,left:t.left+o.left}))},panButton:function(t,i){var s,a,o,r,l,n=i.svgObj?i.svgObj:i.svgObject,d=i._rootId?i._rootId:i._id,h=0,c=0;e("#"+t.panId).length<=0?(l=e("<div id="+n.id+"_PanBtn></div>"),e(l).css({width:t.width,height:t.height,top:t.top+c,left:t.left+h,"background-color":t.fill,"border-style":"solid",position:"absolute","border-radius":"0.4em","border-color":t.fill,"box-sizing":"content-box","z-index":2e3}),s="http://www.w3.org/2000/svg",(a=document.createElementNS(s,"svg")).setAttribute("id",t.panId),a.setAttribute("width",25),a.setAttribute("height",25),(o={id:"panPath",fill:t.iconColor,transform:"translate(-3,-3)"}).points="26.105,16 21.053,12.211 21.053,14.737 17.263,14.737 17.263,10.947 19.834,10.947 16.044,5.895 12.255,10.947 14.737,10.947 14.737,14.737 10.947,14.737 10.947,12.211 5.895,16 10.947,19.789 10.947,17.263 14.737,17.263 14.737,21.053 12.255,21.053 16.044,26.105 19.834,21.053 17.263,21.053 17.263,17.263 21.053,17.263 21.053,19.789",r=document.createElementNS(s,"polygon"),e(r).attr(o).appendTo(a),l[0].appendChild(a),document.getElementById("chartContainer_"+d).appendChild(l[0])):(l=document.getElementById(n.id+"_PanBtn"),e(l).css({top:t.top+c,left:t.left+h}))},resetZoom:function(t,i){var s,a,o,r,l,n,d,h,c,u,p,m=i.svgObj?i.svgObj:i.svgObject,g=i._rootId?i._rootId:i._id,_=0,f=0;e("#"+t.resetZoomId).length<=0?(p=e("<div id="+m.id+"_ResetZoom></div>"),e(p).css({width:t.width,height:t.height,top:t.top+f,left:t.left+_,"background-color":t.fill,"border-style":"solid","border-radius":"0.4em",position:"absolute","border-color":t.fill,"box-sizing":"content-box","z-index":2e3}),s="http://www.w3.org/2000/svg",(a=document.createElementNS(s,"svg")).setAttribute("id",t.resetZoomId),a.setAttribute("width",25),a.setAttribute("height",25),(o={id:"p1",fill:t.iconColor,transform:"translate(-3,-3)"}).points="11.895,18.398 8.061,22.23 5.796,19.967 5.796,26.283 12.112,26.283 9.848,24.018 13.682,20.186",r=document.createElementNS(s,"polygon"),e(r).attr(o).appendTo(a),(l={id:"p2",fill:t.iconColor,transform:"translate(-3,-3)"}).points="19.691,6.072 21.955,8.337 18.121,12.172 19.908,13.959 23.742,10.123 26.007,12.389 26.007,6.072",n=document.createElementNS(s,"polygon"),e(n).attr(l).appendTo(a),(d={id:"p3",fill:t.iconColor,transform:"translate(-3,-3)"}).points="11.895,13.958 13.682,12.172 9.848,8.337 12.112,6.072 5.796,6.072 5.796,12.389 8.061,10.123",h=document.createElementNS(s,"polygon"),e(h).attr(d).appendTo(a),(c={id:"p4",fill:t.iconColor,transform:"translate(-3,-3)"}).points="19.908,18.396 18.121,20.186 21.955,24.018 19.691,26.283 26.007,26.283 26.007,19.967 23.741,22.23",u=document.createElementNS(s,"polygon"),e(u).attr(c).appendTo(a),p[0].appendChild(a),document.getElementById("chartContainer_"+g).appendChild(p[0])):(p=document.getElementById(m.id+"_ResetZoom"),e(p).css({top:t.top+f,left:t.left+_}))},drawCrosshairLine:function(t,i){var s=e("<div id="+t.id+"></div>");e(s).css({width:t.width,height:t.height,left:t.left,top:t.top,"border-style":t.style,opacity:t.opacity,visibility:"visible","border-color":t.stroke,"border-width":t["stroke-width"],position:t.position}),e(i).append(s[0])},drawCrosshairlabel:function(t,i,s){e("#"+this._rootId).offset();var a,o=0,r=0;e("#"+t.id).length>0?(a=document.getElementById(t.id),e(a).css({width:t.width-5,height:t.height-5,left:i.x+o-5,top:i.y+r-15,visibility:"visible",display:t.display}),document.getElementById(t.id).textContent=s):(a=e("<div id="+t.id+" style='position: absolute; z-index: 13000;'></div>"),e(a).css({color:i.fill,"font-family":i["font-family"],"font-size":i["font-size"],"font-weight":i["font-weight"],"font-style":i["font-style"],"background-color":t.fill,"border-style":"solid","border-color":t.stroke,"border-width":t["stroke-width"],opacity:t["fill-opacity"],"text-align":"center"}),document.getElementById(this._rootId).appendChild(a[0]))},createCrosshairCanvas:function(){var t,i=document.getElementById(this._rootId+"_canvas"),s=(e("#"+this._rootId).offset(),0),a=0;return e("#secondCanvas").length?t=document.getElementById("secondCanvas"):(t=document.createElement("canvas"),e(document).find("#"+this.svgObj.id+"_CrosshairGroup").append(t),e(t).attr({id:"secondCanvas",width:i.width,height:i.height,top:a,left:s}),e(t).css({width:i.width,height:i.height,top:a,left:s})),t},drawTrackToolTip:function(t,i,s,a){var o,r,l,n=this.svgObj.offsetLeft,d=this.svgObj.offsetTop;if(e("#"+t.id).length>0)if(l=document.getElementById(t.id),e(l).css({left:t.x+n,top:t.y+d,visibility:"visible","border-box":"content-box","background-color":t.fill,color:i.fill,"border-color":t.stroke,"border-width":t["stroke-width"]}),"array"==jQuery.type(s)){for(o="",r=0;r<s.length;r++)o=o+s[r]+"</br>";e("#"+t.id).html(o)}else e("#"+t.id).html(s);else l=e("<div id="+t.id+" style='position: absolute; z-index: 13000;'></div>"),e(l).css({color:i.fill,"font-family":i["font-family"],"font-size":i["font-size"],"font-weight":i["font-weight"],"font-style":i["font-style"],width:t.width,height:t.height-a-2*t["stroke-width"],"background-color":t.fill,"border-style":"solid","text-align":"center",padding:"0px","padding-top":a/2+"px","padding-bottom":a/2+"px","border-color":t.stroke,"border-width":t["stroke-width"],opacity:t["fill-opacity"]}),document.getElementById(this._rootId).appendChild(l[0])},trackSymbol:function(t,i,s,a,o){var r,l,n,d,h,c,u,p=o.model.m_AreaBounds;if(e("#"+this._rootId).offset(),i.startX>=p.X&&i.startX<=p.X+p.Width&&i.startY>=p.Y&&i.startY<=p.Y+p.Height)if(r=t.SeriesIndex,l=t.PointIndex,"bubble"==o.model.series[r].type.toLowerCase()&&(x=2*o.model.series[r]._visiblePoints[l].radius+5,t.Style.BorderColor=t.Style.Color),"scatter"==o.model.series[r].type.toLowerCase()&&ej.util.isNullOrUndefined(a))n={cx:i.startX-2,cy:i.startY-2,r:t.ShapeSize.width/2,fill:t.Style.Color,opacity:t.Style.Opacity,stroke:t.Style.BorderColor},this.drawCircle(n,null);else{e("#canvas_trackSymbol").length>0?(d=e("#canvas_trackSymbol"),e(d).css({visibility:"visible",display:"block"})):d=e("<div id=canvas_trackSymbol></div>");var m={left:i.startX,top:i.startY},g=e("<div id="+t.ID+"></div>"),_=m.left-(x||t.ShapeSize.width),f=m.top-(x||t.ShapeSize.height);switch(e(g).css({left:_,top:f,"box-sizing":"content-box",position:"absolute",visibility:"visible",opacity:t.Style.Opacity,"z-index":200}),h=t.ShapeSize,t.symbol=g,c={},s.toLowerCase()){case"circle":e(g).css({width:x||t.ShapeSize.width+"px",height:x||t.ShapeSize.height+"px",left:x?_+x/2:_+t.ShapeSize.width/2-t.Style.BorderWidth+"px",top:x?f+x/2:f+t.ShapeSize.height/2-t.Style.BorderWidth+"px","border-style":"solid","background-color":t.Style.Color,"border-color":t.Style.BorderColor,"border-width":t.Style.BorderWidth,"border-radius":"100%"});break;case"rectangle":e(g).css({width:t.ShapeSize.width,height:t.ShapeSize.height,left:_+t.ShapeSize.width/2-t.Style.BorderWidth/2,top:f+t.Style.BorderWidth/2,"border-style":"solid","background-color":t.Style.Color,"border-color":t.Style.BorderColor,"border-width":t.Style.BorderWidth});break;case"diamond":b="M "+(i.startX+-h.width/2)+" "+i.startY+" L "+i.startX+" "+(i.startY+-t.ShapeSize.height/2)+" L "+(i.startX+t.ShapeSize.width/2)+" "+i.startY+" L "+i.startX+" "+(i.startY+t.ShapeSize.height/2)+" L "+(i.startX+-t.ShapeSize.width/2)+" "+i.startY+"z",c.direction=b,this.drawSvgShape(t,c);break;case"triangle":b="M "+(i.startX+-h.width/2)+" "+(i.startY+h.height/2)+" L "+i.startX+" "+(i.startY+-h.height/2)+" L "+(i.startX+h.width/2)+" "+(i.startY+h.height/2)+" L "+(i.startX+-h.width/2)+" "+(i.startY+h.height/2)+"z",c.direction=b,this.drawSvgShape(t,c);break;case"invertedtriangle":var b="M "+(i.startX+-h.width/2)+" "+(i.startY+h.height/2)+" L "+i.startX+" "+(i.startY+-h.height/2)+" L "+(i.startX+h.width/2)+" "+(i.startY+h.height/2)+" L "+(i.startX+-h.width/2)+" "+(i.startY+h.height/2)+"z",v="rotate(180,"+i.startX+","+i.startY+")";c.direction=b,c.rotate=v,this.drawSvgShape(t,c);break;case"cross":b="M "+(i.startX+-h.width/2)+" "+i.startY+" L "+(i.startX+h.width/2)+" "+i.startY+" M "+i.startX+" "+(i.startY+h.height/2)+" L "+i.startX+" "+(i.startY+-h.height/2)+"z",c.direction=b,this.drawSvgShape(t,c);break;case"star":b="M "+(i.startX+h.width/3)+" "+(i.startY+-h.height/2)+" L "+(i.startX+-h.width/2)+" "+(i.startY+h.height/6)+" L "+(i.startX+h.width/2)+" "+(i.startY+h.height/6)+" L "+(i.startX+-h.width/3)+" "+(i.startY+-h.height/2)+" L "+i.startX+" "+(i.startY+h.height/2)+" L "+(i.startX+h.width/3)+" "+(i.startY+-h.height/2)+"z",c.direction=b,this.drawSvgShape(t,c);break;case"hexagon":b="M "+(i.startX+-h.width/2)+" "+i.startY+" L "+(i.startX+-h.width/4)+" "+(i.startY+-h.height/2)+" L "+(i.startX+h.width/4)+" "+(i.startY+-h.height/2)+" L "+(i.startX+h.width/2)+" "+i.startY+" L "+(i.startX+h.width/4)+" "+(i.startY+h.height/2)+" L "+(i.startX+-h.width/4)+" "+(i.startY+h.height/2)+" L "+(i.startX+-h.width/2)+" "+i.startY+"z",c.direction=b,this.drawSvgShape(t,c);break;case"wedge":b="M "+(i.startX-h.width)+" "+i.startY+" L "+(i.startX+h.width)+" "+(i.startY+-h.height/2)+" L "+(i.startX+h.width/4*3)+" "+i.startY+" L "+(i.startX+h.width)+" "+(i.startY+h.height/2)+" L "+(i.startX-h.width)+" "+i.startY+"z",c.direction=b,this.drawSvgShape(t,c);break;case"trapezoid":b="M "+(i.startX+-h.width/2)+" "+i.startY+" L "+(i.startX+-h.width/2)+" "+(i.startY+-h.height/4)+" L "+(i.startX+-h.width/2+h.width)+" "+(i.startY+-h.height/2)+" L "+(i.startX+-h.width/2+h.width)+" "+(i.startY+h.height/2)+" L "+(i.startX+-h.width/2)+" "+(i.startY+h.height/4)+" L "+(i.startX+-h.width/2)+" "+i.startY+"z",c.direction=b,this.drawSvgShape(t,c);break;case"uparrow":b="M "+(i.startX-h.width/2+h.width/4)+" "+(i.startY-h.height/2+h.height)+" L "+(i.startX-h.width/2+h.width/4)+" "+(i.startY-h.height/2+h.height/2)+" L "+(i.startX-h.width/2)+" "+(i.startY-h.height/2+h.height/2)+" L "+i.startX+" "+(i.startY-h.height/2)+" L "+(i.startX+h.width/2)+" "+(i.startY-h.height/2+h.height/2)+" L "+(i.startX+h.width/2-h.width/4)+" "+(i.startY-h.height/2+h.height/2)+" L "+(i.startX+h.width/2-h.width/4)+" "+(i.startY-h.height/2+h.height)+" L "+(i.startX-h.width/2+h.width/4)+" "+(i.startY-h.height/2+h.height)+"z",c.direction=b,this.drawSvgShape(t,c);break;case"downarrow":b="M "+(i.startX-h.width/2+h.width/4)+" "+(i.startY-h.height/2)+" L "+(i.startX+h.width/2-h.width/4)+" "+(i.startY-h.height/2)+" L "+(i.startX+h.width/2-h.width/4)+" "+(i.startY-h.height/2+h.height/2)+" L "+(i.startX+h.width/2)+" "+(i.startY-h.height/2+h.height/2)+" L "+i.startX+" "+(i.startY-h.height/2+h.height)+" L "+(i.startX-h.width/2)+" "+(i.startY-h.height/2+h.height/2)+" L "+(i.startX-h.width/2+h.width/4)+" "+(i.startY-h.height/2+h.height/2)+" L "+(i.startX-h.width/2+h.width/4)+" "+(i.startY-h.height/2)+"z",c.direction=b,this.drawSvgShape(t,c);break;case"leftarrow":b="M "+(i.startX-h.width/2+h.width)+" "+(i.startY+h.height/4)+" L "+(i.startX-h.width/2+h.width)+" "+(i.startY+-h.height/4)+" L "+(i.startX-h.width/2+h.width/2)+" "+(i.startY+-h.height/4)+" L "+(i.startX-h.width/2+h.width/2)+" "+(i.startY+-h.height/2)+" L "+(i.startX-h.width/2)+" "+i.startY+" L "+(i.startX-h.width/2+h.width/2)+" "+(i.startY+h.height/2)+" L "+(i.startX-h.width/2+h.width/2)+" "+(i.startY+h.height/4)+" L "+(i.startX-h.width/2+h.width)+" "+(i.startY+h.height/4)+"z",c.direction=b,this.drawSvgShape(t,c);break;case"rightarrow":b="M "+(i.startX-h.width/2)+" "+(i.startY+h.height/4)+" L "+(i.startX-h.width/2)+" "+(i.startY+-h.height/4)+" L "+(i.startX-h.width/2+h.width/2)+" "+(i.startY+-h.height/4)+" L "+(i.startX-h.width/2+h.width/2)+" "+(i.startY+-h.height/2)+" L "+(i.startX-h.width/2+h.width)+" "+i.startY+" L "+(i.startX-h.width/2+h.width/2)+" "+(i.startY+h.height/2)+" L "+(i.startX-h.width/2+h.width/2)+" "+(i.startY+h.height/4)+" L "+(i.startX-h.width/2)+" "+(i.startY+h.height/4)+"z",c.direction=b,this.drawSvgShape(t,c);break;case"pentagon":var x=Math.sqrt(h.height*h.height+h.width*h.width)/2,y=ej.EjSvgRender.utils._getStringBuilder();for(u=0;u<=5;u++){var w=72*u,S=Math.PI/180*w,C=x*Math.cos(S),T=x*Math.sin(S);0==u?y.append("M "+(i.startX+C)+" "+(i.startY+T)+" "):y.append("L "+(i.startX+C)+" "+(i.startY+T)+" ")}y.append("z"),b=y.toString(),c.direction=b,this.drawSvgShape(t,c);break;case"ellipse":e(g).css({width:t.ShapeSize.width,height:t.ShapeSize.height/2,"border-style":"solid",left:_+t.ShapeSize.height/2-t.Style.BorderWidth/2,top:i.startY+m.top-t.ShapeSize.height+4,"background-color":t.Style.Color,"border-color":t.Style.BorderColor,"border-width":t.Style.BorderWidth,"-moz-border-radius":"50%","-webkit-border-radius":"50%","border-radius":"50%","border-box":"content-box"});break;case"horizline":e(g).css({width:t.ShapeSize.width,height:0,"border-style":"solid",left:_+t.ShapeSize.width/2,top:i.startY+m.top-1,"border-color":t.Style.BorderColor,"border-width":"2px","border-box":"content-box"});break;case"vertline":e(g).css({width:0,height:t.ShapeSize.height,"border-style":"solid",left:i.startX+m.left-1,top:f+t.ShapeSize.height/2-2,"border-color":t.Style.BorderColor,"border-width":"2px","border-box":"content-box"});break;default:e(g).css({width:t.ShapeSize.width,height:t.ShapeSize.height,"border-style":"solid","background-color":t.Style.Color,"border-color":t.Style.BorderColor,"border-width":t.Style.BorderWidth,"border-radius":"50px"})}d[0].appendChild(g[0]),(document.getElementById(this.svgObj.id+"_CrosshairGroup")||document.getElementById("chartContainer_"+this._rootId)).appendChild(d[0])}},drawSvgShape:function(t,i){var s,a,o=document.getElementById(this._rootId+"_canvas"),r=0,l=0,n="http://www.w3.org/2000/svg",d=document.createElementNS(n,"svg");d.setAttribute("id","mySVG"),d.setAttribute("width",e(o).width()),d.setAttribute("height",e(o).height()),e(t.symbol).css({left:r+"px",top:l+"px"}),(s={id:"svgPath","fill-opacity":t.Style.Opacity,"stroke-width":t.Style.BorderWidth,fill:t.Style.Color,transform:i.rotate,stroke:t.Style.BorderColor}).d=i.direction,a=document.createElementNS(n,"path"),e(a).attr(s).appendTo(d),t.symbol[0].appendChild(d)},drawCircle:function(e,t){var i,s,a;e.lgndCtx?(a=this.lgndCtx,this.lgndCtx=void 0!=t?t:this.lgndCtx,this.lgndCtx.save(),this.lgndCtx.beginPath(),this.lgndCtx.arc(e.cx,e.cy,e.r,0,2*Math.PI),this.lgndCtx.fillStyle=e.fill,this.lgndCtx.globalAlpha=e.opacity,this.lgndCtx.fill(),this.lgndCtx.lineWidth=e["stroke-width"],this.lgndCtx.strokeStyle=e.stroke,this.lgndCtx.stroke(),this.lgndCtx.restore(),this.lgndCtx=a):(i=this.ctx,this.ctx=void 0!=t?t:this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(e.cx,e.cy,e.r,0,2*Math.PI),this.ctx.fillStyle=e.fill,this.ctx.globalAlpha=e.opacity,this.ctx.fill(),this.ctx.lineWidth=e["stroke-width"],(s=!!e["stroke-dasharray"]&&e["stroke-dasharray"].split(","))&&this.ctx.setLineDash(s),this.ctx.strokeStyle=e.stroke,this.ctx.stroke(),this.ctx.restore(),this.ctx=i)},drawPolyline:function(e){var t,i;for(this.ctx.save(),this.ctx.beginPath(),t=e.points.split(" "),i=0;i<t.length-1;i++){var s=t[i].split(","),a=s[0],o=s[1];0==i?this.ctx.moveTo(a,o):this.ctx.lineTo(a,o)}this.ctx.lineWidth=e["stroke-width"],this.ctx.strokeStyle=e.stroke,this.ctx.stroke(),this.ctx.restore()},drawPolygon:function(){},setFillAttribute:function(){},setStrokeAttribute:function(){},changePathValue:function(){},drawArc:function(){},changeVMLStyle:function(){},applyVMLStyle:function(){},drawEllipse:function(e,t){var i=this.ctx;this.ctx=void 0!=t?t:this.ctx;var s=Math.max(e.rx,e.ry),a=e.rx/s,o=e.ry/s;e.lgndCtx?(this.lgndCtx.save(),this.lgndCtx.beginPath(),this.lgndCtx.translate(e.rx,e.ry),this.lgndCtx.scale(a,o),this.lgndCtx.arc(e.cx-e.rx,2*e.cy-e.rx,e.rx,0,2*Math.PI,!1),this.lgndCtx.fillStyle=e.fill,this.lgndCtx.fill(),this.lgndCtx.restore(),this.lgndCtx.lineWidth=e["stroke-width"],this.lgndCtx.strokeStyle=e.stroke,this.lgndCtx.stroke(),this.lgndCtx.restore()):(this.ctx.save(),this.ctx.beginPath(),this.ctx.translate(e.cx,e.cy),this.ctx.save(),this.ctx.scale(a,o),this.ctx.arc(0,0,s,0,2*Math.PI,!1),this.ctx.fillStyle=e.fill,this.ctx.fill(),this.ctx.restore(),this.ctx.lineWidth=e["stroke-width"],this.ctx.strokeStyle=e.stroke,this.ctx.stroke(),this.ctx.restore(),this.ctx=i)},_getAttrVal:function(t,i,s){var a=e(t).attr(i);return null!=a?a:s},_setAttr:function(){},setSpanAttr:function(){},_textAttrReplace:function(){},drawImage:function(e){this.ctx.save();var t=this,i=new Image;i.src=e.href,i.onload=function(){t.ctx.drawImage(i,e.x,e.y,e.width,e.height)},this.ctx.restore()},createDefs:function(){},createGroup:function(){},createText:function(t,i){var s=document.createElement("div");return e(s).css({transform:t.rotateAngle,"font-family":parseFloat(t["font-family"]),"font-size":1.1*parseFloat(t["font-size"]),position:"absolute"}),ej.util.isNullOrUndefined(i)||(s.textContent=i),s},drawAxesBoundsClipPath:function(e,t){},getAttrVal:function(){},hexFromRGB:function(){},createDelegate:function(){},drawClipPath:function(){},drawCircularClipPath:function(){},append:function(t,i){e(t).appendTo(i)},createLegendCanvas:function(e){return this.legendsvgObj=document.createElement("canvas"),this._rootId=jQuery(e).attr("id"),this.legendsvgObj.setAttribute("id","legend_"+this._rootId+"_canvas"),this.lgndCtx=this.legendsvgObj.getContext("2d"),this.legendsvgObj}}}(jQuery),ej.EjSvgRender=function(e){var t,i;if(this.svgLink="http://www.w3.org/2000/svg",this.svgObj=document.createElementNS(this.svgLink,"svg"),this._rootId=jQuery(e).attr("id"),t=this._rootId+"_svg",$(document).find("#"+t).length>0){i=0;do{i++}while($(document).find("#"+this._rootId+"_svg"+i).length>0);t=this._rootId+"_svg"+i}this.svgObj.setAttribute("id",t)},function(e){function t(e,t,i,s){var a=s*Math.PI/180;return[e+i*Math.cos(a),t+i*Math.sin(a)]}ej.EjSvgRender.prototype={drawPath:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"path");e(s).attr(t).appendTo(i)}},createLegendSvg:function(e){return this.svgLink="http://www.w3.org/2000/svg",this.legendsvgObj=document.createElementNS(this.svgLink,"svg"),this._rootId=jQuery(e).attr("id"),this.legendsvgObj.setAttribute("id","legend_"+this._rootId+"_svg"),this.legendsvgObj},drawPolyline:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"polyline");e(s).attr(t).appendTo(i)}},drawLine:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"line");e(s).attr(t),e(s).appendTo(i)}},drawPolygon:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"polygon");e(s).attr(t),e(s).appendTo(i)}},drawCircle:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"circle");e(s).attr(t).appendTo(i)}},drawEllipse:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"ellipse");e(s).attr(t).appendTo(i)}},drawRect:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"rect");e(s).attr(t).appendTo(i)}},drawCylinder:function(t,i,s){var a,o,r;if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var l=t.x,n=t.y,d=t.id,h=t.fill,c=h;this.checkColorFormat(h)||(h=ej.datavisualization.Chart.prototype.colorNameToHex(h));var u,p,m,g,_,f,b,v,x,y,w,S=2,C=0,T=0,L={svgRenderer:this};if(1==s.isColumn){var k=t.width/2,P=t.height;_=x=l,y=f=(j=k/4)<n?n-j:s.stacking?n+j:n-j,u=2*k,p=0,m=0,g=j<n||P<2*j?P:s.stacking?P-2*j:P,b=_,v=j<n?f+P:P<f?P+f:s.stacking?P+(n-j):P+f,C=100,(s.stacking=!0)&&(s.isLastSeries||(f=y=n+j,g=P<k/2?P:P-k/2))}else{var j;u=0,p=2*(j=t.height/2),m=P=t.width,g=0,b=(_=x=l+(k=j/4))+P,v=f=y=n,T=100,(s.stacking=!0)&&(s.isLastSeries||(b=_+P-2*k,m=P-2*k))}for(delete t.x,delete t.y,delete t.width,delete t.height,delete t.isColumn;S--;)w="M"+_.toString()+","+f.toString(),w+="a"+k.toString()+","+j.toString()+" 0 1,0 "+u.toString()+","+p.toString(),w+="a"+k.toString()+","+j.toString()+" 0 1,0 "+(-1*u).toString()+","+(-1*p).toString(),t.d=w,t.id=d+"_Region_"+S,t.fill=ej.Ej3DRender.prototype.polygon3D.prototype.applyZLight(h,L),this.drawPath(t,i),_=b,f=v;w="M"+x.toString()+","+y.toString(),w+="a"+k.toString()+","+j.toString()+" 0 1,0 "+u.toString()+","+p.toString(),w+="l"+m.toString()+" "+g.toString(),w+="a"+k.toString()+","+j.toString()+" 0 1,1 "+(-1*u).toString()+","+(-1*p).toString()+" z",t.d=w,t.id=d+"_Region_2",-1==c.indexOf("url")&&(0==e("#"+(a=d)).length&&(o={id:a,x1:"0%",y1:"0%",x2:C.toString()+"%",y2:T.toString()+"%"},(r=[])[0]={colorStop:"0%",color:h},r[1]={colorStop:"30%",color:ej.Ej3DRender.prototype.polygon3D.prototype.applyXLight(h,L)},r[2]={colorStop:"70%",color:ej.Ej3DRender.prototype.polygon3D.prototype.applyXLight(h,L)},r[3]={colorStop:"100%",color:h},this.drawGradient(o,r,i)),t.fill="url(#"+a+")"),this.drawPath(t,i)}},createGradientElement:function(e,t,i,s,a,o,r){var l,n;return"[object Array]"==Object.prototype.toString.call(t)?(n={id:this.svgObj.id+"_"+e+"Gradient",x1:i+"%",y1:s+"%",x2:a+"%",y2:o+"%"},this.svgObj.id,this.drawGradient(n,t,r),l="url(#"+this.svgObj.id+"_"+e+"Gradient)"):l=t,l},drawGradient:function(t,i,s){var a,o,r=this.createDefs(),l=document.createElementNS(this.svgLink,"linearGradient");for(e(l).attr(t),a=0;a<i.length;a++)o=document.createElementNS(this.svgLink,"stop"),e(o).attr({offset:i[a].colorStop,"stop-color":i[a].color,"stop-opacity":1}),e(o).appendTo(l);e(l).appendTo(r),e(r).appendTo(s)},drawText:function(t,i,s,a){var o,r,l,n,d,h;if(e("#"+t.id).length>0)this._textAttrReplace(t,i,a);else{if(o=document.createElementNS(this.svgLink,"text"),r=e(o),"array"==jQuery.type(i))for(l=0,r.attr(t),n=0;n<i.length;n++)(d=document.createElementNS(this.svgLink,"tspan")).textContent=i[n],e(d).attr({x:t.x,dy:l}),e(d).appendTo(o),a=this.enable3D?a.font:a,h=ej.EjSvgRender.utils._measureText(i[n],null,a),l=t.isTrackball?h.height+2:h.height;else o.textContent=i,r.attr(t);r.appendTo(s)}},_textAttrReplace:function(t,i,s){var a,o,r,l;if(e("#"+t.id).attr(t),"array"==jQuery.type(i))if(o=0,(a=e("#"+t.id).children("tspan")).length>0&&a.length==i.length)for(r=0;r<a.length;r++)l=a[r],e(l).attr({x:t.x,dy:o}),l.textContent=i[r],o=ej.EjSvgRender.utils._measureText(i[r],null,s).height+2;else e("#"+t.id).remove(),this.drawText(t,i,this.gTransToolEle,s);else e("#"+t.id).text(i)},drawImage:function(t,i){var s=document.createElementNS(this.svgLink,"image");s.setAttributeNS(null,"height",t.height),s.setAttributeNS(null,"width",t.width),s.setAttributeNS("http://www.w3.org/1999/xlink","href",t.href),s.setAttributeNS(null,"x",t.x),s.setAttributeNS(null,"y",t.y),s.setAttributeNS(null,"id",t.id),s.setAttributeNS(null,"visibility",t.visibility),ej.util.isNullOrUndefined(t.clippath)&&ej.util.isNullOrUndefined(t.preserveAspectRatio)||(s.setAttributeNS(null,"clip-path",t.clippath),s.setAttributeNS(null,"preserveAspectRatio",t.preserveAspectRatio)),e(s).appendTo(i)},createDefs:function(){return document.createElementNS(this.svgLink,"defs")},createClipPath:function(t){var i=document.createElementNS(this.svgLink,"clipPath");return e(i).attr(t),i},createForeignObject:function(t){var i=document.createElementNS(this.svgLink,"foreignObject");return e(i).attr(t),i},createGroup:function(t){var i=document.createElementNS(this.svgLink,"g");return e(i).attr(t),i},createPattern:function(e,t){var i=document.createElementNS(this.svgLink,t);for(var s in e)e.hasOwnProperty(s)&&i.setAttribute(s,e[s]);return i},createText:function(t,i){var s=document.createElementNS(this.svgLink,"text");return e(s).attr(t),ej.util.isNullOrUndefined(i)||(s.textContent=i),s},createPath:function(t){var i=document.createElementNS(this.svgLink,"path");return e(i).attr(t),i},createCircle:function(t){var i=document.createElementNS(this.svgLink,"circle");return e(i).attr(t),i},createLine:function(t){var i=document.createElementNS(this.svgLink,"line");return e(i).attr(t),i},_getAttrVal:function(t,i,s){var a=e(t).attr(i);return null!=a?a:s},hexFromRGB:function(t){var i,s=t.R,a=t.G,o=t.B;return t.A?"rgba("+s.toString()+","+a.toString()+","+o.toString()+","+t.A+")":(i=[s.toString(16),a.toString(16),o.toString(16)],e.each(i,(function(e,t){1===t.length&&(i[e]="0"+t)})),"#"+i.join("").toUpperCase())},checkColorFormat:function(e){return/(rgba?\((?:\d{1,3}[,\)]){3}(?:\d+\.\d+\))?)|(^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$)/gim.test(e)},hexToRGB:function(e){var t;return 1==/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.test(e)?(t=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.exec(e))?{R:parseInt(t[1]),G:parseInt(t[2]),B:parseInt(t[3]),A:t[4]}:null:(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?{R:parseInt(t[1],16),G:parseInt(t[2],16),B:parseInt(t[3],16)}:null},createDelegate:function(e,t){return function(i){t.apply(e,[i,this])}},drawClipPath:function(t,i){if(e(i).find("#"+t.id).length>0)e(i).find("#"+t.id).attr(t);else{var s=this.createDefs(),a=this.createClipPath({id:t.id});t.id=t.id+"_Rect",this.drawRect(t,a),this.append(a,s),this.append(s,i)}},drawCircularClipPath:function(e,t){var i=this.createDefs(),s=this.createClipPath({id:e.id});this.drawCircle(e,s),this.append(s,i),this.append(i,t)},append:function(t,i){e(t).appendTo(i)},_setAttr:function(t,i){e(t).attr(i)}},ej.EjSvgRender.commonChartEventArgs={cancel:!1,data:null},ej.EjSvgRender.utils={_decimalPlaces:function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},_getLabelContent:function(e,t,i){switch(t._categoryValueType){case"number":var s=ej.util.isNullOrUndefined(t.labelFormat)?null:t.labelFormat.match("{value}");return ej.util.isNullOrUndefined(t.labelFormat)?t.labels[Math.floor(e)]:null!=s?t.labelFormat.replace("{value}",t.labels[Math.floor(e)]):ej.format(t.labels[Math.floor(e)],t.labelFormat,i);case"date":return ej.format(new Date(t.labels[Math.floor(e)]),ej.util.isNullOrUndefined(t.labelFormat)?"dd/MM/yyyy":t.labelFormat,i);case"string":return t.labels[Math.floor(e)];default:return""}},_getSeriesTemplateSize:function(t,i,s,a,o){var r,l,n,d,h,c=o.model.AreaType,u=o._id,p=e.inArray(s,o.model._visibleSeries);(r=0!=e("#template_group_"+u).length?e("#template_group_"+u):e("<div></div>").attr("id","template_group_"+u)).css("position","relative").css("z-index",1e3),l=e("#"+s.marker.dataLabel.template).clone(),e(l).attr("id",s.marker.dataLabel.template+"_"+p+"_"+i+"_"+u),(n=e(l)).css("position","absolute"),t.count=1,d={series:s,point:t},n.html(n.html().parseTemplate(d)),h="cartesianaxes"!=c&&s.enableAnimation&&"pyramid"!=s.type.toLowerCase()&&"funnel"!=s.type.toLowerCase()?"none":"block",n.css("display",h).appendTo(e(r)),e(r).appendTo("#"+u),t.size={height:n.height(),width:n.width()},a?((ej.util.isNullOrUndefined(s.LeftLabelMaxHeight)||s.LeftLabelMaxHeight<t.size.height)&&(s.LeftLabelMaxHeight=t.size.height),(ej.util.isNullOrUndefined(s.LeftLabelMaxWidth)||s.LeftLabelMaxWidth<t.size.width)&&(s.LeftLabelMaxWidth=t.size.width)):((ej.util.isNullOrUndefined(s.RightLabelMaxHeight)||s.RightLabelMaxHeight<t.size.height)&&(s.RightLabelMaxHeight=t.size.height),(ej.util.isNullOrUndefined(s.RightLabelMaxWidth)||s.RightLabelMaxWidth<t.size.width)&&(s.RightLabelMaxWidth=t.size.width))},getMinPointsDelta:function(t,i,s){var a=i,o=Number.MAX_VALUE;return e.each(a.model._visibleSeries,(function(i,r){var l,n,d;"visible"==r.visibility.toLowerCase()&&t.name==r._xAxisName&&(1!=(l=ej.DataManager(r.points,ej.Query().sortBy("xValue")).executeLocal()).length||a.currentSeries&&a.currentSeries._yAxisName.toLowerCase()!=r._yAxisName.toLowerCase()?e.each(l,(function(e,t){if(e>0&&t.xValue){var i=t.xValue-l[e-1].xValue;0!=i&&(o=Math.min(o,i))}})):(n=ej.util.isNullOrUndefined(s)?r.xAxis.visibleRange.min:s,0!=(d=l[0].xValue-n)&&(o=Math.min(o,d))))})),o==Number.MAX_VALUE&&(o=1),o},_getSeriesMaxLabel:function(t){var i,s,a,o,r,l={width:0,height:0},n=e(this.svgObject).width(),d=[];if(t.labels.length>0){for(r=0;r<t.labels.length;r++)a=this._measureText(t.visibleLabels[r],n,t.marker.dataLabel.font),l.width<a.width&&(l.width=a.width),l.height<a.height&&(l.height=a.height);t.LabelMaxHeight=l.height,t.LabelMaxWidth=l.width}else for(d.push(t.rightsidePoints),d.push(t.leftsidePoints),o=0;o<d.length;o++){for(r=0;r<d[o].length;r++)s=(i=d[o][r]).text?i.text:i.y,a=this._measureText(s,n,t.marker.dataLabel.font),l.width<a.width&&(l.width=a.width),l.height<a.height&&(l.height=a.height);0==o?(t.RightLabelMaxHeight=l.height,t.RightLabelMaxWidth=l.width):(t.LeftLabelMaxHeight=l.height,t.LeftLabelMaxWidth=l.width)}},_getHighestLabel:function(t,i,s){var a,o,r,l,n,d,h,c,u=0,p=[],m=0;if(ej.isNullOrUndefined(s))for(n=0==t.labels.length?t.visibleLabels:t.labels,d=0;d<n.length;d++){for(m=0,-1!=(h=0==t.labels.length?n[d].Text:n[d]).indexOf("<br>")?p=h.split("<br>"):p.push(h),c=0;c<p.length;c++)o=p[c],m<(r=this._measureText(o,e(i.svgObject).width(),t.font).width)&&(m=r,a=o);u<m&&(u=m,l=a)}else if(s&&("string"==typeof s&&-1!=s.indexOf("<br>")||"object"==typeof s))for(m=0,p="object"==typeof s?s:s.split("<br>"),c=0;c<p.length;c++)o="object"==typeof p[c]?p[c].Text:p[c],m<(r=this._measureText(o,i,t.font).width)&&(m=r,a=o),l=a;return l},_getMaxLabelWidth:function(t,i){var s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T;this.chartObj=i;var L,k,P,j,D={width:0,height:0,maxHeight:0,maxWidth:0},A="",O=i.svgRenderer.vmlNamespace,I=t.visibleRange,R=t.labelIntersectAction?t.labelIntersectAction.toLowerCase():"",M=t.labelPlacement,E=t.opposedPosition,V=t.orientation.toLowerCase(),N=i.model.requireInvertedAxes?"vertical"==V:"horizontal"==V,B=t.roundingPlaces,F=t.labelRotation,z=(V=t.orientation,0),Y=t.visibleLabels,X=Y.length;if(t.visible){for(s=0;s<X;s++)t.visibleLabels[s].y=0,"string"==typeof t.visibleLabels[s].Text&&-1!=t.visibleLabels[s].Text.indexOf("<br>")&&"vertical"==t.orientation?(L=t.visibleLabels[s].Text.split("<br>"),k=this._getHighestLabel(t,e(this.svgObject).width(),L),re=this._measureText(k,e(this.svgObject).width(),t.font,t.labelRotation)):re=this._measureText(t.visibleLabels[s].Text,e(this.svgObject).width(),t.font,t.labelRotation),D.width<re.width&&(D.width=re.width,A=t.visibleLabels[s].Text),D.height<re.height&&(D.height=re.height);if((t.enableTrim||"trim"==R&&"vertical"!=t.orientation)&&(a=t.maximumLabelWidth,D.width=D.width>a?a:D.width),D.rows=1,D.maxWidth=D.width,D.maxHeight=D.height,!O&&(F||R)&&(o=0,"rotate45"==R?o=45:"rotate90"==R&&(o=90),F=null!=F||"vertical"==V?F:o,t.rotationValue=F,F)){if(A=ej.isNullOrUndefined(A)?"":A,r=this._measureText(A,e(this.svgObject).width(),t.font,t.labelRotation),(t.enableTrim||"trim"==R)&&r.width>a&&""!=A)for(pe=A,h=1;h<pe.toString().length;h++)if(pe=pe.toString().substring(0,h)+"... ",(fe=this._measureText(pe,e(i.svgObject).width(),t.font)).width>=a){A=pe=pe.toString().substring(0,h-1)+"... ";break}A=(R||t.enableTrim)&&F?"string"==typeof A&&-1!=A.indexOf("<br>")?this._getHighestLabel(t,i,null):A:this._getHighestLabel(t,i,null),u=this.rotatedLabel(t,i,F,A),t.labelIntersectAction&&"multiplerows"==t.labelIntersectAction.toLowerCase()&&(z=D.height+u.height),D.height=t.rowsCount&&t.rowsCount>1&&90!=F&&t.enableTrim?t.rowsCount*D.height:u.height,D.width=u.width}if(t.labelIntersectAction)if(!t.rowsCount||"none"!=R&&"trim"!=R&&"hide"!=R&&0!=F||"wrap"==R&&!t.enableTrim||"wrapbyword"==R&&!t.enableTrim||"multiplerows"==R&&!t.enableTrim){if("wrap"==R||"wrapbyword"==R){if("betweenticks"==(M=M||ej.datavisualization.Chart.LabelPlacement.BetweenTicks).toLowerCase()?(n=1+(t.labels.length>1?-.5:0),n=B?parseFloat(n.toFixed(B)):parseFloat(n.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(I.interval)?1:ej.EjSvgRender.utils._decimalPlaces(I.interval))),l=Math.ceil((n-I.min)/(I.max-I.min)*t.length)):l=Math.ceil(t.length/Y.length),"horizontal"==t.orientation){var W=0,H=0,U=t.labels.length>0&&"datetimecategory"!=t.valueType?t.labels:t.visibleLabels,$=t.width?t.width/U.length:(t.length-(i.svgWidth-t.length)-20)/U.length;for(t.labelsCollection=[],y=0;y<U.length;y++){var G=0,q=[],Z=[],Q="object"==typeof U[y]?U[y].Text:U[y];for("string"==typeof Q&&-1!=Q.indexOf("<br>")?Z=Q.split("<br>"):Z.push(Q),w=0;w<Z.length;w++)for(G=(d=ej.EjAxisRenderer.prototype.rowscalculation(Z[w],i.model.m_AreaBounds,t,$,null)).length+G,h=0;h<d.length;h++)q.push(d[h]);F&&(A=this._getHighestLabel(t,i,q),H<(c=this._measureText(A,e(i.svgObject).width(),t.font).width)&&(H=c,de=A)),W=Math.max(G,W),t.labelsCollection[y]=q}u=this.rotatedLabel(t,i,F,de)}l=l<0?Math.ceil(t.length/Y.length):l,ue=Math.round(D.width/l),D.rows=F?ue-1:ue+1,D.rows<0&&(D.rows=0),p=W&&!F?W:D.rows,W>ue&&!F&&(p-=1),D.height=F?u.height+p*u.height:D.height+p*D.height}else if("multiplerows"==R){var K=i._getLegendSpace(),J=i.model.border.width,ee=(i.model._axes[1],e(i.svgObject).width()-i.model.margin.left-i.model.margin.right),te=""!=(j=(P=t.title).text)&&t.visible?this._measureText(j,ee,P.font).height+2*i.model.elementSpacing:0,ie=i.model.elementSpacing+te+t.majorTickLines.size+t.axisLine.width,se=i._getYValues(i.model._visibleSeries[0].points),ae=Math.max.apply(Math,se),oe=i.model._axes[1],re=this._measureText(ae,e(this.svgObject).width(),oe.font,oe.labelRotation),le=K.rightLegendWidth+ie+re.width+i.model.margin.right+i.model.margin.left+2*J,ne=e(i.svgObject).width()-le;if(N){var de,he=0,ce=[],ue=0;for(H=0,s=0;s<Y.length;s++){g=[],"string"==typeof(m=Y[s]).Text&&-1!=m.Text.indexOf("<br>")?g=m.Text.split("<br>"):g.push(m),_=g.length,f=!1,z=Math.max(z,he),he=m.y=D.height;var pe,me=(pe=this._measureText(m.Text,e(this.svgObject).width(),t.font)).height,ge=Math.abs(Math.floor((m.Value-I.min)/I.delta*ne));if(ce.length>0)for(b=ce,v=!0,x=0;x<b.length&&v;x++){G=0;var _e=b[x];for(y=0;_e&&y<_e.length;y++)for(w=0;w<_;w++){var fe=ej.EjSvgRender.utils._measureText(1==_?g[w].Text:g[w],e(this.svgObject).width(),t.font).width,be=(me=ej.EjSvgRender.utils._measureText(g[w],e(this.svgObject).width(),t.font).height,y==_e.length?_e[y-1]:_e[y]),ve=Math.abs(Math.floor((be.Value-I.min)/I.delta*ne)),xe=ej.EjSvgRender.utils._measureText(be.Text,e(this.svgObject).width(),t.font).width;if(fe/=2,ve+(t.isInversed?-xe/2:xe/2)>=ge-fe)he=m.y+me,m.y+=me,G++,x+1==b.length&&(v=!1);else if(y+1==_e.length){v=w!=_-1;break}}}if(m.y=he,void 0==ce[ue=he/me-1]&&(ce[ue]=[]),1==_)ce[ue].push(m);else for(w=0;w<_;w++)void 0==ce[ue]&&(ce[ue]=[]),ce[ue].push({Text:g[w],Value:m.Value}),w!=_-1&&(ue+=1,he=m.y+me)}z=ce.length*me,D.height=D.height>z?D.height:z,me>0&&(D.rows=E?Math.round((z+me)/me):Math.round(z/me)),D.rows=F?D.rows-1:D.rows,D.rows<1&&(D.rows=1)}if(!N){for(S=0,s=0;s<t.visibleLabels.length;s++){for(m=t.visibleLabels[s],fe=(pe=this._measureText(m.Text,e(this.svgObject).width(),t.font)).width,me=pe.height,ge=Math.abs(Math.floor((m.Value-t.visibleRange.min)/t.visibleRange.delta*t.length)),C=0;C<s;C++)_e=t.visibleLabels[C],Math.abs(Math.floor((_e.Value-t.visibleRange.min)/t.visibleRange.delta*t.length))+this._measureText(_e.Text,e(this.svgObject).width(),t.font).height/2>ge-me/2&&t.visibleLabels[C].y==m.y&&(S=m.y+fe,m.y=S,f=!0);T=S}D.width=D.width+T+(f?5:0)}}}else 0==F&&(D.rows=t.rowsCount,D.height=t.rowsCount*D.height)}return D},rotatedLabel:function(e,t,i,s,a){var o={"font-size":e.font.size,transform:"rotate("+i+",0,0)","font-family":e.font.fontFamily,"font-style":e.font.fontStyle,rotateAngle:"rotate("+i+"deg)","text-anchor":"middle"},r=(t=a?this.chartObj:t||this.chartObj).svgRenderer.createText(o,s);return{height:Math.ceil(this._measureBounds(r,t).height),width:Math.ceil(this._measureBounds(r,t).width)}},_getTransform:function(e,t,i){var s,a,o,r;return i?(s=t.x,a=e.y,o=t.width,r=e.height):(s=e.x,a=t.y,o=e.width,r=t.height),{x:s,y:a,width:o,height:r}},_calculateroundedCorner:function(e,t,i,s,a,o){var r,l,n,d,h,c=t.x,u=t.y,p=this.chartObj.model.enableCanvasRendering&&!o?5/4:0,m=t.width,g=t.height;return"object"!=typeof e||ej.util.isNullOrUndefined(e)?r=l=n=d=e:(r=e.topLeft,l=e.bottomLeft,n=e.topRight,d=e.bottomRight),r=ej.util.isNullOrUndefined(t.rx)?r:t.rx,l=ej.util.isNullOrUndefined(t.rx)?l:t.rx,h="M "+c+" "+(r+u)+" Q "+c+" "+u+" "+(c+r)+" "+u+" ",i&&"top"==s&&(h+="L "+(c+m/2-2.5+p)+" "+u+" L "+(c+m/2+p-a)+" "+(u-5)+" L "+(c+m/2+2.5+p)+" "+u+" "),h+="L "+(c+m-(n=ej.util.isNullOrUndefined(t.ry)?n:t.ry))+" "+u+" Q "+(c+m)+" "+u+" "+(c+m)+" "+(u+n)+" ",i&&"right"==s&&(h+="L "+(c+m)+" "+(u+g/2-2.5+p)+" L "+(c+m+5)+" "+(u+g/2+p-a)+" L "+(c+m)+" "+(u+g/2+2.5+p)+" "),h+="L "+(c+m)+" "+(u+g-(d=ej.util.isNullOrUndefined(t.ry)?d:t.ry))+" Q "+(c+m)+" "+(u+g)+" "+(c+m-d)+" "+(u+g)+" ",i&&"bottom"==s&&(h+="L "+(c+m/2-2.5+p)+" "+(u+g)+" L "+(c+m/2+p-a)+" "+(u+g+5)+" L "+(c+m/2+2.5+p)+" "+(u+g)+" "),h+="L "+(c+l)+" "+(u+g)+" Q "+c+" "+(u+g)+" "+c+" "+(u+g-l)+" ",i&&"left"==s&&(h+="L "+c+" "+(u+g/2-2.5+p)+" L "+(c-5)+" "+(u+g/2+p-a)+" L "+c+" "+(u+g/2+2.5+p)+" "),h+"L "+c+" "+(r+u)+" z"},browserInfo:function(){var e={},t=[],i={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var s in i)if(i.hasOwnProperty(s)&&(t=navigator.userAgent.match(i[s]))){e.name=t[1].toLowerCase(),e.version=t[2],!navigator.userAgent.match(/Trident\/7\./)||(e.name="msie");break}return e.isMSPointerEnabled="msie"==e.name&&e.version>9&&window.navigator.msPointerEnabled,e.pointerEnabled=window.navigator.pointerEnabled,e},_measureText:function(t,i,s){var a,o,r,l,n,d=e(document).find("#measureTex");e("#measureTex").css("display","block"),0==d.length?(a=document.createElement("text"),e(a).attr({id:"measureTex"}),document.body.appendChild(a)):a=d[0];var h=null,c=null,u=null,p=null;if("string"==typeof t&&(t.indexOf("<")>-1||t.indexOf(">")>-1)){for(o=t.split(" "),r=0;r<o.length;r++)-1==o[r].indexOf("<br/>")&&(o[r]=o[r].replace(/[<>]/g,"&"));t=o.join(" ")}return/<\/?[a-z][\s\S]*>/.test(t)?e(a).html(t):a.textContent=t,void 0!=s&&void 0==s.size&&(h=(l=(l=s).split(" "))[0],c=l[1],u=l[2],p=l[3]),null!=s&&(a.style.fontSize=s.size>0?s.size+"px":s.size?s.size:c,a.style.fontStyle&&(a.style.fontStyle=s.fontStyle?s.fontStyle:h),a.style.fontFamily=s.fontFamily?s.fontFamily:u,-1==window.navigator.userAgent.indexOf("MSIE 8.0")&&(a.style.fontWeight=s.fontWeight?s.fontWeight:p)),a.style.backgroundColor="white",a.style.position="absolute",a.style.top=-100,a.style.left=0,a.style.visibility="hidden",a.style.whiteSpace="nowrap",i&&(a.style.maxwidth=i+"px"),n={width:a.offsetWidth,height:a.offsetHeight},e("#measureTex").css("display","none"),n},_trimText:function(e,t,i){var s,a,o;for(a=(s=e.toString()).length,o=1;o<a;o++)if(s=e.substring(0,o)+"...",ej.EjSvgRender.utils._measureText(s,null,i).width>=t)return s.substring(0,o-1)+"... ";return e},_measureBounds:function(t,i){i.model.enableCanvasRendering?e(document.body).append(t):(i.svgRenderer.append(t,i.svgObject),i.svgRenderer.append(i.svgObject,i.element));var s=t.getBoundingClientRect(),a={left:s.left,right:s.right,top:s.top,bottom:s.bottom,width:s.right-s.left,height:s.bottom-s.top};return e(t).remove(),a},_drawAxesBoundsClipPath:function(t,i,s){var a,o=e(t),r=this._getTransform(i.xAxis,i.yAxis,s.model.requireInvertedAxes),l="polaraxes"==s.model.AreaType?e(s.svgObject).width():r.width,n="polaraxes"==s.model.AreaType?e(s.svgObject).height():r.height,d=s.model.requireInvertedAxes?i.yAxis.plotOffset:i.xAxis.plotOffset,h=s.model.requireInvertedAxes?i.xAxis.plotOffset:i.yAxis.plotOffset;"polaraxes"==s.model.AreaType?(a={id:t?t.id+"_ClipRect":"",cx:s.model.centerX,cy:s.model.centerY,r:s.model.Radius,fill:"white","stroke-width":1,stroke:"transparent"},s.svgRenderer.drawCircularClipPath(a,t)):(a={id:t?t.id+"_ClipRect":"",x:0-d,y:0-h,width:l+2*d,height:n+2*h,fill:"white","stroke-width":1,stroke:"transparent"},s.svgRenderer.drawClipPath(a,t)),a.id.indexOf("_Rect")&&(a.id=a.id.replace("_Rect","")),o.attr("clip-path","url(#"+a.id+")")},_getStringBuilder:function(){var e=[],t=0;return{append:function(i){return e[t++]=i,this},remove:function(t,i){return e.splice(t,i||1),this},insert:function(t,i){return e.splice(t,0,i),this},toString:function(t){return e.join(t||"")}}},_addRegion:function(t,i,s,a,o){var r,l=s.type,n=e.inArray(s,t.model._visibleSeries);n>=0&&(r={SeriesIndex:n,Region:{PointIndex:o,Bounds:i},type:l},t.model.chartRegions.push(r))},AddRegion:function(e,t,i){if(i){var s={isStripLine:i,Region:{Bounds:t}};e.model.chartRegions.push(s)}},_getSvgXY:function(e,t,i,s){var a,o;return s.model.requireInvertedAxes?(a=e+i.yAxis.x,o=t+i.xAxis.y):(a=e+i.xAxis.x,o=t+i.yAxis.y),{X:a,Y:o}},_getPoint:function(e,t){var i,s,a,o=e.xValue,r="boxandwhisker"==t.type?e.YValues:e.YValues[0],l=t._isTransposed?t.xAxis.height:t.xAxis.width,n=t._isTransposed?t.yAxis.width:t.yAxis.height;return e.location={},t._hiloTypes&&(i=e.YValues[1],i="logarithmic"==t.yAxis._valueType?ej.EjSvgRender.utils._logBase(0==i?1:i,t.xAxis.logBase):i,i=this._getPointXY(i,t.yAxis.visibleRange,t.yAxis.isInversed),e.location.low=(t._isTransposed?i:1-i)*n),s="logarithmic"==t.xAxis._valueType?ej.EjSvgRender.utils._logBase(0==o?1:o,t.xAxis.logBase):o,a="logarithmic"==t.yAxis._valueType?ej.EjSvgRender.utils._logBase(0==r?1:r,t.xAxis.logBase):r,s=this._getPointXY(s,t.xAxis.visibleRange,t.xAxis.isInversed),a=this._getPointXY(a,t.yAxis.visibleRange,t.yAxis.isInversed),e.location.X=t._isTransposed?a*n:s*l,e.location.Y=t._isTransposed?(1-s)*l:(1-a)*n,e.location},_getPointXY:function(e,t,i){var s=0;return s=(e-t.min)/t.delta,s=isNaN(s)?0:s,i?1-s:s},_dateTimeLabelFormat:function(e,t){switch(e.toLowerCase()){case"years":return t._labelFormat="MMM, yyyy";case"months":case"weeks":return t._labelFormat="dd, MMM";case"days":default:return t._labelFormat="dd/MM/yyyy";case"hours":return t._labelFormat="dd, hh:mm";case"minutes":return t._labelFormat="hh:mm";case"seconds":return t._labelFormat="mm:ss";case"milliseconds":return t._labelFormat="ss:fff"}},_getFontString:function(e){return null==e&&(e={}),e.FontFamily||(e.FontFamily="Arial"),e.FontStyle||(e.FontStyle="Normal"),e.Size||(e.Size="12px"),e.FontStyle+" "+e.Size+" "+e.FontFamily},_valueToVector:function(e,t){return this._coefficientToVector(this._valueToPolarCoefficient(e,t))},TransformToVisible:function(e,t,i,s){t="logarithmic"==e.xAxis._valueType&&t>0?Math.log(t,e.xAxis.logBase):t,i="logarithmic"==e.xAxis._valueType&&i>0?Math.log(i,e.yAxis.logBase):i;var a=s.model.Radius*this._valueToCoefficient(e.yAxis,i),o=this._valueToVector(e.xAxis,t);return{X:s.model.centerX+a*o.X,Y:s.model.centerY+a*o.Y}},Transform3DToVisible:function(e,t,i,s){if(null!=e.xAxis&&null!=e.yAxis){if(t=t="logarithmic"==e.xAxis._valueType.toLowerCase()&&t>0?math.log(t,void 0):t,s.model.requireInvertedAxes){var a=s.model.m_AreaBounds.X,o=s.model.m_AreaBounds.Y;return{X:a+e.yAxis.width*ej.EjSvgRender.utils._valueToCoefficient(e.yAxis,i,s),Y:o+e.xAxis.height*(1-ej.EjSvgRender.utils._valueToCoefficient(e.xAxis,t,s))}}return a=e.xAxis.x,o=e.yAxis.y,{X:t=a+Math.round(e.xAxis.width*ej.EjSvgRender.utils._valueToCoefficient(e.xAxis,t,s)),Y:i=o+Math.round(e.yAxis.height*(1-ej.EjSvgRender.utils._valueToCoefficient(e.yAxis,i,s)))}}return new(void 0)(0,0)},_valueToPolarCoefficient:function(e,t){var i,s,a,o=e.visibleRange.min;return"category"!=e._valueType?(i=e.visibleRange.max-e.visibleRange.interval-e.visibleRange.min,s=e.visibleLabels.length-1):(i=e.visibleRange.delta,s=e.visibleLabels.length),a=(t-o)/i,a*=1-1/s,a=isNaN(a)?0:a,e.isInversed?a:1-a},_coefficientToVector:function(e){var t=Math.PI*(1.5-2*e);return{X:Math.cos(t),Y:Math.sin(t)}},_valueToCoefficient:function(e,t,i){var s;return s=((s=i&&"polaraxes"==i.model.AreaType?t:e._valueType&&"logarithmic"==e._valueType.toLowerCase()?ej.EjSvgRender.utils._logBase(0==t?1:t,e.logBase):t)-e.visibleRange.min)/e.visibleRange.delta,e.isInversed?1-s:s},_getBoundingClientRect:function(t,i,s,a){var o,r,l=t.getBoundingClientRect(),n=e("#"+i.svgObject.id)[0].getBoundingClientRect();return a?(o=this._getTransform(s.xAxis,s.yAxis,!0).x,r=this._getTransform(s.xAxis,s.yAxis,!0).y):(o=this._getTransform(s.xAxis,s.yAxis,!1).x,r=this._getTransform(s.xAxis,s.yAxis,!1).y),{x:l.left-(o+n.left),y:l.top-(r+n.top),width:l.right-l.left,height:l.bottom-l.top}},_minMax:function(e,t,i){return e>i?i:e<t?t:e},_inside:function(e,t){return""!==e&&e<=t.max&&e>=t.min},_logBase:function(e,t){return Math.log(e)/Math.log(t)},_correctRect:function(e,t,i,s){return{X:Math.min(e,i),Y:Math.min(t,s),Width:Math.abs(i-e),Height:Math.abs(s-t)}},_getValuebyPoint:function(e,t,i,s){var a=s?i.xAxis.height:i.xAxis.width,o=s?i.yAxis.width:i.yAxis.height,r=i.xAxis.isInversed?1-e/a:e/a,l=i.yAxis.isInversed?1-t/o:t/o;return r=r*i.xAxis.visibleRange.delta+i.xAxis.visibleRange.min,l=l*i.yAxis.visibleRange.delta+i.yAxis.visibleRange.min,{PointX:r="logarithmic"==i.xAxis._valueType?Math.pow(i.xAxis.logBase,r):r,PointY:l="logarithmic"==i.yAxis._valueType?Math.pow(i.yAxis.logBase,l):l}}},ej.EjSvgRender.chartTransform3D={ToRadial:Math.PI/180,transform3D:function(e){return this.vector||(this.vector=new((new ej.Ej3DRender).vector3D),this.matrixobj=new((new ej.Ej3DRender).matrix3D),this.bsptreeobj=new((new ej.Ej3DRender).BSPTreeBuilder),this.polygon=new((new ej.Ej3DRender).polygon3D)),_defineProperty({mViewport:e,Rotation:0,Tilt:0,Depth:0,PerspectiveAngle:0,needUpdate:!0,centeredMatrix:this.matrixobj.getIdentity(),Perspective:this.matrixobj.getIdentity(),resultMatrix:this.matrixobj.getIdentity(),viewMatrix:this.matrixobj.getIdentity()},"Depth",0)},transform:function(e){this.setCenter(this.vector.vector3D(e.mViewport.Width/2,e.mViewport.Height/2,e.Depth/2),e),this.setViewMatrix(this.matrixobj.transform(0,0,e.Depth),e),this.setViewMatrix(this.matrixobj.getMatrixMultiplication(e.viewMatrix,this.matrixobj.turn(-this.ToRadial*e.Rotation)),e),this.setViewMatrix(this.matrixobj.getMatrixMultiplication(e.viewMatrix,this.matrixobj.tilt(-this.ToRadial*e.Tilt)),e),this.updatePerspective(e.PerspectiveAngle,e),e.needUpdate=!0},updatePerspective:function(e,t){var i=(t.mViewport.Width+t.mViewport.Height)*Math.tan(this.degreeToRadianConverter((180-Math.abs(e%181))/2))+t.Depth/1;t.Perspective[0][0]=i,t.Perspective[1][1]=i,t.Perspective[2][3]=1,t.Perspective[3][3]=i},degreeToRadianConverter:function(e){return e*Math.PI/180},toScreen:function(e,t,i,s){return i=i||this.result,s?(this.matrixobj=s,e=s.getMatrixVectorMutiple(i(t,s),e)):(t.chartObj=this.matrixobj,e=this.matrixobj.getMatrixVectorMutiple(i(t),e)),{x:e.x,y:e.y}},setViewMatrix:function(e,t){t.viewMatrix!=e&&(t.viewMatrix=e,t.needUpdate=!0)},setCenteredMatrix:function(e,t){t.viewMatrix!=e&&(t.centeredMatrix=e,t.needUpdate=!0)},result:function(e,t){var i,s=e.chartObj?e.chartObj:this.matrixobj;return s||(s=t),e.needUpdate?(i=this.matrixobj?this.matrixobj:t,e.resultMatrix=s.getMatrixMultiplication(i.getInvertal(e.centeredMatrix),e.Perspective),e.resultMatrix=s.getMatrixMultiplication(e.resultMatrix,e.viewMatrix),e.resultMatrix=s.getMatrixMultiplication(e.resultMatrix,e.centeredMatrix),e.needUpdate=!1,e.resultMatrix):e.resultMatrix},setCenter:function(e,t){t.centeredMatrix=this.matrixobj.transform(-e.x,-e.y,-e.z),t.needUpdate=!0},toPlane:function(e,t,i){var s=this.vector.vector3D(e.x,e.y,0),a=this.vector.vector3DPlus(s,this.vector.vector3D(0,0,1));return s=this.vector.vector3DMultiply(i.centeredMatrix,s),a=this.vector.vector3DMultiply(i.centeredMatrix,a),s=this.vector.vector3DMultiply(this.matrixobj.getInvertal(i.Perspective),s),a=this.vector.vector3DMultiply(this.matrixobj.getInvertal(i.Perspective),a),s=this.polygon.getPoint(s,this.vector.vector3DMinus(a-s)),s=this.vector.vector3DMultiply(this.matrixobj.getInvertal(i.viewMatrix),s),this.vector.vector3DMultiply(this.matrixobj.getInvertal(i.centeredMatrix),s)}},ej.EjSvgRender.chartSymbol={_drawSeriesType:function(e,t,i){var s=i.model.series[t.SeriesIndex].type.toLowerCase(),a=i.legendItem.drawType;switch(s=ej.util.isNullOrUndefined(a)?s:a){case ej.datavisualization.Chart.Type.Line:return ej.util.isNullOrUndefined(a)?this._drawLine(e,t,i,i.gLegendItemEle):this._drawStraightLine(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.StepLine:return this._drawStepLine(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.StackingArea:case ej.datavisualization.Chart.Type.StackingArea100:case ej.datavisualization.Chart.Type.Area:case ej.datavisualization.Chart.Type.RangeArea:return this._drawArea(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.StepArea:return this._drawStepArea(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Bar:case ej.datavisualization.Chart.Type.StackingBar100:case ej.datavisualization.Chart.Type.StackingBar:return this._drawBar(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Pie:return this._drawPie(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Doughnut:return this._drawDoughnut(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Hilo:return this._drawHilo(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.HiloOpenClose:return this._drawHiloOpenClose(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Candle:return this._drawCandle(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Pyramid:return this._drawPyramid(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Funnel:return this._drawFunnel(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Spline:return this._drawSpline(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.SplineArea:case ej.datavisualization.Chart.Type.StackingSplineArea:case ej.datavisualization.Chart.Type.StackingSplineArea100:return this._drawSplineArea(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.RangeColumn:return this._drawRangeColumn(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Bubble:case ej.datavisualization.Chart.Type.Scatter:return this._drawCircle(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Column:case ej.datavisualization.Chart.Type.StackingColumn:case ej.datavisualization.Chart.Type.StackingColumn100:case ej.datavisualization.Chart.Type.Waterfall:return this._drawColumn(e,t,i,i.gLegendItemEle);default:return this._drawRectangle(e,t,i,i.gLegendItemEle)}},_drawCircle:function(e,t,i,s){var a=i.svgRenderer,o=(i.svgObject,t.ShapeSize),r=Math.sqrt(o.height*o.height+o.width*o.width)/2,l=t.Style,n={id:t.ID,cx:e.startX,cy:e.startY,r:r,fill:l.Color,"stroke-width":l.BorderWidth,stroke:l.BorderColor,opacity:l.Opacity,visibility:l.Visibility,lgndCtx:t.context};return a.drawCircle(n,s),e.startX-r},_drawLeftArrow:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+(e.startX-l.width/2+l.width)+" "+(e.startY+l.height/4)+" L "+(e.startX-l.width/2+l.width)+" "+(e.startY+-l.height/4)+" L "+(e.startX-l.width/2+l.width/2)+" "+(e.startY+-l.height/4)+" L "+(e.startX-l.width/2+l.width/2)+" "+(e.startY+-l.height/2)+" L "+(e.startX-l.width/2)+" "+e.startY+" L "+(e.startX-l.width/2+l.width/2)+" "+(e.startY+l.height/2)+" L "+(e.startX-l.width/2+l.width/2)+" "+(e.startY+l.height/4)+" L "+(e.startX-l.width/2+l.width)+" "+(e.startY+l.height/4)+" z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawRightArrow:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+(e.startX-l.width/2)+" "+(e.startY+l.height/4)+" L "+(e.startX-l.width/2)+" "+(e.startY+-l.height/4)+" L "+(e.startX-l.width/2+l.width/2)+" "+(e.startY+-l.height/4)+" L "+(e.startX-l.width/2+l.width/2)+" "+(e.startY+-l.height/2)+" L "+(e.startX-l.width/2+l.width)+" "+e.startY+" L "+(e.startX-l.width/2+l.width/2)+" "+(e.startY+l.height/2)+" L "+(e.startX-l.width/2+l.width/2)+" "+(e.startY+l.height/4)+" L "+(e.startX-l.width/2)+" "+(e.startY+l.height/4)+" z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawUpArrow:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+(e.startX-l.width/2+l.width/4)+" "+(e.startY-l.height/2+l.height)+" L "+(e.startX-l.width/2+l.width/4)+" "+(e.startY-l.height/2+l.height/2)+" L "+(e.startX-l.width/2)+" "+(e.startY-l.height/2+l.height/2)+" L "+e.startX+" "+(e.startY-l.height/2)+" L "+(e.startX+l.width/2)+" "+(e.startY-l.height/2+l.height/2)+" L "+(e.startX+l.width/2-l.width/4)+" "+(e.startY-l.height/2+l.height/2)+" L "+(e.startX+l.width/2-l.width/4)+" "+(e.startY-l.height/2+l.height)+" L "+(e.startX-l.width/2+l.width/4)+" "+(e.startY-l.height/2+l.height)+" z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawDownArrow:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+(e.startX-l.width/2+l.width/4)+" "+(e.startY-l.height/2)+" L "+(e.startX+l.width/2-l.width/4)+" "+(e.startY-l.height/2)+" L "+(e.startX+l.width/2-l.width/4)+" "+(e.startY-l.height/2+l.height/2)+" L "+(e.startX+l.width/2)+" "+(e.startY-l.height/2+l.height/2)+" L "+e.startX+" "+(e.startY-l.height/2+l.height)+" L "+(e.startX-l.width/2)+" "+(e.startY-l.height/2+l.height/2)+" L "+(e.startX-l.width/2+l.width/4)+" "+(e.startY-l.height/2+l.height/2)+" L "+(e.startX-l.width/2+l.width/4)+" "+(e.startY-l.height/2)+" z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawCross:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+(e.startX+-l.width/2)+" "+e.startY+" L "+(e.startX+l.width/2)+" "+e.startY+" M "+e.startX+" "+(e.startY+l.height/2)+" L "+e.startX+" "+(e.startY+-l.height/2),o={id:t.ID,opacity:t.Style.Opacity,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawHorizLine:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+(e.startX+-l.width/2)+" "+e.startY+" L "+(e.startX+l.width/2)+" "+e.startY,o={id:t.ID,opacity:t.Style.Opacity,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawVertLine:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+e.startX+" "+(e.startY+l.height/2)+" L "+e.startX+" "+(e.startY+-l.height/2),o={id:t.ID,opacity:t.Style.Opacity,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawTriangle:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+(e.startX+-l.width/2)+" "+(e.startY+l.height/2)+" L "+e.startX+" "+(e.startY+-l.height/2)+" L "+(e.startX+l.width/2)+" "+(e.startY+l.height/2)+" L "+(e.startX+-l.width/2)+" "+(e.startY+l.height/2)+" z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawInvertedTriangle:function(e,t,i,s){var a=i.svgRenderer,o=(i.svgObject,t.ShapeSize),r="M "+(e.startX+o.width/2)+" "+(e.startY-o.height/2)+" L "+e.startX+" "+(e.startY+o.height/2)+" L "+(e.startX-o.width/2)+" "+(e.startY-o.height/2)+" L "+(e.startX+o.width/2)+" "+(e.startY-o.height/2)+" z",l=(e.startX,e.startY,{id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:r});a.drawPath(l,s)},_drawHexagon:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+(e.startX+-l.width/2)+" "+e.startY+" L "+(e.startX+-l.width/4)+" "+(e.startY+-l.height/2)+" L "+(e.startX+l.width/4)+" "+(e.startY+-l.height/2)+" L "+(e.startX+l.width/2)+" "+e.startY+" L "+(e.startX+l.width/4)+" "+(e.startY+l.height/2)+" L "+(e.startX+-l.width/4)+" "+(e.startY+l.height/2)+" L "+(e.startX+-l.width/2)+" "+e.startY+" z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawWedge:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+(e.startX-l.width)+" "+e.startY+" L "+(e.startX+l.width)+" "+(e.startY+-l.height/2)+" L "+(e.startX+l.width/4*3)+" "+e.startY+" L "+(e.startX+l.width)+" "+(e.startY+l.height/2)+" L "+(e.startX-l.width)+" "+e.startY+" z",o={"stroke-linecap":"miter","stroke-miterlimit":l.width/4,id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawPentagon:function(e,t,i,s){for(var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize),n=Math.sqrt(l.height*l.height+l.width*l.width)/2,d=ej.EjSvgRender.utils._getStringBuilder(),h=0;h<=5;h++){var c=72*h,u=Math.PI/180*c,p=n*Math.cos(u),m=n*Math.sin(u);0==h?d.append("M "+(e.startX+p)+" "+(e.startY+m)+" "):d.append("L "+(e.startX+p)+" "+(e.startY+m)+" ")}d.append("z"),a=d.toString(),o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawStar:function(e,t,i,s){var a,o,r=i.svgRenderer,l=t.ShapeSize;i.svgObject,a="M "+(e.startX+l.width/3)+" "+(e.startY+-l.height/2)+" L "+(e.startX+-l.width/2)+" "+(e.startY+l.height/6)+" L "+(e.startX+l.width/2)+" "+(e.startY+l.height/6)+" L "+(e.startX+-l.width/3)+" "+(e.startY+-l.height/2)+" L "+e.startX+" "+(e.startY+l.height/2)+" L "+(e.startX+l.width/3)+" "+(e.startY+-l.height/2)+" z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawRectangle:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+(e.startX+-l.width/2)+" "+(e.startY+-l.height/2)+" L "+(e.startX+l.width/2)+" "+(e.startY+-l.height/2)+" L "+(e.startX+l.width/2)+" "+(e.startY+l.height/2)+" L "+(e.startX+-l.width/2)+" "+(e.startY+l.height/2)+" L "+(e.startX+-l.width/2)+" "+(e.startY+-l.height/2)+" z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawTrapezoid:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+(e.startX+-l.width/2)+" "+e.startY+" L "+(e.startX+-l.width/2)+" "+(e.startY+-l.height/4)+" L "+(e.startX+-l.width/2+l.width)+" "+(e.startY+-l.height/2)+" L "+(e.startX+-l.width/2+l.width)+" "+(e.startY+l.height/2)+" L "+(e.startX+-l.width/2)+" "+(e.startY+l.height/4)+" L "+(e.startX+-l.width/2)+" "+e.startY+" z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawDiamond:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);a="M "+(e.startX+-l.width/2)+" "+e.startY+" L "+e.startX+" "+(e.startY+-l.height/2)+" L "+(e.startX+l.width/2)+" "+e.startY+" L "+e.startX+" "+(e.startY+l.height/2)+" L "+(e.startX+-l.width/2)+" "+e.startY+" z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},r.drawPath(o,s)},_drawEllipse:function(e,t,i,s){var a=i.svgRenderer,o=(i.svgObject,t.ShapeSize),r=e.startX,l=e.startY,n={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,cx:r,cy:l,rx:o.width,ry:o.height/2};a.drawEllipse(n,s)},_drawImage:function(e,t,i,s){var a=i.svgRenderer,o=i.svgObject,r=t.ShapeSize,l=e.startX+-r.width/2,n=e.startY+-r.width/2,d=r.width,h=r.height,c={id:o.id+"_image"+t.PointIndex,height:h,width:d,href:t.Imageurl,x:l,y:n,visibility:"visible",lgndCtx:t.context};a.drawImage(c,s)},_drawStraightLine:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize),n=t.ElementSpace;return a="M "+(e.startX+-l.width/2+-n/4)+" "+(e.startY+l.height/10)+" L "+(e.startX+l.width/2+n/4)+" "+(e.startY+l.height/10),o={id:t.ID,fill:t.Style.Color,"stroke-width":2*t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX+-l.width/2+-n/4},_drawLine:function(e,t,i,s){var a,o=i.svgRenderer,r=(i.svgObject,t.ShapeSize),l=t.ElementSpace;if(!0===i.model.enableCanvasRendering){a="M "+(e.startX+-r.width/2+-l/4)+" "+(e.startY+r.height/10)+" L "+(e.startX-Math.floor(r.width/3))+" "+(e.startY+r.height/10)+" M "+(e.startX+Math.floor(r.width/3))+" "+(e.startY+r.height/10)+" L "+(e.startX+r.width/2+l/4)+" "+(e.startY+r.height/10);var n={id:t.ID,fill:t.Style.Color,"stroke-width":2*t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},d="M "+(e.startX-Math.floor(r.width/3))+" "+(e.startY+r.height/10)+" a "+Math.floor(r.width/3)+" "+Math.floor(r.width/3)+" 0 1 0 "+2*Math.floor(r.width/3)+" 0 a"+Math.floor(r.width/3)+" "+Math.floor(r.width/3)+" 0 1 0 "+-2*Math.floor(r.width/3)+" 0",h={id:t.ID,fill:"transparent","stroke-width":2*t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:d,lgndCtx:!0};o.drawPath(n,s),o.drawPath(h,s)}else a="M "+(e.startX+-r.width/2+-l/4)+" "+(e.startY+r.height/10)+" L "+(e.startX-Math.floor(r.width/3))+" "+(e.startY+r.height/10)+" M "+(e.startX+Math.floor(r.width/3))+" "+(e.startY+r.height/10)+" L "+(e.startX+r.width/2+l/4)+" "+(e.startY+r.height/10)+" M "+(e.startX-Math.floor(r.width/3))+" "+(e.startY+r.height/10)+" a "+Math.floor(r.width/3)+" "+Math.floor(r.width/3)+" 0 1 0 "+2*Math.floor(r.width/3)+" 0 a"+Math.floor(r.width/3)+" "+Math.floor(r.width/3)+" 0 1 0 "+-2*Math.floor(r.width/3)+" 0",n={id:t.ID,fill:"transparent","stroke-width":2*t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},o.drawPath(n,s);return e.startX+-r.width/2+-l/4},_drawColumn:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize),n=t.ElementSpace;return a="M "+(e.startX-l.width/5*3)+" "+(e.startY-l.height/5)+" L "+(e.startX+-l.width/10*3)+" "+(e.startY-l.height/5)+" L "+(e.startX+-l.width/10*3)+" "+(e.startY+l.height/2)+" L "+(e.startX-l.height/5*3)+" "+(e.startY+l.height/2)+" Z M "+(e.startX+-l.width/10-l.width/20)+" "+(e.startY-l.height/4-n/2)+" L "+(e.startX+l.width/10+l.width/20)+" "+(e.startY-l.height/4-n/2)+" L "+(e.startX+l.width/10+l.width/20)+" "+(e.startY+l.height/2)+" L "+(e.startX+-l.width/10-l.width/20)+" "+(e.startY+l.height/2)+" Z M "+(e.startX+l.width/10*3)+" "+e.startY+" L "+(e.startX+l.width/5*3)+" "+e.startY+" L "+(e.startX+l.width/5*3)+" "+(e.startY+l.height/2)+" L "+(e.startX+l.width/10*3)+" "+(e.startY+l.height/2)+" Z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX-l.width/5*3},_drawRangeColumn:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize),n=t.ElementSpace;return a="M "+(e.startX+-l.width/5)+" "+(e.startY+l.height/2+n/4)+" L "+(e.startX+-l.width/5)+" "+(e.startY-l.height/2-n/4)+" L "+(e.startX+l.width/2)+" "+(e.startY+-l.height/2+-n/4)+" L "+(e.startX+l.width/2)+" "+(e.startY+l.height/2+n/4)+" Z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX+-l.width/5},_drawBar:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize),n=t.ElementSpace;return a="M "+(e.startX+-l.width/2+-n/4)+" "+(e.startY-l.height/5*3)+" L "+(e.startX+l.width/10*3)+" "+(e.startY-l.height/5*3)+" L "+(e.startX+l.width/10*3)+" "+(e.startY-l.height/10*3)+" L "+(e.startX-l.width/2+-n/4)+" "+(e.startY-l.height/10*3)+" Z M "+(e.startX+-l.width/2+-n/4)+" "+(e.startY-l.height/5+n/20)+" L "+(e.startX+l.width/2+n/4)+" "+(e.startY-l.height/5+n/20)+" L "+(e.startX+l.width/2+n/4)+" "+(e.startY+l.height/10+n/20)+" L "+(e.startX-l.width/2+-n/4)+" "+(e.startY+l.height/10+n/20)+" Z M "+(e.startX-l.width/2+-n/4)+" "+(e.startY+l.height/5+n/10)+" L "+(e.startX+-l.width/4)+" "+(e.startY+l.height/5+n/10)+" L "+(e.startX+-l.width/4)+" "+(e.startY+l.height/2+n/10)+" L "+(e.startX-l.width/2+-n/4)+" "+(e.startY+l.height/2+n/10)+" Z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX+-l.width/2+-n/4},_drawStepLine:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize),n=t.ElementSpace;return a="M "+(e.startX+-l.width/2-n/4)+" "+(e.startY+l.height/2)+" L "+(e.startX+-l.width/2+l.width/10)+" "+(e.startY+l.height/2)+" L "+(e.startX+-l.width/2+l.width/10)+" "+e.startY+" L "+(e.startX+-l.width/10)+" "+e.startY+" L "+(e.startX+-l.width/10)+" "+(e.startY+l.height/2)+" L "+(e.startX+l.width/5)+" "+(e.startY+l.height/2)+" L "+(e.startX+l.width/5)+" "+(e.startY+-l.height/2)+" L "+(e.startX+l.width/2)+" "+(e.startY+-l.height/2)+"L "+(e.startX+l.width/2)+" "+(e.startY+l.height/2)+" L"+(e.startX+l.width/2+n/4)+" "+(e.startY+l.height/2),o={id:t.ID,fill:"transparent","stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX+-l.width/2-n/4},_drawSpline:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);return a="M "+(e.startX-l.width/2)+" "+(e.startY+l.height/5)+" Q "+e.startX+" "+(e.startY-l.height)+" "+e.startX+" "+(e.startY+l.height/5)+" M "+e.startX+" "+(e.startY+l.height/5)+" Q "+(e.startX+l.width/2)+" "+(e.startY+l.height/2)+" "+(e.startX+l.width/2)+" "+(e.startY-l.height/2),o={id:t.ID,fill:"transparent","stroke-width":2*t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX-l.width/2},_drawSplineArea:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize);return a="M "+(e.startX-l.width/2)+" "+(e.startY+l.height/5)+" Q "+e.startX+" "+(e.startY-l.height)+" "+e.startX+" "+(e.startY+l.height/5)+" Z M "+e.startX+" "+(e.startY+l.height/5)+" Q "+(e.startX+l.width/2)+" "+(e.startY+l.height/2)+" "+(e.startX+l.width/2)+" "+(e.startY-l.height/2)+"  Z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX-l.width/2},_drawArea:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize),n=t.ElementSpace;return a="M "+(e.startX-l.width/2-n/4)+" "+(e.startY+l.height/2)+" L "+(e.startX+-l.width/4+-n/8)+" "+(e.startY-l.height/2)+" L "+e.startX+" "+(e.startY+l.height/4)+" L "+(e.startX+l.width/4+n/8)+" "+(e.startY+-l.height/2+l.height/4)+" L "+(e.startX+l.height/2+n/4)+" "+(e.startY+l.height/2)+" Z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX-l.width/2-n/4},_drawStepArea:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize),n=t.ElementSpace;return a="M "+(e.startX+-l.width/2+-n/4)+" "+(e.startY+l.height/2)+" L "+(e.startX+-l.width/2+-n/4)+" "+(e.startY+-l.height/2)+" L "+(e.startX-l.width/4)+" "+(e.startY-l.height/2)+" L "+(e.startX-l.width/4)+" "+(e.startY-l.height/4)+" L "+(e.startX+l.width/4)+" "+(e.startY-l.height/4)+" L "+(e.startX+l.width/4)+" "+e.startX+" L "+(e.startX+l.width/2+n/4)+" "+e.startY+" L "+(e.startX+l.width/2+n/4)+" "+(e.startY+l.height/2)+" Z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX+-l.width/2+-n/4},_drawPyramid:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize),n=t.ElementSpace;return a="M "+(e.startX+-l.width/2+-n/4)+" "+(e.startY+l.height/2+n/8)+" L "+e.startX+" "+(e.startY+-l.height/2+-n/8)+" L "+(e.startX+l.width/2+n/4)+" "+(e.startY+l.height/2+n/8)+" Z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX+-l.width/2+-n/4},_drawFunnel:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize),n=t.ElementSpace;return a="M "+(e.startX+-l.width/2+-n/5)+" "+(e.startY+-l.height/2+-n/4)+" L "+(e.startX+-l.width/5)+" "+(e.startY+l.height/4)+" L "+(e.startX+-l.width/5)+" "+(e.startY+l.height/2+n/4)+" L "+(e.startX+l.width/5)+" "+(e.startY+l.height/2+n/4)+" L "+(e.startX+l.width/5)+" "+(e.startY+l.height/4)+" L "+(e.startX+l.width/2+n/5)+" "+(e.startY+-l.height/2+-n/4)+" Z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX+-l.width/2+-n/5},_drawCandle:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize),n=t.ElementSpace;return a="M "+(e.startX+-l.width/2)+" "+(e.startY+l.height/4+n/8)+" L "+(e.startX+l.width/2)+" "+(e.startY+l.height/4+n/8)+" L "+(e.startX+l.width/2)+" "+(e.startY+-l.height/2+n/8)+" L "+(e.startX+-l.width/2)+" "+(e.startY+-l.height/2+n/8)+" Z M "+e.startX+" "+(e.startY+-l.height/2+n/8)+" L "+e.startX+" "+(e.startY+-l.height/2+-n/4)+" M "+e.startX+" "+(e.startY+l.height/4+n/8)+" L "+e.startX+" "+(e.startY+l.height/4+n/2),o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX+-l.width/2},_drawHilo:function(e,t,i,s){var a,o,r=i.svgRenderer,l=(i.svgObject,t.ShapeSize),n=t.ElementSpace;return a="M "+(e.startX+l.width/2)+" "+(e.startY+l.height/2+n/4)+" L "+(e.startX+l.width/2)+" "+(e.startY+-l.height/2+-n/4),o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},r.drawPath(o,s),e.startX+l.width/2},_drawHiloOpenClose:function(e,i,s,a){var o,r,l=s.svgRenderer,n=(s.svgObject,i.ShapeSize),d=(t(18,12,4.0710678118654755,270),i.ElementSpace);return o="M "+e.startX+" "+(e.startY-n.height/10*3)+" L "+(e.startX-n.width/2-d/4)+" "+(e.startY-n.height/10*3)+" M "+e.startX+" "+(e.startY-n.height/2-d/4)+" L "+e.startX+" "+(e.startY+n.height/2+d/4)+" M "+e.startX+" "+(e.startY+n.height/10*3)+" L "+(e.startX+n.width/2+d/4)+" "+(e.startY+n.height/10*3),r={id:i.ID,fill:"transparent","stroke-width":i.Style.BorderWidth,stroke:i.Style.Color,opacity:i.Style.Opacity,visibility:i.Style.Visibility,d:o,lgndCtx:!0},l.drawPath(r,a),e.startX-n.width/2},_drawDoughnut:function(e,i,s,a){var o=s.svgRenderer,r=(s.svgObject,i.ShapeSize),l=i.ElementSpace,n=Math.sqrt(r.height*r.width)/2;n+=l/5;var d=t(e.startX,e.startY,n,270),h=t(e.startX+r.width/10,e.startY,n,270),c=(l=i.ElementSpace,"M "+e.startX+" "+e.startY+" L "+(e.startX+n)+" "+e.startY+" A "+n+" "+n+" 0 1 1 "+d[0]+" "+d[1]+" Z M "+(e.startX+r.width/10)+" "+(e.startY-r.height/10)+" L"+(e.startX+n)+" "+(e.startY-r.height/10)+" A "+n+" "+n+" 0 0 0 "+h[0]+" "+h[1]+" Z"),u={id:i.ID,fill:i.Style.Color,"stroke-width":i.Style.BorderWidth,stroke:i.Style.BorderColor,opacity:i.Style.Opacity,visibility:i.Style.Visibility,d:c,lgndCtx:!0},p={id:i.ID,cx:e.startX,cy:e.startY,r:n/2,lgndCtx:!0,fill:"white","stroke-width":i.Style.BorderWidth,stroke:i.Style.BorderColor,opacity:i.Style.Opacity,visibility:i.Style.Visibility};return o.drawPath(u,a),o.drawCircle(p,a),e.startX-n},_drawPie:function(e,i,s,a){var o=s.svgRenderer,r=(s.svgObject,i.ShapeSize),l=i.ElementSpace,n=Math.sqrt(r.height*r.width)/2;n+=l/5;var d=t(e.startX,e.startY,n,270),h=t(e.startX+r.width/10,e.startY,n,270),c=(l=i.ElementSpace,"M "+e.startX+" "+e.startY+" L "+(e.startX+n)+" "+e.startY+" A "+n+" "+n+" 0 1 1 "+d[0]+" "+d[1]+" Z M "+(e.startX+r.width/10)+" "+(e.startY-r.height/10)+" L"+(e.startX+n)+" "+(e.startY-r.height/10)+" A "+n+" "+n+" 0 0 0 "+h[0]+" "+h[1]+" Z"),u={id:i.ID,fill:i.Style.Color,"stroke-width":i.Style.BorderWidth,stroke:i.Style.BorderColor,opacity:i.Style.Opacity,visibility:i.Style.Visibility,d:c,lgndCtx:!0};return o.drawPath(u,a),e.startX-n}},ej.EjSvgRender.seriesPalette={defaultMetro:["#E94649","#F6B53F","#6FAAB0","#C4C24A","#FB954F","#005277","#8BC652","#69D2E7","#E27F2D","#6A4B82"],defaultHighContrast:["#F93A00","#44E2D6","#DDD10D","#0AA368","#0556CB","#AB40B2","#5F930A","#D12E41","#E0670E","#008FFF"],defaultOffice:["#005277","#8BC652","#6A4B82","#E94649","#6FAAB0","#F7B74F","#C4C24A","#EF863F","#69D2E7","#FFD13E"],defaultMaterial:["#663AB6","#EB3F79","#F8AB1D","#B82E3D","#049CB1","#F2424F","#C2C924","#3DA046","#074D67","#02A8F4"],defaultGradient:{borderColors:["#F34649","#F6D321","#6EB9B0","#CBC26A","#FBAF4F","#E2CDB1","#FFC0B7","#68E1E6","#E1A62D","#9C6EBF"],seriesColors:[[{color:"#F34649",colorStop:"0%"},{color:"#B74143",colorStop:"100%"}],[{color:"#F6D321",colorStop:"0%"},{color:"#F6AE26",colorStop:"100%"}],[{color:"#6EB9B0",colorStop:"0%"},{color:"#3F77BD",colorStop:"100%"}],[{color:"#CBC26A",colorStop:"0%"},{color:"#9AAD21",colorStop:"100%"}],[{color:"#FBAF4F",colorStop:"0%"},{color:"#F07542",colorStop:"100%"}],[{color:"#E2CDB1",colorStop:"0%"},{color:"#AAA089",colorStop:"100%"}],[{color:"#8BC652",colorStop:"0%"},{color:"#6F9E41",colorStop:"100%"}],[{color:"#68E1E6",colorStop:"0%"},{color:"#3D9CBE",colorStop:"100%"}],[{color:"#E1A62D",colorStop:"0%"},{color:"#B66824",colorStop:"100%"}],[{color:"#9C6EBF",colorStop:"0%"}],[{color:"#593F6D",colorStop:"100%"}]]},blueMetro:["#005378","#006691","#007EB5","#0D97D4","#00AEFF","#14B9FF","#54CCFF","#87DBFF","#ADE5FF","#C5EDFF"],blueGradient:{seriesColors:[[{color:"#005277",colorStop:"0%"},{color:"#00304F",colorStop:"100%"}],[{color:"#006590",colorStop:"0%"},{color:"#004068",colorStop:"100%"}],[{color:"#007DB4",colorStop:"0%"},{color:"#00558B",colorStop:"100%"}],[{color:"#0D97D4",colorStop:"0%"},{color:"#057FC7",colorStop:"100%"}],[{color:"#00ADFE",colorStop:"0%"},{color:"#008BE9",colorStop:"100%"}],[{color:"#14B8FE",colorStop:"0%"},{color:"#0798EB",colorStop:"100%"}],[{color:"#53CBFF",colorStop:"0%"},{color:"#35AFEB",colorStop:"100%"}],[{color:"#86DAFF",colorStop:"0%"},{color:"#64C0EC",colorStop:"100%"}],[{color:"#ACE5FF",colorStop:"0%"},{color:"#8DCEED",colorStop:"100%"}],[{color:"#C4ECFF",colorStop:"0%"}],[{color:"#A3D1E6",colorStop:"100%"}]],borderColors:["#005277","#006590","#007DB4","#0D97D4","#00ADFE","#14B8FE","#53CBFF","#86DAFF","#ACE5FF","#C4ECFF"]},greenMetro:["#496612","#597B15","#709A1B","#87B62A","#9AD926","#A6DC37","#BCE654","#C8E780","#D5EFA5","#E2F3BE"],greenGradient:{seriesColors:[[{color:"#5C7F16",colorStop:"0%"},{color:"#384C08",colorStop:"100%"}],[{color:"#6A9319",colorStop:"0%"},{color:"#486009",colorStop:"100%"}],[{color:"#739D1C",colorStop:"0%"},{color:"#57760B",colorStop:"100%"}],[{color:"#90B546",colorStop:"0%"},{color:"#6E9215",colorStop:"100%"}],[{color:"#9AD826",colorStop:"0%"},{color:"#75A010",colorStop:"100%"}],[{color:"#A5DB36",colorStop:"0%"},{color:"#8EB91D",colorStop:"100%"}],[{color:"#BBE554",colorStop:"0%"},{color:"#A4C849",colorStop:"100%"}],[{color:"#C8E780",colorStop:"0%"},{color:"#B4D072",colorStop:"100%"}],[{color:"#D4EEA5",colorStop:"0%"},{color:"#BFD593",colorStop:"100%"}],[{color:"#E1F2BD",colorStop:"0%"}],[{color:"#C8D7A8",colorStop:"100%"}]],borderColors:["#5C7F16","#6A9319","#739D1C","#90B546","#9AD826","#A5DB36","#BBE554","#C8E780","#D4EEA5","#E1F2BD"]},sandleMetro:["#6C450C","#82520D","#A36812","#C07F1F","#E69719","#E89A2B","#EEB564","#F3CB93","#F7DEB4","#F9E6CA"],sandleGradient:{seriesColors:[[{color:"#7F602F",colorStop:"0%"},{color:"#512D04",colorStop:"100%"}],[{color:"#986827",colorStop:"0%"},{color:"#673803",colorStop:"100%"}],[{color:"#A16C1F",colorStop:"0%"},{color:"#8A4B05",colorStop:"100%"}],[{color:"#BF812A",colorStop:"0%"},{color:"#AD630D",colorStop:"100%"}],[{color:"#E49519",colorStop:"0%"},{color:"#B86607",colorStop:"100%"}],[{color:"#E7992A",colorStop:"0%"},{color:"#D7780D",colorStop:"100%"}],[{color:"#EDB463",colorStop:"0%"},{color:"#D98F31",colorStop:"100%"}],[{color:"#F2CA92",colorStop:"0%"},{color:"#DAAC6F",colorStop:"100%"}],[{color:"#F6DDB3",colorStop:"0%"},{color:"#DABE8F",colorStop:"100%"}],[{color:"#F8E5C9",colorStop:"0%"}],[{color:"#DDBE92",colorStop:"100%"}]],borderColors:["#7F602F","#986827","#A16C1F","#BF812A","#E49519","#E7992A","#EDB463","#F2CA92","#F6DDB3","#F8E5C9"]}},ej.EjSvgRender.themes={flatlight:{highlightColor:"black",background:"transparent",legend:{font:{color:"#282828"},title:{font:{color:"#282828"}}},title:{font:{color:"#565656"},subTitle:{font:{color:"#565656"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",borderWidth:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#565656"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultMetro,colors:ej.EjSvgRender.seriesPalette.defaultMetro},flatdark:{highlightColor:"white",background:"#111111",legend:{font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}}},title:{font:{color:"#C9C9C9"},subTitle:{font:{color:"#C9C9C9"}}},primaryXAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryX:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},primaryYAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryY:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#C9C9C9"}}},errorBar:{fill:"#ffffff",cap:{fill:"#ffffff"}},connectorLine:{color:"#C9C9C9"}},crosshair:{line:{width:1,color:"White"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultMetro,colors:ej.EjSvgRender.seriesPalette.defaultMetro},gradientlight:{highlightColor:"black",background:"transparent",legend:{font:{color:"#282828"},title:{font:{color:"#282828"}}},title:{font:{color:"#565656"},subTitle:{font:{color:"#565656"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#565656"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.defaultGradient.seriesColors},gradientdark:{highlightColor:"white",background:"#111111",legend:{font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}}},title:{font:{color:"#C9C9C9"},subTitle:{font:{color:"#C9C9C9"}}},primaryXAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryX:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},primaryYAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryY:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#C9C9C9"}}},errorBar:{fill:"#ffffff",cap:{fill:"#ffffff"}},connectorLine:{color:"#C9C9C9"}},crosshair:{line:{width:1,color:"White"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.defaultGradient.seriesColors},highcontrast01:{highlightColor:"white",background:"#111111",legend:{font:{color:"#ffffff"},title:{font:{color:"#ffffff"}}},title:{font:{color:"#ffffff"},subTitle:{font:{color:"#ffffff"}}},primaryXAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#ffffff",axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryX:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},primaryYAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#ffffff",axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryY:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#ffffff"}}},errorBar:{fill:"#ffffff",cap:{fill:"#ffffff"}},connectorLine:{color:"#C9C9C9"}},crosshair:{line:{width:1,color:"White"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultHighContrast,colors:ej.EjSvgRender.seriesPalette.defaultHighContrast},material:{highlightColor:"black",background:"transparent",legend:{font:{color:"#333333"},title:{font:{color:"#333333"}}},title:{font:{color:"#333333"},subTitle:{font:{color:"#333333"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",borderWidth:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#333333"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultMaterial,colors:ej.EjSvgRender.seriesPalette.defaultMaterial},office365:{highlightColor:"black",background:"transparent",legend:{font:{color:"#333333"},title:{font:{color:"#333333"}}},title:{font:{color:"#333333"},subTitle:{font:{color:"#333333"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",borderWidth:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#333333"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultOffice,colors:ej.EjSvgRender.seriesPalette.defaultOffice}},e.extend(ej.EjSvgRender.themes,{azure:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueMetro,colors:ej.EjSvgRender.seriesPalette.blueMetro},azuredark:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueMetro,colors:ej.EjSvgRender.seriesPalette.blueMetro},"gradient-azure":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.blueGradient.seriesColors},"gradient-azuredark":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.blueGradient.seriesColors},lime:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenMetro,colors:ej.EjSvgRender.seriesPalette.greenMetro},limedark:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenMetro,colors:ej.EjSvgRender.seriesPalette.greenMetro},"gradient-lime":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.greenGradient.seriesColors},"gradient-limedark":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.greenGradient.seriesColors},saffron:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleMetro,colors:ej.EjSvgRender.seriesPalette.sandleMetro},saffrondark:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleMetro,colors:ej.EjSvgRender.seriesPalette.sandleMetro},"gradient-saffron":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.sandleGradient.seriesColors},"gradient-saffrondark":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.sandleGradient.seriesColors}})}(jQuery),ej.axisTypes={},ej.EjAxisRenderer=function(){};var _sideBySeriesPadding=function(e,t,i,s){for(var a,o,r=ej.DataManager(e.model._visibleSeries,ej.Query().sortBy("_zOrder")).executeLocal(),l=!1,n=r.length,d=(s.orientation.toLowerCase(),0);d<n;d++)if(-1!=(a=r[d].type.toLowerCase()).indexOf("column")||-1!=a.indexOf("bar")||-1!=a.indexOf("waterfall")||"candle"==a||-1!=a.indexOf("hilo")||-1!=a.indexOf("box")){l=!0;break}return"polaraxes"!=e.model.AreaType&&l?(s.m_minPointsDelta=void 0,t-=o=.5*ej.EjSvgRender.utils.getMinPointsDelta(s,e,t),i=i+o>Number.MAX_VALUE?Number.MAX_VALUE:i+o,s.padding=o):s.padding=0,{startPadding:t,endPadding:i}};ej.EjStripline=function(e){this.chart=e},function(e){function t(t,i){var s=function(){};return s.prototype=new t,e.extend(s.prototype,i),s}var i,s,a,o,r;ej.EjAxisRenderer.prototype={_seriesMinMax:function(t,i,s,a,o){var r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k=i.orientation.toLowerCase(),P=s.length;if(o.seriesCollection=ej.util.isNullOrUndefined(o.seriesCollection)?{}:o.seriesCollection,P>0&&t.model._hasSeriesPoints&&s[0].points.length>0||this.chartObj.model.indicators[0]._points.length>0){var j,D,A,O,I,R,M,E,V,N,B,F={maxX:null,minX:null},z={maxY:null,minY:null},Y=F.maxX,X=F.minX,W=z.maxY,H=z.minY;for(n=0;n<P;n++){if(E=s[n].visibility.toLowerCase(),V=s[n].points.length,r=0,"visible"===E)for(s[n]._visiblePoints=[],p=0;p<V;p++)(null!=(l=s[n].points[p]).x&&void 0!=l.x&&("object"==typeof l.y||!isNaN(l.y))&&null!=l.y&&void 0!=l.y||l.showIntermediateSum||l.showTotalSum||0==l.isEmpty)&&(s[n]._visiblePoints[r]=l,s[n]._visiblePoints[r].actualIndex=p,r++);i.maxPointLength=V}for(n=0;n<P;n++)if(N=s[n]._visiblePoints.length,d=s[n],N>0&&(E=s[n].visibility.toLowerCase(),V=s[n].points.length,"visible"===E&&V>0))if("horizontal"==k&&!t.model.requireInvertedAxes||"vertical"==k&&t.model.requireInvertedAxes){for(A=j=s[n]._visiblePoints[0].xValue,p=0;p<N;p++)A>(m=s[n]._visiblePoints[p].xValue)&&(A=m),j<m&&(j=m);s[n].minX=A,s[n].maxX=j,(null===X||void 0===X)&&N>0&&(Y=s[n].maxX,X=s[n].minX),X>s[n].minX&&(X=s[n].minX),Y<s[n].maxX&&(Y=s[n].maxX)}else{var U,$,G,q,Z,Q=-1!=d.type.toLowerCase().indexOf("spline"),K=0,J=s[n]._visiblePoints;for(Q&&(h=d._name=d.name||"series"+n,o.seriesCollection[h]={},J=ej.ejSplineSeries.prototype._isVisiblePoints(d),$=o.seriesCollection[h].naturalSpline=ej.ejSplineSeries.prototype.naturalSpline(J,d,0,i),"splinerangearea"==d.type.toLowerCase()&&(G=o.seriesCollection[h].naturalSpline1=ej.ejSplineSeries.prototype.naturalSpline(J,d,1,i)),o.seriesCollection[h].controlPoints=[],q=ej.ejSplineSeries.prototype.getBezierControlPoints,Z=J.filter((function(e){return!ej.isNullOrUndefined(e.YValues[0])&&!isNaN(e.YValues[0])}))),O=D=Q?Z[0].YValues[0]:J[0].YValues[0],p=0;p<J.length;p++)if(m=J[p],s[n]._hiloTypes&&"splinerangearea"!=d.type.toLowerCase())for(g=0;g<2;g++)D>m.YValues[g]&&(D=m.YValues[g]),O<m.YValues[g]&&(O=m.YValues[g]);else if("boxandwhisker"==d.type.toLowerCase()){for(c=J[p].YValues[0][0],u=J[p].YValues[0][0],_=0;_<m.YValues[0].length;_++)c>m.YValues[0][_]&&(c=m.YValues[0][_]),u<m.YValues[0][_]&&(u=m.YValues[0][_]);D=c>D?D:c,O=u<O?O:u}else Q?0!=p&&m.visible&&J[p-1].visible?(o.seriesCollection[h].controlPoints.push(q(J[p-1],m,$[p-1],$[p],0,d,this)),"splinerangearea"==d.type.toLowerCase()&&(f=q(J[p-1],m,G[p-1],G[p],1,d,this),o.seriesCollection[h].controlPoints[K].controlPoint1.YValues[1]=f.controlPoint1.YValues[0],o.seriesCollection[h].controlPoints[K].controlPoint2.YValues[1]=f.controlPoint2.YValues[0]),U=o.seriesCollection[h].controlPoints[K++],D=Math.min(D,m.YValues[0],U.controlPoint1.YValues[0],U.controlPoint2.YValues[0]),O=Math.max(O,m.YValues[0],U.controlPoint1.YValues[0],U.controlPoint2.YValues[0]),"splinerangearea"==d.type.toLowerCase()&&(D=Math.min(D,m.YValues[1],U.controlPoint1.YValues[1],U.controlPoint2.YValues[1]),O=Math.max(O,m.YValues[1],U.controlPoint1.YValues[1],U.controlPoint2.YValues[1]))):(0!=p&&(-1!=d.type.toLowerCase().indexOf("stacking")||"splinerangearea"==d.type.toLowerCase())&&(o.seriesCollection[h].controlPoints.push(q(J[p-1],m,$[p-1],$[p],0,d,this)),"splinerangearea"==d.type.toLowerCase()&&(f=q(J[p-1],m,G[p-1],G[p],1,d,this),o.seriesCollection[h].controlPoints[K].controlPoint1.YValues[1]=f.controlPoint1.YValues[0],o.seriesCollection[h].controlPoints[K].controlPoint2.YValues[1]=f.controlPoint2.YValues[0]),U=o.seriesCollection[h].controlPoints[K++]),D=Math.min(D,isNaN(m.YValues[0])?D:m.YValues[0]||null),O=Math.max(O,m.YValues[0]||null),"splinerangearea"==d.type.toLowerCase()&&(D=Math.min(D,isNaN(m.YValues[1])?D:m.YValues[1]||null),O=Math.max(O,m.YValues[1]||null))):(D>m.YValues[0]&&(D=m.YValues[0]),O<m.YValues[0]&&(O=m.YValues[0]));s[n].minY=D,s[n].maxY=O,(null===H||void 0===H)&&N>0&&(W=s[n].maxY,H=s[n].minY),H>s[n].minY&&(H=s[n].minY),W<s[n].maxY&&(W=s[n].maxY),("column"==(B=s[n].type)||"bar"==B)&&i.startFromZero&&(H=H<0?H:0)}"horizontal"==k&&!t.model.requireInvertedAxes||"vertical"==k&&t.model.requireInvertedAxes?(this.chartObj.model.indicatorRange&&this.chartObj.model.indicatorRange[i.name]&&((H>(y=this.chartObj.model.indicatorRange[i.name]).min||null==H)&&(H=y.min),(W<y.max||null==W)&&(W=y.max)),Y==X&&(Y+=1),"double"==a?(X=(b=_sideBySeriesPadding(t,X,Y,i)).startPadding,v=(Y=b.endPadding)-X,i.range=this._getDoubleAutoRange(i,X,Y,v)):i.range=this._getLogAutoRange(i,X,Y,Y-X)):(this.chartObj.model.stackedValue[i.name]&&(x=!0,H>(y=this.chartObj.model.stackedValue[i.name]).min&&(H=y.min),W<y.max&&(W=y.max)),this.chartObj.model.indicatorRange&&this.chartObj.model.indicatorRange[i.name]&&((H>(y=this.chartObj.model.indicatorRange[i.name]).min||null==H)&&(H=y.min),(W<y.max||null==W)&&(W=y.max)),W==H&&(W<0?W=0:W<=1&&W>0?H=0:(H=0,W+=1)),"column"!=B&&"bar"!=B||i.startFromZero||(w=i.range&&i.range.max||W,W+=S=i.range&&i.range.interval||this.calculateNumericNiceInterval(w-H,i,null,w),H-S<0&&H>0||x?H=0:H-=S),C=W-H,x=!1,i.range="double"==a?this._getDoubleAutoRange(i,H,W,C):this._getLogAutoRange(i,H,W,C))}else i.setRange?(I=null==i.range.min||void 0==i.range.min?0:i.range.min,M=(R=null==i.range.max||void 0==i.range.max?5:i.range.max)-I,i.range="double"==a?this._getDoubleAutoRange(i,I,R,M):this._getLogAutoRange(i,I,R,M)):i.range={min:0,max:5,interval:1,Delta:4};(T=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={range:i.range,axis:i},this.chartObj._trigger("axesRangeCalculate",T),L=T.data.range,i.range={min:L.min,max:L.max,interval:L.interval,delta:L.max-L.min}},_calculateTrendLineRange:function(e,t,i){for(var s,a,o,r,l,n,d=i.length,h=0;h<d;h++)if(o=(a=i[h]).trendlines,"cartesianaxes"==e.model.AreaType&&(t.name==a._xAxisName||t.name==a._yAxisName))for(l=o.length,s=0;s<l;s++)"visible"===(r=o[s]).visibility.toLowerCase()&&(t.name==a._xAxisName?(n=r.type.toLowerCase(),(new ej.trendlineTypes[n]).calculateTrendLineSegment(a,r,t,e)):t.name==a._yAxisName&&!t.setRange&&r.points&&r.points.length>1&&(r.points.length,t.range.min=t.range.min>r.minY?r.minY:t.range.min,t.range.max=t.range.max<r.maxY?r.maxY:t.range.max));return!1},AlignRangeStart:function(e,t,i){var s,a,o,r,l,n,d,h=new Date(e);return"days"==i.toLowerCase()?(s=Math.floor(Math.floor(e.getDate()/t)*t),h=new Date(e.getFullYear(),e.getMonth(),s,0,0,0)):"hours"==i.toLowerCase()?(a=Math.floor(Math.floor(e.getHours()/t)*t),h=new Date(e.getFullYear(),e.getMonth(),e.getDate(),a,0,0)):"milliseconds"==i.toLowerCase()?(o=Math.floor(Math.floor(e.getMilliseconds()/t)*t),h=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),o)):"seconds"==i.toLowerCase()?(r=Math.floor(Math.floor(e.getSeconds()/t)*t),h=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),r,0)):"minutes"==i.toLowerCase()?(l=Math.floor(Math.floor(e.getMinutes()/t)*t),h=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),l,0,0)):"months"==i.toLowerCase()?(n=Math.floor(Math.floor(e.getMonth()/t)*t),h=new Date(e.getFullYear(),n,e.getDate(),0,0,0)):"years"==i.toLowerCase()&&(d=Math.floor(Math.floor(e.getFullYear()/t)*t),h=new Date(d,e.getMonth(),e.getDate(),0,0,0)),h},_increaseDateTimeInterval:function(e,t,i){var s=new Date(e);return"days"==i.toLowerCase()?s.setDate(e.getDate()+t):"hours"==i.toLowerCase()?s.setHours(e.getHours()+t):"milliseconds"==i.toLowerCase()?s.setMilliseconds(e.getMilliseconds()+t):"seconds"==i.toLowerCase()?s.setSeconds(e.getSeconds()+t):"minutes"==i.toLowerCase()?s.setMinutes(e.getMinutes()+t):"months"==i.toLowerCase()?s.setMonth(e.getMonth()+t):"years"==i.toLowerCase()?s.setYear(e.getFullYear()+t):"weeks"==i.toLowerCase()&&s.setDate(e.getDate()+7*t),s},_calculatePadding:function(e){var t,i,s,a,o,r,l,n,d,h,c,u,p,m,g,_="string"!=typeof e.range.min||isNaN(Date.parse(e.range.min))?e.range.min.getTime():Date.parse(e.range.min),f="string"!=typeof e.range.max||isNaN(Date.parse(e.range.max))?e.range.max.getTime():Date.parse(e.range.max),b=this._increaseDateTimeInterval(new Date(_),e.range.interval,e._intervalType).getTime()-_,v=e.rangePadding.toLowerCase();if(!this.chartObj.zoomed&&!e.setRange)if(_=new Date(_),f=new Date(f),t=e._intervalType.toLowerCase(),"none"==e.rangePadding.toLowerCase())_=_.getTime(),f=f.getTime();else if("additional"==v||"round"==v)switch(t){case"years":i=_.getFullYear(),s=f.getFullYear(),"additional"==e.rangePadding.toLowerCase()?(_=new Date(i-e.range.interval,1,1,0,0,0).getTime(),f=new Date(s+e.range.interval,1,1,0,0,0).getTime()):(_=new Date(i,0,0,0,0,0).getTime(),f=new Date(s,11,30,23,59,59).getTime());break;case"months":a=_.getMonth(),o=f.getMonth(),"round"==v?(_=new Date(_.getFullYear(),a,0,0,0,0).getTime(),f=new Date(f.getFullYear(),o,new Date(f.getFullYear(),f.getMonth(),0).getDate(),23,59,59).getTime()):(_=new Date(_.getFullYear(),a+-e.range.interval,1,0,0,0).getTime(),f=new Date(f.getFullYear(),o+e.range.interval,2==o?28:30,0,0,0).getTime());break;case"weeks":case"days":r=_.getDate(),l=f.getDate(),"round"==v?(_=new Date(_.getFullYear(),_.getMonth(),r,0,0,0).getTime(),f=new Date(f.getFullYear(),f.getMonth(),l,23,59,59).getTime()):(_=new Date(_.getFullYear(),_.getMonth(),r+-e.range.interval,0,0,0).getTime(),f=new Date(f.getFullYear(),f.getMonth(),l+e.range.interval,0,0,0).getTime());break;case"hours":n=_.getHours()/e.range.interval*e.range.interval,d=f.getHours()+(_.getHours()-n),"round"==v?(_=new Date(_.getFullYear(),_.getMonth(),_.getDay(),n,0,0).getTime(),f=new Date(f.getFullYear(),f.getMonth(),f.getDay(),d,59,59).getTime()):(_=new Date(_.getFullYear(),_.getMonth(),_.getDay(),n+-e.range.interval,0,0).getTime(),f=new Date(f.getFullYear(),f.getMonth(),f.getDay(),d+e.range.interval,0,0).getTime());break;case"minutes":h=_.getMinutes()/e.range.interval*e.range.interval,c=f.getMinutes()+(_.getMinutes()-h),"round"==v?(_=new Date(_.getFullYear(),_.getMonth(),_.getDay(),_.getHour(),h,0).getTime(),f=new Date(f.getFullYear(),f.getMonth(),f.getDay(),f.getHour(),c,59).getTime()):(_=new Date(_.getFullYear(),_.getMonth(),_.getDay(),_.getHours(),h+-e.range.interval,0).getTime(),f=new Date(f.getFullYear(),f.getMonth(),f.getDay(),f.getHours(),h+e.range.interval,0).getTime());break;case"seconds":u=_.getSeconds()/e.range.interval*e.range.interval,p=f.getSeconds()+(_.getSeconds()-u),"round"==v?(_=new Date(_.getFullYear(),_.getMonth(),_.getDay(),_.getHours(),_.getMinutes(),u,0).getTime(),f=new Date(f.getFullYear(),f.getMonth(),f.getDay(),f.getHour(),f.getMinutes(),p,0).getTime()):(_=new Date(_.getFullYear(),_.getMonth(),_.getDay(),_.getHours(),_.getMinutes(),u+-e.range.interval,0).getTime(),f=new Date(f.getFullYear(),f.getMonth(),f.getDay(),f.getHours(),f.getMinutes(),p+e.range.interval,0).getTime());break;case"milliseconds":m=_.getMilliseconds()/e.range.interval*e.range.interval,g=f.getMilliseconds()+(_.getMilliseconds()-m),"round"==v?(_=new Date(_.getFullYear(),_.getMonth(),_.getDay(),_.getHours(),_.getMinutes(),_.getSeconds(),m).getTime(),f=new Date(f.getFullYear(),f.getMonth(),f.getDay(),f.getHours(),f.getMinutes(),f.getSeconds(),g).getTime()):(_=new Date(_.getFullYear(),_.getMonth(),_.getDay(),_.getHours(),_.getMinutes(),_.getSeconds(),m+-e.range.interval).getTime(),f=new Date(f.getFullYear(),f.getMonth(),f.getDay(),f.getHours(),f.getMinutes(),f.getSeconds(),g+e.range.interval).getTime())}e.actualRange.interval=b,e.actualRange.min=_,e.actualRange.max=f,e._interval=e.range.interval,e.actualRange.delta=e.actualRange.max-e.actualRange.min,e.range.min=new Date(_),e.range.max=new Date(f),this._calculateVisibleRange(e)},_calculateVisibleRange:function(t,i,s){var a,o,r,l,n;if(this.chartObj=i||this.chartObj,t.visibleRange=s?t.visibleRange:e.extend(!0,{},t.actualRange),(t.zoomFactor<1||t.zoomPosition>0)&&"polaraxes"!=this.chartObj.model.AreaType&&!this.chartObj.model.disableZoom){t.zoomFactor=t.zoomFactor>1?1:t.zoomFactor<0?0:t.zoomFactor,t.zoomPosition=t.zoomPosition<0?0:t.zoomPosition>1?1:t.zoomPosition,a=t.actualRange,r=t.isInversed?(o=t.actualRange.max-t.zoomPosition*t.actualRange.delta)-t.zoomFactor*t.actualRange.delta:(o=t.actualRange.min+t.zoomPosition*t.actualRange.delta)+t.zoomFactor*t.actualRange.delta,o<a.min&&(r+=a.min-o,o=a.min),r>a.max&&(o-=r-a.max,r=a.max),l=new Date(o),n=new Date(r),o==r&&(l=new Date(Date.parse(l)-2592e6),n=new Date(Date.parse(n)+2592e6));var d=Math.min(l.getTime(),n.getTime()),h=Math.max(l.getTime(),n.getTime()),c=t.enableAutoIntervalOnZooming?this.calculateDateTimeNiceInterval(t,l,n):{interval:t._interval,intervalType:t._intervalType},u=this._increaseDateTimeInterval(l,c.interval,c.intervalType).getTime()-d;if(s)return{min:d,max:h,interval:u};t._intervalType=c.intervalType,t.visibleRange.min=d,t.visibleRange.max=h,t.visibleRange.interval=u,t.visibleRange.delta=Math.abs(t.visibleRange.max-t.visibleRange.min),t._interval=c.interval}},_calculateAxisLabels:function(t){for(var i,s,a=t.enableAutoIntervalOnZooming?t.visibleRange.min:t.actualRange.min,o=this.chartObj.zoomed||t.zoomed||!t.setRange?this.AlignRangeStart(new Date(a),t._interval,t._intervalType).getTime():t.visibleRange.min;o<=t.visibleRange.max;)o>=t.visibleRange.min&&o<=t.visibleRange.max&&(i="Weeks"!==t._intervalType||t.labelFormat?ej.format(new Date(o),t.labelFormat?t.labelFormat:ej.EjSvgRender.utils._dateTimeLabelFormat(t._intervalType,t),this.chartObj.model.locale):this.getWeekFormat(o),(s=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={label:{Text:i,Value:o},axis:t},this.chartObj._trigger("axesLabelRendering",s),t.visibleLabels.push({Value:o,Text:s.data.label.Text})),o=this._increaseDateTimeInterval(new Date(o),t._interval,t._intervalType).getTime(),t.visibleLabels[t.visibleLabels.length-1]=t.visibleLabels[t.visibleLabels.length-1];t._LableMaxWidth=ej.EjSvgRender.utils._getMaxLabelWidth(t,this.chartObj)},getWeekFormat:function(e){var t=new Date(e),i=new Date(t.getFullYear(),0,1);return"Week "+Math.ceil(((t-i)/864e5+i.getDay()+1)/7)},calculateDateTimeNiceInterval:function(e,t,i){var s,a,o,r,l=Math.abs((t.getTime()-i.getTime())/864e5),n=this.calculateNumericNiceInterval(l/365,e,"years");return n<=1&&l>=365&&(n=1),n>=1?{interval:n,intervalType:"Years"}:(0==(n=this.calculateNumericNiceInterval(l/30,e,"months"))&&(n=1),n>=1?{interval:n,intervalType:"Months"}:(0==(n=this.calculateNumericNiceInterval(l/7,e,"weeks"))&&(n=1),n>=1?{interval:n,intervalType:"Weeks"}:(0==(n=this.calculateNumericNiceInterval(l,e,"days"))&&(n=1),n>=1?{interval:n,intervalType:"Days"}:(s=24*l,0==(n=this.calculateNumericNiceInterval(s,e,"hours"))&&(n=1),n>=1?{interval:n,intervalType:"Hours"}:(a=1440*l,0==(n=this.calculateNumericNiceInterval(a,e,"minutes"))&&(n=1),n>=1?{interval:n,intervalType:"Minutes"}:(o=86400*l,0==(n=this.calculateNumericNiceInterval(o,e,"seconds"))&&(n=1),n>=1?{interval:n,intervalType:"Seconds"}:(r=864e5*l,0==(n=this.calculateNumericNiceInterval(r,e,"milliseconds"))&&(n=1),n>=1?{interval:n,intervalType:"Milliseconds"}:void 0)))))))},calculateNumericNiceInterval:function(e,t,i,s){var a,o,r=this.GetActualDesiredIntervalsCount(t,t.length),l=e/r;if("double"==t._valueType&&null!=t.desiredIntervals)return l;var n=Math.pow(10,Math.floor(ej.EjSvgRender.utils._logBase(l,10))),d=[10,5,2,1],h=s||t.range&&t.range.max;for(a=0;a<d.length;a++){if(r<e/(o=n*d[a]))return"datetime"==t._valueType?ej.util.isNullOrUndefined(t.intervalType)||t.intervalType.toLowerCase()!=i?l:Math.ceil(l):ej.util.isNullOrUndefined(t.range)||ej.util.isNullOrUndefined(t.range.max)?l:l>h?o:l;l=o}return l},GetActualDesiredIntervalsCount:function(e,t){if(ej.util.isNullOrUndefined(e.desiredIntervals)){var i=("horizontal"==e.orientation.toLowerCase()?.533:1)*e.maximumLabels;return Math.max(t*(i/100),1)}return e.desiredIntervals},_calculateRange:function(t,i,s){var a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T;if(!this.chartObj.zoomed){if(a=new Date,s.seriesCollection=ej.util.isNullOrUndefined(s.seriesCollection)?{}:s.seriesCollection,o=t.orientation.toLowerCase(),i.length>0&&this.chartObj.model._hasSeriesPoints&&i[0].points.length>0||this.chartObj.model.indicators[0]._points.length>0){var L,k,P,j,D,A={maxX:null,minX:null},O={maxY:null,minY:null};for(r=0;r<i.length;r++){if(l=i[r],(D=i[r].points.length)>0&&"visible"===i[r].visibility.toLowerCase()&&i[r].points.length>0){for(n=-1!=l.type.toLowerCase().indexOf("spline"),"vertical"==o&&n?(m=0,g=i[r]._visiblePoints,n&&(_=l._name=l.name||"series"+r,s.seriesCollection[_]={},g=ej.ejSplineSeries.prototype._isVisiblePoints(l),h=s.seriesCollection[_].naturalSpline=ej.ejSplineSeries.prototype.naturalSpline(g,l,0,t),"splinerangearea"==l.type.toLowerCase()&&(c=s.seriesCollection[_].naturalSpline1=ej.ejSplineSeries.prototype.naturalSpline(g,l,1,t)),s.seriesCollection[_].controlPoints=[],u=ej.ejSplineSeries.prototype.getBezierControlPoints,p=g.filter((function(e){return!ej.isNullOrUndefined(e.YValues[0])&&!isNaN(e.YValues[0])}))),P=k=n?p[0].YValues[0]:g[0].YValues[0]):(j=L=new Date(i[r].points[0].xValue),P=k=i[r].points[0].YValues[0]),f=0;f<D;f++)n&&"vertical"==o?(b=g[f],0!=f&&b.visible&&g[f-1].visible?(s.seriesCollection[_].controlPoints.push(u(g[f-1],b,h[f-1],h[f],0,l,this)),"splinerangearea"==l.type.toLowerCase()&&(v=u(g[f-1],b,c[f-1],c[f],1,l,this),s.seriesCollection[_].controlPoints[m].controlPoint1.YValues[1]=v.controlPoint1.YValues[0],s.seriesCollection[_].controlPoints[m].controlPoint2.YValues[1]=v.controlPoint2.YValues[0]),d=s.seriesCollection[_].controlPoints[m++],k=Math.min(k,b.YValues[0],d.controlPoint1.YValues[0],d.controlPoint2.YValues[0]),P=Math.max(P,b.YValues[0],d.controlPoint1.YValues[0],d.controlPoint2.YValues[0]),"splinerangearea"==l.type.toLowerCase()&&(k=Math.min(k,b.YValues[1],d.controlPoint1.YValues[1],d.controlPoint2.YValues[1]),P=Math.max(P,b.YValues[1],d.controlPoint1.YValues[1],d.controlPoint2.YValues[1]))):(0!=f&&(-1!=l.type.toLowerCase().indexOf("stacking")||"splinerangearea"==l.type.toLowerCase())&&(s.seriesCollection[_].controlPoints.push(u(g[f-1],b,h[f-1],h[f],0,l,this)),"splinerangearea"==l.type.toLowerCase()&&(v=u(g[f-1],b,c[f-1],c[f],1,l,this),s.seriesCollection[_].controlPoints[m].controlPoint1.YValues[1]=v.controlPoint1.YValues[0],s.seriesCollection[_].controlPoints[m].controlPoint2.YValues[1]=v.controlPoint2.YValues[0]),d=s.seriesCollection[_].controlPoints[m++]),k=Math.min(k,isNaN(b.YValues[0])?k:b.YValues[0]||null),P=Math.max(P,b.YValues[0]||null),"splinerangearea"==l.type.toLowerCase()&&(k=Math.min(k,isNaN(b.YValues[1])?k:b.YValues[1]||null),P=Math.max(P,b.YValues[1]||null)))):(null!=j&&void 0!=j?(j>i[r].points[f].xValue&&(j=i[r].points[f].xValue),L<i[r].points[f].xValue&&(L=i[r].points[f].xValue)):j=L=new Date(i[r].points[f+1].xValue),k>i[r].points[f].YValues[0]&&(k=i[r].points[f].YValues[0]),P<i[r].points[f].YValues[0]&&(P=i[r].points[f].YValues[0]));i[r].minX=j,i[r].maxX=L,i[r].minY=k,i[r].maxY=P,(!t.maxPointLength||t.maxPointLength<D)&&(t.maxPointLength=D)}(A.minX=null==A.minX&&"number"!=typeof i[r].minX?i[r].minX:A.minX)>i[r].minX&&(A.minX="number"!=typeof i[r].minX?i[r].minX:A.minX),(A.maxX=null==A.maxX&&"number"!=typeof i[r].maxX?i[r].maxX:A.maxX)<i[r].maxX&&(A.maxX="number"!=typeof i[r].maxX?i[r].maxX:A.maxX),O.minY>i[r].minY&&(O.minY=i[r].minY),O.maxY<i[r].maxY&&(O.maxY=i[r].maxY)}this.chartObj.model.indicatorRange&&this.chartObj.model.indicatorRange[t.name]&&(x=this.chartObj.model.indicatorRange[t.name],(A.minX>new Date(x.min)||null==A.minX)&&(A.minX=new Date(x.min)),(A.maxX<new Date(x.max)||null==A.maxX)&&(A.maxX=new Date(x.max))),A.minX=null==A.minX?a:A.minX,A.maxX=null==A.maxX?new Date((new Date).setMonth(a.getMonth()+5)):A.maxX,A.minX==A.maxX&&(A.minX=new Date(Date.parse(A.minX)-2592e6),A.maxX=new Date(Date.parse(A.maxX)+2592e6)),y=_sideBySeriesPadding(this.chartObj,A.minX.getTime(),A.maxX.getTime(),t),A.minX=new Date(y.startPadding),A.maxX=new Date(y.endPadding),w=this.calculateDateTimeNiceInterval(t,A.minX,A.maxX),t._intervalType=t.intervalType?t.intervalType:w.intervalType,"auto"==t.intervalType&&(t._intervalType=t.intervalType=w.intervalType),(null==t.setAxisInterval||void 0==t.setAxisInterval)&&(t.setAxisInterval=!(!t.range||!t.range.interval)),t._setInterval&&!this.chartObj._chartResize&&t.range&&t._setInterval!=t.range.interval&&(t._setInterval=null),t.setRange?(t.range.max||(t.range.max=A.maxX),t.range.min||(t.range.min=A.minX),"string"==typeof t.range.min&&-1!=t.range.min.indexOf("/Date(")&&(t.range.min=new Date(parseInt(t.range.min.substr(6)))),"string"==typeof t.range.max&&-1!=t.range.max.indexOf("/Date(")&&(t.range.max=new Date(parseInt(t.range.max.substr(6)))),new Date(t.range.min).getTime()==new Date(t.range.max).getTime()&&(t.range.max=new Date(Date.parse(t.range.max)+864e5)),w=this.calculateDateTimeNiceInterval(t,new Date(t.range.min),new Date(t.range.max)),t._intervalType=t.intervalType?t.intervalType:w.intervalType,t.setAxisInterval||(t.range.interval=w.interval,t._setInterval=w.interval),t.actual_Range=e.extend(!0,{},t.range),t.setRange=!0,S=t._setInterval?w.interval:t.range.interval||t.actual_Range.interval,t.range={min:t.actual_Range.min,max:t.actual_Range.max,interval:S}):t.range={min:A.minX,max:A.maxX,interval:w.interval}}else t.setRange?(t.range.min=null===t.range.min||void 0===t.range.min?a:t.range.min,t.range.max=null===t.range.max||void 0===t.range.max?new Date((new Date).setMonth(a.getMonth()+5)):t.range.max,t.range.interval=null===t.range.interval||void 0===t.range.interval?1:t.range.interval,t._intervalType="Months"):(t.range={min:a,max:new Date((new Date).setMonth(a.getMonth()+5)),interval:1},t._intervalType=ej.util.isNullOrUndefined(t.intervalType)?"Months":t.intervalType);(C=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={range:t.range,axis:t},this.chartObj._trigger("axesRangeCalculate",C),T=C.data.range,t.range={min:T.min,max:T.max,interval:T.interval,delta:T.max-T.min}}},_calculateRanges:function(e,t,i,s){this.chartObj=e,this._saveRange(e,t),this._calculateRange(t,i,s),t._range=t.range,e.model._drawTrendline&&this._calculateTrendLineRange(e,t,i),this._calculatePadding(t),this._calculateAxisLabels(t)},_saveRange:function(e,t){(e.zoomed||e.resetZooming)&&(t.range=null!=t.range&&null!=t.range.min&&null!=t.range.max?t.range:t._range),t._initialRange&&(t._initialRange!=t.range&&null!=t.range?t.setRange=!0:null==t.range&&(t.setRange=!1)),t._initialRange=null==t.range?{min:null,max:null,interval:null}:{min:t.range.min,max:t.range.max,interval:t.range.interval}}},i=t(ej.EjAxisRenderer),ej.axisTypes.datetime=i,s=t(ej.EjAxisRenderer,{_calculateRange:function(e,t,i,s){e.zoomed||this._seriesMinMax(e,t,i,"double",s)},_getDoubleAutoRange:function(t,i,s){var a,o,r;return t.setRange?(ej.util.isNullOrUndefined(t.range.max)&&(t.range.max=s),ej.util.isNullOrUndefined(t.range.min)&&(t.range.min=i),t.actual_Range=e.extend(!0,{},t.range),t.setRange=!0):t.range={min:i,max:s},a=t.range.max-t.range.min,o=this.calculateNumericNiceInterval(a,t),ej.EjSvgRender.utils._decimalPlaces(o)>20&&(r=o.toString(),o=parseFloat(r.substring(0,r.indexOf("."))+r.substring(r.indexOf("."),22))),(ej.util.isNullOrUndefined(t.range.interval)||t.range.interval<0)&&(t.range.interval=o),t.range.delta=a,t.range},_calculatePadding:function(e,t,i){var s,a,o=i.min,r=i.max,l=t.rangePadding.toLowerCase(),n=i.interval;t.setRange||e.zoomed||("normal"==l?(s=0,o<0?(o=0,.365*n>=n+(s=i.min+i.min/20)%n&&(s-=n),s%n<0&&(s=s-n-s%n)):(s=o<5/6*r?0:o-(r-o)/2)%n>0&&(s-=s%n),.365*n>=n-(a=r>0?r+(r-o)/20>Number.MAX_VALUE?Number.MAX_VALUE:r+(r-o)/20:r-(r-o)/20)%n&&(a=a+n>Number.MAX_VALUE?Number.MAX_VALUE:a+n),a%n>0&&(a=a+n-a%n>Number.MAX_VALUE?Number.MAX_VALUE:a+n-a%n),s<=0&&(n=this.calculateNumericNiceInterval(a-s,t),a=Math.ceil(a/n)*n>Number.MAX_VALUE?Number.MAX_VALUE:Math.ceil(a/n)*n),o=t.roundingPlaces?parseFloat(s.toFixed(t.roundingPlaces)):parseFloat(s.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(n)?1:ej.EjSvgRender.utils._decimalPlaces(n))),r=t.roundingPlaces?parseFloat(a.toFixed(t.roundingPlaces)):parseFloat(a.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(n)?1:ej.EjSvgRender.utils._decimalPlaces(n)))):("additional"==l||"round"==l)&&(o=Math.floor(o/n)*n,r=Math.ceil(r/n)*n>Number.MAX_VALUE?Number.MAX_VALUE:Math.ceil(r/n)*n,"additional"==l&&(o-=n,r=r+n>=Number.MAX_VALUE?Number.MAX_VALUE:r+n))),t.actualRange.min=o,t.actualRange.max=r,t.actualRange.interval=n,t.range.min=o,t.range.max=r,t.range.interval=n,t.actualRange.delta=r-o>=Number.MAX_VALUE?r:r-o,this._calculateVisibleRange(t),t.rangePadding=t._rangePadding},_calculateVisibleRange:function(t,i,s){var a,o,r,l,n;if(this.chartObj=i||this.chartObj,t.visibleRange=s?t.visibleRange:e.extend(!0,{},t.actualRange),(t.zoomFactor<1||t.zoomPosition>0)&&"polaraxes"!=this.chartObj.model.AreaType&&!this.chartObj.model.disableZoom){if(a=t.actualRange,t.zoomFactor=t.zoomFactor>1?1:t.zoomFactor<0?0:t.zoomFactor,t.zoomPosition=t.zoomPosition<0?0:t.zoomPosition>1?1:t.zoomPosition,r=t.isInversed?(o=t.actualRange.max-t.zoomPosition*t.actualRange.delta)-t.zoomFactor*t.actualRange.delta:(o=t.actualRange.min+t.zoomPosition*t.actualRange.delta)+t.zoomFactor*t.actualRange.delta,o<a.min&&(r+=a.min-o,o=a.min),r>a.max&&(o-=r-a.max,r=a.max),l=Math.abs(r-o),n=t.enableAutoIntervalOnZooming?this.calculateNumericNiceInterval(l,t):t.actualRange.interval,s)return{min:Math.min(o,r),max:Math.max(o,r),delta:l,interval:n};t.visibleRange.min=Math.min(o,r),t.visibleRange.max=Math.max(o,r),t.visibleRange.delta=l,t.visibleRange.interval=n,t.zoomed=null===this.chartObj.zoomed||void 0===this.chartObj.zoomed||this.chartObj.zoomed}},_calculateAxisLabels:function(t,i){var s,a,o,r,l,n,d,h,c,u,p,m,g=i.roundingPlaces,_=this.chartObj.model.locale;for(i.labelFormat,i.visibleRange.min=parseFloat(i.visibleRange.min.toPrecision(14)),i.visibleRange.max=parseFloat(i.visibleRange.max.toPrecision(14)),s=t.zoomed||i.zoomed||i.padding?i.visibleRange.min-i.visibleRange.min%i.visibleRange.interval:i.visibleRange.min;s<=i.visibleRange.max;s+=i.visibleRange.interval)if(ej.EjSvgRender.utils._inside(s,i.visibleRange)){if(s==d)break;d=s,o=s.toString().split(0).length-1>10?10:20,s=parseFloat(s.toFixed(!g&&g>o?g:o)),r=g?s:parseFloat(s.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)?1:ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval))),n=g?parseFloat(s.toFixed(g)):parseFloat(s.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)?1:ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval))),(a=i.labelFormat)?null!=a.match("{value}")?n=a.replace("{value}",n):0!=a.indexOf("e")&&0!=a.indexOf("E")||-1!=a.indexOf("ej.format")?(-1!=a.indexOf("ej.format")&&(a=a.substring(a.indexOf("(")+1,a.indexOf(")"))),n=ej.format(n,a,_)):(h=null==(h=a.match(/(\d+)/g))?6:h>20?20:h,n=n.toExponential(h)):n=i.isStacked100?n+"%":_?n.toLocaleString(_):n,(l=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={label:{Text:n,Value:s},axis:i},t._trigger("axesLabelRendering",l),i.visibleLabels.push({Value:r,Text:l.data.label.Text})}for(c=0,u=i.visibleLabels,p=0;p<u.length;p++)"string"==typeof u[p].Text&&(m=u[p].Text.split("<br>").length,c=Math.max(m,c));i.rowsCount=c,i._LableMaxWidth=ej.EjSvgRender.utils._getMaxLabelWidth(i,this.chartObj)},_calculateRanges:function(e,t,i,s){this.chartObj=e,this._saveRange(e,t),this._calculateRange(e,t,i,s),t._range=t.range,e.model._drawTrendline&&this._calculateTrendLineRange(e,t,i),this._calculatePadding(e,t,t.range),t.maximumLabels>0&&this._calculateAxisLabels(e,t)}}),ej.axisTypes.double=s,a=t(ej.EjAxisRenderer,{_getRoundValue:function(e,t,i){return(i?Math.ceil(e/t):Math.floor(e/t))*t},calculateLogNiceInterval:function(e,t){for(var i,s=this.GetActualDesiredIntervalsCount(t,t.length),a=e,o=Math.pow(10,Math.floor(ej.EjSvgRender.utils._logBase(a,10))),r=[10,5,2,1],l=0;l<r.length;l++){if(s<e/(i=o*r[l]))return a;a=i}return a},_getLogAutoRange:function(t,i,s,a){var o,r,l,n,d=ej.EjSvgRender.utils._logBase(i,t.logBase);return d=e.isNumeric(d)?d:i,o=ej.EjSvgRender.utils._logBase(s,t.logBase),o=e.isNumeric(o)?o:s,r=this._getRoundValue(d,1,!1),l=this._getRoundValue(o,1,!0),0==r&&0==l&&(r=ej.EjSvgRender.utils._logBase(s-s/2,t.logBase),l=ej.EjSvgRender.utils._logBase(s+s/2,t.logBase)),a=l-r,n=this.calculateLogNiceInterval(a,t),t.actual_Range={min:r,max:l,interval:n,Delta:a},r=Math.pow(t.logBase,Math.floor(d)),a=(l=Math.pow(t.logBase,Math.ceil(o)))-r,t.setRange?(ej.util.isNullOrUndefined(t.range.interval)&&(t.range.interval=n),ej.util.isNullOrUndefined(t.range.max)&&(t.range.max=l),ej.util.isNullOrUndefined(t.range.min)&&(t.range.min=r),t.actual_Range=e.extend(!0,{},t.range),ej.util.isNullOrUndefined(t.actual_Range.max)||(t.actual_Range.max=ej.EjSvgRender.utils._logBase(t.actual_Range.max,t.logBase),t.actual_Range.max=this._getRoundValue(t.actual_Range.max,1,!0)),ej.util.isNullOrUndefined(t.range.min)||(t.actual_Range.min=ej.EjSvgRender.utils._logBase(t.actual_Range.min,t.logBase),t.actual_Range.min=this._getRoundValue(t.actual_Range.min,1,!1)),t.setRange=!0,t.range):t.range={min:r,max:l,interval:n,Delta:a}},_calculateLogRange:function(e,t,i,s){e.zoomed||this._seriesMinMax(e,t,i,"logarithmic",s)},_calculateLogPadding:function(e,t,i){var s=i.min,a=i.max,o=i.interval;t.actualRange.min=s,t.actualRange.max=a,t.actualRange.interval=o,t.actualRange.delta=a-s,this._calculateVisibleRange(t)},_calculateVisibleRange:function(t,i,s){var a,o,r;if(this.chartObj=i||this.chartObj,t.visibleRange=s?t.visibleRange:e.extend(!0,{},t.actualRange),(t.zoomFactor<1||t.zoomPosition>0)&&"polaraxes"!=this.chartObj.model.AreaType&&!this.chartObj.model.disableZoom){t.zoomFactor=t.zoomFactor>1?1:t.zoomFactor<0?0:t.zoomFactor,t.zoomPosition=t.zoomPosition<0?0:t.zoomPosition>1?1:t.zoomPosition,a=t.actualRange,r=t.isInversed?(o=t.actualRange.max-t.zoomPosition*t.actualRange.delta)-t.zoomFactor*t.actualRange.delta:(o=t.actualRange.min+t.zoomPosition*t.actualRange.delta)+t.zoomFactor*t.actualRange.delta,o<a.min&&(r+=a.min-o,o=a.min),r>a.max&&(o-=r-a.max,r=a.max);var l=Math.abs(r-o),n=t.enableAutoIntervalOnZooming?this.calculateLogNiceInterval(l,t):t.visibleRange.interval,d=ej.util.isNullOrUndefined(t.roundingPlaces)?0==ej.EjSvgRender.utils._decimalPlaces(t.visibleRange.interval)?1:ej.EjSvgRender.utils._decimalPlaces(t.visibleRange.interval):t.roundingPlaces;if(n=parseFloat(t.visibleRange.interval.toFixed(d)),s)return{min:Math.min(o,r),max:Math.max(o,r),interval:n};t.visibleRange.interval=n,t.visibleRange.min=Math.min(o,r),t.visibleRange.max=Math.max(o,r),t.visibleRange.delta=l,t.zoomed=null===this.chartObj.zoomed||void 0===this.chartObj.zoomed||this.chartObj.zoomed}},_calculateAxisLabels:function(t,i){for(var s,a,o=i.roundingPlaces,r=t.zoomed||i.zoomed?i.visibleRange.min-i.visibleRange.min%i.visibleRange.interval:i.visibleRange.min;r<=i.visibleRange.max;r+=i.visibleRange.interval)if(ej.EjSvgRender.utils._inside(r,i.visibleRange)){var l=i.labelFormat?i.labelFormat.match("{value}"):null,n=Math.pow(i.logBase,r),d=n.toString().split(0).length-1>10?10:20;n=parseFloat(n.toFixed(!o&&o>d?o:d)),s=i.labelFormat?null!=l?i.labelFormat.replace("{value}",n):ej.format(n,i.labelFormat,t.model.locale):n,(a=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={label:{Text:s,Value:r},axis:i},t._trigger("axesLabelRendering",a),i.visibleLabels.push({Value:r,Text:a.data.label.Text})}i._LableMaxWidth=ej.EjSvgRender.utils._getMaxLabelWidth(i,this.chartObj)},_calculateRanges:function(e,t,i,s){this.chartObj=e,this._calculateLogRange(e,t,i,s),e.model._drawTrendline&&this._calculateTrendLineRange(e,t,i),this._calculateLogPadding(e,t,t.actual_Range),this._calculateAxisLabels(e,t)}}),ej.axisTypes.logarithmic=a,o=t(ej.EjAxisRenderer,{_calculateCategoryRange:function(t,i){var s,a,o,r,l,n,d=void 0==this.chartObj.model.legendCollapsed?!this.chartObj.zoomed:this.chartObj.model.legendCollapsed;if(!this.chartObj.model.excludeDataUpdate||d){var h,c,u,p,m={maxX:null,minX:0},g=[],_=t.isIndexed,f=this.chartObj.model.locale;if(i.length>0&&this.chartObj.model._hasSeriesPoints&&i[0].points.length>0||this.chartObj.model.indicators[0]._points.length>0){for(s=0;s<i.length;s++){for(p=i[s].points.length,a=0;a<p;a++)h="date"==i[s]._xAxisValueType?ej.format(new Date(i[s].points[a].x),ej.util.isNullOrUndefined(t.labelFormat)?"dd/MM/yyyy":t.labelFormat,f):i[s].points[a].x,_?g[a]=0==s?h:g[a]+", "+h:e.inArray(h,g)<0&&g.push(h);(!t.maxPointLength||t.maxPointLength<p)&&(t.maxPointLength=p)}for(o=0;o<i.length;o++){for(i[o]._pointCollection=[],r=0;r<i[o].points.length;r++)i[o]._pointCollection.push(i[o].points[r].x),h="date"==i[o]._xAxisValueType?ej.format(new Date(i[o].points[r].x),ej.util.isNullOrUndefined(t.labelFormat)?"dd/MM/yyyy":t.labelFormat,f):i[o].points[r].x,i[o].points[r].xValue=_?r:e.inArray(h,g);i[o].minX=0,i[o].maxX="date"==i[o]._xAxisValueType?i[o]._pointCollection.length-1:g.length-1,0==o&&(m.maxX=i[o].maxX,t.labels="date"==i[o]._xAxisValueType?i[o]._pointCollection:g,t._categoryValueType=i[o]._xAxisValueType),m.maxX<i[o].maxX&&(m.maxX=i[o].maxX,t.labels=[],t.labels=g)}this.chartObj.model.indicatorRange&&this.chartObj.model.indicatorRange[t.name]&&(l=this.chartObj.model.indicatorRange[t.name],(m.minX>l.min||null==m.minX)&&(m.minX=l.min),(m.maxX<l.max||null==m.maxX)&&(m.maxX=l.max)),u=m.maxX-m.minX,c=t.setRange&&t.range.interval?Math.ceil(t.range.interval):this._calculateActualInterval(u,t),t.range={min:m.minX,max:m.maxX,interval:c,Delta:u}}else(n=t.labels.length)>0?(u=n-1,c=this._calculateActualInterval(u,t),t.range={min:0,max:n-1,interval:c,Delta:u}):t.range||(t.range={min:0,max:6,interval:1,Delta:6})}var b,v=0,x=t.labelIntersectAction,y=t.labelRotation;if(("rotate45"!=x||"rotate90"!=x)&&(0==y||null==y))for(b=0;b<t.labels.length;b++)"string"==typeof t.labels[b]&&(n=t.labels[b].split("<br>").length,v=Math.max(n,v));t.rowsCount=v},_calculateActualInterval:function(e,t){return null==t.categoryInterval?Math.max(1,Math.floor(e/this.GetActualDesiredIntervalsCount(t,t.length))):t.categoryInterval},_applyRangePadding:function(e){var t,i;this.chartObj.zoomed||this.chartObj._scrollBarEnabled||e.zoomed||(t=0,"polaraxes"!==this.chartObj.model.AreaType&&(t=null===e.labelPlacement||void 0===e.labelPlacement||""===e.labelPlacement||"betweenticks"==e.labelPlacement.toLowerCase()?-.5:0),this.chartObj.scrollsvgObj||(t<0?(e.range.min=e.range.min+t,e.range.max=e.range.max-t,e.range.delta=e.range.max-e.range.min,e.actualRange=e.range):(i=_sideBySeriesPadding(this.chartObj,e.range.min,e.range.max,e),e.range.min=i.startPadding,e.range.max=i.endPadding,e.range.delta=e.range.max-e.range.min,e.actualRange=e.range))),this._calculateVisibleRange(e)},_calculateVisibleRange:function(t,i,s){var a,o,r;if(this.chartObj=i||this.chartObj,t.visibleRange=s?t.visibleRange:e.extend(!0,{},t.actualRange),(t.zoomFactor<1||t.zoomPosition>0)&&"polaraxes"!=this.chartObj.model.AreaType&&!this.chartObj.model.disableZoom){t.zoomFactor=t.zoomFactor>1?1:t.zoomFactor<0?0:t.zoomFactor,t.zoomPosition=t.zoomPosition<0?0:t.zoomPosition>1?1:t.zoomPosition,a=t.actualRange,r=t.isInversed?(o=t.actualRange.max-t.zoomPosition*t.actualRange.delta)-t.zoomFactor*t.actualRange.delta:(o=t.actualRange.min+t.zoomPosition*t.actualRange.delta)+t.zoomFactor*t.actualRange.delta,o<a.min&&(r+=a.min-o,o=a.min),r>a.max&&(o-=r-a.max,r=a.max);var l=Math.abs(r-o),n=this._calculateActualInterval(l,t),d=Math.min(o,r),h=Math.max(o,r);if(s)return{min:d,max:h,interval:n};l=Math.abs(r-o),t.visibleRange.interval=n,t.visibleRange.min=d,t.visibleRange.max=h,t.visibleRange.delta=l,t.zoomed=null===this.chartObj.zoomed||void 0===this.chartObj.zoomed||this.chartObj.zoomed}},_calculateAxisLabels:function(t){for(var i,s,a=t.visibleRange.interval,o=t.visibleRange.min-t.visibleRange.min%t.range.interval;o<=t.visibleRange.max;o+=a)ej.EjSvgRender.utils._inside(o,t.visibleRange)&&(i=Math.round(o),t.visibleLabels.push({Value:i,Text:ej.EjSvgRender.utils._getLabelContent(i,t,this.chartObj.model.locale)}),(s=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={label:t.visibleLabels[t.visibleLabels.length-1],axis:t},this.chartObj._trigger("axesLabelRendering",s),t.visibleLabels[t.visibleLabels.length-1]=s.data.label);t._LableMaxWidth=ej.EjSvgRender.utils._getMaxLabelWidth(t,this.chartObj)},_calculateRanges:function(e,t,i){this.chartObj=e,this._saveRange(e,t),this._calculateCategoryRange(t,i),t._range=t.range,e.model._drawTrendline&&this._calculateTrendLineRange(e,t,i),this._applyRangePadding(t),this._calculateAxisLabels(t)}}),ej.axisTypes.category=o,r=t(ej.EjAxisRenderer,{_calculateDateTimeCategoryRange:function(t,i){for(var s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x={minX:0,MaxX:null},y=[],w=[],S=[],C=[],T=[],L=0;L<i.length;L++){for(i[L]._pointCollection=[],n=[],i[L]._points=[],i[L]._xPoints=[],i[L]._yPoints=[],m=i[L].points.length,f=0;f<m;f++)d=isNaN(new Date(i[L].points[f].x).getTime())?null:new Date(i[L].points[f].x).getTime(),-1!=n.indexOf(d)&&(i[L].points[f].xValue=n.indexOf(d)),n.push(d),i[L]._xPoints.push(d),i[L]._yPoints.push(i[L].points[f].y),null!=d&&C.push(d);for(ej.isNullOrUndefined(t.intervalType)&&(r=this.calculateDateTimeNiceInterval(t,new Date(Math.min.apply(null,C)),new Date(Math.max.apply(null,C))),t.intervalType=r.intervalType.toLowerCase()),g=0;g<n.length;g++){if(s=new Date(n[g]),-1==i[L]._points.indexOf(s.getTime())&&i[L]._points.push(s.getTime()),e.inArray(n[g],i[L]._xPoints),i[L]._pointCollection.push(new Date(i[L].points[g].x)),0==L)i[L].points[g].x==i[L].points[g].xValue&&(i[L].points[g].xValue=g);else for(v=0;v<L;v++){if((a=e.inArray(new Date(i[L].points[g].x).getTime(),i[v]._points))>=0){i[L].points[g].xValue=0==v?a:i[v].points[a].xValue;break}if(v==L-1){i[L].points[g].x==i[L].points[g].xValue?i[L].points[g].xValue=t.maxPointLength++:(b=i[L].points[g].xValue,i[L].points[g].xValue=i[L].points[b].xValue);break}}switch(0==L||e.inArray(s.getTime(),S),t.intervalType){case"auto":-1==y.indexOf(s.getTime())&&y.push(s.getTime());break;case"years":c=s.getFullYear();break;case"months":p=s.getFullYear(),h=s.getMonth(),g<=0?c=g+1:c+=p!=(u=new Date(n[g-1]).getFullYear())?12-l+h:h-l,l=h;break;case"days":p=s.getMonth(),h=s.getDate(),g<=0?c=g+1:(c+=p!=(u=new Date(n[g-1]).getMonth())?new Date(s.getFullYear(),u,1).getDate()-l+h:h-l,p==u&&(c=this._diffDate(s,new Date(n[g-1]),1)>new Date(s.getFullYear(),u,0).getDate()?w[w.length-1]+1:c)),l=h;break;case"hours":p=s.getDate(),h=s.getHours(),g<=0?c=g+1:(c+=p!=(u=new Date(n[g-1]).getDate())?24-l+h:h-l,p==u&&(c=this._diffDate(s,new Date(n[g-1]),24)>24?w[w.length-1]+1:c)),l=h;break;case"minutes":p=s.getHours(),h=s.getMinutes(),g<=0?c=g+1:(c+=p!=(u=new Date(n[g-1]).getHours())?60-l+h:h-l,p==u&&(c=this._diffDate(s,new Date(n[g-1]),1440)>60?w[w.length-1]+1:c)),l=h;break;case"seconds":p=s.getMinutes(),h=s.getSeconds(),g<=0?c=g+1:(c+=p!=(u=new Date(n[g-1]).getMinutes())?60-l+h:h-l,p==u&&(c=this._diffDate(s,new Date(n[g-1]),86400)>60?w[w.length-1]+1:c)),l=h;break;case"milliseconds":p=s.getSeconds(),h=s.getMilliseconds(),g<=0?c=g+1:(c+=p!=(u=new Date(n[g-1]).getSeconds())?1e3-l+h:h-l,p==u&&(c=this._diffDate(s,new Date(n[g-1]),864e5)>1e3?w[w.length-1]+1:c)),l=h}"auto"!=t.intervalType&&-1==y.indexOf(s.getTime())&&y.push(s.getTime()),c=0==L?c:w[w.length-1]+c,-1==w.indexOf(c)&&w.push(c),T.push(c),S.push(new Date(n[g]).getTime())}t.maxPointLength||(t.maxPointLength="auto"!=t.intervalType?w.length:y.length)}for(_=0;_<i.length;_++)t.setRange||(t.range={min:null,max:null,interval:null}),ej.isNullOrUndefined(t.m_minPointsDelta)||(t.m_minPointsDelta=void 0),i[_].minX=ej.isNullOrUndefined(t.range.min)||t.range.min<x.minX?0:t.range.min,i[_].maxX=ej.isNullOrUndefined(t.range.max)||t.range.max>y.length-1?y.length-1:t.range.max,x.MaxX=i[_].maxX,x.minX=i[_].minX,t.labels=y,t.dateLabels=T,t._categoryValueType="date";if(x.minX==x.MaxX&&"onticks"==t.labelPlacement.toLowerCase()&&(x.MaxX+=1),i.length>0)o=x.MaxX-x.minX,r=null==t.range.interval||void 0==t.range.interval||t.range.interval<1?1:Math.ceil(t.range.interval),t.range={min:x.minX,max:x.MaxX,interval:r,Delta:o};else if(!t.setInterval)for(t.range={min:0,max:6,interval:1,Delta:6},t.dateLabels=[],v=0;v<=t.range.max;v++)t.labels.push(""),t.dateLabels.push("")},_diffDate:function(e,t,i){var s;return s=Math.abs(e.getTime()-t.getTime())/864e5,Math.round(s*i)},_calculateAxisLabels:function(t){for(var i,s,a,o,r,l=t.visibleRange.interval,n=[],d=this.chartObj.model.series.length,h=t.visibleRange.min-t.visibleRange.min%t.range.interval;h<=t.visibleRange.max;h+=l)ej.EjSvgRender.utils._inside(h,t.visibleRange)&&(s=Math.round(h),a=t.dateLabels,ej.util.isNullOrUndefined(a)||(a[a.length-1]-a[s]>=l&&t.visibleRange.max<h+l&&(t.visibleRange.max+=h+l-t.visibleRange.max),o=e.inArray(a[s],n)),(o<0||"auto"==t.intervalType||0==d)&&s<t.labels.length&&("auto"!=t.intervalType&&(i=a[s],n.push(i)),t.visibleLabels.push({Value:s,Text:t.labelFormat||""==t.labels[Math.floor(s)]?ej.EjSvgRender.utils._getLabelContent(s,t,this.chartObj.model.locale):ej.format(new Date(t.labels[Math.floor(s)]),ej.EjSvgRender.utils._dateTimeLabelFormat(t.intervalType,t),this.chartObj.model.locale)}),(r=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={label:t.visibleLabels[t.visibleLabels.length-1],axis:t},this.chartObj._trigger("axesLabelRendering",r),t.visibleLabels[t.visibleLabels.length-1]=r.data.label));t._LableMaxWidth=ej.EjSvgRender.utils._getMaxLabelWidth(t,this.chartObj)},_calculateActualInterval:function(e,t){return null==t.categoryInterval?Math.max(1,Math.floor(e/this.GetActualDesiredIntervalsCount(t,t.length))):t.categoryInterval},_applyRangePadding:function(e){var t,i;this.chartObj.zoomed||this.chartObj._scrollBarEnabled||(t=0,"polaraxes"!==this.chartObj.model.AreaType&&(t=null===e.labelPlacement||void 0===e.labelPlacement||"betweenticks"==e.labelPlacement.toLowerCase()?-.5:0),t<0?(e.range.min=e.range.min+t,e.range.max=e.range.max-t,e.range.delta=e.range.max-e.range.min,e.actualRange=e.range):(i=_sideBySeriesPadding(this.chartObj,e.range.min,e.range.max,e),e.range.min=i.startPadding,e.range.max=i.endPadding,e.range.delta=e.range.max-e.range.min,e.actualRange=e.range)),this._calculateVisibleRange(e)},_calculateVisibleRange:function(t,i,s){var a,o,r;if(this.chartObj=i||this.chartObj,t.visibleRange=s?t.visibleRange:e.extend(!0,{},t.actualRange),(t.zoomFactor<1||t.zoomPosition>0)&&"polaraxes"!=this.chartObj.model.AreaType&&!this.chartObj.model.disableZoom){t.zoomFactor=t.zoomFactor>1?1:t.zoomFactor<0?0:t.zoomFactor,t.zoomPosition=t.zoomPosition<0?0:t.zoomPosition>1?1:t.zoomPosition,a=t.actualRange,r=t.isInversed?(o=t.actualRange.max-t.zoomPosition*t.actualRange.delta)-t.zoomFactor*t.actualRange.delta:(o=t.actualRange.min+t.zoomPosition*t.actualRange.delta)+t.zoomFactor*t.actualRange.delta,o<a.min&&(r+=a.min-o,o=a.min),r>a.max&&(o-=r-a.max,r=a.max);var l=Math.abs(r-o),n=this._calculateActualInterval(l,t),d=Math.min(o,r),h=Math.max(o,r);if(s)return{min:d,max:h,interval:n};l=Math.abs(r-o),t.visibleRange.interval=n,t.visibleRange.min=d,t.visibleRange.max=h,t.visibleRange.delta=l,t.zoomed=null===this.chartObj.zoomed||void 0===this.chartObj.zoomed||this.chartObj.zoomed}},_calculateRanges:function(e,t,i){this.chartObj=e,this._saveRange(e,t),this._calculateDateTimeCategoryRange(t,i),e.model._drawTrendline&&this._calculateTrendLineRange(e,t,i),t._range=t.range,this._applyRangePadding(t),this._calculateAxisLabels(t)}}),ej.axisTypes.datetimecategory=r,ej.EjAxisRenderer.prototype={_drawGridLines:function(e,t,i){"cartesianaxes"==this.model.AreaType?"horizontal"==t.orientation.toLowerCase()?this._drawXAxisGridLine(e,t,i):this._drawYAxisGridLine(e,t,i):"horizontal"==t.orientation.toLowerCase()&&0==e?(this._drawPolarGridLine(t),this._drawPolarLabels(t)):1==e&&this._drawPolarCircle(t)},_drawAxes:function(e,t){"cartesianaxes"==this.model.AreaType&&(t.visible&&"horizontal"==t.orientation.toLowerCase()&&(this._drawXAxisLabels(e,t),this._drawXTitle(e,t)),t.visible&&"vertical"==t.orientation.toLowerCase()&&(this._drawYAxisLabels(e,t),this._drawYTitle(e,t)))},_getSharpPath:function(e){return e%2==0?0:.5},_drawAxisLine:function(t){var i,s,a=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisLine"}),o=ej.EjSvgRender.utils._getStringBuilder(),r="M "+this.model.centerX+" "+this.model.centerY+" L "+this.model.centerX+" "+(this.model.centerY-this.model.Radius);if(t.visible&&t.axisLine.visible&&(f={id:this.svgObject.id+"_YAxisLines",fill:"none","stroke-width":t.axisLine.width,stroke:t.axisLine.color,opacity:t.axisLine.opacity,"stroke-dasharray":t.axisLine.dashArray,d:r},this.svgRenderer.drawPath(f,a),e(a).appendTo(this.gPolarAxisEle)),t.visible&&t.majorTickLines.visible){for(a=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisMajorTicks"}),s=0;s<t.visibleLabels.length;s++){var l=t.visibleLabels[s],n=this.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t,l.Value,this),d={};d.X1=this.model.centerX,d.Y1=this.model.centerY-n,d.X2=d.X1-t.majorTickLines.size,d.Y2=d.Y1,o.append("M "+d.X1+" "+d.Y1+" L "+d.X2+" "+d.Y2+" ")}i=o.toString(),f={id:this.svgObject.id+"_YAxisMajorTicks",fill:"none","stroke-width":t.majorTickLines.width,stroke:t.majorTickLines.color,d:i},this.svgRenderer.drawPath(f,a),e(a).appendTo(this.gPolarAxisEle)}if(t.visible){a=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisLabels"});var h,c=t.font,u=t.visibleLabels.length;for(s=0;s<u;s++){n=(this.model.Radius||this.model._radius)*ej.EjSvgRender.utils._valueToCoefficient(t,t.visibleLabels[s].Value,this);var p=t.visibleLabels[s].Text,m=ej.EjSvgRender.utils._measureText(p,null,t.font),g=this.model.centerX-t.majorTickLines.size-this.model.elementSpacing/3,_=this.model.centerY-n+m.height/5,f={id:this.svgObject.id+"_"+t.name+"_YLabel_"+s,x:g,y:_,fill:c.color,"font-size":c.size,"font-family":c.fontFamily,"font-style":c.fontStyle,"font-weight":c.fontWeight,opacity:c.opacity,"text-anchor":"end"};this.svgRenderer.drawText(f,p,a),h={x:f.x-m.width,y:f.y,width:m.width,height:m.height},t.visibleLabels[s].region={bounds:h,labelText:p}}e(a).appendTo(this.gPolarAxisEle)}},_drawPolarLabels:function(t){var i,s,a,o;if(!t.visible)return 0;var r,l,n,d=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisLabels"}),h=this.model.Radius+t.majorTickLines.size,c=t.font,u=t.visibleLabels.length;for(i=0;i<u;i++)if(s=ej.EjSvgRender.utils._valueToPolarCoefficient(t,t.visibleLabels[i].Value),a=ej.EjSvgRender.utils._valueToVector(t,t.visibleLabels[i].Value),!isNaN(a.X)&&!isNaN(a.Y)){var p=t.visibleLabels[i].Text,m=this.model.centerX+h*a.X,g=this.model.centerY+h*a.Y,_=m<this.model.centerX?"end":m>this.model.centerX?"start":"middle",f=ej.EjSvgRender.utils._measureText(p,this.model.m_AreaBounds.Height,t.font);.25==s?(m-=this.model.elementSpacing/2,g+=f.height/4):.5==s?g+=f.height:.75==s?(m+=this.model.elementSpacing/2,g+=f.height/4):1==s||0==s?g-=f.height/2:.25<s&&s<.5?(m-=this.model.elementSpacing/2,g+=f.height/2):.5<s&&s<=.75?(m+=this.model.elementSpacing/2,g+=f.height/2):0<s&&s<.25?m-=this.model.elementSpacing/2:m+=this.model.elementSpacing/2,0==i&&(r=m),i==u-1&&"category"!=t._valueType&&(n=ej.EjSvgRender.utils._measureText(p,null,c).width,(n+=m)>r&&(p="")),o={id:this.svgObject.id+"_"+t.name+"_XLabel_"+i,x:m,y:g,fill:c.color,"font-size":c.size,"font-family":c.fontFamily,"font-style":c.fontStyle,"font-weight":c.fontWeight,opacity:c.opacity,"text-anchor":_},this.svgRenderer.drawText(o,p,d),l={x:"middle"==_?o.x-f.width/2:"end"==_?o.x-f.width:o.x,y:o.y,width:f.width,height:f.height},t.visibleLabels[i].region={bounds:l,labelText:p}}e(d).appendTo(this.gXaxisEle)},_drawPolarCircle:function(t){var i,s,a,o,r,l,n,d,h,c;if(t.majorGridLines.visible)if(i=ej.EjSvgRender.utils._getStringBuilder(),s=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisGrid"}),this.model.isPolar)for(a=0;a<t.visibleLabels.length;a++){var u=t.visibleLabels[a],p=this.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t,u.Value,this),m={id:this.svgObject.id+"_YAxisGridLines_"+a,cx:this.model.centerX,cy:this.model.centerY,r:p,fill:"transparent","stroke-width":t.majorGridLines.width,stroke:t.majorGridLines.color,opacity:this.vmlRendering?.3:t.majorGridLines.opacity};this.svgRenderer.drawCircle(m,s)}else{for(a=0;a<t.visibleLabels.length;a++)for(u=t.visibleLabels[a],p=this.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t,u.Value,this),o=0;o<this.model._axes[0].visibleLabels.length;o++)r=this.model._axes[0],l=ej.EjSvgRender.utils._valueToVector(r,r.visibleLabels[o].Value),isNaN(l.X)||isNaN(l.Y)||(n=o+1<r.visibleLabels.length?ej.EjSvgRender.utils._valueToVector(r,r.visibleLabels[o+1].Value):ej.EjSvgRender.utils._valueToVector(r,r.visibleLabels[0].Value),d={X:this.model.centerX+p*l.X,Y:this.model.centerY+p*l.Y},h={X:this.model.centerX+p*n.X,Y:this.model.centerY+p*n.Y},i.append("M "+d.X+" "+d.Y+" L "+h.X+" "+h.Y+" "));t.majorGridLines.visible&&(c=i.toString(),m={id:this.svgObject.id+"_YAxisGridLines",fill:"none","stroke-width":t.majorGridLines.width,stroke:t.majorGridLines.color,opacity:t.majorGridLines.opacity,"stroke-dasharray":t.majorGridLines.dashArray,d:c},this.svgRenderer.drawPath(m,s))}e(s).appendTo(this.gYaxisEle)},_drawPolarGridLine:function(t){var i,s,a,o,r,l,n,d,h,c,u,p,m=this.model,g=m.legend,_=ej.EjSvgRender.utils._measureText(g.title.text,null,g.title.font).height,f=g.position.toLowerCase(),b=0,v=0,x=ej.EjSvgRender.utils._getStringBuilder(),y=ej.EjSvgRender.utils._getStringBuilder(),w=g.border.width,S=t.visibleLabels.length,C=m.border.width,T=m.title,L=m.title.subTitle,k=!(!T.enableTrim||"wrap"!=T.textOverflow&&"wrapandtrim"!=T.textOverflow),P=!(""==L.text||!L.visible||!L.enableTrim||"wrap"!=L.textOverflow&&"wrapandtrim"!=L.textOverflow);if(g.visible&&"custom"!=f&&("right"==f||"left"==f?b=("right"==f?m.margin.right:m.margin.left)+m.LegendActualBounds.Width+2*(w+C):v=("top"==f?m.margin.top:m.margin.bottom)+m.LegendActualBounds.Height+_+2*(w+C)),i=(m.title.text&&m.title.visible?m._titleLocation.Y+(k?m._titleLocation.size.height:0)+(P?m._subTitleLocation.size.height:0):0)+v,s=m.svgWidth-b,a=m.svgHeight-i,m.centerX=.5*s+("left"===f?b:0),m.centerY=.5*a+("top"===f?i:T.text&&T.visible?m._titleLocation.Y+(k?m._titleLocation.size.height:0)+(P?m._subTitleLocation.size.height:0):0),d=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisGrid"}),m.finalSize={width:s,height:a},m.Radius=Math.abs(Math.min(m.finalSize.width,m.finalSize.height)/2-2*m.elementSpacing-t.majorTickLines.size-t._LableMaxWidth.maxHeight),t.majorGridLines.visible)for(c=0;c<S;c++)o=ej.EjSvgRender.utils._valueToVector(t,t.visibleLabels[c].Value),(r={}).X1=m.centerX,r.Y1=m.centerY,r.X2=m.centerX+m.Radius*o.X,r.Y2=m.centerY+m.Radius*o.Y,x.append("M "+r.X1+" "+r.Y1+" L "+r.X2+" "+r.Y2+" ");if(t.visible&&t.majorTickLines.visible)for(h=m.Radius,c=0;c<S;c++)o=ej.EjSvgRender.utils._valueToVector(t,t.visibleLabels[c].Value),(r={}).X1=m.centerX+h*o.X,r.Y1=m.centerY+h*o.Y,r.X2=r.X1+t.majorTickLines.size*o.X,r.Y2=r.Y1+t.majorTickLines.size*o.Y,-1==(u="M "+r.X1+" "+r.Y1+" L "+r.X2+" "+r.Y2+" ").indexOf("NaN")&&y.append(u);t.majorGridLines.visible&&(l=x.toString(),p={id:this.svgObject.id+"_XAxisGridLines",fill:"none","stroke-width":t.majorGridLines.width,stroke:t.majorGridLines.color,opacity:t.majorGridLines.opacity,"stroke-dasharray":t.majorGridLines.dashArray,d:l},-1==l.indexOf("NaN")&&(this.svgRenderer.drawPath(p,d),e(d).appendTo(this.gXaxisEle))),t.visible&&t.majorTickLines.visible&&(n=y.toString(),p={id:this.svgObject.id+"_XAxisMajorTicks",fill:"none","stroke-width":t.majorTickLines.width,stroke:t.majorTickLines.color,d:n},this.svgRenderer.drawPath(p,d),e(d).appendTo(this.gXaxisEle))},_drawXAxisTickLine:function(t,i,s,a){var o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w=ej.EjSvgRender.utils._getStringBuilder(),S=ej.EjSvgRender.utils._getStringBuilder(),C=Math.floor(i.x),T=(Math.floor(i.x+i.width),i._opposed),L=[],k=i._isScroll&&!(null!=i.scrollbarSettings.pointsLength&&i.scrollbarSettings.pointsLength<i.maxPointLength),P=i.labelBorder,j=a.axes[i.name]._validCross;for(0!=t&&!j&&("inside"==i.labelPosition&&"inside"==i.tickLinesPosition||"inside"==i.labelPosition&&"inside"!=i.tickLinesPosition)&&i.y!=this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y&&i.y!=this.model.m_AreaBounds.Y?(d=T?Math.floor(i.y-i._LableMaxWidth.height):Math.floor(i.y+i._LableMaxWidth.height),T?Math.floor(i.y-i._LableMaxWidth.height):Math.floor(i.y+i._LableMaxWidth.height)):0==t||j||"inside"==i.labelPosition||"inside"!=i.tickLinesPosition||i.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||i.y==this.model.m_AreaBounds.Y?d=i._y?i.showNextToAxisLine?i.y:i._y:Math.floor(i.y+i.majorTickLines.size-5):(d=T?Math.floor(i.y-i.majorTickLines.size):Math.floor(i.y+i.majorTickLines.size),T?Math.floor(i.y-i.majorTickLines.size):Math.floor(i.y+i.majorTickLines.size)),s||(h=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisTicklines_"+t})),i.labelPlacement=i.labelPlacement?i.labelPlacement:ej.datavisualization.Chart.LabelPlacement.BetweenTicks,c=i.labels.length>0&&"betweenticks"==i.labelPlacement.toLowerCase()?-.5:0,G=i.visibleLabels.length,i._valueType.toLowerCase()==ej.datavisualization.Chart.ValueType.Category&&c<0&&(G=G>0?i.visibleLabels.length+1:G),F=0;F<G;F++)if(n=i.visibleLabels[F]?i.visibleLabels[F].Value:i.visibleLabels[F-1].Value+i.range.interval,u=i.labels.length>0&&c<0?n+c:n,u=i.roundingPlaces?u:parseFloat(u.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)?1:ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval))),ej.EjSvgRender.utils._inside(u,i.visibleRange)){if(i.hidePartialLabels&&(0==F||F==G-1))continue;if(i.minorGridLines.visible||i.minorTickLines.visible)if(p=this._getSharpPath(i.minorTickLines.width),this._getSharpPath(i.minorGridLines.width),"logarithmic"==i._valueType){f=u;var D=i.visibleRange.max,A=i.visibleRange.min,O=Math.pow(i.logBase,f-i.visibleRange.interval),I=O+(Math.pow(i.logBase,f)-O)/(i.minorTicksPerInterval+1);for(f=ej.EjSvgRender.utils._logBase(I,i.logBase),_=0;_<i.minorTicksPerInterval;_++)f<D&&f>A&&(l=Math.ceil((f-A)/(D-A)*i.width),i.minorTickLines&&i.minorTickLines.visible&&(g=Math.floor(l+C),m="inside"!=i.tickLinesPosition&&"inside"!=i.labelPosition||"inside"!=i.tickLinesPosition&&"inside"==i.labelPosition?T?Math.floor(d-i.minorTickLines.size):Math.floor(i.minorTickLines.size+d):T?Math.floor(d+i.minorTickLines.size):d-Math.floor(i.minorTickLines.size),w.append("M "+(g+p)+" "+(m+p)+" L "+(g+p)+" "+(d+p)+" ")))}else for(_=0,f=u;_<i.minorTicksPerInterval;_++)(f+=i.visibleRange.interval/(i.minorTicksPerInterval+1))<i.visibleRange.max&&f>i.visibleRange.min&&(l=Math.ceil((f-i.visibleRange.min)/(i.visibleRange.max-i.visibleRange.min)*i.width),i.minorTickLines&&i.minorTickLines.visible&&(m="inside"!=i.tickLinesPosition&&"inside"!=i.labelPosition||"inside"!=i.tickLinesPosition&&"inside"==i.labelPosition?T?Math.floor(d-i.minorTickLines.size):Math.floor(i.minorTickLines.size+d):T?Math.floor(d+i.minorTickLines.size):Math.floor(d-i.minorTickLines.size),b=Math.floor(l+C),w.append("M "+(b+p)+" "+(m+p)+" L "+(b+p)+" "+(d+p)+" ")));if(i.majorTickLines.visible||i.majorGridLines.visible||P.width>0){var R=this._getSharpPath(i.majorTickLines.width),M=(this._getSharpPath(i.majorGridLines.width),L[F]=this.pointX=Math.ceil(ej.EjSvgRender.utils._getPointXY(u,i.visibleRange,i.isInversed)*i.width));i.majorTickLines.visible&&(W=i.majorTickLines.size+i.axisLine.width/2,E="inside"==i.tickLinesPosition&&"inside"==i.labelPosition||"inside"==i.tickLinesPosition&&"inside"!=i.labelPosition?T?d+W:d-W:(T?d-W:W+d)-(k?T?this.model.scrollerSize:-this.model.scrollerSize:0),S.append("M "+(Math.floor(M+C)+R)+" "+(Math.floor(E)+R)+" L "+(Math.floor(M+C)+R)+" "+(Math.floor(d+(T?-i.axisLine.width/2:i.axisLine.width/2))+R)+" "))}}if(P.width>0){var E,V,N,B,F,z,Y=ej.EjSvgRender.utils._getStringBuilder(),X=k?this.model.scrollerSize:0,W=i.axisLine.width,H=i.labelPosition.toLowerCase(),U=(this.model.m_AreaBounds.X,this.model.m_AreaBounds.Width,P.width),$=i._LableMaxWidth.height+i.axisLine.width/2+2,G=i.visibleLabels.length;for(d=i.y,i.tickLinesPosition==H&&($+=i.majorTickLines.size),"inside"==H?(E=d+W,V=T?d+$:d-$):(E=T?d-W:W+d+(i.zoomFactor<1&&this.model.zooming.enableScrollbar&&0==t?this.model.scrollerSize:0),V=T?d-$-X:d+$+X),F=0;F<G;F++)z=(L[L.length-1]-L[L.length-2])/2,!ej.util.isNullOrUndefined(L[F])&&L.length>=1&&!isNaN(z)&&("category"==i._valueType&&"betweenticks"==i.labelPlacement.toLowerCase()?(N=L[F]+C,B=L[F]+2*z+C):(N=L[F]-z+C,B=L[F]+z+C),B=Math.floor(B),V=Math.floor(V),N=Math.floor(N),E=Math.floor(E),N<i.x?Y.append("M "+Math.floor(C)+" "+V+" L "+B+" "+V+" "):B>i.width+i.x?(Y.append("M "+N+" "+E+" L "+N+" "+V+" L "+Math.floor(i.width+C)+" "+V+" "),B-U<=i.width+i.x&&Y.append("M "+Math.floor(i.width+C)+" "+V+" L "+(i.x+i.width)+" "+E)):(0==F&&Y.append("M "+i.x+" "+V+" L "+N+" "+V+" "),Y.append("M "+N+" "+E+" L "+N+" "+V+" L "+B+" "+V+" "),F==G-1&&Y.append("M "+B+" "+E+" L "+B+" "+V+" M "+B+" "+V+" L "+(i.x+i.width)+" "+V)));v={id:this.svgObject.id+"_XAxisLabelBorder_"+t,fill:"transparent","stroke-width":P.width,stroke:P.color,d:Y.toString()},this.svgRenderer.drawPath(v,s),e(s).appendTo(this.gXaxisEle)}i.minorTickLines.visible&&i.visible&&i.minorTicksPerInterval>0&&(r=w.toString(),x={id:this.svgObject.id+"_XAxisMinorTicks_"+t,fill:"none","stroke-width":i.minorTickLines.width,stroke:i.minorTickLines.color,d:r},s?this.svgRenderer.drawPath(x,s):this.svgRenderer.drawPath(x,h)),i.majorTickLines.visible&&i.visible&&(o=S.toString(),y={id:this.svgObject.id+"_XAxisMajorTicks_"+t,fill:"none","stroke-width":i.majorTickLines.width,stroke:i.majorTickLines.color,d:o},s?this.svgRenderer.drawPath(y,s):this.svgRenderer.drawPath(y,h)),"inside"==i.tickLinesPosition&&e(h).appendTo(this.gXaxisEle)},_drawXAxisGridLine:function(t,i,s){var a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C=ej.EjSvgRender.utils._getStringBuilder(),T=ej.EjSvgRender.utils._getStringBuilder(),L=[],k=this.model.elementSpacing+5,P=i._opposed,j=Math.floor(i.x),D=Math.floor(i.x+i.width),A=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisGrid_"+t}),O=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisAlternateGridBand_"+t}),I=s.axes[i.name]._validCross;if(0==t||I||"inside"!=i.labelPosition||"inside"!=i.tickLinesPosition||i.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||i.y==this.model.m_AreaBounds.Y?"inside"!=i.labelPosition||"inside"==i.tickLinesPosition||i.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||i.y==this.model.m_AreaBounds.Y?0==t||I||"inside"==i.labelPosition||"inside"!=i.tickLinesPosition||i.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||i.y==this.model.m_AreaBounds.Y?(n=Math.floor(i.y),d=Math.floor(i.y)):(n=P?Math.floor(i.y-i.majorTickLines.size):Math.floor(i.y+i.majorTickLines.size),d=P?Math.floor(i.y-i.majorTickLines.size):Math.floor(i.y+i.majorTickLines.size)):n=d=P?Math.floor(i.y-i._LableMaxWidth.height)+k:i.showNextToAxisLine?Math.floor(i.y+i._LableMaxWidth.height)-k:Math.floor(i.y+i._LableMaxWidth.height):(n=P?Math.floor(i.y-i._LableMaxWidth.height):Math.floor(i.y+i._LableMaxWidth.height),d=P?Math.floor(i.y-i._LableMaxWidth.height):Math.floor(i.y+i._LableMaxWidth.height)),i.visible&&i.axisLine.visible){var R=i.axisLine.offset>0?i.axisLine.offset:0,M=this._getSharpPath(i.axisLine.width),E={id:this.svgObject.id+"_XAxisLine_"+t,x1:j-i.plotOffset+M+R,y1:n+M,x2:D+i.plotOffset-R+M,y2:d+M,"stroke-dasharray":i.axisLine.dashArray,"stroke-width":i.axisLine.width,stroke:i.axisLine.color,opacity:i.axisLine.opacity||1};s.axes[i.name]._lineOption=[E,this.gXaxisEle]}else s.axes[i.name]._lineOption=[null,this.gXaxisEle];for(i.labelPlacement=i.labelPlacement?i.labelPlacement:ej.datavisualization.Chart.LabelPlacement.BetweenTicks,h=i.labels.length>0&&"betweenticks"==i.labelPlacement.toLowerCase()?-.5:0,c=i.visibleLabels.length,i._valueType.toLowerCase()==ej.datavisualization.Chart.ValueType.Category&&h<0&&(c=c>0?i.visibleLabels.length+1:c),x=0;x<c;x++)if(l=i.visibleLabels[x]?i.visibleLabels[x].Value:i.visibleLabels[x-1].Value+i.range.interval,u=i.labels.length>0&&h<0?l+h:l,u=i.roundingPlaces?u:parseFloat(u.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)?1:ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval))),ej.EjSvgRender.utils._inside(u,i.visibleRange)){if(i.hidePartialLabels&&(0==x||x==c-1))continue;if(i.minorGridLines.visible||i.minorTickLines.visible)if(this._getSharpPath(i.minorTickLines.width),p=this._getSharpPath(i.minorGridLines.width),"logarithmic"==i._valueType){_=u;var V=i.visibleRange.max,N=i.visibleRange.min,B=Math.pow(i.logBase,_-i.visibleRange.interval),F=(Math.pow(i.logBase,_)-B)/(i.minorTicksPerInterval+1),z=B+F;for(_=ej.EjSvgRender.utils._logBase(z,i.logBase),g=0;g<i.minorTicksPerInterval;g++)_<V&&_>N&&(r=Math.ceil((_-N)/(V-N)*i.width),i.minorGridLines&&i.minorGridLines.visible&&(m=Math.floor(r+j),C.append("M "+(m+p)+" "+(n+p)+" L "+(m+p)+" "+(Math.floor(P?this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height:this.model.m_AreaBounds.Y)+p)+" "))),z+=F,_=ej.EjSvgRender.utils._logBase(z,i.logBase)}else for(g=0,_=u;g<i.minorTicksPerInterval;g++)(_+=i.visibleRange.interval/(i.minorTicksPerInterval+1))<i.visibleRange.max&&_>i.visibleRange.min&&(r=Math.ceil((_-i.visibleRange.min)/(i.visibleRange.max-i.visibleRange.min)*i.width),i.minorGridLines&&i.minorGridLines.visible&&C.append("M "+(Math.floor(r+j)+p)+" "+(n+p)+" L "+(Math.floor(r+j)+p)+" "+(Math.floor(P?this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height:this.model.m_AreaBounds.Y)+p)+" "));if(i.majorTickLines.visible||i.majorGridLines.visible){this._getSharpPath(i.majorTickLines.width);var Y=this._getSharpPath(i.majorGridLines.width),X=this.pointX=Math.ceil(ej.EjSvgRender.utils._getPointXY(u,i.visibleRange,i.isInversed)*i.width),W=Math.floor(X+j);if(i.zoomed&&(L[0]=i.x),0==x&&W==Math.floor(this.model.m_AreaBounds.X)){L.push(W+Y);continue}if(x==c-1&&"transparent"!=this.model.chartArea.border.color&&this.model.chartArea.border.width>0){if(W==Math.floor(this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width))continue;i.zoomed&&(L[c]=W+Y)}if(i.majorGridLines.visible&&T.append("M "+(W+Y)+" "+(Math.floor(this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height)+Y)+" L "+(W+Y)+" "+(Math.floor(this.model.m_AreaBounds.Y)+Y)+" "),"category"!=i._valueType.toLowerCase()&&x==c-1)continue;L.push(W+Y)}}if("transparent"!=i.alternateGridBand.odd.fill||"transparent"!=i.alternateGridBand.even.fill){for(f=this.model.m_AreaBounds.Height,0===L.length&&(b={id:this.svgObject.id+"_XAxis"+t+"_Alternateeven0",x:i.x,y:Math.floor(this.model.m_AreaBounds.Y),width:i.width,height:f,fill:i.alternateGridBand.even.fill,opacity:i.alternateGridBand.even.opacity,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",stroke:"transparent"},this.svgRenderer.drawRect(b,O)),x=1;x<L.length;x+=2)y=(y=L[x+1]-L[x])||"onticks"==i.labelPlacement.toLowerCase()?y:i.width+i.x-L[x],x==L.length-1&&i.zoomed&&(y=this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width-L[L.length-1]-i.plotOffset),v={id:this.svgObject.id+"_XAxis"+t+"_Alternateodd"+[x],x:L[x],y:Math.floor(this.model.m_AreaBounds.Y),width:y,height:f,fill:i.alternateGridBand.odd.fill,opacity:i.alternateGridBand.odd.opacity,stroke:"transparent","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},y>0&&this.svgRenderer.drawRect(v,O);for(x=0;x<L.length;x+=2)y=(y=L[x+1]-L[x])||"onticks"==i.labelPlacement.toLowerCase()?y:i.width+i.x-L[x],0==x&&i.zoomed&&(y=L[1]-i.x),x==L.length-1&&i.zoomed&&(y=this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width-L[L.length-1]-i.plotOffset),b={id:this.svgObject.id+"_XAxis"+t+"_Alternateeven"+[x],x:L[x],y:Math.floor(this.model.m_AreaBounds.Y),width:y,height:f,fill:i.alternateGridBand.even.fill,opacity:i.alternateGridBand.even.opacity,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",stroke:"transparent"},y>0&&this.svgRenderer.drawRect(b,O);e(O).appendTo(A)}i.minorGridLines.visible&&i.minorTicksPerInterval>0&&(o=C.toString(),w={id:this.svgObject.id+"_XAxisMinorGridLines_"+t,fill:"none","stroke-width":i.minorGridLines.width,stroke:i.minorGridLines.color,"stroke-dasharray":i.minorGridLines.dashArray,d:o},this.svgRenderer.drawPath(w,A)),a=T.toString(),i.majorGridLines.visible&&""!=(S={id:this.svgObject.id+"_XAxisMajorGridLines_"+t,fill:"none","stroke-width":i.majorGridLines.width,stroke:i.majorGridLines.color,opacity:i.majorGridLines.opacity,"stroke-dasharray":i.majorGridLines.dashArray,d:a}).d&&this.svgRenderer.drawPath(S,A),e(A).appendTo(this.svgObject)},_drawYAxisTickLine:function(t,i,s,a){var o,r,l,n,d,h,c,u,p,m,g,_,f,b,v="",x="",y=0,w=i._isScroll&&!(null!=i.scrollbarSettings.pointsLength&&i.scrollbarSettings.pointsLength<i.maxPointLength),S=i._opposed,C=[],T=i.labelBorder;1!=t&&("inside"==i.labelPosition&&"inside"==i.tickLinesPosition||"inside"==i.labelPosition&&"inside"!=i.tickLinesPosition)&&i.x!=this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X&&i.x!=this.model.m_AreaBounds.X?(r=S||a?i.showNextToAxisLine?i.x:Math.floor(i.x+i._LableMaxWidth.width+this.model.elementSpacing):Math.floor(i.x-i._LableMaxWidth.width-this.model.elementSpacing),S||a?i.showNextToAxisLine?i.x:Math.floor(i.x+i._LableMaxWidth.width+this.model.elementSpacing):Math.floor(i.x-i._LableMaxWidth.width-this.model.elementSpacing)):1==t||a||"inside"==i.labelPosition||"inside"!=i.tickLinesPosition||i.x==this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X||i.x==this.model.m_AreaBounds.X?r=i.showNextToAxisLine?i.showNextToAxisLine||"inside"!=i.tickLinesPosition?i.x:i.x+i.majorTickLines.size:i._x:(r=Math.floor(i.x+i.majorTickLines.size),Math.floor(i.x+i.majorTickLines.size));var L=Math.floor(i.y+i.height),k=(Math.floor(i.y),ej.EjSvgRender.utils._getStringBuilder()),P=ej.EjSvgRender.utils._getStringBuilder();for(this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisTicklines_"+t}),i.labelPlacement=i.labelPlacement?i.labelPlacement:ej.datavisualization.Chart.LabelPlacement.BetweenTicks,l=i.labels.length>0&&"betweenticks"==i.labelPlacement.toLowerCase()?-.5:0,n=i.visibleLabels.length,i._valueType.toLowerCase()==ej.datavisualization.Chart.ValueType.Category&&l<0&&(n=n>0?i.visibleLabels.length+1:n),R=0;R<n;R++)if(o=i.visibleLabels[R]?i.visibleLabels[R].Value:i.visibleLabels[R-1].Value+i.range.interval,d=i.labels.length>0&&l<0?o+l:o,d=i.roundingPlaces?d:parseFloat(d.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)?1:ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval))),ej.EjSvgRender.utils._inside(d,i.visibleRange)){if(i.hidePartialLabels&&(0==R||R==i.visibleLabels.length-1))continue;if(i.minorGridLines.visible||i.minorTickLines.visible)if(c=this._getSharpPath(i.minorTickLines.width),this._getSharpPath(i.minorGridLines.width),"logarithmic"==i._valueType){p=d;var j=i.visibleRange.max,D=i.visibleRange.min,A=Math.pow(i.logBase,p-i.visibleRange.interval),O=(Math.pow(i.logBase,p)-A)/(i.minorTicksPerInterval+1),I=A+O;for(p=ej.EjSvgRender.utils._logBase(I,i.logBase),u=0;u<i.minorTicksPerInterval;u++)p<j&&p>D&&(h=Math.ceil((p-D)/(j-D)*i.height),i.minorTickLines&&i.minorTickLines.visible&&i.minorTickLines.visible&&(m="inside"!=i.tickLinesPosition&&"inside"!=i.labelPosition||"inside"!=i.tickLinesPosition&&"inside"==i.labelPosition?S?i.minorTickLines.size:-i.minorTickLines.size:S?-i.minorTickLines.size:i.minorTickLines.size,k.append("M "+(Math.floor(m+r)+c)+" "+(Math.floor(-1*h+L)+c)+" L "+(r+c)+" "+(Math.floor(-1*h+L)+c)+" "))),I+=O,p=ej.EjSvgRender.utils._logBase(I,i.logBase)}else for(u=0,p=d;u<i.minorTicksPerInterval;u++)(p+=i.visibleRange.interval/(i.minorTicksPerInterval+1))<i.visibleRange.max&&p>i.visibleRange.min&&(h=(p-i.visibleRange.min)/i.visibleRange.delta*i.height,i.minorTickLines.visible&&(m="inside"!=i.tickLinesPosition&&"inside"!=i.labelPosition||"inside"!=i.tickLinesPosition&&"inside"==i.labelPosition?S?i.minorTickLines.size:-i.minorTickLines.size:S?-i.minorTickLines.size:i.minorTickLines.size,k.append("M "+(Math.floor(m+r)+c)+" "+(Math.floor(-1*h+L)+c)+" L "+(r+c)+" "+(Math.floor(-1*h+L)+c)+" ")));(i.majorTickLines.visible||i.majorGridLines.visible||T.width>0)&&(g=this._getSharpPath(i.minorTickLines.width),this._getSharpPath(i.majorGridLines.width),y=C[R]=ej.EjSvgRender.utils._getPointXY(d,i.visibleRange,i.isInversed)*i.height,i.majorTickLines.visible&&("inside"!=i.tickLinesPosition&&"inside"!=i.labelPosition||"inside"!=i.tickLinesPosition&&"inside"==i.labelPosition?F=(S?i.majorTickLines.size+i.axisLine.width/2:-(i.majorTickLines.size+i.axisLine.width/2))+(w?S?this.model.scrollerSize:S-this.model.scrollerSize:0):("inside"==i.tickLinesPosition&&"inside"!=i.labelPosition||"inside"==i.tickLinesPosition&&"inside"==i.labelPosition)&&(F=S?-(i.majorTickLines.size+i.axisLine.width/2):i.majorTickLines.size+i.axisLine.width/2),P.append("M "+(Math.floor(F+r)+g)+" "+(Math.floor(-1*y+L)+g)+" L "+(Math.floor(r+i.axisLine.width/2)+g)+" "+(Math.floor(-1*y+L)+g)+" ")))}if(T.width>0){var R,M,E,V,N,B=ej.EjSvgRender.utils._getStringBuilder(),F=i.axisLine.width/2,z=w?this.model.scrollerSize:0,Y=i._LableMaxWidth.maxWidth+10;for(r=i.x,i.tickLinesPosition==i.labelPosition&&(Y+=i.majorTickLines.size),Math.floor(r-Y),V="outside"==i.labelPosition?S?Math.floor(r+Y)+z:Math.floor(r-Y)-z:S?Math.floor(r-Y):Math.floor(r+Y),R=0;R<n;R++)N=(C[C.length-1]-C[C.length-2])/2,!ej.util.isNullOrUndefined(C[R])&&C.length>1&&!isNaN(N)&&("category"==i._valueType&&"betweenticks"==i.labelPlacement.toLowerCase()?(M=Math.floor(-1*C[R]+L),E=Math.floor(-1*C[R]-2*N+L)):(M=Math.floor(-1*C[R]+N+L),E=Math.floor(-1*C[R]-N+L)),M>L?B.append("M "+V+" "+L+" L "+V+" "+E+" "):E<this.model.m_AreaBounds.Y?B.append("M "+Math.floor(F+r)+" "+M+" L "+V+" "+M+" L "+V+" "+this.model.m_AreaBounds.Y+" "):(B.append("M "+Math.floor(F+r)+" "+M+" L "+V+" "+M+" L "+V+" "+E+" "),R==n-1&&B.append("M "+Math.floor(F+r)+" "+E+" L "+V+" "+E+" ")));_={id:this.svgObject.id+"_YAxisLabelBorder_"+t,fill:"none","stroke-width":T.width,stroke:T.color,d:B.toString()},this.svgRenderer.drawPath(_,s),e(s).appendTo(this.gYaxisEle)}i.minorTickLines.visible&&i.visible&&i.minorTicksPerInterval>0&&(x=k.toString(),f={id:this.svgObject.id+"_YAxisMinorTicks_"+t,fill:"none","stroke-width":i.minorTickLines.width,stroke:i.minorTickLines.color,d:x},this.svgRenderer.drawPath(f,s)),i.majorTickLines.visible&&i.visible&&(v=P.toString(),b={id:this.svgObject.id+"_YAxisMajorTicks_"+t,fill:"none","stroke-width":i.majorTickLines.width,stroke:i.majorTickLines.color,d:v},this.svgRenderer.drawPath(b,s))},_drawYAxisGridLine:function(t,i,s){var a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C="",T=0,L=Math.floor(i.y+i.height),k=Math.floor(i.y),P=i._opposed,j=[],D=s.axes[i.name]._validCross,A=i.name.replace(/[^a-zA-Z0-9]/g,"");1!=t&&!D&&("inside"==i.labelPosition&&"inside"==i.tickLinesPosition||"inside"==i.labelPosition&&"inside"!=i.tickLinesPosition)&&i.x!=this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X&&i.x!=this.model.m_AreaBounds.X?(r=P?Math.floor(i.x+i._LableMaxWidth.width+this.model.elementSpacing):Math.floor(i.x-i._LableMaxWidth.width-this.model.elementSpacing),l=P?Math.floor(i.x+i._LableMaxWidth.width+this.model.elementSpacing):Math.floor(i.x-i._LableMaxWidth.width-this.model.elementSpacing)):1==t||D||"inside"==i.labelPosition||"inside"!=i.tickLinesPosition||i.x==this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X||i.x==this.model.m_AreaBounds.X?(r=Math.floor(i.x),l=Math.floor(i.x)):(r=P?Math.floor(i.x+i.majorTickLines.size):Math.floor(i.x-i.majorTickLines.size),l=P?Math.floor(i.x+i.majorTickLines.size):Math.floor(i.x-i.majorTickLines.size));var O=ej.EjSvgRender.utils._getStringBuilder(),I=ej.EjSvgRender.utils._getStringBuilder(),R=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisGrid_"+t}),M=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisAlternateGridBand_"+t});if(i.visible&&i.axisLine.visible){var E=i.axisLine.offset>0?i.axisLine.offset:0,V=this._getSharpPath(i.axisLine.width),N={id:this.svgObject.id+A+"_YAxisLine_"+t,x1:r+V,y1:k-i.plotOffset+E+V,x2:l+V,y2:L+i.plotOffset-E+V,"stroke-width":i.axisLine.width,"stroke-dasharray":i.axisLine.dashArray,stroke:i.axisLine.color,opacity:i.axisLine.opacity||1};s.axes[i.name]._lineOption=[N,this.gYaxisEle]}else s.axes[i.name]._lineOption=[null,this.gYaxisEle];for(i.axisBottomLine&&i.axisBottomLine.visible&&(n={id:this.svgObject.id+A+"_YAxisBottomLine_"+t,x1:this.model.m_AreaBounds.X,y1:L,x2:this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width,y2:L,"stroke-width":i.axisBottomLine.width,stroke:i.axisBottomLine.color},this.svgRenderer.drawLine(n,R)),i.labelPlacement=i.labelPlacement?i.labelPlacement:ej.datavisualization.Chart.LabelPlacement.BetweenTicks,d=i.labels.length>0&&"betweenticks"==i.labelPlacement.toLowerCase()?-.5:0,h=i.visibleLabels.length,v=0;v<h;v++)if(o=i.visibleLabels[v].Value,c=i.labels.length>0&&d<0?o+d:o,c=i.roundingPlaces?c:parseFloat(c.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)?1:ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval))),ej.EjSvgRender.utils._inside(c,i.visibleRange)){if(i.hidePartialLabels&&(0==v||v==i.visibleLabels.length-1))continue;if(i.minorGridLines.visible||i.minorTickLines.visible)if(this._getSharpPath(i.minorTickLines.width),p=this._getSharpPath(i.minorGridLines.width),"logarithmic"==i._valueType){g=c;var B=i.visibleRange.max,F=i.visibleRange.min,z=Math.pow(i.logBase,g-i.visibleRange.interval),Y=(Math.pow(i.logBase,g)-z)/(i.minorTicksPerInterval+1),X=z+Y;for(g=ej.EjSvgRender.utils._logBase(X,i.logBase),m=0;m<i.minorTicksPerInterval;m++)g<B&&g>F&&(u=Math.ceil((g-F)/(B-F)*i.height),i.minorGridLines.visible&&O.append("M "+(Math.floor(this.model.m_AreaBounds.X)+p)+" "+(Math.floor(-1*u+L)+p)+" L "+(Math.floor(this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X)+p)+" "+(Math.floor(-1*u+L)+p)+" ")),X+=Y,g=ej.EjSvgRender.utils._logBase(X,i.logBase)}else for(m=0,g=c;m<i.minorTicksPerInterval;m++)(g+=i.visibleRange.interval/(i.minorTicksPerInterval+1))<i.visibleRange.max&&g>i.visibleRange.min&&(u=(g-i.visibleRange.min)/i.visibleRange.delta*i.height,i.minorGridLines.visible&&O.append("M "+(Math.floor(this.model.m_AreaBounds.X)+p)+" "+(Math.floor(-1*u+L)+p)+" L "+(Math.floor(this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X)+p)+" "+(Math.floor(-1*u+L)+p)+" "));if((i.majorTickLines.visible||i.majorGridLines.visible)&&(this._getSharpPath(i.minorTickLines.width),_=this._getSharpPath(i.majorGridLines.width),i.majorGridLines.visible)){T=ej.EjSvgRender.utils._getPointXY(c,i.visibleRange,i.isInversed)*i.height;var W=Math.floor(this.model.m_AreaBounds.X)+_,H=Math.floor(-1*T+L),U=Math.floor(this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X)+_;if(0==v){if(H==Math.floor(this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height))continue;i.zoomed&&(j[0]=H+_)}if(v==i.visibleLabels.length-1&&"transparent"!=this.model.chartArea.border.color&&this.model.chartArea.border.width>0&&H==Math.floor(this.model.m_AreaBounds.Y)){j.push(H+_);continue}if(I.append("M "+W+" "+(H+_)+" L "+U+" "+(H+_)+" "),0==v)continue;j.push(H+_)}}if("transparent"!=i.alternateGridBand.odd.fill||"transparent"!=i.alternateGridBand.even.fill){for(f=this.model.m_AreaBounds.Width,i.zoomed&&(j[j.length]=i.y),v=1;v<j.length;v+=2)x=j[0]-j[1],v==j.length-1&&i.zoomed&&(x=j[j.length-2]-i.y),b={id:this.svgObject.id+"_YAxisAlternateodd"+[v],x:Math.floor(this.model.m_AreaBounds.X),y:j[v],width:f,height:x,fill:i.alternateGridBand.odd.fill,opacity:i.alternateGridBand.odd.opacity,stroke:"transparent","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},this.svgRenderer.drawRect(b,M);for(v=0;v<j.length;v+=2)x=j[0]-j[1],v==j.length-1&&i.zoomed&&(x=j[j.length-2]-i.y),0==v&&i.zoomed&&(x=i.y+i.height-j[0]-i.plotOffset),y={id:this.svgObject.id+"_YAxisAlternateeven"+[v],x:Math.floor(this.model.m_AreaBounds.X),y:j[v],width:f,height:x,fill:i.alternateGridBand.even.fill,opacity:i.alternateGridBand.even.opacity,stroke:"transparent","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},this.svgRenderer.drawRect(y,M);e(M).appendTo(R)}i.minorGridLines.visible&&i.minorTicksPerInterval>0&&(C=O.toString(),w={id:this.svgObject.id+"_YAxisMinorGridLines_"+t,fill:"none","stroke-width":i.minorGridLines.width,stroke:i.minorGridLines.color,"stroke-dasharray":i.minorGridLines.dashArray,d:C},this.svgRenderer.drawPath(w,R)),a=I.toString(),i.majorGridLines.visible&&""!=(S={id:this.svgObject.id+"_YAxisMajorGridLines_"+t,fill:"none","stroke-width":i.majorGridLines.width,opacity:i.majorGridLines.opacity,"stroke-dasharray":i.majorGridLines.dashArray,stroke:i.majorGridLines.color,d:a}).d&&this.svgRenderer.drawPath(S,R),e(R).appendTo(this.svgObject)},textOverflowMultiLevelLabels:function(e,t,i,s,a,o,r,l,n,d){var h,c,u,p,m,g,_=l.y,f=0;if("wrap"==a||"wrapandtrim"==a){for(p=(u=(c=d._wrap(e,t,i,a,o,r)).text).length,g=0;g<p;g++)l.y+=r.height,d.model.enable3D||(l.id+="_"+g,d.svgRenderer.drawText(l,u[g],n)),"wrapandtrim"==a&&u[g].indexOf("...")>-1&&(d.model.enable3D&&0==f&&(l.y-=r.height),m=c.unTrimmedText,r=ej.EjSvgRender.utils._measureText(u[g],null,o),h={X:l.x-r.width/2,Y:l.y,Width:r.width,Height:r.height},d.model.axisMultiLevelLabelRegions.push({trimText:u[g],labelText:m[f],Bounds:h}),f++);return u}return i="trim"==a?ej.EjSvgRender.utils._trimText(s,t,o):s,d.model.enable3D||(_=l.y+r.height),"vertical"==e.orientation.toLowerCase()&&(_=l.y-r.height/4),r=ej.EjSvgRender.utils._measureText(i,null,o),h={X:l.x-r.width/2,Y:_,Width:r.width,Height:r.height},d.model.axisMultiLevelLabelRegions.push({trimText:i,labelText:s,Bounds:h}),i},_triggerMultiLevelLabelsRendering:function(t,i,s,a,o,r,l){var n=e.extend({},ej.EjSvgRender.commonChartEventArgs);return n.data={text:t,location:{x:i,y:s},textOverflow:a,font:o,border:r},l._trigger("multiLevelLabelRendering",n),n.data},_drawXAxisMultiLevelLabels:function(t,i){var s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I,R,M,E,V=this.svgObject.id,N=i.visibleRange,B=this.svgRenderer.createGroup({id:V+"_XAxisMultiLevelLabels_"+t,"clip-path":"url(#"+this.svgObject.id+"_XAxis_Clippath_"+t+")"}),F=this.model.m_AreaBounds,z=i.opposedPosition,Y=i.labelPosition.toLowerCase(),X=i.labelBorder,W=10,H=i._isScroll?this.model.scrollerSize:0;for(u=i.majorTickLines.size+i._LableMaxWidth.height+X.width,f=i.x,b=i.y+u+H,v=i.width+this.model.chartArea.border.width,x=i._multiLevelLabelHeight+W-2,z?b="outside"==Y?i.y-u-i._multiLevelLabelHeight-5-H:i.y+u-5:"inside"==Y&&(b=i.y-u-i._multiLevelLabelHeight),D={id:this.svgObject.id+"_XAxis_Clippath_"+t,x:f,y:b,width:v,height:x,fill:"white","stroke-width":1,stroke:"Gray"},this.svgRenderer.drawClipPath(D,B),s=0;s<i.multiLevelLabels.length;s++)if("string"==typeof(d=i.multiLevelLabels[s]).start&&-1!=d.start.indexOf("/Date(")&&(d.start=parseInt(d.start.substr(6))),"string"==typeof d.end&&-1!=d.end.indexOf("/Date(")&&(d.end=parseInt(d.end.substr(6))),d.visible&&(d.start>=N.min&&d.start<=N.max||d.end>=N.min&&d.end<=N.max||d.start<N.min&&d.end>N.max)){if(h=d.font,j=(L=d.border).width,g=d._level,_=d.textOverflow.toLowerCase(),L.type.toLowerCase(),P=d.textAlignment.toLowerCase(),c=Math.ceil(ej.EjSvgRender.utils._getPointXY(d.start,N,i.isInversed)*i.width),p=Math.ceil(ej.EjSvgRender.utils._getPointXY(d.end,N,i.isInversed)*i.width),i.isInversed&&(c=(p=(c-=p)+p)-c),O=d.text,n=ej.EjSvgRender.utils._measureText(O,null,h),r=ej.util.isNullOrUndefined(d.maximumTextWidth)?p-c-j-W:d.maximumTextWidth-W,a=c+i.x+5,o=u+i.y,o=z?"outside"==Y?i.y-u-i.multiLevelLabelHeight[g]-W-i.prevHeight[g]-H:i.y+u-5+i.prevHeight[g]:"inside"==Y?i.y-u-i.multiLevelLabelHeight[g]-i.prevHeight[g]:u+i.y+i.prevHeight[g]+H,this.model.enableCanvasRendering&&(this.svgRenderer.ctx.save(),this.svgRenderer.ctx.beginPath(),this.svgRenderer.ctx.rect(f,b,v,x),this.svgRenderer.ctx.clip()),"center"==P?(a+=r/2,y="middle"):"far"==P?(a=a+r-j/2,y="end"):(y="start",a+=j/2),O=(A=this._triggerMultiLevelLabelsRendering(O,a,o,_,h,d.border,this)).text,a=A.location.x,o=A.location.y,_=A.textOverflow.toLowerCase(),h=A.font,L=A.border,k=A.border.type.toLowerCase(),j=A.border.width,m={id:V+"_XAxisMultiLevelLabels_Text_"+t+"_"+s,x:a,y:"curlybrace"==k?o+10:o,fill:h.color?h.color:i.multiLevelLabelsFontColor,"font-size":h.size,"font-family":h.fontFamily,"font-style":h.fontStyle,"font-weight":h.fontWeight,opacity:h.opacity,"text-anchor":y},l=O,"none"!=_&&(l=this.textOverflowMultiLevelLabels(i,r,l,O,_,h,n,m,B,this)),"wrap"!=_&&"wrapandtrim"!=_&&(m.y+=n.height,n.height<i.multiLevelLabelHeight[g]&&(m.y=m.y+i.multiLevelLabelHeight[g]/2-n.height/2),this.svgRenderer.drawText(m,l,B)),o=z?"inside"==Y?u+i.y+i.prevHeight[g]-5:i.y-u-i.multiLevelLabelHeight[g]-W+2-i.prevHeight[g]-H:"inside"==Y?i.y-u-i.multiLevelLabelHeight[g]-3-i.prevHeight[g]:u+i.y+i.prevHeight[g]+H,I={bounds:{x:a=c+i.x,y:o+=j,height:w=i.multiLevelLabelHeight[g]+5,width:S=r+W+j},axisIndex:t,multiLevelLabel:d},this.model.multiLevelLabelRegions.push(I),R="",n.width,"rectangle"==k)T={id:V+"_XAxisMultiLevelLabels_Rect_"+t+"_"+s,x:a,y:o,width:S,height:w,fill:"transparent",stroke:L.color?L.color:i.multiLevelLabelsColor,"stroke-width":j},this.svgRenderer.drawRect(T,B);else{switch(k){case"withouttopandbottomborder":R="M "+a+" "+o+" L "+a+" "+(o+w)+" M "+(a+S)+" "+o+" L "+(a+S)+" "+(o+w);break;case"withouttopborder":R="M "+a+" "+(o+(C=!z&&"outside"==Y||z&&"inside"==Y?w:0))+" L "+(a+S)+" "+(o+C)+" M "+a+" "+o+" L "+a+" "+(o+w)+" M "+(a+S)+" "+o+" L "+(a+S)+" "+(o+w);break;case"brace":"near"==P?(E=m.x,M=m.x+n.width+2):"center"==P?(E=m.x-n.width/2-2<=F.X+c?F.X+c+W:m.x-n.width/2-2,M=m.x+n.width/2+2>F.X+p?F.X+p-W:m.x+n.width/2+2):(E=m.x-n.width-2,M=m.x),R=!z&&"outside"==Y||z&&"inside"==Y?"M "+a+" "+o+" L "+a+" "+(o+w/2)+" M "+a+" "+(o+w/2)+" L "+(E-2)+" "+(o+w/2)+" M "+M+" "+(o+w/2)+" L "+(a+S)+" "+(o+w/2)+" M "+(a+S)+" "+(o+w/2)+" L "+(a+S)+" "+o:"M "+a+" "+(o+w)+" L "+a+" "+(o+w/2)+" M "+a+" "+(o+w/2)+" L "+E+" "+(o+w/2)+" M "+M+" "+(o+w/2)+" L "+(a+S)+" "+(o+w/2)+" M "+(a+S)+" "+(o+w)+" L "+(a+S)+" "+(o+w/2);break;case"curlybrace":o=i.y+u+i.prevHeight[g],R=S<30?"M "+(a+S/2-5)+" "+(o+10)+" L "+(a+S/2)+" "+(o+15)+" L "+(a+S/2+5)+" "+(o+10):z||"center"==P?"M "+a+" "+o+" C "+a+" "+o+" "+(a+5)+" "+(o+10)+" "+(a+10)+" "+(o+10)+" L "+(a+S/2-5)+" "+(o+10)+" L "+(a+S/2)+" "+(o+15)+" L "+(a+S/2+5)+" "+(o+10)+" L "+(a+S-10)+" "+(o+10)+" C "+(a+S-10)+" "+(o+10)+" "+(a+S)+" "+(o+5)+" "+(a+S)+" "+o:"near"==P?"M "+a+" "+o+" C "+a+" "+o+" "+(a+5)+" "+(o+10)+" "+(a+10)+" "+(o+10)+" L "+(a+15)+" "+(o+15)+" L "+(a+15+5)+" "+(o+10)+" L "+(a+S-10)+" "+(o+10)+" C "+(a+S-10)+" "+(o+10)+" "+(a+S)+" "+(o+5)+" "+(a+S)+" "+o:"M "+a+" "+o+" C "+a+" "+o+" "+(a+5)+" "+(o+10)+" "+(a+10)+" "+(o+10)+" L "+(a+S-20)+" "+(o+10)+" L "+(a+S-15)+" "+(o+15)+" L "+(a+S-10)+" "+(o+10)+" L "+(a+S-10)+" "+(o+10)+" C "+(a+S-10)+" "+(o+10)+" "+(a+S)+" "+(o+5)+" "+(a+S)+" "+o}R&&(T={id:V+"_XAxisMultiLevelLabels_Rect_"+t+"_"+s,d:R,stroke:L.color?L.color:i.multiLevelLabelsColor,"stroke-width":L.width,fill:"none"},this.svgRenderer.drawPath(T,B))}this.model.enableCanvasRendering&&this.svgRenderer.ctx.restore(),e(B).appendTo(this.gXaxisEle)}},_drawYAxisMultiLevelLabels:function(t,i){var s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I,R,M,E,V=this.svgObject.id,N=i.visibleRange,B=this.svgRenderer.createGroup({id:V+"_YAxisMultiLevelLabels_"+t,"clip-path":"url(#"+this.svgObject.id+"_YAxis_Clippath_"+t+")"}),F=(this.model.m_AreaBounds,i.opposedPosition),z=i.labelPosition.toLowerCase(),Y=i.labelBorder,X=i._multiLevelLabelHeight,W=i.majorTickLines.size+i._LableMaxWidth.width+Y.width+10,H=i._isScroll?this.model.scrollerSize:0;for(P=i.y,j=X+5,D=i.height+5,k=F?"outside"==z?i.x+W-5+H:i.x-X-W+5:"outside"==z?i.x-X-W-H:i.x+W-5,R={id:this.svgObject.id+"_YAxis_Clippath_"+t,x:k,y:i.y,width:j,height:D,fill:"white","stroke-width":1,stroke:"Gray"},this.svgRenderer.drawClipPath(R,B),s=0;s<i.multiLevelLabels.length;s++)if((n=e.extend(!0,{},this.model.multiLevelLabelsDefault,i.multiLevelLabels[s])).visible&&(n.start>=N.min&&n.start<=N.max||n.end>=N.min&&n.end<=N.max||n.start<N.min&&n.end>N.max)){if(d=n.font,C=n.border,m=n._level,g=n.maximumTextWidth,p=n.textOverflow.toLowerCase(),C.type.toLowerCase(),L=n.textAlignment.toLowerCase(),h=Math.ceil(ej.EjSvgRender.utils._getPointXY(n.start,N,i.isInversed)*i.height),c=Math.ceil(ej.EjSvgRender.utils._getPointXY(n.end,N,i.isInversed)*i.height),i.isInversed&&(h=(c=(h-=c)+c)-h),M=n.text,l=ej.EjSvgRender.utils._measureText(M,null,d),r=c-h-C.width,_=ej.util.isNullOrUndefined(g)?i.multiLevelLabelHeight[m]+5:g-5,a=i.x-W-i.prevHeight[m]-i.multiLevelLabelHeight[m]/2+C.width-2.5,o=i.height+i.y-h-r/2,a=F?"outside"==z?i.x+W+i.multiLevelLabelHeight[m]/2+i.prevHeight[m]+C.width+H:i.x-W-i.multiLevelLabelHeight[m]/2-i.prevHeight[m]+C.width+2.5:"inside"==z?i.x+W+i.multiLevelLabelHeight[m]/2+i.prevHeight[m]-2.5:a+0-H,this.model.enableCanvasRendering&&(this.svgRenderer.ctx.save(),this.svgRenderer.ctx.beginPath(),this.svgRenderer.ctx.rect(k,P,j,D),this.svgRenderer.ctx.clip()),o="far"==L?o+r/2-l.height/2:"near"==L?o-r/2+l.height:o+l.height/4,M=(A=this._triggerMultiLevelLabelsRendering(M,a,o,p,d,n.border,this)).text,a=A.location.x,o=A.location.y,p=A.textOverflow,d=A.font,T=(C=A.border).type.toLowerCase(),C.width,u={id:V+"_YAxisMultiLevelLabels_Text_"+t+"_"+s,x:"curlybrace"==T?F?a+0+10:a+0-10:a+0,y:o,fill:d.color?d.color:i.multiLevelLabelsFontColor,"font-size":d.size,"font-family":d.fontFamily,"font-style":d.fontStyle,"font-weight":d.fontWeight,opacity:d.opacity,"text-anchor":"middle"},f=M,"none"!=p&&(f=this.textOverflowMultiLevelLabels(i,_,f,M,p,d,l,u,B,this)),"wrap"!=p&&"wrapandtrim"!=p&&this.svgRenderer.drawText(u,f,B),a=a-2.5-i.multiLevelLabelHeight[m]/2,o=i.y+i.height-c+C.width,b=c-h,O="",v=i.multiLevelLabelHeight[m]+5,C.width,E={bounds:{x:a,y:o,height:b,width:v},axisIndex:t,multiLevelLabel:n},this.model.multiLevelLabelRegions.push(E),"rectangle"==T)S={id:V+"_YAxisMultiLevelLabels_Rect_"+t+"_"+s,x:a,y:o,width:v,height:b,fill:"transparent",stroke:C.color?C.color:i.multiLevelLabelsColor,"stroke-width":C.width},this.svgRenderer.drawRect(S,B);else{switch(T){case"withouttopandbottomborder":O="M "+a+" "+(o+b)+" L "+(a+v)+" "+(o+b)+" M "+a+" "+o+" L "+(a+v)+" "+o;break;case"withouttopborder":O="M "+a+" "+(o+b)+" L "+(a+v)+" "+(o+b)+" M "+a+" "+o+" L "+(a+v)+" "+o+" M "+(a+(w=!F&&"outside"==z||F&&"inside"==z?0:v))+" "+(o+b)+" L "+(a+w)+" "+o;break;case"brace":x=u.y-l.height/2-4,y=u.y+l.height/4+2,O=!F&&"outside"==z||F&&"inside"==z?"M "+(a+v)+" "+o+" L "+(a+v/2)+" "+o+" M "+(a+v/2)+" "+o+" L "+(a+v/2)+" "+x+" M "+(a+v/2)+" "+y+" L "+(a+v/2)+" "+(o+b)+" M "+(a+v/2)+" "+(o+b)+" L "+(a+v)+" "+(o+b):"M "+a+" "+o+" L "+(a+v/2)+" "+o+" M "+(a+v/2)+" "+o+" L "+(a+v/2)+" "+x+" M "+(a+v/2)+" "+y+" L "+(a+v/2)+" "+(o+b)+" M "+(a+v/2)+" "+(o+b)+" L "+a+" "+(o+b);break;case"curlybrace":a=i.x-W-i.prevHeight[m],I=b-10,O=b<30?F?" M "+((a=i.x+W+i.prevHeight[m])+10)+" "+(o+(I=b-10)/2)+"  L "+(a+15)+" "+(o+I/2+5)+" L "+(a+10)+" "+(o+I/2+10):"M "+(a-10)+" "+(o+b/2-5)+" L "+(a-15)+" "+(o+b/2)+" L "+(a-10)+" "+(o+b/2+5):F?"M "+(a=i.x+W+i.prevHeight[m])+" "+o+" C "+a+" "+o+" "+(a+10)+" "+o+" "+(a+10)+" "+(o+10)+" L "+(a+10)+" "+(o+(I=b-10)/2)+"  L "+(a+15)+" "+(o+I/2+5)+" L "+(a+10)+" "+(o+I/2+10)+" L "+(a+10)+" "+(o+I)+" C"+(a+10)+" "+(o+I)+" "+(a+5)+" "+(o+I+10)+" "+a+" "+(o+I+10):"center"==L?"M "+a+" "+o+" C "+a+" "+o+" "+(a-10)+" "+o+" "+(a-10)+" "+(o+10)+" L "+(a-10)+" "+(o+I/2)+" L "+(a-15)+" "+(o+I/2+5)+" L "+(a-10)+" "+(o+I/2+10)+" L "+(a-10)+" "+(o+I)+" C "+(a-10)+" "+(o+I)+" "+(a-5)+" "+(o+I+10)+" "+a+" "+(o+I+10):"far"==L?"M "+a+" "+o+" C "+a+" "+o+" "+(a-10)+" "+o+" "+(a-10)+" "+(o+10)+" L "+(a-10)+" "+(o+I-10)+"  L "+(a-15)+" "+(o+I-5)+" L "+(a-10)+" "+(o+I)+" L "+(a-10)+" "+(o+I)+" C"+(a-10)+" "+(o+I)+" "+(a-10)+" "+(o+I+10)+" "+a+" "+(o+I+10):"M "+a+" "+o+" C "+a+" "+o+" "+(a-10)+" "+o+" "+(a-10)+" "+(o+10)+" L "+(a-15)+" "+(o+10+5)+" L "+(a-10)+" "+(o+10+10)+" L "+(a-10)+" "+(o+I)+" C"+(a-10)+" "+(o+I)+" "+(a-5)+" "+(o+I+10)+" "+a+" "+(o+I+10)}O&&(S={id:V+"_YAxisMultiLevelLabels_Rect_"+t+"_"+s,d:O,stroke:C.color?C.color:i.multiLevelLabelsColor,"stroke-width":C.width,fill:"none"},this.svgRenderer.drawPath(S,B))}this.model.enableCanvasRendering&&this.svgRenderer.ctx.restore(),e(B).appendTo(this.gYaxisEle)}},_getLabelCollection:function(e,t,i,s,a){var o,r,l,n,d=[],h=[];for("string"==typeof e&&-1!=e.indexOf("<br>")?d=e.split("<br>"):d.push(e),s=s<=0?i.width/i.labels.length:s,o=d.length,l=0;l<o;l++)for(r=this.rowscalculation(d[l].toString(),t,i,s,a),n=0;n<r.length;n++)h.push(r[n]);return h},_drawXAxisLabels:function(t,i){var s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I,R,M,E,V,N,B,F,z,Y,X,W,H,U,$,G,q,Z,Q,K,J,ee,te,ie,se,ae,oe,re,le,ne,de,he=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisLabels_"+t,cursor:"default"}),ce=(this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisLabels_"+t,cursor:"default"}),this.model.m_AreaBounds),ue=this.model.enableCanvasRendering,pe=i.name.replace(/[^a-zA-Z0-9]/g,""),me=i._opposed,ge=i._valueType,_e=i.alignment.toLowerCase(),fe=i.labelIntersectAction,be=i.labelPlacement.toLowerCase(),ve=!1,xe=0,ye="inside"==i.tickLinesPosition,we=i._LableMaxWidth,Se=we.height,Ce=0==we.rows?1:we.rows,Te=this.svgRenderer.vmlNamespace,Le=i.axisLine.width,ke=i.font,Pe=i.rotationValue,je=ce.Width,De=ce.X,Ae=i.labelIntersectAction.toLowerCase(),Oe=e(this.svgObject).width(),Ie=i.maximumLabelWidth,Re=i.visibleRange,Me=je,Ee=i.majorTickLines.size,Ve=i.visibleLabels,Ne=(ge=i.valueType&&i.valueType.toLowerCase(),i.width),Be=i.isInversed,Fe=i.majorTickLines.width,ze=!1,Ye=this.model.scrollerSize,Xe=i.rotateOn.toLowerCase(),We="inside"==i.labelPosition,He=0,Ue=[],$e=[],Ge=[];for(j=i._isScroll&&!(null!=i.scrollbarSettings.pointsLength&&i.scrollbarSettings.pointsLength<i.maxPointLength),this.edgeLabel=!1,0!=t&&(We&&ye||We&&!ye)&&i.y!=ce.Height+ce.Y&&i.y!=ce.Y?i.y=me?Math.floor(i.y-Se):Math.floor(i.y+Se):0!=t&&We&&ye&&i.y!=ce.Height+ce.Y&&i.y!=ce.Y?i.y=me?Math.floor(i.y-Ee):Math.floor(i.y+Ee):(i._y=Math.floor(i.y),i.y=i.showNextToAxisLine?Math.floor(i.y):me?Math.floor(ce.Y):Math.floor(ce.Height+ce.Y)),D=0;D<Ve.length;D++)if(y=(x=Ve[D]).displayText=ej.util.isNullOrUndefined(x.displayText)?x.Text:x.displayText,ej.EjSvgRender.utils._inside(x.Value,Re)){if(c=Ne/Ve.length,ej.isNullOrUndefined(ge)||D<Ve.length-1&&"datetimecategory"==ge&&"wrap"==Ae&&"betweenticks"==be&&(g=Ve[D+1],x.Value-=.5,_=g.Value-.5),A=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(x.Value,Re,Be)*Ne)),ej.isNullOrUndefined(ge)||(D<Ve.length-1&&"datetimecategory"==ge&&"wrap"==Ae&&"betweenticks"==be?(m=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(_,Re,Be)*Ne)),u=0==D?i.x+A+(Fe-.5):i.x+A+(Fe+.5),c=(p=i.x+m+(Fe+.5))-u):"datetimecategory"==ge&&"wrap"==Ae&&"betweenticks"==be?(c=Ne+i.x-p,u=p):"datetimecategory"==ge&&"wrap"==Ae&&"onticks"==be&&(c=Ne/i.labels.length)),i._gap=u,this.edgeLabel=!1,Ze="string"==typeof y&&-1!=y.indexOf("<br>")?ej.EjSvgRender.utils._getHighestLabel(i,Oe,y):y,Qe=(qe=ej.EjSvgRender.utils._measureText(Ze,Me,i.font)).width,qe.height,xe=0,ve=!1,"trim"==Ae||i.enableTrim){if("onticks"==be)if(D!=Ve.length-1){for(O=x,I=Ve[D+1],Ge=[],$e=[],"string"==typeof(g=Ve[D+1]).Text&&-1!=g.Text.indexOf("<br>")||"string"==typeof x.Text&&-1!=x.Text.indexOf("<br>")?(Ge=x.Text.split("<br>"),$e=g.Text.split("<br>")):($e.push(g.Text),x.displayText?Ge.push(x.displayText):Ge.push(x.Text)),N=0;N<$e.length;N++)for(le=(Je=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(g.Value,Re,Be)*Ne)))-(et=ej.EjSvgRender.utils._measureText($e[N],je,ke).width)/2,xe=0,f=!0,R=0;R<Ge.length&&f;R++)for(Qe=ej.EjSvgRender.utils._measureText(Ge[R],Me,i.font).width;le<A+Qe/2&&xe<2;)for(xe++,et>Qe?(b=$e[N],ze=!1):(b=Ge[R],ze=!0),l=b,(M={}).displayText=b,H=1;H<l.length;H++)if(l=M.displayText.substring(0,H)+"... ",v=ej.EjSvgRender.utils._measureText(l,je,ke).width,ze){if((le=Je-et/2)<A+(0==D&&"shift"==i.edgeLabelPlacement?v:v/2)){H-1!=0&&(l=l.toString().substring(0,H-1)+"... "),Qe=v,y=M.displayText=O.displayText=l,Ge[R]=l;break}}else if((le=Je-v/2)<A+(D+1==Ve.length-1&&"shift"==i.edgeLabelPlacement?v:Qe/2)){H-1!=0&&(l=l.toString().substring(0,H-1)+"... "),et=v,M.displayText=I.displayText=l,$e[N]=l,f=!1;break}}else D==Ve.length-1&&(Ge=$e);else if("betweenticks"==be)for(E=i.enableTrim?Ie:c,Ge=[],"string"==typeof y&&-1!=y.indexOf("<br>")?Ge=y.split("<br>"):Ge.push(y),V=Ge.length,N=0;N<V;N++)if(x.displayText=Ge[N],(Qe=(qe=ej.EjSvgRender.utils._measureText(Ge[N],Me,i.font)).width)>E&&""!=Ge[N]){for(H=1;H<Ge[N].toString().length;H++)if(Ge[N]=x.displayText.toString().substring(0,H)+"... ",(Qe=ej.EjSvgRender.utils._measureText(Ge[N],je,ke).width)>=E){if(Ge[N]=Ge[N].toString().substring(0,H-1)+"... ",x.displayText=Ge[N],D==Ve.length-1&&A+i.x+Qe/2>Oe&&E==c){E-=Qe/2,H=1;continue}break}x.displayText=Ge[N]}("double"!=i._valueType||"string"==typeof x.displayText)&&(Ze=Ge.length>0?ej.EjSvgRender.utils._getHighestLabel(i,Oe,Ge,null):Ze,qe=ej.EjSvgRender.utils._measureText(Ze,je,ke))}else qe="string"==typeof y&&-1!=y.indexOf("<br>")?ej.EjSvgRender.utils._measureText(Ze,je,ke):ej.EjSvgRender.utils._measureText(x.displayText,je,ke);if(d=qe.width/2,n=qe.height,Qe=qe.width,h=i.majorGridLines.width>Fe?i.majorGridLines.width:Fe,!ej.util.isNullOrUndefined(x.Text)){if(o="near"==_e?A+i.x+h+("category"==ge&&"onticks"!=be?-Ne/i.actualRange.delta/2+3:-qe.width-3):"far"==_e?A+i.x+("category"==ge&&"onticks"!=be?+Ne/i.actualRange.delta/2-qe.width:+h+3):A+i.x-d,We&&ye||We&&!ye&&"multiplerows"==Ae?r=me?i.y+Ee+n/2+Le/2+Se/(2*Ce)-5:i.y-Ee-Le/2-Se/(2*Ce)+5:We&&!ye?r=me?i.y+n/2+Le/2+Se/(2*Ce)-5:i.y-Le/2-Se/(2*Ce)+5:!We&&!ye||!We&&ye&&"multiplerows"==Ae?(r=me?i.y-Ee+n/2-Le/2-Se/(2*Ce)-5:i.y+Ee+Le/2+Se/(2*Ce)+5,r+=j?me?-Ye:Ye:0):!We&&ye&&(r=me?i.y+n/2-Le/2-Se/(2*Ce)-5:i.y+Le/2+Se/(2*Ce)+5,r+=j?me?-Ye:Ye:0),We&&!ye?(90==Pe||"rotate90"==Ae)&&(r=me?r:r-Ee):!We&&ye?(90==i.labelRotation||"rotate90"==Ae)&&(r-=Ee):We&&ye&&(90==i.labelRotation||"rotate90"==Ae)&&(r=me?r:r-Ee),B={id:this.svgObject.id+"_"+pe+"_XLabel_"+D,x:o,y:r,fill:ke.color,"font-size":ke.size,"font-family":ke.fontFamily,"font-style":ke.fontStyle,"font-weight":ke.fontWeight,opacity:ke.opacity},F=90==Pe||-90==Pe||270==Pe||-270==Pe,i.edgeLabelPlacement&&!F)switch(S=i.edgeLabelPlacement.toLowerCase(),C=Ve.length-1,S){case"shift":0==D?B.x<i.x&&(T=i.x-B.x,B.x=o=B.x+T,this.diff=T,this.edgeLabel=!0):D==C&&B.x+qe.width>i.x+i.width&&(T=B.x+qe.width-(i.x+i.width),B.x=o=B.x-T,this.diff=T,this.edgeLabel=!0);break;case"hide":(0==D&&B.x<i.x||D==C&&B.x+Qe>je+De)&&(y="")}if(("wrap"==Ae||"wrapbyword"==Ae)&&(X=this._getLabelCollection(y,Me,i,c,B),z=ej.EjSvgRender.utils._getHighestLabel(i,e(this.svgObject).width(),X,null),Qe=ej.EjSvgRender.utils._measureText(z,je,ke).width),0==Pe||Te||(x.displayText="string"==typeof x.displayText&&-1!=x.displayText.indexOf("<br>")?ej.EjSvgRender.utils._getHighestLabel(i,Oe,x.displayText):x.displayText,this.labelRotation(i,o+d,r,B,x,Pe)),i.labelIntersectAction||i.enableTrim){if(this.diff=ej.util.isNullOrUndefined(this.diff)?0:this.diff,"none"==Ae&&!i.enableTrim){"string"==typeof y&&-1!=y.indexOf("<br>")?(Y=y.split("<br>"),B.y=We?me?B.y:B.y-n*(Y.length-1):me?B.y-n*(Y.length-1):B.y,0!=Pe&&(B.x=B.x+Qe/2,B["text-anchor"]=Xe),this.svgRenderer.drawText(B,Y,ue?Ze:he)):(("start"==Xe||"end"==Xe)&&0!=Pe&&-360!=Pe&&360!=Pe&&(B.x=B.x+Qe/2,B["text-anchor"]=Xe),this.svgRenderer.drawText(B,y,ue?Ze:he)),Ve[D].region=this.calculateRegion(y,ke,B,x),this.model.xAxisLabelRegions.push(Ve[D].region),We?e(he).appendTo(this.gXaxisTickEle):e(he).appendTo(this.gXaxisEle);continue}if(!("wrap"!=Ae&&"wrapbyword"!=Ae||i.enableTrim)){for(Y=[],X=[],"string"==typeof y&&-1!=y.indexOf("<br>")?Y=y.split("<br>"):Y.push(y),k="",c=c<=0?Ne/Ve.length:c,W=0;W<Y.length;W++)for(L=this.rowscalculation(Y[W].toString(),Me,i,c,B),H=0;H<L.length;H++)X.push(L[H]),k+=L[H];B.x=B.x+d,-1!=k.indexOf("...")||(k=y);var qe,Ze=ej.EjSvgRender.utils._getHighestLabel(i,Oe,X,null),Qe=(qe=ej.EjSvgRender.utils._measureText(Ze,je,ke)).width;B.x=B.x-Qe/2,B.y=We?me?B.y:B.y-n*(X.length-1):me?B.y-n*(X.length-1):B.y,0!=Pe&&-360!=Pe&&360!=Pe&&(B["text-anchor"]=Xe,B.x=B.x+Qe/2),this.svgRenderer.drawText(B,X,ue?Ze:he),a=ej.EjSvgRender.utils._measureText(X[0],null,ke),U=X.length,w=a.height*X.length,s={x:B.x,y:B.y,width:Qe,height:w-w/U},Ve[D].region={bounds:s,labelText:x.Text,displayText:k},Ve[D].displayText=k,this.model.xAxisLabelRegions.push(Ve[D].region);continue}if("hide"==Ae)for($=Ve.length-1,G=0;G<D;G++){if(oe=Ve[G],ae=0,re=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(oe.Value,Re,i.isInversed)*i.width)),P=ej.EjSvgRender.utils._measureText(oe.displayText,Me,i.font).width,le=re+(i.isInversed?-P/2:P/2),le=0==G?le+this.diff:le,q=0==P?P:Qe,(D!=$||D==$&&Qe<=P)&&(q/=2),"shift"==S&&D==$){var Ke=Ve[D],Je=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(Ke.Value,Re,i.isInversed)*i.width)),et=ej.EjSvgRender.utils._measureText(Ke.displayText,Me,i.font).width,tt=Je+(i.isInversed?et/2:-et/2);(i.isInversed?le<=tt-this.diff:le>=tt-this.diff)&&(y=x.displayText="")}"hide"==Ae&&(i.isInversed?le<A+q:le>A-q)&&(x.displayText=y="")}else if("multiplerows"==Ae&&!i.enableTrim){if(Z=[],"string"==typeof(Q=x).Text&&-1!=Q.Text.indexOf("<br>")?Z=Q.Text.split("<br>"):Z.push(Q.Text),K=Z.length,""==y&&"hide"==i.edgeLabelPlacement)for(J=0;J<K;J++)Z[J]="";if(de=ej.EjSvgRender.utils._getHighestLabel(i,Oe,Z),Qe=0!=Pe?ej.EjSvgRender.utils.rotatedLabel(i,null,Pe,de).width:ej.EjSvgRender.utils._measureText(de,je,ke).width,$=i.visibleLabels.length-1,Qe/=2,Ue.length>0)for(ee=Ue,te=0;te<ee.length&&!ve;te++)for(ie=ee[te],se=0;ie&&se<ie.length;se++)for(ne=0;ne<K;ne++){if(ae=0,Qe=0!=Pe?ej.EjSvgRender.utils.rotatedLabel(i,null,Pe,Z[ne]).width:ej.EjSvgRender.utils._measureText(Z[ne],je,ke).width,oe=ie[se],re=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(oe.Value,Re,i.isInversed)*i.width)),0!=Pe?Qe=ej.EjSvgRender.utils.rotatedLabel(i,null,Pe,oe.Text).width:P=ej.EjSvgRender.utils._measureText(oe.Text,Me,i.font).width,D!=$&&(Qe=Math.floor(Qe/2)),"category"==i.valueType&&0==oe.Value&&"shift"==S&&Qe>=i.maximumLabelWidth&&(re=i.x),le=re+(i.isInversed?-P/2:P/2),(this.edgeLabel||1==ee.length)&&(le+=this.diff),i.isInversed?le<A+Qe:le>A-Qe){if(me){ae=We?B.y+n:B.y-n,B.y=ae,(xe+=1)<He&&(xe+=He,He=0),te+1==ee.length&&(ve=!0);break}ae=We?B.y-n:B.y+n,B.y=ae,(xe+=1)<He&&(xe+=He,He=0),te+1==ee.length&&(ve=!0);break}if(se+1==ie.length){ne==K-1?ve=!0:(He++,ve=!1);break}}if(void 0==ae)if(void 0==Ue[0]&&(Ue[0]=[]),1==K)Ue[0].push(Q);else for(ne=0;ne<K;ne++)void 0==Ue[ne]&&(Ue[ne]=[]),Ue[ne].push({Text:Z[ne],Value:Q.Value});else if(void 0==Ue[xe]&&(Ue[xe]=[]),1==K)Ue[xe].push(Q);else for(ne=0;ne<K;ne++)void 0==Ue[xe]&&(Ue[xe]=[]),Ue[xe].push({Text:Z[ne],Value:Q.Value}),ne!=K-1&&(xe+=1);B.y=We?me?B.y:B.y-n*(Z.length-1):me?B.y-n*(Z.length-1):B.y,0!=Pe&&-360!=Pe&&360!=Pe&&(de=ej.EjSvgRender.utils._getHighestLabel(i,Oe,Z),Qe=0!=Pe?ej.EjSvgRender.utils.rotatedLabel(i,null,Pe,de).width:ej.EjSvgRender.utils._measureText(de,je,ke).width,B["text-anchor"]=Xe,B.x=B.x+Qe/2),this.svgRenderer.drawText(B,Z,he)}}this.edgeLabel||this.zoomed||i.zoomed||Pe||"rotate90"==fe||"rotate45"==fe||!(A+i.x+Qe/2>e(this.svgObject).width())||(e(B).attr("x",e(this.svgObject).width()-2),e(B).attr("text-anchor","end")),i.visibleLabels[D].y=B.y,this.model.enableCanvasRendering&&We&&("rotate45"==i.labelIntersectAction||"rotate90"==i.labelIntersectAction)&&(B.y=B.y-Qe),"trim"!=Ae&&!i.enableTrim||"double"==i._valueType&&"string"!=typeof x.displayText?"multiplerows"!=Ae&&("string"==typeof y&&-1!=y.indexOf("<br>")?(Y=y.split("<br>"),B.y=We?me?B.y:B.y-n*(Y.length-1):me?B.y-n*(Y.length-1):B.y,(0!=Pe||"rotate45"==fe||"rotate90"==fe)&&(B.x=B.x+Qe/2,B["text-anchor"]=Xe),this.svgRenderer.drawText(B,Y,ue?Ze:he)):("start"==Xe&&0!=Pe&&-360!=Pe&&360!=Pe&&(B.x=B.x+Qe/2,B["text-anchor"]=Xe),this.svgRenderer.drawText(B,y,ue?Ze:he))):(B.y=We?me?B.y:B.y-n*(Ge.length-1):me?B.y-n*(Ge.length-1):B.y,x.displayText=Ge.length>0?Ge.join(""):y,-1!=x.displayText.indexOf("...")||(x.displayText=y),0!=Pe&&"middle"!=Xe&&(B.x=B.x+Qe/2,B["text-anchor"]=Xe),this.svgRenderer.drawText(B,Ge.length>0?Ge:y,ue?Ze:he)),D!=Ve.length-1&&("trim"==Ae||i.enableTrim)&&(B.x=B.x-Qe/2),i.visibleLabels[D].region=this.calculateRegion(y,ke,B,x,Ge||Y,Ze,Ae),this.model.xAxisLabelRegions.push(i.visibleLabels[D].region)}}e(he).appendTo(this.gXaxisEle)},calculateRegion:function(e,t,i,s,a,o,r){var l;"trim"==r&&a.length>0?-1!=(l=a.join("")).indexOf("...")||(l=s.Text):l=o||e;var n=a&&a.length>0?a.length:1,d=n>1&&o?ej.EjSvgRender.utils._measureText(o,null,t):ej.EjSvgRender.utils._measureText(l,null,t),h=d.height*n;return{bounds:{x:i.x,y:i.y,width:d.width,height:h},trimText:l,labelText:s.Text}},rowscalculation:function(e,t,i,s,a){var o,r,l,n,d,h,c,u=ej.EjSvgRender.utils._measureText,p=i.font,m=u(e,t,p).width,g=e.toString(),_=g.length,f=[],b=0,v=i.labelIntersectAction,x=g.split(" "),y=x.length;if("wrap"==v){if(m>s)for(r=1;r<=g.length;r++)(m=u(e=g.substring(0,r),t,p).width)>s&&(e=g.substring(0,r-1),f[b]=e,o=(g=g.slice(r-1,_)).split(" "),g=x.indexOf(o[0])>-1?g:"-"+g,l=u(e,t,p).width,b++,r=0);a&&(a.x="datetimeCategory"==i.valueType&&"betweenticks"==i.labelPlacement.toLowerCase()?i._gap:a.x),f[b]=e}else for(n=0,b=0;b<y;b++)if((h=u(d=x[b],t,p).width)<s&&m>s){for(;b<y;){if(!((h=u(d,t,p).width)+(c=x[b+1]?u(x[b+1],t,p).width:0)<=s&&c>0)){n=Math.max(n,h);break}d=d.concat(" "+x[b+1]),b++}f.push(d)}else{if(!(m>s)){f.push(e);break}l=u(d=ej.EjSvgRender.utils._trimText(d,s,p),t,p).width,n=Math.max(n,l),f.push(d)}return f},labelRotation:function(t,i,s,a,o,r,l){var n,d=t._opposed,h=t.rotateOn.toLowerCase(),c=t.labelIntersectAction.toLowerCase(),u=0,p=o.displayText?o.displayText:o.Text,m=r>360?r-360:r<-360?r+360:r,g="rotate("+m+","+i+","+s+")";if(e(a).attr("transform",g),e(a).attr("labelRotation",m),e(a).attr("labelPosition",t.labelPosition),"wrap"==c||"wrapbyword"==c){var _=t.width/t.labels.length,f=this._getLabelCollection(p,this.model.m_AreaBounds.width,t,_,a);p=ej.EjSvgRender.utils._getHighestLabel(t,e(this.svgObject).width(),f,null)}var b=this.svgRenderer.createText(a,p),v=Math.round(ej.EjSvgRender.utils._measureBounds(b,this).height),x=ej.EjSvgRender.utils._measureText(p,null,t.font).height;u=Math.ceil(ej.EjSvgRender.utils._measureBounds(b,this).height-ej.EjSvgRender.utils._measureText(p,null,t.font).height),u=t._LableMaxWidth.height-u-ej.EjSvgRender.utils._measureText(p,null,t.font).height,n="inside"!=t.labelPosition?d?u/2:-u/2:d?-u/2:u/2,"end"==h&&(n+=m<0&&m>-180||m>180?-v/2:(v-x)/2),"start"==h&&(n+=m<0&&m>-180||m>180?v/2:-(v-x)/2),g="rotate("+m+","+i+","+(s+(this.model.enableCanvasRendering&&t.opposedPosition?-n:n))+")",this.edgeLabel&&90==r&&(s=0==l?a.y+this.diff:a.y-this.diff),e(a).attr({transform:g,y:s+(this.model.enableCanvasRendering&&t.opposedPosition?-n:n)})},_drawYAxisLabels:function(t,i){var s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I,R=i.name.replace(/[^a-zA-Z0-9]/g,""),M=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisLabels_"+t,cursor:"default"}),E=i._opposed,V="inside"==i.labelPosition,N="inside"==i.tickLinesPosition,B=this.model.m_AreaBounds,F=(this.model.requireInvertedAxes,this.model.enableCanvasRendering),z=i._isScroll&&!(null!=i.scrollbarSettings.pointsLength&&i.scrollbarSettings.pointsLength<i.maxPointLength),Y=i.font,X=i.visibleRange,W=i.axisLine.width,H=i._LableMaxWidth,U=(H.height,H.rows,(B=this.model.m_AreaBounds).Width),$=i.maximumLabelWidth,G=this.model.scrollerSize,q=i.labelIntersectAction.toLowerCase(),Z=i.visibleLabels,Q=X,K=i.isInversed,J=i.height,ee=i.labelRotation,te=i.alignment.toLowerCase();for(1!=t&&(V&&N||V&&!N&&i.x!=B.Width+B.X&&i.x!=B.X)?i.x=E?V&&N?Math.floor(i.x):Math.floor(i.x+H.width+this.model.elementSpacing):i.showNextToAxisLine?Math.floor(i.x):Math.floor(i.x-H.width-this.model.elementSpacing):1==t||i.x==B.Width+B.X&&i.x!=B.X||V||!N?(i._x=Math.floor(i.x),i.x=i.showNextToAxisLine?Math.floor(i.x):E?Math.floor(B.X+B.Width):Math.floor(B.X)):(i._x=Math.floor(i.x),i.x=E?Math.floor(i.x+i.majorTickLines.size):i.showNextToAxisLine?Math.floor(i.x-i.majorTickLines.size):Math.floor(B.X)),k=0;k<Z.length;k++)if(x=Z[k],ej.EjSvgRender.utils._inside(x.Value,Q)){if(n=Math.abs(ej.EjSvgRender.utils._getPointXY(x.Value,Q,K)*J),c=ej.EjSvgRender.utils._measureText(x.Text,B.Height,Y).height,A=x.displayText=x.Text,v=ej.EjSvgRender.utils._measureText(A,U,Y).width,V&&N?(p=E?i.x-i.majorTickLines.size-W/2-5:i.x+W/2+5+i.majorTickLines.size,m=E?"end":"start"):V&&!N?(p=E?i.x-W/2-5:i.x+W/2+5,m=E?"end":"start"):N&&!V?(p=E?W/2+i.x+5:i.x-W/2-5,m=E?"start":"end",p-=z?E?-G:G:0):(p=E?i.majorTickLines.size+W/2+i.x+5:i.x-W/2-5-i.majorTickLines.size,m=E?"start":"end",p-=z?E?-G:G:0),T=i.majorGridLines.width>i.majorTickLines.width?i.majorGridLines.width:i.majorTickLines.width,L="far"==te?-n+(i.y+J)-T-3:"near"==te?-n+(i.y+J)+c/2+T+3:-n+(i.y+J)+c/4,b={id:this.svgObject.id+"_"+R+"_YLabel_"+k,x:p,y:L,fill:Y.color,"font-size":Y.size,"font-family":Y.fontFamily,"font-style":Y.fontStyle,"font-weight":Y.fontWeight,opacity:Y.opacity,"text-anchor":ej.util.isNullOrUndefined(ee)||0==ee?m:"middle"},P=[],"string"==typeof(A=x.displayText?x.displayText:x.Text)&&-1!=A.indexOf("<br>")?(P=A.split("<br>"),j=A=ej.EjSvgRender.utils._getHighestLabel(i,B.Height,P),v=ej.EjSvgRender.utils._measureText(A,U,Y).width):P.push(A),i.edgeLabelPlacement)switch(d=i.edgeLabelPlacement.toLowerCase(),h=Z.length-1,d){case"shift":0==k?b.y>i.y+J&&(g=b.y-(i.y+J),b.y=L=b.y-g,this.diff=g,this.edgeLabel=!0):k==h&&b.y-c/2<i.y&&(g=i.y-(b.y-c/2),b.y=L=b.y+g,this.diff=g,this.edgeLabel=!0);break;case"hide":(0==k&&b.y>i.y+J||k==h&&b.y-c/2<B.Y)&&(A=x.Text="",1==P.length&&(P[0]=A))}if(ej.util.isNullOrUndefined(ee)||0==ee||this.svgRenderer.vmlNamespace||(p=V?E?p-v/2:p+v/2:E?p+v/2:p-v/2,A=x.displayText?x.displayText:x.Text,A=j||A,f="rotate("+(_=ee>360?ee-360:ee<-360?ee+360:ee)+","+p+","+L+")",e(b).attr("transform",f),e(b).attr("labelRotation",_),a=this.svgRenderer.createText(b,A),o=Math.ceil(ej.EjSvgRender.utils._measureBounds(a,this).width-ej.EjSvgRender.utils._measureText(A,null,Y).width),f="rotate("+_+","+(p+(u=V?E?-o/2:o/2:E?o/2:-o/2))+","+L+")",e(b).attr({transform:f,x:p+u})),i.labelIntersectAction||i.enableTrim){if("none"==q&&!i.enableTrim){this.svgRenderer.drawText(b,P.length>0?P:x.Text,F&&j?j:M),s=ej.EjSvgRender.utils._measureText(A,null,Y),r={bounds:l={x:i.opposedPosition?b.x:b.x-s.width,y:b.y,width:s.width,height:s.height},trimText:A,labelText:x.Text},i.visibleLabels[k].region={bounds:l,trimText:A,labelText:x.Text},this.model.yAxisLabelRegions.push(r);continue}if(i.enableTrim)for(D=0;D<P.length;D++)if(A=P[D],(v=ej.EjSvgRender.utils._measureText(A,null,Y).width)>$&&""!=A){for(O=1;O<A.toString().length;O++)if(A=x.displayText.toString().substring(0,O-1)+"...",(v=ej.EjSvgRender.utils._measureText(A,U,Y).width)>=$){A=A.toString().substring(0,O-1)+"...";break}x.displayText=P[D]=A}for(I=0;I<k;I++)y=Z[I],w=Math.abs(ej.EjSvgRender.utils._getPointXY(y.Value,X,K)*J),S=ej.EjSvgRender.utils._measureText(y.Text,B.Height,Y).height,C=-1*w+(i.y+J)+S/4,C+=K?S/2:-S/2,this.edgeLabel&&(C=0==I?C-S/4:C),"hide"==q&&""!=y.Text.toString()&&(K?C>b.y-c/4:C<b.y+c/4)?A=x.Text="":"multiplerows"==q&&(K?C>b.y-c/4:C<b.y+c/4)&&y.x==b.x&&(b.x=y.x+E?V?-H.maxWidth-5:H.maxWidth+5:V?H.maxWidth+5:-H.maxWidth-5)}Z[k].x=b.x,this.svgRenderer.drawText(b,P.length>0?P:A,M),s=ej.EjSvgRender.utils._measureText(A,null,Y),r={bounds:l={x:E?b.x:b.x-s.width,y:b.y,width:s.width,height:s.height},trimText:A,labelText:x.Text},Z[k].region={bounds:l,trimText:A,labelText:x.Text},this.model.yAxisLabelRegions.push(r)}e(M).appendTo(this.gYaxisEle)},trimText:function(e,t,i){return t--,(e=e.substring(0,t-i.length))+i},_drawXTitle:function(t,i){var s,a,o,r,l;if(""!=i.title.text&&i.title.text&&i.title.visible){var n,d,h,c=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxis_Title_"+t,cursor:"default"}),u=(this.model.elementSpacing,i._LableMaxWidth.height,ej.EjSvgRender.utils._measureText(i.title.text,i.width,i.title.font)),p=u.height/2,m=i._opposed,g=i.title.text,_=i._LableMaxWidth,f="middle",b=this.model.elementSpacing,v=i.title.enableTrim,x=i._isScroll||this.model.zooming.enableScrollbar&&i.scrollbarSettings.visible&&(i.zoomFactor<1||i.zoomPosition>0),y=i.title.maximumTitleWidth,w=i.title.position.toLowerCase(),S=i.title.alignment.toLowerCase(),C=i.title.isReversed,T=i.tickLinesPosition.toLowerCase(),L=i.labelPosition.toLowerCase(),k=this.model.m_AreaBounds,P=i.title.offset,j=this.model.scrollerSize;if(v&&(ej.util.isNullOrUndefined(y)||y>0||isNaN(y)))for(s=y||i.width-2*b;u.width>s;)if(g=this.trimText(g,g.length,"..."),u=ej.EjSvgRender.utils._measureText(g,i.width,i.title.font),"..."==g){g="";break}if(a=e.extend({},ej.EjSvgRender.commonChartEventArgs),n=b+_.height+p+i._multiLevelLabelHeight+i.majorTickLines.size+i.axisLine.width,"inside"!=T||"inside"!=L||0!=t&&i.y!=k.Height+k.Y&&i.y!=k.Y?0!=t&&i.y!=k.Width+k.X&&i.y!=k.X||"inside"==T||"inside"!=L?0!=t&&i.y!=k.Width+k.X&&i.y!=k.X||"inside"!=T||"inside"==L?"inside"!=T&&"inside"!=L||1!=t?n="inside"==w?b:b+_.height+p+i.majorTickLines.size+i.axisLine.width+i._multiLevelLabelHeight:"inside"==T||"inside"!=L||i.showNextToAxisLine||(n="inside"==w?b+_.height+p+i._multiLevelLabelHeight+i.axisLine.width:b+p+i.majorTickLines.size+i.axisLine.width+b+b):n="inside"==w?b+p+i.majorTickLines.size+i.axisLine.width:b+_.height+p+i._multiLevelLabelHeight+i.axisLine.width:n="inside"==w?b+_.height+p+i._multiLevelLabelHeight+i.axisLine.width:b+i.majorTickLines.size+i.axisLine.width:n="inside"==w?b+_.height+p+i._multiLevelLabelHeight+i.majorTickLines.size+i.axisLine.width:b+p+i.axisLine.width,"far"==S?(d=C?i.x+P:i.x+i.width+P,f=C?"start":"end"):"near"==S?(d=C?i.x+i.width+P:i.x+P,f=C?"end":"start"):d=i.x+i.width/2+P,a.data={title:i.title.text,location:{x:d,y:n},axes:i},this._trigger("axesTitleRendering",a),h="inside"==w?(m?"inside"==T&&"outside"==L?i.y+a.data.location.y-(x?j:0)-i.majorTickLines.size:i.y+a.data.location.y-(x?j:0):"outside"==T&&"inside"==L?(x?j:0)+(i.y-a.data.location.y)+i.majorTickLines.size:(x?j:0)+(i.y-a.data.location.y))+u.height/3.5:(m?"inside"==T&&"outside"==L?i.y-a.data.location.y-(x?j:0)-i.majorTickLines.size:i.y-a.data.location.y-(x?j:0):"outside"==T&&"inside"==L?(x?j:0)+(a.data.location.y+i.y)-i.majorTickLines.size:(x?j:0)+(a.data.location.y+i.y))+u.height/3.5,o={id:this.svgObject.id+"_XAxisTitle_"+t,x:a.data.location.x,y:h,fill:i.title.font.color,"font-size":i.title.font.size,"font-family":i.title.font.fontFamily,"font-style":i.title.font.fontStyle,"font-weight":i.title.font.fontWeight,opacity:i.title.font.opacity,"text-anchor":f},this.model.enableCanvasRendering){var D=jQuery.uaMatch(navigator.userAgent),A=!!navigator.userAgent.match(/Trident\/7\./),O=D.browser.toLowerCase();"msie"==O||A||(o.y=m?o.y+p/2+1:o.y+p/2+("mozilla"==O?1:-2))}if(e(this.svgObject).find("#"+this.svgObject.id+"_XAxisTitle_"+t).length>0)e(this.svgObject).find("#"+this.svgObject.id+"_XAxisTitle_"+t).attr(o);else if(v){if(v&&(ej.util.isNullOrUndefined(y)||y>0||isNaN(y))){var I={Bounds:{X:"middle"==f?o.x-u.width/2:"end"==f?o.x-u.width:o.x,Y:o.y,Width:u.width,Height:u.height},trimText:g,labelText:i.title.text};this.model.xAxisTitleRegion.push(I),this.svgRenderer.drawText(o,g,c)}}else this.svgRenderer.drawText(o,a.data.title,c);this.model.enableCanvasRendering||(r="start"==f?0:"end"==f?u.width:u.width/2,l={id:this.svgObject.id+"_XAxisTitleBorder_"+t,x:a.data.location.x-r-b,y:h-u.height+u.height/4,width:u.width+2*b,height:u.height,fill:"transparent",class:"e-xaxistitleborder"},this.svgRenderer.drawRect(l,c)),e(c).appendTo(this.gXaxisEle)}},_drawYTitle:function(t,i){var s,a,o,r,l,n,d,h;if(""!=i.title.text&&i.title.text&&i.title.visible){var c,u,p=i._opposed,m=this.model.elementSpacing,g="middle",_=this.model.series.isTransposed,f=i.majorTickLines.size,b=i.title.position.toLowerCase(),v=i._LableMaxWidth,x=this.model.m_AreaBounds,y=i.axisLine,w=i.tickLinesPosition.toLowerCase(),S=i.labelPosition.toLowerCase(),C=i.title.text,T=i.title.enableTrim,L=(this.model.requireInvertedAxes,i._isScroll),k=i.title.maximumTitleWidth,P=i.title.offset,j=i.title.alignment.toLowerCase(),D=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisTitleGroup_"+t,cursor:"default"}),A=ej.EjSvgRender.utils._measureText(i.title.text,i.height,i.title.font);if("inside"!=w||"inside"!=S||1!=t&&i.x!=x.Width+x.X&&i.x!=x.X?1!=t&&i.x!=x.Width+x.X&&i.x!=x.X||"inside"==w||"inside"!=S?1!=t&&i.x!=x.Width+x.X&&i.x!=x.X||"inside"!=w||"inside"==S?("inside"!=i.tickLinesPosition&&"inside"!=i.labelPosition||1!=t)&&(c="inside"==b?p?i.x-(m+y.width+f):i.x+(m+(i.showNextToAxisLine?0:v.width)+y.width+f):p?i.x+(3*m+i._multiLevelLabelHeight+v.width+f+y.width):i.x-(3*m+v.width+i._multiLevelLabelHeight+f+y.width)):c="inside"==b?p?i.x-(3*m+f+y.width):i.x+(3*m+f+y.width)+(i.showNextToAxisLine?"inside"==S?-i._multiLevelLabelHeight:i._multiLevelLabelHeight:-m):p?i.x+(3*m+i._multiLevelLabelHeight+v.width+y.width):i.x-(3*m+v.width+y.width+i._multiLevelLabelHeight):c="inside"==b?p?i.x-(3*m+v.width+i._multiLevelLabelHeight+y.width):i.x+(3*m+v.width+i._multiLevelLabelHeight+y.width):p?i.x+(3*m+f+y.width):i.x-(3*m+f+y.width):c="inside"==b?p?i.x-(3*m+v.width+i._multiLevelLabelHeight+f+y.width):i.x+(3*m+v.width+i._multiLevelLabelHeight+f+y.width):p?i.x+(3*m+y.width-5):i.x-(3*m+y.width),s=ej.EjSvgRender.utils._measureText(C,i.height,i.title.font),T&&(ej.util.isNullOrUndefined(k)||k>0||isNaN(k)))for(a=k||i.height-2*m;s.width>a;)if(C=this.trimText(C,C.length,"..."),s=ej.EjSvgRender.utils._measureText(C,i.height,i.title.font),"..."==C){C="";break}if(c=i.opposedPosition?c:c-(L?this.model.scrollerSize:0),8===document.documentMode&&(c=p?c+s.width/2-m:c-s.width/2+m),(o=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={title:i.title.text,location:{x:A.width/2,y:0},axes:i},this._trigger("axesTitleRendering",o),u=o.data.location.y+(i.y+i.height)+i.height/-2,"near"==j?(u=i.y+i.height-P,g=p||_?"end":"start"):"far"==j?(u=i.y-P,g=p||_?"start":"end"):"center"==j&&(u=i.y+i.height/2-P),r=p?90:-90,l={id:this.svgObject.id+"_YAxisTitle_"+t,x:c,y:u,fill:i.title.font.color,labelRotation:r,transform:"rotate("+r+","+c+","+u+")","font-size":i.title.font.size,"font-family":i.title.font.fontFamily,"font-style":i.title.font.fontStyle,"font-weight":i.title.font.fontWeight,opacity:i.title.font.opacity,"text-anchor":g,"dominant-baseline":"middle"},this.model.enableCanvasRendering){var O=jQuery.uaMatch(navigator.userAgent),I=!!navigator.userAgent.match(/Trident\/7\./),R=O.browser.toLowerCase();"msie"==R||I||(l.x=p?l.x-A.height/4+1:l.x+A.height/4+("mozilla"==R?1:-2))}e(this.svgObject).find("#"+this.svgObject.id+"_YAxisTitle_"+t).length>0?e(this.svgObject).find("#"+this.svgObject.id+"_YAxisTitle_"+t).attr(l):T?T&&(ej.util.isNullOrUndefined(k)||k>0||isNaN(k))&&(n={Bounds:this.svgRenderer.vmlNamespace?{X:l.x-s.width/2,Y:l.y+s.height/2,Width:s.width,Height:s.height}:{X:l.x-s.height/2,Y:l.y+s.width/2,Width:s.height/2,Height:s.width},trimText:C,labelText:i.title.text},this.model.yAxisTitleRegion.push(n),this.svgRenderer.drawText(l,C,D)):this.svgRenderer.drawText(l,o.data.title,D),this.model.enableCanvasRendering||(d="start"==g?s.width:"end"==g?0:s.width/2,h={id:this.svgObject.id+"_YAxisTitleBorder_"+t,x:l.x-s.height+s.height/2,y:l.y-d-m,width:s.height,height:s.width+2*m,fill:"transparent",class:"e-yaxistitleborder"},this.svgRenderer.drawRect(h,D)),e(D).appendTo(this.gYaxisEle)}}},ej.EjStripline.prototype={_drawStripline:function(e,t,i,s){var a,o,r,l,n,d,h,c=ej.util.isNullOrUndefined(e.valueType)?e._valueType.toLowerCase():e.valueType.toLowerCase();"string"==typeof t.start&&"string"==typeof t.end&&(t.start=-1!=t.start.indexOf("/Date(")?new Date(parseInt(t.start.substr(6))):t.start,t.end=-1!=t.end.indexOf("/Date(")?new Date(parseInt(t.end.substr(6))):t.end),"datetimecategory"==c?(a=null!=t.start&&"number"!=typeof t.start?e.labels.indexOf(t.start.getTime()):t.start,o=null!=t.end&&"number"!=typeof t.end?e.labels.indexOf(t.end.getTime()):t.end):(a=t.start<e.visibleRange.min?e.visibleRange.min:t.start,o=t.end>e.visibleRange.max?e.visibleRange.max:t.end);var u,p=0,m=t.isRepeat,g=t.repeatEvery,_=t.repeatUntil,f=t.borderWidth,b=t.width;if(t.visible)if(this.model._stripeline=!0,r=t.startFromAxis,l="over"==t.zIndex?this.gStriplineOver:this.gStriplineBehind,l=ej.util.isNullOrUndefined(l)?"":l,n=!0,d=0,"horizontal"==e.orientation.toLowerCase())if(p=-90,ej.util.isNullOrUndefined(a)&&(ej.util.isNullOrUndefined(o)||ej.util.isNullOrUndefined(b)))n=!1;else if(a=r?ej.util.isNullOrUndefined(t.offset)?e.visibleRange.min:e.visibleRange.min+t.offset:"date"==jQuery.type(a)?a.getTime():a,ej.util.isNullOrUndefined(o)||"date"!=jQuery.type(o)||(o=o.getTime()),m&&!ej.util.isNullOrUndefined(g)&&(b||f))for(h=ej.util.isNullOrUndefined(_)?o||e.visibleRange.max:"datetime"==e._valueType?_.getTime():_;a<h;)o="datetime"===e._valueType?this._getDatetimeValue(o,a,b,e,b?null:o,t,c):a+b,u=this._getHorizontalValue(a,o,e,b,t,r,c),n&&this._drawAxisStriplines(u.x,u.y,u.height,u.width,u.textX,u.textY,p,i,d,s,l,t,e),d++,a="datetime"===e._valueType?this._getDatetimeValue(o,a,g,e,null,t,c):a+g;else u=this._getHorizontalValue(a,o,e,b,t,r,c),n&&this._drawAxisStriplines(u.x,u.y,u.height,u.width,u.textX,u.textY,p,i,d,s,l,t,e);else if(ej.util.isNullOrUndefined(a)&&(ej.util.isNullOrUndefined(o)||ej.util.isNullOrUndefined(b)))n=!1;else if(a=r?ej.util.isNullOrUndefined(t.offset)?e.visibleRange.min:e.visibleRange.min+t.offset:"date"==jQuery.type(a)?a.getTime():a,ej.util.isNullOrUndefined(o)||"date"!=jQuery.type(o)||(o=o.getTime()),m&&!ej.util.isNullOrUndefined(g)&&(b||f))for(h=ej.util.isNullOrUndefined(_)?o||e.visibleRange.max:_;a<h;)o=a+b,u=this._getVerticalValue(a,o,e,b,t,r),n&&this._drawAxisStriplines(u.x,u.y,u.height,u.width,u.textX,u.textY,p,i,d,s,l,t,e),d++,a+=g;else u=this._getVerticalValue(a,o,e,b,t,r),n&&this._drawAxisStriplines(u.x,u.y,u.height,u.width,u.textX,u.textY,p,i,d,s,l,t,e)},_getHorizontalValue:function(e,t,i,s,a,o,r){var l=(o?(e-i.visibleRange.min)/i.visibleRange.delta:ej.EjSvgRender.utils._getPointXY(e,i.visibleRange,i.isInversed))*i.width+i.x,n=ej.EjSvgRender.utils._getPointXY(t,i.visibleRange,i.isInversed)*i.width+i.x,d=ej.EjSvgRender.utils._getPointXY("datetime"===r?this._getDatetimeValue(t,e,s,i,s?null:t,a,r):e+(ej.util.isNullOrUndefined(a.width)?0:a.width),i.visibleRange,i.isInversed)*i.width+i.x,h=(i.isInversed?n<d:n>d)?Math.abs(l-n):Math.abs(l-d);return this._calculateHorizontalStripline(h,l,i,a)},_getVerticalValue:function(e,t,i,s,a,o){var r=i.y+i.height-(o?(e-i.visibleRange.min)/i.visibleRange.delta:ej.EjSvgRender.utils._getPointXY(e,i.visibleRange,i.isInversed))*i.height,l=i.y+i.height-ej.EjSvgRender.utils._getPointXY(ej.util.isNullOrUndefined(t)?0:t,i.visibleRange,i.isInversed)*i.height,n=i.y+i.height-ej.EjSvgRender.utils._getPointXY(e+(ej.util.isNullOrUndefined(s)?0:s),i.visibleRange,i.isInversed)*i.height,d=(i.isInversed?l>n:l<n)?Math.abs(r-l):Math.abs(r-n);return this._calculateVerticalStripline(d,r,i,a)},_calculateHorizontalStripline:function(e,t,i,s){var a=s.borderWidth,o=this.chart.model.m_AreaBounds.Height,r=e||a||0,l=i.isInversed?t-e:t,n=this.chart.model.m_AreaBounds.Y,d=ej.EjSvgRender.utils._measureText(s.text,null,s.font).height;return"middletop"==s.textAlignment?(textX=l+d,textY=Math.abs(n+o/2)):"middlecenter"==s.textAlignment?(textX=Math.floor(l+r/2)+d/3,textY=Math.abs(n+o/2)):"middlebottom"==s.textAlignment&&(textX=l+r-d,textY=Math.abs(n+o/2)),{x:l,y:n,height:o,width:r,textX:textX,textY:textY}},_calculateVerticalStripline:function(e,t,i,s){var a,o,r=e,l=this.chart.model.m_AreaBounds.X,n=this.chart.model.m_AreaBounds.Width,d=t+(i.isInversed?0:-e),h=ej.EjSvgRender.utils._measureText(s.text,n,s.font).height;return"middletop"==s.textAlignment?(a=l+n/2,o=d+h):"middlecenter"==s.textAlignment?(a=l+n/2,o=Math.abs(d+r/2)+h/3):"middlebottom"==s.textAlignment&&(a=l+n/2,o=d+r-h),{x:l,y:d,height:r,width:n,textX:a,textY:o}},_getDatetimeValue:function(e,t,i,s,a,o,r){var l,n=o.sizeType.toLowerCase(),d=null===a;if("datetime"!==r)return"pixel"===o.sizeType?t:d?t+i:e;switch(l=new Date(t),"auto"===n&&(n=s._intervalType.toLowerCase()),n){case"years":return d?new Date(l.setFullYear(l.getFullYear()+i)):e;case"months":return d?new Date(l.setMonth(l.getMonth()+i)):e;case"days":return d?new Date(l.setDate(l.getDate()+i)):e;case"hours":return d?new Date(l.setHours(l.getHours()+i)):e;case"minutes":return d?new Date(l.setMinutes(l.getMinutes()+i)):e;case"seconds":return d?new Date(l.setSeconds(l.getSeconds()+i)):e;default:return t}},_drawAxisStriplines:function(e,t,i,s,a,o,r,l,n,d,h,c,u){var p,m,g;if(ej.util.isNullOrUndefined(c.imageUrl)){var _={id:h.id+"_striplineRect_"+l+"_"+d+"_"+n,x:e,y:t,width:s,height:i,fill:c.color,opacity:c.opacity,"stroke-width":c.borderWidth,stroke:0==c.borderWidth?"transparent":c.borderColor},f={id:h.id+"_striplineRectText_"+l+"_"+d+"_"+n,x:a,y:o,fill:c.font.color,transform:"rotate("+r+","+a+","+o+")",labelRotation:r,"font-size":c.font.size,"font-family":c.font.fontFamily,"font-style":c.font.fontStyle,"font-weight":c.font.fontWeight,opacity:c.font.opacity,"text-anchor":"middle"},b={X:e,Y:t,Width:s,Height:i},v="over"==c.zIndex;ej.EjSvgRender.utils.AddRegion(this.chart,b,v),this.chart.model.enableCanvasRendering?(m=this.chart.svgObject.getContext("2d"),g="horizontal"==u.orientation.toLowerCase()?{X:u.x,Y:t,Width:u.width,Height:this.chart.model.m_AreaBounds.Height}:{X:e,Y:u.y,Width:this.chart.model.m_AreaBounds.Width,Height:u.height},m.save(),m.beginPath(),m.rect(g.X,g.Y,g.Width,g.Height),m.clip(),this.svgRenderer.drawRect(_,h),this.svgRenderer.drawText(f,c.text,h),m.closePath(),m.restore()):(this.svgRenderer.drawRect(_,h),this.svgRenderer.drawText(f,c.text,h))}else p={height:i,width:s,href:c.imageUrl,x:e,y:t,id:h.id+"_backImage",visibility:"visible",preserveAspectRatio:"none"},this.svgRenderer.drawImage(p,h)}}}(jQuery),ej.EjLegendRender=function(e){this.chartObj=e},function(e){ej.EjLegendRender.prototype={sumofArray:function(e){for(var t=0,i=e.length,s=0;s<i;s++)t+=e[s];return t},legendRectSpace:function(e,t){var i=e.Width-10,s=e.Height-10,a=!1;return Math.ceil(t.Width)>=i&&Math.ceil(t.Height)>=s&&(a=!0),a},drawLegendTitle:function(){var e,t=this.chartObj,i=t.model,s=i.legend,a=s.isReversed,o=i.LegendBounds,r=i.elementSpacing,l=s.title,n=ej.EjSvgRender.utils._measureText,d=l.font,h=o.Width,c=n(l.text,null,d),u=c.width,p=c.height,m=l.textAlignment.toLowerCase(),g=0,_=r+p/2;switch(m){case"far":g=a?g:h-u-g;break;case"center":g=h/2-u/2}g<0&&(g=0,h=u),h<u+g&&(h=u+g),e={id:t.svgObject.id+"_LegendTitleText",x:a&&"near"==m?h-u-g:g,y:_,fill:d.color,"font-size":d.size,"font-style":d.fontStyle,"font-family":d.fontFamily,"font-weight":d.fontWeight,"text-anchor":"start",direction:"ltr",lgndCtx:!0},t.svgRenderer.drawText(e,l.text,this.chartObj.gLegendEle)},drawLegendItem:function(t,i,s){var a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k=this.chartObj,P=k.model,j=P.legend,D=j.isReversed,A=j.textOverflow.toLowerCase(),O=j.textWidth,I=P.LegendBounds,R=P.elementSpacing,M=j.border.width,E=ej.EjSvgRender.utils._measureText,V=ej.EjSvgRender,N=k.svgRenderer,B=t.Font,F=P.symbolShape,z=P.enableCanvasRendering,Y=j.itemStyle,X=t.PointIndex,W=t.SeriesIndex,H=P.series[W],U=k.svgObject,$=t.LegendStyle,G=(jQuery.uaMatch(navigator.userAgent),navigator.userAgent.match(/Trident\/7\./),H.type.toLowerCase()),q=H.drawType;if(g=E(t.Text,I.Width,B).height,"object"==typeof t.Text&&D){for(b=0,w=0;w<t.Text.length;w++)v=t.Text[w],b<(x=ej.EjSvgRender.utils._measureText(v,I.Width,B).width)&&(b=x,y=v);_=E(y,null,B).width}else _=E(t.Text,null,B).width;for(h in f={startX:D?_+i+R:i+Y.width/2,startY:s+(g>Y.height?g:Y.height)/2},F)if(t.Shape.toLowerCase()==h.toLowerCase()){c="seriestype"==h.toLowerCase()?"SeriesType":h;break}if("SeriesType"==c&&(("radar"==G||"polar"==G)&&(c="rangecolumn"==(u="scatter"==q.toLowerCase()?H.marker.shape:u=q).toLowerCase()?"RangeColumn":u.capitalizeFirstString()),"scatter"==G&&(c=(u=H.marker.shape).capitalizeFirstString()),t.drawType&&(c="SeriesType"),k.vmlRendering&&("pie"==G||"doughnut"==G||"pieofpie"==G)&&(c="Circle")),"None"==c&&(c="pie"==G||"doughnut"==G||"pieofpie"==G?"Circle":"Rectangle"),a=ej.util.isNullOrUndefined(X)?W:X,k.gLegendItemEle=N.createGroup({id:U.id+"_Legend"+a,cursor:"pointer"}),t.CommonEventArgs.data.gLegendItemEle=k.gLegendItemEle,(l=e.extend(!0,{},t.CommonEventArgs.data)).model=k.model,n=l.style,!t.CommonEventArgs.cancel){if(d=V.chartSymbol["_draw"+c](f,n,l,k.gLegendItemEle),o=$.Color&&"gray"!==$.Color.toString().toLowerCase()&&z||$.Color&&"gray"!==$.Color.toLowerCase()?B.color:"gray",m=(r=t).Text.length,("seriestype"==j.shape||"seriesType"==j.shape)&&(i=D?i-R/2:i+R/2),S={id:this.chartObj.svgObject.id+"_LegendItemText"+a,x:D?i:Y.width+i+R/2,y:f.startY,fill:o,"font-size":B.size,"font-style":B.fontStyle,"font-family":B.fontFamily,"font-weight":B.fontWeight,"text-anchor":"start",direction:"ltr"},z&&(S.lgndCtx=!0),S.y=f.startY+g/4,"wrap"==A||"wrapandtrim"==A)for(S.y=S.y-g,C=0;C<m;C++)S.y=S.y+g,N.drawText(S,r.Text[C],k.gLegendItemEle),"wrapandtrim"==A&&(p={bounds:{x:S.x+I.X,y:S.y+I.Y,height:g*m,width:O},trimText:r.Text,labelText:r.displayText},P.legendTextRegion.push(p));else"trim"==A&&(p={bounds:{x:S.x+I.X,y:S.y+I.Y,height:g+R,width:O},trimText:r.Text,labelText:r.displayText},P.legendTextRegion.push(p)),N.drawText(S,r.Text,k.gLegendItemEle);N.append(k.gLegendItemEle,k.gLegendEle),T={LegendBound:{X:I.X+M,Y:I.Y+M},ItemBound:{X:i=d?D?f.startX-_-R:d:i,Y:s,_Width:t.Bounds._Width,Width:t.Bounds.Width,Height:t.Bounds.Height}},f.startX=D?Math.abs(f.startX-_-R/2):f.startX,L={LegendItem:t,Location:f,SymbolShape:c,Style:t.CommonEventArgs.data.style,Bounds:T},P.legendRegion.push(L)}},drawLegend:function(t){var i,s,a,o,r,l,n,d,h,c,u,p,m=this.chartObj,g=m.model,_=g.legend,f=_.isReversed,b=g.LegendViewerBounds,v=g.LegendBounds,x=g.LegendActualBounds,y=g.AreaType,w=_.position.toLowerCase(),S=_.alignment.toLowerCase(),C=g.elementSpacing,T=g.svgWidth,L=g.svgHeight,k=(le=g.title).font.size,P=le.subTitle,j=le.subTitle.font.size,D=_.title,A=_.border.width,O=ej.EjSvgRender.utils._measureText,I=g.margin,R=g.border.width,M=g.legendCollection,E=M.length,V=T-2*R,N=L-2*R,B=_.itemPadding>0?_.itemPadding:0,F=10,z=10,Y=""!=P.text&&P.visible&&le.visible?O(P.text,V-I.left-I.right,P.font).height+C:0,X=g._titleLocation?g._titleLocation.Y:0+Y,W=O(D.text,null,D.font),H=W.height,U=W.width,$=g._rowDefinitions,G=0,q=g._columnDefinitions,Z=this.sumofArray($.farSizes),Q=this.sumofArray($.nearSizes),K=(this.sumofArray(q.farSizes),this.sumofArray(q.nearSizes)),J=!1,ee=g.m_AreaBounds,te=_.enableScrollbar,ie=e(m.legendContainer),se=e("#ScrollerParent_vertical_"+m._id).length>0?18:0,ae=e("#ScrollerParent_horizontal_"+m._id).length>0?18:0,oe=e(m.legendSvgContainer),re=10,le=g.title,ne=(P=g.title.subTitle,le.visible?1.2*parseInt(k):0),de=P.visible?1.2*parseInt(j):0;if(ne=g.titleWrapTextCollection&&g.titleWrapTextCollection.length>1?g._titleLocation._height*g.titleWrapTextCollection.length-1:ne,de=g.subTitleWrapTextCollection&&g.subTitleWrapTextCollection.length>1?g._subTitleLocation.size.height:de,g.legend.border&&!P.text&&(de=0,re=5),"right"==w||"left"==w?F=10:z=te?N>200?10:N>100?5:0:10,b.Height+=H,v.Height+=H,_.visible){if("custom"!=w){if("cartesianaxes"==y)switch(w){case"bottom":v.Y=ee.Y+ee.Height+K-C/2+ae;break;case"top":v.Y=0==X?R+C:ne+10+de+re+C;break;case"right":v.X=ee.X+ee.Width+Z+2*C;break;case"left":v.X=ee.X-Q-x.Width-C/2-2*A-se}else switch(w){case"bottom":v.Y=N-(x.Height+A)-C;break;case"top":v.Y=0==X?R+C:ne+10+de+re+C;break;case"right":v.X=V-x.Width;break;case"left":v.X=R}if(!g.enable3D&&"cartesianaxes"==y&&null!=t._crossAxisOverlap)for(n=0,d=g._axes.length;n<d;n++){var he=g._axes[n],ce=t.axes[he.name]._bounds,ue="horizontal"===he.orientation.toLowerCase();"top"==w&&ue&&he._opposed&&he.y-ce<v.Y+v.Height?v.Y-=v.Y+v.Height-he.y+ce:"bottom"==w&&ue&&!he._opposed&&he.y+ce>v.Y?v.Y+=he.y+ce-v.Y:"left"==w&&!ue&&he._opposed&&he.x-ce<v.X+v.Width?v.X+=he.x+ce-v.X:"right"==w&&!ue&&!he._opposed&&he.x+ce>v.X&&(v.X-=v.X+v.Width-he.x+ce)}if("left"==w||"right"==w)if(te)switch(S){case"center":v.Y=ee.Height/2-x.Height/2+ee.Y-A;break;case"near":v.Y=ee.Y;break;case"far":v.Y=ee.Y+ee.Height-x.Height-2*A}else switch(S){case"center":v.Y=N/2-(x.Height+2*A)/2+C/2;break;case"near":v.Y=R+2*C;break;case"far":v.Y=N-(x.Height+A)-2*C}else switch(S){case"center":v.X=V/2-(x.Width+2*A)/2-C/4;break;case"near":v.X=f?V-(x.Width+A)-2*C:R+2*C;break;case"far":v.X=f?R+2*C:V-(x.Width+A)-2*C}}else v.Y=_.location.y<N?_.location.y:0,v.X=_.location.x<V?_.location.x:0;if(te)if("right"==w||"left"==w){if(v.Y<ee.Y||x.Height+2*A>=ee.Height)for(h=2*A,u=0;u<E;u++)if((h+=M[u].Bounds.Height+B)>ee.Height){x.Height=ee.Height-2*A,v.Y=ee.Y;break}}else if(2*A+x.Width>=V)for(c=2*A,u=0;u<E;u++)if((c+=M[u].Bounds.Width+B)>V){x.Width=V-2*A-x.vScrollSize-2*R,v.X=V/2-(x.Width+2*A)/2+C/2;break}for(m.legendSvgContainer.setAttribute("height",v.Height),m.legendSvgContainer.setAttribute("width",Math.max(U,v.Width)),a=i=F,o=s=z,""!=D.text&&D.text&&(this.drawLegendTitle(),o=s=z+H),u=0;u<E;u++)!(_.rowCount<_.columnCount||_.rowCount==_.columnCount)||"top"!=w&&"bottom"!=w&&"custom"!=w?(o+M[u].Bounds.Height+B+H+R>v.Height+s&&(o=s,a+=G+B),this.drawLegendItem(M[u],a,o),o+=M[u].Bounds.Height+B,G=Math.max(G,M[u].Bounds.Width)):(a+M[u].Bounds.Width>v.Width+i&&(a=F,o+=M[u].Bounds.Height+B),this.drawLegendItem(M[u],a,o),a+=M[u].Bounds.Width+B);var pe=m.legendContainer[0].offsetLeft,me=e(m.element).offset(),ge=m.vmlRendering?pe<=0?v.X:pe-me.left:e(m.svgObject).offset().left-me.left,_e=m.vmlRendering?ge:v.X+(ge<=0?0:ge);ie.attr("style",""),ie.show(),_._ejScroller||(f?ie.css({direction:"rtl"}):ie.css({direction:"ltr"})),ie.css({position:"absolute",background:_.background,left:_e,top:v.Y,width:x.Width,height:x.Height,"border-width":_.border.width,"border-color":_.border.color,"border-style":"solid"}),ie.addClass("e-legendborder"),oe.css({height:v.Height,width:v.Width}),v.Height=v.Height-(20-2*z),p=this.legendRectSpace(v,x),te&&(_._ejScroller?!p&&(v.Width>Math.ceil(x.Width)||v.Height>Math.ceil(x.Height))?(e("#"+ie[0].id).ejScroller({scrollTop:m.scrolltop,scrollLeft:m.scrollleft,height:x.Height,width:x.Width}),J=!0,v.Height>Math.ceil(x.Height)&&0==x.vScrollSize&&(r=ie[0].offsetWidth+5*A-ie[0].clientWidth,ie.css({width:x.Width+r}))):(e("#"+ie[0].id).ejScroller("instance").destroy(),_._ejScroller=!1):!p&&v.Width>Math.ceil(x.Width)&&v.Height>Math.ceil(x.Height)?(ie.css({overflow:"scroll"}),J=!0):(!p&&v.Height>Math.ceil(x.Height)&&x.vScrollSize>=0&&(ie[0].style.overflowY="scroll",ie[0].style.overflowX="hidden",0==x.vScrollSize&&(r=ie[0].offsetWidth-2*A-ie[0].clientWidth,ie.css({width:x.Width+r})),J=!0),!p&&v.Width>Math.ceil(x.Width)&&x.hScrollSize>=0&&(ie[0].style.overflowX="scroll",ie[0].style.overflowY="hidden",0==x.hScrollSize&&(l=ie[0].offsetHeight-2*A-ie[0].clientHeight,ie.css({height:x.Height+l})),J=!0))),m.svgRenderer.append(m.gLegendEle,m.legendSvgContainer),J||ie.css({width:x.Width-x.vScrollSize,height:x.Height-x.hScrollSize}),_._ejScroller||(void 0!=m.scrolltop&&ie.scrollTop(m.scrolltop),void 0!=m.scrollleft&&ie.scrollLeft(m.scrollleft))}else ie.hide()}}}(jQuery),ej.seriesTypes={},ej.EjSeriesRender=function(){},ej.indicatorTypes={},ej.EjIndicatorRender=function(){},ej.trendlineTypes={},ej.EjTrendLineRenderer=function(){},function(e){function t(t,i){var s=function(){};return s.prototype=new t,e.extend(s.prototype,i),s}ej.EjTrendLineRenderer.prototype={draw:function(t,i,s){var a,o;return this.chartObj=s,a=e.inArray(t,i.trendlines),t._isTransposed=s.model.requireInvertedAxes,t.xAxis=i.xAxis,t.yAxis=i.yAxis,o=t.type.toLowerCase(),t.points.length>1&&("linear"==o||"movingaverage"==o?this.calculateLineDirection(t,i,a):this.calculateSplineDirection(t,i,a)),!1},calculateSplineDirection:function(e,t,i){for(var s,a,o=ej.EjSvgRender.utils._getStringBuilder(),r=!0,l=e.points,n=ej.EjSeriesRender.prototype.naturalSpline(l,t),d=null,h=null,c=-1,u=l.length,p=0;p<u;p++){if(a=p,h=l[p],null!=d){var m,g,_=ej.EjSeriesRender.prototype.getBezierControlPoints(d,h,n[c],n[a],0,t,this);m=_.controlPoint1,g=_.controlPoint2;var f=ej.EjSvgRender.utils._getPoint(d,e),b=ej.EjSvgRender.utils._getPoint(h,e),v=ej.EjSvgRender.utils._getPoint(m,e),x=ej.EjSvgRender.utils._getPoint(g,e);this.chartObj,r?(o.append("M "+f.X+" "+f.Y+" C "+v.X+" "+v.Y+" "+x.X+" "+x.Y+" "+b.X+" "+b.Y+" "),r=!1):o.append("C "+v.X+" "+v.Y+" "+x.X+" "+x.Y+" "+b.X+" "+b.Y+" ")}d=h,c=a}return s=o.toString(),this._drawLinePath(e,t,s,i),!1},calculateLineDirection:function(e,t,i){for(var s,a,o,r=ej.EjSvgRender.utils._getStringBuilder(),l=!1,n=e.points.length,d=0;d<n;d++)o=e.points[d],s=ej.EjSvgRender.utils._getPoint(o,e),l?r.append("L "+s.X+" "+s.Y+" "):(r.append("M "+s.X+" "+s.Y+" "),r.append("L "+s.X+" "+s.Y+" "),l=!0);return a=r.toString(),this._drawLinePath(e,t,a,i),!1},_drawLinePath:function(e,t,i,s){var a,o=[];return o[0]=e.xAxis.x,o[1]=e.yAxis.y,""!=i&&(a={id:this.chartObj.svgObject.id+"_"+e.seriesIndex+"_"+s+"_"+e.name.replace(/[^a-zA-Z ]/g,""),fill:"none","stroke-dasharray":e.dashArray,"stroke-width":e.width,stroke:e.fill,opacity:e.opacity,d:i},e.id=a.id,this.chartObj.svgRenderer.drawPath(a,t.gTrendGroupEle,o)),this.chartObj.svgRenderer.append(t.gTrendGroupEle,this.chartObj.gTrendlinesGroupEle[e.seriesIndex]),!1},calculateTrendLineSegment:function(t,i,s,a){var o,r=a.model,l=e.extend([],t.points),n=i.type.toLowerCase();switch(i.xAxis=t.xAxis?t.xAxis:r.primaryXAxis,i.yAxis=t.yAxis?t.yAxis:r.primaryYAxis,i.backwardForecast=i.backwardForecast<0?0:i.backwardForecast,i.forwardForecast=i.forwardForecast<0?0:i.forwardForecast,l=l.sort((function(e,t){return e.xValue>t.xValue?1:t.xValue>e.xValue?-1:0})),n){case"linear":this.updateTrendSource(l,i),this.calculateLinearTrendline(t,i,s);break;case"exponential":this.updateExponentialTrendSource(l,i),this.calculateExponentialTrendline(t,i,s);break;case"logarithmic":this.updateLogarithmicTrendSource(l,i),this.calculateLogarithmicTrendline(t,i,s);break;case"power":this.updatePowerTrendSource(l,i),this.calculatePowerTrendline(t,i,s);break;case"polynomial":o=t.points.length,i.polynomialOrder=o<=i.polynomialOrder?o:i.polynomialOrder,i.polynomialOrder=i.polynomialOrder<2?2:i.polynomialOrder,i.polynomialOrder=i.polynomialOrder>6?6:i.polynomialOrder,o>1&&(this.updateTrendSource(l,i),this.calculatePolynomialTrendline(t,i,s));break;case"movingaverage":this.updateMovingAverageTrendSource(l,i),this.calculateMovingAverageTrendline(t,i,s)}return t.points.length>1&&i.points&&this.calculateTrendLineRange(i,s),!1},updateTrendSource:function(e,t){var i,s,a,o=e.length;for(t.xPoints=[],t.xValues=[],t.yValues=[],a=0;a<o;a++)(i=e[a]).isEmpty||ej.isNullOrUndefined(i.y)||(t.xPoints.push(i.xValue),s="number"==typeof i.xValue?i.xValue:Date.parse(i.xValue),t.xValues.push(s),t.yValues.push(i.y));return this.calculateSumXAndYValue(t),!1},calculateLinearTrendline:function(e,t,i){var s,a,o,r,l=t.xValues.length;return t.points=[],l>1&&("datetime"==i._valueType.toLowerCase()?(s=this._increaseDateTimeInterval(t.xPoints[0],-t.backwardForecast,i._intervalType),a=this._increaseDateTimeInterval(t.xPoints[l-1],t.forwardForecast,i._intervalType)):(s=t.xPoints[0]-t.backwardForecast,a=t.xPoints[l-1]+t.forwardForecast),o=t.slope*s+t._intercept,r=t.slope*a+t._intercept,t.points.push({x:s,xValue:s,y:o,YValues:[],visible:!0}),t.points.push({x:a,xValue:a,y:r,YValues:[],visible:!0}),t.points[0].YValues[0]=t.points[0].y,t.points[1].YValues[0]=t.points[1].y),!1},calculateTrendLineRange:function(e,t){var i,s,a=e.points.length;for(e.minY=e.points[0].y,e.maxY=e.points[a-1].y,t.setRange||(e.backwardForecast>0&&"category"!=t._valueType&&a>1&&(t.range.min=t.range.min>e.points[0].x?e.points[0].x:t.range.min,t.visibleRange.min=t.range.min),e.forwardForecast>0&&a>1&&(t.range.max=t.range.max<e.points[a-1].x?e.points[a-1].x:t.range.max,t.visibleRange.max=t.range.max)),s=0;s<a;s++)i=e.points[s].y,e.minY=Math.min(e.minY,i),e.maxY=Math.max(e.maxY,i);return!1},calculateSumXAndYValue:function(e){e.points;for(var t,i,s=e.xPoints.length,a=e.type.toLowerCase(),o=0,r=0,l=0,n=0,d=0,h=e.xValues,c=e.yValues,u=0;u<s;u++)o+=h[u],r+=c[u],d+=h[u]*c[u],n+=h[u]*c[u],l+=h[u]*h[u],c[u],c[u];if(ej.util.isNullOrUndefined(e.intercept)||"linear"!=a&&"exponential"!=a&&"polynomial"!=a)t=(s*n-o*r)/(s*l-o*o),i="exponential"==a||"power"==a?Math.exp((r-t*o)/s):(r-t*o)/s,e._intercept=i;else{switch(a){case"polynomial":t=(d-Math.log(e.intercept)*o)/l*3;break;case"linear":t=(d-e.intercept*o)/l;break;case"exponential":t=(d-Math.log(e.intercept)*o)/l}e._intercept=e.intercept}return e.slope=t,!1},_increaseDateTimeInterval:function(e,t,i){var s=new Date(e);return e="object"==typeof e?e:s,"days"==i.toLowerCase()?s.setDate(e.getDate()+t):"hours"==i.toLowerCase()?s.setHours(e.getHours()+t):"milliseconds"==i.toLowerCase()?s.setMilliseconds(e.getMilliseconds()+t):"seconds"==i.toLowerCase()?s.setSeconds(e.getSeconds()+t):"minutes"==i.toLowerCase()?s.setMinutes(e.getMinutes()+t):"months"==i.toLowerCase()?s.setMonth(e.getMonth()+t):"years"==i.toLowerCase()&&s.setYear(e.getFullYear()+t),s}},ej.ejLinear=t(ej.EjTrendLineRenderer),ej.trendlineTypes.linear=ej.ejLinear,ej.Exponential=t(ej.EjTrendLineRenderer,{updateExponentialTrendSource:function(e,t){var i,s,a,o=e.length;for(t.xPoints=[],t.xValues=[],t.yValues=[],a=0;a<o;a++)(i=e[a]).isEmpty||ej.isNullOrUndefined(i.y)||(t.xPoints.push(i.xValue),s="number"==typeof i.xValue?i.xValue:Date.parse(i.xValue),t.xValues.push(s),t.yValues.push(Math.log(i.y)));return this.calculateSumXAndYValue(t),!1},calculateExponentialTrendline:function(e,t,i){var s,a,o,r,l,n,d=t.xValues.length,h=Math.round(d/2);if(t.points=[],d>1){"datetime"==i._valueType.toLowerCase()?(r=(s=this._increaseDateTimeInterval(t.xPoints[0],-t.backwardForecast,i._intervalType)).getTime(),a=t.xPoints[h-1],l=new Date(a).getTime(),n=(o=this._increaseDateTimeInterval(t.xPoints[d-1],t.forwardForecast,i._intervalType)).getTime()):(s=r=t.xPoints[0]-t.backwardForecast,a=l=t.xPoints[h-1],o=n=t.xPoints[d-1]+t.forwardForecast);var c=t._intercept*Math.exp(t.slope*s),u=t._intercept*Math.exp(t.slope*a),p=t._intercept*Math.exp(t.slope*o);t.points.push({x:s,xValue:r,y:c,YValues:[],visible:!0}),t.points.push({x:a,xValue:l,y:u,YValues:[],visible:!0}),t.points.push({x:o,xValue:n,y:p,YValues:[],visible:!0}),t.points[0].YValues[0]=t.points[0].y,t.points[1].YValues[0]=t.points[1].y,t.points[2].YValues[0]=t.points[2].y}return!1}}),ej.trendlineTypes.exponential=ej.Exponential,ej.Logarithmic=t(ej.EjTrendLineRenderer,{updateLogarithmicTrendSource:function(e,t){var i,s,a,o,r=e.length;for(t.xPoints=[],t.xValues=[],t.yValues=[],a=0;a<r;a++)(i=e[a]).isEmpty||ej.isNullOrUndefined(i.y)||(t.xPoints.push(i.xValue),s="number"==typeof i.xValue?i.xValue:Date.parse(i.xValue),o=isFinite(Math.log(s))?Math.log(s):s,t.xValues.push(o),t.yValues.push(i.y));return this.calculateSumXAndYValue(t),!1},calculateLogarithmicTrendline:function(e,t,i){var s,a,o,r,l,n,d=t.xValues.length,h=Math.round(d/2);if(t.points=[],d>1){"datetime"==i._valueType.toLowerCase()?(r=(s=this._increaseDateTimeInterval(t.xPoints[0],-t.backwardForecast,i._intervalType)).getTime(),a=t.xPoints[h-1],l=new Date(a).getTime(),n=(o=this._increaseDateTimeInterval(t.xPoints[d-1],t.forwardForecast,i._intervalType)).getTime()):(s=r=t.xPoints[0]-t.backwardForecast,a=l=t.xPoints[h-1],o=n=t.xPoints[d-1]+t.forwardForecast);var c=t._intercept+t.slope*(isFinite(Math.log(s))?Math.log(s):s),u=t._intercept+t.slope*(isFinite(Math.log(a))?Math.log(a):a),p=t._intercept+t.slope*(isFinite(Math.log(o))?Math.log(o):o);t.points.push({x:s,xValue:r,y:c,YValues:[],visible:!0}),t.points.push({x:a,xValue:l,y:u,YValues:[],visible:!0}),t.points.push({x:o,xValue:n,y:p,YValues:[],visible:!0}),t.points[0].YValues[0]=t.points[0].y,t.points[1].YValues[0]=t.points[1].y,t.points[2].YValues[0]=t.points[2].y}return!1}}),ej.trendlineTypes.logarithmic=ej.Logarithmic,ej.Power=t(ej.EjTrendLineRenderer,{updatePowerTrendSource:function(e,t){var i,s,a,o=e.length;for(t.xPoints=[],t.xValues=[],t.yValues=[],a=0;a<o;a++)(i=e[a]).isEmpty||(t.xPoints.push(i.xValue),s="number"==typeof i.xValue?i.xValue:Date.parse(i.xValue),t.xValues.push(Math.log(s)),t.yValues.push(Math.log(i.y)));return this.calculateSumXAndYValue(t),!1},calculatePowerTrendline:function(e,t,i){var s,a,o,r,l,n,d,h=t.xValues.length,c=Math.round(h/2);if(t.points=[],h>1){"datetime"==i._valueType.toLowerCase()?(r=(s=this._increaseDateTimeInterval(t.xPoints[0],-t.backwardForecast,i._intervalType)).getTime(),a=t.xPoints[c-1],l=new Date(a).getTime(),n=(o=this._increaseDateTimeInterval(t.xPoints[h-1],t.forwardForecast,i._intervalType)).getTime()):(s=r=(d=t.xPoints[0]-t.backwardForecast)>-1?d:0,a=l=t.xPoints[c-1],o=n=t.xPoints[h-1]+t.forwardForecast);var u=t._intercept*Math.pow(s,t.slope),p=t._intercept*Math.pow(a,t.slope),m=t._intercept*Math.pow(o,t.slope);t.points.push({x:s,xValue:r,y:u,YValues:[],visible:!0}),t.points.push({x:a,xValue:l,y:p,YValues:[],visible:!0}),t.points.push({x:o,xValue:n,y:m,YValues:[],visible:!0}),t.points[0].YValues[0]=t.points[0].y,t.points[1].YValues[0]=t.points[1].y,t.points[2].YValues[0]=t.points[2].y}return!1}}),ej.trendlineTypes.power=ej.Power,ej.Polynomial=t(ej.EjTrendLineRenderer,{calculatePolynomialTrendline:function(e,t,i){var s,a,o,r,l,n,d,h,c,u=t.polynomialOrder;for(t.polynomialSlopes=new Array(u+1),s=t.xValues.length,h=0;h<s;h++)for(n=t.xValues[h],a=t.yValues[h],c=0;c<=u;++c)t.polynomialSlopes[c]||(t.polynomialSlopes[c]=0),t.polynomialSlopes[c]+=Math.pow(n,c)*a;for(o=new Array(1+2*u),r=new Array(u+1),l=0;l<u+1;l++)r[l]=new Array(3);for(h=0;h<s;++h)for(n=1,d=t.xValues[h],c=0;c<o.length;++c)o[c]||(o[c]=0),o[c]+=n,n*=d;for(h=0;h<=u;++h)for(c=0;c<=u;++c)r[h][c]=o[h+c];return this.gaussJordanEliminiation(r,t.polynomialSlopes)||(t.polynomialSlopes=null),this.createPolynomialSegments(e,i,t),!1},createPolynomialSegments:function(e,t,i){var s,a,o,r=i.polynomialSlopes;if(null!=r){var l,n=i.xValues.length,d=(Math.round(n/2),1),h=r.length,c=t._valueType.toLowerCase();for(i.points=[],s=1;s<=h;s++)1==s?("datetime"==c?l=(a=this._increaseDateTimeInterval(i.xPoints[0],-i.backwardForecast,t._intervalType)).getTime():a=l=i.xPoints[0]-i.backwardForecast,o=this.getPolynomialYValue(r,l)):s==r.length?("datetime"==c?l=(a=this._increaseDateTimeInterval(i.xPoints[n-1],i.forwardForecast,t._intervalType)).getTime():a=l=i.xPoints[n-1]+i.forwardForecast,o=this.getPolynomialYValue(r,l)):(d+=(n+i.forwardForecast)/r.length,"category"==c?a=l=i.xPoints[0]+(d-1):(a=l=i.xPoints[parseInt(d)-1],"datetime"==c&&n>d&&(l=new Date(a).getTime())),o=this.getPolynomialYValue(r,l)),(1==s||s==r.length||"category"==c||n>d)&&(i.points.push({x:a,xValue:l,y:o,YValues:[],visible:!0}),i.points[i.points.length-1].YValues[0]=i.points[i.points.length-1].y)}return!1},getPolynomialYValue:function(e,t){for(var i=0,s=0;s<e.length;s++)i+=e[s]*Math.pow(t,s);return i},gaussJordanEliminiation:function(e,t){for(var i,s,a,o,r,l,n,d=e.length,h=new Array(d),c=new Array(d),u=new Array(d),p=0;p<d;++p)u[p]=0;for(l=0;l<d;++l){var m=0,g=0,_=0;for(a=0;a<d;++a)if(1!=u[a])for(r=0;r<d;++r)0==u[r]&&Math.abs(e[a][r])>=m&&(m=Math.abs(e[a][r]),g=a,_=r);if(++u[_],g!=_){for(a=0;a<d;++a)o=e[a],e[g][a]=e[_][a],e[_][a]=o;i=t[g],t[g]=t[_],t[_]=i}if(c[l]=g,h[l]=_,0==e[_][_])return!1;for(s=1/e[_][_],e[_][_]=1,a=0;a<d;++a)e[_][a]*=s;for(t[_]*=s,a=0;a<d;++a)if(a!=_){for(o=e[a][_],e[a][_]=0,r=0;r<d;++r)e[a][r]-=e[_][r]*o;t[a]-=t[_]*o}}for(l=d-1;l>=0;--l)if(c[l]!=h[l])for(g=0;g<d;++g)n=e[c[l]],e[g][c[l]]=e[g][h[l]],e[g][h[l]]=n;return!0}}),ej.trendlineTypes.polynomial=ej.Polynomial,ej.MovingAverage=t(ej.EjTrendLineRenderer,{updateMovingAverageTrendSource:function(e,t){var i,s,a=e.length;for(t.xPoints=[],t.xValues=[],t.yValues=[],i=0;i<a;i++)t.xPoints.push(e[i].xValue),t.xValues.push(i+1),s=e[i].isEmpty?null:e[i].y,t.yValues.push(s);return!1},calculateMovingAverageTrendline:function(e,t){var i,s,a,o,r,l,n,d=t.xPoints.length,h=t.period>=d?d-1:t.period;for(h=h<2?2:h,t.points=[],i=0;i<d-1;i++){for(a=o=r=0,s=i;o<h;s++)o++,ej.util.isNullOrUndefined(t.yValues[s])&&r++,a+=t.yValues[s];a=h-r<=0?null:a/(h-r),ej.util.isNullOrUndefined(a)||isNaN(a)||(l=t.xPoints[h-1+i],t.points.push({x:l,xValue:l,y:a,YValues:[],visible:!0}),n=t.points.length,t.points[n-1].YValues[0]=t.points[n-1].y)}}}),ej.trendlineTypes.movingaverage=ej.MovingAverage,ej.EjIndicatorRender.prototype={draw:function(t,i){var s,a,o,r,l,n;if(this.chartObj=i,s=null,"cartesianaxes"==this.chartObj.model.AreaType&&(s="translate("+t.xAxis.x+","+t.yAxis.y+")"),a=e.inArray(t,this.chartObj.model.indicators),o={id:this.chartObj.svgObject.id+"_indicatorGroup_"+a,transform:s},this.gIndicatorGroupEle=this.chartObj.svgRenderer.createGroup(o),t._points.length>0)for(r=0;r<t.segment.length;r++)n={fill:(l=t.segment[r]).fill,width:l.width,opacity:t.opacity},l.isIndicator=!0,l.xAxis=t.xAxis,l.yAxis=t.yAxis,"line"==l.type?this.calculateDirection(l,n,a):this.drawColumn(l,n,t)},_drawLinePath:function(e,t,i,s){if(""!=i){var a={name:"line",id:this.chartObj.svgObject.id+"_"+s+"_"+e.name,fill:"none","stroke-dasharray":e.dashArray,"stroke-width":t.width,stroke:t.fill,"stroke-linecap":e.lineCap,"stroke-linejoin":e.lineJoin,opacity:t.opacity,d:i};this.chartObj.svgRenderer.drawPath(a,this.gIndicatorGroupEle)}this.chartObj.svgRenderer.append(this.gIndicatorGroupEle,this.chartObj.gIndicatorEle)},calculateDirection:function(e,t,i){var s,a,o=0,r=0;this.chartObj.model.enableCanvasRendering&&(o=e.xAxis.x,r=e.yAxis.y),e.points=ej.DataManager(e.points,ej.Query().sortBy("xValue")).executeLocal();var l,n,d=ej.EjSeriesRender.prototype._isVisiblePoints(e),h=ej.EjSvgRender.utils._getStringBuilder(),c=!1;for(a=0;a<d.length;a++)(n=d[a]).visible?(s=ej.EjSvgRender.utils._getPoint(n,e),c?h.append("L "+(s.X+o)+" "+(s.Y+r)+" "):(h.append("M "+(s.X+o)+" "+(s.Y+r)+" "),c=!0)):c=!1;l=h.toString(),this._drawLinePath(e,t,l,i)},drawColumn:function(t,i,s){var a,o,r,l,n=t,d=e.inArray(s,this.chartObj.model.indicators);n.index=d;var h=Math.max(t.yAxis.visibleRange.min,0),c={Start:-.35,End:.35},u=ej.EjSeriesRender.prototype._isVisiblePoints(n),p=this,m=p.chartObj;for(a=0;a<u.length;a++){var g=a,_=u[a],f=_.YValues[0],b=h;if(_.visible){var v=ej.EjSeriesRender.prototype.calculateSides(_,c),x=v.x1,y=v.x2,w=ej.EjSeriesRender.prototype.getRectangle(x,f,y,b,n,m),S=Math.min(0,w.Width),C=Math.min(0,w.Height);w.Width<1e-4&&(w.Width=1e-4),(0==S||0==C)&&w.Width>0&&(r={id:this.chartObj.svgObject.id+"_"+d+"_"+n.name,x:w.X+p.chartObj.canvasX,y:w.Y+p.chartObj.canvasY,width:w.Width,height:w.Height,fill:u[a].fill?u[a].fill:i.fill,"stroke-width":n.border.width,plot:f<0?"negative":"positive",opacity:n.histogram.opacity,stroke:u[a].fill?u[a].fill:n.border.color},this.chartObj.svgRenderer.drawRect(r,this.gIndicatorGroupEle),o={X:(l=ej.EjSvgRender.utils._getSvgXY(w.X,w.Y,n,p.chartObj)).X,Y:l.Y,Width:w.Width,Height:w.Height},this._addRegion(p.chartObj,o,n,_,g))}}this.chartObj.svgRenderer.append(this.gIndicatorGroupEle,this.chartObj.gIndicatorEle)},_addRegion:function(e,t,i,s,a){var o,r=i.type;i.index>=0&&(o={SeriesIndex:i.index,Region:{PointIndex:a,Bounds:t},type:r,isIndicator:!0},e.model.chartRegions.push(o))},calculateSegment:function(t,i){var s,a,o,r,l,n,d,h,c,u;if(this.chartObj=i,t.segment=[],t.xRange={},t.yRange={},t.period=parseInt(t.period),t.period<t._points.length&&t.period>0){for((s=e.extend(!0,{},t)).name="upperseries",s.fill=t.upperLine.fill,s.width=t.upperLine.width,s.type="line",a=0;a<t._points.length;a++)t._points[a].YValues.length=1,t._points[a].YValues[0]=t._points[a].y=70;for(s.points=e.extend(!0,[],t._points),o=i._getXValues(s.points),r=i._getYValues(s.points),t.xRange.min=Math.min.apply(Math,o),t.xRange.max=Math.max.apply(Math,o),t.yRange.min=Math.min.apply(Math,r),t.yRange.max=Math.max.apply(Math,r),t.segment.push(s),(l=e.extend(!0,{},t)).name="lowerSeries",l.width=t.lowerLine.width,l.fill=t.lowerLine.fill,l.type="line",n=0;n<t._points.length;n++)t._points[n].YValues[0]=t._points[n].y=30;l.points=e.extend(!0,[],t._points),r=i._getYValues(l.points),t.yRange.min=Math.min(Math.min.apply(Math,r),t.yRange.min),t.yRange.max=Math.max(Math.max.apply(Math,r),t.yRange.max),t.segment.push(l),(d=e.extend(!0,{},t)).name="signalSeries",d.width=t.width,d.fill=t.fill,d.type="line";var p=0,m=0,g=0,_=0,f=t.period;for(m=t._points[0].close,c=1;c<=f;++c)(p=t._points[c].close)>m?g+=p-m:p<m&&(_+=m-p),m=p,t._points[c-1].YValues[0]=t._points[c-1].y=null;for(g/=f,_/=f,t._points[f].YValues[0]=t._points[f].y=100-100/(1+g/_),u=f+1;u<t._points.length;u++)(p=t._points[u].close)>m?(g=(g*(f-1)+(p-m))/f,_=_*(f-1)/f):p<m&&(_=(_*(f-1)+(m-p))/f,g=g*(f-1)/f),m=p,t._points[u].YValues[0]=t._points[u].y=100-100/(1+g/_);for(d.points=e.extend(!0,[],t._points),h=[],c=f,u=0;c<d.points.length;c++,u++)h[u]=d.points[c].y;t.yRange.min=Math.min(Math.min.apply(Math,h),t.yRange.min),t.yRange.max=Math.max(Math.max.apply(Math,h),t.yRange.max),t.segment.push(d),this.calculateIndicatorRange(i,t)}},calculateIndicatorRange:function(e,t){void 0==e.model.indicatorRange[t.xAxisName]?(e.model.indicatorRange[t.xAxisName]={},e.model.indicatorRange[t.xAxisName]={min:t.xRange.min,max:t.xRange.max}):(e.model.indicatorRange[t.xAxisName].min>t.xRange.min&&(e.model.indicatorRange[t.xAxisName].min=t.xRange.min),e.model.indicatorRange[t.xAxisName].max<t.xRange.max&&(e.model.indicatorRange[t.xAxisName].max=t.xRange.max)),void 0===e.model.indicatorRange[t.yAxisName]?(e.model.indicatorRange[t.yAxisName]={},e.model.indicatorRange[t.yAxisName]={min:t.yRange.min,max:t.yRange.max}):(e.model.indicatorRange[t.yAxisName].min>t.yRange.min&&(e.model.indicatorRange[t.yAxisName].min=t.yRange.min),e.model.indicatorRange[t.yAxisName].max<t.yRange.max&&(e.model.indicatorRange[t.yAxisName].max=t.yRange.max))}},ej.ejRSI=t(ej.EjIndicatorRender),ej.indicatorTypes.rsi=ej.ejRSI,ej.ejMACD=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){var s,a,o,r,l,n,d,h,c,u,p,m,g;this.chartObj=i,t.segment=[],t.xRange={},t.yRange={};var _=t._points.length,f=t.longPeriod,b=t.shortPeriod,v=t.trigger,x=f-b,y=[],w=[],S=[],C=[],T=[],L=f+v;if(L<=t._points.length&&L-2>=0&&b<=f&&b>0){for(y=this.calculateEMA(t._points,b,!0),w=this.calculateEMA(t._points,f,!0),l=0;l<w.length;l++)S.push(y[l+x]-w[l]);for((s=e.extend(!0,{},t)).name="macdSeries",s.fill=t.macdLine.fill,s.width=t.macdLine.width,s.type="line",s.xAxis=t.xAxis,s.yAxis=t.yAxis,o=f-1,r=0,l=0;r<_;r++)r<o?t._points[r].YValues[0]=t._points[r].y=null:(t._points[r].YValues[0]=t._points[r].y=S[l],l+=1);for(s.points=e.extend(!0,[],t._points),C=this.calculateEMA(S,v,!1),(a=e.extend(!0,{},t)).name="signalSeries",a.fill=t.fill,a.width=t.width,a.type="line",a.xAxis=t.xAxis,a.yAxis=t.yAxis,o=f+v-2,r=0,l=0;r<_;r++)r<o?t._points[r].YValues[0]=t._points[r].y=null:(t._points[r].YValues[0]=t._points[r].y=C[l],l+=1);for(a.points=e.extend(!0,[],t._points),(n=e.extend(!0,{},t)).border={},n.name="histogramSeries",n.fill=t.histogram.fill,n.opacity=t.histogram.opacity,n.fill=t.histogram.fill,n.border=t.histogram.border,n.type="column",n.xAxis=t.xAxis,n.yAxis=t.yAxis,d=0,h=o;h<_;d++,h++)T.push(S[d+(v-1)]-C[d]);for(d=0,h=o;h<_;d++,h++)t._points[h].YValues[0]=t._points[h].y=T[d];switch(n.points=e.extend(!0,[],t._points),c=i._getXValues(s.points),t.xRange.min=Math.min.apply(Math,c),t.xRange.max=Math.max.apply(Math,c),t.macdType){case"line":t.yRange.min=Math.min.apply(Math,S),t.yRange.max=Math.max.apply(Math,S),t.segment.push(s),m=Math.min.apply(Math,C),g=Math.max.apply(Math,C),t.yRange.min=t.yRange.min<m?t.yRange.min:m,t.yRange.max=t.yRange.max>g?t.yRange.max:g,t.segment.push(a);break;case"histogram":u=Math.min.apply(Math,T),p=Math.max.apply(Math,T),t.yRange.min=t.yRange.min<u?t.yRange.min:u,t.yRange.max=t.yRange.max>p?t.yRange.max:p,t.segment.push(n);break;case"both":u=Math.min.apply(Math,T),p=Math.max.apply(Math,T),t.yRange.min=t.yRange.min<u?t.yRange.min:u,t.yRange.max=t.yRange.max>p?t.yRange.max:p,t.segment.push(n),t.yRange.min=Math.min.apply(Math,S),t.yRange.max=Math.max.apply(Math,S),t.segment.push(s),m=Math.min.apply(Math,C),g=Math.max.apply(Math,C),t.yRange.min=t.yRange.min<m?t.yRange.min:m,t.yRange.max=t.yRange.max>g?t.yRange.max:g,t.segment.push(a)}this.calculateIndicatorRange(i,t)}},calculateEMA:function(e,t,i){var s,a,o,r=0,l=0,n=e.length,d=[],h=[],c=2/(t+1);if(i){for(s=0;s<t;s++)d.push(e[s].close),r+=d[s];for(l=r/t,h.push(l),a=l,o=t;o<n;o++)a=(e[o].close-a)*c+a,h.push(a)}else{for(s=0;s<t;s++)d.push(e[s]),r+=d[s];for(l=r/t,h.push(l),a=l,o=t;o<n;o++)a=(e[o]-a)*c+a,h.push(a)}return h}}),ej.indicatorTypes.macd=ej.ejMACD,ej.ejSMA=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){var s,a,o,r,l;this.chartObj=i,t.segment=[],t.xRange={},t.yRange={},(s=e.extend(!0,{},t)).name="trendSeries",s.width=t.width,s.fill=t.fill,s.type="line";var n,d,h=[],c=[],u=[],p=t._points.length,m=t.period;if(!(m<=0)&&!(p<m)){for(r=0;r<p;r++)h.push(t._points[r].close);for(a=h.length;a>=m;){for(n=0,l=0;l<m;l++)n+=h[l];n/=m,c.push(n),h.splice(0,1),a=h.length}for(o=0;o<p;o++)t._points[o].YValues[0]=t._points[o].y=o<m-1?null:c[o-(m-1)];for(s.points=e.extend(!0,[],t._points),d=i._getXValues(s.points),r=m-1,l=0;r<s.points.length;r++,l++)u[l]=s.points[r].y;t.xRange.min=Math.min.apply(Math,d),t.xRange.max=Math.max.apply(Math,d),t.yRange.min=Math.min.apply(Math,u),t.yRange.max=Math.max.apply(Math,u),t.segment.push(s),this.calculateIndicatorRange(i,t)}}}),ej.indicatorTypes.sma=ej.ejSMA,ej.ejEMA=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){var s,a,o,r,l,n;this.chartObj=i,t.segment=[],t.xRange={},t.yRange={},(s=e.extend(!0,{},t)).name="trendSeries",s.type="line",s.xAxis=t.xAxis,s.yAxis=t.yAxis;var d,h=[],c=[],u=t._points.length,p=t.period,m=0;if(!(u<p)&&!(p<=0)){for(a=2/(p+1),l=0;l<p;l++)h.push(t._points[l].close),m+=h[l];for(c.push(m/p),n=p;n<u;n++)c.push((t._points[n].close-c[n-p])*a+c[n-p]);for(o=0;o<u;o++)o<p-1?t._points[o].YValues[0]=t._points[o].y=null:o>=p-1&&(t._points[o].YValues[0]=t._points[o].y=c[o-(p-1)]);for(s.points=e.extend(!0,[],t._points),d=i._getXValues(s.points),r=[],l=p,n=0;l<s.points.length;l++,n++)r[n]=s.points[l].y;t.xRange.min=Math.min.apply(Math,d),t.xRange.max=Math.max.apply(Math,d),t.yRange.min=Math.min.apply(Math,r),t.yRange.max=Math.max.apply(Math,r),t.segment.push(s),this.calculateIndicatorRange(i,t)}}}),ej.indicatorTypes.ema=ej.ejEMA,ej.ejSTOCHASTIC=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){function s(e,i,s){t._points.length>=e+i&&function(e,i,s){for(var a,o,r,l,n,d,h=e+(i-1),c=[],u=[],p=0;p<t._points.length;p++)a=v[p].y,c.push(a);for(o=c.length;o>=h;){for(d=0,r=e-1;r<e+i-1;r++)d+=c[r];d/=i,u.push(d.toFixed(2)),c.splice(0,1),o=c.length}for(l=h-1,n=0;n<t._points.length;n++)s[n].YValues[0]=s[n].y=n<l?null:Number(u[n-l])}(e,i,s)}var a,o,r,l,n,d,h,c,u;this.chartObj=i,t.segment=[],t.xRange={},t.yRange={};var p=t.kPeriod,m=t.dPeriod,g=t.period;if(!(g<1)&&!(m<1)&&!(p<1)&&!(g>t._points.length)&&!(m>t._points.length)&&!(p>t._points.length)){for((a=e.extend(!0,{},t)).name="upperseries",a.type="line",a.fill=t.upperLine.fill,a.width=t.upperLine.width,o=0;o<t._points.length;o++)t._points[o].YValues.length=1,t._points[o].YValues[0]=t._points[o].y=80;for(a.points=e.extend(!0,[],t._points),r=i._getXValues(a.points),l=i._getYValues(a.points),t.xRange.min=Math.min.apply(Math,r),t.xRange.max=Math.max.apply(Math,r),t.yRange.min=Math.min.apply(Math,l),t.yRange.max=Math.max.apply(Math,l),t.segment.push(a),(n=e.extend(!0,{},t)).name="lowerSeries",n.width=t.lowerLine.width,n.fill=t.lowerLine.fill,n.type="line",d=0;d<t._points.length;d++)t._points[d].YValues[0]=t._points[d].y=20;n.points=e.extend(!0,[],t._points),r=i._getXValues(n.points),l=i._getYValues(n.points),t.xRange.min=Math.min(Math.min.apply(Math,r),t.xRange.min),t.xRange.max=Math.max(Math.max.apply(Math,r),t.xRange.max),t.yRange.min=Math.min(Math.min.apply(Math,l),t.yRange.min),t.yRange.max=Math.max(Math.max.apply(Math,l),t.yRange.max),t.segment.push(n),(h=e.extend(!0,{},t)).name="periodSeries",h.width=t.periodLine.width,h.fill=t.periodLine.fill,h.type="line";var _=[],f=[],b=[],v=[];for(c=0;c<t._points.length;c++)f[c]=t._points[c].low,_[c]=t._points[c].high,b[c]=t._points[c].close;!function(e,i,s){t._points.length>e&&function(e,i,s){for(var a,o,r,l=e+i,n=[],d=[],h=0,c=0,u=0;u<e-1;++u)d.push(0),n.push(0);for(u=e-1;u<t._points.length;++u){for(r=Number.MAX_VALUE,o=Number.MIN_VALUE,a=0;a<e;++a)r=Math.min(r,f[u-a]),o=Math.max(o,_[u-a]);d.push(o),n.push(r)}for(u=0;u<l-1;++u)s[u].YValues.length=1,s[u].YValues[0]=s[u].y=null;for(u=e-1;u<t._points.length;++u)h=0,c=0,h+=b[u]-n[u],c+=d[u]-n[u],s[u].YValues.length=1,s[u].YValues[0]=s[u].y=h/c*100}(e,i,s)}(g,p,t._points),v=t._points,s(g,p,t._points),v=t._points,h.points=e.extend(!0,[],t._points),r=i._getXValues(h.points),l=i._getYValues(h.points),t.xRange.min=Math.min(Math.min.apply(Math,r),t.xRange.min),t.xRange.max=Math.max(Math.max.apply(Math,r),t.xRange.max),t.yRange.min=Math.min(Math.min.apply(Math,l),t.yRange.min),t.yRange.max=Math.max(Math.max.apply(Math,l),t.yRange.max),t.segment.push(h),(u=e.extend(!0,{},t)).name="trendSeries",u.width=t.width,u.fill=t.fill,u.type="line",s(g+p-1,m,t._points),u.points=e.extend(!0,[],t._points),t.segment.push(u),this.calculateIndicatorRange(i,t)}}}),ej.indicatorTypes.stochastic=ej.ejSTOCHASTIC,ej.ejbollingerBand=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){var s,a,o,r,l,n,d,h,c,u,p,m,g,_;this.chartObj=i,t.segment=[],t.xRange={},t.yRange={};var f=0,b=0,v=t._points.length,x=t.standardDeviations,y=t.period,w=Math.round(y),S=[],C=[],T=[];if(w<v&&w>0){for(g=0;g<w;g++)f+=t._points[g].close;for(s=f/y,g=0;g<v;++g)if(g>=w-1&&g<v){g-y>=0?(s=(f+=t._points[g].close-t._points[g-w].close)/y,S[g]=s,C[g]=Math.pow(t._points[g].close-s,2),b+=C[g]-C[g-w]):(S[g]=s,C[g]=Math.pow(t._points[g].close-s,2),b+=C[g]);var L=Math.sqrt(b/y),k=S[g]-x*L,P=S[g]+x*L;if(g+1==w)for(a=0;a<w-1;a++)T[a]={X:t._points[a].X,mb:S[g],lb:k,ub:P,visible:!0};T[g]={X:t._points[g].X,mb:S[g],lb:k,ub:P,visible:!0}}else g<y-1&&(S[g]=s,C[g]=Math.pow(t._points[g].close-s,2),b+=C[g]);for((o=e.extend(!0,{},t)).name="upperseries",o.fill=t.upperLine.fill,o.width=t.upperLine.width,o.type="line",r=0;r<t._points.length;r++)r>=w-1?(t._points[r].YValues.length=1,t._points[r].YValues[0]=t._points[r].y=T[r].ub):t._points[r].YValues[0]=t._points[r].y=null;for(o.points=e.extend(!0,[],t._points),l=i._getXValues(o.points),n=[],g=w;g<o.points.length;g++)n.push(o.points[g].y);for(_=n,t.xRange.min=Math.min.apply(Math,l),t.xRange.max=Math.max.apply(Math,l),t.yRange.min=Math.min.apply(Math,_),t.yRange.max=Math.max.apply(Math,_),t.segment.push(o),(d=e.extend(!0,{},t)).name="lowerSeries",d.width=t.lowerLine.width,d.fill=t.lowerLine.fill,d.type="line",h=0;h<t._points.length;h++)h>=w-1?(t._points[h].YValues.length=1,t._points[h].YValues[0]=t._points[h].y=T[h].lb):t._points[h].YValues[0]=t._points[h].y=null;for(d.points=e.extend(!0,[],t._points),l=i._getXValues(d.points),c=[],g=w;g<d.points.length;g++)c.push(d.points[g].y);for(_=c,t.xRange.min=Math.min(Math.min.apply(Math,l),t.xRange.min),t.xRange.max=Math.max(Math.max.apply(Math,l),t.xRange.max),t.yRange.min=Math.min(Math.min.apply(Math,_),t.yRange.min),t.yRange.max=Math.max(Math.max.apply(Math,_),t.yRange.max),t.segment.push(d),(u=e.extend(!0,{},t)).name="trendSeries",u.width=t.width,u.fill=t.fill,u.type="line",p=0;p<t._points.length;p++)p>=w-1?(t._points[p].YValues.length=1,t._points[p].YValues[0]=t._points[p].y=T[p].mb):t._points[p].YValues[0]=t._points[p].y=null;for(u.points=e.extend(!0,[],t._points),l=i._getXValues(u.points),m=[],g=w;g<u.points.length;g++)m.push(u.points[g].y);_=m,t.xRange.min=Math.min(Math.min.apply(Math,l),t.xRange.min),t.xRange.max=Math.max(Math.max.apply(Math,l),t.xRange.max),t.yRange.min=Math.min(Math.min.apply(Math,_),t.yRange.min),t.yRange.max=Math.max(Math.max.apply(Math,_),t.yRange.max),t.segment.push(u),this.calculateIndicatorRange(i,t)}}}),ej.indicatorTypes.bollingerband=ej.ejbollingerBand,ej.ejATR=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){var s,a,o,r,l,n,d,h,c;this.chartObj=i,t.segment=[],t.xRange={},t.yRange={},s=[],a=o=r=0;var u,p,m=0,g=t.period;if(!(g<=0)&&!(g>t._points.length)){for(c=0;c<g;c++)a=t._points[c].high-t._points[c].low,c>0&&(o=Math.abs(t._points[c].high-t._points[c-1].close),r=Math.abs(t._points[c].low-t._points[c-1].close)),p=(m+=u=Math.max(a,o,r))/g,s[c]={X:t._points[c].X,YValues:p};for(c=g;c<t._points.length;++c)a=t._points[c].high-t._points[c].low,o=Math.abs(t._points[c].high-t._points[c-1].close),r=Math.abs(t._points[c].low-t._points[c-1].close),u=Math.max(a,o,r),p=(s[c-1].YValues*(g-1)+u)/g,s[c]={X:t._points[c].X,YValues:p};for((l=e.extend(!0,{},t)).name="trendSeries",l.width=t.width,l.fill=t.fill,l.type="line",n=0;n<t._points.length;n++)n>=g-1?(t._points[n].YValues.length=1,t._points[n].YValues[0]=t._points[n].y=s[n].YValues):t._points[n].YValues[0]=t._points[n].y=null;for(l.points=e.extend(!0,[],t._points),d=i._getXValues(l.points),h=[],c=g;c<l.points.length;c++)h.push(l.points[c].y);t.xRange.min=Math.min.apply(Math,d),t.xRange.max=Math.max.apply(Math,d),t.yRange.min=Math.min.apply(Math,h),t.yRange.max=Math.max.apply(Math,h),t.segment.push(l),this.calculateIndicatorRange(i,t)}}}),ej.indicatorTypes.atr=ej.ejATR,ej.ejaccumulationDistribution=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){var s,a,o,r,l,n,d,h,c;for(this.chartObj=i,t.segment=[],t.xRange={},t.yRange={},s=[],a=0,o=0;o<t._points.length;o++)l=((r=t._points[o].close)-t._points[o].low-(t._points[o].high-r))/(t._points[o].high-t._points[o].low),a+=(isNaN(l)?0:l)*t._points[o].volume,s[o]=a;for((n=e.extend(!0,{},t)).name="trendseries",n.fill=t.fill,n.width=t.width,n.type="line",d=0;d<t._points.length;d++)t._points[d].YValues[0]=t._points[d].y=s[d];n.points=e.extend(!0,[],t._points),h=i._getXValues(n.points),c=i._getYValues(n.points),t.xRange.min=Math.min.apply(Math,h),t.xRange.max=Math.max.apply(Math,h),t.yRange.min=Math.min.apply(Math,c),t.yRange.max=Math.max.apply(Math,c),t.segment.push(n),this.calculateIndicatorRange(i,t)}}),ej.indicatorTypes.accumulationdistribution=ej.ejaccumulationDistribution,ej.ejTMA=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){var s,a,o,r,l,n,d;this.chartObj=i,t.segment=[],t.xRange={},t.yRange={},(s=e.extend(!0,{},t)).name="trendSeries",s.width=t.width,s.fill=t.fill,s.type="line";var h,c=[],u=[],p=[],m=[],g=[],_=0,f=t._points.length,b=t.period;if(!(b<1)&&b<f){for(n=0;n<f;n++)c.push(t._points[n].close);for(a=c.length;a>=b;){for(_=0,d=0;d<b;d++)_+=c[d];_/=b,u.push(parseFloat(_.toFixed(2))),c.splice(0,1),a=c.length}for(r=0;r<f;r++)if(r<b-1){for(_=0,d=0;d<r+1;d++)_+=t._points[d].close;_/=r+1,m[r]=parseFloat(_.toFixed(2))}else m[r]=u[r-(b-1)];for(o=m.length;o>=b;){for(h=0,d=0;d<b;d++)h+=m[d];h/=b,p.push(h),m.splice(0,1),o=m.length}for(r=0;r<f;r++)t._points[r].YValues[0]=t._points[r].y=r<b-1?null:p[r-(b-1)];for(s.points=e.extend(!0,[],t._points),l=i._getXValues(s.points),n=b-1,d=0;n<s.points.length;n++,d++)g[d]=s.points[n].y;t.xRange.min=Math.min.apply(Math,l),t.xRange.max=Math.max.apply(Math,l),t.yRange.min=Math.min.apply(Math,g),t.yRange.max=Math.max.apply(Math,g),t.segment.push(s),this.calculateIndicatorRange(i,t)}}}),ej.indicatorTypes.tma=ej.ejTMA,ej.ejMomentum=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){var s,a,o,r,l,n,d,h,c,u,p,m;if(this.chartObj=i,t.segment=[],t.xRange={},t.yRange={},(s=e.extend(!0,{},t)).name="upperseries",s.fill=t.upperLine.fill,s.width=t.upperLine.width,s.type="line",a=t.period,o=t._points.length,a>0&&a<o-1){for(c=0;c<o;c++)t._points[c].YValues.length=1,t._points[c].YValues[0]=t._points[c].y=100;for(s.points=e.extend(!0,[],t._points),r=i._getXValues(s.points),l=i._getYValues(s.points),t.xRange.min=Math.min.apply(Math,r),t.xRange.max=Math.max.apply(Math,r),t.yRange.min=Math.min.apply(Math,l),t.yRange.max=Math.max.apply(Math,l),t.segment.push(s),(n=e.extend(!0,{},t)).name="trendSeries",n.width=t.width,n.fill=t.fill,n.type="line",d=t.period,p=0;p<t._points.length;++p)h=t._points,p<d||(t._points[p].YValues[0]=t._points[p].y=h[p].close/h[p-d].close*100);for(c=0;c<d&&c<t._points.length;c++)t._points[c].YValues[0]=t._points[c].y=null;for(n.points=e.extend(!0,[],t._points),r=i._getXValues(n.points),u=[],p=d,m=0;p<n.points.length;p++,m++)u[m]=n.points[p].y;t.xRange.min=Math.min(Math.min.apply(Math,r),t.xRange.min),t.xRange.max=Math.max(Math.max.apply(Math,r),t.xRange.max),t.yRange.min=Math.min(Math.min.apply(Math,u),t.yRange.min),t.yRange.max=Math.max(Math.max.apply(Math,u),t.yRange.max),t.segment.push(n),this.calculateIndicatorRange(i,t)}}}),ej.indicatorTypes.momentum=ej.ejMomentum,ej.EjSeriesRender.prototype={getOrigin:function(e,t,i){if(i.axes[t.xAxis.name]._validCross){var s=e.chartObj._getCrossAxis(e.chartObj.model._axes,!0,t.xAxis.crossesInAxis);if(e.chartObj.model.requireInvertedAxes?t.xAxis.name:t.yAxis.name===s.name)return t.xAxis._crossValue}return"splinerangearea"==t.type.toLowerCase()?Math.max(t.points[0].YValues[1],0):Math.max(t.yAxis.visibleRange.min,0)},setLineSeriesStyle:function(t){var i=e.inArray(t,this.chartObj.model._visibleSeries),s=this.chartObj.model.seriesColors[i];return{SeriesInterior:t.isTransposed?this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(t)+i,s,100,0,0,0,this.chartObj.gSeriesEle):this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(t)+i,s,0,0,0,100,this.chartObj.gSeriesEle),SeriesBorder:this.chartObj.model.seriesBorderColors[i]}},getSeriesName:function(e){return e.name?e.name.replace(/\s/g,""):"series"},drawAreaPath:function(t,i,s,a){var o,r,l,n=this.chartObj.model.requireInvertedAxes,d=e.inArray(t,this.chartObj.model._visibleSeries),h=null,c=this.chartObj.model.AreaType,u=t.border;"cartesianaxes"==c&&(h="translate("+(o=ej.EjSvgRender.utils._getTransform(t.xAxis,t.yAxis,n)).x+","+o.y+")"),r={id:this.chartObj.svgObject.id+"_SeriesGroup_"+d,transform:h},this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(r),""!=s&&(l={id:this.chartObj.svgObject.id+"_Series"+d,fill:i.SeriesInterior,"fill-opacity":t.opacity,"stroke-width":u.width,stroke:u.color,"stroke-dasharray":u.dashArray,"stroke-linecap":t.lineCap,"stroke-linejoin":t.lineJoin,d:s},this.chartObj.dragPoint?(l.id=this.chartObj.svgObject.id+"_PreviewSeries"+d,l["fill-opacity"]=.6,this.chartObj.model.enableCanvasRendering?this.chartObj.svgRenderer.drawPath(l,this.chartObj.canvasElement,a):this.chartObj.svgRenderer.drawPath(l,this.chartObj.gPreviewSeriesGroupEle,a)):this.chartObj.svgRenderer.drawPath(l,this.gSeriesGroupEle,a))},setAreaSeriesStyle:function(t){var i=e.inArray(t,this.chartObj.model._visibleSeries),s=this.chartObj.model.seriesColors[i];return{SeriesInterior:t.isTransposed?this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(t)+i,s,100,0,0,0,this.chartObj.gSeriesEle):this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(t)+i,s,0,0,0,100,this.chartObj.gSeriesEle)}},naturalSpline:function(e,t,i,s){var a,o,r,l,n,d,h,c,u,p,m=e.length,g=[],_=[],f=[],b=[],v=[],x=ej.util.isNullOrUndefined(t.cardinalSplineTension)?.5:t.cardinalSplineTension<0?0:t.cardinalSplineTension>1?1:t.cardinalSplineTension,y="splinerangearea"==t.type.toLowerCase()?i:0;if(s&&"datetime"==s._valueType)for(a=e,u=0;u<a.length;u++)"object"==typeof(o=a[u].YValues[0])&&(a[u].YValues[0]=Date.parse(o));if("monotonic"==t.splineType){for(c=0;c<m-1;c++)g[c]=e[c+1].xValue-e[c].xValue,_[c]=e[c+1].YValues[y]-e[c].YValues[y],f[c]=_[c]/g[c];for(r=f.length,b[0]=f[0],b[m-1]=f[r-1],n=0;n<g.length;n++)r>n+1&&(f[n]*f[n+1]<=0?b[n+1]=0:(l=g[n]+g[n+1],b[n+1]=3*l/((l+g[n+1])/f[n]+(l+g[n])/f[n+1])))}else if("cardinal"==t.splineType)for(c=0;c<m;c++)b[c]=0==c?m>2?x*(e[c+2].xValue-e[c].xValue):0:c==m-1?m>2?x*(e[m-1].xValue-e[m-3].xValue):0:x*(e[c+1].xValue-e[c-1].xValue);else{for("clamped"==t.splineType?(d=(e[1].xValue-e[0].xValue)/(e[1].YValues[y]-e[0].YValues[y]),h=(e[m-1].xValue-e[m-2].xValue)/(e[m-1].YValues[y]-e[m-2].YValues[y]),b[0]=3*(e[1].YValues[y]-e[0].YValues[y])/(e[1].xValue-e[0].xValue)-3*d,v[0]=.5,b[e.length-1]=3*h-3*(e[e.length-1].YValues[y]-e[e.length-2].YValues[y])/(e[e.length-1].xValue-e[e.length-2].xValue),b[0]="Infinity"==Math.abs(b[0])?0:b[0],b[e.length-1]="Infinity"==Math.abs(b[e.length-1])?0:b[e.length-1]):(b[0]=v[0]=0,b[e.length-1]=0),c=1;c<m-1;c++){var w=e[c].xValue-e[c-1].xValue,S=e[c+1].xValue-e[c-1].xValue,C=e[c+1].xValue-e[c].xValue,T=e[c+1].YValues[y]-e[c].YValues[y]||null,L=e[c].YValues[y]-e[c-1].YValues[y]||null;0==w||0==S||0==C?(b[c]=0,v[c]=0):(u=1/(w*b[c-1]+2*S),b[c]=-u*C,v[c]=u*(6*(T/C-L/w)-w*v[c-1]))}for(p=m-2;p>=0;p--)b[p]=b[p]*b[p+1]+v[p]}return b},getDaysInMonth:function(e,t){return new Date(t,e+1,0).getDate()},getBezierControlPoints:function(t,i,s,a,o,r,l){var n,d,h,c,u,p,m,g,_=864e5,f=new Date(t.xValue),b=l.chartObj.model.hAxes.length,v=e.inArray(r,l.chartObj.model._visibleSeries),x=v!=b&&v<b?v:0;if("cardinal"==r.splineType){if(ej.util.isNullOrUndefined(l.chartObj.model.hAxes[x].intervalType)||"years"==l.chartObj.model.hAxes[x].intervalType.toLowerCase()||"auto"==l.chartObj.model.hAxes[x].intervalType.toLowerCase())h=s/(_*(u=(w=new Date(f.getFullYear()))%4!=0||w%100!=0&&w%400==0?365:366)),c=a/(_*u);else if("months"==l.chartObj.model.hAxes[x].intervalType.toLowerCase()){var y=new Date(f),w=y.getFullYear(),S=y.getMonth(),C=ej.EjSeriesRender.prototype.getDaysInMonth(S,w);h=s/(_*C),c=a/(_*C)}else h=s,c=a;n={xValue:t.xValue+s/3,YValues:[t.YValues[o]+h/3]},d={xValue:i.xValue-a/3,YValues:[i.YValues[o]-c/3]}}else if("monotonic"==r.splineType)p=(i.xValue-t.xValue)/3,n={xValue:t.xValue+p,YValues:[t.YValues[o]+s*p]},d={xValue:i.xValue-p,YValues:[i.YValues[o]-a*p]};else{m=1/3,g=i.xValue-t.xValue,g*=g;var T=2*parseFloat(t.xValue)+parseFloat(i.xValue),L=parseFloat(t.xValue)+2*parseFloat(i.xValue);n={xValue:T*m,YValues:[m*(2*t.YValues[o]+i.YValues[o]-m*g*(s+.5*a))]},d={xValue:L*m,YValues:[m*(t.YValues[o]+2*i.YValues[o]-m*g*(.5*s+a))]}}return{controlPoint1:n,controlPoint2:d}},improveChartPerformance:function(e){for(var t,i,s,a=[],o=e.pointCollection&&e.dragPoint?e.pointCollection:e.points,r=this.chartObj.model.m_AreaBounds,l=0,n=e.xAxis.visibleRange.delta/r.Width,d=e.yAxis.visibleRange.delta/r.Height,h=o[0]&&o[0].xValue>n?0:n,c=o[0]&&o[0].y>d?0:d,u=0,p=0,m=o.length,g=0,_=0,f=!0,b=0,v=m>0&&o[0].xValue,x=0;x<m;x++)u=(t=o[x]).xValue,p=t.YValues[0],t.fill&&(e.pointFill=!0),f&&u!=v&&(f=v<u,v=u),(t.isEmpty||null==u||null==p||u!==u||p!==p||isNaN(u)||isNaN(p))&&(t.isEmpty=!0),null==u&&(t.xValue=e.xAxis.visibleRange.min),null==p&&(t.YValues[0]=e.yAxis.visibleRange.min),t.marker&&t.marker.visible&&g++,t.marker&&t.marker.dataLabel&&t.marker.dataLabel.visible&&_++,t.isEmpty&&l++,s=p-c,((i=u-h)>=n||-i>=n||s>=d||-s>=d)&&(t.visible=!t.isEmpty||t.visible||!1,a[b++]=t,u===u&&(h=u),p===p&&(c=p));return f&&(e._sorted=f),e._pointMarker=g,e._dataLabels=_,0==l&&e.marker&&!e.marker.dataLabel.visible?a:this._calculateEmptyPoints(e,a)},_isVisiblePoints:function(e){for(var t,i,s=e.pointCollection&&e.dragPoint?e.pointCollection:e.points,a=ej.util.isNullOrUndefined,o=s.length,r=0;r<o;r++)i=!a(s[r].isEmpty)&&s[r].isEmpty,s[r].visible=!!a(s[r].visible)||s[r].visible,a(s[r].xValue)?(s[r].isEmpty=!0,s[r].visible=!1,s[r].xValue=e.xAxis?e.xAxis.visibleRange.min:null):s[r].isEmpty=i,"object"!=typeof s[r].YValues[0]&&isNaN(s[r].YValues[0])||null==s[r].YValues[0]||"undefined"==s[r].YValues[0]||!e.isIndicator&&e._hiloTypes&&(isNaN(s[r].YValues[1])||void 0==s[r].YValues[1]||null==s[r].YValues[1])?(s[r].isEmpty=!0,s[r].visible=!1):(s[r].isEmpty=s[r].isEmpty,s[r].visible=s[r].isEmpty?!s[r].isEmpty:s[r].visible),a(s[r].x)||"date"==jQuery.type(s[r].xValue)&&(s[r].xValue=s[r].xValue.getTime());return t=e.emptyPointSettings?this._calculateEmptyPoints(e,s):s,"waterfall"==e.type.toLowerCase()&&this.chartObj.calculateWaterfallSeriesPoints(t),e._visiblePoints=t,t},_calculateEmptyPoints:function(t,i,s){var a,o,r,l,n,d,h=t.emptyPointSettings,c=h.style,u=c.color,p=ej.util.isNullOrUndefined,m=c.border.color,g=c.border.width,_=h.displayMode.toLowerCase(),f=h.visible,b=i.length,v=[];if(a=e.extend(!0,{},i,a),l=t.type.toLowerCase(),a.length=i.length,_="boxandwhisker"==l?"gap":_,f)if("gap"!=_)for(d=0;d<b;d++)if(a[d].actualIndex=p(s)?d:s.model._isPieOfPie?a[d].actualIndex:d,!(o=a[d]).isEmpty||p(o.x)&&"string"!=t._xAxisValueType)p(a[d].x)&&"string"!=t._xAxisValueType||v.push(o);else{switch(""!=u&&(o.fill=u),""!=m&&(o.border=o.border?o.border:{},o.border.color=m,o.border.width=g),_){case"average":t._hiloTypes?("splinerangearea"==l&&this._setsraPoint(a[d]),e.each(o.YValues,(function(e,t){t=((a[d-1]?a[d-1].YValues[e]:0)+(a[d+1]?a[d+1].isEmpty?0:a[d+1].YValues[e]:0))/2,o.YValues[e]=t,ej.EjSeriesRender.prototype._sethlocPoint(e,o,t)}))):(r=((a[d-1]?a[d-1].y:0)+(a[d+1]?a[d+1].isEmpty?0:a[d+1].y:0))/2,o.YValues[0]=r,o.y=r);break;case"zero":t._hiloTypes?("splinerangearea"==l&&this._setsraPoint(a[d]),e.each(o.YValues,(function(e){o.y=0,o.YValues[e]=0,ej.EjSeriesRender.prototype._sethlocPoint(e,o,0)}))):(n=-1!=l.indexOf("stackingspline")?a[d].YValues[0]:0,o.YValues[0]=n,o.y=n)}o.isEmpty=!1,o.visible=!0,v.push(o)}else for(d=0;d<b;d++)a[d].actualIndex=p(s)?d:s.model._isPieOfPie?a[d].actualIndex:d,"splinerangearea"==l&&this._setsraPoint(a[d]),v[d]=a[d];else for(d=0;d<b;d++)a[d].actualIndex=d,a[d].visible&&v.push(a[d]);return v},_setsraPoint:function(e){var t=ej.util.isNullOrUndefined;t(e.YValues[0])&&(e.YValues[0]=0),t(e.YValues[1])&&(e.YValues[1]=0)},_sethlocPoint:function(e,t,i){switch(e){case 0:t.high=i;break;case 1:t.low=i;break;case 2:t.open=i;break;case 3:t.close=i}},_calculatePolarAxesSegment:function(t){var i,s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y=t._visiblePoints,w=ej.EjSvgRender.utils._getStringBuilder(),S=e.inArray(t,this.chartObj.model._visibleSeries),C=this.chartObj.model.centerX,T=this.chartObj.model.centerY,L=this._getSeriesPosition(t),k=t.drawType.toLowerCase(),P=(ej.EjSvgRender.utils._getStringBuilder(),this.setLineSeriesStyle(t),null),j=null,D=-1,A=null,O=null,I=null,R=null,M=null,E=this.chartObj;if((i=e.extend(!0,{},t.marker.size,i)).width<=10&&(i.width=i.height=1.5*this.chartObj.model.elementSpacing),"column"==t.drawType.toLowerCase()||"rangecolumn"==t.drawType.toLowerCase()){n=0,d={id:this.chartObj.svgObject.id+"_SeriesGroup_"+S},this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(d),F=t.xAxis.visibleRange.interval,t.xAxis.labelPlacement=t.xAxis.labelPlacement?t.xAxis.labelPlacement:"betweenticks",h=0,("category"!=t.xAxis._valueType||"category"==t.xAxis._valueType&&"onticks"==t.xAxis.labelPlacement)&&(h=F/2),z=t.xAxis.isInversed?0:1;var V=F/=L.all,N=t._visiblePoints,B=N.length;for(u=0;u<B;u++)p=N[u].xValue-t.xAxis.visibleRange.min+(F*L.pos-h),p/=this.chartObj.model.sumofYValues,c=N[u],V=t.xAxis.visibleRange.interval/L.all,c.startAngle=2*Math.PI*p,c.endAngle=2*Math.PI*(p+V/this.chartObj.model.sumofYValues);N[N.length-1].startAngle||(N[N.length-1].startAngle=N[0].startAngle,N[N.length-1].endAngle=N[0].endAngle)}for(m=!1,g=0;g<y.length;g++){if("scatter"==k)_=ej.EjSvgRender.utils.TransformToVisible(t,y[g].xValue,y[g].y,this.chartObj),this.drawSymbol(S,t,g,_.X,_.Y);else if("line"==t.drawType.toLowerCase())_=ej.EjSvgRender.utils.TransformToVisible(t,y[g].xValue,y[g].y,this.chartObj),g<y.length-1&&y[g+1].visible?(f=ej.EjSvgRender.utils.TransformToVisible(t,y[g+1].xValue,y[g+1].y,this.chartObj),w.append("M "+_.X+" "+_.Y+" L "+f.X+" "+f.Y+" ")):g==y.length-1&&t.isClosed&&(f=ej.EjSvgRender.utils.TransformToVisible(t,y[0].xValue,y[0].y,this.chartObj),w.append("M "+_.X+" "+_.Y+" L "+f.X+" "+f.Y+" "));else if("column"==t.drawType.toLowerCase()){var F=t.xAxis.visibleRange.interval,z=t.xAxis.isInversed?0:1,Y=(F/=L.all,this.chartObj.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t.yAxis,y[g].y)),X=-.5*Math.PI,W=y[g].startAngle+X,H=y[g].endAngle+X-1e-6;if(t.isStacking){J=C+(Y=(ae=t.stackedValue.StartValues[g])==(oe=t.stackedValue.EndValues[g])?0:this.chartObj.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t.yAxis,oe))*Math.cos(W),ee=T+Y*Math.sin(W),te=C+Y*Math.cos(H),ie=T+Y*Math.sin(H);var U=C+(n=this.chartObj.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t.yAxis,0==ae&&0!=t.yAxis.visibleRange.min?t.yAxis.visibleRange.min:ae))*Math.cos(W),$=T+n*Math.sin(W),G=C+n*Math.cos(H),q=T+n*Math.sin(H);se=this.chartObj.model.isPolar?"M "+J+" "+ee+" A "+Y+" "+Y+" 0 0 "+z+" "+te+" "+ie+" L "+G+" "+q+" A "+n+" "+n+" 1 0 0 "+U+" "+$+" z":"M "+J+" "+ee+" L "+te+" "+ie+" L "+G+" "+q+" L "+U+" "+$+" z"}else J=C+Y*Math.cos(W),ee=T+Y*Math.sin(W),te=C+Y*Math.cos(H),ie=T+Y*Math.sin(H),se=this.chartObj.model.isPolar?"M "+J+" "+ee+" A "+Y+" "+Y+" 0 0 "+z+" "+te+" "+ie+" L "+C+" "+T+" z":"M "+J+" "+ee+" L "+te+" "+ie+" L "+C+" "+T+" z";var Z=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(t)+"_"+S+g,this.chartObj.model.seriesColors[S],0,0,0,100,this.chartObj.gSeriesEle),Q=t.border,K={id:this.chartObj.svgObject.id+"_Series"+S+"_Point"+g,fill:Z,stroke:Q.color,"stroke-dasharray":Q.dashArray,"stroke-width":Q.width,opacity:t.opacity,pointIndex:g,d:se,start:y[g].startAngle-1.57,end:y[g].endAngle-1.57,radius:Y,innerR:n};this.chartObj.model.isPolar&&(K.x=C,K.y=T,x={PointIndex:g,StartAngle:y[g].startAngle,EndAngle:y[g].endAngle,CenterX:C,CenterY:T,Radius:Y,DRadius:n}),"radar"==t.type&&(x={PointIndex:g,Line1:{x:C,y:T},Line2:{x:J,y:ee},Line3:{x:te,y:ie}},b=!!n,K.hasStackingInnerRadius=b),c=t._visiblePoints[g],(!ej.util.isNullOrUndefined(t.marker)&&t.marker.visible||!ej.util.isNullOrUndefined(t.marker)&&t.marker.dataLabel.visible)&&(c.symbolLocation={X:(J+te)/2,Y:(ee+ie)/2}),this.chartObj.svgRenderer.drawPath(K,this.gSeriesGroupEle)}else if("spline"==k)N=this.chartObj.dragPoint?t.pointCollection:this._isVisiblePoints(t),_=ej.EjSvgRender.utils.TransformToVisible(t,y[g].xValue,y[g].y,this.chartObj),g<y.length-1&&y[g+1].visible&&(f=ej.EjSvgRender.utils.TransformToVisible(t,y[g+1].xValue,y[g+1].y,this.chartObj),s=this.naturalSpline(y,t),a=D=g,P=N[g],j=N[g+1],A=(I=this.getBezierControlPoints(P,j,s[D],s[a],0,t,this)).controlPoint1,O=I.controlPoint2,R=ej.EjSvgRender.utils.TransformToVisible(t,A.xValue,A.YValues,E),M=ej.EjSvgRender.utils.TransformToVisible(t,O.xValue,O.YValues,E),w.append("M "+_.X+" "+_.Y+" C "+R.X+" "+R.Y+" "+M.X+" "+M.Y+" "+f.X+" "+f.Y+" "),t.isClosed&&g==y.length-1&&null!=_&&(o=ej.EjSvgRender.utils.TransformToVisible(t,y[0].xValue,y[0].y,E),P=N[N.length-1],j=N[0],a=D=0,A=(I=this.getBezierControlPoints(P,j,s[D],s[a],0,t,this)).controlPoint1,O=I.controlPoint2,R=ej.EjSvgRender.utils.TransformToVisible(t,A.xValue,A.YValues,E),M=ej.EjSvgRender.utils.TransformToVisible(t,O.xValue,O.YValues,E),w.append("M "+f.X+" "+f.Y+" C "+(R.X+E.canvasX)+" "+(R.Y+E.canvasY)+" "+(M.X+E.canvasX)+" "+(M.Y+E.canvasY)+" "+o.X+" "+o.Y+" ")));else if("rangecolumn"==t.drawType.toLowerCase()){var J,ee,te,ie,se,ae,oe;F=t.xAxis.visibleRange.interval,z=t.xAxis.isInversed?0:1,F/=L.all,X=-.5*Math.PI,W=y[g].startAngle+X,H=y[g].endAngle+X-1e-6,J=C+(Y=(ae=y[g].YValues[1])==(oe=y[g].YValues[0])?0:this.chartObj.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t.yAxis,oe))*Math.cos(W),ee=T+Y*Math.sin(W),te=C+Y*Math.cos(H),ie=T+Y*Math.sin(H),U=C+(n=this.chartObj.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t.yAxis,0==ae&&0!=t.yAxis.visibleRange.min?t.yAxis.visibleRange.min:ae))*Math.cos(W),$=T+n*Math.sin(W),G=C+n*Math.cos(H),q=T+n*Math.sin(H),se=this.chartObj.model.isPolar?"M "+J+" "+ee+" A "+Y+" "+Y+" 0 0 "+z+" "+te+" "+ie+" L "+G+" "+q+" A "+n+" "+n+" 1 0 0 "+U+" "+$+" z":"M "+J+" "+ee+" L "+te+" "+ie+" L "+G+" "+q+" L "+U+" "+$+" z",Z=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(t)+"_"+S+g,this.chartObj.model.seriesColors[S],0,0,0,100,this.chartObj.gSeriesEle),Q=t.border,K={id:this.chartObj.svgObject.id+"_Series"+S+"_Point"+g,fill:Z,stroke:Q.color,"stroke-dasharray":Q.dashArray,"stroke-width":Q.width,opacity:t.opacity,pointIndex:g,d:se,start:y[g].startAngle-1.57,end:y[g].endAngle-1.57,radius:Y,innerR:n},this.chartObj.model.isPolar&&(K.x=C,K.y=T,x={PointIndex:g,StartAngle:y[g].startAngle,EndAngle:y[g].endAngle,CenterX:C,CenterY:T,Radius:Y,DRadius:n}),"radar"==t.type&&(x={PointIndex:g,Line1:{x:G,y:q},Line2:{x:J,y:ee},Line3:{x:te,y:ie},Line4:{x:U,y:$}},b=!!n,K.hasStackingInnerRadius=b),c=t._visiblePoints[g],(!ej.util.isNullOrUndefined(t.marker)&&t.marker.visible||!ej.util.isNullOrUndefined(t.marker)||t.marker.dataLabel.visible)&&(c.symbolLocation={X:(J+te)/2,Y:(ee+ie)/2},this.chartObj.svgRenderer.drawPath(K,this.gSeriesGroupEle))}else if(t.isStacking){if(ae=t.stackedValue.StartValues[g],oe=t.stackedValue.EndValues[g],0==g)for(_=ej.EjSvgRender.utils.TransformToVisible(t,y[g].xValue,oe,this.chartObj),v=y.length-1;v>=0;v--)ae=t.stackedValue.StartValues[v],y[v].y=Math.max(t.yAxis.actualRange.min,ae),_=ej.EjSvgRender.utils.TransformToVisible(t,y[v].xValue,y[v].y,this.chartObj),l=v==y.length-1?"M":"L",w.append(l+" "+_.X+" "+_.Y+" ");g<=y.length-1&&(y[g].y=oe,_=ej.EjSvgRender.utils.TransformToVisible(t,y[g].xValue,y[g].y,this.chartObj),w.append("L "+_.X+" "+_.Y+" "),g==y.length-1&&(t.isClosed?(f=ej.EjSvgRender.utils.TransformToVisible(t,y[0].xValue,t.stackedValue.EndValues[0],this.chartObj),o=ej.EjSvgRender.utils.TransformToVisible(t,y[0].xValue,t.stackedValue.StartValues[0],this.chartObj),r=ej.EjSvgRender.utils.TransformToVisible(t,y[g].xValue,t.stackedValue.StartValues[g],this.chartObj),w.append("L "+f.X+" "+f.Y+"  L "+o.X+" "+o.Y+"  L "+r.X+" "+r.Y+"  L "+o.X+" "+o.Y+" z ")):w.append("L "+C+" "+T+" ")))}else _=ej.EjSvgRender.utils.TransformToVisible(t,y[g].xValue,y[g].y,this.chartObj),0==g||m?w.append("M "+_.X+" "+_.Y+" "):g==y.length-1?t.isClosed?(f=ej.EjSvgRender.utils.TransformToVisible(t,y[0].xValue,y[0].y,this.chartObj),w.append("L "+_.X+" "+_.Y+" z")):w.append("L "+_.X+" "+_.Y+" L "+C+" "+T):y[g+1].visible?w.append("L "+_.X+" "+_.Y+" "):w.append("L "+_.X+" "+_.Y+" L "+C+" "+T+" z"),m=!y[g+1]||!y[g+1].visible;t.regionAdded||"column"==t.drawType.toLowerCase()||"rangecolumn"==t.drawType.toLowerCase()||(x={X:_.X-i.width/2,Y:_.Y-i.height/2,Width:i.width,Height:i.height},ej.EjSvgRender.utils._addRegion(this.chartObj,x,t,y[g],g)),(!t.regionAdded&&"column"==t.drawType.toLowerCase()&&this.chartObj.model.enableCanvasRendering||"rangecolumn"==t.drawType.toLowerCase()&&this.chartObj.model.enableCanvasRendering)&&ej.EjSvgRender.utils._addRegion(this.chartObj,x,t,null,null)}return(t.regionAdded||"column"!=t.drawType.toLowerCase()||this.chartObj.model.enableCanvasRendering)&&("rangecolumn"!=t.drawType.toLowerCase()||this.chartObj.model.enableCanvasRendering)||ej.EjSvgRender.utils._addRegion(this.chartObj,x,t,null,null),w.toString()},_calculateVisiblePoints:function(t,i){for(var s,a,o,r,l,n=[],d=[],h=ej.util.isNullOrUndefined,c=h(i)?t.points:i.model._isPieOfPie?t.pieCollections[t.collectionIndex]:t.points,u=c.length,p=0;p<u;p++)h((l=c[p])._visibility)&&(l._visibility="visible"),l.actualIndex=h(i)?p:i.model._isPieOfPie?l.actualIndex:p,l.visible=!l.isEmpty&&l.visible,h(l.visible)&&(l.visible=!0),l.y<0&&(l.YValues[0]=Math.abs(l.YValues[0])),h(l.x)&&"string"!=t._xAxisValueType&&(l.visible=!1,l.isEmpty=!0),h(l.y)&&(l.visible=!1,l.isEmpty=!0);if((o=e.extend(!0,{},c,o)).length=u,t.emptyPointSettings.visible)for(a=(r=this._calculateEmptyPoints(t,o,i)).length,s=0;s<a;s++)r[s].visible?(r[s].visible="hidden"!=r[s]._visibility,d.push(r[s]),r[s].visible&&n.push(r[s])):(r[s].y=((r[s-1]?r[s-1].y:0)+(r[s+1]?r[s+1].y:0))/2,isNaN(r[s].y)&&(r[s].y=((r[s-2]?r[s-2].y:0)+(r[s+2]?r[s+2].y:0))/2),r[s].YValues[0]=r[s].y,h(r[s].x)&&"string"!=t._xAxisValueType||(r[s].gapMode=!0,n.push(r[s])));else for(s=0;s<u;s++)d.push(o[s]),o[s].visible&&(o[s].visible="hidden"!=o[s]._visibility,o[s].visible&&n.push(o[s]));if("hidden"==t.visibility)for(p=0;p<d.length;p++)d[p].visible=!1;return t._visiblePoints=n,t.visiblePoints=d,{visiblePoints:n,legendPoints:d}},getMinMaxValue:function(e,t,i){var s,a=Math.min(e.x,t.x),o=Math.min(e.y,t.y),r=Math.max(e.x,t.x),l=Math.max(e.y,t.y);switch(i){case 0:case 360:s=l;break;case 90:s=a;break;case 180:s=o;break;case 270:s=r}return s},pieDoughnutCenter:function(t){var i,s=t.startAngle,a=t.endAngle;this.chartObj.model.centerCount++;var o=e.inArray(t,this.chartObj.model._visibleSeries),r=[-630,-540,-450,-360,-270,-180,-90,0,90,180,270,360,450,540,630],l=[],n=this.chartObj.model.circleCenterX[o],d=this.chartObj.model.circleCenterY[o];if(t.startAngle<t.endAngle)for(i=0;i<r.length;i++)r[i]>s&&r[i]<a&&(l[l.length]=r[i]%360<0?r[i]%360+360:r[i]%360);else for(i=0;i<r.length;i++)r[i]<s&&r[i]>a&&(l[l.length]=r[i]%360<0?r[i]%360+360:r[i]%360);if(1==this.chartObj.model.centerCount){var h=this.chartObj.model.circularRadius[o],c=2*Math.PI*(s-90)/360,u=2*Math.PI*(a-90)/360,p={x:this.chartObj.model.circleCenterX[o],y:this.chartObj.model.circleCenterY[o]},m={x:this.chartObj.model.circleCenterX[o]+h*Math.cos(c),y:this.chartObj.model.circleCenterY[o]+h*Math.sin(c)},g={x:this.chartObj.model.circleCenterX[o]+h*Math.cos(u),y:this.chartObj.model.circleCenterY[o]+h*Math.sin(u)};switch(l.length){case 0:var _=Math.abs(p.x-m.x)>Math.abs(p.x-g.x)?m.x:g.x,f=Math.abs(p.y-m.y)>Math.abs(p.y-g.y)?m.y:g.y,b={x:(p.x+_)/2,y:(p.y+f)/2};this.chartObj.model.circleCenterX[o]=this.chartObj.model.circleCenterX[o]+(this.chartObj.model.circleCenterX[o]-b.x),this.chartObj.model.circleCenterY[o]=this.chartObj.model.circleCenterY[o]+(this.chartObj.model.circleCenterY[o]-b.y);break;case 1:switch(w=2*Math.PI*(l[0]-90)/360,S={x:this.chartObj.model.circleCenterX[o]+h*Math.cos(w),y:this.chartObj.model.circleCenterY[o]+h*Math.sin(w)},l[0]){case 0:case 360:v={x:m.x,y:S.y},x={x:g.x,y:p.y};break;case 90:v={x:p.x,y:g.y},x={x:S.x,y:m.y};break;case 180:v={x:g.x,y:p.y},x={x:m.x,y:S.y};break;case 270:v={x:S.x,y:m.y},x={x:p.x,y:g.y}}b={x:(v.x+x.x)/2,y:(v.y+x.y)/2},this.chartObj.model.circleCenterX[o]=this.chartObj.model.circleCenterX[o]+(this.chartObj.model.circleCenterX[o]-b.x>=h?0:this.chartObj.model.circleCenterX[o]-b.x),this.chartObj.model.circleCenterY[o]=this.chartObj.model.circleCenterY[o]+(this.chartObj.model.circleCenterY[o]-b.y>=h?0:this.chartObj.model.circleCenterY[o]-b.y);break;case 2:var v,x,y=2*Math.PI*(l[0]-90)/360,w=2*Math.PI*(l[1]-90)/360,S={x:this.chartObj.model.circleCenterX[o]+h*Math.cos(w),y:this.chartObj.model.circleCenterY[o]+h*Math.sin(w)},C={x:this.chartObj.model.circleCenterX[o]+h*Math.cos(y),y:this.chartObj.model.circleCenterY[o]+h*Math.sin(y)};v=90==l[0]&&180==l[1]||270==l[0]&&0==l[1]?{x:C.x,y:S.y}:{x:S.x,y:C.y},x=90==l[0]||270==l[0]?{x:this.getMinMaxValue(m,g,l[0]),y:this.getMinMaxValue(m,g,l[1])}:{x:this.getMinMaxValue(m,g,l[1]),y:this.getMinMaxValue(m,g,l[0])},b={x:Math.abs(v.x-x.x)/2>=h?0:(v.x+x.x)/2,y:Math.abs(v.y-x.y)/2>=h?0:(v.y+x.y)/2},this.chartObj.model.circleCenterX[o]=this.chartObj.model.circleCenterX[o]+(0==b.x||this.chartObj.model.circleCenterX[o]-b.x>=h?0:this.chartObj.model.circleCenterX[o]-b.x),this.chartObj.model.circleCenterY[o]=this.chartObj.model.circleCenterY[o]+(0==b.y||this.chartObj.model.circleCenterY[o]-b.y>=h?0:this.chartObj.model.circleCenterY[o]-b.y)}}for(i=0;i<t.points.length;i++)o<this.chartObj.model._visibleSeries.length&&this.chartObj.model.centerCount>1&&this.chartObj.model._visibleSeries[o+1].startAngle==s&&this.chartObj.model._visibleSeries[o+1].endAngle==a&&(this.chartObj.model.circleCenterX[o]=this.chartObj.model.circleCenterX[o+1],this.chartObj.model.circleCenterY[o]=this.chartObj.model.circleCenterY[o+1]),this.chartObj.model.startX[i]=this.chartObj.model.startX[i]-(n-this.chartObj.model.circleCenterX[o]),this.chartObj.model.startY[i]=this.chartObj.model.startY[i]-(d-this.chartObj.model.circleCenterY[o])},_drawEmptyPieOfPie:function(e){var t=-.5*Math.PI,i=2*Math.PI+-.5*Math.PI-1e-6,s=e.model.circleCenterX[1],a=e.model.circleCenterY[1],o=e.model.circularRadius[1],r="M "+(s+o*Math.cos(t))+" "+(a+o*Math.sin(t))+" A "+o+" "+o+" 0 1 1 "+(s+o*Math.cos(i))+" "+(a+o*Math.sin(i))+" z",l=e.model.theme.toLowerCase();return{id:e.svgObject.id+"_Series0_EmptyCircle",fill:"none","stroke-width":1.5,stroke:l.indexOf("dark")>=0||l.indexOf("contrast")>=0?" #FFFFFF":"#000000","stroke-dasharray":"",d:r,opacity:1,radius:o,start:-1.57,end:2*Math.PI-1.57,cx:s,cy:a}},calculatingSliceAngle:function(t,i){var s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y=this.chartObj?this.chartObj:i,w=y.model,S=w.legend,C=e.inArray(t,w._visibleSeries),T=S.position.toLowerCase(),L=w.LegendActualBounds,k=t._visiblePoints,P=k.length,j=0,D=0,A=S.border.width,O=w.border.width,I=w.margin,R=w.elementSpacing,M=0,E=w.title.subTitle.text?w.title.subTitle:"";for(w.arcData=[],t.rightsidePoints=[],t.leftsidePoints=[],t.labels=[],w.sumofYValues=0,w.midPoint=0,o=t.type.toLowerCase(),r=t.gapWidth,x=0;x<k.length;x++)w.sumofYValues+=k[x].YValues[0];s=360!=(s=null!=t.endAngle&&"pieofpie"!=o?t.endAngle-t.startAngle:360)&&-360!=s?s%360:s,t.startAngle&&"pieofpie"!=o?(t.startAngle=t.startAngle%360,t.endAngle=t.startAngle+s,M=t.startAngle?w.sumofYValues/360*t.startAngle:0,M=Number((M/w.sumofYValues).toFixed(2)),M=isFinite(M)?M:0,w.itemCurrentXPos=M):t.endAngle=s,S.visible&&"custom"!=T&&("right"==T||"left"==T?j+=L.Width+2*A+R:D+=L.Height+2*A+R);var V=w.title.text&&w.title.visible?w._titleLocation.size.height+w.elementSpacing+(""==E?0:E.text&&E.visible&&E.enableTrim&&("wrap"==E.textOverflow||"wrapandtrim"==E.textOverflow)?w._subTitleLocation.size.height:0):0,N=.1*Math.min(e(y.svgObject).width(),e(y.svgObject).height()),B=e(y.svgObject).width()-(j+I.left+I.right+2*O)-("pieofpie"==o?r:0),F=e(y.svgObject).height()-(D+V+I.top+I.bottom+2*O);for(C=y.model._isPieOfPie?t.collectionIndex:C,"pieofpie"==o&&(B<N&&(l=N-B,B=N),r=l?r-l:e(y.svgObject).width()>=r?r:0),n="pieofpie"==o?0==C?.25:.75:.5,w.circleCenterX[C]=B*n+(1==C&&"pieofpie"==o?r:0)+I.left+(S.visible&&"left"===T?j:0),w.circleCenterY[C]=.5*F+I.top+V+(S.visible&&"top"===T?D+R:R),ej.util.isNullOrUndefined(y.model.pieGapWidth)||0==y.model.pieGapWidth||(w.circleCenterX[C]=0==C?w.circleCenterX[C]+y.model.pieGapWidth/2:w.circleCenterX[C]-y.model.pieGapWidth/2),t.startAngle="pieofpie"==o?0:t.startAngle,d=(s=t.endAngle-t.startAngle)/180,h=s/4*(Math.PI/180),c=0;c<P;c++)((a=t._visiblePoints[c]).visible||a.gapMode)&&(u="pieofpie"==o?a.actualIndex:c,p=a.YValues[0]/w.sumofYValues,p=isFinite(p)?p:0,0==c&&0==C&&"pieofpie"==o?(m=2*Math.PI*M,g=d*Math.PI*p+m,f=((g=isNaN(g)?m:g)+m)/2,a.start=a.startAngle=h-f,a.end=a.endAngle=h+f,a.midAngle=h):(a.startAngle=0==c?2*Math.PI*M:"pieofpie"==o?t.pieCollections[C][c-1].endAngle:g,g=a.endAngle=d*Math.PI*p+a.startAngle,g=a.endAngle=isNaN(g)?a.startAngle:g,a.start=a.startAngle,a.end=a.endAngle,a.midAngle=(a.endAngle+a.startAngle)/2),a.pointIndex=u,_=-.5*Math.PI,a.radian=a.midAngle%(2*Math.PI),"outsideextended"==t.labelPosition.toLowerCase()&&"pieofpie"!=o&&(a.radian<Math.PI?t.rightsidePoints.push(a):t.leftsidePoints.push(a)),M+=a.YValues[0]/w.sumofYValues,f=a.midAngle+_,a.actualIndex!=t.explodeIndex&&!t.explodeAll||y.vmlRendering?(w.startX[u]=w.circleCenterX[C],w.startY[u]=w.circleCenterY[C]):(w.startX[u]=w.circleCenterX[C]+Math.cos(f)*t.explodeOffset,w.startY[u]=w.circleCenterY[C]+Math.sin(f)*t.explodeOffset));if("outsideextended"==t.labelPosition.toLowerCase()&&(t.rightsidePoints=ej.DataManager(t.rightsidePoints,ej.Query().sortBy("radian")).executeLocal(),t.leftsidePoints=ej.DataManager(t.leftsidePoints,ej.Query().sortBy("radian")).executeLocal()),t.marker.dataLabel.template)if("outsideextended"==t.labelPosition.toLowerCase()){for(b=0;b<t.rightsidePoints.length;b++)ej.EjSvgRender.utils._getSeriesTemplateSize(t.rightsidePoints[b],t.rightsidePoints[b].actualIndex,t,!1,y);for(v=0;v<t.leftsidePoints.length;v++)ej.EjSvgRender.utils._getSeriesTemplateSize(t.leftsidePoints[v],t.leftsidePoints[v].actualIndex,t,!0,y)}else for(x=0;x<t._visiblePoints.length;x++)ej.EjSvgRender.utils._getSeriesTemplateSize(t._visiblePoints[x],t._visiblePoints[x].actualIndex,t,!0,y);else ej.EjSvgRender.utils._getSeriesMaxLabel(t);return t.finalSize={width:B,height:F},t.finalSize},_drawHiloPath:function(t,i,s,a,o,r){var l,n,d,h,c,u,p=e.inArray(t,this.chartObj.model._visibleSeries),m={name:t.type,id:this.chartObj.svgObject.id+"_Series"+p+"_Point"+o,fill:"none","stroke-dasharray":t.dashArray,"stroke-width":i.borderWidth,stroke:s,"stroke-linecap":t.lineCap,"stroke-linejoin":t.lineJoin,opacity:t.opacity,d:a};this.chartObj.svgRenderer.drawPath(m,this.gSeriesGroupEle),c=ej.EjSvgRender.utils._getTransform(t.xAxis,t.yAxis,this.chartObj.model.requireInvertedAxes),d=Math.min(r.point2.X,r.point1.X)+c.x-i.borderWidth,h=Math.min(r.point2.Y,r.point1.Y)+c.y,r.point1.Y!=r.point2.Y?(l=i.borderWidth+i.borderWidth/2,n=Math.abs(r.point1.Y-r.point2.Y)):(l=Math.abs(r.point2.X-r.point1.X),n=i.borderWidth+i.borderWidth/2),u={X:d,Y:h,Width:l,Height:n},ej.EjSvgRender.utils._addRegion(this.chartObj,u,t,null,o)},isIntersec:function(e,t){return!(t.Bottom<e.Top||t.Right<e.Left||t.Top>e.Bottom||t.Left>e.Right)},IntersectWith:function(t,i,s,a,o,r){var l,n,d,h,c,u,p;if((ej.util.isNullOrUndefined(t.model.rightsidebounds[o])||ej.util.isNullOrUndefined(t.model.leftsidebounds[o]))&&(t.model.leftsidebounds[o]=[],t.model.rightsidebounds[o]=[],t.model.leftsidebounds[o].points=[],t.model.rightsidebounds[o].points=[]),"outsideExtended"==a){for(d=o;d<t.model.bounds.length;d++)if("outsideextended"==t.model._visibleSeries[d].labelPosition.toLowerCase()){if(!ej.util.isNullOrUndefined(t.model.bounds[d].points.left)&&t.model.bounds[d].points.left.length>0)for(c=(h=t.model.bounds[d].points.left.length)-1;c>=0&&!ej.util.isNullOrUndefined(t.model.bounds[d].points.left[c]);c--)t.model.leftsidebounds[d].points[c]=t.model.bounds[d].points.left[c];if(!ej.util.isNullOrUndefined(t.model.bounds[d].points.right)&&t.model.bounds[d].points.right.length>0)for(h=t.model.bounds[d].points.right.length,n=0;n<h&&!ej.util.isNullOrUndefined(t.model.bounds[d].points.right[n]);n++)t.model.rightsidebounds[d].points[n]=t.model.bounds[d].points.right[n]}}else if(t.model.bounds[o].points.length>0||o>=0)for(d=o;d<t.model.bounds.length&&!ej.util.isNullOrUndefined(t.model.bounds[d]);d++)if("outsideextended"!=t.model._visibleSeries[d].labelPosition.toLowerCase())for(h=t.model.bounds[d].points.length,c=0;c<h&&!ej.util.isNullOrUndefined(t.model.bounds[d].points[c]);c++)t.model.bounds[d].points[c].X<t.model.circleCenterX[o]?-1==e.inArray(t.model.bounds[d].points[c],t.model.leftsidebounds[d].points)&&(t.model.leftsidebounds[d].points[c]=t.model.bounds[d].points[c]):-1==e.inArray(t.model.bounds[d].points[c],t.model.rightsidebounds[d].points)&&(t.model.rightsidebounds[d].points[c]=t.model.bounds[d].points[c]);for(d=o;d<t.model.bounds.length&&!ej.util.isNullOrUndefined(t.model.bounds[d]);d++)if(t.model.leftsidebounds[d].points.length>0&&(l=t.model.leftsidebounds[d].points).length>0)for(c=l.length-1;c>=0;c--)if(u=l[c],!ej.util.isNullOrUndefined(u)||u==s){if(u.SeriesIndex==s.SeriesIndex&&u.PointIndex==s.PointIndex){if("outside"==i.smartLabelPosition)continue;break}if(this.isIntersec(u,s))return!0;s.X<t.model.circleCenterX[o]&&u.X<t.model.circleCenterX[o]&&"none"!=t.model.series[o].marker.dataLabel.shape&&(p=Math.abs(u.Y-s.Y),r&&p<=r.height&&u.Bottom>s.Top&&u.Left<s.X&&(s.overlap=!0))}for(d=o;d<t.model.bounds.length&&!ej.util.isNullOrUndefined(t.model.bounds[d]);d++)if((l=t.model.rightsidebounds[d].points).length>0)for(c=l.length-1;c>=0;c--)if(u=l[c],!ej.util.isNullOrUndefined(u)||u==s){if(u.SeriesIndex==s.SeriesIndex&&u.PointIndex==s.PointIndex){if("outside"==i.smartLabelPosition)continue;break}if(this.isIntersec(u,s))return!0;s.X>t.model.circleCenterX[o]&&u.X>t.model.circleCenterX[o]&&"none"!=t.model.series[o].marker.dataLabel.shape&&(p=Math.abs(u.Y-s.Y),r&&p<=r.height&&u.Bottom>s.Top&&u.X+(u.Right-u.Left)>s.X&&(s.overlap=!0))}return!1},_calculateArcData:function(e,t,i,s,a,o){a=e.model._isPieOfPie?o:a,s._visiblePoints;var r,l,n,d,h=i.actualIndex,c=e,u=-.5*Math.PI;"doughnut"==s.type.toLowerCase()&&1==s._visiblePoints.length&&360==Math.abs(s.endAngle-s.startAngle)&&s.startAngle%90!=0?(r=parseFloat((i.startAngle+u).toFixed(3)),l=parseFloat((i.endAngle+u).toFixed(3))-1e-6):(r=i.startAngle+u,l=i.endAngle+u-1e-6);var p=s.endAngle-s.startAngle,m=Math.PI,g=(r+l)/2;ej.util.isNullOrUndefined(i.currentMidAngle)&&(i.currentMidAngle=(r+l)/2);var _,f,b,v=p>0?1:0,x=(m=v?l-r<Math.PI?0:1:l-r>-1*Math.PI?0:1,c.model.circularRadius[a]),y=c.model.innerRadius[a];h!=s.explodeIndex&&!s.explodeAll||c.vmlRendering?(f=c.model.circleCenterX[a],b=c.model.circleCenterY[a]):(f=c.model.circleCenterX[a]+Math.cos(g)*s.explodeOffset,b=c.model.circleCenterY[a]+Math.sin(g)*s.explodeOffset);var w=f+x*Math.cos(r),S=b+x*Math.sin(r),C=f+x*Math.cos(l),T=b+x*Math.sin(l);if("doughnut"==s.type.toLowerCase()){var L=f+y*Math.cos(r),k=b+y*Math.sin(r),P=f+y*Math.cos(l),j=b+y*Math.sin(l),D=v?0:1;r<0&&6==Math.round(i.endAngle-i.startAngle)&&(P-=.01,C-=.01),_="M "+w+" "+S+" A "+x+" "+x+" 0 "+m+" "+v+" "+C+" "+T+" L "+P+" "+j+" A "+y+" "+y+" 1 "+m+" "+D+" "+L+" "+k+" z"}else(i.endAngle-i.startAngle).toFixed(4)==(2*Math.PI).toFixed(4)?(n=f,d=b,_="M "+w+" "+S+" A "+x+" "+x+" 0 "+m+" "+v+" "+C+" "+T):_="M "+w+" "+S+" A "+x+" "+x+" 0 "+m+" "+v+" "+C+" "+T+" L "+f+" "+b+" z";return{Direction:_,centerX:n,centerY:d}},getXCordinate:function(e,t,i){return e+t*Math.cos(i)},getYCordinate:function(e,t,i){return e+t*Math.sin(i)},getDoubleRange:function(e,t){var i,s;return e>t?(i=t,s=e):(i=e,s=t),{Start:i,End:s,Delta:s-i,Median:(i+s)/2,IsEmpty:isNaN(i)||isNaN(s)}},isDependentSeries:function(e){var t=e.type.toLowerCase(),i=this.chartObj.model.requireInvertedAxes;return!i||i&&e.isTransposed?-1!=t.indexOf("bar")&&!e._isTransposed||-1!=t.indexOf("column")||-1!=t.indexOf("waterfall")||-1!=t.indexOf("hilo")||-1!=t.indexOf("candle")||-1!=t.indexOf("boxandwhisker"):-1!=t.indexOf("bar")},getPointXYOrgin:function(e,t,i,s){var a,o=s.model.requireInvertedAxes;return i.isTransposed&&o||i._isTransposed?(a=(1-ej.EjSvgRender.utils._valueToCoefficient(i.xAxis,e))*i.xAxis.height,{X:ej.EjSvgRender.utils._valueToCoefficient(i.yAxis,t)*i.yAxis.width,Y:a}):{X:a=ej.EjSvgRender.utils._valueToCoefficient(i.xAxis,e)*i.xAxis.width,Y:(1-ej.EjSvgRender.utils._valueToCoefficient(i.yAxis,t))*i.yAxis.height}},getRectangle:function(e,t,i,s,a,o){var r=this.getPointXYOrgin(e,t,a,o),l=this.getPointXYOrgin(i,s,a,o);return ej.EjSvgRender.utils._correctRect(r.X,r.Y,l.X,l.Y)},calculateMean:function(e,t,i){var s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w=0,S=0,C=[],T=0;for(e.length>1&&e.sort((function(e,t){return e-t})),v=0;v<e.length;v++)w+=e[v];S=w/e.length,S=parseInt(S.toFixed(2)),C[T]=S,T++,"normal"==t.boxPlotMode.toLowerCase()?(s=e.length%2==0?e.slice(0,e.length/2):e.slice(0,Math.floor(e.length/2)),r=Math.floor(s.length/2),d=s.length%2==0?(s[r-1]+s[r])/2:s[r],d=e.length<=3?e[0]:d,C[T]=d,T++,a=e.length%2==0?e.slice(e.length/2,e.length):e.slice(Math.ceil(e.length/2),e.length),l=Math.floor(a.length/2),h=a.length%2==0?(a[l-1]+a[l])/2:a[l],h=e.length<=3?e[e.length-1]:h,C[T]=h,T++):("exclusive"==t.boxPlotMode.toLowerCase()||"inclusive"==t.boxPlotMode.toLowerCase())&&(s=(1-(p=(c="exclusive"==t.boxPlotMode.toLowerCase()?(e.length+1)/4:(e.length-1)/4)-(u=Math.floor(c))))*e[f="exclusive"==t.boxPlotMode.toLowerCase()?u-1:u]+p*e[f+1],d=s=e.length<=3?e[0]:s,C[T]=d,T++,a=(1-(_=(m="exclusive"==t.boxPlotMode.toLowerCase()?3*(e.length+1)/4:3*(e.length-1)/4)-(g=Math.floor(m))))*e[b="exclusive"==t.boxPlotMode.toLowerCase()?g-1:g]+_*e[b+1],h=a=e.length<=3?e[e.length-1]:a,C[T]=h,T++),n=Math.floor(e.length/2),o=e.length%2==0?(e[n-1]+e[n])/2:e[n],C[T]=o,T++;var L=h-d,k=h+1.5*L,P=d-1.5*L,j=e[e.length-1],D=e[0],A=[],O=0,I=0;for(x=0;x<e.length;x++)k<e[x]&&(O++,A[I]=e[x],I++,j=e[x-O]),P>e[x]&&(A[I]=e[x],I++,D=e[x+1]);return C[T]=D,C[++T]=j,T++,y={Minimum:D,LowerQuartile:d,midvalue:o,UpperQuartile:h,Maximum:j,boxAverage:S,outliers:A},t._visiblePoints[i].boxPlotValues=y,t._visiblePoints[i].boxPlotValues.quartileValues=C,{Minimum:D,LowerQuartile:d,midvalue:o,UpperQuartile:h,Maximum:j,boxAverage:S,outliers:A}},calculateBoxAndWhiskerPath:function(e,t,i,s,a,o,r){var l,n,d,h;a._visiblePoints[r].boxPlotLocation=[],a._visiblePoints[r].dataLabelLocation=[];var c,u,p,m,g,_=0,f=this,b=a._isTransposed,v=a.outlierSettings.shape.toLowerCase();for(this.chartObj.model.requireInvertedAxes,l=0;l<a._visiblePoints[r].boxPlotValues.quartileValues.length;l++)u={xValue:o.xValue,YValues:a._visiblePoints[r].boxPlotValues.quartileValues[l]},p=ej.EjSvgRender.utils._getPoint(u,a),a._visiblePoints[r].boxPlotLocation[_]=p,a._visiblePoints[r].boxPlotLocation[_].xValue=u.xValue,a._visiblePoints[r].boxPlotLocation[_].YValues=u.YValues,a._visiblePoints[r].dataLabelLocation[_]=b?{X:p.X,Y:t.Y+t.Height/2+5}:{X:t.X+t.Width/2,Y:p.Y},_++;for(n=0;n<s.outliers.length&&"none"!=v;n++)m={xValue:o.xValue,YValues:s.outliers[n]},g=ej.EjSvgRender.utils._getPoint(m,a),a._visiblePoints[r].boxPlotLocation[_]=g,a._visiblePoints[r].boxPlotLocation[_].xValue=m.xValue,a._visiblePoints[r].boxPlotLocation[_].YValues=m.YValues,a._visiblePoints[r].boxPlotLocation[_].outlier=!0,b?g.Y=t.Y+t.Height/2:g.X=t.X+t.Width/2,a._visiblePoints[r].dataLabelLocation[_]=b?{X:g.X-a.outlierSettings.size.height,Y:t.Y+t.Height/2+a.outlierSettings.size.width,outlier:!0}:{X:t.X+t.Width/2,Y:g.Y,outlier:!0},_++;return c=a._visiblePoints[r].boxPlotLocation,a._isTransposed?(d="M "+(f.chartObj.canvasX+c[4].X)+" "+(f.chartObj.canvasY+t.Y)+" L "+(c[4].X+f.chartObj.canvasX)+" "+(t.Height+t.Y+f.chartObj.canvasY)+" M "+(f.chartObj.canvasX+c[4].X)+" "+(f.chartObj.canvasY+t.Y+t.Height/2)+" L "+(f.chartObj.canvasX+c[1].X)+" "+(f.chartObj.canvasY+t.Y+t.Height/2)+"  z",h="M "+(f.chartObj.canvasX+c[5].X)+" "+(f.chartObj.canvasY+t.Y)+" L "+(f.chartObj.canvasX+c[5].X)+" "+(t.Height+t.Y+f.chartObj.canvasY)+" M "+(f.chartObj.canvasX+c[5].X)+" "+(f.chartObj.canvasY+t.Y+t.Height/2)+" L "+(f.chartObj.canvasX+c[2].X)+" "+(f.chartObj.canvasY+t.Y+t.Height/2)+"  z"):(d="M "+(f.chartObj.canvasX+t.X)+" "+(f.chartObj.canvasY+c[4].Y)+" L "+(f.chartObj.canvasX+t.X+t.Width)+" "+(f.chartObj.canvasY+c[4].Y)+" M "+(f.chartObj.canvasX+t.X+t.Width/2)+" "+(f.chartObj.canvasY+c[4].Y)+" L "+(f.chartObj.canvasX+t.X+t.Width/2)+" "+(f.chartObj.canvasY+c[1].Y)+"  z",h="M "+(f.chartObj.canvasX+t.X)+" "+(f.chartObj.canvasY+c[5].Y)+" L "+(f.chartObj.canvasX+t.X+t.Width)+" "+(f.chartObj.canvasY+c[5].Y)+" M "+(f.chartObj.canvasX+t.X+t.Width/2)+" "+(f.chartObj.canvasY+c[5].Y)+" L "+(f.chartObj.canvasX+t.X+t.Width/2)+" "+(f.chartObj.canvasY+c[2].Y)+"  z"),{upperWhisker:h,lowerWhisker:d,mean:a._isTransposed?"M "+(f.chartObj.canvasX+c[0].X-5)+" "+(f.chartObj.canvasY+t.Y+t.Height/2-5)+" L "+(f.chartObj.canvasX+c[0].X+5)+" "+(f.chartObj.canvasY+t.Y+t.Height/2+5)+" M "+(f.chartObj.canvasX+c[0].X+5)+" "+(f.chartObj.canvasY+t.Y+t.Height/2-5)+" L "+(f.chartObj.canvasX+c[0].X-5)+" "+(f.chartObj.canvasY+t.Y+t.Height/2+5)+" z":"M "+(f.chartObj.canvasX+t.X+t.Width/2-5)+" "+(f.chartObj.canvasY+c[0].Y-5)+" L "+(f.chartObj.canvasX+t.X+t.Width/2+5)+" "+(f.chartObj.canvasY+c[0].Y+5)+" M "+(f.chartObj.canvasX+t.X+t.Width/2-5)+" "+(f.chartObj.canvasY+c[0].Y+5)+" L "+(f.chartObj.canvasX+t.X+t.Width/2+5)+" "+(f.chartObj.canvasY+c[0].Y-5)+" z"}},calculateSides:function(e,t){return{x1:e.xValue+t.Start,x2:e.xValue+t.End}},_getSeriesPosition:function(e){var t,i,s,a,o,r,l,n;if(ej.util.isNullOrUndefined(e.position)||this.chartObj.model.legendCollapsed){for(s=0,a=[],o=0;o<this.chartObj.model._visibleSeries.length;o++)("visible"===(l=this.chartObj.model._visibleSeries[o]).visibility.toLowerCase()&&"column"==l.drawType.toLowerCase()||"rangecolumn"==l.drawType.toLowerCase())&&a.push(l);for(r=0;r<a.length;r++)(l=a[r])._xAxisName==this.chartObj.model._axes[0].name&&l._yAxisName==this.chartObj.model._axes[1].name&&(l.isStacking?(t||(i=s,s++,t=!0),l.position=i):(l.position=s,s++));for(n=0;n<a.length;n++)a[n].all=s}return{all:e.all,pos:e.position}},getSideBySidePositions:function(t,i){var s,a,o,r,l,n,d=this,h=[],c=d.chartObj.model;return a=o=r=0,l=c._visibleSeries.length,(ej.util.isNullOrUndefined(t.position)||c.legendCollapsed||!i.spacingCalculated)&&(n=c.requireInvertedAxes?c.vAxes:c.hAxes,c.requireInvertedAxes?c.hAxes:c.vAxes,e.each(n,(function(e){var t,n,u,p=[];for(s=[],o=0;o<l;o++)"visible"===(t=c._visibleSeries[o]).visibility.toLowerCase()&&d.isDependentSeries(t)&&p.push(t);for(n=p.length,o=0;o<n;o++)e=c.requireInvertedAxes?p[o].yAxis.columnIndex:p[o].yAxis.rowIndex,s[e]||(s[e]=[],p[o].yAxis.position=null),s[e].push(p[o]);for(a=0;a<s.length;a++)if(!ej.util.isNullOrUndefined(s[a]))for(s[a].all=0,o=0;o<s[a].length;o++)-1!=(t=s[a][o]).type.toLowerCase().indexOf("stacking")?t.stackingGroup?ej.util.isNullOrUndefined(h[t.stackingGroup])?(s[a].all++,t.position=s[a].all,h[t.stackingGroup]=s[a].all):t.position=h[t.stackingGroup]:ej.util.isNullOrUndefined(t.yAxis.position)||c.legendCollapsed?(s[a].all++,t.position=s[a].all,t.yAxis.position=s[a].all,c.legendCollapsed=!1):t.position=t.yAxis.position:(s[a].all++,t.position=s[a].all);for(u=n>0&&p[0].columnWidth,r=0;r<n;r++)e=c.requireInvertedAxes?p[r].yAxis.columnIndex:p[r].yAxis.rowIndex,p[r].all=s[e].all,i.needSpace=i.needSpace||u!=p[r].columnWidth})),i.needSpace&&this.chartObj.model._sideBySideSeriesPlacement&&this._getColumnSpacing(s,i),i.spacingCalculated=!0),{all:t.all,pos:t.position}},getSideBySideInfo:function(e,t){var i;ej.util.isNullOrUndefined(e.xAxis.m_minPointsDelta)&&(this.chartObj.currentSeries=e,e.xAxis.m_minPointsDelta=ej.EjSvgRender.utils.getMinPointsDelta(e.xAxis,this.chartObj));var s=e.columnSpacing,a=e.columnWidth,o=this.getSideBySidePositions(e,t),r=o.pos,l=o.all,n=t.needSpace&&this.chartObj.model._sideBySideSeriesPlacement,d=e.xAxis.m_minPointsDelta*(n?1:a),h=n?t[e.name||e._name].loc:(r-1)/l-.5,c=this.getDoubleRange(h,h+(n?a:1)/l);return this.chartObj.model._sideBySideSeriesPlacement?(c.IsEmpty||(i=s*(c=this.getDoubleRange(c.Start*d,c.End*d)).Delta,c=this.getDoubleRange(c.Start+i/2,c.End-i/2)),c):this.getDoubleRange(-d/2,d/2)},_getColumnSpacing:function(e,t){for(var i,s,a,o,r,l=0,n=0,d=e.length;l<d;l++){var h=0,c={};for(i=e[l].length;n<i;n++)-1==(s=e[l][n]).type.toLowerCase().indexOf("stacking")?h+=s.columnWidth/s.all:c[a=s.stackingGroup]={width:Math.max(s.columnWidth,c[a]?c[a].width:0),all:s.all};for(o in c)h+=c[o].width/c[o].all;for(r=(1-h)/2-.5,n=0,i=e[l].length;n<i;n++)-1==(s=e[l][n]).type.toLowerCase().indexOf("stacking")?(t[s.name||(s._name="series"+l+n)]={loc:r},r+=s.columnWidth/s.all):null==c[a=s.stackingGroup].loc?(t[s.name||(s._name="series"+l+n)]={loc:r+(c[a].width-s.columnWidth)/2/s.all},c[a].loc=t[s.name||s._name].loc+s.columnWidth/2/s.all,r+=c[a].width/s.all):t[s.name||s._name]={loc:c[a].loc-s.columnWidth/2/s.all}}},_getPoint:function(e,t,i,s,a,o,r){var l=e.xValue,n=e.YValues[0];return l=(l-s.min)/s.delta,n=(n-o.min)/o.delta,{X:(a?1-l:l)*t,Y:(1-(r?1-n:n))*i}},_getLogPoint:function(e,t,i,s,a,o,r,l){var n=e.xValue,d=e.YValues[0];return n="logarithmic"==l.xAxis._valueType.toLowerCase()?(ej.EjSvgRender.utils._logBase(0==n?1:n,l.xAxis.logBase)-s.min)/s.delta:(n-s.min)/s.delta,d="logarithmic"==l.yAxis._valueType.toLowerCase()?(ej.EjSvgRender.utils._logBase(0==d?1:d,l.yAxis.logBase)-o.min)/o.delta:(d-o.min)/o.delta,{X:(a?1-n:n)*t,Y:(1-(r?1-d:d))*i}},_getTransposedPoint:function(e,t,i,s,a,o,r){var l=e.xValue,n=e.YValues[0];return l=(l-s.min)/s.delta,n=(n-o.min)/o.delta,{X:(r?1-n:n)*i,Y:(1-(a?1-l:l))*t}},_getTransposedLogPoint:function(e,t,i,s,a,o,r,l){var n=e.xValue,d=e.YValues[0];return n="logarithmic"==l.xAxis._valueType.toLowerCase()?(ej.EjSvgRender.utils._logBase(0==n?1:n,l.xAxis.logBase)-s.min)/s.delta:(n-s.min)/s.delta,d="logarithmic"==l.yAxis._valueType.toLowerCase()?(ej.EjSvgRender.utils._logBase(0==d?1:d,l.yAxis.logBase)-o.min)/o.delta:(d-o.min)/o.delta,{X:(r?1-d:d)*i,Y:(1-(a?1-n:n))*t}},draw:function(t,i){var s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C=ej.EjSvgRender.utils._getStringBuilder(),T=t.canvasX,L=t.canvasY,k=t.model.requireInvertedAxes,P=0,j=t.model.enableCanvasRendering,D=t,A="logarithmic"==i.xAxis._valueType.toLowerCase()||"logarithmic"==i.yAxis._valueType.toLowerCase(),O=i._isTransposed,I=O?i.xAxis.height:i.xAxis.width,R=O?i.yAxis.width:i.yAxis.height,M=i.xAxis.visibleRange,E=i.yAxis.visibleRange,V=i.xAxis.isInversed,N=i.yAxis.isInversed,B=this["_get"+(O?"Transposed":"")+(A?"Log":"")+"Point"];if(this.chartObj=t,y=this.setLineSeriesStyle(i),i._animationType="path",i.sorting&&(i.points=ej.DataManager(i.points,ej.Query().sortBy("xValue")).executeLocal()),i._visiblePoints=void 0,a={min:0,max:(s=this.improveChartPerformance(i)).length},i.pointFill)for(u=e.inArray(i,this.chartObj.model._visibleSeries),g=s.length-1,x=ej.EjSvgRender.utils._getTransform(i.xAxis,i.yAxis,k),T=D.canvasX,L=D.canvasY,_={id:this.chartObj.svgObject.id+"_SeriesGroup_"+u,transform:"translate("+x.x+","+x.y+")"},this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(_),o=0;o<g;o++)v=s[o],p=s[o+1],f||(f=this.chartObj.setStyle(this,i,u,o,void 0,s)),p.visible&&v.visible&&(h=ej.EjSvgRender.utils._getPoint(v,i),c=ej.EjSvgRender.utils._getPoint(p,i),C.append("M "+(h.X+T)+" "+(h.Y+L)+" L "+(c.X+T)+" "+(c.Y+L)+" ")),(b=this.chartObj.setStyle(this,i,u,o+1,void 0,s)).interior==f.interior&&o!=g-1&&p.visible||(r={name:i.type,id:this.chartObj.svgObject.id+"_Series"+u+"_Point"+P++,"stroke-dasharray":f.dashArray,fill:"none","stroke-width":f.width,"stroke-linecap":i.lineCap,"stroke-linejoin":i.lineJoin,stroke:f.interior,opacity:f.opacity,d:C.toString()},this.chartObj.svgRenderer.drawPath(r,this.gSeriesGroupEle),C=ej.EjSvgRender.utils._getStringBuilder(),f=b);else{for(j&&((m=t.svgRenderer.ctx).save(),m.beginPath(),"cartesianaxes"==t.model.AreaType&&(x="translate("+(x=ej.EjSvgRender.utils._getTransform(i.xAxis,i.yAxis,k)).x+","+x.y+")"),b={"stroke-dasharray":i.dashArray,"stroke-width":i.width,stroke:y.SeriesInterior,"stroke-linecap":i.lineCap,"stroke-linejoin":i.lineJoin,opacity:i.opacity},t.svgRenderer._setLinePathStyle(b,x)),l=null,d=-1,w="M ",o=a.min;o<a.max;o++)!1!==(n=s[o]).visible?(null!=l&&s.length>d+1&&(p=s[d+1],h=B(l,I,R,M,V,E,N,i),c=B(p,I,R,M,V,E,N,i),j?(S&&(m.lineTo(c.X+T,c.Y+L),S=null),m.moveTo(h.X+T,h.Y+L),m.lineTo(c.X+T,c.Y+L),S=c):(C.append(w+(h.X+T)+" "+(h.Y+L)+" L "+(c.X+T)+" "+(c.Y+L)+" "),w="L ")),l=n,d=o):l=null;j?(m.stroke(),m.restore()):this._drawLinePath(i,y,C.toString())}this.chartObj.dragPoint?this.chartObj.svgRenderer.append(this.chartObj.gPreviewSeriesGroupEle,this.chartObj.gSeriesEle):this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle),i._visiblePoints=i._dataLabels>0||i.marker&&1==i.marker.dataLabel.visible&&i.enableSmartLabels?this._isVisiblePoints(i):s},doCircularAnimation:function(t,i,s,a,o){var r=i.type.toLowerCase();if("pie"==r||"doughnut"==r||"pieofpie"==r){var l,n,d=this,h=i.points[0]?i.points[0].startAngle:0,c=t.model._isPieOfPie?i.collectionIndex:0,u=i.emptyPointSettings.visible?i.visiblePoints:i._visiblePoints;o=ej.util.isNullOrUndefined(o)?1200:o,e.each(u,(function(s,u){l=u.startAngle,n=u.endAngle,t.model._radius=t.model._isPieOfPie?t.model.circularRadius[c]:t.model.circularRadius[a],u.startAngle=0,u.endAngle=u.startAngle,t.model.Radius=0;var p=e(t.gSeriesEle).find("#"+t.svgObject.id+"_SeriesGroup_"+a)[c].childNodes[s];"pie"==r||"pieofpie"==r?e(p).each((function(){this.StartAngle=h,this.EndAngle=h})).animate({StartAngle:l,EndAngle:n,pieRadius:t.model._radius},{duration:o,queue:!1,step:function(o,r){if("StartAngle"===r.prop.toString()?(u.startAngle=o,u.endAngle=u.startAngle):"pieRadius"==r.prop.toString()&&t.model?t.model.Radius=o:u.endAngle=o,t.model){var l=d._calculateArcData(t,s,u,i,a,c);t.svgRenderer._setAttr(e(p),{d:l.Direction}),t.model.Radius=t.model._radius}},complete:function(){d.circularAnimationComplete(s,t,i)}}):e(p).each((function(){this.StartAngle=h,this.EndAngle=h})).animate({StartAngle:l,EndAngle:n},{duration:o,queue:!1,step:function(o,r){if("StartAngle"===r.prop.toString()?(u.startAngle=o,u.endAngle=u.startAngle):u.endAngle=o,t.model){var l=d._calculateArcData(t,s,u,i,a);t.svgRenderer._setAttr(e(p),{d:l.Direction}),t.model.Radius=t.model._radius}},complete:function(){d.circularAnimationComplete(s,t,i)}})}))}},circularAnimationComplete:function(t,i,s){if(!ej.util.isNullOrUndefined(i.model)){var a,o,r,l=e.inArray(s,i.model._visibleSeries);if(i.gSeriesTextEle[l]&&i.svgRenderer._setAttr(e(i.gSeriesEle).find("#"+i.gSeriesTextEle[l].id),{visibility:"visible"}),i.gSymbolGroupEle[l]&&i.svgRenderer._setAttr(e(i.gSeriesEle).find("#"+i.gSymbolGroupEle[l].id),{visibility:"visible"}),i.gDataLabelEle[l]&&i.svgRenderer._setAttr(e(i.gSeriesEle).find("#"+i.gDataLabelEle[l].id),{visibility:"visible"}),s.marker.dataLabel.template)for(r=e(i.element[0].childNodes[0].childNodes),o=0;o<r.length;o++)e(r[o]).css("display","block");i.gConnectorEle[l]&&i.svgRenderer._setAttr(e(i.gSeriesEle).find("#"+i.gConnectorEle[l].id),{visibility:"visible"}),i.gConnectorLinesGroup&&i.svgRenderer._setAttr(e(i.gSeriesEle).find("#"+i.gConnectorLinesGroup.id),{visibility:"visible"}),i.model.AnimationComplete=!0,s.AnimationComplete=!0,(a=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={series:s},i._trigger("animationComplete",a)}},_doLineSymbol:function(t,i,s,a,o,r,l){if("defs"!=t.tagName){var n,d=parseInt(s*i),h=void 0==this.chartObj?r:this.chartObj,c=ej.EjSvgRender.utils._getBoundingClientRect(t,h,a,o),u=c.x+c.width/2,p=c.y+c.height/2,m=e(t),g=h.svgRenderer._getAttrVal(m,"transform");g=ej.util.isNullOrUndefined(g)?" ":g,h.svgRenderer._setAttr(m,{transform:"scale(0)"}),m.delay(d).animate({scales:1},{duration:l,step:function(e){n=e,h.svgRenderer._setAttr(m,{transform:"translate("+u+" "+p+") scale("+n+") translate("+-u+" "+-p+")"+g})}})}},animateSymbol:function(t,i,s,a,o,r){if("defs"!=t.tagName){var l,n=void 0==this.chartObj?o:this.chartObj,d=ej.EjSvgRender.utils._getBoundingClientRect(t,n,s,a),h=d.x+d.width/2,c=d.y+d.height/2,u=e(t),p=n.svgRenderer._getAttrVal(u,"transform");p=ej.util.isNullOrUndefined(p)?" ":p,u.delay(i).each((function(){this.scale=.5})).animate({scales:1},{duration:r,step:function(e){l=e,n.svgRenderer._setAttr(u,{transform:"translate("+h+" "+c+") scale("+l+") translate("+-h+" "+-c+")"+p})}})}},animateCylinder:function(t,i,s,a,o){var r,l;i.isTransposed&&s?(r=a[0].width.animVal.value,t.model.series[0].type.indexOf("bar")>-1?(t.svgRenderer._setAttr(e(a),{x:r}),e(a).animate({x:0},o,(function(){}))):(l=a[0].height.animVal.value,t.svgRenderer._setAttr(e(a),{y:0}),e(a).animate({y:parseFloat(t.svgRenderer._getAttrVal(a,"y")),height:parseFloat(t.svgRenderer._getAttrVal(a,"height"))},{duration:o,step:function(i){t.svgRenderer._setAttr(e(a),{y:l-i}),t.svgRenderer._setAttr(e(a),{height:i})}}))):t.model.series[0].type.indexOf("bar")>-1?e(a).animate({width:parseFloat(t.svgRenderer._getAttrVal(a,"width"))},{duration:o,step:function(i){t.svgRenderer._setAttr(e(a),{width:i})}}):(l=a[0].height.animVal.value,t.svgRenderer._setAttr(e(a),{y:l}),e(a).animate({y:0},o,(function(){})))},animateRect:function(t,i,s,a,o){var r,l,n,d,h,c,u,p,m=i.animationType.toLowerCase(),g=ej.EjSvgRender.utils._getBoundingClientRect("smooth"==m?t[0]:t,a,i,s),_=e(t);i.isTransposed&&s||s?(c="smooth"==m?parseFloat(a.svgRenderer._getAttrVal(t,"width")):0,u=!0,"negative"===a.svgRenderer._getAttrVal(_,"plot")?(r=g.x+g.width,l=g.y+g.height):(r=g.x,l=g.y),n=") scale(",d=",1) translate("):(c="smooth"==m?parseFloat(a.svgRenderer._getAttrVal(t,"height")):0,u=!1,"negative"===a.svgRenderer._getAttrVal(_,"plot")?(r=g.x,l=g.y):(r=g.x+g.width,l=g.y+g.height),n=") scale(1,",d=") translate("),p=Math.abs(ej.EjSvgRender.utils._getPointXY(i.yAxis.visibleRange.min<0?0:i.yAxis.visibleRange.min,i.yAxis.visibleRange,i.yAxis.isInversed)*(u?i.yAxis.width:i.yAxis.height)),_.animate({scales:"smooth"==m?c:1},{duration:o,complete:function(){"waterfall"==i.type.toLowerCase()&&e("#"+a.svgObject.id+"_SeriesGroup_waterfallLine_"+i.index).attr("visibility","visible")},step:function(e){h=e,"smooth"==m?(e&&(u?a.svgRenderer._setAttr(_,{width:p+e>=c?c:e}):a.svgRenderer._setAttr(_,{height:e})),u?a.svgRenderer._setAttr(_,{x:p+e>=c?c-e:p}):a.svgRenderer._setAttr(_,{y:c-p-e>=0?c-p-e:0})):a.svgRenderer._setAttr(_,{transform:"translate("+r+" "+l+n+h+d+-r+" "+-l+")"})}})},animateStackingRect:function(t,i,s,a,o){var r,l,n,d,h,c,u,p=e(t),m=ej.EjSvgRender.utils._getBoundingClientRect(t,a,i,s);i.isTransposed&&s||s?(h=ej.EjSvgRender.utils._valueToCoefficient(i.yAxis,0)*i.yAxis.width,r=h,l=m.y,n=") scale(",d=",1) translate("):(c=(1-ej.EjSvgRender.utils._valueToCoefficient(i.yAxis,0))*i.yAxis.height,r=m.x,l=c,n=") scale(1,",d=") translate("),p.animate({scales:1},{duration:o,step:function(e){u=e,a.svgRenderer._setAttr(p,{transform:"translate("+r+" "+l+n+u+d+-r+" "+-l+")"})}})},_doLineAnimation:function(t,i,s){s=ej.util.isNullOrUndefined(s)?2e3:s;var a,o=t.model.primaryXAxis.isInversed,r=parseFloat(t.svgRenderer._getAttrVal(i,"width"));t.model.requireInvertedAxes?(a=parseFloat(t.svgRenderer._getAttrVal(i,"height")),e(i).animate({clipRectHeight:parseFloat(t.svgRenderer._getAttrVal(i,"height"))},{duration:s,step:function(s){t.svgRenderer._setAttr(e(i),{y:a-s}),t.svgRenderer._setAttr(e(i),{height:s})}})):e(i).animate({clipRectWidth:parseFloat(t.svgRenderer._getAttrVal(i,"width"))},{duration:s,step:function(s){o&&t.svgRenderer._setAttr(e(i),{x:r-s}),t.svgRenderer._setAttr(e(i),{width:s})}})},_drawLinePath:function(t,i,s){var a,o,r,l=this.chartObj.model.requireInvertedAxes,n=e.inArray(t,this.chartObj.model._visibleSeries),d=null;"cartesianaxes"==this.chartObj.model.AreaType&&(d="translate("+(a=ej.EjSvgRender.utils._getTransform(t.xAxis,t.yAxis,l)).x+","+a.y+")"),o={id:this.chartObj.svgObject.id+"_SeriesGroup_"+n,transform:d},this.chartObj.gSeriesGroupEle=this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(o),""!=s&&-1==s.indexOf("NaN")&&(r={id:this.chartObj.svgObject.id+"_Series"+n,fill:"none","stroke-dasharray":t.dashArray,"stroke-width":t.width,stroke:i.SeriesInterior,"stroke-linecap":t.lineCap,"stroke-linejoin":t.lineJoin,opacity:t.opacity,d:s},this.chartObj.dragPoint?(r.id=this.chartObj.svgObject.id+"_PreviewSeries"+n,r.opacity=.6,this.chartObj.model.enableCanvasRendering?this.chartObj.svgRenderer.drawPath(r,this.chartObj.canvasElement,d):this.chartObj.svgRenderer.drawPath(r,this.chartObj.gPreviewSeriesGroupEle)):this.chartObj.svgRenderer.drawPath(r,this.gSeriesGroupEle))},_applySaturation:function(e,t){var i;return ej.EjSvgRender.prototype.checkColorFormat(t)||(t=e.colorNameToHex(t)),i=ej.EjSvgRender.prototype.hexToRGB(t),Math.round((299*parseInt(i.R)+587*parseInt(i.G)+114*parseInt(i.B))/1e3)>=128?"black":"white"},drawDataLabel:function(t,i,s,a,o,r,l,n){var d,h,c,u,p,m,g,_,f;s.marker=s.marker?s.marker:{};var b,v,x,y,w,S,C,T,L,k=t.yAxis.labelFormat,P=(t.yAxis.valueType,t._visiblePoints[i].boxPlotValues),j="waterfall"==t.type.toLowerCase()&&(s.showIntermediateSum||s.showTotalSum)?s.waterfallSum:s.y;s.text?v=s.text:k?k.indexOf("{value}")>-1?v=k.replace("{value}",j):0==k.indexOf("e")||0==k.indexOf("E")?(b=null==(b=k.match(/(\d+)/g))?6:b>20?20:b,v=j.toExponential(b)):v=ej.format(j,k,this.chartObj.model.locale):v=j;var D,A,O,I=this.chartObj,R=I.model,M=e.inArray(t,R._visibleSeries),E=e.extend(!0,{},t.marker,s.marker),V=E.dataLabel,N=R.m_AreaBounds,B=V.font,F=V.textPosition.toLowerCase(),z=V.textAnchor.toLowerCase(),Y=t.type.toLowerCase(),X=R.enableCanvasRendering,W=ej.seriesTypes[Y].prototype.isRegion,H={size:ej.util.isNullOrUndefined(B.size)?"11px":B.size,fontStyle:ej.util.isNullOrUndefined(B.fontStyle)?"Normal":B.fontStyle,fontFamily:ej.util.isNullOrUndefined(B.fontFamily)?"Segoe UI":B.fontFamily},U=(a=a?a==R.m_AreaBounds.Width?a-15:a:a+15,ej.EjSvgRender.utils._measureText(v,null,H));degree=V.angle,padding=10,angle=degree>360?degree-360:degree<-360?degree+360:degree,"middle"==F&&(-90==angle||90==angle)&&(d=I.model.chartRegions[r].Region.Bounds,U.width>d.Height&&(F="bottom"));var $=this.textPosition(t,M,s,U,Y,a,o,r,i,l,F),G=e.extend({},ej.EjSvgRender.commonChartEventArgs),q=V.enableContrastColor,Z=R.chartArea.background.toLowerCase(),Q=R.background.toLowerCase();G.data={text:v,location:{x:$.x+I.canvasX,y:$.y+I.canvasY},seriesIndex:M,pointIndex:i},t.isStacking&&"area"==t.drawType&&("polar"==t.type||"radar"==t.type)&&(G.data.text=t.stackedValue.EndValues[i]-t.stackedValue.StartValues[i]),I._trigger("displayTextRendering",G);var K=void 0==E.dataLabel.offset.y?E.dataLabel.offset:E.dataLabel.offset.y,J=E.dataLabel.offset.x;if(U=ej.EjSvgRender.utils._measureText(G.data.text,null,H),G.data.location.y="bottom"==F?G.data.location.y+K:G.data.location.y-K,J&&(G.data.location.x=G.data.location.x+J),(90==angle||-90==angle)&&("bottom"==F?(z=-90==angle?"start":"end",G.data.location.y=G.data.location.y+padding/2):"top"==F&&("middle"==z||"start"==z?(z=-90==angle?"start":"end",G.data.location.y=G.data.location.y+padding):(z="end",G.data.location.y=G.data.location.y+2*padding))),!G.cancel){var ee={id:I.svgObject.id+"_SeriesText"+i+M,x:G.data.location.x,y:G.data.location.y,fill:B.color,"font-size":B.size,"font-family":B.fontFamily,"font-style":B.fontStyle,"font-weight":B.fontWeight,opacity:B.opacity,"text-anchor":s.isCrop?"":z},te=V.margin,ie=U.width+te.left+te.right,se=U.height+te.top+te.bottom,ae={X:G.data.location.x,Y:G.data.location.y};if(ej.util.isNullOrUndefined(V.template)?(D=V.shape?V.shape:"None",e.each(R.symbolShape,(function(e){D.toLowerCase()==e.toLowerCase()&&(O=e)})),h=G.data.location.x-te.left/2+te.right/2,c=G.data.location.y-te.top/2-se/te.top+te.bottom/2,R.enableCanvasRendering&&degree%360!=0&&(ee.y-=U.height/4,ee.baseline="middle"),V.showEdgeLabels&&(x=X?ee.x-I.canvasX:ee.x,y=X?ee.y-I.canvasY:ee.y,(90==angle||-90==angle)&&(U.width=[U.height,U.height=U.width][0]),w=U.width,S=U.height,u=t._visiblePoints[t._visiblePoints.length-1]==s&&x+w/2>=I.model.m_AreaBounds.Width,(x-w/2<0||x<-w/2)&&u?(C=x-w/2,ee.x=h=Math.abs(C)+(u?-10:x+10)):(x+w/2>N.textWidth||x+w/2>N.textWidth+w/2)&&(C=x-w/2,ee.x=h=N.textWidth-w/2-10),y+S/2>N.textHeight||y+S/2>N.textHeight+S/2?(c=y-(C=y+S/2-N.textHeight)-10,ee.y=c+5):(y-S/2<0||y<-S/2)&&(C=y-S/2,c+=Math.abs(C)+10,ee.y=c+5)),t._enableSmartLabels&&(s.dataLabel={textX:ee.x,textY:ee.y,x:h,y:c,width:ie,height:se},s.margin={top:te.top,bottom:te.bottom}),T="array"==jQuery.type(R.seriesColors[M])?R.seriesColors[M][0].color:R.seriesColors[M],T=s.fill?"array"==jQuery.type(s.fill)?s.fill[0].color:s.fill:T,q&&(A=W&&"top"!=F?T:"transparent"===Z&&"transparent"===Q?"white":"transparent"!=Z?Z:Q,ee.fill=this._applySaturation(I,A)),s.y!=s.low||void 0===s.y&&void 0===s.low?"boxandwhisker"==Y.toLowerCase()&&P.midvalue!=s.y?(p={id:I.svgObject.id+"_SeriesText"+i+M,x:ej.util.isNullOrUndefined(n)?G.data.location.x:h,y:ej.util.isNullOrUndefined(n)?G.data.location.y:c,fill:B.color,"font-size":B.size,"font-family":B.fontFamily,"font-style":B.fontStyle,"font-weight":B.fontWeight,opacity:B.opacity,"text-anchor":z},m=s.textOptionsBoxValues.length,s.textOptionsBoxValues[m]=p,0!=angle&&(s.textOptionsBoxValues[m].angle=angle),s.textOptionsBoxValues[m].drawText=G.data.text,s.textOptionsBoxValues[m].index=i,s.textOptionsBoxValues[m].xPos=ej.util.isNullOrUndefined(n)?h:h-te.left/2+te.right/2,s.textOptionsBoxValues[m].yPos=ej.util.isNullOrUndefined(n)?c:c-te.top/2-se/te.top+te.bottom/2,s.textOptionsBoxValues[m].seriesIndex=M,s.textOptionsBoxValues[m].width="None"==O?U.width:ie,s.textOptionsBoxValues[m].height="None"==O?U.height:se,s.textOptionsBoxValues[m].symbolName=O):(s.textOptions=ee,0!=angle&&(s.textOptions.angle=angle),s.drawText=G.data.text,s.index=i,s.xPos=h,s.yPos=c,s.seriesIndex=M,s.width="None"==O?U.width:ie,s.height="None"==O?U.height:se,(90==angle||-90==angle)&&(s.width=[s.height,s.height=s.width][0]),s.symbolName=O):(s.xPosLow=h,s.yPosLow=c,s.widthLow="None"==O?U.width:ie,s.heightLow="None"==O?U.height:se,s.textOptionsLow=ee,s.textOptionsLow.angle=angle,s.drawTextLow=G.data.text)):(ae.X-=I.canvasX,ae.Y-=I.canvasY,this.drawLabelTemplate(t,s,i,ae,I)),(Y.indexOf("column")>-1||Y.indexOf("bar")>-1)&&q)if(g=I.model.chartRegions[r],_=l.stackingGroup,"top"==F&&Y.indexOf("stacking")>-1){if(ej.util.isNullOrUndefined(t.stackingGroup)||""==t.stackingGroup)M<R._visibleSeries.length-1?(T="array"==jQuery.type(R.seriesColors[M+1])?R.seriesColors[M+1][0].color:R.seriesColors[M+1],A=T=s.fill?"array"==jQuery.type(s.fill)?s.fill[0].color:s.fill:T):A="transparent"===Z&&"transparent"===Q?"white":"transparent"!=Z?Z:Q;else for(f in _){if(f==t.stackingGroup&&M<_[f].length-1){T="array"==jQuery.type(R.seriesColors[M+1])?R.seriesColors[M+1][0].color:R.seriesColors[M+1],A=T=s.fill?"array"==jQuery.type(s.fill)?s.fill[0].color:s.fill:T;break}A="transparent"===Z&&"transparent"===Q?"white":"transparent"!=Z?Z:Q;break}ee.fill=this._applySaturation(I,A)}else L=ej.ejChart.isCollide(g,s,0,q,I),"bottom"!=F&&"middle"!=F||L.state||(A="transparent"===Z&&"transparent"===Q?"white":"transparent"!=Z?Z:Q,ee.fill=this._applySaturation(I,A))}},updateSmartLabelPosition:function(t,i,s,a,o,r,l,n,d,h){var c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A=[],O=d,I=O.model,R=I.legend,M=I.LegendActualBounds,E=R.position.toLowerCase(),V=new(ej.seriesTypes[t.type.toLowerCase()]),N="",B="",F=a.connector.connectorX,z=a.connector.connectorY,Y=a.midPoint.midX,X=a.midPoint.midY,W=(a.doughnutMidPoint.dMidX,a.doughnutMidPoint.dMidY,r.startX),H=r.startY,U=e.extend(!0,{},t.marker,i.marker),$=U.dataLabel.template?0:4,G=o,q=t.startAngle>t.endAngle?-.01:.01,Z=U.dataLabel.connectorLine.type.toLowerCase(),Q=t.type.toLowerCase(),K=I._isPieOfPie?I.circularRadius[t.collectionIndex]:I.circularRadius[h],J="pieofpie"==Q?"inside":t.labelPosition.toLowerCase();if(ej.util.isNullOrUndefined(I.bounds[h])&&(I.bounds[h]=[],I.bounds[h].points=[],"outsideextended"==J&&(I.bounds[h].points.left=[],I.bounds[h].points.right=[])),"inside"==J&&ej.util.isNullOrUndefined(i.smartLabelPosition)){u=(Y+(u=(Y+W)/2))/2,p=(X+(p=(X+H)/2))/2,ee=i.isIntersected&&I.bounds[h].points[i.index]?I.bounds[h].points[i.index]:Y>W?{X:u,Y:p,Left:u,Top:p,Right:u+n.width,Bottom:p+n.height,SeriesIndex:h,PointIndex:s}:{X:u,Y:p,Left:u-n.width,Top:p,Right:u,Bottom:p+n.height,SeriesIndex:h,PointIndex:s};do{m=!1,this.IntersectWith(O,i,ee,"inside",h)&&(g=ee.Left,_=180*o/Math.PI,180*G/Math.PI-_>=270||(G+=q,i.isIntersected=!0,ee.Angle=G,Y>W?(ee.X=ee.Left=V.getXCordinate(W,K+l,G),ee.Right=ee.X+n.width):(ee.X=ee.Right=V.getXCordinate(W,K+l,G),ee.Left=ee.Right-n.width),ee.Y=ee.Top=V.getYCordinate(H,K+l,G),ee.Bottom=ee.Y+n.height,m=!0))}while(m);Y>W&&ee.X<W&&(ee.Right=g,ee.Left=g-n.width),I.bounds[h].points[s]=ee,i.isIntersected&&I.bounds[h].points[s].Angle&&(u=V.getXCordinate(W,K+l,I.bounds[h].points[s].Angle),p=V.getYCordinate(H,K+l,I.bounds[h].points[s].Angle),f=V.getXCordinate(W,K+l/3,o),b=V.getYCordinate(H,K+l/3,o),A.push({X:Y,Y:X}),A.push({X:f,Y:b}),A.push({X:u,Y:p}),i.isIntersected&&"bezier"==Z&&!O.vmlRendering&&(B=V.drawBezierSegment(A,t,s,O,h)),N="M "+Y+" "+X+" L "+f+" "+b+" M "+f+" "+b+" L "+u+" "+p)}else if("outside"==J||"outside"==i.smartLabelPosition){ee=Y>=W?{X:F,Y:z,Left:F,Top:z,Right:F+n.width,Bottom:z+n.height,SeriesIndex:h,PointIndex:s}:{X:F,Y:z,Left:F-n.width,Top:z,Right:F,Bottom:z+n.height,SeriesIndex:h,PointIndex:s};do{m=!1,this.IntersectWith(O,i,ee,"outside",h,n)&&(g=ee.Left,G+=q,i.isIntersected=!0,Y>W?(ee.X=ee.Left=V.getXCordinate(W,K+l,G),ee.Right=ee.X+n.width):(ee.X=ee.Right=V.getXCordinate(W,K+l,G),ee.Left=ee.Right-n.width),ee.Y=ee.Top=V.getYCordinate(H,K+l,G),ee.Bottom=ee.Y+n.height,m=!0)}while(m);Y>W&&ee.X<W&&(ee.Right=g,ee.Left=g-n.width),I.bounds[h].points[s]=ee,f=V.getXCordinate(W,K+l/3,o),b=V.getYCordinate(H,K+l/3,o),A.push({X:Y,Y:X}),A.push({X:f,Y:b}),A.push({X:ee.X,Y:ee.Y}),u=ee.X,p=ee.Y,l>0&&(u=Y<W?(c=ee.X-I.elementSpacing)-$:(c=ee.X+I.elementSpacing)+$,A.push({X:c,Y:ee.Y})),"bezier"!=Z||O.vmlRendering?N="M "+Y+" "+X+" L "+f+" "+b+" M "+f+" "+b+" L "+ee.X+" "+ee.Y+" M "+ee.X+" "+ee.Y+" L "+c+" "+ee.Y:B=V.drawBezierSegment(A,t,s,O,h)}else{v=Y,x=X,Y+=Math.cos(o)*(-K/10),X+=Math.sin(o)*(-K/10),y=K/4,A.push({X:Y,Y:X}),Y+=Math.cos(o)*y,X+=Math.sin(o)*y,A.push({X:Y,Y:X}),w=R.visible&&"left"==E?I.margin.left+M.Width:0,S=I.circleCenterX[h],Y<W?(Y=(S-K-2*y-t.LeftLabelMaxWidth>0?S-K-2*y+w:t.LeftLabelMaxWidth>v?v:t.LeftLabelMaxWidth+w)-n.width/2,C=A[1].X-t.LeftLabelMaxWidth,k=S-K-2*y-t.LeftLabelMaxWidth>0?y:t.LeftLabelMaxWidth>v?0:C>y/2*3?y:C/2,T=+n.width/2):(L=R.visible&&"right"==E?I.margin.right+M.Width:0,Y=(S+K+2*y+t.RightLabelMaxWidth<e(O.svgObject).width()-L?S+K+2*y-w:S+K+t.RightLabelMaxWidth>e(O.svgObject).width()?v:e(O.svgObject).width()-t.RightLabelMaxWidth-L)+n.width/2,C=e(O.svgObject).width()-t.RightLabelMaxWidth-A[1].X,k=S+K+2*y+t.RightLabelMaxWidth<e(O.svgObject).width()?y:S+K+t.RightLabelMaxWidth>e(O.svgObject).width()?0:C>y/2*3?y:C/2,T=-n.width/2),P=Math.sqrt(Math.pow(v-Y,2)+Math.pow(x-X,2))/10,Y=(j=Y<W)?Y+P:Y-P,a=j?I.bounds[h].points.left:I.bounds[h].points.right;var ee={X:Y,Y:X,Left:Y,Top:X,Right:Y+n.width,Bottom:X+n.height,index:s,SeriesIndex:h,PointIndex:s},te=t.endAngle>t.startAngle;if(this.IntersectWith(O,i,ee,"outsideExtended",h)&&(A.push(Y<W?{X:Y+k+T,Y:X}:{X:Y-k+T,Y:X}),X=te||null==t.startAngle?a[a.length-1].Y+n.height+2:j?a[a.length-1].Y-n.height-2:a[a.length-1].Y+n.height+2,ee.Y=X,ee.Top=X,ee.Bottom=X+n.height),A.push({X:Y+T,Y:X}),S<A[0].X&&A[1].X>A[2].X&&(A[2].X=A[1].X),S>A[0].X&&A[1].X<A[2].X&&(A[2].X=A[1].X),j?(I.bounds[h].points.left||(I.bounds[h].points.left=[]),I.bounds[h].points.left.push(ee),A[A.length-1].X>A[A.length-2].X&&(A[A.length-2].X=A[A.length-1].X)):(I.bounds[h].points.right||(I.bounds[h].points.right=[]),I.bounds[h].points.right.push(ee),A[A.length-1].X<A[A.length-2].X&&(A[A.length-2].X=A[A.length-1].X)),N=ej.EjSvgRender.utils._getStringBuilder(),"bezier"!=Z||O.vmlRendering){for(D=0;D<A.length;D++)D==A.length-1?N.append(" "):N.append("M "+A[D].X+" "+A[D].Y+" L "+A[D+1].X+" "+A[D+1].Y+" ");N=N.toString()}else B=V.drawBezierSegment(A,t,s,O,h);u=A[A.length-1].X+(Y<W?-$:$),p=A[A.length-1].Y}return{positionX:u,positionY:p,connectorDirection:N,isInterSected:i.isIntersected,bezierPath:B}},updateLabelPosition:function(t,i,s,a,o,r,l,n,d,h){var c,u,p,m,g,_,f,b=[],v=d,x=new(ej.seriesTypes[t.type.toLowerCase()]),y="",w=a.connector.connectorX,S=a.connector.connectorY,C=a.midPoint.midX,T=a.midPoint.midY,L=a.doughnutMidPoint.dMidX,k=a.doughnutMidPoint.dMidY,P=r.startX,j=r.startY,D=e.extend(!0,{},t.marker,i.marker),A=D.dataLabel.template?0:4,O=t.type.toLowerCase(),I=v.model.circularRadius[h],R="pieofpie"==O?"inside":t.labelPosition.toLowerCase();if(b.push({X:C,Y:T}),b.push({X:w,Y:S}),u=w,p=S,"outside"==R)l>0&&(u=w<P?(c=w-v.model.elementSpacing)-A:(c=w+v.model.elementSpacing)+A,b.push({X:c,Y:S})),"bezier"!=D.dataLabel.connectorLine.type.toLowerCase()||v.vmlRendering?y="M "+C+" "+T+" L "+w+" "+S+" M "+w+" "+S+" L "+c+" "+S:x.drawBezierSegment(b,t,s,v,h);else if("outsideextended"==R){if(m=C,C+=Math.cos(o)*(-I/10),T+=Math.sin(o)*(-I/10),g=I/4,(b=[]).push({X:C,Y:T}),w=C+Math.cos(o)*g,S=T+Math.sin(o)*g,b.push({X:w,Y:S}),_=!v.model.legend.visible||"left"!=v.model.legend.position.toLowerCase()&&"right"!=v.model.legend.position.toLowerCase()?0:v.model.elementSpacing,w=C<P?v.model.centerX-I-2*g-t.LeftLabelMaxWidth>0?v.model.centerX-I-2*g+_:t.LeftLabelMaxWidth>m?m:t.LeftLabelMaxWidth:v.model.centerX+I+2*g+t.RightLabelMaxWidth<e(v.svgObject).width()?v.model.centerX+I+2*g-_:v.model.centerX+I+t.RightLabelMaxWidth>e(v.svgObject).width()?m:e(v.svgObject).width()-t.RightLabelMaxWidth,b.push({X:w,Y:S}),y=ej.EjSvgRender.utils._getStringBuilder(),"bezier"!=D.dataLabel.connectorLine.type.toLowerCase()||v.vmlRendering){for(f=0;f<b.length;f++)f==b.length-1?y.append(" "):y.append("M "+b[f].X+" "+b[f].Y+" L "+b[f+1].X+" "+b[f+1].Y+" ");y=y.toString()}else x.drawBezierSegment(b,t,s,v,h);u=b[b.length-1].X+(C<P?-A:A),p=b[b.length-1].Y}else"doughnut"==t.type.toLowerCase()?(u=(C+L)/2,p=(T+k)/2):(u=(C+(u=(C+P)/2))/2,p=(T+(p=(T+j)/2))/2);return{positionX:u,positionY:p,connectorDirection:y,points:b[b.length-1]}},updateSmartLabel:function(t,i,s,a){var o,r,l,n,d,h=!0,c="",u=i.labelPosition.toLowerCase(),p=e.extend(!0,{},i.marker,a.marker).dataLabel,m=t.model.m_AreaBounds,g=(t.model.svgHeight,i.type.toLowerCase());return a._labelPlacement="","inside"==u||"outsideextended"==u?this.calculateInsideConnectorLines(s,a,i,t):this.compareDataLabels(a,s,t.model.outsideDataRegionPoints,i,t),o=t.model.enableCanvasRendering&&!p.template?t.pyrX:0,r=t.model.enableCanvasRendering&&!p.template?t.pyrY:0,"pyramid"==g?(t.model.actualHeight<a.yPos-r||a.xPos-o>m.Width&&"insideoverlap"==a._labelPlacement||"right"==t.model.legend.position&&p.template&&a.xPos+a.width>m.Width+t.model.LegendActualBounds.Width)&&(h=!1,a.drawTextacc=""):(a.yPos-r<0||a.xPos-o>m.Width&&"insideoverlap"==a._labelPlacement||"right"==t.model.legend.position&&p.template&&a.xPos+a.width>m.Width+t.model.LegendActualBounds.Width)&&(h=!1,a.drawTextacc=""),("outside"==u||"insideoverlap"==a._labelPlacement)&&h&&(c=this.drawConnectorLines(s,a,i,t)),p.template&&(l=e("#"+a.id),h?(n="insidenooverlap"==a._labelPlacement?a.textOptionsacc.x+t.pyrX-a.width/2:a.textOptionsacc.x+t.pyrX,d="insidenooverlap"==a._labelPlacement?a.textOptionsacc.y+t.pyrY:a.textOptionsacc.y+t.pyrY-t.model.elementSpacing,l.css("left",n).css("top",d),l.css("height",a.height).css("overflow","hidden")):l.css("display","none")),{xPos:a.xPos,yPos:a.yPos,textOptionsacc:a.textOptionsacc,connectorDirection:c.connectorDirection,bezierPath:c.bezierdir,drawTextacc:a.drawTextacc}},compareDataLabels:function(t,i,s,a,o){for(var r,l,n,d,h,c,u,p=e.extend(!0,{},a.marker,t.marker),m=p.dataLabel,g=o.model.elementSpacing,_=p.dataLabel.margin,f=a._visiblePoints.length,b=a.labelPosition.toLowerCase(),v=o.model.enableCanvasRendering?o.pyrX:0,x=o.model.enableCanvasRendering?o.pyrY:0,y=0,w=s.length;y<w;y++)if(n=s[y],(d=this.isCollide(n,t,a)).state)if("inside"==b||"outsideextended"==b)for(t.textOptionsacc.y=t.yPos=t.textOptionsacc.y+d.height,u=m.template?{x:t.xPos,y:t.yPos}:{x:t.xPos-v,y:t.yPos-x},r=0,l=f;r<l;r++)o.isPointInPolygon(o.model.chartRegions[0].Region[r].Polygon,u)&&(t.textOptionsacc.x=t.xPos=t.textOptionsacc.x+t.width,u=m.template?{x:t.xPos,y:t.yPos}:{x:t.xPos-v,y:t.yPos-x});else t._labelPlacement="outside",t.textOptionsacc.y=t.yPos="pyramid"==a.type.toLowerCase()?t.yPos+d.height+g/2:t.yPos+d.height-g/2,t.textOptionsacc.y=t.textOptionsacc.y+t.height/4-g/2+_.top/2-_.bottom/2;c="rotate("+((h=m.angle)>360?h-360:h<-360?h+360:h)+","+t.textOptionsacc.x+","+t.textOptionsacc.y+")",e(t.textOptionsacc).attr("transform",c),e(t.textOptionsacc).attr({transform:c}),("inside"==b||"outsideextended"==b)&&(t.yPos=t.yPos+g/4,t.textOptionsacc.y=t.textOptionsacc.y+t.height/4+_.top/2-_.bottom/2),s[s.length]=t},calculateInsideConnectorLines:function(t,i,s,a){var o,r=i.Polygon,l=e.extend(!0,{},s.marker,i.marker).dataLabel,n=l.font,d=a.model.enableCanvasRendering?a.pyrX:0,h=a.model.enableCanvasRendering?a.pyrY:0,c=ej.EjSvgRender.utils._measureText(i.drawTextacc,null,n),u=l.template?{x:i.xPos,y:i.yPos}:{x:i.xPos+c.width/2-d,y:i.yPos-i.height/2-h};a.isPointInPolygon(r,u)?i._labelPlacement="insidenooverlap":(i._labelPlacement="insideoverlap",i.textOptionsacc["text-anchor"]="start",o=i.startX+70<a.model.m_AreaBounds.Width?70:a.model.m_AreaBounds.Width-i.startX,i.textOptionsacc.x=i.xPos=i.startX+o,i.textOptionsacc.y=i.yPos=i.yLocation,a.model.enableCanvasRendering&&!l.template&&(i.textOptionsacc.x+=a.pyrX,i.textOptionsacc.y+=a.pyrY,i.xPos+=a.pyrX,i.yPos+=a.pyrY),this.compareDataLabels(i,t,a.model.outsideDataRegionPoints,s,a))},drawConnectorLines:function(t,i,s,a){var o="",r=new(ej.seriesTypes[s.type.toLowerCase()]),l=s._visiblePoints[t].startX,n=s._visiblePoints[t].startY,d="",h=e.inArray(s,a.model._visibleSeries),c=e.extend(!0,{},s.marker,i.marker).dataLabel,u=i.textOptionsacc.y-a.model.elementSpacing/2,p=a.model.enableCanvasRendering?a.pyrX:0,m=a.model.enableCanvasRendering?a.pyrY:0,g=[{X:l+p,Y:n+m},{X:i.textOptionsacc.x,Y:u}];return"bezier"!=c.connectorLine.type.toLowerCase()||a.vmlRendering?(d="M "+l+" "+n+" L "+i.textOptionsacc.x+" "+u,a.model.enableCanvasRendering&&!c.template&&(d="M "+l+" "+n+" L "+(i.textOptionsacc.x-p)+" "+(u-m))):o=r.drawBezierSegment(g,s,t,a,h),{connectorDirection:d,bezierdir:o}},isCollide:function(e,t,i){var s,a=0,o=0,r=i.type.toLowerCase();return(s=!(e.yPos+e.height<t.yPos||e.yPos>t.yPos+t.height||e.xPos+e.width/2<t.xPos-t.width/2||e.xPos-e.width>t.xPos+t.width))&&"pyramid"==r?(o=e.yPos+e.height-t.yPos,a=e.xPos+e.width-t.xPos):s&&"funnel"==r&&(o=e.yPos-(t.yPos+t.height),a=e.xPos+e.width-t.xPos),{state:s,height:o,width:a}},trimText:function(e,t,i){var s=--t-i.length;return e.substr(0,s)+i},trimfunction:function(e,t,i,s,a,o){for(;t<i;)if(e=e.toString(),e=this.trimText(e,e.length,s),i=ej.EjSvgRender.utils._measureText(e,a,o).width,e==s){e="";break}return e},calculatePosition:function(e,t,i,s,a){return{rightEndX:t.x+i/2-s,rightEndY:t.y-a,leftEndX:t.x-i/2-s,leftEndY:t.y-a}},textOption:function(t,i,s,a,o,r,l,n,d,h,c){var u;if(!(u=i.model._isPieOfPie?e.extend(!0,{},t.marker,c.marker):e.extend(!0,{},t.marker,t._visiblePoints[r].marker)).dataLabel.template){e("#"+i.svgObject.id+"series"+h+"_PointText"+r).remove();var p={id:i.svgObject.id+"series"+h+"_PointText"+r,x:n+a,y:d+s.height/4+o,fill:u.dataLabel.font.color,"font-size":u.dataLabel.font.size,"font-family":u.dataLabel.font.fontFamily,"font-style":u.dataLabel.font.fontStyle,"font-weight":u.dataLabel.font.fontWeight,opacity:u.dataLabel.font.opacity,"text-anchor":l,cursor:"default",degree:u.dataLabel.angle},m=u.dataLabel.angle,g="rotate("+(m>360?m-360:m<-360?m+360:m)+","+n+","+d+")";e(p).attr("transform",g),i.model.enableCanvasRendering&&e(p).attr("labelRotation",m),e(p).attr({transform:g})}return p},labelTrim:function(e,t,i,s,a,o,r,l,n,d){var h,c,u,p,m,g,_,f,b=-.5*Math.PI,v=(Math.PI,this.calculatePosition(e,t,i,a,o)),x=e.model.series[n].startAngle,y=e.model.series[n].endAngle,w=(e.model.chartRegions.length<e.model._visibleSeries.length?e.model.chartRegions[0].Region:e.model.chartRegions[n].Region,y-x);if(n=e.model._isPieOfPie?d:n,_=w<0?(y/=360)?2*Math.PI*(y<0?1+y:y):0:x?2*Math.PI*(e.model.itemCurrentXPos<0?1+e.model.itemCurrentXPos:e.model.itemCurrentXPos):0,(x=(Math.atan2(v.rightEndY,v.rightEndX)-b-_)%(2*Math.PI))<0&&(x=2*Math.PI+x),(y=(Math.atan2(v.leftEndY,v.leftEndX)-b-_)%(2*Math.PI))<0&&(y=2*Math.PI+y),h=parseFloat(r.start.toFixed(14)),c=parseFloat(r.end.toFixed(14)),w>0?(ej.util.isNullOrUndefined(e.firstStartAngle[0])&&e.firstStartAngle.push(h),h=e.firstStartAngle[0]<0?e.model._isPieOfPie?h:2*Math.PI+h:h,c=e.firstStartAngle[0]<0?e.model._isPieOfPie?c:2*Math.PI+c:c):(h=h<0?e.model._isPieOfPie?h:2*Math.PI+h:h,c=c<0?e.model._isPieOfPie?c:2*Math.PI+c:c),c-=_,(h-=_)>2*Math.PI&&c>2*Math.PI?(x+=2*Math.PI,y+=2*Math.PI):h<2*Math.PI&&c>2*Math.PI&&(x<Math.PI/2&&(x+=2*Math.PI),y<Math.PI/2&&(y+=2*Math.PI)),x<0&&(y>0||null==y)&&(h=h<0?2*Math.PI+h:h,c=c<=0?2*Math.PI+c:c),u=e.model.circleCenterX[n]<t.x?Math.sqrt(Math.pow(Math.abs(v.rightEndX),2)+Math.pow(Math.abs(v.rightEndY),2)):Math.sqrt(Math.pow(Math.abs(v.leftEndX),2)+Math.pow(Math.abs(v.leftEndY),2)),w<0&&(c=[h,h=c][0]),y>=h&&y<=c&&x>=h&&x<=c&&u<=e.model.circularRadius[n]&&u>0)p=!0;else for(p=!1;!p;){if("..."==(s=this.trimText(s,s.length,"..."))){s="";break}g=ej.EjSvgRender.utils._measureText(s,null,l),m=this.calculatePosition(e,t,g.width,a,o),(f=(Math.atan2(m.rightEndY,m.rightEndX)-b-_)%(2*Math.PI))<0&&(f=2*Math.PI+f),(y=(Math.atan2(m.leftEndY,m.leftEndX)-b-_)%(2*Math.PI))<0&&(y=2*Math.PI+y),u=e.model.circleCenterX[n]<t.x?Math.sqrt(Math.pow(Math.abs(m.rightEndX),2)+Math.pow(Math.abs(m.rightEndY),2)):Math.sqrt(Math.pow(Math.abs(m.leftEndX),2)+Math.pow(Math.abs(m.leftEndY),2)),h>2*Math.PI&&c>2*Math.PI&&e.model._isPieOfPie?(h-=2*Math.PI,c-=2*Math.PI):0!=h&&h<2*Math.PI&&c>=2*Math.PI&&e.model._isPieOfPie&&(h-=2*Math.PI),y>=h&&y<=c&&f>=h&&f<=c&&u<=e.model.circularRadius[n]&&u>0&&(p=!0)}return s},drawDataLabelAcc:function(t,i,s,a,o,r){var l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L=a.marker;if(a.visible&&(L&&L.dataLabel&&L.dataLabel.visible||(!L||!L.dataLabel)&&i.marker.dataLabel.visible)){var k,P,j,D,A,O,I,R,M,E,V,N,B,F,z=t,Y=i.type.toLowerCase(),X=new ej.seriesTypes[Y],W=ej.util.isNullOrUndefined,H="pieofpie"==Y?"inside":i.labelPosition.toLowerCase(),U=z.model,$=U.title,G=ej.EjSvgRender.utils._measureText,q=U.elementSpacing,Z=i.marker,Q=Z.dataLabel,K=Q.margin,J=Q.font,ee=Q.connectorLine,te=ee.type.toLowerCase(),ie=U.legend,se=ie.position.toLowerCase(),ae=U.LegendActualBounds,oe=W(a.text)?a.y:a.text,re=Q.enableWrap,le=oe,ne=U._isPieOfPie?r:o,de=0,he=0,ce=U.background.toLowerCase(),ue=Q.enableContrastColor;if(("pyramid"==Y||"funnel"==Y)&&"outsideextended"==H&&(H="inside"),(A=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={text:oe,series:i,pointIndex:s},z._trigger("displayTextRendering",A),D={size:J.size,fontStyle:J.fontStyle,fontFamily:J.fontFamily},E=(O=G(A.data.text,null,D)).width+K.left+K.right,V=O.height+K.top+K.bottom,"pyramid"==Y||"funnel"==Y){var pe=U.title.text?G(U.title.text,e(this.svgObject).width()-U.margin.left-U.margin.right,U.title.font):0,me=z.model.title.subTitle.text?ej.EjSvgRender.utils._measureText(z.model.title.subTitle.text,e(this.svgObject).width()-z.model.margin.left-z.model.margin.right,z.model.title.subTitle.font):0,ge=""===z.model.title.subTitle.text?0:me.height,_e=q+U.margin.left+("left"===se)?ae.Width:0,fe=("top"===se?ae.Height:0)+(U.title.text&&U.title.visible?U._titleLocation.Y+pe.height+ge:U.margin.top+q);E+=10,l={X:a.xLocation+z.pyrX,Y:a.yLocation+z.pyrY},de=a.xLocation,he=a.yLocation,n=a.marker?a.marker:Z,n=e.extend(!0,{},Z,n),j=a.connectorLine,R={positionX:de,positionY:he}}if("pyramid"!=Y&&"funnel"!=Y){var be,ve,xe,ye,we,Se,Ce,Te,Le,ke,Pe,je=-.5*Math.PI,De=a.midAngle+je,Ae=(pe=U.title.text?G(U.title.text,e(this.svgObject).width()-U.margin.left-U.margin.right,U.title.font):0,me=z.model.title.subTitle.text?ej.EjSvgRender.utils._measureText(z.model.title.subTitle.text,e(this.svgObject).width()-z.model.margin.left-z.model.margin.right,z.model.title.subTitle.font):0,ge=""===z.model.title.subTitle.text?0:me.height,U.circularRadius[ne]);xe=W(ee.height)?G(A.data.text,null,J).height:ee.height,(z.model._isPieOfPie?a.actualIndex:i._visiblePoints[s].actualIndex)!=i.explodeIndex&&!i.explodeAll||z.vmlRendering?(ye=U.circleCenterX[ne],we=U.circleCenterY[ne]):(ye=U.circleCenterX[ne]+Math.cos(De)*i.explodeOffset,we=U.circleCenterY[ne]+Math.sin(De)*i.explodeOffset),Se=X.getXCordinate(ye,Ae,De),Se=0!=a.y?Se:parseFloat(Se.toFixed(12)),Ce=X.getYCordinate(we,Ae,De),Te=X.getXCordinate(ye,U.innerRadius[o],De),Le=X.getYCordinate(we,U.innerRadius[o],De),ke=this.getXCordinate(ye,Ae+xe,De),ke=0!=a.y?ke:parseFloat(ke.toFixed(12)),Pe=this.getYCordinate(we,Ae+xe,De),Q.template?P=a.size:(n=a.marker?a.marker:Z,n=e.extend(!0,{},Z,n),k=n.dataLabel.shape,P=G(A.data.text,e(z.svgObject).width(),J),"none"!=k.toLowerCase()&&(P.height=P.height+K.top+K.bottom,P.width=P.width+K.left+K.right)),be={midPoint:{midX:Se,midY:Ce},doughnutMidPoint:{dMidX:Te,dMidY:Le},connector:{connectorX:ke,connectorY:Pe}},ve={startX:ye,startY:we},i._enableSmartLabels?(I=X.updateSmartLabelPosition(i,a,s,be,De,ve,xe,P,t,o),z.model.bounds[o].points[s]&&(d=z.model.bounds[o].points[s].overlap),R={positionX:de=I.positionX,positionY:he=I.positionY,isInterSected:I.isInterSected},j=z.model._isPieOfPie||d?"":I.connectorDirection):(de=(I=X.updateLabelPosition(i,a,s,be,De,ve,xe,P,t,o)).positionX,he=I.positionY,j=I.connectorDirection)}var Oe,Ie="inside"!=H&&"insidenooverlap"!=H||("pyramid"==Y||"funnel"==Y)&&"outside"==H?de<U.circleCenterX[ne]?"end":"start":"middle",Re="inside"==H||"insidenooverlap"==H?0:de<U.circleCenterX[ne]?-O.width:O.width;if(_e=0,fe=0,("pie"==Y||"doughnut"==Y||"pieofpie"==Y)&&"inside"==H&&(Ie=""!=j?de<U.circleCenterX[ne]?"end":"start":"middle"),("pyramid"==Y||"funnel"==Y)&&"outside"==H&&(Ie="start"),ge=""===z.model.title.subTitle.text?0:me.height,this.chartObj&&U.enableCanvasRendering&&("pyramid"==Y||"funnel"==Y)&&(_e=("left"===se?ae.Width:0)+q+U.margin.left,fe=("top"===se?ae.Height:0)+($.text?U._titleLocation.Y+pe.height+ge:U.margin.top+q)),s=z.model._isPieOfPie?a.actualIndex:s,Oe=this.textOption(i,z,O,_e,fe,s,Ie,de,he,o,a),B="array"==jQuery.type(U.pointColors[a.actualIndex])?U.pointColors[a.actualIndex][0].color:U.pointColors[a.actualIndex],B=a.fill?"array"==jQuery.type(a.fill)?a.fill[0].color:a.fill:B,Q.template)l=W(l)?{X:de,Y:he}:l,h=a.actualIndex,X.drawLabelTemplate(i,a,h,l,t),"bezier"==te&&""!=I.bezierPath&&t.svgRenderer.drawPolyline(I.bezierPath,t.gConnectorEle[o]);else{if(e.each(U.symbolShape,(function(t){n=a.marker?a.marker:Z,n=e.extend(!0,{},Z,n),(k=n.dataLabel.shape).toLowerCase()==t.toLowerCase()&&(N=t)})),de=_e+de-K.left/2+K.right/2+Re/2,he=fe+he-K.top/2+K.bottom/2,("pyramid"==Y||"funnel"==Y)&&(a.xPos=R.positionX+_e,a.yPos=R.positionY+fe,a.width="None"==N?O.width:E,a.height="None"==N?O.height:V,a.symbolName=Q.template?"none":N,a.textOptionsacc=Oe,a.drawTextacc=A.data.text),U.enableCanvasRendering&&Oe.degree%360!=0&&(Oe.y-=O.height/4,Oe.baseline="middle"),ue&&!i._enableSmartLabels&&(F="inside"!=H?"transparent"===ce?"white":ce:B,Oe.fill=this._applySaturation(z,F)),i._enableSmartLabels){var Me,Ee,Ve=U.m_AreaBounds.Width+U.m_AreaBounds.X+U.margin.left,Ne=H,Be=U.enableCanvasRendering,Fe="string"==typeof A.data.text?A.data.text:A.data.text.toString(),ze=G(Fe,Fe.length,J).width,Ye=0,Xe=0;ie.visible?("left"==se||"right"==se)&&(Me=ae):Me={Width:0},"pie"==Y||"doughnut"==Y||"pieofpie"==Y?(("outside"==Ne||"outsideextended"==Ne||""!=j)&&(Ee=U.circleCenterX[ne]<Oe.x?Ve-Oe.x+("right"==se?U.margin.right+U.elementSpacing:U.margin.left):"left"==se?Oe.x-U.margin.left-Me.Width:Oe.x+U.margin.left,Fe=this.trimfunction(Fe,Ee,ze,"...",Ve,J),ie.visible&&("top"==se||"bottom"==se)&&(Fe=this._overlapLegend(Oe,Fe,t,o))),"inside"==Ne&&""==j&&(""!=(Fe=this.labelTrim(z,Oe,ze,Fe,ye,we,a,J,o,r))||z.model._isPieOfPie||(a.smartLabelPosition="outside",R={positionX:(I=X.updateSmartLabelPosition(i,a,s,be,De,ve,xe,P,t,o)).positionX,positionY:I.positionY,isInterSected:I.isInterSected},Fe=A.data.text,j=I.connectorDirection,Ie=U.circleCenterX[ne]<I.positionX?"start":"end",Oe=this.textOption(i,z,O,_e,fe,s,Ie,I.positionX,I.positionY,o,a),Ee=U.circleCenterX[ne]<I.positionX?"right"==se?Ve-Oe.x-Me:Ve-Oe.x:"left"==se?Oe.x-Me:Oe.x,Fe=this.trimfunction(Fe,Ee,ze,"...",Ve,J),delete a.smartLabelPosition))):("pyramid"==Y||"funnel"==Y)&&(de=(I=X.updateSmartLabel(t,i,s,a)).xPos,he=I.yPos,j=I.connectorDirection,Oe=I.textOptionsacc,Fe=a.drawTextacc,(""!=j||"bezier"==te)&&""!=Fe&&(Fe=Fe.toString(),(Ee=Be?Ve-Oe.x:Ve-Oe.x-z.pyrX)<ze&&(Fe=this.trimfunction(Fe,Ee,ze,"...",Ve,J)))),c=G(Fe,null,J),"pie"==Y||"doughnut"==Y||"pieofpie"==Y?Re="inside"!=H&&"insidenooverlap"!=H||R.isInterSected||""!=j?de<U.circleCenterX[ne]?-c.width:c.width:0:("pyramid"==Y||"funnel"==Y)&&(Re="insidenooverlap"==a._labelPlacement?0:c.width),"pie"==Y||"doughnut"==Y||"pieofpie"==Y?(de=_e+R.positionX-K.left/2+K.right/2+Re/2,he=fe+R.positionY-K.top/2+K.bottom/2):(de=de-K.left/2+K.right/2+Re/2,he=he-K.top/2+K.bottom/2),u=e("#"+z.svgObject.id+"_dataLabel_series"+o+"_point_"+s),p=e("#"+z.svgObject.id+"_connectorLine_series"+o+"_point_"+s),""!==Fe?(u.show(),p.show(),ue&&(F="inside"!=Ne||""!=I.connectorDirection&&!ej.util.isNullOrUndefined(I.connectorDirection)||""!=I.bezierPath&&!ej.util.isNullOrUndefined(I.bezierPath)?"transparent"===ce?"white":ce:B,Oe.fill=this._applySaturation(z,F)),re||d||X.dataLabelSymbol(o,i,s,de,he,E,V,N,z),"bezier"!=te||""==I.bezierPath||ej.util.isNullOrUndefined(I.bezierPath)||t.svgRenderer.drawPolyline(I.bezierPath,t.gConnectorEle[o])):(u.hide(),p.hide(),j=""),re||d||z.svgRenderer.drawText(Oe,Fe,z.gSeriesTextEle[o]),m=G(Fe,Fe.length,J),G(A.data.text,null,J),("pie"==Y||"doughnut"==Y||"pieofpie"==Y)&&("inside"==Ne&&""==I.connectorDirection?(g=Oe.x-c.width/2,f=Oe.x+c.width/2,_=Oe.y-c.height/2,b=Oe.y+c.height/2):(U.circleCenterX[ne]<Oe.x?(g=Oe.x,f=Oe.x+c.width):(g=Oe.x-c.width,f=Oe.x),_=Oe.y-c.height/2,b=Oe.y+c.height/3),be={centerX:U.circleCenterX[ne],minX:g,minY:_,maxX:f,maxY:b,width:m.width,height:m.height,labelPosition:Ne}),("funnel"==Y||"pyramid"==Y)&&(Ye="left"==se?Ye:0,Xe=0,(""!=j||"bezier"==te)&&(g=Oe.x-Ye,f=Oe.x+c.width-Ye,_=Oe.y-c.height,b=Oe.y),be=Be?{minX:g+Ye,maxX:f+Ye,minY:_+Xe,maxY:b+Xe,width:m.width,height:m.height,labelPosition:Ne}:{minX:g+z.pyrX+Ye,maxX:f+z.pyrX+Ye,minY:_+z.pyrY+Xe,maxY:b+z.pyrY+Xe,width:m.width,height:m.height,labelPosition:Ne}),M={bounds:be,trimmedText:Fe,text:A.data.text,type:Y,font:J},z.accDataLabelRegion.type=Y,z.accDataLabelRegion.connectorDirection=j,ej.util.isNullOrUndefined(z.accDataLabelRegion[ne])&&(z.accDataLabelRegion[ne]=[]),z.accDataLabelRegion[ne].length<i._visiblePoints.length&&z.accDataLabelRegion[ne].push(M),W(a.index)||!i.explode||Be||z.accDataLabelRegion[ne].splice(a.index,1,M),1==r&&z.accDataLabelRegion[ne].length==i._visiblePoints.length&&(z.accDataLabelRegion[o]=e.merge(e.merge([],z.accDataLabelRegion[0]),z.accDataLabelRegion[1]))}else re||d||(X.dataLabelSymbol(o,i,a.index,de,he,E,V,N,z),z.svgRenderer.drawText(Oe,A.data.text,z.gSeriesTextEle[o]));if(re)if(v=G(le,null,D),Fe=(x=this.updateWrappedText(Oe,le,v,a,Y,ye,we,Ae,U.innerRadius[o],H,Q,"bezier"==te?i._enableSmartLabels?W(I.bezierPath)?"":I.bezierPath.points:I.points:j)).text,Oe.x=parseFloat(x.x),Oe.y=parseFloat(x.y),""==Fe||d||(y="start"==Oe["text-anchor"]?parseFloat(Oe.x+x.width/2):W(j)||""==j?parseFloat(Oe.x):parseFloat(Oe.x-x.width/2),X.dataLabelSymbol(o,i,s,y,Oe.y+x.height/2-v.height/2-5,x.width,x.height,N,z)),W(j)||""==j||(("funnel"==Y||"pyramid"==Y)&&(_e=U.enableCanvasRendering?this.chartObj.pyrX:0,fe=U.enableCanvasRendering?this.chartObj.pyrY:0),(w=j.split(" "))[(S="outsideextended"!=H||"pie"!=Y&&"doughnut"!=Y?w.length:w.length-2)-1]=Oe.y-fe+(x.height/2-v.height),w[S-2]=Oe.x-_e,j=w.toString().replace(/,/g," ")),j=0==x.exceed?"":j,!U.enableCanvasRendering&&!this.chartObj.vmlRendering||"object"!=typeof Fe||d)d||z.svgRenderer.drawText(Oe,Fe,z.gSeriesTextEle[o]);else for(var We=0,He=Oe.y,Ue=Oe.x;We<Fe.length;We++)Oe.y=parseFloat(He)+We*O.height,Oe.x=Ue,z.svgRenderer.drawText(Oe,Fe[We],z.gSeriesTextEle[o])}("pyramid"==Y||"funnel"==Y)&&Q.template&&i._enableSmartLabels&&(de=(I=X.updateSmartLabel(t,i,s,a)).xPos,he=I.yPos,j=I.connectorDirection),(C=[])[0]=_e,C[1]=fe,("bezier"!=te||z.vmlRendering||"pyramid"==Y||"funnel"==Y)&&""!=j&&j&&(T={id:z.svgObject.id+"_connectorLine_series"+o+"_point_"+s,stroke:ee.color?ee.color:B,"stroke-width":ee.width,d:j},z.svgRenderer.drawPath(T,z.gConnectorEle[o],C))}},_overlapLegend:function(t,i,s,a){var o=e(s.svgObject).height(),r=e(s.svgObject).width(),l=s.model.LegendActualBounds,n=s.model.elementSpacing,d=s.model.series[a].marker.dataLabel.margin,h=s.model.series[a].marker.dataLabel.shape,c="none"!=h?d.top:0,u="none"!=h?d.bottom:0,p=ej.EjSvgRender.utils._measureText(t).height,m=t.y+p+u,g=t.y-c,_=s.model.legend.position.toLowerCase(),f=s.model.title.subTitle,b=(d=s.model.margin,s.model.border.width),v=""==f.text?0:ej.EjSvgRender.utils._measureText(f.text,r-d.left-d.right,f.font).height+n,x=s.model._titleLocation?s.model._titleLocation.Y:0+v,y=i;return y="bottom"==_?m>o-s.model.LegendActualBounds.Height-n?"":y:g<(0==x?b+n:x+n)+l.Height?"":y,m>o&&(y=""),y},updateWrappedText:function(t,i,s,a,o,r,l,n,d,h,c,u){var p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j=this.chartObj,D=a,A={},O=s.width,I=s.height,R=t.x,M=t.y,E=R,V=!0,N=j.model.m_AreaBounds.X,B=M;if(ej.util.isNullOrUndefined(u)||""==u||("object"==typeof u?(w=u.X,S=u.Y):(x=u.split(" "))[(y="outsideextended"==h||"bezier"==c.connectorLine.type.toLowerCase()?x.length-2:x.length)-1].indexOf(",")>-1?(w=(C=x[y].split(","))[0],S=C[1]):(w=x[y-2],S=x[y-1])),"pie"==o||"doughnut"==o){if("inside"==h){d=ej.util.isNullOrUndefined(d)?0:d;var F=-.5*Math.PI,z=D.startAngle+F,Y=D.endAngle+F,X=D.midAngle+F,W=180/Math.PI*X%360,H=(Math.PI,Math.PI,"doughnut"==o?.75:.5);E=this.getXCordinate(r,n*H,X),B=this.getYCordinate(l,n*H,X);var U=this.getXCordinate(r,n,z),$=this.getYCordinate(l,n,z),G=this.getXCordinate(r,n,Y),q=this.getYCordinate(l,n,Y),Z=this.getXCordinate(r,n,X),Q=this.getYCordinate(l,n,X),K=this.getXCordinate(r,d,X),J=this.getYCordinate(l,d,X),ee=this.getSegementMinMax([U,G,"doughnut"==o?K:r,Z],[$,q,"doughnut"==o?J:l,Q]);ee.width=ee.height>n?ee.height:ee.width,v=.75*ee.width}else if(("outside"==h||"outsideextended"==h)&&("pie"==o||"doughnut"==o)&&""!=u){j.model.m_AreaBounds;var te=N,ie=j.svgWidth-N;v=w<=r?w-te:ie-w,E=w,B=S}}else if(T=j.svgWidth,"outside"==h)v=T-w;else if(v=D.width,!j.isPointInPolygon(D.Polygon,{x:E+O,y:B})){v="funnel"==o?D.Polygon[3].x-D.Polygon[4].x:D.Polygon[1].x-D.Polygon[0].x,b=D.Polygon[3].y-D.Polygon[0].y;var se=Math.round(O/v)*I;(V=se>=b-10||v<=50)?v=T-E-N:(t["text-anchor"]="middle",E=("funnel"==o?D.Polygon[4].x:D.Polygon[0].x)+v/2+(j.model.enableCanvasRendering?j.pyrX:0),B=(D.Polygon[0].y+D.Polygon[3].y)/2-se/2+(j.model.enableCanvasRendering?j.pyrY:0),D._labelPlacement="insidenooverlap")}if("inside"!=h&&""==u&&ej.util.isNullOrUndefined(u))_="";else{for(p=null!=c.maximumLabelWidth?c.maximumLabelWidth:parseFloat(v),_=i,m=j._rowsCalculation({text:_.toString(),font:c.font},p,void 0),_=m.textCollection,f=e.extend([],_),L=0;L<f.length-1;L++)f[L+1]=f[L].concat("<br/>",f[L+1]);f=f[f.length-1]}return(k=ej.EjSvgRender.utils._measureText(f,v,c.font)).height+=I/2,("pie"==o||"doughnut"==o)&&"inside"==h&&(B=B-k.height/2+I/2,_=k.height>ee.height?"":_,""==(_=k.width>ee.width?"":_)&&(k.width=0,k.height=0)),A="undefined"==this.currentBoundary?"undefined":this.currentBoundary,this.currentBoundary={X:E-k.width/2,Y:parseFloat(B),Height:k.height,Width:k.width},A&&"insidenooverlap"!=D._labelPlacement?(P=this.checkOverlapping(j,this.currentBoundary,A,o,_,g,W,h,{startAngle:z,endAngle:Y,radius:n,centerX:r,centerY:l}))[1]&&""!=P[2]?(E=(A=P[0]).X+A.Width/2,B=A.Y,_=P[2],k.height=P[0].Height,k.width=P[0].Width):_=P[2]:g=this.currentBoundary,V=""!=_&&V,this.currentBoundary=""==_?A:this.currentBoundary,{text:_,x:E,y:B,exceed:V,height:k.height,width:k.width}},checkOverlapping:function(e,t,i,s,a,o,r,l,n){var d,h,c,u,p=!1;return p=(d=this.getOverlapArea(t,i)).overlap,h=d.xOverlap,c=d.yOverlap,p&&("pie"==s||"doughnut"==s?"inside"==l.toLowerCase()?"X"==(h>=c?"Y":"X")?(u=r>0&&r<180?-1:1,t.X+=u*(h+10)):(u=r>90&&r<270?-1:1,t.Y+=u*(c+10)):t.Y-=c+10:t.Y="funnel"==s?i.Y-t.Height-10:i.Y+i.Height+10),"pie"!=s&&"doughnut"!=s&&"pieofpie"!=s||"inside"!=l.toLowerCase()?"funnel"==s?t.Y+t.Height>=i.Y&&(a=""):"pyramid"==s&&t.Y+t.Height<=i.Y+i.Height&&(a=""):(a=1==(d=this.getOverlapArea(t,o)).overlap?"":a,p=1==d.overlap||p,a=this.checkSegmentExceeding(t,n)?a:""),e.model.m_AreaBounds,[{X:t.X,Y:t.Y,Height:t.Height,Width:t.Width},p,a]},getOverlapArea:function(e,t){var i=Math.max(0,Math.min(e.X+e.Width,t.X+t.Width)-Math.max(e.X,t.X)),s=Math.max(0,Math.min(e.Y+e.Height,t.Y+t.Height)-Math.max(e.Y,t.Y));return{overlap:i*s>0,xOverlap:i,yOverlap:s}},getSegementMinMax:function(e,t){var i,s,a,o;return e.sort((function(e,t){return e-t})),t.sort((function(e,t){return e-t})),{minX:i=e[0],maxX:s=e[3],minY:a=t[0],maxY:o=t[3],width:s-i,height:o-a}},checkSegmentExceeding:function(e,t){var i,s=!1,a=e.X+e.Width/2,o=e.Y+e.Height/2,r=a-t.centerX,l=o-t.centerY,n=Math.atan2(l,r);return Math.abs(Math.sqrt(r*r+l*l))<=t.radius&&(i=2*Math.PI,n=n<0?i+n:n,t.startAngle=t.startAngle<0?i+t.startAngle:t.startAngle,t.endAngle=t.endAngle<0?i+t.endAngle:t.endAngle,(n<=t.endAngle&&n>=t.startAngle||n<=i&&n>=t.startAngle&&t.endAngle<t.startAngle||n>0&&n<=t.endAngle&&t.startAngle>t.endAngle)&&(s=!0)),s},drawBezierSegment:function(e,t,i,s,a){for(var o,r,l,n=ej.EjSvgRender.utils._getStringBuilder(),d=new(ej.seriesTypes[t.type.toLowerCase()]),h=0;h<=16;h++)o=h/16,r=d.GetBezierPoint(o,e,0,e.length,t),n.append(r.X+","+r.Y+" ");if(l={id:s.svgObject.id+"_bezierLine_series"+a+"_point"+i,stroke:t.marker.dataLabel.connectorLine.color?t.marker.dataLabel.connectorLine.color:s.model.pointColors[i],"stroke-width":t.marker.dataLabel.connectorLine.width,fill:"none",points:n.toString()},t._enableSmartLabels)return l;s.svgRenderer.drawPolyline(l,s.gConnectorEle)},GetBezierPoint:function(e,t,i,s,a){var o=new(ej.seriesTypes[a.type.toLowerCase()]);if(1==s)return t[i];var r=o.GetBezierPoint(e,t,i,s-1,a),l=o.GetBezierPoint(e,t,i+1,s-1,a),n=r.X?r.X:r.x,d=r.Y?r.Y:r.y,h=(1-e)*n+e*(l.X?l.X:l.x),c=(1-e)*d+e*(l.Y?l.Y:l.y);return r.x?{x:h,y:c}:{X:h,Y:c}},drawLabelTemplate:function(t,i,s,a,o){var r,l,n,d,h,c,u,p,m,g,_,f;o&&(this.chartObj=o);var b,v,x,y=this.chartObj.model.m_AreaBounds.X,w=this.chartObj.model.m_AreaBounds.Y,S=this.chartObj.model.m_AreaBounds.Width,C=this.chartObj.model.m_AreaBounds.Height,T=e.inArray(t,this.chartObj.model._visibleSeries),L=this.chartObj.model.AreaType,k=this.chartObj.model.series[T],P=0,j=0,D=this.chartObj._id,A=e.extend(!0,{},t.marker,i.marker),O={interior:A.dataLabel.fill,opacity:A.dataLabel.opacity,borderColor:A.dataLabel.border.color,borderWidth:A.dataLabel.border.width};if(this.chartObj.model.chartRegions[s]&&this.chartObj.model.chartRegions[s].type,"none"!=L||this.chartObj.model.enable3D){if((r=0!=e("#template_group_"+D).length?e("#template_group_"+D):e("<div></div>").attr("id","template_group_"+D)).css("position","relative").css("z-index",1e3),0==e("#"+A.dataLabel.template).length)return;l=e("#"+A.dataLabel.template).clone(),e(l).attr("id",A.dataLabel.template+"_"+T+"_"+s+"_"+D),(n=e(l)).css("position","absolute"),d=i.x,i.dataLabeltemplate=!0,i.id=A.dataLabel.template+"_"+T+"_"+s+"_"+D,t.xAxis._valueType.indexOf("datetime")>-1&&(i.x=ej.format(new Date(i.xValue),ej.util.isNullOrUndefined(t.xAxis.labelFormat)?"datetime"==t.xAxis._valueType?ej.EjSvgRender.utils._dateTimeLabelFormat(t.xAxis._intervalType,t.xAxis):ej.EjSvgRender.utils._dateTimeLabelFormat(t.xAxis.intervalType,t.xAxis):t.xAxis.labelFormat,this.chartObj.model.locale)),"category"==t.xAxis._valueType.toLowerCase()&&(i.x=ej.EjSvgRender.utils._getLabelContent(s,t.xAxis,this.chartObj.model.locale)),i.count=1,h={series:t,point:i},n.html(n.html().parseTemplate(h)),i.x=d,c="cartesianaxes"!=L&&t.enableAnimation&&"pyramid"!=t.type.toLowerCase()&&"funnel"!=t.type.toLowerCase()?"none":"block",n.css("display",c).appendTo(e(r)),e(r).appendTo("#chartContainer_"+D),u=this.chartObj.model.m_AreaBounds,"cartesianaxes"!=L||this.chartObj.model.enable3D||(P=u.X+(this.chartObj.model.requireInvertedAxes?k.yAxis.plotOffset:k.xAxis.plotOffset),j=k.yAxis.y),v=n.width()/2,x=n.height(),b=ej.util.isNullOrUndefined(O)&&O.interior?O.interior:"none"==L?this.chartObj.model.pointColors[s]:this.chartObj.model.seriesColors[T]}else b=ej.util.isNullOrUndefined(O)&&O.interior?O.interior:this.chartObj.model.pointColors[s],v=this.chartObj.model.circleCenterX[T]>a.X?i.size.width:0,n=e("#template_group_"+D).find("#"+A.dataLabel.template+"_"+T+"_"+s+"_"+D),i.id=A.dataLabel.template+"_"+T+"_"+s+"_"+D,x=this.chartObj.model.enable3D?0:i.size.height/2;if(("hilo"==k.type||"hiloopenclose"==k.type||"candle"==k.type)&&(b=k._visiblePoints[s]._hiloFill),b="array"==jQuery.type(b)?b[0].color:b,-1!=k.type.indexOf("bar"))var I=a.X+P-v,R=a.Y+(this.chartObj.model.enable3D?0:u.Y)-x+k.xAxis.plotOffset,M=a.X+P+v;else I=a.X+P-v,R=j+a.Y-x,M=a.X+P+v;p=n[0].style.backgroundColor,n.css("left",I).css("top",R).css("background-color",""!=p?p:b).css("display","block").css("cursor","default"),"cartesianaxes"!=this.chartObj.model.AreaType?(i.xPos=I-this.chartObj.pyrX,i.yPos=R-this.chartObj.pyrY,i.textOptionsacc={x:I-this.chartObj.pyrX,y:R-this.chartObj.pyrY}):i.y==i.low?(i.xPosLow=I,i.yPosLow=R,i.textOptionsLow={x:I,y:R},i.dataLabelLow={textX:I,textY:R,x:I,y:R}):(i.xPos=I,i.yPos=R,i.seriesIndex=T,i.textOptions={x:I,y:R},i.dataLabel={textX:I,textY:R,x:I,y:R},i.margin={top:0,bottom:0,left:0,right:0}),i.height=n.outerHeight(),i.width=n.outerWidth(),m=g=_=0,f=0,"cartesianaxes"==L&&(I>P+u.Width||R+x>u.Y+u.Height||I<P||R<j||I>P+u.Width||R>j+u.Height||M>u.Width+u.X)&&(I<y&&(g=y-I),C+w<R+x&&(f=x-(R+x-(C+w))),R<w&&(m=w-R),S+y<I+(v=n.outerWidth())&&(_=v-(I+v-(S+y))),_=0==_?v:_,f=0==f?x:f,k.marker.dataLabel.showEdgeLabels||(document.getElementById(n[0].id).style.clip="rect("+m+"px,"+_+"px,"+f+"px,"+g+"px)"))},animateLabelTemplate:function(t){for(var i,s=e.inArray(t,this.chartObj.model._visibleSeries),a=t._visiblePoints.length,o=0;o<a;o++)i=t.marker.dataLabel.template+"_"+s+"_"+o+"_"+this.chartObj._id,(i=e("#"+i)).css("display","none"),i.delay(1e3).fadeIn(300)},textPosition:function(t,i,s,a,o,r,l,n,d,h,c){var u,p,m,g,_,f,b=e.extend(!0,{},t.marker,s.marker).dataLabel,v=b.isReversed,x=b.horizontalTextAlignment.toLowerCase(),y=b.verticalTextAlignment.toLowerCase(),w=(t._visiblePoints.length,n),S=10,C=b.margin,T=t.yAxis.isInversed,L=this.chartObj._getXCrossValue(t,t.xAxis,h),k=-1!=o.indexOf("bar")||-1!=o.indexOf("column")&&"rangecolumn"!=o?this.chartObj.model.requireInvertedAxes?"bar":"column":o;if("column"==k||"stackingcolumn"==k||"stackingcolumn100"==k)R=this.chartObj.model.chartRegions[w].Region.Bounds,j=h.axes[t.xAxis.name]._validCross||!1,D=R.Height,P=R.Width,j?(p=Math.abs((T?t.yAxis.visibleRange.min:t.yAxis.visibleRange.max)-L)/t.yAxis.visibleRange.delta*t.yAxis.height,"bottom"==c?l=l<=p?l+D-C.bottom:l-D+a.height-C.bottom:"middle"==c?l<p?l+=D/2+a.height/4:l-=D/2:l<p&&T||l<p&&!T?l-=S+a.height/1:l+=S+a.height/1):"bottom"==c?l=s.y>=L&&!t.yAxis.isInversed||s.y<L&&t.yAxis.isInversed?l+D-C.bottom:a.height+C.bottom:"middle"==c?s.y>L&&!t.yAxis.isInversed||s.y<L&&t.yAxis.isInversed?l+=D/2+a.height/4:l-=D/2:s.y>L&&t.yAxis.isInversed||s.y<L&&!t.yAxis.isInversed?l+=S:l=(l-=S)<0?this.chartObj.model.m_AreaBounds.Y+3:l,x&&"far"==x?r=v?r-P/2:r+P/2:x&&"near"==x&&(r=v?r+P/2:r-P/2),y&&"near"==y?l+="bottom"==c?S:7:y&&"far"==y&&(l-=S);else if(-1!=k.indexOf("bar")){var P=(R=this.chartObj.model.chartRegions[w].Region.Bounds).Width,j=h.axes[t.xAxis.name]._validCross||!1,D=R.Height;if(l+=a.height/4,j?(u=t.xAxis._crossValue||0,p=Math.abs(T?t.yAxis.visibleRange.max:t.yAxis.visibleRange.min-u)/t.yAxis.visibleRange.delta*t.yAxis.width,"bottom"==c?r=r<p&&!T||r>=p&&T?r+P-a.width:r-P+C.left:"middle"==c?r=r<p&&!T||r>=p&&T?r+P/2-a.width/2:r-P/2-a.width/2:r<p&&!T||r>=p&&T?r-=S+a.width/1:r+=S+a.width/1):"bottom"==c?s.y>=0&&!t.yAxis.isInversed||s.y<0&&t.yAxis.isInversed?r=-1==k.indexOf("stacking")&&i>0?r-P+a.width/2:C.left+a.width/4:r+=P-a.height-C.right:"middle"==c?s.y>0&&!t.yAxis.isInversed||s.y<0&&t.yAxis.isInversed?r-=P/2+a.width/2:r+=P/2:s.y>=0&&!t.yAxis.isInversed||s.y<0&&t.yAxis.isInversed?r+=a.width/4+S:r-=a.width/4+S,x&&"far"==x)r+="bottom"==c?a.width-a.width/4:a.width/4+S;else if(x&&"near"==x)r-="bottom"==c?a.width/4:S-a.width/4-3;else{r+=a.width/4;var A=this.chartObj.model.m_AreaBounds.Width+this.chartObj.model.m_AreaBounds.X,O=R.X+R.Width,I=A-O;r+a.width>A&&(r=(E=I>a.width?A:O)-a.width-10,s.isCrop=!0)}y&&"near"==y?l+=D/2:y&&"far"==y&&(l-=D/2)}else if("rangecolumn"==k){var R=this.chartObj.model.chartRegions[w].Region.Bounds,M=0,E=0;s.high!=s.y&&(M=R.Height,E=R.Width),this.chartObj.model.requireInvertedAxes?"top"==c?r=r-E+(S+a.width/1):"bottom"==c?r=r-E-(2*a.width+S):"middle"==c&&(r-=E):"top"==c?l+=M-S:"bottom"==c?l=l+M+(2*a.height+S):"middle"==c&&(l+=M),x&&"far"==x.toLowerCase()?r+=R.Width/2:x&&"near"==x.toLowerCase()&&(r-=R.Width/2),y&&"near"==y.toLowerCase()?l+=7:y&&"far"==y.toLowerCase()&&(l-=S)}else if("boxandwhisker"==k)R=this.chartObj.model.chartRegions[w].Region.Bounds,M=0,E=0,this.chartObj.model.requireInvertedAxes?"top"==c?r=r-E+(S+a.width/1):"bottom"==c?r=r-E-(2*a.width+S):"middle"==c&&(r-=E):"top"==c?l+=M-3:"bottom"==c?l+=M+S+a.width/2:"middle"==c&&(l+=M+S),x&&"far"==x.toLowerCase()?r+=2*a.width:x&&"near"==x.toLowerCase()&&(r-=2*a.width),y&&"near"==y.toLowerCase()?l="top"==c?l+S:l-S:y&&"far"==y.toLowerCase()&&(l="top"==c?l-S:l+S);else if("waterfall"==o){D=(R=this.chartObj.model.chartRegions[w].Region.Bounds).Height,P=R.Width;var V=s.waterfallSum<0||!s.showIntermediateSum&&!s.showTotalSum&&s.y<0;switch(c){case"bottom":t.isTransposed?r=t.yAxis.isInversed?r+P-(S+a.height/1)-(V?P:0):r-P+(S+a.height/1)+(V?P:0):l=t.yAxis.isInversed?l-a.height+C.bottom+(V?D:0):l+D-C.bottom-(V?D:0);break;case"middle":t.isTransposed?r=t.yAxis.isInversed?r+P/2-(V?P:0):r-(P/2+a.width/4)+(V?P:0):l=t.yAxis.isInversed?l-D/2+(V?D:0):l+(D/2+a.height/4)-(V?D:0);break;default:t.isTransposed?r=t.yAxis.isInversed?r-(S+a.height/1)-(V?P:0):r+(S+a.height/1)+(V?P:0):l=t.yAxis.isInversed?l+(S+a.height/1)+(V?D:0):l-(S+a.height/1)-(V?D:0)}x&&"far"==x?r+=P/2:x&&"near"==x&&(r-=P/2),y&&"near"==y?l+="bottom"==c?a.height/3:a.height+S:y&&"far"==y&&(l-="bottom"==c?a.height/3:S+a.height/2)}else if("polar"==o||"radar"==o)l+=a.height/4,"bottom"==c?l+=a.height:"top"==c&&(l-=a.height),x&&"far"==x?r+=a.width:x&&"near"==x&&(r-=a.width),y&&"near"==y?l+=a.height/2:y&&"far"==y&&(l-=a.height/2);else{if(("rangearea"==k||"splinerangearea"==k)&&s.high!=s.y)if(1==this.chartObj.model.series.length)f=this.chartObj.model.chartRegions[i][d].region.length,l=this.chartObj.model.chartRegions[i][d].region[f-1].Y,r=this.chartObj.model.chartRegions[i][d].region[f-1].X;else{for(m=0,g=0;g<i;g++)m="rangearea"!=(_=this.chartObj.model.series[g].type)&&"splinerangearea"!=_?m+this.chartObj.model.series[g].points.length:m+1,"hidden"==this.chartObj.model.series[g].visibility&&(m=0);f=this.chartObj.model.chartRegions[m][d].region.length,l=this.chartObj.model.chartRegions[m][d].region[f-1].Y,r=this.chartObj.model.chartRegions[m][d].region[f-1].X}this.chartObj.model.requireInvertedAxes?"top"==c?r+=S:"bottom"==c&&(r-=S+a.width/1):"bottom"==c?l+=b.showEdgeLabels?2*a.height-S:2*a.height+S:"top"==c&&(l-=S),x&&"far"==x?r+=a.width+S:x&&"near"==x&&(r-=a.width+S),y&&"near"==y?l+=7:y&&"far"==y?l-=S:("bubble"==o||"scatter"==o)&&"middle"==c&&(l+=a.height/4)}return{x:r,y:l}},changeCrossHairSymbol:function(t,i,s,a,o){var r,l,n,d,h=o.drawType;return ej.util.isNullOrUndefined(i)||(r={},t=e.extend(!0,{},o.marker,t),r=e.extend(!0,{},this.chartObj.model.crosshair.marker,r),l=o.points[s],n=o.type.toLowerCase(),ej.util.isNullOrUndefined(r.shape)&&(r.shape=t.shape,"bubble"==n&&(r.border.color=l.border&&l.border.color?l.border.color:o.border.color,r.border.width=l.border&&l.border.width?l.border.width:o.border.width)),(!this.chartObj.model.crosshair.visible||ej.util.isNullOrUndefined(r.fill))&&"bubble"!=o.type.toLowerCase()&&"scatter"!=o.type.toLowerCase()&&"scatter"!=h&&(r.fill="cross"==r.shape.toLowerCase()||"horizline"==r.shape.toLowerCase()||"vertline"==r.shape.toLowerCase()?"array"==jQuery.type(this.chartObj.model.seriesColors[a])?this.chartObj.model.seriesColors[a][0].color:this.chartObj.model.seriesColors[a]:t.border.color),"bubble"!=o.type.toLowerCase()||this.chartObj.model.enableCanvasRendering?(r.size.width<=t.size.width&&(r.size.width=t.size.width+2),r.size.height<=t.size.height&&(r.size.height=t.size.height+2),(ej.util.isNullOrUndefined(r.border.color)||!this.chartObj.model.crosshair.visible)&&(ej.util.isNullOrUndefined(t.fill)?"scatter"==n?(r.border.color=l.border&&l.border.color?l.border.color:o.border.color,r.border.width=l.border&&l.border.width?l.border.width:o.border.width):r.border.color=l.fill?l.fill:"array"==jQuery.type(this.chartObj.model.seriesColors[a])?this.chartObj.model.seriesColors[a][0].color:this.chartObj.model.seriesColors[a]:r.border.color="array"==jQuery.type(t.fill)?t.fill._gradientStop[0].color:t.fill)):(d=e(this.chartObj.gSeriesEle).find("#"+this.chartObj.svgObject.id+"_Series"+a+"_Point"+s)[0].getBoundingClientRect(),r.size.width=(d.right-d.left)/2+15,r.size.height=(d.bottom-d.top)/2+15)),o._trackMarker=r,r},dataLabelSymbol:function(t,i,s,a,o,r,l,n,d,h){var c,u,p,m=d;if("None"!=n){c=m.model._isPieOfPie?ej.ejChart._getPieOfPiePoint(s,i):i._visiblePoints[s],u={startX:a,startY:o},d.model.enable3D||(p=h||m.gDataLabelEle[t]),p=m.model.enableCanvasRendering?null:p;var g=e.extend(!0,{},i.marker,c.marker),_={style:{interior:g.dataLabel.fill,opacity:g.dataLabel.opacity,borderColor:g.dataLabel.border.color,borderWidth:g.dataLabel.border.width},gradientName:"symbol",symbolEle:p,width:r,height:l,point:c,location:u,seriesIndex:t,pointIndex:s,element:g,symbolName:n,id:m.svgObject.id+"_dataLabel_series"+t+"_"+s};this.drawSymbolStyle(_,m)}},drawSymbolStyle:function(t,i){var s,a,o,r,l,n,d,h,c=i,u=t.style,p=t.gradientName,m=t.symbolEle,g=t.width,_=(t.dashArray,t.height),f=t.point,b=t.location,v=t.seriesIndex,x=t.visibility,y=t.pointIndex,w=t.element,S=t.symbolName,C=t.trackSymbol,T=c.model.enableCanvasRendering,L="polaraxes"==c.model.AreaType,k=c.model.series[v];if(null!=u&&(""!=u.borderColor&&(s=u.borderColor?u.borderColor:"transparent"),o=u.opacity,a=u.borderWidth<0?0:u.borderWidth),r=null,u.interior?r=ej.util.isNullOrUndefined(u.interior._gradientStop)?u.interior:u.interior._gradientStop:f.fill?r="array"==jQuery.type(f.fill)?f.fill[0].color:f.fill:(l=c.model.pointColors,r="none"!=c.model.AreaType?"waterfall"==k.type.toLowerCase()&&k.positiveFill&&(f.y>0||f.waterfallSum>0)?k.positiveFill:c.model.seriesColors[v]:"array"==jQuery.type(l[y])?l[y][0].color:l[y]),c.symbolColorName=c.svgRenderer.createGradientElement(p+v,r,0,0,0,e(c.svgObject).height(),m),n={dashArray:t.dashArray,ShapeSize:{width:g,height:_},Style:{BorderColor:s,BorderWidth:a,Opacity:o,Visibility:x,Color:c.symbolColorName},PointIndex:y,SeriesIndex:v,Imageurl:w.imageUrl,Image:w.image,ID:t.id},(d=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={location:b,style:n},c._trigger("symbolRendering",d),!d.cancel)if(T)b.startY=c.model.requireInvertedAxes?b.startY:b.startY+(k.yAxis.y?k.yAxis.y-c.canvasY:0),b.startX=c.model.requireInvertedAxes?b.startX:b.startX+(k.xAxis.x?k.xAxis.x-c.canvasX:0),d.data.location.startY=b.startY,ej.util.isNullOrUndefined(C)?"cartesianaxes"==c.model.AreaType?(m=c.svgRenderer.ctx,c.svgRenderer.ctx.save(),c.svgRenderer.ctx.beginPath(),c.model.requireInvertedAxes?c.svgRenderer.ctx.rect(k.yAxis.x,k.xAxis.y,k.yAxis.width,k.xAxis.height):c.svgRenderer.ctx.rect(k.xAxis.x,k.yAxis.y,k.xAxis.width,k.yAxis.height),c.svgRenderer.ctx.clip(),"hidden"!=t.visibility&&ej.EjSvgRender.chartSymbol["_draw"+S](d.data.location,d.data.style,c,m),c.svgRenderer.ctx.restore()):(T&&L&&(c.svgRenderer.ctx.save(),c.svgRenderer.ctx.beginPath(),c.svgRenderer.ctx.arc(c.model.centerX,c.model.centerY,c.model.Radius,0,2*Math.PI,!1),c.svgRenderer.ctx.clip()),ej.EjSvgRender.chartSymbol["_draw"+S](d.data.location,d.data.style,c,m),T&&L&&c.svgRenderer.ctx.restore()):(P=d.data.style.PointIndex,j=d.data.style.SeriesIndex,c.model.series[j].highlightSettings.enable||0==e("#"+c._id+"_selection_"+j+"_"+P+"_canvas").length&&c.svgRenderer.trackSymbol(d.data.style,d.data.location,S,C,c));else{var P=d.data.style.PointIndex,j=d.data.style.SeriesIndex,D=k.type;k.highlightSettings.enable&&C&&!c.model.crosshair.visible?(u=e.extend(!0,d.data.style),h=k.highlightSettings,u.Style.Color="none"==h.pattern.toLowerCase()||""==h.pattern?""!=h.color?h.color:u.Style.Color:"url(#"+h.pattern.toLowerCase()+"_Highlight_2D_"+j+")",u.Style.Opacity=h.opacity,u.Style.BorderColor=h.border.color,u.Style.BorderWidth=h.border.width,("bubble"==D?e("#"+this.chartObj.svgObject.id+"_Series"+j+"_Point"+P).attr("class"):e("#"+this.chartObj.svgObject.id+"_Series"+j+"_Point"+P+"_symbol").attr("class"))!="SelectionStyleseries"+j&&ej.EjSvgRender.chartSymbol["_draw"+S](d.data.location,u,c,c.model.enable3D?i.chart3D:m)):("scatter"==D?e("#"+c.svgObject.id+"_Series"+j+"_Point"+P+"_symbol").attr("class"):e("#"+c.svgObject.id+"_Series"+j+"_Point"+P).attr("class"))!="SelectionStyleseries"+j&&ej.EjSvgRender.chartSymbol["_draw"+S](d.data.location,d.data.style,c,c.model.enable3D?i.chart3D:m)}!i.chart3D&&"pieofpie"!=D&&"none"==c.model.AreaType&&e(m).children().not("defs").length>c.model._visibleSeries[v]._visiblePoints.length&&e(m.childNodes[t.pointIndex]).replaceWith(e(m.childNodes[e(m.childNodes).length-1]))},drawSymbol:function(t,i,s,a,o,r,l,n){var d,h,c,u,p,m,g,_,f;i.drawType,ej.util.isNullOrUndefined(this.chartObj)&&(this.chartObj=r);var b=i._visiblePoints[s],v=i.type.toLowerCase(),x="boxandwhisker"==v?n:s,y="bubble"==v||"scatter"==v?i.border.dashArray:"",w="None",S=this.changeCrossHairSymbol(b.marker?b.marker:i.marker,l,s,t,i);if(d="boxandwhisker"==v.toLowerCase()?S||e.extend(!0,{},i.outlierSettings,b.outlierSettings,i.border,b.border):S||e.extend(!0,{},i.marker,b.marker),e.each(this.chartObj.model.symbolShape,(function(e){d.shape.toLowerCase()==e.toLowerCase()&&(w=e)})),"None"!=w){h="cartesianaxes"==this.chartObj.model.AreaType?{startX:a+this.chartObj.canvasX,startY:o+this.chartObj.canvasY}:{startX:a,startY:o},"scatter"==v||"scatter"==i.drawType?(c=b.border&&b.border.color?b.border.color:i.border.color,u=b.border&&b.border.width?b.border.width:i.border.width,p={interior:d.fill,opacity:d.opacity,borderColor:c,borderWidth:u}):"boxandwhisker"==v?(c=b.border&&b.border.color?"transparent"==b.border.color?this.chartObj._saturationColor(i.fill,-.6):b.border.color:"transparent"==i.border.color?this.chartObj._saturationColor(i.fill,-.6):i.border.color,u=b.border&&b.border.width?b.border.width:i.border.width,p={interior:i.fill,opacity:i.opacity,borderColor:c,borderWidth:u}):p={interior:d.fill,opacity:d.opacity,borderColor:d.border.color,borderWidth:d.border.width};var C=l?this.chartObj.gTrackerEle:this.chartObj.gSymbolGroupEle[t],T=l?this.chartObj.svgObject.id+"_trackSymbol_"+t+"_"+x:this.chartObj.svgObject.id+"_Series"+t+"_Point"+x+"_symbol",L=l?"TrackSymbol":"symbol",k=d.size.width,P=d.size.height,j={style:p,gradientName:L,symbolEle:C,width:k,height:P,point:b,location:h,seriesIndex:t,pointIndex:s,element:d,visibility:b.visible?"visible":"hidden",symbolName:w,trackSymbol:l,id:T,dashArray:y};this.chartObj.model.enableCanvasRendering||(m=this.chartObj.gSymbolGroupEle[t].childNodes[s]),ej.util.isNullOrUndefined(m)||"image"!=w.toLowerCase()?this.drawSymbolStyle(j,this.chartObj,l):(m.setAttribute("width",k),m.setAttribute("height",P)),"scatter"==i.type.toLowerCase()&&(g=i.xAxis.x,_=i.yAxis.y,this.chartObj.model.enableCanvasRendering&&(g=0,_=0),f={X:g+h.startX-P/2,Y:_+h.startY-k/2,Height:P,Width:k},ej.EjSvgRender.utils._addRegion(this.chartObj,f,i,null,s))}},chartAreaType:"cartesianAxes",requireInvertedAxes:!1,stackingSeries:!1,hiloTypes:!1},ej.ejLineSeries=t(ej.EjSeriesRender),ej.seriesTypes.line=ej.ejLineSeries,ej.ejStepLineSeries=t(ej.EjSeriesRender,{draw:function(e,t){var i,s,a=this.chartObj=e;t._animationType="path";var o=ej.EjSvgRender.utils._getStringBuilder(),r=t,l=this.setLineSeriesStyle(r);r.sorting&&(r.points=ej.DataManager(r.points,ej.Query().sortBy("xValue")).executeLocal());var n,d,h,c,u,p=t._visiblePoints=r.points.length>100||!r.enableSmartLabels?this.improveChartPerformance(r):this._isVisiblePoints(r),m=null,g="M",_=-1;for(s=0;s<p.length;s++)(n=p[s]).visible?(null!=m&&(p.length>_+1&&(d={xValue:p[_+1].xValue,YValues:[m.YValues[0]]},h=ej.EjSvgRender.utils._getPoint(m,r),c=ej.EjSvgRender.utils._getPoint(d,r),u=ej.EjSvgRender.utils._getPoint(p[_+1],r),a=this.chartObj,o.append(g+" "+(h.X+a.canvasX)+" "+(h.Y+a.canvasY)+" L "+(c.X+a.canvasX)+" "+(c.Y+a.canvasY)+" L "+(u.X+a.canvasX)+" "+(u.Y+a.canvasY)+" ")),g="L"),m=n,_=s):(m=null,g="M");i=o.toString(),this._drawLinePath(r,l,i),this.chartObj.dragPoint?this.chartObj.svgRenderer.append(this.chartObj.gPreviewSeriesGroupEle,this.chartObj.gSeriesEle):this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)}}),ej.ejStepAreaSeries=t(ej.EjSeriesRender,{draw:function(e,t,i){var s,a,o,r,l,n;this.chartObj=e,t._animationType="path";var d,h=this.chartObj.model.requireInvertedAxes,c=ej.EjSvgRender.utils._getStringBuilder(),u=t,p=this.setAreaSeriesStyle(u);u.sorting&&(u.points=ej.DataManager(u.points,ej.Query().sortBy("xValue")).executeLocal());var m,g=t._visiblePoints=u.points.length>100||!u.enableSmartLabels?this.improveChartPerformance(u):this._calculateVisiblePoints(u).visiblePoints,_=0,f=null;"category"==u.xAxis._valueType.toLowerCase()&&"onticks"!=u.xAxis.labelPlacement.toLowerCase()&&(_=.5);var b=ej.EjSeriesRender.prototype.getOrigin(this,u,i),v=null,x=!0,y=this.chartObj;for(s=0;s<=g.length;s++)s<g.length?g[s].visible?(m={xValue:g[s].xValue-_,YValues:[g[s].y]},n=ej.EjSvgRender.utils._getPoint(m,u),v||(v={xValue:g[s].xValue-_,YValues:[b]},a=ej.EjSvgRender.utils._getPoint(v,u),c.append("M "+(a.X+y.canvasX)+" "+(a.Y+y.canvasY)+" ")),null!=f&&(o={xValue:m.xValue,YValues:[f.YValues[0]]},r=ej.EjSvgRender.utils._getPoint(o,u),x&&(c.append("L "+(l.X+y.canvasX)+" "+(l.Y+y.canvasY)+" "),x=!1),c.append("L "+(r.X+y.canvasX)+" "+(r.Y+y.canvasY)+" L "+(n.X+y.canvasX)+" "+(n.Y+y.canvasY)+" "),(0==_&&s==g.length-1||s<g.length-1&&!g[s+1].visible)&&(_>0?(m={xValue:g[s].xValue+_,YValues:[g[s].y]},n=ej.EjSvgRender.utils._getPoint(m,u),h?c.append("L "+(n.X+y.canvasX)+" "+(n.Y+y.canvasY)+" L "+(n.Y+y.canvasX)+" "+(a.X+y.canvasY)+" "):c.append("L "+(n.X+y.canvasX)+" "+(n.Y+y.canvasY)+" L "+(n.X+y.canvasX)+" "+(a.Y+y.canvasY)+" ")):h?c.append("L "+(a.X+y.canvasY)+" "+(n.Y+y.canvasX)+" "):c.append("L "+(n.X+y.canvasX)+" "+(a.Y+y.canvasY)+" "),v=null,f=null,x=!0)),v&&(l=n,f=m)):(v=null,f=null,x=!0):g[s-1].visible&&_>0&&(m={xValue:g[s-1].xValue+_,YValues:[g[s-1].y]},n=ej.EjSvgRender.utils._getPoint(m,u),h?c.append("L "+(n.X+y.canvasX)+" "+(n.Y+y.canvasY)+" L "+(n.Y+y.canvasX)+" "+(a.X+y.canvasY)+" "):c.append("L "+(n.X+y.canvasX)+" "+(n.Y+y.canvasY)+" L "+(n.X+y.canvasX)+" "+(a.Y+y.canvasY)+" "));d=c.toString(),this.drawAreaPath(u,p,d),this.chartObj.dragPoint?this.chartObj.svgRenderer.append(this.chartObj.gPreviewSeriesGroupEle,this.chartObj.gSeriesEle):this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)}}),ej.seriesTypes.steparea=ej.ejStepAreaSeries,ej.seriesTypes.stepline=ej.ejStepLineSeries,ej.ejColumnSeries=t(ej.EjSeriesRender,{draw:function(t,i,s){var a,o,r,l,n,d,h,c,u,p;this.chartObj=t,a=this.chartObj.model.requireInvertedAxes,i._animationType="rect","cylinder"==i.columnFacet&&(i._animationType="cylinder");var m=i,g=m.cornerRadius,_=e.inArray(m,this.chartObj.model._visibleSeries),f=ej.EjSeriesRender.prototype.getOrigin(this,m,s),b=this.getSideBySideInfo(m,s);m.dragSettings.enable&&(m.sidebysideInfo=b);var v=this._isVisiblePoints(m),x=ej.EjSvgRender.utils._getTransform(m.xAxis,m.yAxis,a),y={id:this.chartObj.svgObject.id+"_SeriesGroup_"+_,transform:"translate("+x.x+","+x.y+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(y),o=this,r=0;r<v.length;r++)if(l=r,n=v[r],v[r].marker,d=n.YValues[0],h=f,n.visible){var w,S=o.calculateSides(n,b),C=S.x1,T=S.x2,L=this.chartObj.setStyle(o,m,_,l),k=o.getRectangle(C,d,T,h,m,t),P=Math.min(0,k.Width),j=Math.min(0,k.Height);(0==P||0==j)&&k.Width>0&&(i={id:o.chartObj.svgObject.id+"_Series"+_+"_Point"+l,x:k.X+o.chartObj.canvasX,y:k.Y+o.chartObj.canvasY,width:k.Width,height:k.Height,fill:L.interior,plot:d<0?"negative":"positive","stroke-width":L.borderWidth,opacity:L.opacity,stroke:L.borderColor,"stroke-dasharray":L.dashArray},c={isColumn:!0,stacking:!1,isLastSeries:!0},"cylinder"==m.columnFacet?o.chartObj.svgRenderer.drawCylinder(i,o.gSeriesGroupEle,c):"object"!=typeof g&&g>0||g.topLeft>0||g.bottomLeft>0||g.topRight>0||g.bottomRight>0?(u=ej.EjSvgRender.utils._calculateroundedCorner(g,i),i.d=u,m._animationType="path",o.chartObj.svgRenderer.drawPath(i,o.gSeriesGroupEle)):"rectangle"==m.columnFacet&&o.chartObj.svgRenderer.drawRect(i,o.gSeriesGroupEle),w={X:(p=ej.EjSvgRender.utils._getSvgXY(k.X,k.Y,m,o.chartObj)).X,Y:p.Y,Width:k.Width,Height:k.Height},ej.EjSvgRender.utils._addRegion(o.chartObj,w,m,n,l)),i.plot=d<0?"negative":"positive",n.symbolLocation=a?{X:d<(m.xAxis._crossValue||0)&&!m.yAxis.isInversed||m.yAxis.isInversed&&d>(m.xAxis._crossValue||0)?k.X:k.X+k.Width,Y:k.Y+k.Height/2}:{X:k.X+k.Width/2,Y:d<(m.xAxis._crossValue||0)&&!m.yAxis.isInversed||m.yAxis.isInversed&&d>(m.xAxis._crossValue||0)?k.Y+k.Height:k.Y}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},isRegion:!0}),ej.seriesTypes.column=ej.ejColumnSeries,ej.ejStackingColumnSeries=t(ej.EjSeriesRender,{draw:function(t,i,s){var a,o,r,l,n;this.chartObj=t,i._animationType="rect","cylinder"==i.columnFacet&&(i._animationType="cylinder");var d=this.chartObj.model.requireInvertedAxes,h=i,c=h.cornerRadius,u=e.inArray(h,this.chartObj.model._visibleSeries),p=this.getSideBySideInfo(h,s),m=this._isVisiblePoints(h),g=ej.EjSvgRender.utils._getTransform(h.xAxis,h.yAxis,d),_={id:this.chartObj.svgObject.id+"_SeriesGroup_"+u,transform:"translate("+g.x+","+g.y+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(_),a=this,o=0;o<m.length;o++){var f=o,b=h._visiblePoints[o],v=h.stackedValue.StartValues[o],x=h.stackedValue.EndValues[o];if(b.visible){var y,w=a.calculateSides(b,p),S=w.x1,C=w.x2,T=this.chartObj.setStyle(a,h,u,f),L=a.getRectangle(S,x,C,v,h,t),k=Math.min(0,L.Width),P=Math.min(0,L.Height),j="stackingcolumn100"==h.type;if((0==k||0==P)&&L.Width>0){i={id:a.chartObj.svgObject.id+"_Series"+u+"_Point"+f,x:L.X+a.chartObj.canvasX,y:L.Y+a.chartObj.canvasY,width:L.Width,height:L.Height,fill:T.interior,"stroke-width":T.borderWidth,plot:x<0?"negative":"positive",opacity:T.opacity,stroke:T.borderColor,"stroke-dasharray":T.dashArray},r={isColumn:!0,stacking:j,isLastSeries:h.stackedValue.stackedSeries},"cylinder"==h.columnFacet?a.chartObj.svgRenderer.drawCylinder(i,a.gSeriesGroupEle,r):"object"!=typeof c&&c>0||c.topLeft>0||c.bottomLeft>0||c.topRight>0||c.bottomRight>0?(l=ej.EjSvgRender.utils._calculateroundedCorner(c,i),i.d=l,h._animationType="path",a.chartObj.svgRenderer.drawPath(i,a.gSeriesGroupEle)):"rectangle"==h.columnFacet&&a.chartObj.svgRenderer.drawRect(i,a.gSeriesGroupEle),y={X:(n=ej.EjSvgRender.utils._getSvgXY(L.X,L.Y,h,a.chartObj)).X,Y:n.Y,Width:L.Width,Height:L.Height};var D=L.Width/2,A=Math.round(L.Height),O=Math.round(D/4);O==A&&(y.Height=L.Height+2*O),ej.EjSvgRender.utils._addRegion(a.chartObj,y,h,b,f)}b.symbolLocation=d?{X:x<(h.xAxis._crossValue||0)&&!h.yAxis.isInversed||h.yAxis.isInversed&&x>(h.xAxis._crossValue||0)?L.X:L.X+L.Width,Y:L.Y+L.Height/2}:{X:L.X+L.Width/2,Y:x<(h.xAxis._crossValue||0)&&!h.yAxis.isInversed||h.yAxis.isInversed&&x>(h.xAxis._crossValue||0)?L.Y+L.Height:L.Y}}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},stackingSeries:!0,isRegion:!0}),ej.seriesTypes.stackingcolumn=ej.ejStackingColumnSeries,ej.seriesTypes.stackingcolumn100=ej.ejStackingColumnSeries,ej.seriesTypes.rangecolumn=ej.ejRangeColumnSeries,ej.ejRangeColumnSeries=t(ej.EjSeriesRender,{draw:function(t,i,s){var a,o,r,l;this.chartObj=t,i._animationType="rect";var n=this.chartObj.model.requireInvertedAxes,d=i,h=d.cornerRadius,c=e.inArray(d,this.chartObj.model._visibleSeries),u=this.getSideBySideInfo(d,s),p=this._isVisiblePoints(d),m=ej.EjSvgRender.utils._getTransform(d.xAxis,d.yAxis,n),g={id:this.chartObj.svgObject.id+"_SeriesGroup_"+c,transform:"translate("+m.x+","+m.y+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(g),a=this,o=0;o<p.length;o++){var _=o,f=p[o],b=f.YValues[0],v=f.YValues[1];if(f.visible){var x,y=a.calculateSides(f,u),w=y.x1,S=y.x2,C=this.chartObj.setStyle(a,d,c,_),T=a.getRectangle(w,b,S,v,d,t),L=(a.chartObj.model.m_AreaBounds.Width,Math.min(0,T.Width)),k=Math.min(0,T.Height);(0==L||0==k)&&(i={id:a.chartObj.svgObject.id+"_Series"+c+"_Point"+_,x:T.X+a.chartObj.canvasX,y:T.Y+a.chartObj.canvasY,width:T.Width,height:T.Height,fill:C.interior,"stroke-width":C.borderWidth,opacity:C.opacity,stroke:C.borderColor,"stroke-dasharray":C.dashArray},"object"!=typeof h&&h>0||h.topLeft>0||h.bottomLeft>0||h.topRight>0||h.bottomRight>0?(r=ej.EjSvgRender.utils._calculateroundedCorner(h,i),i.d=r,d._animationType="path",a.chartObj.svgRenderer.drawPath(i,a.gSeriesGroupEle)):a.chartObj.svgRenderer.drawRect(i,a.gSeriesGroupEle,m.y),a.chartObj.svgRenderer.drawRect(i,a.gSeriesGroupEle,m.y),x={X:(l=ej.EjSvgRender.utils._getSvgXY(T.X,T.Y,d,a.chartObj)).X,Y:l.Y,Width:T.Width,Height:T.Height},ej.EjSvgRender.utils._addRegion(a.chartObj,x,d,f,_)),"waterfall"==d.type.toLowerCase()&&(b=f.waterfallSum?f.waterfallSum:f.y),f.symbolLocation=n?{X:b<0&&!d.yAxis.isInversed||d.yAxis.isInversed&&b>0?T.X:T.X+T.Width,Y:T.Y+T.Height/2}:{X:T.X+T.Width/2,Y:b<0&&!d.yAxis.isInversed||d.yAxis.isInversed&&b>0?T.Y+T.Height:T.Y}}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},hiloTypes:!0,isRegion:!0}),ej.seriesTypes.rangecolumn=ej.ejRangeColumnSeries,ej.ejBoxandwhiskerSeries=t(ej.EjSeriesRender,{draw:function(t,i,s){var a,o,r,l,n;this.chartObj=t,a=this.chartObj.model.requireInvertedAxes,i._animationType="rect";var d=i,h=e.inArray(d,this.chartObj.model._visibleSeries),c=(ej.EjSeriesRender.prototype.getOrigin(this,d,s),this.getSideBySideInfo(d,s)),u=this._isVisiblePoints(d),p=ej.EjSvgRender.utils._getTransform(d.xAxis,d.yAxis,a),m=0,g={id:this.chartObj.svgObject.id+"_SeriesGroup_"+h,transform:"translate("+p.x+","+p.y+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(g),o=this,r=0;r<u.length;r++){var _,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I,R,M,E,V=r,N=u[r];if(u[r].marker,_=N.YValues[0],b=(f=o.calculateMean(_,d,V)).UpperQuartile,v=f.LowerQuartile,N.visible&&(y=(x=o.calculateSides(N,c)).x1,w=x.x2,S=this.chartObj.setStyle(o,d,h,V),C=o.getRectangle(y,b,w,v,d,t),T=Math.min(0,C.Width),L=Math.min(0,C.Height),h=e.inArray(d,this.chartObj.model._visibleSeries),this.chartObj.setStyle(this,d,h,r),ej.EjSvgRender.utils._getStringBuilder(),k={xValue:N.xValue,YValues:f.midvalue},P=ej.EjSvgRender.utils._getPoint(k,d),l="transparent"==S.borderColor?this.chartObj._saturationColor(S.interior,-.6):S.borderColor,(0==T||0==L)&&C.Width>0)){for(i={id:o.chartObj.svgObject.id+"_Series"+h+"_Point"+V,x:C.X+o.chartObj.canvasX,y:C.Y+o.chartObj.canvasY,width:C.Width,height:C.Height,fill:S.interior,"stroke-width":S.borderWidth,plot:b<0?"negative":"positive",opacity:S.opacity,stroke:l,"stroke-dasharray":S.dashArray},D={id:this.chartObj.svgObject.id+"_Series"+h+"_Point"+V+"_median",x1:d._isTransposed?P.X+o.chartObj.canvasX:C.X+o.chartObj.canvasX,y1:d._isTransposed?C.Y+o.chartObj.canvasY:P.Y+o.chartObj.canvasY,x2:d._isTransposed?P.X+o.chartObj.canvasX:C.X+C.Width+o.chartObj.canvasX,y2:d._isTransposed?C.Y+C.Height+o.chartObj.canvasY:P.Y+o.chartObj.canvasY,"stroke-width":S.borderWidth,stroke:l},o.chartObj.svgRenderer.drawRect(i,o.gSeriesGroupEle),o.chartObj.svgRenderer.drawLine(D,o.gSeriesGroupEle),A=o.calculateBoxAndWhiskerPath(i,C,D,f,d,N,V),i.d=A.lowerWhisker,i.id=i.id+"_whisker",o.chartObj.svgRenderer.drawPath(i,o.gSeriesGroupEle),i.d=A.upperWhisker,o.chartObj.svgRenderer.drawPath(i,o.gSeriesGroupEle),1==d.showMedian&&(i.d=A.mean,o.chartObj.svgRenderer.drawPath(i,o.gSeriesGroupEle)),n=0;n<f.outliers.length;n++)O={xValue:N.xValue,YValues:f.outliers[n]},(I=ej.EjSvgRender.utils._getPoint(O,d)).X=d._isTransposed?I.X:C.X+C.Width/2,I.Y=d._isTransposed?C.Y+C.Height/2:I.Y,this.drawSymbol(h,d,V,I.X,I.Y,null,null,m),m++,M={X:(R=ej.EjSvgRender.utils._getSvgXY(I.X,I.Y,d,o.chartObj)).X-d.outlierSettings.size.width/2,Y:R.Y-d.outlierSettings.size.height/2,Width:d.outlierSettings.size.width,Height:d.outlierSettings.size.height},ej.EjSvgRender.utils._addRegion(o.chartObj,M,d,N,V);j={X:(E=ej.EjSvgRender.utils._getSvgXY(C.X,C.Y,d,o.chartObj)).X,Y:E.Y,Width:C.Width,Height:C.Height},ej.EjSvgRender.utils._addRegion(o.chartObj,j,d,N,V)}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},isRegion:!0}),ej.seriesTypes.boxandwhisker=ej.ejBoxandwhiskerSeries,ej.ejWaterfallSeries=t(ej.EjSeriesRender,{draw:function(t,i,s){var a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x;ej.ejRangeColumnSeries.prototype.draw.call(this,t,i,s),i._animationType="rect";var y=this.chartObj.model.chartRegions,w=[],S=(this.chartObj.model.m_AreaBounds,e.inArray(i,this.chartObj.model._visibleSeries));for(i.index=S,a=0,o=0;a<y.length;a++)S==y[a].SeriesIndex&&(w[o]=y[a],o+=1);for(r={id:this.chartObj.svgObject.id+"_SeriesGroup_waterfallLine_"+S},this.connectorLineGroup=this.chartObj.svgRenderer.createGroup(r),x=0;x<w.length-1;x++)l=ej.EjSvgRender.utils._getStringBuilder(),n=w[x].Region.Bounds,d=w[x+1].Region.Bounds,i.isTransposed?(f=Math.ceil(n.X),Math.ceil(n.Width),b=Math.ceil(d.X),Math.ceil(d.Width),_=(p=Math.ceil(n.X+n.Width))==(m=Math.ceil(d.X+d.Width))?n.X+n.Width:f==b||f==m?n.X:n.X+n.Width,l.append("M "+_+" "+(n.Y+n.Height)+" L "+_+" "+d.Y)):(c=Math.ceil(n.Y),Math.ceil(n.Height),u=Math.ceil(d.Y),Math.ceil(d.Height),p=Math.ceil(n.Y+n.Height),h=c==u?n.Y:p==u?d.Y:d.Y+d.Height,l.append("M "+n.X+" "+h+" L "+(d.X+d.Width)+" "+h)),""!=(v=l.toString())&&n.Height>=0&&(g={id:this.chartObj.svgObject.id+"_waterFall_"+S+"_connectorLine_"+x,fill:"none","stroke-dasharray":i.connectorLine.dashArray,"stroke-width":i.connectorLine.width,stroke:i.connectorLine.color,opacity:i.connectorLine.opacity,d:v},this.chartObj.svgRenderer.drawPath(g,this.connectorLineGroup));this.chartObj.svgRenderer.append(this.connectorLineGroup,this.chartObj.gSeriesEle),i.enableAnimation&&!i._animatedSeries&&this.chartObj.svgRenderer._setAttr(this.connectorLineGroup,{visibility:"hidden"})},hiloTypes:!1,isRegion:!0}),ej.seriesTypes.waterfall=ej.ejWaterfallSeries,ej.ejStackingBarSeries=t(ej.EjSeriesRender,{draw:function(t,i,s){var a,o,r,l,n,d;this.chartObj=t,i._animationType="rect","cylinder"==i.columnFacet&&(i._animationType="cylinder");var h=this.chartObj.model.requireInvertedAxes,c=i,u=c.cornerRadius,p=e.inArray(c,this.chartObj.model._visibleSeries),m=this.getSideBySideInfo(c,s),g=this._isVisiblePoints(c),_=ej.EjSvgRender.utils._getTransform(c.xAxis,c.yAxis,h),f={id:this.chartObj.svgObject.id+"_SeriesGroup_"+p,transform:"translate("+_.x+","+_.y+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(f),a=this,o=0;o<g.length;o++){var b=o,v=g[o],x=c.stackedValue.EndValues[o],y=c.stackedValue.StartValues[o];if(v.visible){var w=a.calculateSides(v,m),S=w.x1,C=w.x2,T=this.chartObj.setStyle(a,c,p,b),L=a.getRectangle(S,x,C,y,c,t),k=Math.min(0,L.Width),P=Math.min(0,L.Height),j="stackingbar100"==c.type;(0==k||0==P)&&(i={id:a.chartObj.svgObject.id+"_Series"+p+"_Point"+b,x:L.X+a.chartObj.canvasX,y:L.Y+a.chartObj.canvasY,width:L.Width,height:L.Height,fill:T.interior,"stroke-width":T.borderWidth,opacity:T.opacity,stroke:T.borderColor,"stroke-dasharray":T.dashArray},l={isColumn:!1,stacking:j,isLastSeries:c.stackedValue.stackedSeries},"cylinder"==c.columnFacet?a.chartObj.svgRenderer.drawCylinder(i,a.gSeriesGroupEle,l):"object"!=typeof u&&u>0||u.topLeft>0||u.bottomLeft>0||u.topRight>0||u.bottomRight>0?(n=ej.EjSvgRender.utils._calculateroundedCorner(u,i),i.d=n,c._animationType="path",a.chartObj.svgRenderer.drawPath(i,a.gSeriesGroupEle)):"rectangle"==c.columnFacet&&a.chartObj.svgRenderer.drawRect(i,a.gSeriesGroupEle),r={X:(d=ej.EjSvgRender.utils._getSvgXY(L.X,L.Y,c,a.chartObj)).X,Y:d.Y,Width:L.Width,Height:L.Height},ej.EjSvgRender.utils._addRegion(a.chartObj,r,c,v,b)),v.symbolLocation=h?{X:x<(c.yAxis._crossValue||0)&&!c.yAxis.isInversed||c.yAxis.isInversed&&x>(c.yAxis._crossValue||0)?L.X:L.X+L.Width,Y:L.Y+L.Height/2}:{X:L.X+L.Width/2,Y:x<(c.yAxis._crossValue||0)&&!c.yAxis.isInversed||c.yAxis.isInversed&&x>(c.yAxis._crossValue||0)?L.Y+L.Height:L.Y}}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},stackingSeries:!0,requireInvertedAxes:!0,isRegion:!0}),ej.seriesTypes.stackingbar=ej.ejStackingBarSeries,ej.seriesTypes.stackingbar100=ej.ejStackingBarSeries,ej.ejBarSeries=t(ej.EjSeriesRender,{draw:function(t,i,s){var a,o,r,l,n,d;this.chartObj=t,i._animationType="rect","cylinder"==i.columnFacet&&(i._animationType="cylinder");var h=this.chartObj.model.requireInvertedAxes,c=i,u=c.cornerRadius,p=e.inArray(c,this.chartObj.model._visibleSeries),m=ej.EjSeriesRender.prototype.getOrigin(this,c,s),g=(e.extend(!0,{},this.chartObj.model.seriesStyle,c.style),this.getSideBySideInfo(c,s));c.dragSettings.enable&&(c.sidebysideInfo=g);var _=this._isVisiblePoints(c),f=ej.EjSvgRender.utils._getTransform(c.xAxis,c.yAxis,h),b={id:this.chartObj.svgObject.id+"_SeriesGroup_"+p,transform:"translate("+f.x+","+f.y+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(b),a=this,o=0;o<_.length;o++){var v=o,x=_[o],y=x.YValues[0],w=m;if(x.visible){var S=a.calculateSides(x,g),C=S.x1,T=S.x2,L=this.chartObj.setStyle(a,c,p,v),k=a.getRectangle(C,y,T,w,c,t),P=Math.min(0,k.Width),j=Math.min(0,k.Height);(0==P||0==j)&&(i={id:a.chartObj.svgObject.id+"_Series"+p+"_Point"+v,x:k.X+a.chartObj.canvasX,y:k.Y+a.chartObj.canvasY,width:k.Width,height:k.Height,fill:L.interior,"stroke-width":L.borderWidth,plot:y<0?"negative":"positive",opacity:L.opacity,stroke:L.borderColor,"stroke-dasharray":L.dashArray},l={isColumn:!1,stacking:!1,isLastSeries:!0},"cylinder"==c.columnFacet?a.chartObj.svgRenderer.drawCylinder(i,a.gSeriesGroupEle,l):"object"!=typeof u&&u>0||u.topLeft>0||u.bottomLeft>0||u.topRight>0||u.bottomRight>0?(n=ej.EjSvgRender.utils._calculateroundedCorner(u,i),i.d=n,c._animationType="path",a.chartObj.svgRenderer.drawPath(i,a.gSeriesGroupEle)):"rectangle"==c.columnFacet&&a.chartObj.svgRenderer.drawRect(i,a.gSeriesGroupEle),r={X:(d=ej.EjSvgRender.utils._getSvgXY(k.X,k.Y,c,a.chartObj)).X,Y:d.Y,Width:k.Width,Height:k.Height},ej.EjSvgRender.utils._addRegion(a.chartObj,r,c,x,v)),x.symbolLocation=h?{X:y<(c.xAxis._crossValue||0)&&!c.yAxis.isInversed||c.yAxis.isInversed&&y>(c.xAxis._crossValue||0)?k.X:k.X+k.Width,Y:k.Y+k.Height/2}:{X:k.X+k.Width/2,Y:y<(c.xAxis._crossValue||0)&&!c.yAxis.isInversed||c.yAxis.isInversed&&y>(c.xAxis._crossValue||0)?k.Y+k.Height:k.Y}}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},requireInvertedAxes:!0,isRegion:!0}),ej.seriesTypes.bar=ej.ejBarSeries,ej.ejStackingAreaSeries=t(ej.EjSeriesRender,{draw:function(e,t){var i,s;this.chartObj=e,t._animationType="path";var a,o,r,l=ej.EjSvgRender.utils._getStringBuilder(),n=t,d=this.setAreaSeriesStyle(n),h=this._isVisiblePoints(n),c=Math.max(t.yAxis.visibleRange.min,n.stackedValue.StartValues[0]),u=this.chartObj.canvasX,p=this.chartObj.canvasY,m={xValue:h[0].xValue,YValues:[c]},g=ej.EjSvgRender.utils._getPoint(m,n),_=0,f=n.stackedValue.EndValues.length;for(l.append("M "+(g.X+u)+" "+(g.Y+p)+" "),i=0;i<=f;i++)if(i!=f&&h[i].visible)o={xValue:h[i].xValue,YValues:[n.stackedValue.EndValues[i]]},h[i].visible&&(r=h[i].location=ej.EjSvgRender.utils._getPoint(o,n),l.append("L "+(r.X+u)+" "+(r.Y+p)+" "),h[i].YValues[0]=o.YValues[0]);else{for(c=n.stackedValue.StartValues[i+1],s=i-1;s>=_;s--)o={xValue:h[s].xValue,YValues:[n.stackedValue.StartValues[s]]},r=ej.EjSvgRender.utils._getPoint(o,n),l.append("L "+(r.X+u)+" "+(r.Y+p)+" ");h[i+1]&&h[i+1].visible&&(m={xValue:h[i+1].xValue,YValues:[n.stackedValue.StartValues[i+1]]},g=ej.EjSvgRender.utils._getPoint(m,n),l.append("M "+(g.X+u)+" "+(g.Y+p)+" ")),_=i+1}a=l.toString(),this.drawAreaPath(n,d,a),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},stackingSeries:!0}),ej.seriesTypes.stackingarea=ej.ejStackingAreaSeries,ej.seriesTypes.stackingarea100=ej.ejStackingAreaSeries,ej.ejAreaSeries=t(ej.EjSeriesRender,{draw:function(e,t,i){var s,a,o,r,l;this.chartObj=e,t._animationType="path";var n=ej.EjSvgRender.utils._getStringBuilder(),d=t,h=this.setAreaSeriesStyle(d),c=this.chartObj;d.sorting&&(d.points=ej.DataManager(d.points,ej.Query().sortBy("xValue")).executeLocal());var u,p=this.chartObj.dragPoint?d.pointCollection:this._isVisiblePoints(d),m=ej.EjSeriesRender.prototype.getOrigin(this,d,i),g=[];if(g[0]=c.canvasX,g[1]=c.canvasY,p.length>0){for(a=0;a<p.length;a++)if(p[a].visible)if(p.length>a+1){if(u||(u={xValue:p[a].xValue,YValues:[m]},o=ej.EjSvgRender.utils._getPoint(u,d),n.append("M "+o.X+" "+o.Y+" ")),o=ej.EjSvgRender.utils._getPoint(p[a],d),n.append("L "+o.X+" "+o.Y+" "),!p[a+1].visible){var _={xValue:p[a].xValue,YValues:[m]},f=ej.EjSvgRender.utils._getPoint(_,d),b=ej.EjSvgRender.utils._getPoint(u,d);n.append("L "+f.X+" "+f.Y+" L "+b.X+" "+b.Y+" "),u=null}}else p[a-1]&&p[a-1].visible&&(o=ej.EjSvgRender.utils._getPoint(p[a],d),n.append("L "+o.X+" "+o.Y+" "));r={xValue:p[p.length-1].xValue,YValues:[m]},l=ej.EjSvgRender.utils._getPoint(r,d),p.length>1&&n.append("L "+l.X+" "+l.Y+" "),s=n.toString(),this.drawAreaPath(d,h,s,g)}this.chartObj.dragPoint?this.chartObj.svgRenderer.append(this.chartObj.gPreviewSeriesGroupEle,this.chartObj.gSeriesEle):this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)}}),ej.seriesTypes.area=ej.ejAreaSeries,ej.ejRangeAreaSeries=t(ej.EjSeriesRender,{draw:function(t,i){var s,a,o,r,l,n,d,h,c,u,p,m,g;this.chartObj=t,i._animationType="path";var _=ej.EjSvgRender.utils._getStringBuilder(),f=i,b=this.setAreaSeriesStyle(f),v=e.inArray(f,this.chartObj.model._visibleSeries);for(f.points=ej.DataManager(f.points,ej.Query().sortBy("xValue")).executeLocal(),a=this._isVisiblePoints(f),(o=[])[0]=this.chartObj.canvasX,o[1]=this.chartObj.canvasY,l=[],c=0;c<a.length;c++)if(l[c]={Region:{PointIndex:c},SeriesIndex:v,region:[]},a[c].visible&&(r||(n=a[c].low,r={xValue:a[c].xValue,YValues:[n]},d=ej.EjSvgRender.utils._getPoint(r,f),_.append("M "+d.X+" "+d.Y+" ")),d=ej.EjSvgRender.utils._getPoint(a[c],f),_.append("L "+d.X+" "+d.Y+" "),l[c].region.push({X:d.X,Y:d.Y}),0!=c&&l[c-1].region.push({X:d.X,Y:d.Y}),c+1<a.length&&!a[c+1].visible&&c+1!=a.length-1)){for(h=c;h>=0&&a[h].visible;h--)n=a[h].low,u={xValue:a[h].xValue,YValues:[n]},p=ej.EjSvgRender.utils._getPoint(u,f),_.append("L "+p.X+" "+p.Y+" "),l[h].region.push({X:p.X,Y:p.Y}),0!=h&&l[h-1].region.push({X:p.X,Y:p.Y});r=null}for(c=a.length-1;c>=0;c--)if(a[c].visible)n=a[c].low,u={xValue:a[c].xValue,YValues:[n]},p=ej.EjSvgRender.utils._getPoint(u,f),_.append("L "+p.X+" "+p.Y+" "),l[c].region.push({X:p.X,Y:p.Y}),0!=c&&l[c-1].region.push({X:p.X,Y:p.Y});else{if(a.length>c&&a[c].visible){p=ej.EjSvgRender.utils._getPoint(a[c],f),_.append("L "+p.X+" "+p.Y+" ");break}if(c!=a.length-1){for(m=0,g=c-1;g>=0;g--)if(a[g].visible)m++;else if(!a[g].visible)break;c-=m}}s=_.toString(),this.chartObj.model.chartRegions.push(l),this.drawAreaPath(f,b,s,o),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},hiloTypes:!0}),ej.seriesTypes.rangearea=ej.ejRangeAreaSeries,ej.ejSplineRangeAreaSeries=t(ej.EjSeriesRender,{draw:function(e,t,i){this.chartObj=e,(new ej.seriesTypes.splinearea).draw(e,t,i)},chartAreaType:"cartesianAxes",hiloTypes:!0}),ej.seriesTypes.splinerangearea=ej.ejSplineRangeAreaSeries,ej.ejSplineSeries=t(ej.EjSeriesRender,{draw:function(e,t,i){var s,a;i.seriesCollection||(i.seriesCollection={},t._name=ej.util.isNullOrUndefined(t.name)?"":t.name.replace(/ /g,"")),i.seriesCollection[t._name]||(i.seriesCollection[t._name]={}),this.chartObj=e,t._animationType="path";var o,r=t,l=ej.EjSvgRender.utils._getStringBuilder(),n=this.setLineSeriesStyle(r),d=this.chartObj.dragPoint?r.pointCollection:this._isVisiblePoints(r),h=i.seriesCollection[r._name].naturalSpline||this.naturalSpline(d,r),c=null,u=null,p=-1,m=0,g=i.seriesCollection[r._name].controlPoints||[];for(s=0;s<d.length;s++)if(a=s,(u=d[s]).visible){if(null!=c){var _,f,b=g[m++]||this.getBezierControlPoints(c,u,h[p],h[a],0,r,this);_=b.controlPoint1,f=b.controlPoint2;var v=ej.EjSvgRender.utils._getPoint(c,r),x=ej.EjSvgRender.utils._getPoint(u,r),y=ej.EjSvgRender.utils._getPoint(_,r),w=ej.EjSvgRender.utils._getPoint(f,r),S=this.chartObj;l.append("M "+(v.X+S.canvasX)+" "+(v.Y+S.canvasY)+" C "+(y.X+S.canvasX)+" "+(y.Y+S.canvasY)+" "+(w.X+S.canvasX)+" "+(w.Y+S.canvasY)+" "+(x.X+S.canvasX)+" "+(x.Y+S.canvasY)+" ")}c=u,p=a}else c=null;o=l.toString(),this._drawLinePath(r,n,o),this.chartObj.dragPoint?this.chartObj.svgRenderer.append(this.chartObj.gPreviewSeriesGroupEle,this.chartObj.gSeriesEle):this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)}}),ej.seriesTypes.spline=ej.ejSplineSeries,ej.ejSplineAreaSeries=t(ej.EjSeriesRender,{draw:function(t,i,s){var a,o,r,l,n,d,h,c,u,p,m,g,_;s.seriesCollection||(s.seriesCollection={},i._name=ej.util.isNullOrUndefined(i.name)?"":i.name.replace(/ /g,"")),s.seriesCollection[i._name]||(s.seriesCollection[i._name]={}),this.chartObj=t,i._animationType="path";var f=this.chartObj.model.requireInvertedAxes,b=i,v="",x=ej.EjSvgRender.utils._getStringBuilder(),y=this.setAreaSeriesStyle(b);b.sorting&&(b.points=ej.DataManager(b.points,ej.Query().sortBy("xValue")).executeLocal());var w=this.chartObj.dragPoint?b.pointCollection:this._isVisiblePoints(b),S=s.seriesCollection[b._name].naturalSpline||this.naturalSpline(w,b,0),C=(s.seriesCollection[b._name].naturalSpline1||this.naturalSpline(w,b,1),null),T=null,L=-1,k=[],P=ej.EjSeriesRender.prototype.getOrigin(this,b,s),j=null,D=!0,A=this.chartObj,O=[],I=0,R=s.seriesCollection[b._name].controlPoints||[];O[0]=A.canvasX,O[1]=A.canvasY;var M=A.model._seriesIndex,E=null,V=[],N=b.type.toLowerCase(),B=b.emptyPointSettings;for(A.model._previousSeries=ej.util.isNullOrUndefined(A.model._previousSeries)?null:A.model._previousSeries,b._prevpointIndex=null,m=0;m<w.length;m++)if(k[m]={Region:{PointIndex:m},SeriesIndex:M,region:[]},a=m,(T=w[m]).YValues[0]=-1!=N.indexOf("stackingsplinearea")?b.stackedValue.EndValues[m]:T.YValues[0],T.visible){if(!j){if(0==M||-1==N.indexOf("stackingsplinearea"))j={xValue:w[m].xValue,YValues:[P]};else{for(o=e.inArray(i,A.model._visibleSeries);o>0;o--)if("hidden"!=(r=A.model.series[o-1]).visibility){E=r.points;break}j={xValue:w[m].xValue,YValues:[E[m].YValues[0]]}}l=ej.EjSvgRender.utils._getPoint(j,b)}if("splinerangearea"==N&&(n=ej.EjSvgRender.utils._getPoint(w[m],b),k[m].region.push({X:n.X,Y:n.Y}),0!=m&&k[m-1].region.push({X:n.X,Y:n.Y})),null!=C){d=(c=-1!=N.indexOf("stackingsplinearea")||"splinerangearea"==N?R[a-1]||this.getBezierControlPoints(C,T,S[L],S[a],0,b,this):R[I++]||this.getBezierControlPoints(C,T,S[L],S[a],0,b,this)).controlPoint1,h=c.controlPoint2;var F=ej.EjSvgRender.utils._getPoint(C,b),z=ej.EjSvgRender.utils._getPoint(T,b),Y=ej.EjSvgRender.utils._getPoint(d,b),X=ej.EjSvgRender.utils._getPoint(h,b);if(D&&(f?x.append("M "+l.X+" "+F.Y+" L "+F.X+" "+F.Y+" "):x.append("M "+F.X+" "+l.Y+" L "+F.X+" "+F.Y+" "),D=!1),x.append("C "+Y.X+" "+Y.Y+" "+X.X+" "+X.Y+" "+z.X+" "+z.Y+" "),"splinerangearea"==N&&(V[a]=f?"C "+X.low+" "+X.Y+" "+Y.low+" "+Y.Y+" "+F.low+" "+F.Y+" ":"C "+X.X+" "+X.low+" "+Y.X+" "+Y.low+" "+F.X+" "+F.low+" "),-1!=N.indexOf("stackingsplinearea")&&(V[a]="C "+X.X+" "+X.Y+" "+Y.X+" "+Y.Y+" "+F.X+" "+F.Y+" "),(a==w.length-1||a<w.length-1&&!w[m+1].visible)&&((0!=M&&-1!=N.indexOf("stackingsplinearea")||"splinerangearea"==N)&&(j={xValue:w[m].xValue,YValues:"splinerangearea"==N?w[m].YValues:[E[m].YValues[0]]},l=ej.EjSvgRender.utils._getPoint(j,b)),f?x.append("L "+("splinerangearea"==N?z.low:l.X)+" "+z.Y+" "):x.append("L "+z.X+" "+("splinerangearea"==N?l.low:l.Y)+" "),j=null,D=!0,"gap"==B.displayMode.toLowerCase()&&a!=w.length-1&&0!=M&&-1!=N.indexOf("stacking"))){for(u=ej.util.isNullOrUndefined(b._prevpointIndex)?1:b._prevpointIndex,p=a;p>=u&&w[p-1].visible&&!ej.util.isNullOrUndefined(A.model._previousSeries);p--)x.append(A.model._previousSeries[p]),A.model._previousSeries[p]="";b._prevpointIndex=a+3}}else(-1!=N.indexOf("stackingsplinearea")||-1!=N.indexOf("splinerangearea"))&&a>0&&"gap"==B.displayMode&&this.drawbackCurve(R,b,V,a,T);C=T,L=a}else C=null,(-1!=N.indexOf("stackingsplinearea")||-1!=N.indexOf("splinerangearea"))&&a>0&&"gap"==B.displayMode&&this.drawbackCurve(R,b,V,a,T);if("splinerangearea"==A.model.series[M].type.toLowerCase())for(m=w.length-1;m>=0;m--)P=w[m].low,g={xValue:w[m].xValue,YValues:[P]},_=ej.EjSvgRender.utils._getPoint(g,b),k[m].region.push({X:_.X,Y:_.Y}),0!=m&&k[m-1].region.push({X:_.X,Y:_.Y});v=x.toString(),-1!=N.indexOf("stackingsplinearea")&&M>0&&(A.model._previousSeries=this._getReversePath(A,M,A.model._previousSeries)),"splinerangearea"==N?v=v+this._getReversePath(A,M,V)+"Z":(v=ej.util.isNullOrUndefined(A.model._previousSeries)?v:v+A.model._previousSeries+"Z",A.model._previousSeries=V),"splinerangearea"==N&&this.chartObj.model.chartRegions.push(k),this.drawAreaPath(b,y,v,O),this.chartObj.dragPoint?this.chartObj.svgRenderer.append(this.chartObj.gPreviewSeriesGroupEle,this.chartObj.gSeriesEle):this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle),this.chartObj.gSeriesGroupEle=this.gSeriesGroupEle},stackingSeries:!0,_getReversePath:function(e,t,i){var s,a,o,r=e.model.series[t].emptyPointSettings,l="",n=e.model.series[t].points;if(!ej.util.isNullOrUndefined(i)){for(s=0;s<n.length;s++)n[a=s].visible||n[a].isEmpty&&"gap"!=r.displayMode||(0==a?i[a+1]&&(i[a+1]=""):a==n.length-1?i[a]&&(i[a]=""):(i[a]&&(i[a]=""),i[a+1]&&(i[a+1]="")));for(o=i.length-1;o>0;o--)l+=i[o]}return l},drawbackCurve:function(e,t,i,s,a){var o=e[s-1],r=o.controlPoint1,l=o.controlPoint2,n=ej.EjSvgRender.utils._getPoint(t.points[s-1],t),d=(ej.EjSvgRender.utils._getPoint(a,t),ej.EjSvgRender.utils._getPoint(r,t)),h=ej.EjSvgRender.utils._getPoint(l,t);i[s]="C "+h.X+" "+h.Y+" "+d.X+" "+d.Y+" "+n.X+" "+n.Y+" "}}),ej.seriesTypes.splinearea=ej.ejSplineAreaSeries,ej.seriesTypes.stackingsplinearea=ej.ejSplineAreaSeries,ej.seriesTypes.stackingsplinearea100=ej.ejSplineAreaSeries,ej.ejScatterSeries=t(ej.EjSeriesRender,{draw:function(t,i){var s,a,o;this.chartObj=t,s=i,i._animationType="scatter";var r,l,n=e.inArray(i,this.chartObj.model._visibleSeries),d=s.points.length>100||!s.enableSmartLabels?this.improveChartPerformance(s):this._isVisiblePoints(s),h=d.length;for(i._visiblePoints=d,a=0;a<h;a++)r=d[a],o=a,l=ej.EjSvgRender.utils._getPoint(r,i),this.drawSymbol(n,i,o,l.X,l.Y)}}),ej.seriesTypes.scatter=ej.ejScatterSeries,ej.ejBubbleSeries=t(ej.EjSeriesRender,{createBubbleGroup:function(t){var i=e.inArray(t,this.chartObj.model.series),s=this.chartObj.model.m_AreaBounds.X,a=this.chartObj.model.m_AreaBounds.Y,o=t._isTransposed,r=o?s:t.xAxis.x,l=o?a:t.yAxis.y,n={id:this.chartObj.svgObject.id+"_SeriesGroup_"+i,transform:"translate("+r+","+l+")"};this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(n)},draw:function(t,i){var s,a,o,r,l,n,d,h,c;this.chartObj=t,i._animationType="bubble",a=(s=i).cornerRadius,s.points=ej.DataManager(s.points,ej.Query().sortBy("xValue")).executeLocal();var u,p,m,g,_,f,b=e.inArray(s,this.chartObj.model._visibleSeries),v=this._isVisiblePoints(s),x=i.bubbleOptions,y=x.radiusMode.toLowerCase(),w=t.model.m_AreaBounds,S=t.model._visibleSeries,C=0,T=Math.max(w.Height,w.Width);if("minmax"==y)f=T/100,u=x.minRadius*f,_=(p=x.maxRadius*f)-u,C=Math.max.apply(0,e.map(this.chartObj.model.bubbleRadiusList?this.chartObj.model.bubbleRadiusList:v,(function(e){return e.YValues[1]})));else for(u=p=1,_=T/10*p,o=0;o<S.length;o++)if("bubble"==S[o].type.toLowerCase()&&"visible"==S[o].visibility&&"auto"==S[o].bubbleOptions.radiusMode.toLowerCase())for(m=S[o]._visiblePoints,r=0;r<m.length;r++)C=C<m[r].YValues[1]?m[r].YValues[1]:C;for(this.createBubbleGroup(s),l=0;l<v.length;l++)if(d=l,(n=v[l]).visible){C=C||1,g="minmax"==s.bubbleOptions.radiusMode.toLowerCase()?u+_*Math.abs(n.YValues[1]/C):_*Math.abs(n.YValues[1]/C);var L=ej.EjSvgRender.utils._getPoint(n,s),k=this.chartObj.setStyle(this,s,b,d);i={id:this.chartObj.svgObject.id+"_Series"+b+"_Point"+d,cx:L.X+this.chartObj.canvasX,cy:L.Y+this.chartObj.canvasY,r:g,fill:k.interior,cornerRadius:a,"stroke-width":k.borderWidth,"stroke-dasharray":k.dashArray,opacity:k.opacity,stroke:k.borderColor},"object"!=typeof a&&a>0||a.topLeft>0||a.bottomLeft>0||a.topRight>0||a.bottomRight>0?(h=ej.EjSvgRender.utils.calculateroundedCorner(i),i.d=h,this.chartObj.svgRenderer.drawPath(i,this.gSeriesGroupEle)):n.radius=g,this.chartObj.svgRenderer.drawCircle(i,this.gSeriesGroupEle);var P=L.X,j=L.Y,D=g;c={X:P-D+(s.isTransposed?this.chartObj.model.m_AreaBounds.X:s.xAxis.x),Y:j-D+(s.isTransposed?this.chartObj.model.m_AreaBounds.Y:s.yAxis.y),Width:2*D,Height:2*D},ej.EjSvgRender.utils._addRegion(this.chartObj,c,s,null,l)}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)}}),ej.seriesTypes.bubble=ej.ejBubbleSeries,ej.ejhiloSeries=t(ej.EjSeriesRender,{draw:function(t,i,s){var a,o,r,l,n,d,h,c;this.chartObj=t,i._animationType="hilo",a=this.chartObj.model.requireInvertedAxes,(o=i).points=ej.DataManager(o.points,ej.Query().sortBy("xValue")).executeLocal();var u=this._isVisiblePoints(o),p=this.getSideBySideInfo(o,s),m=null,g=e.inArray(o,this.chartObj.model._visibleSeries),_=ej.EjSvgRender.utils._getTransform(o.xAxis,o.yAxis,a),f={id:this.chartObj.svgObject.id+"_SeriesGroup_"+g,transform:"translate("+_.x+","+_.y+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(f),r=0;r<u.length;r++)if(l=r,(m=u[r]).visible){if(ej.util.isNullOrUndefined(m.YValues[0])||ej.util.isNullOrUndefined(m.YValues[1]))continue;var b=this.chartObj.setStyle(this,o,g,l),v=this.chartObj.setHiloStyle(o,l,g),x={},y={};m.YValues[0]<m.YValues[1]?(x={xValue:m.xValue+p.Median,YValues:[m.YValues[0]]},y={xValue:m.xValue+p.Median,YValues:[m.YValues[1]]}):(x={xValue:m.xValue+p.Median,YValues:[m.YValues[1]]},y={xValue:m.xValue+p.Median,YValues:[m.YValues[0]]}),d=ej.EjSvgRender.utils._getPoint(x,o),h=ej.EjSvgRender.utils._getPoint(y,o),n="M "+(d.X+this.chartObj.canvasX)+" "+(d.Y+this.chartObj.canvasY)+" L "+(h.X+this.chartObj.canvasX)+" "+(h.Y+this.chartObj.canvasY)+" ",c={point1:d,point2:h},this._drawHiloPath(o,b,v,n,r,c)}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},hiloTypes:!0}),ej.seriesTypes.hilo=ej.ejhiloSeries,ej.ejhiloopencloseSeries=t(ej.EjSeriesRender,{draw:function(t,i,s){var a,o,r,l,n,d,h,c,u,p,m,g,_,f;this.chartObj=t,a=this.chartObj.model.requireInvertedAxes,i._animationType="hilo",(o=i).points=ej.DataManager(o.points,ej.Query().sortBy("xValue")).executeLocal();var b=this._isVisiblePoints(o),v=this.getSideBySideInfo(o,s),x=null,y=this.chartObj.model.palette,w=e.inArray(o,this.chartObj.model._visibleSeries),S=ej.EjSvgRender.utils._getTransform(o.xAxis,o.yAxis,a),C={id:this.chartObj.svgObject.id+"_SeriesGroup_"+w,transform:"translate("+S.x+","+S.y+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(C),l=0;l<b.length;l++)if(n=l,(x=b[l]).visible){var T="",L=!!ej.util.isNullOrUndefined(o.drawMode)||"both"==o.drawMode.toLowerCase()||"open"==o.drawMode.toLowerCase(),k=!!ej.util.isNullOrUndefined(o.drawMode)||"both"==o.drawMode.toLowerCase()||"close"==o.drawMode.toLowerCase(),P={},j={},D={},A={};if(x.YValues[0]<x.YValues[1]?(P={xValue:x.xValue+v.Median,YValues:[x.YValues[0]]},j={xValue:x.xValue+v.Median,YValues:[x.YValues[1]]},D={xValue:x.xValue,YValues:[x.YValues[2]]},A={xValue:x.xValue,YValues:[x.YValues[3]]}):(P={xValue:x.xValue+v.Median,YValues:[x.YValues[1]]},j={xValue:x.xValue+v.Median,YValues:[x.YValues[0]]},D={xValue:x.xValue,YValues:[x.YValues[2]]},A={xValue:x.xValue,YValues:[x.YValues[3]]}),o.fill=o.isFill?o.fill:null,x.YValues[2]<x.YValues[3]?o.bearFillColor=r=ej.util.isNullOrUndefined(o.bearFillColor)?o.fill?o.fill:y&&y.length>0?y[w]:"#339933":o.bearFillColor:o.bullFillColor=r=ej.util.isNullOrUndefined(o.bullFillColor)?o.fill?o.fill:y&&y.length>0?y[w]:"#E51400":o.bullFillColor,d=this.chartObj.setStyle(this,o,w,n,r),h=this.chartObj.setHiloStyle(o,n,w,r),x.fill?r="array"==jQuery.type(x.interior)?x.fill[0]:x.fill:x._hiloFill=r,c=this.chartObj.canvasX,u=this.chartObj.canvasY,L){var O={xValue:D.xValue+v.Median,YValues:D.YValues},I=ej.EjSvgRender.utils._getPoint(O,o),R={xValue:D.xValue+v.Start,YValues:D.YValues},M=ej.EjSvgRender.utils._getPoint(R,o);T="M "+(I.X+c)+" "+(I.Y+u)+" L "+(M.X+c)+" "+(M.Y+u)+" ",p={point1:I,point2:M},this._drawHiloPath(o,d,h,T,l,p),T=""}if(k){var E={xValue:A.xValue+v.Median,YValues:A.YValues},V=ej.EjSvgRender.utils._getPoint(E,o),N={xValue:A.xValue+v.End,YValues:A.YValues},B=ej.EjSvgRender.utils._getPoint(N,o);T="M "+(V.X+c)+" "+(V.Y+u)+" L "+(B.X+c)+" "+(B.Y+u)+" ",m={point1:V,point2:B},this._drawHiloPath(o,d,h,T,l,m),T=""}g=ej.EjSvgRender.utils._getPoint(P,o),_=ej.EjSvgRender.utils._getPoint(j,o),T="M "+(g.X+c)+" "+(g.Y+u)+" L "+(_.X+c)+" "+(_.Y+u)+" ",f={point1:g,point2:_},this._drawHiloPath(o,d,h,T,l,f)}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},hiloTypes:!0}),ej.seriesTypes.hiloopenclose=ej.ejhiloopencloseSeries,ej.ejCandleSeries=t(ej.EjSeriesRender,{draw:function(t,i,s){var a,o,r,l,n,d,h,c,u,p,m;this.chartObj=t,i._animationType="hilo",a=this.chartObj.model.requireInvertedAxes,(o=i).points=ej.DataManager(o.points,ej.Query().sortBy("xValue")).executeLocal();var g=this._isVisiblePoints(o),_=this.getSideBySideInfo(o,s),f=null,b=this.chartObj.model.palette,v=e.inArray(o,this.chartObj.model._visibleSeries),x=ej.EjSvgRender.utils._getTransform(o.xAxis,o.yAxis,a),y={id:this.chartObj.svgObject.id+"_SeriesGroup_"+v,transform:"translate("+x.x+","+x.y+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(y),l=0;l<g.length;l++)if(n=l,(f=g[l]).visible){var w,S={},C={},T={},L={};f.YValues[0]<f.YValues[1]?(S={xValue:f.xValue+_.Median,YValues:[f.YValues[0]]},C={xValue:f.xValue+_.Median,YValues:[f.YValues[1]]},T={xValue:f.xValue,YValues:[f.YValues[2]]},L={xValue:f.xValue,YValues:[f.YValues[3]]}):(S={xValue:f.xValue+_.Median,YValues:[f.YValues[1]]},C={xValue:f.xValue+_.Median,YValues:[f.YValues[0]]},T={xValue:f.xValue,YValues:[f.YValues[2]]},L={xValue:f.xValue,YValues:[f.YValues[3]]}),f.YValues[2]<f.YValues[3]?(T={xValue:f.xValue,YValues:[f.YValues[2]]},L={xValue:f.xValue,YValues:[f.YValues[3]]},o.bearFillColor=r=ej.util.isNullOrUndefined(o.bearFillColor)?b&&b.length>0?b[v]:"#339933":o.bearFillColor):(T={xValue:f.xValue,YValues:[f.YValues[3]]},L={xValue:f.xValue,YValues:[f.YValues[2]]},o.bullFillColor=r=ej.util.isNullOrUndefined(o.bullFillColor)?b&&b.length>0?b[v]:"#E51400":o.bullFillColor),d=this.chartObj.setStyle(this,o,v,n,r),h=this.chartObj.setHiloStyle(o,n,v,r),f.style&&f.style.interior?r="array"==jQuery.type(f.style.interior)?f.style.interior[0]:f.style.interior:f._hiloFill=h;var k=ej.EjSvgRender.utils._getPoint(S,o),P=ej.EjSvgRender.utils._getPoint({xValue:T.xValue+_.Median,YValues:[T.YValues[0]]},o),j=ej.EjSvgRender.utils._getPoint({xValue:L.xValue+_.Median,YValues:[L.YValues[0]]},o),D=ej.EjSvgRender.utils._getPoint(C,o),A=this.chartObj.canvasX,O=this.chartObj.canvasY;w="M "+(k.X+A)+" "+(k.Y+O)+" L "+(P.X+A)+" "+(P.Y+O)+" M "+(j.X+A)+" "+(j.Y+O)+" L "+(D.X+A)+" "+(D.Y+O)+" ",c={point1:k,point2:P},this._drawHiloPath(o,d,h,w,l,c);var I={xValue:L.xValue+_.Start,YValues:L.YValues},R=ej.EjSvgRender.utils._getPoint(I,o),M={xValue:T.xValue+_.End,YValues:T.YValues},E=ej.EjSvgRender.utils._getPoint(M,o),V=ej.EjSvgRender.utils._correctRect(R.X,R.Y,E.X,E.Y);T.YValues[0]==L.YValues[0]&&(V.Y=R.Y-.5,V.Height=1),u={id:this.chartObj.svgObject.id+"_Series"+v+"_Point"+l,x:V.X+this.chartObj.canvasX,y:V.Y+this.chartObj.canvasY,width:V.Width,height:V.Height,fill:d.interior,"stroke-width":d.borderWidth,"stroke-dasharray":d.dashArray,stroke:d.borderColor},this.chartObj.svgRenderer.drawRect(u,this.gSeriesGroupEle),m={X:(p=ej.EjSvgRender.utils._getSvgXY(V.X,V.Y,o,this.chartObj)).X,Y:p.Y,Width:V.Width,Height:V.Height},ej.EjSvgRender.utils._addRegion(this.chartObj,m,o,f,l)}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},hiloTypes:!0}),ej.seriesTypes.candle=ej.ejCandleSeries,ej.ejPieOfPieSeries=t(ej.EjSeriesRender,{draw:function(e,t){this.chartObj=e,(new ej.seriesTypes.pie).draw(e,t)},chartAreaType:"None"}),ej.seriesTypes.pieofpie=ej.ejPieOfPieSeries,ej.ejPieSeries=t(ej.EjSeriesRender,{draw:function(t,i){var s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b;this.chartObj=t;var v=i,x=[],y=i.type.toLowerCase(),w=i.collectionIndex,S=0==w?v.pieCoefficient:v.pieOfPieCoefficient,C=this.chartObj.model.enableCanvasRendering,T=this._calculateVisiblePoints(i,this.chartObj).visiblePoints,L=this.calculatingSliceAngle(v),k=e.inArray(v,this.chartObj.model._visibleSeries),P=(this.chartObj.model._visibleSeries.length,this.chartObj.model._visibleSeries[k]);if(P._pieCoefficient=P.pieCoefficient,this.chartObj.model.circularRadius.length>1){for(s=k;ej.util.isNullOrUndefined(P.zOrder)?s<this.chartObj.model.circularRadius.length:s>=0;ej.util.isNullOrUndefined(P.zOrder)?s++:s--)if(!ej.util.isNullOrUndefined(this.chartObj.model.circularRadius[s])){this.chartObj.model.circularRadius[k]=this.chartObj.model.circularRadius[s]*P._pieCoefficient;break}}else"pieofpie"==y&&""!=P.splitMode?this.chartObj.model.circularRadius[w]=.25*S*Math.min(L.width,L.height):this.chartObj.model.circularRadius[k]=.5*P._pieCoefficient*Math.min(L.width,L.height);if((a=Math.min(L.width,L.height))<0)return a;for(Math.abs(v.endAngle-v.startAngle)<270&&this.pieDoughnutCenter(v),o={id:this.chartObj.svgObject.id+"_SeriesGroup_"+k},this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(o),r=v.enableAnimation&&!v._animatedSeries?"hidden":"visible",l={id:this.chartObj.svgObject.id+"_TextGroup_"+k,visibility:r},this.chartObj.gSeriesTextEle||(this.chartObj.gSeriesTextEle=[]),this.chartObj.gSeriesTextEle[k]=1==w?this.chartObj.gSeriesTextEle[0]:this.chartObj.svgRenderer.createGroup(l),n={id:this.chartObj.svgObject.id+"_symbolGroup_"+k,visibility:r},this.chartObj.gSymbolGroupEle||(this.chartObj.gSymbolGroupEle=[]),this.chartObj.gSymbolGroupEle[k]=this.chartObj.svgRenderer.createGroup(n),d={id:this.chartObj.svgObject.id+"_connectorGroup_"+k,visibility:r},this.chartObj.gConnectorEle||(this.chartObj.gConnectorEle=[]),this.chartObj.gConnectorEle[k]=this.chartObj.svgRenderer.createGroup(d),h={id:this.chartObj.svgObject.id+"_DataLabel_"+k,visibility:r},this.chartObj.gDataLabelEle||(this.chartObj.gDataLabelEle=[]),this.chartObj.gDataLabelEle[k]=1==w?this.chartObj.gDataLabelEle[0]:this.chartObj.svgRenderer.createGroup(h),c=0;c<T.length;c++)if(u=this.chartObj.model._isPieOfPie?T[c].actualIndex:c,!isNaN(v._visiblePoints[c].startAngle)&&(p=v._visiblePoints[c]).visible){var j=this._calculateArcData(this.chartObj,u,p,v,k,w),D=j.Direction.split(" "),A=this.chartObj.setStyle(this,v,k,c);if(m=!(v.startAngle<v.endAngle),!this.chartObj.model._isPieOfPie)for(g=0;g<v.visiblePoints.length;g++)if(p==v.visiblePoints[g]){u=g;break}i={id:this.chartObj.svgObject.id+"_Series"+k+"_Point"+u,fill:A.interior,"stroke-width":A.borderWidth,stroke:A.borderColor,"stroke-dasharray":A.dashArray,"stroke-linecap":v.lineCap,"stroke-linejoin":v.lineJoin,d:j.Direction,opacity:A.opacity,"data-pointIndex":u},_={id:this.chartObj.svgObject.id+"_Series"+k+"_Point"+u,fill:A.interior,"stroke-width":A.borderWidth,stroke:A.borderColor,"stroke-dasharray":A.dashArray,"stroke-linecap":v.lineCap,"stroke-linejoin":v.lineJoin,d:j.Direction,opacity:A.opacity,radius:"pieofpie"==y?this.chartObj.model.circularRadius[w]:this.chartObj.model.circularRadius[k],start:p.startAngle-1.57,end:p.endAngle-1.57,"data-pointIndex":u,counterClockWise:m,innerR:0,cx:j.centerX,cy:j.centerY,x:D[12],y:D[13]},C?this.chartObj.svgRenderer.drawPath(_,this.gSeriesGroupEle):this.chartObj.svgRenderer.drawPath(i,this.gSeriesGroupEle),b={PointIndex:u,Index:c,StartAngle:p.startAngle,EndAngle:p.endAngle,StartX:this.chartObj.model.startX[u],StartY:this.chartObj.model.startY[u],PieSeriesIndex:w,SeriesIndex:e.inArray(v,this.chartObj.model._visibleSeries)},x.push(b)}k=this.chartObj.model._isPieOfPie?w:k,this.chartObj.model._isPieOfPie&&1==w&&P.pieCollections[0].length>0&&0==P.pieCollections[1].length&&(f=this._drawEmptyPieOfPie(this.chartObj),this.chartObj.svgRenderer.drawPath(f,this.gSeriesGroupEle)),b={Series:v,SeriesData:{Radius:this.chartObj.model.circularRadius[k],CenterX:this.chartObj.model.circleCenterX[k],CenterY:this.chartObj.model.circleCenterY[k]},Region:x,SeriesIndex:e.inArray(v,this.chartObj.model._visibleSeries)},this.chartObj.model.chartRegions.push(b),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},chartAreaType:"None"}),ej.seriesTypes.pie=ej.ejPieSeries,ej.ejDoughnutSeries=t(ej.EjSeriesRender,{draw:function(t,i){var s,a,o,r,l,n,d,h,c,u,p,m,g,_,f;this.chartObj=t;var b=i,v=[],x=this._calculateVisiblePoints(i).visiblePoints,y=this.calculatingSliceAngle(b),w=this.chartObj.model.enableCanvasRendering,S=x.length,C=e.inArray(b,this.chartObj.model._visibleSeries),T=(this.chartObj.model._visibleSeries.length,this.chartObj.model._visibleSeries.length,this.chartObj.model._visibleSeries[C]);if(T._doughnutSize=T.doughnutSize,T._doughnutCoefficient=T.doughnutCoefficient,this.chartObj.model.circularRadius.length>1){for(s=C;ej.util.isNullOrUndefined(T.zOrder)?s<this.chartObj.model.circularRadius.length:s>=0;ej.util.isNullOrUndefined(T.zOrder)?s++:s--)if(!ej.util.isNullOrUndefined(this.chartObj.model.circularRadius[s])){this.chartObj.model.circularRadius[C]=this.chartObj.model.circularRadius[s]*T._doughnutSize;break}}else this.chartObj.model.circularRadius[C]=.5*T._doughnutSize*Math.min(y.width,y.height);if((a=Math.min(y.width,y.height))<0)return a;Math.abs(b.endAngle-b.startAngle)<270&&this.pieDoughnutCenter(b),this.chartObj.model.innerRadius[C]=T._doughnutCoefficient*this.chartObj.model.circularRadius[C],ej.util.isNullOrUndefined(this.chartObj.model.roundingPlaces)||this.chartObj.model.roundingPlaces,C=e.inArray(b,this.chartObj.model._visibleSeries);var L={id:this.chartObj.svgObject.id+"_SeriesGroup_"+C};if(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(L),o=b.enableAnimation&&!b._animatedSeries?"hidden":"visible",r={id:this.chartObj.svgObject.id+"_TextGroup_"+C,visibility:o},this.chartObj.gSeriesTextEle||(this.chartObj.gSeriesTextEle=[]),this.chartObj.gSeriesTextEle[C]=this.chartObj.svgRenderer.createGroup(r),l={id:this.chartObj.svgObject.id+"_symbolGroup_"+C,visibility:o},this.chartObj.gSymbolGroupEle||(this.chartObj.gSymbolGroupEle=[]),this.chartObj.gSymbolGroupEle[C]=this.chartObj.svgRenderer.createGroup(l),n={id:this.chartObj.svgObject.id+"_connectorGroup_"+C,visibility:o},this.chartObj.gConnectorEle||(this.chartObj.gConnectorEle=[]),this.chartObj.gConnectorEle[C]=this.chartObj.svgRenderer.createGroup(n),d={id:this.chartObj.svgObject.id+"_DataLabel_"+C,visibility:o},this.chartObj.gDataLabelEle||(this.chartObj.gDataLabelEle=[]),this.chartObj.gDataLabelEle[C]=this.chartObj.svgRenderer.createGroup(d),b._doughnutSize>0&&T._doughnutCoefficient>=0&&b._doughnutSize<=1&&T._doughnutCoefficient<=1)for(h=0;h<S;h++)if(u=h,(c=b._visiblePoints[h]).visible){var k=0,P=0,j=this._calculateArcData(this.chartObj,u,c,b,C);if((c.actualIndex==b.explodeIndex||b.explodeAll)&&!this.chartObj.vmlRendering){var D=-.5*Math.PI,A=(c.startAngle+D+(c.endAngle+D-1e-6))/2;k=this.chartObj.model.circleCenterX[C]+Math.cos(A)*b.explodeOffset,P=this.chartObj.model.circleCenterY[C]+Math.sin(A)*b.explodeOffset}for(p=this.chartObj.setStyle(this,b,C,u),m=!(b.startAngle<b.endAngle),g=0;g<b.visiblePoints.length;g++)if(c==b.visiblePoints[g]){u=g;break}i={id:this.chartObj.svgObject.id+"_Series"+C+"_Point"+u,fill:p.interior,"stroke-width":p.borderWidth,stroke:p.borderColor,"stroke-dasharray":p.dashArray,"stroke-linecap":b.lineCap,opacity:p.opacity,"stroke-linejoin":b.lineJoin,d:j.Direction,"data-pointIndex":u},_={id:this.chartObj.svgObject.id+"_Series"+C+"_Point"+u,fill:p.interior,"stroke-width":p.borderWidth,stroke:p.borderColor,"stroke-dasharray":p.dashArray,"stroke-linecap":b.lineCap,opacity:p.opacity,"stroke-linejoin":b.lineJoin,d:j.Direction,start:c.startAngle-1.57,end:c.endAngle-1.57,"data-pointIndex":u,radius:this.chartObj.model.circularRadius[C],innerR:this.chartObj.model.innerRadius[C],counterClockWise:m,x:0!=k?k:this.chartObj.model.circleCenterX[C],y:0!=P?P:this.chartObj.model.circleCenterY[C]},w?this.chartObj.svgRenderer.drawPath(_,this.gSeriesGroupEle):this.chartObj.svgRenderer.drawPath(i,this.gSeriesGroupEle),f={PointIndex:u,Index:h,StartAngle:c.startAngle,EndAngle:c.endAngle,StartX:this.chartObj.model.startX[u],StartY:this.chartObj.model.startY[u],SeriesIndex:e.inArray(b,this.chartObj.model._visibleSeries)},v.push(f)}f={Series:b,SeriesData:{Radius:this.chartObj.model.circularRadius[C],DRadius:this.chartObj.model.innerRadius[C],CenterX:this.chartObj.model.circleCenterX[C],CenterY:this.chartObj.model.circleCenterY[C]},Region:v,SeriesIndex:e.inArray(b,this.chartObj.model._visibleSeries)},this.chartObj.model.chartRegions.push(f),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},chartAreaType:"None"}),ej.seriesTypes.doughnut=ej.ejDoughnutSeries,ej.ejPyramidSeries=t(ej.EjSeriesRender,{draw:function(t,i){var s,a,o,r,l,n,d,h,c,u,p,m,g;this.chartObj=t;var _,f=t.model,b=this,v=f.LegendActualBounds,x=i,y=this._calculateVisiblePoints(x).visiblePoints,w=y.length,S=[],C=[],T=f.legend,L=x.marker.dataLabel,k=T.position.toLowerCase(),P=T.border.width,j=0,D=f.title,A=f.title.subTitle,O=f.border.width,I=!(""==D.text||!D.visible||!D.enableTrim),R=!(""==A.text||!A.visible||!A.enableTrim),M=f.title.text&&f.title.visible?ej.EjSvgRender.utils._measureText(f.title.text,e(this.svgObject).width()-f.margin.left-f.margin.right,f.title.font):0,E=f.title.subTitle.text&&f.title.subTitle.visible?ej.EjSvgRender.utils._measureText(f.title.subTitle.text,e(this.svgObject).width()-f.margin.left-f.margin.right,f.title.subTitle.font):0,V=""!=t.model.title.text&&t.model.title.visible?I&&"wrap"==D.textOverflow||I&&"wrapandtrim"==D.textOverflow?M.height*t.model.titleWrapTextCollection.length:M.height:0,N=""!=t.model.title.subTitle.text&&t.model.title.subTitle.visible?R&&"wrap"==A.textOverflow||R&&"wrapandtrim"==A.textOverflow?E.height*t.model.subTitleWrapTextCollection.length:E.height:0,B=f.margin.left+f.elementSpacing+2*O+f.elementSpacing+f.margin.right+("right"===k||"left"===k?v.Width+2*P:0),F=(f.title.text&&f.title.visible?f._titleLocation.Y+V+N:f.elementSpacing)+2*O+f.margin.top+f.elementSpacing+f.elementSpacing+("top"===k||"bottom"===k?v.Height+2*P+f.elementSpacing:0);if(L.visible&&"none"!=L.shape&&"outside"==x.labelPosition&&(B+=L.margin.left+L.margin.right),f.chartRegions=[],f.sumofYValues=0,"outside"===x.labelPosition.toLowerCase()){for(s=0;s<w;s++)j<(a=ej.EjSvgRender.utils._measureText(ej.util.isNullOrUndefined(y[s].text)?y[s].y:y[s].text,null,x.marker.dataLabel.font).width)&&(j=a);f.textSize=j}x._enableSmartLabels?(f.actualWidth=.8*(e(t.svgObject).width()-B),f.resWidth=(e(t.svgObject).width()-B-f.actualWidth)/2):(f.actualWidth=e(t.svgObject).width()-B-j,f.resWidth=0),o=e.inArray(x,f._visibleSeries),f.actualHeight=e(t.svgObject).height()-F;var z=""==t.model.title.subTitle.text?0:N,Y=t.pyrX=("left"===k?v.Width+2*P:0)+f.elementSpacing+f.margin.left,X=t.pyrY=("top"===k?v.Height+2*P:0)+(D.text&&D.visible?f._titleLocation.Y+V+z:f.margin.top+f.elementSpacing);for(C[0]=Y,C[1]=X,r=0;r<w;r++)f.sumofYValues+=y[r].YValues[0];for(l={id:t.svgObject.id+"_DataLabel_"+o,transform:"translate("+Y+","+X+")"},t.gDataLabelEle=[],t.gDataLabelEle[o]=t.svgRenderer.createGroup(l),ej.util.isNullOrUndefined(f.roundingPlaces)||f.roundingPlaces,n={id:t.svgObject.id+"_SeriesGroup_"+o,transform:"translate("+Y+","+X+")"},this.gSeriesGroupEle=t.svgRenderer.createGroup(n),d={id:t.svgObject.id+"_textGroup_"+o,transform:"translate("+Y+","+X+")"},t.gSeriesTextEle=[],t.gSeriesTextEle[o]=t.svgRenderer.createGroup(d),h={id:t.svgObject.id+"_symbolGroup_"+o,transform:"translate("+Y+","+X+")"},t.gSymbolGroupEle=[],t.gSymbolGroupEle[o]=t.svgRenderer.createGroup(h),c={id:t.svgObject.id+"_connectorGroup_"+o,transform:"translate("+Y+","+X+")"},t.gConnectorEle=[],t.gConnectorEle[o]=t.svgRenderer.createGroup(c),"linear"==x.pyramidMode.toLowerCase()?this.calculateLinearSegments(x):this.calculateSurfaceSegments(x),r=0;r<w;r++)u=r,(_=x._visiblePoints[r]).visible&&(p=this._getPyramidData(x,u),m=t.setStyle(this,x,0,u),i={id:t.svgObject.id+"_Series"+o+"_Point"+u,fill:m.interior,"stroke-width":m.borderWidth,stroke:m.borderColor,"stroke-dasharray":m.dashArray,"stroke-linecap":x.lineCap,"stroke-linejoin":x.lineJoin,opacity:m.opacity,pointIndex:u,d:p.Direction},t.svgRenderer.drawPath(i,this.gSeriesGroupEle,C),x.marker.dataLabel.template&&ej.EjSvgRender.utils._getSeriesTemplateSize(_,u,x,!0,t),_.xLocation=p.PositionX,_.yLocation=p.PositionY,_.connectorLine=p.Connector,_.startX=p.startX,_.startY=p.startY,_.Polygon=p.Polygon,g={PointIndex:u,Line1:p.Line1,Line2:p.Line2,Line3:p.Line3,Line4:p.Line4,Polygon:p.Polygon},S.push(g));g={Series:x,Region:S,SeriesIndex:e.inArray(x,f._visibleSeries)},f.chartRegions.push(g),this.gSeriesGroupEle&&(e(this.gSeriesGroupEle.childNodes[u]).bind("mousemove",(function(e){e.target=b.gSeriesGroupEle.childNodes[u],b.chartObj.chartInteractiveBehavior(e)})),t.svgRenderer.append(this.gSeriesGroupEle,t.gSeriesEle))},_getPyramidData:function(t,i){var s,a,o,r,l,n,d=this.chartObj.model,h=t._visiblePoints[i].marker,c=t._visiblePoints[i].actualIndex,u=t.explodeIndex==c||t.explodeAll?t.explodeOffset:0,p=d.resWidth,m=d.pyramidData[i].CurrY,g=d.pyramidData[i].CurrY+d.pyramidData[i].Height,_=.5*(1-d.pyramidData[i].CurrY),f=.5*(1-g),b=(t.points[i],{x:p+u+_*d.actualWidth,y:m*d.actualHeight}),v={x:p+u+(1-_)*d.actualWidth,y:m*d.actualHeight},x={x:p+u+(1-f)*d.actualWidth,y:g*d.actualHeight},y={x:p+u+f*d.actualWidth,y:g*d.actualHeight},w="M "+b.x+" "+b.y+" L "+v.x+" "+v.y+" L "+x.x+" "+x.y+" L "+y.x+" "+y.y+" z",S=[{x:b.x,y:b.y},{x:v.x,y:v.y},{x:x.x,y:x.y},{x:y.x,y:y.y}];if(h&&h.dataLabel&&h.dataLabel.visible||(!h||!h.dataLabel)&&t.marker.dataLabel.visible)if(o=(v.x+x.x)/2,r=(v.y+x.y)/2,"outside"===t.labelPosition.toLowerCase()){s=(v.x+x.x)/2,a=(v.y+x.y)/2,l=("left"==this.chartObj.model.legend.position.toLowerCase()||"right"==this.chartObj.model.legend.position.toLowerCase()?this.chartObj.model.LegendActualBounds.Width:0)+this.chartObj.model.elementSpacing+this.chartObj.model.margin.left,n=ej.util.isNullOrUndefined(t.marker.dataLabel.connectorLine.height)?t._enableSmartLabels?e(this.chartObj.svgObject).width()-(l+s+p+2*this.chartObj.model.elementSpacing):e(this.chartObj.svgObject).width()-(l+s+this.chartObj.model.textSize+this.chartObj.model.elementSpacing):t.marker.dataLabel.connectorLine.height;var C=this.getXCordinate(s,n,0),T=this.getYCordinate(a,n,0),L="M "+s+" "+a+" L "+C+" "+T;s=C,a=T}else s=(b.x+v.x)/2,a=(x.y+b.y)/2;return{Direction:w,PositionX:s,PositionY:a,Connector:L,Line1:b,Line2:v,Line3:x,Line4:y,startX:o,startY:r,Polygon:S}},calculateLinearSegments:function(e){var t,i,s=0,a=this.chartObj.model;a.pyramidData=[];var o=e.gapRatio>=0?e.gapRatio<=1?e.gapRatio:1:0,r=1/(a.sumofYValues*(1+o/(1-o))),l=e._visiblePoints.length;for(t=0;t<l;t++)(e._visiblePoints[t].visible||e._visiblePoints[t].gapMode)&&(i=r*e._visiblePoints[t].YValues[0],a.pyramidData[t]={CurrY:s,Height:i},s+=o/(l-1)+i)},calculateSurfaceSegments:function(e){var t,i,s,a=e._visiblePoints.length,o=this.chartObj.model;o.pyramidData=[];var r=0,l=[],n=[],d=(e.gapRatio>=0?e.gapRatio<=1?e.gapRatio:1:0)/(a-1),h=this.getSurfaceHeight(0,o.sumofYValues);for(i=0;i<a;i++)(e._visiblePoints[i].visible||e._visiblePoints[i].gapMode)&&(l[i]=r,n[i]=this.getSurfaceHeight(r,Math.abs(e._visiblePoints[i].YValues[0])),r+=n[i]+d*h);for(t=1/(r-d*h),i=0;i<a;i++)(e._visiblePoints[i].visible||e._visiblePoints[i].gapMode)&&(s=t*l[i],o.pyramidData[i]={CurrY:s,Height:t*n[i]})},getSurfaceHeight:function(e,t){var i=this.solveQuadraticEquation(1,2*e,-t);return i||0},solveQuadraticEquation:function(e,t,i){var s,a,o,r;if(0!=e){if((o=t*t-4*e*i)>=0)return s=(-t-(r=Math.sqrt(o)))/(2*e),a=(-t+r)/(2*e),Math.max(s,a)}else if(0!=t)return s=-i/t,a=-i/t,Math.max(s,a);return!1},chartAreaType:"None"}),ej.seriesTypes.pyramid=ej.ejPyramidSeries,ej.ejFunnelSeries=t(ej.EjSeriesRender,{draw:function(t,i){var s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v;this.chartObj=t;var x,y=t.model,w=y.legend,S=w.position.toLowerCase(),C=y.LegendActualBounds,T=this,L=i,k=this._calculateVisiblePoints(L).visiblePoints,P=k.length,j=[],D=L.marker,A=w.border.width,O=[],I=0,R=""==t.model.title.text?"":y.title,M=""==t.model.title.subTitle.text?"":y.title.subTitle,E=y.border.width,V=!(""==R.text||!R.visible||!R.enableTrim),N=!(""==M.text||!M.visible||!M.enableTrim),B=y.title.text&&y.title.visible?ej.EjSvgRender.utils._measureText(y.title.text,e(this.svgObject).width()-y.margin.left-y.margin.right,y.title.font):0,F=y.title.subTitle.text&&y.title.subTitle.visible?ej.EjSvgRender.utils._measureText(y.title.subTitle.text,e(this.svgObject).width()-y.margin.left-y.margin.right,y.title.subTitle.font):0,z=""!=t.model.title.text&&t.model.title.visible?V&&"wrap"==R.textOverflow||V&&"wrapandtrim"==R.textOverflow?B.height*t.model.titleWrapTextCollection.length:B.height:0,Y=""!=t.model.title.subTitle.text&&t.model.title.subTitle.visible?N&&"wrap"==M.textOverflow||N&&"wrapandtrim"==M.textOverflow?F.height*t.model.subTitleWrapTextCollection.length:F.height:0,X=y.margin.left+y.elementSpacing+y.elementSpacing+y.margin.right+2*E+("right"===S||"left"===S?C.Width+2*A:0),W=(y.title.text&&y.title.visible?y._titleLocation.Y+z+Y:y.elementSpacing)+y.margin.top+2*E+y.elementSpacing+y.elementSpacing+("top"===S||"bottom"===S?C.Height+2*A+y.elementSpacing:0);if(D.visible&&"none"!=D.shape&&"outside"==L.labelPosition&&(X+=D.margin.left+D.margin.right),y.chartRegions=[],y.sumofYValues=0,"outside"===L.labelPosition.toLowerCase()){for(m=0;m<P;m++)I<(s=ej.EjSvgRender.utils._measureText(ej.util.isNullOrUndefined(k[m].text)?k[m].y:k[m].text,null,L.marker.dataLabel.font).width)&&(I=s);y.textSize=I}for(L._enableSmartLabels?(y.actualWidth=.8*(e(t.svgObject).width()-X),y.resWidth=(e(t.svgObject).width()-X-y.actualWidth)/2):(y.actualWidth=e(t.svgObject).width()-X-I,y.resWidth=0),a=""==t.model.title.subTitle.text?0:Y,y.actualHeight=e(t.svgObject).height()-W,o=t.pyrX=("left"===S?C.Width+2*A:0)+y.elementSpacing+y.margin.left,r=t.pyrY=("top"===S?C.Height+2*A:0)+(y.title.text&&y.title.visible?y._titleLocation.Y+z+a:y.margin.top+y.elementSpacing),O[0]=o,O[1]=r,l=0;l<P;l++)y.sumofYValues+=k[l].YValues[0];ej.util.isNullOrUndefined(y.roundingPlaces)||y.roundingPlaces;var H=e.inArray(L,y._visibleSeries),U={id:t.svgObject.id+"_SeriesGroup_"+H,transform:"translate("+o+","+r+")"};this.gSeriesGroupEle=t.svgRenderer.createGroup(U),n={id:t.svgObject.id+"_DataLabel_"+H,transform:"translate("+o+","+r+")"},t.gDataLabelEle=[],t.gDataLabelEle[H]=t.svgRenderer.createGroup(n),d={id:t.svgObject.id+"_textGroup_"+H,transform:"translate("+o+","+r+")"},t.gSeriesTextEle=[],t.gSeriesTextEle[H]=t.svgRenderer.createGroup(d),h={id:t.svgObject.id+"_symbolGroup_"+H,transform:"translate("+o+","+r+")"},t.gSymbolGroupEle=[],t.gSymbolGroupEle[H]=t.svgRenderer.createGroup(h),c={id:t.svgObject.id+"_connectorGroup_"+H,transform:"translate("+o+","+r+")"},t.gConnectorEle=[],t.gConnectorEle[H]=t.svgRenderer.createGroup(c),u=0,(p=y).funnelData=[];var $=L.gapRatio>=0?L.gapRatio<=1?L.gapRatio:1:0,G=1/(p.sumofYValues*(1+$/(1-$))),q=$/P;for(m=P-1;m>=0;m--)(L._visiblePoints[m].visible||L._visiblePoints[m].gapMode)&&(g=G*L._visiblePoints[m].YValues[0],p.funnelData[m]={CurrY:u,Height:g},u+=g+q);for(l=0;l<P;l++)_=l,(x=L._visiblePoints[l]).visible&&(f=this._getFunnelData(L,_,t),b=t.setStyle(this,L,0,_),i={id:t.svgObject.id+"_Series"+H+"_Point"+_,fill:b.interior,"stroke-width":b.borderWidth,stroke:b.borderColor,"stroke-dasharray":b.dashArray,"stroke-linecap":L.lineCap,"stroke-linejoin":L.lineJoin,opacity:b.opacity,pointIndex:_,d:f.Direction},t.svgRenderer.drawPath(i,this.gSeriesGroupEle,O),L.marker.dataLabel.template&&ej.EjSvgRender.utils._getSeriesTemplateSize(x,_,L,!0,t),x.xLocation=f.PositionX,x.yLocation=f.PositionY,x.connectorLine=f.Connector,x.startX=f.startX,x.startY=f.startY,x.Polygon=f.Polygon,v={PointIndex:_,Line1:f.Line1,Line2:f.Line2,Line3:f.Line3,Line4:f.Line4,Line5:f.Line5,Line6:f.Line6,Polygon:f.Polygon},j.push(v));v={Series:L,Region:j,SeriesIndex:e.inArray(L,y._visibleSeries)},y.chartRegions.push(v),this.gSeriesGroupEle&&e(this.gSeriesGroupEle.childNodes[_]).bind("mousemove",(function(e){e.target=T.gSeriesGroupEle.childNodes[_],T.chartObj.chartInteractiveBehavior(e)})),t.svgRenderer.append(this.gSeriesGroupEle,t.gSeriesEle)},_getFunnelData:function(t,i){var s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O=this.chartObj.model,I=t._visiblePoints[i],R=I.marker,M=t.marker,E=t.funnelWidth,V=t.funnelHeight,N=O.actualHeight,B=O.actualWidth,F=O.elementSpacing,z=O.legend.position.toLowerCase(),Y=I.actualIndex,X=O.resWidth,W=t.explodeIndex==Y||t.explodeAll?t.explodeOffset:0;return D=-1!=V.indexOf("%")?N*(parseInt(V)/100):parseInt(V),c=(n=B/2-(j=(A=-1!=E.indexOf("%")?B*(parseInt(E)/100):parseInt(E))+(N-D-(m=O.funnelData[i].CurrY*N))/(N-D)*(B-A))/2)+j,p=(h=B/2-(j=(_=m+O.funnelData[i].Height*N)>N-D||N==D?A:A+(N-D-_)/(N-D)*(B-A))/2)+j,m>=N-D?(n=h=d=B/2-A/2,c=p=u=B/2+A/2):_>N-D&&(u=p=(d=h=B/2-j/2)+j,g=N-D),L={x:X+W+p,y:_},k={x:X+W+h,y:_},T={x:X+W+p,y:_},P={x:X+W+h,y:_},g&&(T={x:X+W+u,y:g},P={x:X+W+d,y:g}),a="M "+(S={x:X+W+n,y:m}).x+" "+S.y+" L "+(C={x:X+W+c,y:m}).x+" "+C.y+" L "+T.x+" "+T.y+" L "+L.x+" "+L.y+" L "+k.x+" "+k.y+" L "+P.x+" "+P.y+" z",o=[{x:S.x,y:S.y},{x:C.x,y:C.y},{x:T.x,y:T.y},{x:L.x,y:L.y},{x:k.x,y:k.y},{x:P.x,y:P.y}],(R&&R.dataLabel&&R.dataLabel.visible||(!R||!R.dataLabel)&&M.dataLabel.visible)&&(y=(C.x+T.x)/2,w=(C.y+T.y)/2,"outside"===t.labelPosition.toLowerCase()?(v=(C.x+T.x)/2,x=(C.y+T.y)/2,s=("left"==z||"right"==z?O.LegendActualBounds.Width:0)+F+O.margin.left,r=ej.util.isNullOrUndefined(M.dataLabel.connectorLine.height)?t._enableSmartLabels?e(this.chartObj.svgObject).width()-(s+v+X+2*F):e(this.chartObj.svgObject).width()-(v+O.textSize+F):M.dataLabel.connectorLine.height,l="M "+v+" "+x+" L "+(f=this.getXCordinate(v,r,0))+" "+(b=this.getYCordinate(x,r,0)),v=f,x=b):(v=(S.x+C.x)/2,x=(S.y+L.y)/2)),{Direction:a,PositionX:v,PositionY:x,Connector:l,Line1:S,Line2:C,Line3:T,Line4:L,Line5:k,Line6:P,startX:y,startY:w,Polygon:o}},chartAreaType:"None"}),ej.seriesTypes.funnel=ej.ejFunnelSeries,ej.ejPolarSeries=t(ej.EjSeriesRender,{draw:function(e,t){var i,s,a,o;this.chartObj=e;var r=t,l=(this._isVisiblePoints(r),this.setLineSeriesStyle(r));if("column"==r.drawType.toLowerCase()||"rangecolumn"==r.drawType.toLowerCase()){(i=r.xAxis.visibleRange).interval=1,s="category"==r.xAxis._valueType?i.max:i.max-1,this.chartObj.model.sumofYValues=0,i.interval,a=i.min;do{this.chartObj.model.sumofYValues+=i.interval,a+=i.interval}while(a<=s)}o=this._calculatePolarAxesSegment(r),"area"==r.drawType.toLowerCase()?this.drawAreaPath(r,l,o):("line"==r.drawType.toLowerCase()||"spline"==r.drawType.toLowerCase())&&this._drawLinePath(r,l,o),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},chartAreaType:"PolarAxes"}),ej.seriesTypes.polar=ej.ejPolarSeries,ej.ejRadarSeries=t(ej.EjSeriesRender,{draw:function(e,t){var i,s,a,o;this.chartObj=e;var r=t,l=(this._isVisiblePoints(r),this.setLineSeriesStyle(r));if("column"==r.drawType.toLowerCase()||"rangecolumn"==r.drawType.toLowerCase()){(i=r.xAxis.visibleRange).interval=1,s="category"==r.xAxis._valueType?i.max:i.max-1,this.chartObj.model.sumofYValues=0,i.interval,a=i.min;do{this.chartObj.model.sumofYValues+=i.interval,a+=i.interval}while(a<=s)}o=this._calculatePolarAxesSegment(r),"area"==r.drawType.toLowerCase()?this.drawAreaPath(r,l,o):("line"==r.drawType.toLowerCase()||"spline"==r.drawType.toLowerCase())&&this._drawLinePath(r,l,o),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(t,i){var s=i.chartObj,a=t.drawType.toLowerCase();t.regionAdded=!0,s.model._radius=s.model.Radius||s.model._radius,s.model.Radius=0;var o=i,r=e.inArray(t,s.model._visibleSeries),l=e(s.gSeriesEle).find("#"+o.gSeriesGroupEle.id)[0].childNodes[0];e(l).animate({Radius:s.model._radius},{duration:1200,queue:!1,step:function(i){if(ej.util.isNullOrUndefined(s.model))e(l).stop(!0,!0);else{s.model.Radius=i;var r=o._calculatePolarAxesSegment(t);"column"!=t.drawType.toLowerCase()&&"rangecolumn"!=t.drawType.toLowerCase()&&"scatter"!=a&&s.svgRenderer._setAttr(e(l),{d:r}),s.model.Radius=s.model._radius}},complete:function(){if(!ej.util.isNullOrUndefined(s.model)){t.regionAdded=!1,s.svgRenderer._setAttr(e(s.gSeriesEle).find("#"+s.svgObject.id+"_TextGroup_"+r),{visibility:"visible"}),s.svgRenderer._setAttr(e(s.gSeriesEle).find("#"+s.svgObject.id+"_symbolGroup_"+r),{visibility:"visible"}),s.svgRenderer._setAttr(e(s.gSeriesEle).find("#"+s.svgObject.id+"_DataLabel_"+r),{visibility:"visible"}),s.model.AnimationComplete=!0;var i=e.extend({},ej.EjSvgRender.commonChartEventArgs);i.data={series:t},s._trigger("animationComplete",i)}}})},chartAreaType:"PolarAxes"}),ej.seriesTypes.radar=ej.ejRadarSeries}(jQuery),ej.ejChart={},function($){Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=i.length;return function(a){if("function"==typeof a||"object"==typeof a&&null!==a){var o,r,l=[];for(o in a)e.call(a,o)&&l.push(o);if(t)for(r=0;r<s;r++)e.call(a,i[r])&&l.push(i[r]);return l}}}()),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),void 0===Array.prototype.map&&(Array.prototype.map=function(e){for(var t=[],i=0,s=this.length;i<s;i++)t.push(e(this[i]));return t}),String.prototype.parseTemplate=function(){var str=this,substr,count=0,arabic=/[\u0600-\u06FF]/;for($.each(arguments[0],(function(e,t){t.count>0?$.each(t,(function(t,i){var s,a,o,r=new RegExp("#"+e+"."+t+"#","gm");if(count++,arabic.test(str)&&2==count){for(s=str.split(" "),a=0;a<s.length;a++)o=s[a],arabic.test(o)&&(o+="&lrm;",s[a]=o);str=s.join(" ")}str=str.replace(r.source,i)})):str=str.replace(new RegExp("\\#"+e+"\\#","gm"),t)}));str.indexOf("ej.")>=0;)substr=str.substring(str.indexOf("ej."),str.indexOf(")")+1),str=str.replace(substr,eval(substr));return str},String.prototype.capitalizeFirstString=function(){return this.charAt(0).toUpperCase()+this.slice(1)};var Gradient=function(e){this._gradientStop=[];for(var t=0;t<e.length;t++)this._gradientStop.push(e[t])};ej.ejChart={_renderSfChart:function(){var e=!!window.SVGSVGElement,t=this.model.enableCanvasRendering;return this.isChartElemId=!1,this.element[0].id||this._createChartId(),$("#chartContainer_"+this._id).remove(),e?(this.renderer=new ej.EjSvgRender(this.element),t?(this.svgRenderer=new ej.EjCanvasRender(this.element),this.legendSvgContainer=this.svgRenderer.createLegendCanvas(this.element)):(this.svgRenderer=new ej.EjSvgRender(this.element),this.legendSvgContainer=this.svgRenderer.createLegendSvg(this.element)),this._appendChartElements(),t||this.legendContainer.find("svg").attr("class","e-designerhide"),this._createChart(),$(this.svgObject).appendTo(this.element)):(t=!1,this.svgRenderer=new ej.EjVmlRender(this.element),this.legendSvgContainer=this.svgRenderer.createLegendSvg(this.element),this.renderer=new ej.EjVmlRender(this.element),this._appendChartElements(),this._createChart(),$(this.svgObject).appendTo(this.chartContainer)),!0},_appendChartElements:function(){this.legendContainer=$("<div></div>").attr("id","legend_"+this._id).css("height","0px"),this.scrollerContainer=$("<div></div>").attr("id","legend_Scroller"+this._id).css("height","0px"),this.templateContainer=$("<div></div>").attr("id",this._id+"_container_svg_TrackToolTip").css("height","0px"),this.chartContainer=$("<div></div>").css("position","relative").attr("id","chartContainer_"+this._id),this.axisScroll=$("<div></div>").attr("id","axisScrollbar_"+this._id).css("height","0px"),this.svgRenderer.append(this.legendSvgContainer,this.scrollerContainer),$(this.scrollerContainer).appendTo(this.legendContainer),$(this.axisScroll).appendTo(this.chartContainer),$(this.legendContainer).appendTo(this.chartContainer),$(this.templateContainer).appendTo(this.chartContainer),$(this.chartContainer).appendTo(this.element)},setSvgSize:function(e){var t,i,s=e,a=$(s.element).height(),o=450,r=ej.isTouchDevice()?250:600,l=$(s.element).width();$(s.chartContainer).height(),s.model.size.width?r="string"==typeof(t=s.model.size.width)&&-1!=t.indexOf("%")?l/100*parseInt(t):parseInt(t):l>0&&(r=l),$(s.svgObject).width(r),s.model.size.height?o="string"==typeof(i=s.model.size.height)&&-1!=i.indexOf("%")?this.vmlRendering?o:a/100*parseInt(i):parseInt(i):a>0?o=a:$(s.svgObject).css("display","block"),$(s.svgObject).height(o),$("#"+s._id).css("overflow","hidden"),s.svgObject.setAttribute("width",r),s.svgObject.setAttribute("height",o)},compareExtend:function(e,t,i){var s,a,o,r;if("object"==typeof i&&null!==i)for(a=(s=Object.keys(i)).length,r=0;r<a;r++)o=s[r],t.hasOwnProperty(o)&&null!=t[o]?(Array.isArray(t[o])||"object"==typeof t[o]&&null!==t[o])&&this.compareExtend({},t[o],i[o]):t[o]=i[o];return t},setModelProperties:function(e){var t,i,s,a,o,r,l,n,d,h,c;if(e||this.setSvgSize(this),this.svgWidth=$(this.svgObject).width(),this.svgHeight=$(this.svgObject).height(),this.chartCross={visible:e?this.chartCross.visible:this.model.crosshair.visible,mArea:this.model.crosshair.type},this.serAnimation=[],this.model.series&&!e)for(o=!1,this.model._drawTrendline=!1,n=0;n<this.model.series.length;n++)for(l=null,ej.util.isNullOrUndefined(this.model.series[n].dataSource)&&ej.util.isNullOrUndefined(this.model.commonSeriesOptions.dataSource)||(l=ej.util.isNullOrUndefined(this.model.series[n].dataSource)?this.model.commonSeriesOptions.dataSource:this.model.series[n].dataSource),this.model.series[n]=ej.copyObject({},this.model.commonSeriesOptions,this.model.series[n]),this.model.series[n].dataSource=l,a=this.model.series[n],this.serAnimation.push(null===a.enableAnimation||void 0===a.enableAnimation?this.model.commonSeriesOptions.enableAnimation:a.enableAnimation),i=(t=a.trendlines).length,d=0;d<i;d++)if(t[d]=ej.copyObject({},this.model.trendlineDefaults,t[d]),t[d]._visibility=t[d].visibility,"visible"==t[d].visibility.toLowerCase()){if(this.model._drawTrendline=!0,r=t[d].type.toLowerCase(),!ej.util.isNullOrUndefined(a.points))for(h=0;h<a.points.length;h++)if(s=a.points[h],ej.util.isNullOrUndefined(s.y)||0==s.y){o=!0;break}t[d].isNull=!(!o||"power"!=r&&"exponential"!=r)}if(this.model.indicators)for(c=0;c<this.model.indicators.length;c++)this.model.indicators[c]=ej.copyObject({},this.model.indicatorDefaults,this.model.indicators[c])},_createChart:function(){var e,t,i,s;if(this.svgObject=this.svgRenderer.svgObj,e=$.extend({},ej.EjSvgRender.commonChartEventArgs),this._trigger("load",e),this.setTheme(ej.EjSvgRender.themes,this.model.theme),(t=this.model).series[0]&&t.series[0]._isdesigntime){for(t.series[0]={},t.series[0].points=[],i=[],s=1;s<=10;s++)i.push({x:s,y:Math.floor(-30*Math.random())+40});t.series[0].points=i}this.vmlRendering=!!this.svgRenderer.vmlNamespace,($(this.element).is(":visible")||"hidden"!=$(this.element).css("visibility")||"none"!=$(this.element).css("display"))&&(this.bindEvents(),this.bindTo())},setTheme:function(e,t){var i=t.toLowerCase();(i.indexOf("azure")>=0||i.indexOf("lime")>=0||i.indexOf("saffron")>=0)&&-1==i.indexOf("gradient")&&-1==i.indexOf("dark")?e[i]=$.extend(!0,{},e.flatlight,e[i]):(i.indexOf("azuredark")>=0||i.indexOf("limedark")>=0||i.indexOf("saffrondark"))>=0&&-1==i.indexOf("gradient")?e[i]=$.extend(!0,{},e.flatdark,e[i]):(i.indexOf("azure")>=0||i.indexOf("lime")>=0||i.indexOf("saffron")>=0)&&i.indexOf("gradient")>=0&&-1==i.indexOf("dark")?e[i]=$.extend(!0,{},e.gradientlight,e[i]):(i.indexOf("azuredark")>=0||i.indexOf("limedark")>=0||i.indexOf("saffrondark")>=0)&&i.indexOf("gradient")>=0?e[i]=$.extend(!0,{},e.gradientdark,e[i]):i.indexOf("high")>=0?e[i]=$.extend(!0,{},e.highcontrast01,e[i]):i.indexOf("material")>=0||i.indexOf("office")>=0?e[i]=$.extend(!0,{},e.material,e[i]):e[i]||(i="flatlight"),this.model=this.model._themeChanged?ej.copyObject({},this.model,e[i]):this.compareExtend({},this.model,e[i]),this.model.background=ej.util.isNullOrUndefined(this.model.background)?e[i].background:this.model.background},_drawBackInterior:function(){if(this.model.backInterior&&this.model.backInterior._gradientStop){var e={id:this.svgObject.id+"_backGradient",x1:"0%",y1:"0%",x2:"0%",y2:$(this.svgObject).height()+"%"};this.svgRenderer.drawGradient(e,this.model.backInterior._gradientStop)}},_drawBackImage:function(){var e={height:$(this.svgObject).height(),width:$(this.svgObject).width(),href:this.model.backGroundImageUrl,x:0,y:0,id:this.svgObject.id+"_backImage",visibility:"visible",preserveAspectRatio:"none"};this.svgRenderer.drawImage(e,this.svgObject)},_getDataType:function(e){var t=typeof e;return"number"===t||"string"===t?t:"date"==jQuery.type(e)?"date":null==e&&null},addedXYValues:function(e){var t,i;e=e||!1;var s,a,o,r,l,n,d,h,c,u,p,m,g,_=this.model,f=_.series,b=f[0].type.toLowerCase(),v=ej.util.isNullOrUndefined,x=_.primaryXAxis.valueType,y=!1;if("cartesianAxes"!=(g=_.AreaType=ej.seriesTypes[b].prototype.chartAreaType)&&"None"!=g&&(g=_.AreaType="polaraxes",_.isPolar="polar"==b),g=_.AreaType=_.AreaType.toLowerCase(),!e){for(o=0;o<f.length;o++)if("visible"==f[o].visibility){if(c=!0,n=!1,f[o].dataSource&&0!=f[o].dataSource.length)for((h=f[o])._xAxisValueType=null,s=h.points.length,null!=(d=h.points[0].x)&&(h._xAxisValueType=this._getDataType(d)),t=h.points.length,m=h.points,i=0;i<t;i++)"string"==typeof m[i].x&&-1!=m[i].x.indexOf("<br>")&&(m[i].x=m[i].x.replace(/(<br>)+/g,"<br>"));else for(m=f[o].points,f[o].points=null,f[o]=$.extend(!0,{},_.commonSeriesOptions,f[o]),f[o].points=m,h=f[o],"datetime"==x&&(y=!0),s=m.length,l=0;l<s;l++)m[l].YValues=[],u=1==/^-?[0-9]*\.?[0-9]+$/.test(m[l].x),p="category"!=x&&"datetime"!=x&&("string"==typeof m[l].x||m[l].x instanceof String)&&parseFloat(m[l].x),!isNaN(p?m[l].x:parseFloat(m[l].x))&&p&&u&&"category"!=x&&"none"!=g&&(m[l].x=y?new Date(m[l].x):parseFloat(m[l].x)),"string"==typeof m[l].x&&-1!=m[l].x.indexOf("<br>")&&(m[l].x=m[l].x.replace(/(<br>)+/g,"<br>")),m[l].xValue=m[l].x,n||v(d=m[l].x)||(h._xAxisValueType=this._getDataType(d),n=!0),h._hiloTypes||"rangecolumn"==h.drawType.toLowerCase()?(v(m[l].high)||(m[l].YValues[0]=m[l].high,m[l].y=m[l].high),v(m[l].low)||(m[l].YValues[1]=m[l].low),v(m[l].open)||(m[l].YValues[2]=m[l].open),v(m[l].close)||(m[l].YValues[3]=m[l].close)):(m[l].YValues[0]=h.points[l].y,(c=c&&!v(m[l].size))&&(m[l].YValues[1]=m[l].size));if("waterfall"==h.type.toLowerCase())this.calculateWaterfallSeriesPoints(h.points);else if(h._previousType&&"waterfall"==h._previousType.toLowerCase())for(a=h.points,r=0;r<a.length;r++)a[r].waterfallSum=void 0,a[r].textOptions=null}this._setInternalValues()}},calculateWaterfallSeriesPoints:function(e){for(var t=0,i=0,s=0,a=0;a<e.length;a++)e[a].isEmpty?(e[a].YValues[1]=0,e[a].YValues[0]=0):(i+=e[a].showIntermediateSum||e[a].showTotalSum?0:e[a].y,e[a].showIntermediateSum?(e[a].YValues[1]=t,e[a].YValues[0]=i,e[a].waterfallSum=i-t,t=i):e[a].showTotalSum?(e[a].YValues[1]=0,e[a].YValues[0]=i,e[a].waterfallSum=i):(e[a].YValues[1]=s,e[a].YValues[0]=s+e[a].y,s=i))},_setInternalValues:function(){for(var e,t,i,s=0;s<this.model.series.length;s++){if(e=this.model.series[s],"cartesianaxes"==this.model.AreaType&&"cartesianAxes"==ej.seriesTypes[e.type.toLowerCase()].prototype.chartAreaType)e._zOrder=e.zOrder?e.zOrder:0,this.model._visibleSeries.push(e);else if("none"==this.model.AreaType&&"None"==ej.seriesTypes[e.type.toLowerCase()].prototype.chartAreaType){if(e._zOrder=e.zOrder?e.zOrder:0,"funnel"==(t=this.model.series[s].type.toLowerCase())||"pyramid"==t){this.model._visibleSeries.push(e);break}this.model._visibleSeries.push(e)}else"polaraxes"==this.model.AreaType&&"PolarAxes"==ej.seriesTypes[e.type.toLowerCase()].prototype.chartAreaType&&(e._zOrder=e.zOrder?e.zOrder:0,this.model._visibleSeries.push(e));if((e._yAxisName||e._xAxisName)&&this.model._axes)for(i=0;i<this.model._axes.length;i++)e._yAxisName&&e._yAxisName==this.model._axes[i].name&&(this.model._axes[i].orientation=this.model._axes[i].orientation?this.model._axes[i].orientation:this.model.requireInvertedAxes?"horizontal":"vertical"),e._xAxisName&&e._xAxisName==this.model._axes[i].name&&(this.model._axes[i].orientation=this.model._axes[i].orientation?this.model._axes[i].orientation:this.model.requireInvertedAxes?"vertical":"horizontal")}},setHiloStyle:function(e,t,i,s){var a,o=e.points[t];return a=(o.fill?o.fill:e.fill?e.fill:s)||this.model.seriesColors[i],"array"==jQuery.type(a)?a[0].color:a},setStyle:function(e,t,i,s,a,o){var r,l,n,d,h,c,u,p,m,g=(o||t._visiblePoints)[s],_=g.border,f=t.border;return t._hiloTypes&&(h=t.isFill?t.fill:null),"cartesianaxes"==e.chartObj.model.AreaType?(g.fill?r=g.fill:"waterfall"==t.type.toLowerCase()?((g.showIntermediateSum||g.showTotalSum)&&g.waterfallSum>0||g.y>0&&!g.showIntermediateSum&&!g.showTotalSum)&&(r=t.positiveFill?t.positiveFill:a):r=h||a,c=r||this.model.seriesColors[i],u=e.chartObj.model.requireInvertedAxes?this.svgRenderer.createGradientElement(e.getSeriesName(t)+"_"+i+s,c,0,0,100,0,e.gSeriesGroupEle):this.svgRenderer.createGradientElement(e.getSeriesName(t)+"_"+i+s,c,0,0,0,100,e.gSeriesGroupEle)):(p=this.model.pointColors,r=g.fill?g.fill:"array"==jQuery.type(p[s])?p[s][0].color:p[s],m=this.svgRenderer.createGradientElement(e.getSeriesName(t)+s,r,0,0,0,$(e.svgObject).height()||parseFloat(this.model.size.height),e.chartObj.gSeriesEle)),l=_&&_.color?_.color:f.color,n=_&&!ej.util.isNullOrUndefined(_.width)?_.width:f.width,d=g.opacity?g.opacity:t.opacity,{interior:u||m,borderColor:l,borderWidth:n,width:g.width?g.width:t.width,opacity:d,dashArray:_&&_.dashArray?_.dashArray:f.dashArray}},colorNameToHex:function(e){var t=e,i={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return"[object Array]"==Object.prototype.toString.call(t)?t:"undefined"!=typeof i[t.toLowerCase()]?i[t.toLowerCase()]:t},_getLocalizedLabels:function(){return ej.getLocalizedConstants(this.sfType,this.model.locale)},_setCulture:function(e){this.culture=ej.preferredCulture(e)},draw:function(e){var t,i,s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I,R,M,E,V;for(this.removeMultiRect(),(t={}).axes={},this._drawBackInterior(),this.model.chartRegions=[],this.model.outsideDataRegionPoints=[],this.model.regionCount=null,this.model.circularRadius=[],this.model.circleCenterX=[],this.model.circleCenterY=[],this.model.innerRadius=[],this.model.bounds=[],this.accDataLabelRegion=[],this.model.rightsidebounds=[],this.model.leftsidebounds=[],this.model.excludeDataUpdate=e,this.model.yAxisLabelRegions=[],this.model.xAxisLabelRegions=[],this.model.axisMultiLevelLabelRegions=[],this.model.multiLevelLabelRegions=[],this.model.minhightwidth=!1,this.model._isPieOfPie=!1,e||(this.model._visibleSeries=[]),this.model.stackedValue={},this.model._locale=this.model.locale||"en-US",this._setCulture(this.model._locale),this._localizedLabels=this._getLocalizedLabels(),Y=this.model.series.length,this.model._sideBySideSeriesPlacement=ej.util.isNullOrUndefined(this.model.sideBySideSeriesPlacement)?!this.model.enable3D:this.model.sideBySideSeriesPlacement,V=0;V<Y;V++)i=(p=this.model.series[V]).type.toLowerCase(),p._isTransposed=-1==i.indexOf("bar")?p.isTransposed:!p.isTransposed;for(Y>0&&this.addedXYValues(e),this.model.AreaType=this.model.AreaType||"cartesianaxes",this._isEjScroller(),(s=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={},this._trigger("preRender",s),this.gLegendEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_Legend"}),this.gTitleEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_ChartTitle",cursor:"default"}),this.gSubTitleEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_ChartsubTitle",cursor:"default"}),this._createAxisLabelAndRange(),V=0;V<this.model._axes.length;V++)t.axes[this.model._axes[V].name]={};for(this._initializeSeriesColors(),this._calculateLegendBounds(),this.legendRender=new ej.EjLegendRender(this),(a=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={legendBounds:this.model.LegendBounds},this._trigger("legendBoundsCalculate",a),h=0;h<this.model.indicators.length;h++)if((o=this.model.indicators[h])._points=[],o.xAxisName=o.xAxisName?o.xAxisName:this.model._axes[0].name,o.yAxisName=o.yAxisName?o.yAxisName:this.model._axes[1].name,o.isIndicator=!0,o.dataSource&&o.dataSource.length>0)o._hiloTypes=!0,this._processJsonData(o.dataSource,o),o._points=o.points;else if(o.points.length>0)for(V=0;V<o.points.length;V++)o._points=o.points,o._points[V].xValue=o.points[V].x,o._points[V].YValues=[],o._points[V].YValues[0]=o.points[V].close;else if(""!=o.seriesName)for(r=0;r<this.model._visibleSeries.length;r++)p=this.model._visibleSeries[r],o.seriesName==p.name&&(o._points=$.extend(!0,[],p.points));for(d=0;d<this.model._axes.length;d++)if(this.model._axes[d].valueType&&"category"==this.model._axes[d].valueType.toLowerCase())for(V=0;V<this.model.indicators.length;V++)if(o=this.model.indicators[V],this.model._axes[d].name==o.xAxisName)for(h=0;h<o._points.length;h++)o._points[h].xValue=h;for(this.model.indicatorRange=[],r=0;r<this.model.indicators.length;r++)(o=this.model.indicators[r])._points.length>0&&(g=o.type.toLowerCase(),(l=new ej.indicatorTypes[g]).calculateSegment(o,this));for(m=0;m<this.model._visibleSeries.length;m++)for(l=this.model._visibleSeries[m],V=0;V<l.points.length&&"string"==typeof l.points[V].xValue&&-1!=l.points[V].xValue.indexOf("/Date(");V++)l.points[V].xValue=new Date(parseInt(l.points[V].xValue.substr(6)));this.model.hAxes=[],this.model.vAxes=[];var N=this,B=!1,F=!1;for(this._arrangeAxis(),this.model.crosshairLabelVisibility=!1,d=0;d<this.model._axes.length;d++){oe=this.model._axes[d],this.model.crosshairLabelVisibility=oe.crosshairLabel.visible||this.model.crosshairLabelVisibility;var z=[],Y=this.model.series.length,X=this.model._axes[d].orientation.toLowerCase(),W=this.model._axes[d].rangePadding.toLowerCase();if(ej.util.isNullOrUndefined(this.model._axes[d]._rangePadding)&&(this.model._axes[d]._rangePadding=this.model._axes[d].rangePadding),"auto"==W)for("vertical"==X&&(oe.rangePadding=this.model.requireInvertedAxes?"none":"normal"),"horizontal"==X&&(oe.rangePadding=this.model.requireInvertedAxes?"normal":"none"),h=0;h<Y;h++)if(-1!=(g=this.model.series[h].type.toLowerCase()).indexOf("100")&&oe.name==this.model.series[h]._yAxisName){oe.rangePadding="round";break}for(c=0;c<oe.stripLine.length;c++)oe.stripLine[c]=$.extend(!0,{},this.model.stripLineDefault,oe.stripLine[c]),"over"==oe.stripLine[c].zIndex.toLowerCase()?B=!0:F=!0;for(u=oe.orientation.toLowerCase(),this.model._visibleSeries.length,h=0;h<this.model._visibleSeries.length;++h){p=this.model._visibleSeries[h],this.model._hasSeriesPoints=p.points.length>0||this.model._hasSeriesPoints,p.xAxisName||(p._xAxisName=N.model._axes[0].name),p.yAxisName||(p._yAxisName=N.model._axes[1].name),p._xAxisName=p._xAxisName?p._xAxisName:p.xAxisName?p.xAxisName:N.model._axes[0].name,p._yAxisName=p._yAxisName?p._yAxisName:p.yAxisName?p.yAxisName:N.model._axes[1].name;var H=p._xAxisName.toLowerCase(),U=p._yAxisName.toLowerCase(),G=oe.name.toLowerCase();if((H||U)&&(H==G||U==G)){if(("horizontal"==u||-1!=p.type.toLowerCase().indexOf("bar")&&"vertical"==u)&&oe.valueType&&"datetime"==oe.valueType.toLowerCase())for(m=0;m<p.points.length;m++)"string"!=typeof p.points[m].xValue||isNaN(Date.parse(p.points[m].xValue))||(p.points[m].xValue=new Date(Date.parse(p.points[m].xValue)));else"string"!=p._xAxisValueType||oe.valueType||(oe._valueType="horizontal"!=u||this.model.requireInvertedAxes?"vertical"==u&&this.model.requireInvertedAxes?"category":"double":"category"),"date"!=p._xAxisValueType||oe.valueType||(oe._valueType="horizontal"!=u||this.model.requireInvertedAxes?"vertical"==u&&this.model.requireInvertedAxes?"datetime":"double":"datetime");"visible"==this.model._visibleSeries[h].visibility.toLowerCase()&&z.push(p)}}if(u==(this.model.requireInvertedAxes?"horizontal":"vertical")){var q=!1,Z=!1;for(Y=z.length,oe.isStacked100=z.length>0,V=0;V<Y;V++)-1!=(g=z[V].type.toLowerCase()).indexOf("stacking")||"polaraxes"==this.model.AreaType&&("column"==z[V].drawType.toLowerCase()||"area"==z[V].drawType.toLowerCase())&&z[V].isStacking?-1==g.indexOf("100")||q?-1!=g.indexOf("100")||Z||(this._calculateStackingValues(z,oe,t),Z=!0,oe.isStacked100=!1):(this._calculateStackingCumulativeValues(z,oe,t),q=!0):oe.isStacked100=!1}for((n=oe.scrollbarSettings).visible&&(null!=n.pointsLength||null!=n.range.min||null!=n.range.max)&&(this.model.isLazyZooming=!0),oe._valueType=oe._valueType?oe._valueType:oe.valueType?oe.valueType:"double",_=new(ej.axisTypes[oe._valueType.toLowerCase()]),f=0;f<z.length;f++)for(b=0;b<z[f].trendlines.length;b++)if("visible"==z[f].trendlines[b].visibility){this.model._drawTrendline=!0;break}_._calculateRanges(N,oe,z,t,e)}if(N._chartResize=!1,(v=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={axes:this.model._axes},this._trigger("axesLabelsInitialize",v),this.model.isLazyZooming||this._updateScroll(),(this.svgHeight!=this.model.svgHeight||this.svgWidth!=this.model.svgWidth)&&(x=ej.util.isNullOrUndefined(this.prevHeight)?this.svgHeight:this.prevHeight,y=ej.util.isNullOrUndefined(this.prevWidth)?this.svgWidth:this.prevWidth,(D=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={currentHeight:x,currentWidth:y,newHeight:this.model.svgHeight,newWidth:this.model.svgWidth},this._trigger("beforeResize",D),D.cancel?(this.model.enableCanvasRendering&&(this.svgRenderer.svgObj.width=D.data.currentWidth,this.svgRenderer.svgObj.height=D.data.currentHeight),this.model.svgWidth=D.data.currentWidth,this.model.svgHeight=D.data.currentHeight,$(this.svgObject).width(D.data.currentWidth),$(this.svgObject).height(D.data.currentHeight)):(this.model.enableCanvasRendering&&(this.svgRenderer.svgObj.width=D.data.newWidth,this.svgRenderer.svgObj.height=D.data.newHeight),this.model.svgWidth=D.data.newWidth,this.model.svgHeight=D.data.newHeight,$(this.svgObject).width(D.data.newWidth),$(this.svgObject).height(D.data.newHeight))),this._calculateAreaBounds(t),this.model.enable3D&&(w=new ej.Ej3DRender,this.vector=new w.vector3D,this.matrixobj=new w.matrix3D,this.bsptreeobj=new w.BSPTreeBuilder,this.polygon=new w.polygon3D,this.graphics=new w.Graphics3D,this.chart3D=this.svgRenderer.createGroup({id:this.svgObject.id+"_Chart3D"}),ej.Ej3DRender.Polygons=[]),"none"!=this.model.AreaType){for(this._calculateAxisSize(t),V=0,j=this.model._axes.length;V<j;V++)this._validateCrossing(this.model._axes[V])&&this._axisCrossing(this.model._axes[V],!1,t);if(t._crossAxisOverlap){for(V=0,j=this.model._axes.length;V<j;V++)t.axes[this.model._axes[V].name]._validCross&&this._axisCrossing(this.model._axes[V],!0,t);t._crossAxisOverlap=!1}if((S=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={areaBounds:this.model.m_AreaBounds},this._trigger("chartAreaBoundsCalculate",S),this._drawChartAreaRect(),""!=this.model.title.text&&this.model.title.text&&this.model.title.visible&&this._drawTitle(),this.gXaxisEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxis"}),this.gYaxisEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxis"}),this.gPolarAxisEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_AxisLine"}),this.model.enable3D?($.extend(ej.Ej3DAxisRenderer.prototype,this),this.chartaxis=new ej.Ej3DAxisRenderer(this)):($.extend(ej.EjAxisRenderer.prototype,this),this.chartaxis=new ej.EjAxisRenderer(this)),k=this.chartaxis,this.model.xAxisTitleRegion=[],this.model.yAxisTitleRegion=[],this.model.enable3D){for(P=0;P<this.model._axes.length;P++)k._drawAxes(P,this.model._axes[P],t);ej.Ej3DChart.prototype.update3DWall(this,t)}else for(P=0;P<this.model._axes.length;P++)k._drawGridLines(P,this.model._axes[P],t);this.model.requireInvertedAxes?(this.svgRenderer.append(this.gYaxisEle,this.svgObject),this.svgRenderer.append(this.gXaxisEle,this.svgObject)):(this.svgRenderer.append(this.gXaxisEle,this.svgObject),this.svgRenderer.append(this.gYaxisEle,this.svgObject));var Q="polaraxes"==this.model.AreaType?0:this.model.m_AreaBounds.X,K="polaraxes"==this.model.AreaType?0:this.model.m_AreaBounds.Y,J="polaraxes"==this.model.AreaType?$(this.svgObject).width():this.model.m_AreaBounds.Width,ee="polaraxes"==this.model.AreaType?$(this.svgObject).height():this.model.m_AreaBounds.Height,te={id:this.svgObject.id+"_ChartAreaClipRect",x:Q,y:K,width:J,height:ee,fill:"white","stroke-width":1,stroke:"Gray"};this.svgRenderer.drawClipPath(te,this.svgObject),this._setZoomProperties()}else this._drawChartAreaRect(),te={id:this.svgObject.id+"_ChartAreaClipRect",x:0,y:0,width:$(this.svgObject).width(),height:$(this.svgObject).height(),fill:"white","stroke-width":1,stroke:"Gray"},this.svgRenderer.drawClipPath(te,this.svgObject),""!=this.model.title.text&&this.model.title.text&&this.model.title.visible&&this._drawTitle();for(F&&"cartesianaxes"==this.model.AreaType&&!this.model.enable3D&&(this.gStriplineBehind=this.svgRenderer.createGroup({id:this.svgObject.id+"_StriplineBehind","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"}),this._renderStripline("behind")),this.model.initSeriesRender&&(this.seriesRender(t,e),this.indicatorRender()),C=this.model.annotations.length,$("#annotation_group_"+this._id).empty(),T=0;T<C;T++)(L=this.model.annotations[T]).visible&&this.annotationRender(L,T);if("polaraxes"==this.model.AreaType&&this.model._axes[1].visible&&!this.model.enable3D&&this.chartaxis._drawAxisLine(this.model._axes[1]),"cartesianaxes"===this.model.AreaType&&(this.model.requireInvertedAxes?(this.svgRenderer.append(this.gYaxisEle,this.svgObject),this.svgRenderer.append(this.gXaxisEle,this.svgObject)):(this.svgRenderer.append(this.gXaxisEle,this.svgObject),this.svgRenderer.append(this.gYaxisEle,this.svgObject)),this.gXaxisTickEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisTick"}),this.gYaxisTickEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisTick"})),$.extend(ej.EjAxisRenderer.prototype,this),this.chartaxis=new ej.EjAxisRenderer(this),k=this.chartaxis,B&&"cartesianaxes"==this.model.AreaType&&!this.model.enable3D&&(this.gStriplineOver=this.svgRenderer.createGroup({id:this.svgObject.id+"_StriplineOver","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"}),this._renderStripline("over")),!this.model.enable3D){var ie="cartesianaxes"==this.model.AreaType.toLowerCase(),se=this.model._axes,ae=this.model.enableCanvasRendering;for(P=0,j=se.length;P<j;P++){var oe=se[P],re=t.axes[oe.name]._lineOption,le=t.axes[oe.name]._validCross;ie&&(k._drawAxes(P,oe),re[0]&&this.svgRenderer.drawLine(re[0],re[1]),"horizontal"===oe.orientation.toLowerCase()?(k._drawXAxisTickLine(P,oe,ae?null:re[1],t),k._drawXAxisMultiLevelLabels(P,oe)):(k._drawYAxisTickLine(P,oe,ae?null:re[1],le),k._drawYAxisMultiLevelLabels(P,oe)),oe._crossValue=null)}}if(!this.resetZooming&&(this.model._chartAreaZoom||this.panning)&&this._enableZoomingButtons(),this.resetZooming=!1,(this.svgHeight!=this.model.svgHeight||this.svgWidth!=this.model.svgWidth)&&(this.prevHeight=this.model.svgHeight,this.prevWidth=this.model.svgWidth,(D=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={height:this.prevHeight,width:this.prevWidth,prevHeight:x,prevWidth:y,originalHeight:this.svgHeight,originalWidth:this.svgWidth},this._trigger("afterResize",D)),z=this.model._visibleSeries,A=$.grep(z,(function(e){return"true"==e.selectionSettings.enable.toString()})),0==A.length?(this.model.selectionEnable=!1,this._removeSelection()):this.model.selectionEnable=!0,O=this.remove_duplicates(this.model.selectedDataPointIndexes),this.model.selectionEnable)for(this._removeSelection(),this.model._isStateChaged=!0,M=O.length,V=0;V<M;V++)I=O[V],(p=this.model._visibleSeries[I.seriesIndex])&&("series"!=(R=p.selectionSettings.mode)&&p.points[I.pointIndex]||"series"==R)&&this.segmentSelection(I.event,I.legendData,I.seriesIndex,I.pointIndex,I.data);for(this.chartUpdating=!1,$(document).find("#measureTex").remove(),(E=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={model:this.model},this._trigger("loaded",E),V=0;V<this.model._axes.length;V++)"logarithmic"!=(oe=$.extend(!0,{},this.model._axes[V]))._valueType.toLowerCase()&&(this.model._axes[V].range=oe._initialRange)},remove_duplicates:function(e){for(var t,i,s=[],a=[],o=e.length,r=this.model._visibleSeries,l=0;l<o;l++)"series"==(t=(i=r[e[l].seriesIndex])?i.selectionSettings.mode:"")?(s.indexOf(e[l].seriesIndex)>-1||a.push(e[l]),s.push(e[l].seriesIndex)):"cluster"==t?(s.indexOf(e[l].pointIndex)>-1||a.push(e[l]),s.push(e[l].pointIndex)):(e[l]in s||a.push(e[l]),s.push(e[l]));return a},_setZoomProperties:function(){for(var e,t,i,s,a=0;a<this.model._axes.length;a++)s=(e=this.model._axes[a]).orientation.toLowerCase(),t=e.zoomFactor.toFixed(3),i=e.zoomPosition.toFixed(3),"horizontal"==s&&(t!=this._xZoomFactor()||i!=this._xZoomPosition())&&(this._xZoomFactor(e.zoomFactor.toFixed(3)),this._xZoomPosition(e.zoomPosition.toFixed(3))),"vertical"==s&&(t!=this._yZoomFactor()||i!=this._yZoomPosition())&&(this._yZoomFactor(e.zoomFactor.toFixed(3)),this._yZoomPosition(e.zoomPosition.toFixed(3)))},annotationRender:function(e,t){var i,s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O=this._id,I=!1,R=this.model.series[0],M=R.type.toLowerCase(),E=this.model.m_AreaBounds.X,V=this.model.m_AreaBounds.Y,N=this.model.m_AreaBounds.Width,B=this.model.m_AreaBounds.Height,F=this.model.margin.left,z=this.model.margin.top,Y=$.inArray(R,this.model._visibleSeries),X=this.model.circularRadius[Y],W=this.model.circleCenterX[Y],H=this.model.circleCenterY[Y],U=$(document);e=$.extend(!0,{},this.model.annotationsDefault,e),(a=0!=$("#annotation_group_"+O).length?$("#annotation_group_"+O):$("<div></div>").attr("id","annotation_group_"+O)).css({position:"absolute",left:"0px",top:"0px"}),o=e.content,"SCRIPT"==(r=$("#"+o)).get(0).tagName&&(r=$($("#"+o)[0].innerHTML)),l=r.clone(),n="annotation_"+O+"_"+o+"_"+t,$(l).attr("id",n),(d=$(l)).css({position:"absolute","z-index":2e3});var G=e.region.toLowerCase(),q=e.coordinateUnit.toLowerCase(),Z="string"==typeof e.x||"object"==typeof e.x?Date.parse(e.x):e.x,Q=e.y,K=e.horizontalAlignment.toLowerCase(),J=e.verticalAlignment.toLowerCase();if("pixels"==q)"series"==G?N+E+F>Z+E&&B+V+z>Q+V&&(h=Z+E,c=Q+V):"chart"==G&&$(this.svgObject).width()>Z&&$(this.svgObject).height()>Q&&(h=Z,c=Q),d.css({left:h,top:c}),I=!0;else if("points"==q)if(u={x:Z,y:Q},"polaraxes"==this.model.AreaType)v=this.model._axes[0],x=this.model._axes[1],Z>=v.visibleRange.min&&Z<=v.visibleRange.max&&Q>=x.visibleRange.min&&Q<=x.visibleRange.max&&(p=this.TransformToVisibleAnnotation(v,x,Z,Q,this),d.css({left:p.X,top:p.Y}),I=!0);else if("pyramid"==M||"funnel"==M)for(g=0;g<R._visiblePoints.length;g++)(R._visiblePoints[g].xValue<=Z&&Z<R._visiblePoints.length||Date.parse(R._visiblePoints[g].xValue)<=Z&&Z<R._visiblePoints.length)&&(m=R._visiblePoints[Z],d.css({left:m.xLocation+this.pyrX,top:m.yLocation+this.pyrY-m.height/2}),I=!0);else if("pie"==M||"doughnut"==M||"pieofpie"==M){for(g=0;g<R._visiblePoints.length;g++)if(R._visiblePoints[g].xValue<=Z&&Z<R._visiblePoints.length||Date.parse(R._visiblePoints[g].xValue)<=Z&&Z<R._visiblePoints.length){m=R._visiblePoints[Z];var ee,te,ie=Z,se=new ej.seriesTypes[M],ae=m?m.currentMidAngle:0;ie!=R.explodeIndex&&!R.explodeAll||this.vmlRendering?(ee=W,te=H):(ee=W+Math.cos(ae)*R.explodeOffset,te=H+Math.sin(ae)*R.explodeOffset),i=((_=se.getXCordinate(ee,X,ae))+(i=(_+ee)/2))/2,s=((f=se.getYCordinate(te,X,ae))+(s=(f+te)/2))/2,d.css({left:i,top:s}),I=!0}}else{var oe=e.xAxisName,re=e.yAxisName,le=this.model._axes.length;for(b=0;b<le;b++)this.model._axes[b].name==oe&&(v=this.model._axes[b]),this.model._axes[b].name==re&&(x=this.model._axes[b]);v||(v=this.model._axes[0]),x||(x=this.model._axes[1]),y="string"==typeof v.range.min||"object"==typeof v.range.min?Date.parse(v.range.min):v.range.min,w="string"==typeof v.range.max||"object"==typeof v.range.max?Date.parse(v.range.max):v.range.max,y<=Z&&w>=Z&&(this.model.requireInvertedAxes?(u.x=u.y+(u.y=u.x,0),p=this._getAnnotationPoint(u,x,v),d.css({left:p.X+E,top:p.Y+v.y})):(p=this._getAnnotationPoint(u,v,x),d.css({left:p.X+E,top:p.Y+x.y})),I=!0)}else{if(d.css("display","block").appendTo($(a)),$(a).appendTo("#chartContainer_"+O),S=d.outerWidth(),C=d.outerHeight(),"chart"==G){switch(K){case"middle":h=$(this.svgObject).width()/2-S/2;break;case"left":h=0;break;case"right":h=$(this.svgObject).width()-S}switch(J){case"middle":c=$(this.svgObject).height()/2-C/2;break;case"top":c=0;break;case"bottom":c=$(this.svgObject).height()-C}}else if("pie"==M||"doughnut"==M||"pieofpie"==M){switch(h=W,c=H,K){case"middle":h=W-S/2;break;case"left":h=W-X;break;case"right":h=W+X-S}switch(J){case"middle":c=H-C/2;break;case"top":c=H-X;break;case"bottom":c=H+X}}else{switch(K){case"middle":h=E+N/2-S/2;break;case"left":h=E;break;case"right":h=E+N-S}switch(J){case"middle":c=V+B/2-C/2;break;case"top":c=V;break;case"bottom":c=V+B-C}}("pyramid"==M||"funnel"==M)&&(h-=F),d.css({left:h,top:c})}if(h=parseFloat(d.css("left")),c=parseFloat(d.css("top")),"none"!=q&&I){switch(d.css("display","block").appendTo($(a)),$(a).appendTo("#chartContainer_"+O),S=d.outerWidth(),C=d.outerHeight(),K){case"middle":h-=S/2;break;case"left":h-=S}switch(J){case"middle":c-=C/2;break;case"top":c-=C}}h=h+(T=e.margin).left-T.right,c=c+T.top-T.bottom,(L=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={content:d.html(),location:{x:h,y:c},opacity:e.opacity,angle:e.angle},this._trigger("annotationRendering",L),d.html(L.data.content),d.css({left:L.data.location.x,top:L.data.location.y,opacity:L.data.opacity}),(k=L.data.angle)&&d.css({"-ms-transform":"rotate("+k+"deg)","-webkit-transform":"rotate("+k+"deg)","-moz-transform":"rotate("+k+"deg)","-o-transform":"rotate("+k+"deg)","-transform":"rotate("+k+"deg)"});var ne=d.attr("id"),de=D=j=P=0,he=$("#"+this._id).width(),ce=$("#"+this._id).height();!I||0!=k||"series"!=G&&"points"!=q?I&&0==k&&"chart"==G?(he<h+S&&(P=S-(h+S-he)),h<0&&(j=0==(j=S+h)?S:j),ce<c+C&&(D=C-(c+C-ce)),c<0&&(de=0==(de=C+c)?C:de),P=0==P?S:P,D=0==D?C:D,document.getElementById(ne).style.clip="rect("+de.toString()+"px,"+P.toString()+"px,"+D.toString()+"px,"+j+"px)"):!I||90!=k||"series"!=G&&"points"!=q?I&&90==k&&"chart"==G&&(h=(A=document.getElementById(ne).getBoundingClientRect()).left-$(this.svgObject).offset().left,ce<(c=A.top-$(this.svgObject).offset().top)+S&&(P=S-(c+S-ce)),h<0&&(D=0==(D=C-(0-h))?C:D),c<0&&(j=0==(j=0-c)?S:j),he<h+C&&(de=h+C-he),P=0==P?S:P,D=0==D?C:D,document.getElementById(ne).style.clip="rect("+de.toString()+"px,"+P.toString()+"px,"+D.toString()+"px,"+j+"px)"):(h=(A=document.getElementById(ne).getBoundingClientRect()).left-$(this.svgObject).offset().left+U.scrollLeft(),B+V<(c=A.top-$(this.svgObject).offset().top+U.scrollTop())+S&&(P=S-(c+S-(B+V))),h<E&&(D=C-(E-h)),c<V&&(j=V-c),N+E<h+C&&(de=h+C-(N+E)),P=0==P?S:P,D=0==D?C:D,document.getElementById(ne).style.clip="rect("+de.toString()+"px,"+P.toString()+"px,"+D.toString()+"px,"+j+"px)"):(N+E<h+S&&(P=S-(h+S-(N+E))),h<E&&(j=E-h),B+V<c+C&&(D=C-(c+C-(B+V))),c<V&&(de=V-c),P=0==P?S:P,D=0==D?C:D,document.getElementById(ne).style.clip="rect("+de.toString()+"px,"+P.toString()+"px,"+D.toString()+"px,"+j+"px)")},TransformToVisibleAnnotation:function(e,t,i,s,a){i="logarithmic"==e._valueType&&i>0?Math.log(i,e.logBase):i,s="logarithmic"==e._valueType&&s>0?Math.log(s,t.logBase):s;var o=a.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t,s,this),r=ej.EjSvgRender.utils._valueToVector(e,i);return{X:a.model.centerX+o*r.X,Y:a.model.centerY+o*r.Y}},_getAnnotationPoint:function(e,t,i){this.model.requireInvertedAxes;var s=e.x,a=e.y,o="logarithmic"==t._valueType?ej.EjSvgRender.utils._logBase(0==s?1:s,t.logBase):s,r="logarithmic"==i._valueType?ej.EjSvgRender.utils._logBase(0==a?1:a,t.logBase):a;return o=ej.EjSvgRender.utils._getPointXY(o,t.visibleRange,t.isInversed)*t.width,r=(1-ej.EjSvgRender.utils._getPointXY(r,i.visibleRange,i.isInversed))*i.height,e.location={X:o,Y:r},e.location},indicatorRender:function(){var e,t,i,s,a,o,r,l,n,d;for($(this.svgObject).find("#"+this.svgObject.id+"_IndicatorCollection").length>0&&$(this.svgObject).find("#"+this.svgObject.id+"_IndicatorCollection").remove(),e={id:this.svgObject.id+"_IndicatorCollection","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},this.gIndicatorEle=this.svgRenderer.createGroup(e),t=0;t<this.model.indicators.length&&this.model.indicators[t].visible&&this.model.indicators[t]._points.length>0;t++){for(a=(i=this.model.indicators[t]).animationDuration,o=0;o<this.model._axes.length;o++)(r=this.model._axes[o]).name&&"horizontal"==r.orientation.toLowerCase()&&r.name.toLowerCase()==i.xAxisName.toLowerCase()?i.xAxis=r:r.name&&"vertical"==r.orientation.toLowerCase()&&r.name.toLowerCase()==i.yAxisName.toLowerCase()&&(i.yAxis=r);l=i.type.toLowerCase(),s=new ej.indicatorTypes[l],this.model.enableCanvasRendering?(this.svgRenderer.ctx.save(),this.svgRenderer.ctx.beginPath(),this.svgRenderer.ctx.rect(this.model.m_AreaBounds.X,i.yAxis.y,i.xAxis.width,i.yAxis.height),this.svgRenderer.ctx.clip(),s.draw(i,this),this.svgRenderer.ctx.restore()):s.draw(i,this),(n=s.gIndicatorGroupEle)&&ej.EjSvgRender.utils._drawAxesBoundsClipPath(n,i,this),this.vmlRendering||this.model.enableCanvasRendering||i.enableAnimation&&(!i._animatedSeries||i.type!=i._previousType)&&(this.svgRenderer.append(this.gIndicatorEle,this.svgObject),d=$(this.gIndicatorEle).find("#"+this.svgObject.id+"_indicatorGroup_"+t+"_ClipRect").children(),ej.EjSeriesRender.prototype._doLineAnimation(this,d,a),this.model.AnimationComplete=!0,i._animatedSeries=!0,i._previousType=i.type),this.svgRenderer.append(this.gIndicatorEle,this.svgObject)}},doAnimation:function(e){var t,i,s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w=this,S=w.model,C=S.requireInvertedAxes,T=e.type.toLowerCase(),L=$.inArray(e,S._visibleSeries),k=this.svgObject.id+"_SeriesGroup_"+L,P=$(w.gSymbolGroupEle)[L].childNodes,j=P.length,D=$(w.gDataLabelEle)[L].childNodes,A=D.length,O=$(w.gConnectorEle)[L].childNodes,I=O.length,R=void 0==$(w.gErrorBarGroupEle)[L]?void 0:$(w.gErrorBarGroupEle)[L].childNodes,M=ej.util.isNullOrUndefined(R)?0:R.length,E=e._animationType,V=ej.EjSeriesRender.prototype;switch(w.gSeriesGroupEle=$("#"+k)[0],b=w.model.series[L].animationDuration,ej.util.isNullOrUndefined(b)?(m=2e3,g=200,_=500,f=1e3):g=(m=_=f=parseFloat(b))/10,E){case"rect":if(d=(n=$(this.gSeriesEle).find("#"+k).children("rect")).length,h=$(w.gSeriesEle).find("#"+k+"_ClipRect").children(),"boxandwhisker"==T){for(s=$(this.gSeriesEle).find("#"+k).children("line"),i=m/(a=$(this.gSeriesEle).find("#"+k).children("path")).length,v=0;v<s.length;v++)V._doLineSymbol(s[v],i,v,e,C,w,g),V._doLineSymbol(n[v],i,v,e,C,w,g);for(x=0;x<a.length;x++)V._doLineSymbol(a[x],i,x,e,C,w,g)}else if(!T.indexOf("stacking")>-1&&"smooth"==e.animationType.toLowerCase())V.animateRect(h,e,C,w,f);else for(y=0;y<d;y++)T.indexOf("stacking")>-1?V.animateStackingRect(n[y],e,C,w,f):V.animateRect(n[y],e,C,w,f);o=r=t=m/4;break;case"path":h=$(w.gSeriesEle).find("#"+k+"_ClipRect").children(),V._doLineAnimation(w,h,m),o=m/j,r=m/A,t=m/M;break;case"scatter":for(y=0;y<j;y++)u=Math.floor(20*Math.random()+0),p=parseInt(50*u),V.animateSymbol(P[y],p,e,C,w,_);break;case"bubble":for(n=$(this.gSeriesGroupEle).children().not("defs"),p=0,y=0;y<n.length;y++)V.animateSymbol(n[y],p,e,C,w,_);for(y=0;y<j;y++)V.animateSymbol(P[y],p,e,C,w,_);for(y=0;y<A;y++)V.animateSymbol(D[y],p,e,C,w,_);for(y=0;y<I;y++)V.animateSymbol(O[y],p,e,C,w,_);break;case"hilo":for(c=m/(d=(n=$(this.gSeriesGroupEle).children().not("defs")).length),y=0;y<d;y++)V._doLineSymbol(n[y],c,y,e,C,w,g);r=m/A;break;case"cylinder":h=$(w.gSeriesEle).find("#"+k+"_ClipRect").children(),V.animateCylinder(w,e,C,h,m),o=r=t=m/4}if("bubble"!=E){for(x=0;x<j;x++)l="rect"==E||"stackingRect"==E?2:x,V._doLineSymbol(P[x],o,l,e,C,w,g);for(x=0;x<A;x++)l="rect"==E||"stackingRect"==E?2:x,V._doLineSymbol(D[x],r,l,e,C,w,g);for(c=m/I,x=0;x<I;x++)l="rect"==E||"stackingRect"==E?2:x,V._doLineSymbol(O[x],c,l,e,C,w,g)}if("visible"==e.errorBar.visibility)for(x=0;x<M;x++)l="rect"==E||"stackingRect"==E?2:x,V._doLineSymbol(R[x],t,l,e,C,w,g)},_animationElements:function(e,t,i){var s,a,o=this,r=o.model.series[i].animationDuration,l=ej.util.isNullOrUndefined(r)?2e3:parseFloat(r);if(e._previousType=ej.util.isNullOrUndefined(e._previousType)?e.type:e._previousType,!e.enableAnimation||this.vmlRendering||this.model.enableCanvasRendering||e._animatedSeries&&e.type==e._previousType||(ej.EjSeriesRender.prototype.doCircularAnimation(this,e,t,i,l),e._previousType=e.type,e._animatedSeries=!o.isSplitted),o.isSplitted=!1,this.drawAccDisplayText(t,e,i),e.enableAnimation&&e._visiblePoints.length>0&&e.AnimationComplete&&!this.vmlRendering&&!this.model.enableCanvasRendering){if(o.svgRenderer._setAttr($(o.gSeriesEle).find("#"+o.gSeriesTextEle[i].id),{visibility:"visible"}),o.gSymbolGroupEle&&o.svgRenderer._setAttr($(o.gSeriesEle).find("#"+o.gSymbolGroupEle[i].id),{visibility:"visible"}),e.marker.dataLabel.template)for(s=$(o.element[0].childNodes[0].childNodes),a=0;a<s.length;a++)$(s[a]).css("display","block");o.gConnectorEle&&o.svgRenderer._setAttr($(o.gSeriesEle).find("#"+o.gConnectorEle[i].id),{visibility:"visible"}),o.gDataLabelEle&&o.svgRenderer._setAttr($(o.gSeriesEle).find("#"+o.gDataLabelEle[i].id),{visibility:"visible"})}},_appendConnectorElements:function(e){var t=ej.DataManager(this.model._visibleSeries,ej.Query().sortBy("_zOrder")).executeLocal()[e];t.type.toLowerCase(),"visible"==t.visibility&&!this.model.enable3D&&t.connectorLine&&(t.connectorLines||"none"==this.model.AreaType)&&(this.svgRenderer.append(this.gConnectorEle[e],this.gSeriesEle),t.connectorLines=!1)},_appendDataLabelElement:function(e){var t,i;t=this.model._visibleSeries[e],i=ej.util.isNullOrUndefined(t.zOrder)?i:t.zOrder,"visible"!=t.visibility||this.model.enable3D||(this.svgRenderer.append(this.gSymbolGroupEle[e],this.gSeriesEle),this.model.enable3D||this.model.enableCanvasRendering||(this.gDataLabelEle[e].childNodes.length>0&&this.svgRenderer.append(this.gDataLabelEle[e],this.gSeriesEle),this.gSeriesTextEle[e].childNodes.length>0&&this.svgRenderer.append(this.gSeriesTextEle[e],this.gSeriesEle))),this.vmlRendering||"visible"!=t.visibility||this.model.enableCanvasRendering||this.model.enable3D||(this.svgRenderer.append(this.gSeriesEle,this.svgObject),this.svgRenderer.append(this.svgObject,this.element))},_accSeriesDraw:function(e,t,i){var s,a,o=ej.DataManager(this.model._visibleSeries,ej.Query().sortBy("_zOrder")).executeLocal(),r=$.inArray(o[e],this.model._visibleSeries);this.model._visibleSeries[r]=o[e]=$.extend(!0,t,o[e]),(s=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={series:t},this._trigger("seriesRendering",s),(a=new(ej.seriesTypes[i.toLowerCase()])).draw(this,t)||(this.model.minhightwidth=!0,this._animationElements(t,a,r))},_splitSeries:function(e){var t,i,s,a,o=[];o[0]=$.extend(!0,[],e._visiblePoints),o[1]=[];for(var r,l=e,n=parseInt(l.splitValue),d=l.splitMode.toLowerCase(),h=o[0].length,c=0,u=0,p=[],m=0,g=0;m!=h;)g+=o[0][m].y,m++;if("position"==d){for(m=h-1;m>=0&&u!=n;m--)c+=o[0][m].y,o[1][u]=o[0][m],u++,o[0].splice(m,1);o[1].reverse()}else if("value"==d||"percentage"==d)for(i=0;i<o[0].length;i++)("value"==d?o[0][i].y:Math.round(o[0][i].y/g*100))<n&&(c+=o[0][i].y,o[1][u]=o[0][i],u++,o[0].splice(i,1),i=-1);else if("indexes"==d){for(t=(t=JSON.parse("["+l.splitValue+"]")).filter((function(e,t,i){return i.indexOf(e)==t})),t.sort(),i=0;i<o[0].length;i++)for(s=0;s<t.length;s++)i==t[s]&&(c+=o[0][i].y,o[1][u]=o[0][i],u++);for(m=0;m<t.length;m++)a=t[m]-m,o[0].splice(a,1)}o[1].length>0&&(p[0]=c,r=l._xAxisValueType,o[0].unshift({_visibility:"visible",visible:!0,text:"Others",x:"string"==r?"Others":c,xValue:"string"==r?l.points.length:c,y:c,YValues:p,fill:this.model.colors[(l.points.length+1)%this.model.colors.length],isFill:!1,actualIndex:l.points.length})),this.isSplitted=!0,l.pieCollections=o},_calculateGapWidth:function(e){var t,i,s,a,o,r,l,n=0,d=0,h=.1*Math.min($(this.svgObject).width(),$(this.svgObject).width());for(ej.EjSeriesRender.prototype._calculateVisiblePoints(e).visiblePoints,this._splitSeries(e),this.chartObj=this,a=0;a<2;a++)t=0==a?e.pieCoefficient:e.pieOfPieCoefficient,e._visiblePoints=e.pieCollections[a],e.collectionIndex=a,s=e.gapWidth,r=(o=ej.EjSeriesRender.prototype.calculatingSliceAngle(e,this.chartObj)).width<h?.25*t*h:.25*t*Math.min(o.width,o.height),i=this.model.circleCenterX[a],0==a?n=i+r:d=i-r;return l=d-n-s,this.model.pieGapWidth=l>0?l:0,e.pieCollections[0].length>0&&e.pieCollections[1].length>0&&e.connectorLine.width>0&&this.drawPieofPieConnectors(o,e),e},seriesRender:function(e,t){var i,s;if(this.model.allPoints=[],this.model.markerRegion=[],this.model.startX=[],this.model.startY=[],this.model.centerCount=0,this.gTrendlinesGroupEle=null,this.model._seriesIndex=null,this.model._previousSeries=null,this.model.bubbleRadiusList=[],!e)for(e={_crossAxisOverlap:!1,axes:{}},a=0;a<this.model._axes.length;a++)e.axes[this.model._axes[a].name]={};$(this.svgObject).find("#"+this.svgObject.id+"_SeriesCollection").length>0&&$(this.svgObject).find("#"+this.svgObject.id+"_SeriesCollection").remove();var a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I,R,M,E,V,N,B,F,z,Y,X,W,H,U,G,q,Z,Q=this,K=this.svgObject,J={id:K.id+"_SeriesCollection","clip-path":"url(#"+K.id+"_ChartAreaClipRect)"},ee=this.model.enable3D,te=this.model.AreaType,ie=this.model.enableCanvasRendering,se=this.model._axes.length,ae=ej.DataManager(this.model._visibleSeries,ej.Query().sortBy("_zOrder")).executeLocal(),oe=ae.length,re=ie,le=this.svgRenderer,ne=this.model.m_AreaBounds,de=ne.X,he=this.zoomed;for(this.gSeriesEle=le.createGroup(J),a=0;a<oe;a++)if("visible"==ae[a].visibility)for(this.model.series[a]._enableSmartLabels=ej.util.isNullOrUndefined(this.model.series[a].enableSmartLabels)?"none"==te:this.model.series[a].enableSmartLabels,ej.util.isNullOrUndefined(ae[a].xAxis)||(ae[a].xAxis=null,ae[a].yAxis=null),1!=this.model.series[a].points.length||ej.util.isNullOrUndefined(this.model.bubbleRadiusList)?this.model.bubbleRadiusList=null:this.model.bubbleRadiusList.push(this.model.series[a].points[0]),o=0;o<se;o++)n=a,l=(r=this.model._axes[o]).orientation.toLowerCase(),r.name&&"horizontal"==l&&r.name.toLowerCase()==ae[a]._xAxisName.toLowerCase()?ae[a].xAxis=r:r.name&&"vertical"==l&&r.name.toLowerCase()==ae[a]._yAxisName.toLowerCase()&&(ae[a].yAxis=r),this.model.requireInvertedAxes&&(r.name&&"vertical"==l&&r.name.toLowerCase()==ae[a]._xAxisName.toLowerCase()?ae[a].xAxis=r:r.name&&"horizontal"==l&&r.name.toLowerCase()==ae[a]._yAxisName.toLowerCase()&&(ae[a].yAxis=r));if(oe>0)if(X=(p=ae[0]).type.toLowerCase(),U=p.visibility.toLowerCase(),"pieofpie"!=X||"visible"!=U||ee)for(H=oe;H>0&&"none"==te;H--)n=H-1,h=(d=ae[H-1]).visibility.toLowerCase(),c=d.type.toLowerCase(),"visible"!==h||ee||"pie"!=c&&"doughnut"!=c?"none"!=te||"visible"!==h||ie||ej.Ej3DChart.prototype.renderSeries(this,d,t):this._accSeriesDraw(n,d,c);else{for(this.model._isPieOfPie=!0,p=this._calculateGapWidth(p),i=0;i<2;i++)p.collectionIndex=i,p._visiblePoints=p.pieCollections[i],this._accSeriesDraw(0,p,X);p._visiblePoints=$.merge(p.pieCollections[0],p.pieCollections[1]),this.model.pieGapWidth=null,p.collectionIndex=0}for(s=0;s<oe;s++)if(n=s,h=(d=ae[s]).visibility.toLowerCase(),c=d.type.toLowerCase(),"none"!=te||"visible"!==h||ee||0!==n||"pyramid"!=c&&"funnel"!=c){if("visible"!==h||ee||"none"==te?ee||"none"==te?"cartesianaxes"!=te||"visible"!==h||ie||ej.Ej3DChart.prototype.renderSeries(this,d,e,t):le.append(K,this.element):(this.model._seriesIndex=ej.util.isNullOrUndefined(this.model._seriesIndex)?0:this.model._seriesIndex+1,this.renderSeries(d,e,t),"cartesianaxes"==te&&"boxandwhisker"!=this.model.series[s].type&&this._renderTrendline(Q,d)),!ej.util.isNullOrUndefined(d.xAxis)&&"datetime"==d.xAxis._valueType)for(a=0;a<d.points.length;a++)d.points[a].xValue instanceof Date==0&&(d.points[a].xValue=new Date(d.points[a].xValue))}else this._accSeriesDraw(n,d,c);if("none"!=te){for(a=0;a<oe;a++)if(g=(p=this.model.series[a])._visiblePoints,p._enableSmartLabels&&"cartesianaxes"==this.model.AreaType)for("column"==(_=p.type.toLowerCase())||"stackingcolumn"==_||"bar"==_||"stackingbar"==_||"waterfall"==_||"stackingbar100"==_||"stackingcolumn100"==_||"rangecolumn"==_?this.cartesianColumnSmartLabels(p,g,a):"boxandwhisker"!=_&&this.cartesianSmartLabels(p,g,a),o=0;o<g.length;o++)(m=g[o]).hide=!ej.util.isNullOrUndefined(m.hide)&&m.hide,f=re?m.xPos-this.canvasX:m.xPos,b=re?m.yPos-this.canvasY:m.yPos,G=p.xAxis.visibleRange,q=p.yAxis.visibleRange,Z=-1!=c.indexOf("100")?parseFloat(m.percentage):m.y,(f-m.width/2<0||f+m.width/2>ne.Width||b+m.height/2>ne.Height||b-m.height/2<0||he&&m.xValue<=G.min||m.xValue>=G.max||Z<=q.min||Z>=q.max)&&(m.hide=!(p.marker.dataLabel.showEdgeLabels&&!m.hide));for(a=0;a<oe;a++)if(W=!(p=ae[a])._dataLabels||p.marker.dataLabel.visible||p._dataLabels>0,"visible"==p.visibility&&W)for(S=p._visiblePoints.length,y=0;y<S;y++)w=(m=p._visiblePoints[y]).marker&&m.marker.dataLabel&&m.marker.dataLabel.visible,(p.marker.dataLabel.visible||w)&&(!(m.connectorFlag||m.newConnectorFlag)||m.hide||""==m.drawText||"visible"!=p.visibility||ej.util.isNullOrUndefined(m.textOptions)||(p.connectorLine=!0,ie?(le.ctx.save(),Q.model.requireInvertedAxes?le.ctx.rect(de+p.yAxis.plotOffset,p.xAxis.y,p.yAxis.width,p.xAxis.height):le.ctx.rect(de,p.yAxis.y,p.xAxis.width,p.yAxis.height),le.ctx.clip(),this.drawConnectorLines(a,y,m),le.ctx.restore()):p._enableSmartLabels&&this.drawConnectorLines(a,y,m)),m.newConnectorFlag=!1);for(a=0;a<oe;a++)if(c=(p=ae[a]).type.toLowerCase(),W=!p._dataLabels||p.marker.dataLabel.visible||p._dataLabels>0,"visible"==p.visibility&&W&&!this.model.enable3D)for(S=p._visiblePoints.length,y=0;y<S;y++)if(v=(m=p._visiblePoints[y]).marker&&m.marker.dataLabel&&m.marker.dataLabel.visible,(p.marker.dataLabel.visible||v)&&!m.hide&&!m.dataLabeltemplate&&"visible"==p.visibility&&!ej.util.isNullOrUndefined(m.textOptions)&&!m.hide){if(ej.util.isNullOrUndefined(m.textOptions.angle)||(m.textOptions.transform="rotate("+m.textOptions.angle+","+m.xPos+","+m.yPos+")"),ie){if(m.textOptions.labelRotation=m.textOptions.angle,le.ctx.save(),Q.model.requireInvertedAxes?Q.svgRenderer.ctx.rect(de+p.yAxis.plotOffset,p.xAxis.y,p.yAxis.width,p.xAxis.height):le.ctx.rect(de,p.yAxis.y,p.xAxis.width,p.yAxis.height),Q.svgRenderer.ctx.save(),Q.svgRenderer.ctx.clip(),"boxandwhisker"==c.toLowerCase())for(1==p.showMedian&&""!=m.textOptionsBoxValues&&(ej.util.isNullOrUndefined(m.textOptionsBoxValues[0].angle)||(m.textOptionsBoxValues[0].labelRotation=m.textOptionsBoxValues[0].angle,m.textOptionsBoxValues[0].transform="rotate("+m.textOptionsBoxValues[0].angle+","+m.textOptionsBoxValues[0].xPos+","+m.textOptionsBoxValues[0].yPos+")"),ej.EjSeriesRender.prototype.dataLabelSymbol(a,p,y,m.textOptionsBoxValues[0].xPos,m.textOptionsBoxValues[0].yPos,m.textOptionsBoxValues[0].width,m.textOptionsBoxValues[0].height,m.textOptionsBoxValues[0].symbolName,this),delete m.textOptionsBoxValues[0].angle,this.svgRenderer.drawText(m.textOptionsBoxValues[0],m.textOptionsBoxValues[0].drawText,this.gSeriesTextEle[a])),x=1;x<m.textOptionsBoxValues.length;x++)ej.util.isNullOrUndefined(m.textOptionsBoxValues[x].angle)||(m.textOptionsBoxValues[x].labelRotation=m.textOptionsBoxValues[x].angle,m.textOptionsBoxValues[x].transform="rotate("+m.textOptionsBoxValues[x].angle+","+m.textOptionsBoxValues[x].xPos+","+m.textOptionsBoxValues[x].yPos+")"),ej.EjSeriesRender.prototype.dataLabelSymbol(a,p,y,m.textOptionsBoxValues[x].xPos,m.textOptionsBoxValues[x].yPos,m.textOptionsBoxValues[x].width,m.textOptionsBoxValues[x].height,m.textOptionsBoxValues[x].symbolName,this),delete m.textOptionsBoxValues[x].angle,this.svgRenderer.drawText(m.textOptionsBoxValues[x],m.textOptionsBoxValues[x].drawText,this.gSeriesTextEle[a]);else ej.EjSeriesRender.prototype.dataLabelSymbol(a,p,y,m.xPos,m.yPos,m.width,m.height,m.symbolName,this),delete m.textOptions.angle,this.svgRenderer.drawText(m.textOptions,m.drawText,this.gSeriesTextEle);Q.svgRenderer.ctx.restore()}else ej.EjSeriesRender.prototype.dataLabelSymbol(a,p,y,m.xPos,m.yPos,m.width,m.height,m.symbolName,this,this.gDataLabelEle[a]),delete m.textOptions.angle,le.drawText(m.textOptions,m.drawText,this.gSeriesTextEle[a]);if("rangecolumn"==c||"rangearea"==c||"splinerangearea"==c)m.textOptionsLow.transform="rotate("+m.textOptionsLow.angle+","+m.xPosLow+","+m.yPosLow+")",ie?(m.textOptionsLow.labelRotation=m.textOptionsLow.angle,le.ctx.save(),Q.model.requireInvertedAxes?le.ctx.rect(de+p.yAxis.plotOffset,p.xAxis.y,p.yAxis.width,p.xAxis.height):le.ctx.rect(de,p.yAxis.y,p.xAxis.width,p.yAxis.height),le.ctx.clip(),ej.EjSeriesRender.prototype.dataLabelSymbol(a,p,y,m.xPosLow,m.yPosLow,m.widthLow,m.heightLow,m.symbolName,this),delete m.textOptionsLow.angle,le.drawText(m.textOptionsLow,m.drawTextLow,this.gSeriesTextEle),le.ctx.restore()):(ej.EjSeriesRender.prototype.dataLabelSymbol(a,p,y,m.xPosLow,m.yPosLow,m.widthLow,m.heightLow,m.symbolName,this,this.gDataLabelEle[a]),delete m.textOptionsLow.angle,le.drawText(m.textOptionsLow,m.drawTextLow,this.gSeriesTextEle[a]));else if("boxandwhisker"==c.toLowerCase())for(1==p.showMedian&&""!=m.textOptionsBoxValues&&(ej.util.isNullOrUndefined(m.textOptionsBoxValues[0].angle)||(m.textOptionsBoxValues[0].transform="rotate("+m.textOptionsBoxValues[0].angle+","+m.textOptionsBoxValues[0].xPos+","+m.textOptionsBoxValues[0].yPos+")"),ej.EjSeriesRender.prototype.dataLabelSymbol(a,p,y,m.textOptionsBoxValues[0].xPos,m.textOptionsBoxValues[0].yPos,m.textOptionsBoxValues[0].width,m.textOptionsBoxValues[0].height,m.textOptionsBoxValues[0].symbolName,this),delete m.textOptionsBoxValues[0].angle,this.svgRenderer.drawText(m.textOptionsBoxValues[0],m.textOptionsBoxValues[0].drawText,this.gSeriesTextEle[a])),x=1;x<m.textOptionsBoxValues.length;x++)ej.util.isNullOrUndefined(m.textOptionsBoxValues[x].angle)||(m.textOptionsBoxValues[x].transform="rotate("+m.textOptionsBoxValues[x].angle+","+m.textOptionsBoxValues[x].xPos+","+m.textOptionsBoxValues[x].yPos+")"),ej.EjSeriesRender.prototype.dataLabelSymbol(a,p,y,m.textOptionsBoxValues[x].xPos,m.textOptionsBoxValues[x].yPos,m.textOptionsBoxValues[x].width,m.textOptionsBoxValues[x].height,m.textOptionsBoxValues[x].symbolName,this),delete m.textOptionsBoxValues[x].angle,this.svgRenderer.drawText(m.textOptionsBoxValues[x],m.textOptionsBoxValues[x].drawText,this.gSeriesTextEle[a])}if("none"!=te){for(a=0;a<oe;a++)this._appendConnectorElements(a);for(T=this.model._visibleSeries.length,a=0;a<T;a++)this._appendDataLabelElement(a)}}else{for(C=oe-1;C>=0;C--)("pie"==(c=(p=this.model._visibleSeries[C]).type.toLowerCase())||"doughnut"==c)&&this.model.minhightwidth&&this._appendConnectorElements(C);if((T=this.model._visibleSeries.length)>0&&"pieofpie"==c)this._appendDataLabelElement(0);else for(C=oe-1;C>=0;C--)("pie"==(c=(p=this.model._visibleSeries[C]).type.toLowerCase())||"doughnut"==c)&&this.model.minhightwidth&&this._appendDataLabelElement(C)}for(T=this.model._visibleSeries.length,L=0;L<T;L++)A=(M=this.model._visibleSeries[L]).drawType,c=M.type.toLowerCase(),M._previousType=ej.util.isNullOrUndefined(M._previousType)?M.type:M._previousType,this.vmlRendering||"visible"!=M.visibility||ie||ee||"none"==te||(this.renderer.append(this.gSeriesEle,this.svgObject),this.renderer.append(this.svgObject,this.element),(k=new(ej.seriesTypes[M.type.toLowerCase()])).chartObj=Q,k.gSeriesGroupEle="scatter"==A?$("#"+this.svgObject.id+"_symbolGroup_"+L)[0]:$("#"+this.svgObject.id+"_SeriesGroup_"+L)[0],M.enableAnimation&&(!M._animatedSeries||M._previousType!=M.type)&&"none"!=this.model.AreaType&&(M._animatedSeries=!0,M._previousType=M.type,P=$("#template_group_"+this._id),j=M.marker.dataLabel,0!=P.children().length&&j.visible&&j.template&&k.animateLabelTemplate(M),"polar"==c||"radar"==c?ej.ejRadarSeries.prototype.doAnimation(M,k):this.doAnimation(M)));if(T=(ae=this.model._visibleSeries).length,!ie&&!ee)for(i=0;i<T;i++)"visible"==ae[i].visibility.toLowerCase()&&this.gTrendlinesGroupEle&&this.gTrendlinesGroupEle[i]&&0!=this.gTrendlinesGroupEle[i].childElementCount&&this.renderer.append(this.gTrendlinesGroupEle[i],K);for(a=0;a<T;a++)for(O=(p=this.model._visibleSeries[a]).trendlines,E=p.trendlines.length,V=p.animationDuration,o=0;o<E;o++)(I=O[o]).visibility&&(R=I.type.toLowerCase(),M=new ej.trendlineTypes[R],"visible"===I.visibility.toLowerCase()&&I.points&&I.points.length>1&&p.enableAnimation&&!this.vmlRendering&&(!p._animatedTrendline||I._previousType!=I.type)&&(I._previousType=I.type,D=$(this.svgObject).find("#"+this.svgObject.id+"_TrendGroup_"+a+"_"+o+"_ClipRect").children(),ej.EjSeriesRender.prototype._doLineAnimation(this,D,V),p._animatedTrendline=E-1==a));for(T=this.model._visibleSeries.length,F=K.id,a=0;a<T;a++)N=$("#"+F+"_SeriesGroup_"+a),z=$("#"+F+"_SeriesGroup_waterfallLine_"+a),B=$("#"+F+"_symbolGroup_"+a),N.length>0&&B.length>0&&B.insertAfter(N),N.length>0&&z.length>0&&z.insertAfter(N);this.model.AnimationComplete=!0,(u=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={series:M},this._trigger("animationComplete",u),ie&&(le.append(K,this.element),this.panning&&$("#"+this._id+"_canvas").css({cursor:"pointer"})),ee&&!ie&&(le.append(this.chart3D,K),Y={Width:$(K).width(),Height:$(K).height()},this.graphics.prepareView(this.model.perspectiveAngle,this.model.depth,this.model.rotation,this.model.tilt,Y,this),this.graphics.view(K,this),le.append(K,this.element)),le.vmlNamespace&&le.append(this.gSeriesEle,K),"polaraxes"==te&&le.append(this.gPolarAxisEle,K),$(K).find("#"+K.id+"_StriplineOver").length>0&&$(K).find("#"+K.id+"_StriplineOver").detach().appendTo(K),this._renderScrollbar(),this.legendRender.drawLegend(e),Q.model.initSeriesRender=!0},_calculateZoomValue:function(e,t,i,s){this.model;var a,o,r,l,n,d=i.scrollbarSettings.range;"datetime"==i._valueType.toLowerCase()?(l=Date.parse(ej.util.isNullOrUndefined(d.min)?e:new Date(d.min)),n=Date.parse(ej.util.isNullOrUndefined(d.max)?t:new Date(d.max))):(l=parseFloat(ej.util.isNullOrUndefined(d.min)?e:d.min),n=parseFloat(ej.util.isNullOrUndefined(d.max)?t:d.max)),l=Math.min(l,e),a=(n=Math.max(n,t))-l,s.isRTL?(o=(n-t)/a,r=(t-e)/a):(o=(e-l)/a,r=(t-e)/a),s.scrollRange={min:l,max:n,delta:n-l},s._previousStart=e,s._previousEnd=t,s.zoomPosition=o,s.zoomFactor=r},_renderScrollbar:function(){var e,t,i,s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y=this.model,w=y.scrollerSize,S=$("#"+this._id).offset(),C=$(this.svgObject).offset().left-S.left,T=y._axes,L=T.length,k=y.zooming.enableScrollbar,P=y.AreaType;for(y.scrollObj=y.scrollObj?y.scrollObj:[],v=0;v<L;v++)f=(i=T[v])._valueType,h=(c=i.scrollbarSettings).range,d=i.isInversed,b="cartesianaxes"==P&&!y.enable3D,n=i._opposed,u=c.pointsLength,_=i.orientation.toLowerCase(),r=i.zoomFactor,p=$("#scrollbar_"+this.axisScroll[0].id+v).length,l=i.zoomPosition,b&&(i._isScroll&&y.isLazyZooming||(r<1||l>0)&&k)?(t=i.x+("vertical"==_?-w+(n?w:0):0)+(C<=0?0:C),s=(e=i.y+("horizontal"==_?i.height+(n?-w:0):0))-("horizontal"==_?0:i.plotOffset),a=i.plotOffset+("horizontal"==_?i.width:i.height),g=y.scrollObj,o=null!=h.min||null!=h.max?!!g[v]&&(g[v].actualRange.min!=h.min||g[v].actualRange.max!=h.max):!!g[v]&&g[v].actualRange!=c.pointsLength,this.scrollDraw=g[v]?g[v].x!=t||g[v].y!=e||g[v].width!=a:this.scrollDraw,x={orientation:i.orientation,index:v,width:a,x:t,y:s,opposed:n,isRTL:d,parent:this.axisScroll,enableResize:c.canResize},y.isLazyZooming?(0==p||this.scrollDraw||o)&&($("#scrollbar_"+this.axisScroll[0].id+v).remove(),null!=h.min||null!=h.max?(m=g[v]&&g[v].scrollRange?g[v].scrollRange:i.visibleRange,!this.scrollDraw||o?(g[v]={isVirtual:!0,valueType:f,scrollRange:m},g[v].actualRange=$.extend(g[v].actualRange,c.range),$.extend(g[v],x),"datetime"==f?(g[v].startDateTime=new Date(i.visibleRange.min),g[v].endDateTime=new Date(i.visibleRange.max)):(g[v].startValue=i.visibleRange.min,g[v].endValue=i.visibleRange.max),this._calculateZoomValue(i.visibleRange.min,i.visibleRange.max,i,this.model.scrollObj[v])):(g[v].width=a,g[v].x=t,g[v].y=s)):u>=i.maxPointLength&&(r=i.maxPointLength/u,l=d?1-i.zoomPosition:i.zoomPosition,!this.scrollDraw||o?(g[v]={isVirtual:!0,zoomPosition:l,zoomFactor:r,scrollRange:{min:0,max:u-1,delta:u-1},valueType:"double"},g[v].actualRange=c.pointsLength,$.extend(g[v],x),g[v].startValue=0,g[v].endValue=i.maxPointLength):(g[v].width=a,g[v].x=t,g[v].y=s)),this.model.scrollObj[v]&&(this.scrollbarContainer=new ej.EjSvgScrollbarRender(this.axisScroll,this.model.scrollObj[v]),this.scrollbarContainer._initializeScrollbarVariables(this.model.scrollObj[v]),this.scrollbarContainer._renderScrollbar.call(this,this.model.scrollObj[v]))):c.visible&&(g=y.scrollObj,(0==p||this.scrollDraw)&&($("#scrollbar_"+this.axisScroll[0].id+v).remove(),g[v]={zoomPosition:l,zoomFactor:r,valueType:f,scrollRange:i.actualRange,isZooming:!0},$.extend(g[v],x),"datetime"==g[v].valueType?(g[v].startDateTime=new Date(g[v].scrollRange.min),g[v].endDateTime=new Date(g[v].scrollRange.max)):(g[v].startValue=g[v].scrollRange.min,g[v].endValue=g[v].scrollRange.max),this.scrollbarContainer=new ej.EjSvgScrollbarRender(this.axisScroll,this.model.scrollObj[v]),this.scrollbarContainer._initializeScrollbarVariables(this.model.scrollObj[v]),this.scrollbarContainer._renderScrollbar.call(this,this.model.scrollObj[v])))):p>0&&$("#scrollbar_"+this.axisScroll[0].id+v).remove();this.scrollDraw=!1},_renderTrendline:function(e,t){var i,s,a,o,r,l,n,d,h,c,u,p,m,g,_=$.inArray(t,e.model.series),f="translate("+(e.model.requireInvertedAxes?t.yAxis.x:t.xAxis.x)+","+(e.model.requireInvertedAxes?t.xAxis.y:t.yAxis.y)+")",b={id:e.svgObject.id+"_TrendlinesGroup_"+_,"clip-path":"url(#"+e.svgObject.id+"_TrendlinesGroup_"+_+"_ClipRect)"},v=t.trendlines,x="",y=v.length;for(e.gTrendlinesGroupEle||(e.gTrendlinesGroupEle=[]),e.gTrendlinesGroupEle[_]=e.svgRenderer.createGroup(b),l=0;l<y;l++)if((r=v[l]).seriesIndex=_,r.isTrendLine=!0,r.trendlineIndex=l,"visible"===r.visibility.toLowerCase()&&!r.isNull&&r.points){switch(c={id:e.svgObject.id+"_TrendGroup_"+_+"_"+l,transform:f,"clip-path":"url(#"+e.svgObject.id+"_TrendGroup_"+_+"_"+l+"_ClipRect)"},t.gTrendGroupEle=null,t.gTrendGroupEle=e.svgRenderer.createGroup(c),u=r.type.toLowerCase(),o=new ej.trendlineTypes[u],n=r.slope,d=r._intercept,u){case"linear":x="y = "+n.toFixed(4)+"x + "+d.toFixed(4);break;case"exponential":x="y = "+d.toFixed(3)+"e^"+n.toFixed(4)+"x";break;case"logarithmic":x="y = "+n.toFixed(3)+"ln(x) + "+d.toFixed(4);break;case"power":x="y = "+d.toFixed(3)+"x^"+n.toFixed(4);break;case"polynomial":for(x="y = ",i=(a=r.polynomialSlopes).length-1;i>=0;i--)x+=(h=a[i])>0?"+"+h:"-"+Math.abs(h),0!=i&&(x+="x^"+i+" ")}r.equation=x,p=$.extend({},ej.EjSvgRender.commonChartEventArgs),m=r.points[0],g=r.points[r.points.length-1],p.data={series:t,trendline:r,forwardForecastPoints:g,backwardForecastPoints:m},this._trigger("trendlineRendering",p),e.model.enableCanvasRendering?(this.svgRenderer.ctx.save(),this.svgRenderer.ctx.beginPath(),this.svgRenderer.ctx.rect(e.model.m_AreaBounds.X,t.yAxis.y,t.xAxis.width,t.yAxis.height),this.svgRenderer.ctx.clip(),this.svgRenderer.ctx.beginPath(),o.draw(r,t,e),this.svgRenderer.ctx.restore()):(o.draw(r,t,e),(s=t.gTrendGroupEle)&&ej.EjSvgRender.utils._drawAxesBoundsClipPath(s,t,this))}},_renderStripline:function(e){var t,i,s,a;for($.extend(ej.EjStripline.prototype,this),this.chartstripline=new ej.EjStripline(this),t=this.chartstripline,this.model._stripeline=!1,i=0;i<this.model._axes.length;i++)for(s=this.model._axes[i],a=0;a<s.stripLine.length;a++)s.stripLine[a].zIndex.toLowerCase()==e&&t._drawStripline(s,s.stripLine[a],i,a);"over"==e&&this.model._stripeline?this.svgRenderer.append(this.gStriplineOver,this.svgObject):this.model._stripeline&&this.svgRenderer.append(this.gStriplineBehind,this.svgObject)},renderSeries:function(e,t,i){for(var s,a,o,r,l,n,d,h,c,u,p=e.drawType,m=$.inArray(e,this.model._visibleSeries),g=0;g<e.points.length&&"string"==typeof e.points[g].x&&-1!=e.points[g].x.indexOf("/Date(");g++)e.points[g].x=new Date(parseInt(e.points[g].x.substr(6)));e.xAxis=null===e.xAxis||void 0===e.xAxis?this.model._axes[0]:e.xAxis,e.yAxis=null===e.yAxis||void 0===e.yAxis?this.model._axes[1]:e.yAxis;var _,f,b=e.type.toLowerCase(),v=e.drawType.toLowerCase(),x=null;if("cartesianaxes"==this.model.AreaType?(x="translate("+(s=ej.EjSvgRender.utils._getTransform(e.xAxis,e.yAxis,this.model.requireInvertedAxes)).x+","+s.y+")",f="visible"):f=e.enableAnimation&&!e._animatedSeries?"hidden":"visible",a={id:this.svgObject.id+"_TextGroup_"+m,transform:x,visibility:f},o={id:this.svgObject.id+"_DataLabel_"+m,transform:x,visibility:f},_="scatter"!=b?{id:this.svgObject.id+"_symbolGroup_"+m,transform:x,visibility:f}:{id:this.svgObject.id+"_SeriesGroup_"+m,transform:x},r={id:this.svgObject.id+"_ConnectorGroup_"+m,transform:x,visibility:f},this.gSymbolGroupEle||(this.gSymbolGroupEle=[]),this.gSymbolGroupEle[m]=this.svgRenderer.createGroup(_),this.gSeriesTextEle||(this.gSeriesTextEle=[]),this.gSeriesTextEle[m]=this.svgRenderer.createGroup(a),this.gConnectorEle||(this.gConnectorEle=[]),this.gConnectorEle[m]=this.svgRenderer.createGroup(r),this.gDataLabelEle||(this.gDataLabelEle=[]),this.gDataLabelEle[m]=this.svgRenderer.createGroup(o),(l=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={series:e},this._trigger("seriesRendering",l),n=new ej.seriesTypes[b],this.model.enableCanvasRendering&&"none"!=this.model.AreaType?(this.svgRenderer.ctx.save(),this.svgRenderer.ctx.beginPath(),this.model.requireInvertedAxes?(x=ej.EjSvgRender.utils._getTransform(e.xAxis,e.yAxis,this.model.requireInvertedAxes),this.canvasX=x.x,this.canvasY=x.y,this.svgRenderer.ctx.rect(e.yAxis.x,e.xAxis.y,e.yAxis.width,e.xAxis.height)):(this.canvasX=e.xAxis.x,this.canvasY=e.yAxis.y,this.svgRenderer.ctx.rect(e.xAxis.x,e.yAxis.y,e.xAxis.width,e.yAxis.height)),this.svgRenderer.ctx.clip(),n.draw(this,e,t,i),this.svgRenderer.ctx.restore()):this.model.enableCanvasRendering&&"polaraxes"==this.model.AreaType?(this.svgRenderer.ctx.save(),this.svgRenderer.ctx.beginPath(),this.svgRenderer.ctx.arc(this.model.centerX,this.model.centerY,this.model.Radius,0,2*Math.PI,!1),this.svgRenderer.ctx.clip(),this.canvasX=this.canvasY=0,n.draw(this,e,i),this.svgRenderer.ctx.restore()):(this.canvasX=this.canvasY=0,"cartesianaxes"==this.model.AreaType?n.draw(this,e,t):"polaraxes"==this.model.AreaType&&e._xAxisName==this.model._axes[0].name&&e._yAxisName==this.model._axes[1].name&&n.draw(this,e,i)),d=this.model.series[m].errorBar,h=this.model.AreaType,"visible"==d.visibility&&"cartesianaxes"==h&&"boxandwhisker"!=this.model.series[m].type&&this.renderErrorBar(d,e),"splinerangearea"==b&&(n.gSeriesGroupEle=this.gSeriesGroupEle),(c=n.gSeriesGroupEle)&&ej.EjSvgRender.utils._drawAxesBoundsClipPath(c,e,this),"candle"!=b&&"hilo"!=b&&"hiloopenclose"!=b&&"boxandwhisker"!=b){var y,w=this,S=w.model.AreaType.toLowerCase(),C=ej.seriesTypes[b].prototype.isRegion;u=!e._pointMarker||e.marker.visible||e._pointMarker,"scatter"==b||!u||$.each(e._visiblePoints,(function(t,i){if(!1!==i.visible&&""!==i.x&&(i.marker&&i.marker.visible||e.marker.visible)){if(y="polaraxes"==S&&"column"==v||C?i.symbolLocation:"polaraxes"!=S?ej.EjSvgRender.utils._getPoint(i,e):ej.EjSvgRender.utils.TransformToVisible(e,i.xValue,i.y,w),"polaraxes"==S){var s=e.yAxis.labelFormat?e.yAxis.labelFormat:"",a=i.text?i.text:i.y+s.substring(s.indexOf("}")+1);ej.EjSvgRender.utils._measureText(a,null,e.marker.dataLabel.font)}("polaraxes"==S&&e._xAxisName==w.model._axes[0].name&&e._yAxisName==w.model._axes[1].name&&("polar"==b.toLowerCase()||"radar"==b.toLowerCase())&&"scatter"!=p||"cartesianaxes"==S)&&n.drawSymbol(m,e,t,y.X,y.Y)}})),"scatter"!=b?(e.marker.visible&&"scatter"!=p&&(c=this.gSymbolGroupEle[m],ej.EjSvgRender.utils._drawAxesBoundsClipPath(c,e,this)),e.marker.dataLabel.visible&&(c=this.gSeriesTextEle[m],ej.EjSvgRender.utils._drawAxesBoundsClipPath(c,e,this),c=this.gDataLabelEle[m],ej.EjSvgRender.utils._drawAxesBoundsClipPath(c,e,this)),!ej.util.isNullOrUndefined(this.gConnectorEle)&&this.gConnectorEle.length>0&&(c=this.gConnectorEle[m],ej.EjSvgRender.utils._drawAxesBoundsClipPath(c,e,this))):(c=this.gSymbolGroupEle[m],ej.EjSvgRender.utils._drawAxesBoundsClipPath(c,e,this),this.svgRenderer.append(c,this.gSeriesEle),(e.tooltip.visible||"scatter"==b)&&(this.vmlRendering?(this.cloneSeriesEle=$(this.gSeriesEle).clone(),this.cloneobj=$(this.element).clone(),this.svgclone=$(this.svgObject).clone(),$(document.body).append(this.cloneobj),this.svgRenderer.append(this.cloneSeriesEle,this.svgclone),this.svgRenderer.append(this.svgclone,this.cloneobj)):(this.svgRenderer.append(this.gSeriesEle,this.svgObject),this.svgRenderer.append(this.svgObject,this.element)),this.vmlRendering&&($(this.cloneobj).remove(),$(this.svgclone).remove())))}u=!e._dataLabels||e.marker.dataLabel.visible||e._dataLabels>0,(e.marker.dataLabel.visible||u)&&this.drawDisplayText(n,e,t)},renderErrorBar:function(e,t){var i,s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I,R,M,E,V,N,B,F,z,Y,X,W,H,U,G,q,Z,Q,K,J,ee,te,ie,se,ae,oe,re,le,ne,de,he,ce,ue,pe,me,ge,_e,fe,be,ve=this,xe=ve.model,ye=t,we=ye._visiblePoints,Se=we.length,Ce=ve.canvasX,Te=ve.canvasY,Le=$.inArray(ye,xe._visibleSeries),ke=ej.EjSvgRender.utils._getTransform(ye.xAxis,ye.yAxis,xe.requireInvertedAxes),Pe=xe.requireInvertedAxes,je=ve.svgObject.id,De=ve.model.m_AreaBounds;for(f={id:je+"_ErrorBarGroup_"+Le,transform:"translate("+ke.x+","+ke.y+")","clip-path":"url(#"+je+"_ChartAreaClipRect)"},ej.util.isNullOrUndefined(ve.gErrorBarGroupEle)&&(ve.gErrorBarGroupEle=[]),_=ve.gErrorBarGroupEle[Le]=ve.svgRenderer.createGroup(f),(pe=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={errorBar:e},this._trigger("errorBarRendering",pe),i=(b=pe.data.errorBar).type,s=b.mode,a=b.direction,o=b.fill,r=b.cap,l=b.cap.fill,n=b.cap.width,b.cap.length,h=b.verticalErrorValue,c=b.horizontalErrorValue,u=b.verticalPositiveErrorValue,p=b.verticalNegativeErrorValue,m=b.horizontalPositiveErrorValue,g=b.horizontalNegativeErrorValue,d=0;d<Se;d++)if(!0!==we[d].isEmpty&&1==we[d].visible){switch(v={id:ve.svgObject.id+"_ErrorBarGroup_"+Le+"_Point"+d},me=ve.svgRenderer.createGroup(v),x=d,w=(y=we[d]).YValues[0],S=y.xValue,C=we[d].YValues[0],T=we[d].xValue,L=i.indexOf("column")||i.indexOf("bar")>-1?y.symbolLocation:y.location,ej.util.isNullOrUndefined(L)&&(L=ej.EjSvgRender.utils._getPoint(y,ye)),E=L.X,V=L.Y,i){case"fixedValue":oe=y,("vertical"==s||"both"==s)&&(oe.YValues[0]=w+h,k=ej.EjSvgRender.utils._getPoint(oe,ye),oe.YValues[0]=w-h,P=ej.EjSvgRender.utils._getPoint(oe,ye),Pe?k.Y=P.Y=L.Y:k.X=P.X=L.X),("horizontal"==s||"both"==s)&&(oe.YValues[0]=w,oe.xValue=S,oe.xValue=S+c,j=ej.EjSvgRender.utils._getPoint(oe,ye),oe.xValue=S-c,D=ej.EjSvgRender.utils._getPoint(oe,ye)),oe.YValues[0]=w,oe.xValue=S;break;case"percentage":re=y,le=h/100*w,ne=c/100*S,("vertical"==s||"both"==s)&&(re.YValues[0]=w+le,k=ej.EjSvgRender.utils._getPoint(re,ye),re.YValues[0]=w-le,P=ej.EjSvgRender.utils._getPoint(re,ye),Pe?k.Y=P.Y=L.Y:k.X=P.X=L.X),("horizontal"==s||"both"==s)&&(re.YValues[0]=w,re.xValue=S,re.xValue=S+ne,j=ej.EjSvgRender.utils._getPoint(re,ye),re.xValue=S-ne,D=ej.EjSvgRender.utils._getPoint(re,ye)),re.YValues[0]=w,re.xValue=S;break;case"standardDeviation":de=y,O=(A=ve.meanCalculation(s,we)).verMean,I=A.horMean,R=A.verStandSquareRoot,M=A.horStandSquareRoot,("vertical"==s||"both"==s)&&(N=h*R,de.YValues[0]=O,F=ej.EjSvgRender.utils._getPoint(de,ye),w=de.YValues[0],de.YValues[0]=w+N,k=ej.EjSvgRender.utils._getPoint(de,ye),de.YValues[0]=w-N,P=ej.EjSvgRender.utils._getPoint(de,ye),Pe?F.Y=k.Y=P.Y=L.Y:F.X=k.X=P.X=L.X,F.X=F.X+Ce,F.Y=F.Y+Te),("horizontal"==s||"both"==s)&&(B=c*M,de.xValue=I,z=ej.EjSvgRender.utils._getPoint(de,ye),Pe?z.X=L.X:z.Y=L.Y,de.YValues[0]=C,S=de.xValue,de.xValue=S+B,j=ej.EjSvgRender.utils._getPoint(de,ye),de.xValue=S-B,D=ej.EjSvgRender.utils._getPoint(de,ye),z.X=z.X+Ce,z.Y=z.Y+Te),de.YValues[0]=C,de.xValue=T;break;case"standardError":he=y,R=(A=ve.meanCalculation(s,we)).verStandSquareRoot,M=A.horStandSquareRoot,("vertical"==s||"both"==s)&&(Y=(N=h*R)/Math.sqrt(Se),he.YValues[0]=w+Y,k=ej.EjSvgRender.utils._getPoint(he,ye),he.YValues[0]=w-Y,P=ej.EjSvgRender.utils._getPoint(he,ye),Pe?k.Y=P.Y=L.Y:k.X=P.X=L.X),("horizontal"==s||"both"==s)&&(X=(B=c*M)/Math.sqrt(Se),he.YValues[0]=w,he.xValue=S,he.xValue=S+X,j=ej.EjSvgRender.utils._getPoint(he,ye),he.xValue=S-X,D=ej.EjSvgRender.utils._getPoint(he,ye)),he.YValues[0]=w,he.xValue=S,d=x;break;case"custom":ce=y,("vertical"==s||"both"==s)&&(ce.YValues[0]=w+u,k=ej.EjSvgRender.utils._getPoint(ce,ye),ce.YValues[0]=w-p,P=ej.EjSvgRender.utils._getPoint(ce,ye),Pe?k.Y=P.Y=L.Y:k.X=P.X=L.X),("horizontal"==s||"both"==s)&&(ce.YValues[0]=w,ce.xValue=S,ce.xValue=S+m,j=ej.EjSvgRender.utils._getPoint(ce,ye),ce.xValue=S-g,D=ej.EjSvgRender.utils._getPoint(ce,ye)),ce.YValues[0]=w,ce.xValue=S}1==r.visible&&(("vertical"==s||"both"==s)&&(W={verHighvalue:k,verLowvalue:P}),("horizontal"==s||"both"==s)&&(H={horHighvalue:j,horLowvalue:D}),U=(ue=ve.renderCap(r,s,W,H,Pe)).verHighCapX1,G=ue.verHighCapX2,q=ue.verLowCapX1,Z=ue.verLowCapX2,Q=ue.horHighCapY1,K=ue.horHighCapY2,J=ue.horLowCapY1,ee=ue.horLowCapY2),E+=Ce,V+=Te,("vertical"==s||"both"==s)&&(k.X=k.X+Ce,k.Y=k.Y+Te,P.X=P.X+Ce,P.Y=P.Y+Te),("horizontal"==s||"both"==s)&&(j.X=j.X+Ce,j.Y=j.Y+Te,D.X=D.X+Ce,D.Y=D.Y+Te),"both"==a?(("vertical"==s||"both"==s)&&("standardDeviation"!=i?te="M "+E+" "+V+" L "+k.X+" "+k.Y+" M "+E+" "+V+" L "+P.X+" "+P.Y+" ":"standardDeviation"==i&&(te="M "+F.X+" "+F.Y+" L "+k.X+" "+k.Y+" M "+F.X+" "+F.Y+" L "+P.X+" "+P.Y+" "),ge=te,_e=ie=Pe?r.visible?"M "+k.X+" "+k.Y+" L "+k.X+" "+U+" M "+k.X+" "+k.Y+" L "+k.X+" "+G+" M "+P.X+" "+P.Y+" L "+P.X+" "+q+" M "+P.X+" "+P.Y+" L "+P.X+" "+Z+" ":"":r.visible?"M "+k.X+" "+k.Y+" L "+U+" "+k.Y+" M "+k.X+" "+k.Y+" L "+G+" "+k.Y+" M "+P.X+" "+P.Y+" L "+q+" "+P.Y+" M "+P.X+" "+P.Y+" L "+Z+" "+P.Y+" ":""),("horizontal"==s||"both"==s)&&("standardDeviation"!=i?se="M "+E+" "+V+" L "+j.X+" "+j.Y+" M "+E+" "+V+" L "+D.X+" "+D.Y+" ":"standardDeviation"==i&&(se="M "+z.X+" "+z.Y+" L "+j.X+" "+j.Y+" M "+z.X+" "+z.Y+" L "+D.X+" "+D.Y+" "),ge=se,_e=ae=Pe?r.visible?"M "+j.X+" "+j.Y+" L "+Q+" "+j.Y+" M "+j.X+" "+j.Y+" L "+K+" "+j.Y+" M "+D.X+" "+D.Y+" L "+J+" "+D.Y+" M "+D.X+" "+D.Y+" L "+ee+" "+D.Y+" ":"":r.visible?"M "+j.X+" "+j.Y+" L "+j.X+" "+Q+" M "+j.X+" "+j.Y+" L "+j.X+" "+K+" M "+D.X+" "+D.Y+" L "+D.X+" "+J+" M "+D.X+" "+D.Y+" L "+D.X+" "+ee+" ":""),"both"==s&&(ge=se+=te,_e=ae+=ie)):"plus"==a?(("vertical"==s||"both"==s)&&("standardDeviation"!=i?te="M "+E+" "+V+" L "+k.X+" "+k.Y+" ":"standardDeviation"==i&&(te="M "+F.X+" "+F.Y+" L "+k.X+" "+k.Y+" "),ge=te,_e=ie=Pe?r.visible?"M "+k.X+" "+k.Y+" L "+k.X+" "+U+" M "+k.X+" "+k.Y+" L "+k.X+" "+G+" ":"":r.visible?"M "+k.X+" "+k.Y+" L "+U+" "+k.Y+" M "+k.X+" "+k.Y+" L "+G+" "+k.Y+" ":""),("horizontal"==s||"both"==s)&&("standardDeviation"!=i?se="M "+E+" "+V+" L "+j.X+" "+j.Y+" ":"standardDeviation"==i&&(se="M "+z.X+" "+z.Y+" L "+j.X+" "+j.Y+" "),ge=se,_e=ae=Pe?r.visible?"M "+j.X+" "+j.Y+" L "+Q+" "+j.Y+" M "+j.X+" "+j.Y+" L "+K+" "+j.Y+" ":"":r.visible?"M "+j.X+" "+j.Y+" L "+j.X+" "+Q+" M "+j.X+" "+j.Y+" L "+j.X+" "+K+" ":""),"both"==s&&(ge=se+=te,_e=ae+=ie)):(("vertical"==s||"both"==s)&&("standardDeviation"!=i?te="M "+E+" "+V+" L "+P.X+" "+P.Y+" ":"standardDeviation"==i&&(te="M "+F.X+" "+F.Y+" L "+P.X+" "+P.Y+" "),ge=te,_e=ie=Pe?r.visible?"M "+P.X+" "+P.Y+" L "+P.X+" "+q+" M "+P.X+" "+P.Y+" L "+P.X+" "+Z+" ":"":r.visible?"M "+P.X+" "+P.Y+" L "+q+" "+P.Y+" M "+P.X+" "+P.Y+" L "+Z+" "+P.Y+" ":""),("horizontal"==s||"both"==s)&&("standardDeviation"!=i?se="M "+E+" "+V+" L "+D.X+" "+D.Y+" ":"standardDeviation"==i&&(se="M "+z.X+" "+z.Y+" L "+D.X+" "+D.Y+" "),ge=se,_e=ae=Pe?r.visible?"M "+D.X+" "+D.Y+" L "+J+" "+D.Y+" M "+D.X+" "+D.Y+" L "+ee+" "+D.Y+" ":"":r.visible?"M "+D.X+" "+D.Y+" L "+D.X+" "+J+" M "+D.X+" "+D.Y+" L "+D.X+" "+ee+" ":""),"both"==s&&(ge=se+=te,_e=ae+=ie)),fe={id:ve.svgObject.id+"_ErrorBar_"+Le+"_Point"+x,d:ge,stroke:o,"stroke-width":e.width,opacity:e.opacity},be={id:ve.svgObject.id+"_ErrorBarCap_"+Le+"_Point"+x,d:_e,stroke:l,"stroke-width":n},ve.model.enableCanvasRendering?(this.svgRenderer.ctx.rect(De.X,De.Y,De.Width,De.Height),this.svgRenderer.ctx.clip(),ve.svgRenderer.drawPath(fe,null),ve.svgRenderer.drawPath(be,null)):(ve.svgRenderer.drawPath(fe,me),ve.svgRenderer.drawPath(be,me),ve.svgRenderer.append(me,_))}ve.svgRenderer.append(_,ve.gSeriesEle),ej.EjSvgRender.utils._drawAxesBoundsClipPath(_,ye,ve)},meanCalculation:function(e,t){for(var i,s,a,o,r,l,n,d,h=0,c=0,u=t.length,p=0;p<u;p++)"vertical"==e?h+=t[p].y:("horizontal"==e||(h+=t[p].y),c+=t[p].xValue);for(i=h/u,s=c/u,a=u-1,p=0;p<u;p++)"vertical"==e?(o=t[p].y-i,h+=Math.pow(o,2)):"horizontal"==e?(o=t[p].xValue-s,c+=Math.pow(o,2)):(r=t[p].y-i,h+=Math.pow(r,2),l=t[p].xValue-s,c+=Math.pow(l,2));return n=h/a,d=c/a,{verStandSquareRoot:Math.sqrt(n),horStandSquareRoot:Math.sqrt(d),verMean:i,horMean:s}},renderCap:function(e,t,i,s,a){var o,r,l,n,d,h,c,u,p,m,g,_,f,b,v;return o=this.canvasX,r=this.canvasY,l=e.length/2,("vertical"==t||"both"==t)&&(n=i.verHighvalue,d=i.verLowvalue),("horizontal"==t||"both"==t)&&(h=s.horHighvalue,c=s.horLowvalue),("vertical"==t||"both"==t)&&(a?(u=n.Y+r+l,p=n.Y+r-l,m=d.Y+r+l,g=d.Y+r-l):(u=n.X+o-l,p=n.X+o+l,m=d.X+o-l,g=d.X+o+l)),("horizontal"==t||"both"==t)&&(a?(_=h.X+o+l,f=h.X+o-l,b=c.X+o+l,v=c.X+o-l):(_=h.Y+r-l,f=h.Y+r+l,b=c.Y+r-l,v=c.Y+r+l)),{verHighCapX1:u,verHighCapX2:p,verLowCapX1:m,verLowCapX2:g,horHighCapY1:_,horHighCapY2:f,horLowCapY1:b,horLowCapY2:v}},drawDisplayText:function(e,t,i){var s,a,o=this,r=t.type.toLowerCase(),l=o.model.AreaType.toLowerCase(),n=ej.seriesTypes[r].prototype.isRegion,d=t.drawType.toLowerCase(),h=!1,c=$.inArray(t,o.model._visibleSeries);ej.util.isNullOrUndefined(o.model.regionCount)&&(o.model.regionCount=-1);for(var u,p=o.model.enableCanvasRendering,m="polaraxes"==o.model.AreaType.toLowerCase(),g=0,_={},f=o.model.series.length;g<f;g++)_[u=o.model.series[g].stackingGroup]={length:_[u]?_[u].length+1:1,seriesIndex:g};i.stackingGroup=_,$.each(t._visiblePoints,(function(r,u){var g,_,f=o.model.series[c].type.toLowerCase();if(t._visiblePoints[r].textOptionsBoxValues=[],a=u.marker,s="polaraxes"==l&&"column"==d||n||"rangecolumn"==d?"boxandwhisker"==f.toLowerCase()?u.dataLabelLocation:u.symbolLocation:"polaraxes"!=l?ej.EjSvgRender.utils._getPoint(u,t):ej.EjSvgRender.utils.TransformToVisible(t,u.xValue,u.y,o),!1!==u.visible&&(a&&a.dataLabel&&a.dataLabel.visible||(!a||!a.dataLabel)&&t.marker.dataLabel.visible)){for(n&&o.model.regionCount++,f=o.model.series[c].type.toLowerCase(),g=0;g<o.model._axes.length;g++)if(o.model._axes[g].zoomFactor<1||o.model._axes[g].zoomPosition>0){h=!0;break}if(!(o.zoomed||t.xAxis._isScroll||h)||"column"!=f&&"stackingcolumn"!=f&&"stackingcolumn100"!=f)if(p&&"cartesianaxes"==o.model.AreaType){if(o.svgRenderer.ctx.save(),o.svgRenderer.ctx.beginPath(),o.model.requireInvertedAxes?o.svgRenderer.ctx.rect(t.yAxis.x,t.xAxis.y,t.yAxis.width,t.xAxis.height):o.svgRenderer.ctx.rect(t.xAxis.x,t.yAxis.y,t.xAxis.width,t.yAxis.height),o.svgRenderer.ctx.clip(),o.model.chartRegions[o.model.regionCount]||-1==f.indexOf("column")&&-1==f.indexOf("bar")&&-1==f.indexOf("waterfall")){if("boxandwhisker"==f.toLowerCase())for(_=0;_<s.length;_++)u.y=u.boxPlotLocation[_].YValues,e.drawDataLabel(t,r,u,s[_].X,s[_].Y,o.model.regionCount,i,s[_].outlier);else e.drawDataLabel(t,r,u,s.X,s.Y,o.model.regionCount,i);("rangecolumn"==f||"rangearea"==f||"splinerangearea"==f)&&(u.y=u.low,e.drawDataLabel(t,r,u,s.X,s.Y,o.model.regionCount,i),u.y=u.high)}o.svgRenderer.ctx.restore()}else{if(p&&m&&(o.svgRenderer.ctx.save(),o.svgRenderer.ctx.beginPath(),o.svgRenderer.ctx.arc(o.model.centerX,o.model.centerY,o.model.Radius,0,2*Math.PI,!1),o.svgRenderer.ctx.clip(),s.X-=o.canvasX,s.Y-=o.canvasY),"column"==f||"stackingcolumn"==f||"stackingcolumn100"==f)o.model.chartRegions[o.model.regionCount]&&e.drawDataLabel(t,r,u,s.X,s.Y,o.model.regionCount,i);else if("boxandwhisker"==f.toLowerCase())for(_=0;_<s.length;_++)u.y=u.boxPlotLocation[_].YValues,e.drawDataLabel(t,r,u,s[_].X,s[_].Y,o.model.regionCount,i,s[_].outlier);else e.drawDataLabel(t,r,u,s.X,s.Y,o.model.regionCount,i);("rangecolumn"==f||"rangearea"==f||"splinerangearea"==f)&&(u.y=u.low,e.drawDataLabel(t,r,u,s.X,s.Y,o.model.regionCount,i),u.y=u.high),p&&m&&o.svgRenderer.ctx.restore()}else for(g=0;g<o.model.chartRegions.length;g++)c==o.model.chartRegions[g].SeriesIndex&&r==o.model.chartRegions[g].Region.PointIndex&&(p&&"cartesianaxes"==o.model.AreaType?(o.svgRenderer.ctx.save(),o.svgRenderer.ctx.beginPath(),o.model.requireInvertedAxes?o.svgRenderer.ctx.rect(t.yAxis.x,t.xAxis.y,t.yAxis.width,t.xAxis.height):o.svgRenderer.ctx.rect(t.xAxis.x,t.yAxis.y,t.xAxis.width,t.yAxis.height),o.svgRenderer.ctx.clip(),e.drawDataLabel(t,r,u,s.X,s.Y,g,i),o.svgRenderer.ctx.restore()):e.drawDataLabel(t,r,u,s.X,s.Y,g,i))}}))},cartesianSmartLabels:function(e,t){var i,s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S=t.length;for(this.connectorFlag=!1,this.processCount=1,this.posObj=(_defineProperty(C={top:[],rightTop:[],left:[],leftTop:[],right:[]},"rightTop",[]),_defineProperty(C,"rightBottom",[]),_defineProperty(C,"leftBottom",[]),_defineProperty(C,"bottom",[]),C),o=0;o<this.model.series.length;o++){var C;if(i=this.model.series[o].marker.size.width,s=this.model.series[o].marker.size.height,m=this.model.series[o].type.toLowerCase(),p=ej.seriesTypes[m].prototype.isRegion,"hidden"!=this.model.series[o].visibility&&this.model.series[o].marker.visible&&!p)for(r=0;r<this.model.series[o]._visiblePoints.length;r++)l=(g=this.model.series[o]._visiblePoints[r]).location,this.model.markerRegion[this.model.markerRegion.length]={seriesIndex:o,xPos:l.X+this.canvasX,yPos:l.Y+this.canvasY,width:i,height:s}}for(b=this.model.m_AreaBounds,_=0;_<S;_++)(g=t[_]).hide=!1,y=g.xPos,w=g.yPos,v=g.width,x=g.height,y-v/2<0&&y>-v/2&&(f=y-v/2,g.textOptions.x=g.xPos=y+Math.abs(f)+10,g.newConnectorFlag=!0),y+v/2>b.Width&&y+v/2<b.Width+v/2&&(f=y-v/2,g.textOptions.x=g.xPos=b.Width-v/2-10,g.newConnectorFlag=!0),w+v/2>b.Height&&w+x/2<b.Height+x/2&&(f=w+x/2-b.Height,g.yPos=w-f-10,g.textOptions.y=g.yPos+5,g.newConnectorFlag=!0),w-x/2<0&&w>-x/2&&(f=w-x/2,g.yPos=g.yPos+Math.abs(f)+10,g.textOptions.y=g.yPos+5,g.newConnectorFlag=!0);for(a=0;a<S;a++)ej.util.isNullOrUndefined(t[a].yPos)||(this.model.allPoints[this.model.allPoints.length]=t[a],this.connectorFlag=!1,this.compareDataLabels(a,t,0,this.processCount),(g=t[a]).connectorFlag=this.connectorFlag,t[a].dataLabeltemplate&&(h=$("#"+t[a].id),c=t[a].xPos,u=this.model.enableCanvasRendering?t[a].yPos+this.model.m_AreaBounds.Y:t[a].yPos,h.css("left",c).css("top",u),"cartesianaxes"==this.model.AreaType&&(n=(b=this.model.m_AreaBounds).X+(this.model.requireInvertedAxes?e.yAxis.plotOffset:e.xAxis.plotOffset),d=e.yAxis.y,v=t[a].width,x=t[a].height,(c>n+b.Width||c+v<n||u+x<d||u+x>b.Y+b.Height||this.zoomed&&(c<n||u<d||c>n+b.Width||u>d+b.Height))&&h.remove())),this.storeDataLabelPositions(g))},storeDataLabelPositions:function(e){var t=e.position,i=this.posObj;switch(t){case"top":i.top[this.processCount-1]=e,this.processCount=1;break;case"rightTop":i.rightTop[this.processCount-1]=e,this.processCount=1;break;case"right":i.right[this.processCount-1]=e,this.processCount=1;break;case"rightBottom":i.rightBottom[this.processCount-1]=e,this.processCount=1;break;case"bottom":i.bottom[this.processCount-1]=e,this.processCount=1;break;case"left":i.left[this.processCount-1]=e,this.processCount=1;break;case"leftBottom":i.leftBottom[this.processCount-1]=e,this.processCount=1;break;case"leftTop":i.leftTop[this.processCount-1]=e}},cartesianColumnSmartLabels:function(e,t){var i,s,a,o,r,l,n,d,h,c,u,p,m,g,_=t.length;for(this.connectorFlag=!1,this.processCount=1,this.model.outsideLabels=[],d=0;d<_;d++)if(!ej.util.isNullOrUndefined(t[d].yPos)&&!isNaN(t[d].yPos)&&(this.model.allPoints[this.model.allPoints.length]=t[d],e._enableSmartLabels&&(this.connectorFlag=!1,this.compareColumnDataLabels(e,d,t,0,this.processCount)),e._visiblePoints[d],t[d].dataLabeltemplate)){(h=$("#"+t[d].id)).css("left",t[d].xPos).css("top",t[d].yPos),i=t[d].xPos,s=t[d].yPos,t.height=h.outerHeight();var f=this.model.m_AreaBounds.X,b=this.model.m_AreaBounds.Y,v=this.model.m_AreaBounds.Width,x=this.model.m_AreaBounds.Height;t.width=h.outerWidth(),o=h.width()/2,r=h.height(),c=u=p=0,m=0,l=(g=this.model.m_AreaBounds).X+(this.model.requireInvertedAxes?e.yAxis.plotOffset:e.xAxis.plotOffset),n=e.yAxis.y,a=i-o,e.marker.dataLabel.showEdgeLabels&&(i>l+g.Width||s+r>g.Y+g.Height||i<l||s<n||i>l+g.Width||s>n+g.Height||a>g.Width+g.X)&&(i<f&&(u=f-i),x+b<s+r&&(m=r-(s+r-(x+b))),s<b&&(c=b-s),v+f<i+(o=h.outerWidth())&&(p=o-(i+o-(v+f))),p=0==p?o:p,m=0==m?r:m,document.getElementById(h[0].id).style.clip="rect("+c+"px,"+p+"px,"+m+"px,"+u+"px)")}},compareColumnDataLabels:function(e,t,i,s){var a,o,r,l,n,d,h,c,u,p,m,g=this.model.allPoints.length-1,_=this.model.m_AreaBounds,f=e.marker.dataLabel.enableContrastColor,b=[],v=e.type.toLowerCase(),x=new(ej.seriesTypes[e.type.toLowerCase()]);for(this.firstPoints=[],p=0;p<g;p++)if(c=this.model.allPoints[p],u=this.model.allPoints[this.model.allPoints.length-1],this.currentCollideLabel=c,l=(r=e.marker.dataLabel).textPosition.toLowerCase(),rotation=r.angle,chartObj=this,(o=this.isCollide(c,u,null,null,chartObj,rotation)).state){if("column"==v||"stackingcolumn"==v||"rangecolumn"==v||"waterfall"==v){if(u.textOptions.y=r.showEdgeLabels?u.yPos=u.yPos+o.height+5:u.yPos="top"==l||"middle"==l?u.yPos+o.height+5:u.yPos-o.height-5,u.textOptions.y=u.textOptions.y+5+u.margin.top/2-u.margin.bottom/2,u.textOptions.y>_.Height){u.hide=!0;break}}else u.textOptions.x=u.xPos="top"==l||"middle"==l?c.xPos-c.width/2-u.width/2-5:c.xPos+c.width/2+u.width/2+5;for(this.compareColumnDataLabels(e,t,i,s,this.processCount),a=this.checkOutsideLabels(this.model,u,_),d=0;d<this.model.allPoints.length;d++)0==d?this.firstPoints.push(this.model.allPoints[0]):this.firstPoints[this.firstPoints.length-1].x!=this.model.allPoints[d].x&&this.firstPoints.push(this.model.allPoints[d]);if(a||this.zoomed){for(h=0;h<=this.model.allPoints.length-1;h++)this._positionOutsideLabels(u,this.model.allPoints,h,v);this.model.outsideLabels.push(u)}if(f&&v.indexOf("stacking")>-1){for(m=this.model.chartRegions,d=0;d<this.model.chartRegions.length;d++)m[d].Region.PointIndex==t&&(o=this.isCollide(m[d],u,0,f,this)),o.state&&b.push(m[d]);if(b.length>5)break;b.length>=1&&(n="array"==jQuery.type(this.model.seriesColors[b[0].SeriesIndex])?this.model.seriesColors[b[0].SeriesIndex][0].color:this.model.seriesColors[b[0].SeriesIndex],u.textOptions.fill=x._applySaturation(this,n))}}},_positionOutsideLabels:function(e,t,i,s){var a,o=t[i];if(i>=0)if(a=this.isCollide(o,e),!s||"column"!=s&&"stackingcolumn"!=s&&"rangecolumn"!=s&&"waterfall"!=s)e.textOptions.x=e.xPos=this.model.outsideLabels.length>0?this.model.outsideLabels[this.model.outsideLabels.length-1].xPos:t[0].xPos+o.width/2+e.width/2+5;else{if(this.model.outsideLabels.length>0&&e.x==this.model.outsideLabels[this.model.outsideLabels.length-1].x)e.textOptions.y=e.yPos=this.model.outsideLabels[this.model.outsideLabels.length-1].yPos-a.height;else for(i=0;i<this.firstPoints.length;i++)e.x==this.firstPoints[i].x&&a.state?e.textOptions.y=e.yPos=this.firstPoints[i].yPos-a.height:t.length>1&&i<t.length-1&&(e.textOptions.y=e.yPos=t[i+1].yPos);e.textOptions.y=e.textOptions.y+5+e.margin.top/2-e.margin.bottom/2}},compareDataLabels:function(e,t,i,s){var a,o,r,l,n,d=this.model.allPoints.length,h=this.model.m_AreaBounds,c=this.posObj;for(this.breakLoop=!1,a=0;a<d;a++)if(this.model.series[this.model.allPoints[a].seriesIndex].type.toLowerCase(),r=this.model.allPoints[a],l=this.model.allPoints[d-1],this.currentCollideLabel=r,o=10,(n=this.isCollide(r,l,a)).state||n.marker)switch(this.connectorFlag=!0,i){case 0:if(this.processCount>1&&this.resetValues(l),n.marker?(this.prevLabel=n.markerRegion,this.processCount=1):ej.util.isNullOrUndefined(this.prevLabel)?(this.prevLabel=r,this.processCount=1):this.isCollide(this.prevLabel,l).state||(this.prevLabel=r,this.processCount=1),this.resetValues(l),s>1&&c.right[this.processCount-2]?(r=c.right[this.processCount-2],l.textOptions.x=l.xPos=r.xPos+(r.width/2+l.width/2+o)):l.textOptions.x=l.xPos=this.prevLabel.xPos+(this.prevLabel.width/2+l.width/2+o),i+=1,l.position="right",this.breakLoop)break;if(!this.checkOutsideLabels(this.model,l,h)){this.compareDataLabels(e,t,i,this.processCount);break}case 1:if(this.resetValues(l),l.textOptions.x=l.xPos=this.prevLabel.xPos+this.prevLabel.width/2+l.width/2+o,s>1&&c.rightBottom[this.processCount-2]?(r=c.rightBottom[this.processCount-2],l.textOptions.y=l.yPos=r.yPos+this.canvasY+r.height+o):l.textOptions.y=l.yPos=l.location.Y+this.canvasY+l.height+5,l.textOptions.y=l.textOptions.y+5+l.margin.top/2-l.margin.bottom/2,l.position="rightBottom",i+=1,this.breakLoop)break;if(!this.checkOutsideLabels(this.model,l,h)){this.compareDataLabels(e,t,i,this.processCount);break}case 2:if(this.resetValues(l),l.textOptions.y=l.yPos=l.location.Y+this.canvasY+l.height+5,s>1&&c.bottom[this.processCount-2]?(r=c.bottom[this.processCount-2],l.textOptions.y=l.yPos=r.yPos+l.height+o):l.textOptions.y=l.yPos=l.location.Y+this.canvasY+l.height+5,l.textOptions.y=l.textOptions.y+5+l.margin.top/2-l.margin.bottom/2,l.position="bottom",i+=1,this.breakLoop)break;if(!this.checkOutsideLabels(this.model,l,h)){this.compareDataLabels(e,t,i,this.processCount);break}case 3:if(this.resetValues(l),l.textOptions.x=l.xPos=this.prevLabel.xPos-this.prevLabel.width/2-l.width/2-o,s>1&&c.leftBottom[this.processCount-2]?(r=c.leftBottom[this.processCount-2],l.textOptions.y=l.yPos=r.yPos+this.canvasY+r.height+o):l.textOptions.y=l.yPos=l.location.Y+this.canvasY+l.height+5,l.textOptions.y=l.textOptions.y+5+l.margin.top/2-l.margin.bottom/2,l.position="leftBottom",i+=1,this.breakLoop)break;if(!this.checkOutsideLabels(this.model,l,h)){this.compareDataLabels(e,t,i,this.processCount);break}case 4:if(this.resetValues(l),s>1&&c.left[this.processCount-2]?(r=c.left[this.processCount-2],l.textOptions.x=l.xPos=r.xPos-r.width/2-l.width/2-o):l.textOptions.x=l.xPos=this.prevLabel.xPos-this.prevLabel.width/2-l.width/2-o,l.position="left",i+=1,this.breakLoop)break;if(!this.checkOutsideLabels(this.model,l,h)){this.compareDataLabels(e,t,i,this.processCount);break}case 5:if(this.resetValues(l),l.textOptions.x=l.xPos=this.prevLabel.xPos-this.prevLabel.width/2-l.width/2-o,s>1&&c.leftTop[this.processCount-2]?(r=c.leftTop[this.processCount-2],l.textOptions.y=l.yPos=r.yPos-(l.height+o)):l.textOptions.y=l.yPos=this.prevLabel.yPos-l.height-o,l.textOptions.y=l.textOptions.y+5+l.margin.top/2-l.margin.bottom/2,l.position="leftTop",i+=1,this.breakLoop)break;if(!this.checkOutsideLabels(this.model,l,h)){this.compareDataLabels(e,t,i,this.processCount);break}case 6:if(this.resetValues(l),s>1&&c.top[s-2]?(r=c.top[s-2],l.textOptions.y=l.yPos=r.yPos-(l.height+o)):l.textOptions.y=l.yPos=this.prevLabel.yPos-this.processCount*(l.height+o),l.textOptions.y=l.textOptions.y+5+l.margin.top/2-l.margin.bottom/2,i+=1,l.position="top",this.breakLoop)break;if(!this.checkOutsideLabels(this.model,l,h)){this.compareDataLabels(e,t,i,this.processCount);break}case 7:if(this.resetValues(l),l.textOptions.x=l.xPos=this.prevLabel.xPos+this.prevLabel.width/2+l.width/2+o,s>1&&c.rightTop[this.processCount-2]?(r=c.rightTop[this.processCount-2],l.textOptions.y=l.yPos=r.yPos-l.height-o):l.textOptions.y=l.yPos=this.prevLabel.yPos-l.height-o,l.textOptions.y=l.textOptions.y+5+l.margin.top/2-l.margin.bottom/2,l.position="rightTop",i+=1,this.breakLoop)break;if(!this.checkOutsideLabels(this.model,l,h)){this.compareDataLabels(e,t,i,this.processCount);break}case 8:if(i=0,this.processCount+=1,e==this.processCount)i=9;else if(!this.checkOutsideLabels(this.model,l,h)){this.compareDataLabels(e,t,i,this.processCount);break}case 9:(e==this.processCount||this.processCount>d)&&(this.processCount-=1,i=i<0||8==i?0:i-1,this.breakLoop=!0)}},checkOutsideLabels:function(e,t,i){var s,a,o,r,l=e.enableCanvasRendering,n=t.dataLabeltemplate;if(e.series[t.seriesIndex].marker.dataLabel.showEdgeLabels&&(o=l?t.xPos-this.canvasX:t.dataLabel.textX,r=l?t.yPos-this.canvasY:t.dataLabel.textY,s=n?i.Height+i.Y:i.Height,a=n?i.Width+i.X:i.Width,o-t.dataLabel.width/2<0||o+t.dataLabel.width/2>a||r+t.dataLabel.height/2>s||r-t.dataLabel.height/2<0))return!0},drawPieofPieConnectors:function(e,t){var i,s,a,o,r=t.enableAnimation&&!t._animatedSeries?"hidden":"visible";this.model.enableCanvasRendering||(this.gConnectorLinesGroup?this.gConnectorLinesGroup.childNodes.length:this.gConnectorLinesGroup=this.svgRenderer.createGroup({id:this.svgObject.id+"_connectorLineGroup",visibility:r}),$(this.gConnectorLinesGroup.childNodes).remove());var l,n,d=[],h=[],c=[],u=[],p=-.5*Math.PI;for(i=0;i<2;i++){if(n=t.pieCollections[i],l=0==i?t.pieCoefficient:t.pieOfPieCoefficient,d[i]=.25*l*Math.min(e.width,e.height),h[i]=this.model.circleCenterX[i],h[i]=0==i?h[i]+this.model.pieGapWidth/2:h[i]-this.model.pieGapWidth/2,c[i]=this.model.circleCenterY[i],n[0].start>0&&n[0].end<Math.PI&&0==i)var m=n[0].start+p,g=n[0].end+p-1e-6,_=h[i]+d[i]*Math.cos(m),f=c[i]+d[i]*Math.sin(m),b=h[i]+d[i]*Math.cos(g),v=c[i]+d[i]*Math.sin(g);else b=_=h[i]+d[i]*Math.cos(p),v=(f=c[i]+d[i]*Math.sin(p))+2*d[i];u.push({X1:_,Y1:f,X2:b,Y2:v})}for(s=t.connectorLine,a=0;a<2;a++)o={id:this.svgObject.id+"_connectorLine"+a,x1:0==a?u[a].X1:u[a-1].X2,y1:0==a?u[a].Y1:u[a-1].Y2,x2:0==a?u[a+1].X1:u[a].X2,y2:0==a?u[a+1].Y1:u[a].Y2,stroke:s.color,"stroke-width":s.width,opacity:s.opacity,"stroke-dasharray":s.dashArray},this.svgRenderer.drawLine(o,this.gConnectorLinesGroup);this.svgRenderer.append(this.gConnectorLinesGroup,this.gSeriesEle)},drawConnectorLines:function(e,t,i){var s,a=!0,o=i.xPos,r=i.yPos,l=this.model.m_AreaBounds,n=this.model.series[e].marker.dataLabel,d=i.location?i.location:i.symbolLocation;if(s=d.Y>i.textOptions.y?i.textOptions.y:i.textOptions.y-i.height/2,i.dataLabeltemplate?(s=i.yPos-this.model.m_AreaBounds.Y+i.height,i.textOptions.x=i.textOptions.x-this.model.m_AreaBounds.X+i.width/4+this.canvasX):(o>l.Width||o+i.width<0||r-i.height>l.Height||r+i.height<0)&&!n.showEdgeLabels&&(a=!1),a){var h="M "+(d.X+this.canvasX)+" "+(d.Y+this.canvasY)+" L "+i.textOptions.x+" "+s,c=this.model.series[e].marker.dataLabel.connectorLine,u=ej.util.isNullOrUndefined(c.color)?this.model.series[e].fill:c.color,p={id:this.svgObject.id+"_dataLabelConnectorLine_series"+e+"_"+t,stroke:u,"stroke-width":c.width,d:h};this.model.series[e].connectorLines=!0,this.svgRenderer.drawPath(p,this.gConnectorEle[e])}},resetValues:function(e){e.textOptions.y=e.dataLabel.textY,e.yPos=e.dataLabel.y,e.textOptions.x=e.dataLabel.textX,e.xPos=e.dataLabel.x},isCollide:function(e,t,i,s,a,o){var r,l,n,d,h,c,u,p,m,g,_=0,f=0,b=!1,v=!1;if(s)r=e.Region.Bounds,l=a.model.m_AreaBounds,n={X:r.X-l.X,Y:r.Y-l.Y,Width:r.Width,Height:r.Height},"None"!=t.symbolName?(d=t.xPos,h=t.xPos+t.width,c=t.yPos-t.height/2,u=t.yPos+t.height/2):(d=t.textOptions.x-t.width/2,h=t.textOptions.x+t.width/2,c=t.textOptions.y-(90==t.textOptions.angle||-90==t.textOptions.angle?t.height/2:t.height),u=t.textOptions.y+(90==t.textOptions.angle||-90==t.textOptions.angle?t.height/2:0)),b=n.X<h&&n.X+n.Width>d&&n.Y<u&&n.Y+n.Height>c;else{p=(e.seriesIndex?this.model.series[e.seriesIndex].marker.dataLabel.border.width:0)+(t.seriesIndex?this.model.series[t.seriesIndex].marker.dataLabel.border.width:0);var x=this.model.series,y=x[e.seriesIndex],w=x[t.seriesIndex],S=e.xPos,C=e.yPos,T=t.xPos,L=t.yPos;e.xPos+=y.xAxis.x,e.yPos+=y.yAxis.y,t.xPos+=w.xAxis.x,t.yPos+=w.yAxis.y;var k=e.height,P=e.width,j=t.height,D=t.width;if(o&&(90==(m=o>360?o-360:o<-360?o+360:o)||-90==m)&&(k=e.width,P=e.height,j=t.width,D=t.height),e!=t&&((b=!(e.yPos+k<t.yPos||e.yPos>t.yPos+j||e.xPos+P/2+p<=t.xPos-D/2||e.xPos-P/2>=t.xPos+D/2))&&(f=e.yPos+k-t.yPos,_=e.xPos+P-t.xPos),e.xPos=S,e.yPos=C),!b)for(g=0;g<this.model.markerRegion.length&&(y=x[(e=this.model.markerRegion[g]).seriesIndex],S=e.xPos,C=e.yPos,e.xPos+=y.xAxis.x,t.yPos+=y.yAxis.y,!(v=!(e.yPos+k<t.yPos-j/2||e.yPos>t.yPos+j||e.xPos+P<t.xPos||e.xPos>t.xPos+D)));g++);e.xPos=S,e.yPos=C,t.xPos=T,t.yPos=L}return{state:b,marker:v,markerRegion:e,width:_,height:f}},drawAccDisplayText:function(e,t,i){var s,a,o,r,l,n,d=this,h=t._visiblePoints.length;if(d.firstStartAngle=[],"pyramid"!=(s=t.type.toLowerCase())&&"funnel"!=s&&"pieofpie"!=s&&(t.leftsidePoints.length>0||t.rightsidePoints.length>0)){for(a=t.rightsidePoints.length,o=t.leftsidePoints.length,l=0;l<a;l++)t.rightsidePoints[l].index=l,e.drawDataLabelAcc(d,t,t.rightsidePoints[l].pointIndex,t.rightsidePoints[l],i);for(r=o-1;r>=0;r--)t.leftsidePoints[r].index=r,e.drawDataLabelAcc(d,t,t.leftsidePoints[r].pointIndex,t.leftsidePoints[r],i)}else for(l=0;l<h;l++)t._visiblePoints[l].index=l,n="pieofpie"==s?t._visiblePoints[l].actualIndex:l,t._visiblePoints[l].start!=t._visiblePoints[l].startAngle&&(t._visiblePoints[l].startAngle=t._visiblePoints[l].start),isNaN(t._visiblePoints[l].startAngle)&&"pie"==t.type.toLowerCase()&&"pieofpie"==t.type.toLowerCase||e.drawDataLabelAcc(d,t,n,t._visiblePoints[l],i,t.collectionIndex);("pyramid"==t.type.toLowerCase()||"funnel"==t.type.toLowerCase())&&(this.svgRenderer.append(this.gConnectorEle,this.gSeriesEle),this.svgRenderer.append(this.gSymbolGroupEle,this.gSeriesEle),this.svgRenderer.append(this.gDataLabelEle,this.gSeriesEle),this.svgRenderer.append(this.gSeriesTextEle,this.gSeriesEle),this.svgRenderer.append(this.gSeriesEle,this.svgObject),this.vmlRendering||this.svgRenderer.append(this.svgObject,this.element))},_processOData:function(e){var t=this,i=e.type.toLowerCase(),s=e.dataSource.executeQuery(e.query);s.done((function(s){var a,o;for(t._processJsonData(s.result,e),e.visibility="visible",$(t.svgObject).empty(),$(t.legendSvgContainer).empty(),t.model.enableCanvasRendering&&(t.svgRenderer.ctx.clearRect(0,0,t.svgObject.width,t.svgObject.height),$("#canvas_trackSymbol").remove()),a=!0,o="pie"!=i||"doughnut"!=i?0:t.model.series.length-1;"pie"!=i||"doughnut"!=i?o<t.model.series.length:o>=0;"pie"!=i||"doughnut"!=i?o++:o--)if(t.model.series[o].dataSource&&"hidden"==t.model.series[o].visibility){a=!1;break}a&&t.draw()})),s.fail((function(){var i,s;for(e.visibility="visible",$(t.svgObject).empty(),$(t.legendSvgContainer).empty(),i=!0,s=0;s<t.model.series.length;s++)if(t.model.series[s].dataSource&&"hidden"==t.model.series[s].visibility){i=!1;break}i&&t.draw()}))},_findDatatype:function(e,t){var i,s,a;if(null==e.xAxisName)i=null!=t.model.primaryXAxis.valueType&&"datetime"==t.model.primaryXAxis.valueType.toLowerCase();else for(s=0;s<t.model._axes.length;s++)i=(a=t.model._axes[s]).name==e.xAxisName&&null!=a.valueType&&"datetime"==a.valueType.toLowerCase();return i},_processJsonData:function(e,t){var i,s,a=t.xName,o=t.yName,r=t.pointColorMappingName,l=t.marker&&t.marker.dataLabel&&t.marker.dataLabel.textMappingName,n=t.type.toLowerCase(),d=document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg")?e.length:void 0===e[e.length-1]?e.length-1:e.length,h=(o.length,"bubble"==n),c=!!e[0][a].indexOf||(t._hiloTypes?e[0][t.high]&&e[0][t.high].indexOf:!!(0==e[0][o]?0:e[0][o]||e[0][t.size]||0).indexOf),u=c&&e[0][a].indexOf&&-1!=e[0][a].indexOf("/Date("),p=0,m=this.model._hiddenPointIndex;if(t.points=new Array(d),c)"boxandwhisker"!=n&&this._processStringData(e,t,a,o,u,d);else for(;p<d;)i=e[p][a],t._hiloTypes||(s="string"==typeof e[p][o]?parseFloat(e[p][o]):e[p][o]),t.points[p++]={x:i,xValue:i,y:s,YValues:[s]};return"boxandwhisker"==n&&this._processBoxandWhiskerData(e,t,a,o,u),(h||r.length>0||l.length>0||m.length>0)&&this._processBubbleSize(e,t,c,r,l,m,h,d),t._hiloTypes&&this._processHiLoValues(e,t,c,n,d),0},_processBoxandWhiskerData:function(e,t,i,s,a){for(var o,r,l=0,n=e.length,d=e[0][i].indexOf&&-1!=e[0][i].indexOf("/Date(");l<n;)o=e[l][i],a&&(o=new Date(d?parseInt(o.substr(6)):o)),r=e[l][s],t.points[l++]={x:o,xValue:o,y:r,YValues:[r]}},_processStringData:function(e,t,i,s,a,o){for(var r,l,n=0,d=e[0][i].indexOf&&-1!=e[0][i].indexOf("/Date(");n<o;)r=e[n][i],!a||r instanceof Date||(r=new Date(d?parseInt(r.substr(6)):r)),l=parseFloat(e[n][s]),t.points[n++]={x:r,xValue:r,y:l,YValues:[l]}},_processBubbleSize:function(e,t,i,s,a,o,r,l){for(var n,d=0;d<l;d++)(n=t.points[d]).YValues[0]=i?parseFloat(e[d][t.yName]):e[d][t.yName],r&&(n.size=n.YValues[1]=i?parseFloat(e[d][t.size]):e[d][t.size]),s.length>0&&(n.fill=e[d][s]),a.length>0&&(n.text=e[d][a]),o.length>0&&d==o[d]&&(n.visibility="hidden")},_processHiLoValues:function(e,t,i,s,a){for(var o,r,l=0;l<a;l++)o=t.points[l],r=e[l],o.y=o.high=o.YValues[0]=i?this.tryParseFloat(r[t.high]):r[t.high],o.low=o.YValues[1]=i?this.tryParseFloat(r[t.low]):r[t.low],"hilo"!=s&&"rangecolumn"!=s&&"waterfall"!=s&&(o.open=o.YValues[2]=i?this.tryParseFloat(r[t.open]):r[t.open],o.close=o.YValues[3]=i?this.tryParseFloat(r[t.close]):r[t.close],t.volume&&(o.volume=o.YValues[4]=i?this.tryParseFloat(r[t.volume]):r[t.volume]))},tryParseFloat:function(e){return e&&e.length>0?parseFloat(e):e},bindTo:function(e){var t,i,s,a,o,r,l,n,d=this.model,h=d.series;for($("#"+this.svgObject.id+"_CrosshairVertical").remove(),$("#"+this.svgObject.id+"_CrosshairHorizontal").remove(),$.finish?($(".ejTooltip"+this._id).finish(),$(".tooltipDiv"+this._id).finish()):($(".ejTooltip"+this._id).stop(!0,!0),$(".tooltipDiv"+this._id).stop(!0,!0)),$(document).find('[id*="_TrackToolTip"]').remove(),$("#template_group_"+this._id).remove(),this.isChartElemId&&this.createElementsId(),d.primaryXAxis._valueType=null,d.primaryXAxis.position=null,d.primaryYAxis._valueType=null,d.primaryYAxis.position=null,d.requireInvertedAxes=!1,d._hiddenPointIndex=[],t=h.length,i=d.axes.length,l=0;l<i;l++)(s=d.axes[l])._valueType=null,s.position=null;if(d._axes)for(i=d._axes.length,o=0;o<i;o++)(s=d._axes[o])._valueType=null,s.position=null,s.zoomFactor=s._pointsLength&&s._pointsLength!=s.scrollbarSettings.pointsLength?1:s.zoomFactor;for(l=0;l<t;l++){if(n=h[l],a=["y","high","low","open","close"],!ej.isNullOrUndefined(n.points))for(o=0;o<n.points.length;o++)a.map((function(e){var t=n.points[o][e];ej.isNullOrUndefined(t)||(n.points[o][e]="string"==typeof t?parseFloat(t):t)}));n.position=null,n.fill&&this.model.seriesColors&&n.fill!=this.model.seriesColors[l]&&(h[l].isFill=!0)}if(d.AreaType&&"none"==d.AreaType)for(n=h[0],l=0;n.points&&l<n.points.length;l++)"hidden"==(r=n.points[l])._visibility&&"none"==d.AreaType&&1==h.length&&(this.model._hiddenPointIndex[l]=l),r.isFill=r.fill&&d.pointColors&&r.fill!=d.pointColors[l]||r.isFill,r.fill=r.isFill?r.fill:null;if(d.enable3D&&(ej.Ej3DRender.transform=null),h){if(this.setModelProperties(e),!e)for(l=0;l<h.length;l++)(null==(n=h[l]).visibility||void 0==n.visibility)&&(n.visibility="visible"),n.type&&(n._hiloTypes="polar"==n.type.toLowerCase()||"radar"==n.type.toLowerCase()?ej.seriesTypes[n.drawType.toLowerCase()].prototype.hiloTypes:ej.seriesTypes[n.type.toLowerCase()].prototype.hiloTypes),n.points||(n.points=[]),n.dataSource&&(n.dataSource instanceof ej.DataManager?(n.visibility="hidden",!ej.isNullOrUndefined(n.query)&&n.query instanceof ej.Query||(n.query=ej.Query()),this._processOData(n)):n.dataSource.length>0&&(("string"==typeof n.dataSource||n.dataSource.toLowerCase)&&(n.dataSource=JSON.parse(n.dataSource.replace(/'''/g,'"'))),this._processJsonData(n.dataSource,n)));$(this.svgObject).width()>0&&this.draw(e)}},_createChartId:function(){var e=!1,t=0,i=$(this.element)[0].className.split(" ")[0];do{$("#"+i+"_"+t).length||($(this).attr("_id",i+"_"+t),$(this.element).attr("id",i+"_"+t),e=!0),t++}while(!e);this.isChartElemId=!0},createElementsId:function(){this.legendContainer.attr("id","legend_"+this._id),this.scrollerContainer.attr("id","legend_Scroller"+this._id),this.chartContainer.attr("id","chartContainer_"+this._id),this.axisScroll.attr("id","axisScrollbar_"+this._id),$(this.svgObject).attr("id",this._id+(this.model.enableCanvasRendering?"_canvas":"_svg"))},calculateHeight:function(e){var t=$(e.svgObject),i=e.model.size.height,s=$(e.element).height()/100*parseInt(i);return t.height(s),s},calculateWidth:function(e){var t=$(e.svgObject),i=e.model.size.width,s=$(e.element).width()/100*parseInt(i);return t.width(s),s},selectedStyle:function(e){for(var t=$("#"+e._id).find('[class*="Selection"]'),i=[],s=0;s<t.length;s++)i[s]=[],i[s].id=t[s].id,i[s].className=$("#"+i[s].id).attr("class");return $("[id $= Def ]").length>0&&(i.pattern=$("[id $= Def ]")),i},chartResize:function(){var e,t,i=this,s=$(i.svgObject),a=this.selectedStyle(i);this.removeMultiRect(),this._chartResize=!0,this.model.enableCanvasRendering&&($("[id*="+this._id+"_Selection_]").remove(),$("#canvas_trackSymbol").remove(),i.svgObject.getContext("2d").clearRect(0,0,this.svgRenderer.svgObj.width,this.svgRenderer.svgObj.height),"string"==typeof i.model.size.width&&-1!=i.model.size.width.indexOf("%")?(e=i.calculateWidth(i),this.svgRenderer.svgObj.width=e):this.svgRenderer.svgObj.width=$("#"+this._id).width(),"string"==typeof i.model.size.height&&-1!=i.model.size.height.indexOf("%")?(t=i.calculateHeight(i),this.svgRenderer.svgObj.height=t):this.svgRenderer.svgObj.height=ej.util.isNullOrUndefined(this.model.size.height)?"450":parseInt($(i.element).height())),this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout((function(){var e,t;if(!ej.util.isNullOrUndefined(i.model)&&("string"==typeof i.model.size.width&&-1!=i.model.size.width.indexOf("%")?i.calculateWidth(i):s.width($(i.element).width()),"string"==typeof i.model.size.height&&-1!=i.model.size.height.indexOf("%")?i.calculateHeight(i):s.height(i.model.size.height),$(i.svgObject).width()>0)){for($(i.svgObject).empty(),$(i.legendSvgContainer).empty(),$("#template_group_"+i._id).remove(),$("#annotation_group_"+i._id).remove(),i.disableAnimation(),e=0;e<i.model.series.length;e++)i.model.series[e].regionAdded=!1;for(i.draw(),t=0;t<a.length;t++)$("#"+a[t].id).attr("class",a[t].className);a.pattern&&i.svgRenderer.append(a.pattern,i.svgObject),i.zoomed&&!i.vmlRendering&&i._enableZoomingButtons(),i.enableAnimation()}}),500)},isDevice:function(){return/mobile|tablet|android|kindle/i.test(navigator.userAgent.toLowerCase())},isWindows:function(){if(!ej.getBooleanVal($("head"),"data-ej-android")&&!ej.getBooleanVal($("head"),"data-ej-ios")&&!ej.getBooleanVal($("head"),"data-ej-ios7")&&!ej.getBooleanVal($("head"),"data-ej-flat"))return this._windows()},_windows:function(){return/trident|windows phone/i.test(navigator.userAgent.toLowerCase())||!0===ej.getBooleanVal($("head"),"data-ej-windows",!1)},bindResizeEvents:function(){if(this.model._resizeEventRegistered)return 0;ej.isTouchDevice()&&this._isOrientationSupported()?this._on($(window),"orientationchange",this.chartResize):this._on($(window),"resize",this.chartResize),this.model._resizeEventRegistered=!0},removeResizeEvents:function(){this.model._resizeEventRegistered&&(ej.isTouchDevice()&&this._isOrientationSupported()?this._off($(window),"orientationchange",this.chartResize):this._off($(window),"resize",this.chartResize),this.model._resizeEventRegistered=!1)},_isOrientationSupported:function(){return"orientation"in window&&"onorientationchange"in window},_calculatePinchZoomPosition:function(e){var t,i,s,a,o,r=this.model.m_AreaBounds,l=this.model._axes,n=e.originalEvent.touches&&e.originalEvent.touches.length>0?e.originalEvent.touches[0]:e.originalEvent,d=n.pageX,h=n.pageY,c=this.previousPanTouch,u=0,p=l.length;if(d>r.X&&d<r.X+r.Width&&h>r.Y&&h<r.Y+r.Height){if(c||(c=this.previousPanTouch={pageX:d,pageY:h}),ej.isTouchDevice()||this.model.zooming.enableDeferredZoom)return this.oPreviousCoords={x:this.previousPanTouch.pageX,y:this.previousPanTouch.pageY},this.chartMouseMove(e);for(;u<p;u++)o=(a="horizontal"==(i=l[u]).orientation.toLowerCase())?(c.pageX-d)/i.width*i.zoomFactor:(c.pageY-h)/i.height*i.zoomFactor,t=i.zoomPosition,i.zoomPosition=this._ensureValueInMinMax(a?t+o:t-o,0,1-i.zoomFactor),s=s||t!=i.zoomPosition;this.previousPanTouch={pageX:d,pageY:h},s&&!this.chartUpdating&&(this.redraw(!0,s,e.target),this._enableZoomingButtons())}},_calculateTouchDistance:function(e,t){for(var i=[],s=0,a=t.length;s<a;s++)null==e[s]&&(e[s]=t[s]),i[s]={},s>0&&(i[s].scaleX=e[0].pageX!=e[1].pageX&&(t[0].pageX-t[1].pageX)/(e[0].pageX-e[1].pageX),i[s].scaleY=e[0].pageY!=e[1].pageY&&(t[0].pageY-t[1].pageY)/(e[0].pageY-e[1].pageY),i[s].center={x:(e[0].pageX+t[0].pageX)/2,y:(e[1].pageY+t[1].pageY)/2});return i},_ensureValueInMinMax:function(e,t,i){return e<t?t:e>i?i:e},_calculatePinchZoomFactor:function(e,t,i){var s,a,o,r,l,n,d,h,c,u=this.model,p=u._axes,m=!0,g=u.m_AreaBounds,_=1e4,f=0,b=p.length;if(t="x"==t?"horizontal":"y"==t?"vertical":null,null!=this.previousScale){for(;f<b;f++)if(!t||p[f].orientation===t){if(!(a="horizontal"==(n=p[f]).orientation?e[1].scaleX:e[1].scaleY))break;c="horizontal"==n.orientation?this.previousScale[1].scaleX:this.previousScale[1].scaleY,d=n.zoomFactor,h=n.zoomPosition,l=this._ensureValueInMinMax(1/n.zoomFactor,1,_),r=this._ensureValueInMinMax(l+l*(a-c)/c,1,_),o="horizontal"==n.orientation?e[1].center.x/g.Width:1-e[1].center.y/g.Height,n.zoomFactor=this._ensureValueInMinMax(1/r,1/_,1),n.zoomPosition=this._ensureValueInMinMax(h+(d-n.zoomFactor)*o,0,1-n.zoomFactor),s=s||d!=n.zoomFactor,m=m&&1==n.zoomFactor}!s||m||this.chartUpdating?m&&this.zoomed&&!this.chartUpdating&&(this.redraw(!0,!0,i),this.zoomed=!1,this._removeZoomkit()):(this.zoomed=!0,this.redraw(!0,!0,i),this._enableZoomingButtons())}this.previousScale=e},_addTouchPointer:function(e,t,i,s){for(s=e.length;s--;)if(t.pointerId==e[s].pointerId)return i&&(e[s]=t),0;e.push(t)},_removeTouchPointer:function(e,t,i){for(i=e&&e.length;i--;)if(t.pointerId==e[i].pointerId)return e.splice(i,1),0},_copyTouches:function(e){for(var t=[],i=0,s=e.length;i<s;i++)t[i]={pageX:e[i].pageX,pageY:e[i].pageY};return t},_initEventParams:function(){return{touches:[],movements:[]}},_pointerPinchStart:function(e){var t,i=e.originalEvent,s=this.model,a=s.m_AreaBounds,o=$(this.element).offset(),r=this.eventParams||(this.eventParams=this._initEventParams()),l=(i.pageX||i.changedTouches[0].pageX)-o.left,n=(i.pageY||i.changedTouches[0].pageY)-o.top;this.model.selectionEnable&&(this.cancelEvent(e),i.preventDefault()),!s.enable3D&&"cartesianaxes"==s.AreaType&&"mouse"!=i.pointerType&&4!=i.pointerType&&s.zooming.enable&&s.zooming.enablePinching&&(i.touches||i.pointerId)?-1!=(t=e.target.id).indexOf("ResetZoom")?this.resetZoom(e):-1!=t.indexOf("panIcon")?this.startPan(e):-1!=t.indexOf("ZoomIcon")?this.startZoom(e):-1!=t.indexOf("ZoomOut")||-1!=t.indexOf("ZoomIn")?this.startZoomInOut(e):l>a.X&&l<a.X+a.Width&&n>a.Y&&n<a.Y+a.Height?(i.touches?r.touches=this._copyTouches(i.touches):this._addTouchPointer(r.touches,{pageX:l,pageY:n,pointerId:i.pointerId}),r.touches.length<2&&this.chartMouseDown(e)):this.chartMouseDown(e):this.chartMouseDown(e)},_removeInteractions:function(){$("[id*=_TrackSymbol]").remove(),this._removeTrackBall(),this._removeHighlight(),$("#"+this.svgObject.id+"_TrackToolTip").hide(),$("#"+this._id+"_tooltip").remove()},_pinchGestureMove:function(e){var t=e.originalEvent.changedTouches[0],i=e.originalEvent.touches,s=this.model,a=$(this.element).offset(),o=s.m_AreaBounds,r=t.pageX-a.left,l=t.pageY-a.top;this.eventParams=this.eventParams||this._initEventParams(s,t),!s.enable3D&&"cartesianaxes"==s.AreaType&&"mouse"!=t.pointerType&&4!=t.pointerType&&s.zooming.enable&&s.zooming.enablePinching&&i&&r>o.X&&r<o.X+o.Width&&l>o.Y&&l<o.Y+o.Height?(this._removeInteractions(),i.length>1?this._calculatePinchZoomFactor(this._calculateTouchDistance(this.eventParams.touches,i),s.zooming.type,e.target):this.doPan||this.panning?this._calculatePinchZoomPosition(e):this.chartMouseMove(e)):this.chartMouseMove(e)},_pointerPinchMove:function(e){var t,i=0,s=e.originalEvent,a=$(this.element).offset(),o=s.pageX-a.left,r=s.pageY-a.top,l=this.model,n=this.eventParams||this._initEventParams(l,s),d=n.touches,h=this.previousPointerMove,c=d.length,u=n.movements;if(null!=h&&h.pageX==s.pagex&&h.pageY==s.pageY&&h.pointerId==e.pointerId)return!1;if(!l.enable3D&&"cartesianaxes"==l.AreaType&&"mouse"!=s.pointerType&&4!=s.pointerType&&l.zooming.enable&&l.zooming.enablePinching){if(o>(t=l.m_AreaBounds).X&&o<t.X+t.Width&&r>t.Y&&r<t.Y+t.Height)if(this._addTouchPointer(d,{pageX:o,pageY:r,pointerId:s.pointerId}),d&&d.length>1){for(;i<c;i++)this._addTouchPointer(u,d[i],!1);this._addTouchPointer(u,{pageX:o,pageY:r,pointerId:s.pointerId},!0),u[0].pageX==d[0].pageX&&u[1].pageX==d[1].pageX&&u[0].pageY==d[0].pageY&&u[1].pageY==u[1].pageY||this._calculatePinchZoomFactor(this._calculateTouchDistance(d,u),this.model.zooming.type,e.target)}else this.doPan||this.panning?this._calculatePinchZoomPosition(e):this.chartMouseMove(e);else d.length>0&&this._removeTouchPointer(d,e),u.length>0&&this._removeTouchPointer(u,e),this.chartMouseMove(e);this.previousPointerMove={pageX:o,pageY:r,pointerId:s.pointerId}}else this.chartMouseMove(e)},_pointerPinchEnd:function(e){var t=this.model,i=e.originalEvent,s=this.eventParams||(this.eventParams=this._initEventParams(t,i)),a=-1!=i.type.indexOf("leave")||-1!=i.type.indexOf("out")||-1!=i.type.indexOf("Out");!t.enable3D&&"cartesianaxes"==t.AreaType&&"mouse"!=i.pointerType&&4!=i.pointerType&&t.zooming.enable&&t.zooming.enablePinching&&(i.touches||i.pointerId)?(null!=this.continuePinching&&this.svgObject.removeChild(this.svgObject.firstChild),this.continuePinching=this.previousPanTouch=this.previousScale=null,i.touches?(this.eventParams=null,this.chartMouseUp(e),a&&this.chartMouseLeave(e)):(this._removeTouchPointer(s.touches,{pointerId:i.pointerId}),s.movements.length>0&&this._removeTouchPointer(s.movements,{pointerId:i.pointerId}),0==s.touches.length&&(this.chartMouseUp(e),a&&this.chartMouseLeave(e),this.eventParams=null))):(this.chartMouseUp(e),a&&this.chartMouseLeave(e))},_appendStyle:function(e){var t="#"+e+".e-canvas * {touch-action:none; -ms-touch-action:none}",i=document.head||document.body,s=document.createElement("style");s.type="text/css",s.appendChild(document.createTextNode(t)),i.appendChild(s)},bindEvents:function(){var e,t,i=jQuery.uaMatch(navigator.userAgent),s=ej.EjSvgRender.utils.browserInfo(),a=s.isMSPointerEnabled,o=s.pointerEnabled,r=a?o?"pointerdown":"MSPointerDown":"touchstart mousedown",l=a?o?"pointerup":"MSPointerUp":"touchend mouseup",n=a?o?"pointermove":"MSPointerMove":"touchmove mousemove",d=a?o?"pointerleave":"MSPointerOut":"touchleave mouseleave";this.model.browserInfo=s,window.navigator.maxTouchPoints>1&&window.PointerEvent||window.PointerEventsPolyfill?(this._on(this.element,"pointerup pointerleave",this._pointerPinchEnd),this._on(this.element,"pointerdown",this._pointerPinchStart),this._on(this.element,"pointermove",this._pointerPinchMove),this._appendStyle(this.element[0].id)):window.TouchEvent?(this._on(this.element,"touchstart",this._pointerPinchStart),this._on(this.element,"touchmove",this._pinchGestureMove),this._on(this.element,"touchend",this._pointerPinchEnd),this._on($(this.element),"mousedown",this.chartMouseDown),this._on($(this.element),"mousemove",this.chartMouseMove),this._on(this.element,"mouseleave",this.chartMouseLeave),this._on($(document),"mouseup",this.chartMouseUp),this._appendStyle(this.element[0].id)):window.navigator.msMaxTouchPoints&&window.navigator.msPointerEnabled?(this._on(this.element,"MSPointerUp",this._pointerPinchEnd),this._on(this.element,"mouseleave",this.chartMouseLeave),this._on(this.element,"MSPointerDown",this._pointerPinchStart),this._on(this.element,"MSPointerMove",this._pointerPinchMove),this._appendStyle(this.element[0].id)):(this._on(this.element,n,this.chartMouseMove),this._on(this.element,d,this.chartMouseLeave),this._on($(document),l,this.chartMouseUp),this._on($(this.element),r,this.chartMouseDown)),this._isSafari=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),1!=(this.isDevice()&&this._isSafari)&&this._on($(this.element),"click",this.chartMouseClick),this._on($(this.element),"contextmenu",this.chartRightClick),this._on($(this.element),"dblclick",this.chartMouseDoubleClick),(this.model.canResize||this.model.isResponsive)&&this.bindResizeEvents(),e=this.model.zooming.enable||this.model.commonSeriesOptions.dragSettings.enable?"none":"pan-y",$(this.element).css({"ms-touch-action":e,"touch-action":e,"content-zooming":"none"}),$(this.element).css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),t="mozilla"==i.browser.toLowerCase()?o?"mousewheel":"DOMMouseScroll":"mousewheel",this._on(this.element,t,this.chartMouseWheel)},calZoomFactors:function(e,t,i,s){var a,o;return 1==e?(a=1,o=0):o=s+(i-(a=ej.EjSvgRender.utils._minMax(1/e,0,1)))*t,{zoomMFactor:a,zoomMPosition:o}},doMouseWheelZoom:function(e,t,i){if(e>=1){var s=this.calZoomFactors(e,t,i.zoomFactor,i.zoomPosition);if(i.zoomPosition!=s.zoomMPosition||i.zoomFactor!=s.zoomMFactor)return this.zoomed=!0,i.zoomPosition=s.zoomMPosition,i.zoomFactor=s.zoomMPosition+s.zoomMFactor>1?1-s.zoomMPosition:s.zoomMFactor,!0}return!1},enableAnimation:function(){for(var e=0;e<this.model.series.length;e++)this.model.series[e].enableAnimation=this.serAnimation[e]},disableAnimation:function(){for(var e,t=this,i=0;i<t.model.series.length;i++)t.model.series[i].enableAnimation=!1;for(e=0;e<t.model.indicators.length;e++)t.model.indicators[e].enableAnimation=!1},_removeTrackBall:function(){var e,t="#"+this.svgObject.id;$("#"+this.svgObject.id+"_trackSymbol").remove(),$(document).find("#measureTex").remove(),this.chartCross.visible&&(e=$(this.svgObject).find(t+"_AxisCrossToolTip"),this.svgRenderer._setAttr($(e),{visibility:"hidden"}),e=$(this.svgObject).find(t+"_CrosshairVertical"),this.svgRenderer._setAttr($(e),{d:"M 0 0"}),e=$(this.svgObject).find(t+"_CrosshairHorizontal"),this.svgRenderer._setAttr($(e),{d:"M 0 0"}),e=$(this.svgObject).find(t+"_TrackAxisToolTip"),this.svgRenderer._setAttr($(e),{visibility:"hidden"}),e=$(this.svgObject).find(t+"_Tracker"),this.svgRenderer._setAttr($(e),{d:"M 0 0"}),e=$(this.svgObject).find('[id*="_TrackToolTip"]'),this.svgRenderer._setAttr($(e),{visibility:"hidden"}),e=$(this.svgObject).find('[id*="_TrackToolTip"]').children(),this.svgRenderer._setAttr($(e),{visibility:"hidden"}),$(e).css("visibility","hidden"),e=$(this.svgObject).find('[id*="_trackSymbol_"]'),this.svgRenderer._setAttr($(e),{visibility:"hidden"}),$(document).find('[id*="_TrackToolTipTemplate_"]').attr("visibility","hidden"),$(document).find('[id*="_TrackToolTipTemplate_"]').css("display","none"),$(t+"_CrosshairVertical").css("display","none"),$(t+"_CrosshairHorizontal").css("display","none"),$("#"+this._id).find('[id*="canvas_AxisToolTipRect"]').css("visibility","hidden"),$("#"+this._id).find('[id*="canvas_Tracker"]').remove(),$("#"+this._id).find('[id*="canvas_trackSymbol"]').css("visibility","hidden"),$("#"+this._id).find('[id*="_gTooltip_"]').remove(),$("#secondCanvas").remove(),$(document).find('[id*="TrackGroupToolTipTemplate"]').remove(),$(document).find('[id*="_TrackToolTipTemplate_"]').remove(),$("#"+this._id).find('[id*="_trackball_grouping_tooltip"]').remove())},enableTrackBall:function(){this.model.crosshair.visible=this.chartCross.visible,this.model.crosshair.type=this.chartCross.mArea},disableTrackBall:function(){this.model.crosshair.visible=!1,this._removeTrackBall()},_enableZoomingButtons:function(){var e,t,i,s,a,o,r=this.svgObject.id;if("cartesianaxes"!=this.model.AreaType&&($("#"+r+"_ResetZoom").remove(),$("#"+r+"_PanBtn").remove(),$("#"+r+"_ZoomBtn").remove(),$("#"+r+"_ZoomInBtn").remove(),$("#"+r+"_ZoomOutBtn").remove()),"cartesianaxes"==this.model.AreaType)for(this._removeZoomkit(),e=this.model.zooming.isReversed,this.toolbarItems||(this.toolbarItems=$.extend(!0,[],this.model.zooming.toolbarItems),this.toolbarItems.reverse()),o=(i=(t=e?this.toolbarItems:this.model.zooming.toolbarItems).length)-1;o>=0;o--)switch(a=i-o,s=t[o]){case"reset":this.resetZoomButton(a);break;case"pan":this.panButton(a);break;case"zoom":case"zoomIn":case"zoomOut":this.zoomButton(a,s);break;default:i-=1}},chartMouseWheel:function(e){var t,i,s,a,o,r;if($("#"+this.svgObject.id+"_TrackToolTip").hide(),$(document).find('[id*="TrackGroupToolTipTemplate"]').remove(),$(document).find('[id*="_TrackToolTipTemplate_"]').remove(),$(this.svgObject).find('[id*="_trackSymbol_"]').remove(),this.model.zooming.enableMouseWheel&&"cartesianaxes"==this.model.AreaType&&!this.model.enable3D&&!this.vmlRendering&&ej.util.isNullOrUndefined(this.model.isLazyZooming)){t=this,this.zoomed=!1;var l=!1,n="#"+t.svgObject.id,d=jQuery.uaMatch(navigator.userAgent),h=!!navigator.userAgent.match(/Trident\/7\./),c=e.originalEvent.wheelDelta,u="mozilla"==d.browser.toLowerCase()?h?c/120>0?1:-1:-e.originalEvent.detail/3>0?1:-1:c/120>0?1:-1;for(s=0;s<this.model._axes.length;s++)("vertical"==(a=this.model._axes[s]).orientation.toLowerCase()&&("y"==t.model.zooming.type.toLowerCase()||"x,y"==t.model.zooming.type.trim().toLowerCase())||"horizontal"==a.orientation.toLowerCase()&&("x"==t.model.zooming.type.toLowerCase()||"x,y"==t.model.zooming.type.trim().toLowerCase()))&&(o=Math.max(1/ej.EjSvgRender.utils._minMax(a.zoomFactor,0,1),1),r=Math.max(o+.25*u,1),l|=t.doMouseWheelZoom(r,.5,a)),1!=a.zoomFactor&&0!=a.zoomPosition&&(i=!0),this.resetZooming=1==a.zoomFactor&&0==a.zoomPosition;this._updateScroll(),this.disableAnimation(),this.disableTrackBall(),l&&(this.model.legendCollapsed=!1,this.zoomed=!0,t.redraw(!0)),this.model._chartAreaZoom=!0,this._enableZoomingButtons(),this.mouseWheelCoords={x:e.originalEvent.pageX,y:e.originalEvent.pageY},i||($(n+"_ResetZoom").remove(),$(n+"_PanBtn").remove(),$(n+"_ZoomBtn").remove(),$(n+"_ZoomInBtn").remove(),$(n+"_ZoomOutBtn").remove(),this.enableAnimation(),this.panning=!1),d=jQuery.uaMatch(navigator.userAgent),e.preventDefault&&"chrome"==d.browser&&this.model.zooming.enable&&e.preventDefault(),e.returnValue=!1}$(".tooltipDiv"+this._id).remove()},getAxisMultiLevelLabelsData:function(e){var t,i,s,a,o,r,l=this.calMousePosition(e),n=this.model.multiLevelLabelRegions.length;for(this.mousemoveX=l.X,this.mousemoveY=l.Y,r=0;r<n;r++)if(i=(t=this.model.multiLevelLabelRegions[r]).bounds.x,s=t.bounds.y,a=t.bounds.height,o=t.bounds.width,this.mousemoveX>=i&&this.mousemoveX<=i+o&&this.mousemoveY<=s+a&&this.mousemoveY>=s)return{location:{x:this.mousemoveX,y:this.mousemoveY},axis:this.model._axes[t.axisIndex],multiLevelLabel:t.multiLevelLabel}},getAxisLabelData:function(e){var t,i,s,a,o,r,l,n,d=this.calMousePosition(e),h=e.target.id,c=this.model._axes.length;if(this.mousemoveX=d.X,this.mousemoveY=d.Y,"cartesianaxes"==this.model.AreaType||"polaraxes"==this.model.AreaType)if(this.model.enable3D){if(h.indexOf("horizontal")>=0||h.indexOf("vertical")>=0)for(l=0;l<c;l++)for(r=this.model._axes[l].visibleLabels.length,n=0;n<r;n++)if(h==this.svgObject.id+this.model._axes[l].orientation+n)return{location:{x:this.mousemoveX,y:this.mousemoveY},index:n,axis:this.model._axes[l],text:this.model._axes[l].visibleLabels[n].Text}}else for(l=0;l<c;l++)if(r=this.model._axes[l].visibleLabels.length,this.model._axes[l].visible)for(n=0;n<r;n++)if(t=this.model._axes[l].visibleLabels[n].region,!ej.util.isNullOrUndefined(t)&&(i=t.bounds.x,s=t.bounds.y,a=t.bounds.width,o=t.bounds.height,i=this.vmlRendering&&h.indexOf("_YLabel_")>=0?this.model._axes[l].opposedPosition?i:i+a:i,this.mousemoveX>=i&&this.mousemoveX<=i+a&&(this.vmlRendering?this.mousemoveY<=s+o&&this.mousemoveY>=s:this.mousemoveY>=s-o&&this.mousemoveY<=s)))return{location:{x:this.mousemoveX,y:this.mousemoveY},index:n,axis:this.model._axes[l],text:t.labelText}},getLegendData:function(e){var t=this.calMousePosition(e),i=this.model.legend.isReversed;t.X=i&&($("#legend_"+this._id).find('[class*="e-vscrollbar"]').length||"scroll"==$("#legend_"+this._id)[0].style.overflowY)?t.X-18:t.X,t.X-=parseFloat($(this.element).css("padding-left")),t.Y-=parseFloat($(this.element).css("padding-top"));var s,a=this.model.legend._ejScroller,o=0;s=a?$("#legend_"+this._id).ejScroller("instance").model.scrollTop:$("#legend_"+this._id).scrollTop(),o=a?$("#legend_"+this._id).ejScroller("instance").model.scrollLeft:$("#legend_"+this._id).scrollLeft(),i&&a&&(o=0==o?$("#legend_"+this._id).ejScroller("instance")._rtlScrollLeftValue:$("#legend_"+this._id).ejScroller("instance").model.scrollLeft==$("#legend_"+this._id).ejScroller("instance")._rtlScrollLeftValue?0:$("#legend_"+this._id).ejScroller("instance")._rtlScrollLeftValue-$("#legend_"+this._id).ejScroller("instance").model.scrollLeft),this.scrolltop=s||0,this.scrollleft=o||0,this.mousemoveX=t.X+o,this.mousemoveY=t.Y+s;var r,l=e.target.id,n=this.mousemoveX,d=this.mousemoveY,h=this._id;return!(!(!ej.util.isNullOrUndefined(l)&&this.svgRenderer._getAttrVal($(e.target).parents(":eq(1)"),"id")==this.svgObject.id+"_Legend"||this.model.enableCanvasRendering&&l=="legend_"+h+"_canvas"||this.vmlRendering)||($.each(this.model.legendRegion,(function(e,t){n>=t.Bounds.LegendBound.X+t.Bounds.ItemBound.X&&n<=t.Bounds.LegendBound.X+t.Bounds.ItemBound.X+t.Bounds.ItemBound._Width&&(d>=t.Bounds.LegendBound.Y+t.Bounds.ItemBound.Y-t.Bounds.ItemBound.Height/4&&d<=t.Bounds.LegendBound.Y+t.Bounds.ItemBound.Y+t.Bounds.ItemBound.Height?(r=t,$("#legend_"+h+"_canvas").css("cursor","pointer")):$("#legend_"+h+"_canvas").css("cursor","default"))})),ej.util.isNullOrUndefined(r)))&&{legendItem:r,series:this.model._visibleSeries[r.LegendItem.SeriesIndex]}},get3DSeriesPoint:function(e){var t,i,s,a,o,r,l=this.mousemoveX,n=this.mousemoveY,d="polaraxes"==this.model.AreaType?0:this.model.m_AreaBounds.X,h="polaraxes"==this.model.AreaType?0:this.model.m_AreaBounds.Y,c="polaraxes"==this.model.AreaType?$(this.svgObject).width():this.model.m_AreaBounds.Width,u="polaraxes"==this.model.AreaType?$(this.svgObject).height():this.model.m_AreaBounds.Height;if(l>d&&l<d+c&&n>h&&n<h+u&&("path"==(a=$(e.target)[0].nodeName)||"shape"==a)&&$(e.target)[0].id.indexOf("Region")>1)return t=$(e.target)[0].id.match(/(\d+)/g),i=parseInt(t[t.length-1]),s=parseInt(t[t.length-2]),(o={}).Region={},o.Region.PointIndex=i,o.SeriesIndex=s,(r={}).pointIndex=i,{region:o,pointData:r,location:{x:l,y:n}}},GetSeriesPoint:function(e){for(var t,i,s,a,o,r,l,n=this.mousemoveX,d=this.mousemoveY,h=this,c=h.model.indicators,u=h.model._visibleSeries,p=0;p<c.length&&c[p].segment;p++)u=u.concat(c[p].segment);if(h.model.enable3D)return this.get3DSeriesPoint(e);var m="polaraxes"==this.model.AreaType?0:this.model.m_AreaBounds.X,g="polaraxes"==this.model.AreaType?0:this.model.m_AreaBounds.Y,_="polaraxes"==this.model.AreaType?$(this.svgObject).width():this.model.m_AreaBounds.Width,f="polaraxes"==this.model.AreaType?$(this.svgObject).height():this.model.m_AreaBounds.Height;if("cartesianaxes"==this.model.AreaType||"polaraxes"==this.model.AreaType){if(n>m&&n<m+_&&d>g&&d<g+f&&$.each(this.model.chartRegions,(function(i,a){var o,r,c,p,m,g,_,f,b,v;if(ej.util.isNullOrUndefined(a.SeriesIndex)){if(s=h.model.chartRegions,!a.isStripLine){var S=a.length,C=h.model.requireInvertedAxes?h.model.series[a[S-1].SeriesIndex]._xAxisName:h.model.series[a[S-1].SeriesIndex]._yAxisName;for(b=0;b<h.model._axes.length;b++)if(C==h.model._axes[b].name){f=h.model._axes[b];break}for(V=0;V<s.length;V++)for(B=0;B<s[V].length;B++)R=[],(v=s[V][B].region)[0]&&R.push({x:v[0].X+f.x,y:v[0].Y+f.y}),v[1]&&R.push({x:v[1].X+f.x,y:v[1].Y+f.y}),v[2]&&R.push({x:v[2].X+f.x,y:v[2].Y+f.y}),v[3]&&R.push({x:v[3].X+f.x,y:v[3].Y+f.y}),M={x:n,y:d},h.isPointInPolygon(R,M)&&(l=s[V][B])}}else if(o=u[a.SeriesIndex],"polaraxes"==h.model.AreaType&&"column"==o.drawType.toLowerCase()&&e.target||"rangecolumn"==o.drawType.toLowerCase()){if(h.model.enableCanvasRendering){if("polar"==o.type.toLowerCase()){var T,L,k=a.Region.Bounds,P=-.5*Math.PI,j=k.innerRadius||k.DRadius;T=n-k.CenterX,L=d-k.CenterY;var D=h.model._visibleSeries[a.SeriesIndex],A=D.startAngle,O=(D.endAngle,A?2*Math.PI*(h.model.itemCurrentXPos<0?1+h.model.itemCurrentXPos:h.model.itemCurrentXPos):0),I=(Math.atan2(L,T)-P-O)%(2*Math.PI);I<0&&0!=k.PointIndex&&(I=2*Math.PI+I),r=parseFloat(k.StartAngle.toFixed(14)),c=parseFloat(k.EndAngle.toFixed(14)),c-=O,I>=(r-=O)&&I<=c&&(i=k.PointIndex,(t=Math.sqrt(Math.pow(Math.abs(T),2)+Math.pow(Math.abs(L),2)))<=k.Radius&&t>j&&(g={Region:{PointIndex:i},SeriesIndex:a.SeriesIndex,type:a.type},l=g))}else if("radar"==o.type.toLowerCase()&&(k=a.Region.Bounds).Line1){v=k.Line1,x=k.Line2,y=k.Line3,w=k.Line4;var R=[{x:v.x,y:v.y},{x:x.x,y:x.y},{x:y.x,y:y.y}],M={x:n,y:d};if("column"==o.drawType.toLowerCase())for(var E=!1,V=-1,N=R.length,B=N-1;++V<N;B=V)(R[V].y<=M.y&&M.y<R[B].y||R[B].y<=M.y&&M.y<R[V].y)&&M.x<(R[B].x-R[V].x)*(M.y-R[V].y)/(R[B].y-R[V].y)+R[V].x&&(E=!E);else for(p=[{x:v.x,y:v.y},{x:x.x,y:x.y},{x:y.x,y:y.y},{x:w.x,y:w.y}],V=0,B=2,E=!1,m=0;m<p.length;m++)(p[V].y<=M.y&&M.y<p[B].y||p[B].y<=M.y&&M.y<p[V].y)&&M.x<(p[B].x-p[V].x)*(M.y-p[V].y)/(p[B].y-p[V].y)+p[V].x&&(E=!E),b=V,V=B,B=++b,2==m&&(B=0);E&&(g={Region:{PointIndex:i=k.PointIndex},SeriesIndex:a.SeriesIndex,type:a.type},l=g)}}else if(("path"==(_=$(e.target)[0].nodeName)||"shape"==_)&&$($(e.target).parent())[0].id==h.svgObject.id+"_SeriesGroup_"+a.SeriesIndex)return i=$(e.target)[0].id.match(/(\d+)/g),a={Region:{PointIndex:parseInt(i[i.length-1])},SeriesIndex:a.SeriesIndex,type:a.type},l=a,!1}else n>=a.Region.Bounds.X&&n<=a.Region.Bounds.X+a.Region.Bounds.Width&&d>a.Region.Bounds.Y&&d<a.Region.Bounds.Y+a.Region.Bounds.Height&&(l=a)})),l)return{region:l,location:{x:n,y:d}}}else{if(!((a=(h=this).model.chartRegions).length>0)||"pyramid"!=a[0].Series.type.toLowerCase()&&"funnel"!=a[0].Series.type.toLowerCase())return $.each(h.model.chartRegions,(function(e,i){var s,a,o,r,c,u,p,m,g,_=-.5*Math.PI,f=i.SeriesData,b=i.Region,v="doughnut"==h.model._visibleSeries[i.SeriesIndex].type.toLowerCase()?f.DRadius:0;s=n-f.CenterX,a=d-f.CenterY;var x=h.model._visibleSeries[i.SeriesIndex],y=x.startAngle,w=x.endAngle;if(y=y<0?y+360:y,w=w<0?w+360:w,x.endAngle-x.startAngle<0){for(o=(w/=360)?2*Math.PI*(w<0?1+w:w):0,(r=(Math.atan2(a,s)-_-o)%(2*Math.PI))<0&&(r=2*Math.PI+r),k=[],c=0;c<b.length;c++)if(u=parseFloat(b[c].StartAngle.toFixed(14)),p=parseFloat(b[c].EndAngle.toFixed(14)),u=u<0?2*Math.PI+u:u,p=p<0?2*Math.PI+p:p,u-=o,p-=o,u=parseFloat(u.toFixed(14)),p=parseFloat(p.toFixed(14)),x.startAngle>=0&&x.endAngle<=0&&(u=u<=0?2*Math.PI+u:u,p=p<0?2*Math.PI+p:p),r<=u&&r>=p){k.push(b[c]);break}}else for(o=y?2*Math.PI*(h.model.itemCurrentXPos<0?1+h.model.itemCurrentXPos:h.model.itemCurrentXPos):0,(r=(Math.atan2(a,s)-_-o)%(2*Math.PI))<0&&(r=h.model._isPieOfPie?r:2*Math.PI+r),k=[],c=0;c<b.length;c++)if(u=parseFloat(b[c].StartAngle.toFixed(14)),p=parseFloat(b[c].EndAngle.toFixed(14)),u=u<0?h.model._isPieOfPie?u:2*Math.PI+u:u,p=p<0?2*Math.PI+p:p,u-=o,p-=o,u=parseFloat(u.toFixed(14)),p=parseFloat(p.toFixed(14)),x.startAngle<0&&(x.endAngle>-1||null==x.endAngle)&&(u=u<0?2*Math.PI+u:u,p=p<=0?2*Math.PI+p:p),r+2*Math.PI<p&&"pieofpie"==x.type&&(r+=2*Math.PI),r>=u&&r<=p){k.push(b[c]);break}k.length>0&&(x.explodeAll||x.explodeIndex==k[0].PointIndex?(m=n-k[0].StartX,g=d-k[0].StartY,k.length>0&&(t=Math.sqrt(Math.pow(Math.abs(m),2)+Math.pow(Math.abs(g),2)))<=f.Radius&&t>v&&(b.PointIndex=k[0].PointIndex,b.Index=k[0].Index,b.SeriesIndex=k[0].SeriesIndex,l={region:i,pointData:k,location:{x:n,y:d}})):(t=Math.sqrt(Math.pow(Math.abs(s),2)+Math.pow(Math.abs(a),2)))<=f.Radius&&t>v&&(b.PointIndex=k[0].PointIndex,b.Index=k[0].Index,b.SeriesIndex=k[0].SeriesIndex,l={region:i,pointData:k,location:{x:n,y:d}}))})),l;if(("path"==(o=$(e.target)[0].nodeName)||"shape"==o)&&$($(e.target).parent())[0].id==h.svgObject.id+"_SeriesGroup_"+a[0].SeriesIndex)return s=h.model.chartRegions[0],i=$(e.target)[0].id.match(/(\d+)/g),i=parseInt(i[i.length-1]),s.Region.PointIndex=i,(k={}).pointIndex=i,l={region:s,pointData:k,location:{x:n,y:d}};s=a[0];var b,v,x,y,w,S,C,T=this.pyrX,L=this.pyrY,k={};for(p=0;p<s.Region.length;p++)if(v=s.Region[p].Line1,x=s.Region[p].Line2,y=s.Region[p].Line3,w=s.Region[p].Line4,"pyramid"==a[0].Series.type.toLowerCase()?b=[{x:v.x+T,y:v.y+L},{x:x.x+T,y:x.y+L},{x:y.x+T,y:y.y+L},{x:w.x+T,y:w.y+L}]:(S=s.Region[p].Line5,C=s.Region[p].Line6,b=[{x:v.x+T,y:v.y+L},{x:x.x+T,y:x.y+L},{x:y.x+T,y:y.y+L},{x:w.x+T,y:w.y+L},{x:S.x+T,y:S.y+L},{x:C.x+T,y:C.y+L}]),r={x:n,y:d},this.isPointInPolygon(b,r))return k.pointIndex=s.Region[p].PointIndex,s.Region.PointIndex=k.pointIndex,l={region:s,pointData:k,location:{x:n,y:d}}}},isPointInPolygon:function(e,t){for(var i=!1,s=-1,a=e.length,o=a-1;++s<a;o=s)(e[s].y<=t.y&&t.y<e[o].y||e[o].y<=t.y&&t.y<e[s].y)&&t.x<(e[o].x-e[s].x)*(t.y-e[s].y)/(e[o].y-e[s].y)+e[s].x&&(i=!i);return i},mousePosition:function(e){return!ej.util.isNullOrUndefined(e.pageX)&&e.pageX>0?{x:e.pageX,y:e.pageY}:e.originalEvent&&!ej.util.isNullOrUndefined(e.originalEvent.pageX)&&e.originalEvent.pageX>0?{x:e.originalEvent.pageX,y:e.originalEvent.pageY}:e.originalEvent&&void 0!=e.originalEvent.changedTouches?!ej.util.isNullOrUndefined(e.originalEvent.changedTouches[0].pageX)&&e.originalEvent.changedTouches[0].pageX>0?{x:e.originalEvent.changedTouches[0].pageX,y:e.originalEvent.changedTouches[0].pageY}:void 0:{x:0,y:0}},calMousePosition:function(e){var t=jQuery.uaMatch(navigator.userAgent),i=this.mousePosition(e);return e.pageX=i.x,e.pageY=i.y,t.browser.toLowerCase(),{X:e.pageX-$(this.svgObject).offset().left,Y:e.pageY-$(this.svgObject).offset().top}},calTouchPosition:function(e){var t,i,s,a=jQuery.uaMatch(navigator.userAgent);return"mozilla"==a.browser.toLowerCase()||"webkit"==a.browser.toLowerCase()?(t=(s=e.originalEvent.touches[0]).pageX-$(this.svgObject).parent().offset().left,i=s.pageY-$(this.svgObject).parent().offset().top,this.leftPadding=$(this.svgObject).offset().left,this.grabPadding=0):"msie"==a.browser.toLowerCase()?(t=e.originalEvent.pageX-$(this.svgObject).offset().left,i=e.originalEvent.pageY-$(this.svgObject).offset().top,this.leftPadding=$(this.svgObject).offset().left):(t=(s=e.originalEvent.touches[0]).pageX-$(this.svgObject).offset().left,i=s.pageY-$(this.svgObject).offset().top,this.leftPadding=$(this.svgObject).offset().left),{X:t,Y:i}},cancelEvent:function(e){return e.stopPropagation(),"chrome"==jQuery.uaMatch(navigator.userAgent).browser&&(this.model.zooming.enable||this.model.crosshair.visible)&&e.preventDefault(),this.model.enable3D&&(e.preventDefault(),e.stopPropagation()),e.returnValue=!1,e.cancelBubble=!0,!1},resetZoom:function(){var e=this,t="#"+this.svgObject.id;$(".tooltipDiv"+this._id).remove(),$(".zoom"+this._id).remove(),e.zoomed&&($.each(this.model._axes,(function(e,t){t.zoomed=!1,t.zoomFactor=1,t.zoomPosition=0})),e.model.primaryXAxis.zoomFactor=1,e.model.primaryYAxis.zoomFactor=1,e.model.primaryXAxis.zoomPosition=0,e.model.primaryYAxis.zoomPosition=0,$("#"+e._id+"_canvas").css({cursor:"default"}),$(t+"_ResetZoom").remove(),$(t+"_PanBtn").remove(),$(t+"_ZoomBtn").remove(),$(t+"_ZoomInBtn").remove(),$(t+"_ZoomOutBtn").remove(),e.zoomed=!1,e.zooming=!1,e.panning=!1,e.model._chartAreaZoom=!1,e.resetZooming=!0,e.enableTrackBall(),e.redraw(!0),e.enableAnimation(),e.svgRenderer._setAttr($(e.svgObject).find(t+"_XAxis,"+t+"_ChartArea,"+t+"_YAxis,"+t+"_SeriesCollection"),{cursor:"default"}))},startZoomInOut:function(e){var t,i,s=e.target.id.indexOf("ZoomIn")>-1?"zoomIn":"zoomOut";this.drag=!1,this.zoomed=!0;var a,o,r,l,n=this.model.zooming.type.toLowerCase(),d="zoomIn"==s?.2:-.2,h=!0;for(t=0;t<this.model._axes.length;t++)o=(a=this.model._axes[t]).zoomFactor,r=a.zoomPosition,"horizontal"==a.orientation.toLowerCase()?(a.zoomFactor="y"!=n?o-d:a.zoomFactor,a.zoomPosition="y"!=n?r+d:a.zoomPosition):(a.zoomFactor="x"!=n?o-d:a.zoomFactor,a.zoomPosition="x"!=n?r+d:a.zoomPosition),parseFloat(a.zoomFactor.toFixed(3))<=.001&&(a.zoomFactor=o,a.zoomPosition=r),parseFloat(a.zoomFactor.toFixed(3))>=1&&(a.zoomFactor=1,a.zoomPosition=0),h=h&&1==a.zoomFactor,this.resetZooming=1==a.zoomFactor&&0==a.zoomPosition;l=this._getZoomedData(this),(i=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={},i.data.series=l,this._trigger("zoomed",i),this._updateScroll(),this.redraw(!0),h?(this._removeZoomkit(),this.resetZooming=!0,this.zoomed=this.panning=!1,this.model._chartAreaZoom=!1):this._enableZoomingButtons()},startZoom:function(){var e,t=this,i="#"+this.svgObject.id;$(".tooltipDiv"+this._id).remove(),e=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF",t.svgRenderer._setAttr($(i+"_ZoomBtn"),{selected:"true"}),t.svgRenderer._setAttr($(i+"_ZoomPath"),{fill:"#14B9FF"}),t.svgRenderer._setAttr($(i+"_ZoomIcon"),{fill:"#FFFFFF"}),t.svgRenderer._setAttr($(i+"_PanPath"),{fill:"#B7B7B7"}),t.svgRenderer._setAttr($(i+"_panIcon"),{fill:e}),$(i+"_ZoomBtn").css({"border-color":"#14B9FF","background-color":"#14B9FF"}),$(i+"_PanBtn").css({"border-color":"#B7B7B7","background-color":"#B7B7B7"}),$("#"+t._id+"_canvas").css({cursor:"default"}),this._cursorToDefault(),t.panning=!1,t.enableTrackBall()},startPan:function(){var e,t=this,i="#"+this.svgObject.id;$(".tooltipDiv"+this._id).remove(),e=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF",t.svgRenderer._setAttr($(i+"_ZoomBtn"),{selected:"false"}),t.svgRenderer._setAttr($(i+"_PanBtn"),{selected:"true"}),t.svgRenderer._setAttr($(i+"_ZoomPath"),{fill:"#B7B7B7"}),t.svgRenderer._setAttr($(i+"_ZoomIcon"),{fill:e}),t.svgRenderer._setAttr($(i+"_PanPath"),{fill:"#14B9FF"}),t.svgRenderer._setAttr($(i+"_panIcon"),{fill:"#FFFFFF"}),$(i+"_ZoomBtn").css({"border-color":"#B7B7B7","background-color":"#B7B7B7"}),$(i+"_PanBtn").css({"border-color":"#14B9FF","background-color":"#14B9FF"}),$("#"+t._id+"_canvas").css({cursor:"pointer"}),this._cursorToPointer(),t.panning=!0,t.disableTrackBall()},zoomButton:function(e,t){var i="zoom"==t?"_Zoom":"zoomIn"==t?"_ZoomIn":"_ZoomOut",s=5*e+5,a=0,o=0,r=this.model.m_AreaBounds.X+(this.model.m_AreaBounds.Width-32*e-s),l=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height+(this.model.elementSpacing-this.model.m_AreaBounds.Height),n=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF",d={id:this.svgObject.id+i+"Path",d:"M32,27c0,2.75-2.25,5-5,5H5c-2.75,0-5-2.25-5-5V5c0-2.75,2.25-5,5-5h22c2.75,0,5,2.25,5,5V27z",fill:this.panning||"zoomIn"==t||"zoomOut"==t?"#b7b7b7":"#14B9FF",zoomId:this._id+i+"Btn",width:26,height:26,left:r+a,top:l+o,iconColor:n};ej.EjCanvasRender.prototype.zoomButton(d,t,this),"zoom"==t?this._on($("#"+this.svgObject.id+i+"Btn"),"touchstart click",this.startZoom):this._on($("#"+this.svgObject.id+i+"Btn"),"touchstart click",this.startZoomInOut)},panButton:function(e){var t=5*e+5,i=0,s=0,a=this.model.m_AreaBounds.X+(this.model.m_AreaBounds.Width-32*e-t),o=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height+(this.model.elementSpacing-this.model.m_AreaBounds.Height),r=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF",l={id:this.svgObject.id+"_PanPath",d:"M 32 27 c 0 2.75 -2.25 5 -5 5 H 5 c -2.75 0 -5 -2.25 -5 -5 V 5 c 0 -2.75 2.25 -5 5 -5 h 22 c 2.75 0 5 2.25 5 5 V 27 Z",fill:this.panning?"#14B9FF":"#b7b7b7",panId:this._id+"_PanBtn",width:26,height:26,left:a+i,top:o+s,iconColor:r};ej.EjCanvasRender.prototype.panButton(l,this),this._on($("#"+this.svgObject.id+"_PanBtn"),"touchstart click",this.startPan)},resetZoomButton:function(e){var t,i=5*e+5,s=0,a=0,o=this.model.m_AreaBounds.X+(this.model.m_AreaBounds.Width-(32*e+i)),r=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height+(this.model.elementSpacing-this.model.m_AreaBounds.Height),l=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF",n={id:this.svgObject.id+"_ResetZoomPath",d:"M 32 27 c 0 2.75 -2.25 5 -5 5 H 5 c -2.75 0 -5 -2.25 -5 -5 V 5 c 0 -2.75 2.25 -5 5 -5 h 22 c 2.75 0 5 2.25 5 5 V 27 Z",fill:"#b7b7b7",resetZoomId:this._id+"_ResetZoom",width:26,height:26,left:o+s,top:r+a,iconColor:l};ej.EjCanvasRender.prototype.resetZoom(n,this),t=(window.TouchEvent?"touchstart":window.PointerEvent?"pointerdown":window.MSPointerEvent?"MSPointerDown":"click")+" click",this._on($("#"+this.svgObject.id+"_ResetZoom"),t,this.resetZoom)},doZoom:function(e,t,i){var s,a,o,r=this;if(this.model._chartAreaZoom=!0,this.scrollDraw=!0,$(".tooltipDiv"+this._id).remove(),r.model.enableCanvasRendering)var l=$("#"+this.svgObject.id+"_ZoomArea")[0].getClientRects()[0],n=$("#"+this.svgObject.id)[0].getClientRects()[0],d=l.left-n.left-$(document).scrollLeft(),h=l.top-n.top-$(document).scrollTop();else d=parseFloat(r.svgRenderer._getAttrVal($(e),"x")),h=parseFloat(r.svgRenderer._getAttrVal($(e),"y"));for($("#"+this.svgObject.id+"_ZoomArea").remove(),this.drag=!1,this.zoomed=!0,a=0;a<this.model._axes.length;a++){var c=this.model._axes[a],u=c.zoomFactor,p=c.zoomPosition;"horizontal"==c.orientation.toLowerCase()?(c.zoomFactor="y"!=r.model.zooming.type.toLowerCase()?u*(t/r.model.m_AreaBounds.Width):c.zoomFactor,c.zoomPosition="y"!=r.model.zooming.type.toLowerCase()?p+Math.abs((d-r.model.m_AreaBounds.X)/r.model.m_AreaBounds.Width)*u:c.zoomPosition,parseFloat(c.zoomFactor.toFixed(3))<=.001&&(c.zoomFactor=u,c.zoomPosition=p)):(c.zoomFactor="x"!=r.model.zooming.type.toLowerCase()?u*i/r.model.m_AreaBounds.Height:c.zoomFactor,c.zoomPosition="x"!=r.model.zooming.type.toLowerCase()?p+(1-Math.abs((i+(h-r.model.m_AreaBounds.Y))/r.model.m_AreaBounds.Height))*u:c.zoomPosition,parseFloat(c.zoomFactor.toFixed(3))<=.001&&(c.zoomFactor=u,c.zoomPosition=p))}s=this._getZoomedData(r),(o=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={},o.data.series=s,this._trigger("zoomed",o),this.disableAnimation(),this.model.legendCollapsed=!1,this.redraw(!0),this._enableZoomingButtons()},_getZoomedData:function(e){for(var t,i,s,a,o,r=this.model._visibleSeries,l=r.length,n=[],d=[],h=[],c=0;c<l;c++){if("visible"==r[c].visibility)for(o=(h=r[c].points).length,i=r[c].type.toLowerCase(),(new(ej.axisTypes[r[c].xAxis._valueType.toLowerCase()]))._calculateVisibleRange(r[c].xAxis,e),(new(ej.axisTypes[r[c].yAxis._valueType.toLowerCase()]))._calculateVisibleRange(r[c].yAxis,e),s=r[c].xAxis.visibleRange,a=r[c].yAxis.visibleRange,t=0;t<o;t++)s.min<=h[t].xValue&&s.max>=h[t].xValue&&a.min<=h[t].y&&a.max>=h[t].y&&(r[c]._hiloTypes?"rangearea"==i||"rangecolumn"==i||"waterfall"==i||"hilo"==i?n.push({XValue:h[t].x,High:h[t].high,Low:h[t].low}):n.push({XValue:h[t].x,High:h[t].high,Low:h[t].low,Open:h[t].open,Close:h[t].close}):n.push({XValue:h[t].x,YValue:h[t].y}));0!=n.length&&d.push({selectedData:n}),n=[]}return d},_cursorToDefault:function(){var e="#"+this.svgObject.id;this.svgRenderer._setAttr($(this.svgObject).find(e+"_XAxis,"+e+"_ChartArea,"+e+"_YAxis,"+e+"_SeriesCollection,"+e+"_StriplineBehind,"+e+"_StriplineOver"),{cursor:"default"})},_cursorToPointer:function(){var e="#"+this.svgObject.id;this.svgRenderer._setAttr($(this.svgObject).find(e+"_XAxis,"+e+"_ChartArea,"+e+"_YAxis,"+e+"_SeriesCollection,"+e+"_StriplineBehind,"+e+"_StriplineOver"),{cursor:"pointer"})},removeMultiRect:function(){$(this.parentgEle).empty(),this.model.selectedDataCollection=[]},multiSelectDataCalculation:function(){for(var e,t,i,s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C=[],T=this.selectedRectIndex,L=this.oldRectX[T],k=this.oldRectY[T],P=this.oldRectWidth[T],j=this.oldRectHeight[T],D=this.model.series,A=D.length,O=this.multiAxis,I=O.length,R=this.multiSelectType,M=(this.model.AreaType.toLowerCase(),0);M<A;M++){if(_=(S=D[M]).xAxis.visibleRange,f=S.yAxis.visibleRange,e=O.some((function(e){return e.name.toLowerCase()==S._xAxisName.toLowerCase()})),t=O.some((function(e){return e.name.toLowerCase()==S._yAxisName.toLowerCase()})),w=S.selectionSettings,e&&t&&"visible"==S.visibility.toLowerCase()){for(i=0;i<I;i++)"horizontal"==(o=O[i]).orientation.toLowerCase()?(this.selectFactor="y"!=w.rangeType.toLowerCase()?P/this.multiAxis[i].width*1:1,this.selectPosition="y"!=w.rangeType.toLowerCase()?0+1*Math.abs((L-this.multiAxis[i].x)/this.multiAxis[i].width):0,parseFloat(1..toFixed(3))<=.001&&(this.selectFactor=1,this.selectPosition=0)):(this.selectFactor="x"!=w.rangeType.toLowerCase()?1*j/this.multiAxis[i].height:1,this.selectPosition="x"!=w.rangeType.toLowerCase()?0+1*(1-Math.abs((j+(k-this.multiAxis[i].y))/this.multiAxis[i].height)):0,parseFloat(1..toFixed(3))<=.001&&(this.selectFactor=1,this.selectPosition=0)),o.visibleRange=$.extend(!0,{},o.actualRange),(this.selectFactor<1||this.selectPosition>0)&&(u="logarithmic"==o.valueType?o.visibleRange:o.actualRange,this.selectFactor=this.selectFactor>1?1:this.selectFactor<0?0:this.selectFactor,this.selectPosition=this.selectPosition<0?0:this.selectPosition>1?1:this.selectPosition,o.isInversed?m=(p=o.actualRange.max-this.selectPosition*o.actualRange.delta)-this.selectFactor*o.actualRange.delta:m=(p=o.actualRange.min+this.selectPosition*o.actualRange.delta)+this.selectFactor*o.actualRange.delta,p<u.min&&(m+=u.min-p,p=u.min),m>u.max&&(p-=m-u.max,m=u.max),"logarithmic"==o.valueType&&(p=Math.pow(10,p),m=Math.pow(10,m)),o.visibleRange.min=Math.min(p,m),o.visibleRange.max=Math.max(p,m));if(h=S._visiblePoints,c=S.type.toLowerCase(),y=S.isTransposed,r=S.xAxis.visibleRange.min,l=S.xAxis.visibleRange.max,n=S.yAxis.visibleRange.min,d=S.yAxis.visibleRange.max,ej.util.isNullOrUndefined(C)&&(C=[]),S.selectionSettings.enable)switch(R){case"x":for(i=0;i<h.length;i++)h[i].seriesIndex=M,g=h[i].isEmpty,b=h[i].xValue,v=h[i].y,S.xAxis.isInversed||S.yAxis.isInversed?c.indexOf("bar")>=0?c.indexOf("stacking")>=0?(x=S.stackedValue.EndValues[i],!g&&d>=x&&n<=x&&C.push(h[i])):("waterfall"==c&&!g&&d>=h[i].YValues[0]&&n<=h[i].YValues[0]||!g&&d>=v&&n<=v)&&C.push(h[i]):!g&&l>=b&&r<=b&&C.push(h[i]):y&&c.indexOf("bar")>=0?!g&&r<=b&&l>=b&&C.push(h[i]):c.indexOf("bar")>=0||S.isTransposed&&!(c.indexOf("bar")>=0)?c.indexOf("stacking")>=0?(x=S.stackedValue.EndValues[i],!g&&n<=x&&d>=x&&C.push(h[i])):("waterfall"==c&&!g&&n<=h[i].YValues[0]&&d>=h[i].YValues[0]||!g&&n<=v&&d>=v)&&C.push(h[i]):!g&&Math.round(r)<=b&&l>=b&&C.push(h[i]);break;case"y":for(i=0;i<h.length;i++)h[i].seriesIndex=M,g=h[i].isEmpty,b=h[i].xValue,v=h[i].y,S.xAxis.isInversed||S.yAxis.isInversed?c.indexOf("bar")>=0?!g&&l>=b&&r<=b&&C.push(h[i]):c.indexOf("stacking")>=0?(x=S.stackedValue.EndValues[i],!g&&n<=x&&d>=x&&C.push(h[i])):("waterfall"==c&&!g&&d>=h[i].YValues[0]&&n<=h[i].YValues[0]||!g&&d>=v&&n<=v)&&C.push(h[i]):y&&c.indexOf("bar")>=0?c.indexOf("stacking")>=0?(x=S.stackedValue.EndValues[i],!g&&n<=x&&d>=x&&C.push(h[i])):("waterfall"==c&&!g&&n<=h[i].YValues[0]&&d>=h[i].YValues[0]||!g&&n<=v&&d>=v)&&C.push(h[i]):c.indexOf("bar")>=0||S.isTransposed&&!(c.indexOf("bar")>=0)?!g&&r<=b&&l>=b&&C.push(h[i]):c.indexOf("stacking")>=0?(x=S.stackedValue.EndValues[i],!g&&n<=x&&d>=x&&C.push(h[i])):("waterfall"==c&&!g&&n<=h[i].YValues[0]&&d>=h[i].YValues[0]||!g&&n<=v&&d>=v)&&C.push(h[i]);break;case"xy":for(i=0;i<h.length;i++)h[i].seriesIndex=M,g=h[i].isEmpty,b=h[i].xValue,v=h[i].y,c.indexOf("stacking")>=0?(x=S.stackedValue.EndValues[i],!g&&l>=b&&r<=b&&n<=x&&d>=x&&C.push(h[i])):("waterfall"==c&&!g&&l>=b&&r<=b&&n<=h[i].YValues[0]&&d>=h[i].YValues[0]||!g&&l>=b&&Math.round(r)<=b&&n<=v&&d>=v)&&C.push(h[i])}}S.xAxis.visibleRange=_,S.yAxis.visibleRange=f}s=this.currentIndex,(ej.util.isNullOrUndefined(this.model.selectedDataCollection)||0==$("#"+this.svgObject.id+"_rectSelectionGroup").length)&&(this.model.selectedDataCollection=[]),this.removeRect?this.model.selectedDataCollection.splice(s,1):this.rectPan||this.resize?(this.model.selectedDataCollection[s]=0,this.model.selectedDataCollection[s]=C):this.model.selectedDataCollection[this.model.selectedDataCollection.length]=C,(a=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={},a.data.selectedData=C,a.data.selectedDataCollection=this.model.selectedDataCollection,this._trigger("rangeSelected",a)},multiSelectMouseUp:function(e){var t,i,s,a,o,r,l,n,d,h;if(this._isMultiSelect&&"range"==this.multiSelectMode){var c,u,p,m=this.svgObject.id,g=this.selectedRectIndex,_="#"+m+"_selectRect",f=parseInt($(_+g).attr("width")),b=parseInt($(_+g).attr("height")),v=parseInt($(_+g).attr("x")),x=parseInt($(_+g).attr("y"));if((this.multiSelectDraw||!this.removeRect||!this.resize||!this.rectPan)&&f>0&&b>0){for(t={id:m+"_resize_rightRect"+g,x:v+f-5,y:x+10,width:10,height:b-20>0?b-20:0,fill:"transparent",stroke:"transparent","stroke-width":2,cursor:"e-resize"},this.svgRenderer.drawRect(t,this.gEle),i={id:m+"_resize_bottomRect"+g,x:v,y:x+b-5,width:f-10>0?f-10:0,height:10,fill:"transparent",stroke:"transparent","stroke-width":2,cursor:"s-resize"},this.svgRenderer.drawRect(i,this.gEle),s={id:m+"_resize_leftRect"+g,x:v-5,y:x,width:10,height:b,fill:"transparent",stroke:"transparent","stroke-width":2,cursor:"w-resize"},this.svgRenderer.drawRect(s,this.gEle),a={id:m+"_resize_topRect"+g,x:v,y:x-5,width:f-10>0?f-10:0,height:10,fill:"transparent",stroke:"transparent","stroke-width":2,cursor:"n-resize"},this.svgRenderer.drawRect(a,this.gEle),o={id:m+"_resize_bottomRightCornerCircle"+g,cx:v+f,cy:x+b,r:10,fill:"transparent",stroke:"transparent","stroke-width":2,cursor:"se-resize"},this.svgRenderer.drawCircle(o,this.gEle),r={id:m+"_closeTopRightCornerCircle"+g,cx:v+f,cy:x,r:10,fill:"white",stroke:"#2988d6","stroke-width":2,cursor:"pointer"},this.svgRenderer.drawCircle(r,this.gEle),l={id:m+"_closePath"+g,x1:v+f-4,y1:x-4,x2:v+f+4,y2:x+4,stroke:"#2988d6","stroke-width":2,cursor:"pointer"},this.svgRenderer.drawLine(l,this.gEle),n={id:m+"_closePathOpposite"+g,x1:v+f+4,y1:x-4,x2:v+f-4,y2:x+4,stroke:"#2988d6","stroke-width":2,cursor:"pointer"},this.svgRenderer.drawLine(n,this.gEle),c=[16,10,4,10,4,4],u=[4,4,4,10,10,16],p=["a","b","c","d","e","f"],d=0;d<6;d++)h={id:m+"_gripCircle_"+p[d]+g,cx:v+f-c[d],cy:x+b-u[d],r:.4,stroke:"#5B5B5B","stroke-width":2},this.svgRenderer.drawCircle(h,this.gripCollection);null!=this.gripCollection&&$(this.gripCollection).appendTo(this.gEle),$("#"+m+"_gripCollection"+g).css({visibility:"hidden"})}ej.util.isNullOrUndefined(this.oldRectX)&&(this.oldRectX=[],this.oldRectY=[],this.oldRectWidth=[],this.oldRectHeight=[],this.oldReRightRectX=[],this.oldReTopRectY=[],this.oldReBottomRectY=[]),this.oldRectX[g]=parseInt($(_+g).attr("x")),this.oldRectY[g]=parseInt($(_+g).attr("y")),this.oldRectWidth[g]=parseInt($(_+g).attr("width")),this.oldRectHeight[g]=parseInt($(_+g).attr("height")),this.oldReRightRectX[g]=parseInt($("#"+m+"_resize_rightRect"+g).attr("x")),this.oldReTopRectY[g]=parseInt($("#"+m+"_resize_topRect"+g).attr("y")),this.oldReBottomRectY[g]=parseInt($("#"+m+"_resize_bottomRect"+g).attr("y")),this.oldMultiSelectType=this.multiSelectType,(this.resize||this.rectPan)&&(this.resize&&$("#"+this.svgObject.id+"_gripCollection"+g).attr({transform:""}),$("#"+m+"_closeTopRightCornerCircle"+g).css({display:"inline"}),$("#"+m+"_closePath"+g).css({display:"inline"}),$("#"+m+"_closePathOpposite"+g).css({display:"inline"}),$("#"+m+"_resize_rightRect"+g).css({cursor:"e-resize"}),$("#"+m+"_resize_leftRect"+g).css({cursor:"w-resize"}),$("#"+m+"_resize_bottomRect"+g).css({cursor:"s-resize"}),$("#"+m+"_resize_topRect"+g).css({cursor:"n-resize"})),this.drag=!1,this.removeRect&&($("#"+m+"_selectedRectGroup"+g).remove(),this.parentgEle.childNodes.length<=0&&$(this.parentgEle).remove()),(this.multiSelectDraw||this.removeRect||this.resize||this.rectPan)&&f>0&&b>0&&(this.multiSelectDraw=!1,this.multiSelectDataCalculation(e)),this.resize&&(this.resize=!1),this.rectPan&&(this.rectPan=!1),this.removeRect=!1,this.enableTrackBall()}},chartMouseUp:function(e){var t,i,s,a,o,r,l,n,d,h,c,u,p,m,g,_,f;if(this.isTouch(e)&&(this.model.touchCross=!1,this.chartMouseUpTouch(e)),!this.currentPageX&&this.panning&&(t=this.calMousePosition(e),this.currentPageX=t.X,this.currentPageY=t.Y),h=this,i=this.model,this.mousedownPointX=this.mousedownPointY=null,$("[id*=_PreviewSeries]").remove(),h.dragPoint){$("#"+this._id).find('[id*="_Marker"]').remove(),s=this.dragIndex.seriesIndex,a=i._visibleSeries[s],this.model.enableCanvasRendering||this.gPreviewSeriesGroupEle&&($(this.svgObject).find("#"+this.svgObject.id+"_PreviewSeriesGroup_"+s).remove(),this.gPreviewSeriesGroupEle.childNodes.length>0&&this.gPreviewSeriesGroupEle.removeChild(this.gPreviewSeriesGroupEle.childNodes[0])),this.dragPoint=a.dragPoint=!1;var b=this._getDraggedPoint(a,this.mousemoveX,this.mousemoveY),v=b.X,x=b.Y;r=a.data.seriesIndex,l=a.data.pointIndex,n={X:this.commonDragEventArgs.data.oldValue.X,Y:this.commonDragEventArgs.data.oldValue.Y},d={X:v,Y:x},(o=$.extend({},this.commonDragEventArgs)).data={series:a,seriesIndex:r,pointIndex:l,oldValue:n,newValue:d},this._trigger("dragEnd",o),h.commonDragEventArgs=o,h._changeDraggingPoints(a,l,o.data.newValue.X,o.data.newValue.Y),a.region=null,this.redraw()}if("cartesianaxes"!=this.multiSelectAreaType||i.zooming.enable||i.enableCanvasRendering||this.multiSelectMouseUp(e),h=this,i.zooming.enable&&"cartesianaxes"==i.AreaType){if((c=$("#"+this.svgObject.id+"_ZoomArea"))[0])if(i.enableCanvasRendering)var y=c[0].getClientRects()[0],w=y.width,S=y.height;else{var C=$(c);w=parseFloat(this.svgRenderer._getAttrVal(C,"width")),S=parseFloat(this.svgRenderer._getAttrVal(C,"height"))}w>0&&S>0?h.doZoom(c,w,S):this.drag=!1,h.panning||this.enableTrackBall()}u=this.svgObject.id,((p=ej.util.isNullOrUndefined(e.target.parentNode)?"":e.target.parentNode.id)==u+"_ResetZoom"||p==u+"_ZoomBtn"||e.target.id==u+"_ResetZoom"||e.target.id==u+"_ZoomBtn")&&(this.panning=!1,this.model._chartAreaZoom=!1),(ej.isTouchDevice()||i.zooming.enableDeferredZoom)&&this.panning&&this.doPan&&"cartesianaxes"==i.AreaType&&(m={x:this.oPreviousCoords.x-this.currentPageX,y:this.oPreviousCoords.y-this.currentPageY},this.oPreviousCoords={x:this.currentPageX,y:this.currentPageY},$.each(i._axes,(function(e,t){var i=Math.max(1/ej.EjSvgRender.utils._minMax(t.zoomFactor,0,1),1);h.translate(t,m.x,m.y,i)})),this.model.legendCollapsed=!1,_=g=$.extend({},ej.EjSvgRender.commonChartEventArgs),f=this,g.data={model:this.model},this._trigger("panStart",g),window.setTimeout((function(){f.redraw(!0,!0,e.target),f._cursorToPointer(),f._enableZoomingButtons(),(_=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={model:f.model},f._trigger("panEnd",_)}),10)),this.doPan&&(this.doPan=!1),this.rotateActivate=!1},multiSelectMouseDown:function multiSelectMouseDown(evt){var i,k;this.multiSelectAreaType=this.model.AreaType.toLowerCase();var model=this.model,chartX=model.m_AreaBounds.X,chartWidth=model.m_AreaBounds.Width,chartY=model.m_AreaBounds.Y,chartHeight=model.m_AreaBounds.Height,mouseDownCords=this.calMousePosition(evt);if("cartesianaxes"==this.multiSelectAreaType&&!model.zooming.enable&&!model.enableCanvasRendering&&mouseDownCords.X>=chartX&&mouseDownCords.X<chartX+chartWidth&&mouseDownCords.Y<chartY+chartHeight&&mouseDownCords.Y>=chartY){var seriesCollection=this.model.series,seriesCollectionLength=seriesCollection.length,id,mouseDownCords,matchStr,containerSvg=this.svgObject.id,selectMode=seriesCollection.some((function(e){return"range"==e.selectionSettings.mode.toLowerCase()}));for(this._isMultiSelect=seriesCollection.some((function(e){return 1==e.selectionSettings.enable&&"range"==e.selectionSettings.mode.toLowerCase()})),selectMode&&(this.multiSelectMode="range"),i=0;i<seriesCollectionLength;i++)1==seriesCollection[i].selectionSettings.enable&&"range"==seriesCollection[i].selectionSettings.mode.toLowerCase()&&(this.multiSelectType=seriesCollection[i].selectionSettings.rangeType.toLowerCase());if(this._isMultiSelect&&"range"==this.multiSelectMode){this.disableTrackBall(),mouseDownCords=this.calMousePosition(evt),this.mouseDownX=mouseDownCords.X,this.mouseDownY=mouseDownCords.Y,this.drag=!0,$(this.parentgEle).find("g").length<1?this.selectedRectIndex=0:(id=$(this.parentgEle).find("g").last().attr("id"),matchStr=containerSvg+"_gripCollection",id=parseInt(id.substr(matchStr.length)),this.selectedRectIndex=id+1),0==$(this.parentgEle).find("g").length&&(this.parentgEle=this.svgRenderer.createGroup({id:containerSvg+"_rectSelectionGroup"})),this.gEle=this.svgRenderer.createGroup({id:containerSvg+"_selectedRectGroup"+this.selectedRectIndex}),0==$(this.gripCollection).find("g").length&&(this.gripCollection=this.svgRenderer.createGroup({id:containerSvg+"_gripCollection"+this.selectedRectIndex})),evt.target.id.indexOf("resize")>=0&&(id=evt.target.id.split("resize")[1].match(/\d+/)[0],this.selectedRectIndex=eval(id)),evt.target.id.indexOf("close")>=0&&(id=evt.target.id.split("close")[1].match(/\d+/)[0],this.selectedRectIndex=eval(id)),evt.target.id.indexOf(this.svgObject.id+"_selectRect")>=0&&(matchStr=this.svgObject.id+"_selectRect",this.selectedRectIndex=parseInt(evt.target.id.substr(matchStr.length))),this.currentIndex=$(evt.target.parentNode).index();var axes=this.model._axes,axesLength=axes.length,axis,mouseMoveCords=this.calMousePosition(evt),mouseMoveX=mouseMoveCords.X,mouseMoveY=mouseMoveCords.Y;for(this.multiAxis=[],k=0;k<axesLength;k++)axis=axes[k],mouseMoveX>axis.Location.X1&&mouseMoveX<axis.Location.X2&&this.multiAxis.push(axis),mouseMoveY<axis.Location.Y1&&mouseMoveY>axis.Location.Y2&&this.multiAxis.push(axis)}}},_grab:function(e,t,i,s,a){var o=$.extend({},ej.EjSvgRender.commonChartEventArgs);o.data={seriesIndex:i,pointIndex:s,currentPoint:a},t._trigger("dragStart",o),e.data=o.data,this.commonDragEventArgs=o,this.mousedownPointX=this.mousedownPointY=null},_enableDragging:function(e,t,i){var s,a,o,r,l,n=this,d=e.type.toLowerCase(),h=n.model.AreaType,c=e.visibility.toLowerCase();if(this.mousedownPointX&&this.mousedownPointY&&"cartesianaxes"==h&&!this.model.enable3D&&"visible"==c&&("line"==d||"spline"==d||"area"==d||"stepline"==d||"steparea"==d||"splinearea"==d||"column"==d||"bar"==d||"bubble"==d||"scatter"==d)&&(o=[],r=[],s=this.getClosesPointXY(r,o,e,this.mousedownPointX,this.mousedownPointY,i),this.mousemoveX=this.mousedownPointX,this.mousemoveY=this.mousedownPointY,a=this.GetSeriesPoint(i),ej.util.isNullOrUndefined(s.point)||(this.dragPoint=e.dragPoint=!0,s.seriesIndex=t,e.pointData=s,u={xValue:s.point.xValue,yValue:s.point.YValues},n._grab(e,n,t,s.index,u),this.dragIndex={pointIndex:s.index,seriesIndex:t}),!ej.util.isNullOrUndefined(a)&&t==(l=a.region).SeriesIndex)){e.region=a.region,this.dragPoint=e.dragPoint=!0;var u={xValue:e._visiblePoints[l.Region.PointIndex].xValue,yValue:e._visiblePoints[l.Region.PointIndex].YValues};n._grab(e,n,l.SeriesIndex,l.Region.PointIndex,u),this.dragIndex={pointIndex:l.Region.PointIndex,seriesIndex:l.SeriesIndex}}},chartMouseDown:function chartMouseDown(e){var model=this.model,matchStr=this._id+"_scrollbar_",parentNodeId=e.target.parentNode&&e.target.parentNode.id?e.target.parentNode.id:"",selectionIndex=parentNodeId.indexOf(matchStr)>-1?parseInt(parentNodeId.substr(matchStr.length)):NaN,isZoom=this.isZoomButtonHovered(e.target),axes=model._axes,chart=this,id,mouseDownCords=this.calMousePosition(e),browserInfo=this.model.browserInfo,timer,parent,isZoomToolkit,mousePanCords;this.mousedownPointX=mouseDownCords.X,this.mousedownPointY=mouseDownCords.Y,"which"in e?this.chartRightClick=3==e.which:"button"in e&&(this.chartRightClick=2==e.button),isNaN(selectionIndex)||ej.util.isNullOrUndefined(selectionIndex)||(axes[selectionIndex].previousRange=$.extend(!0,{},model._axes[selectionIndex].visibleRange)),this.mousemoveX=this.mouseDownX=mouseDownCords.X,this.mousemoveY=this.mouseDownY=mouseDownCords.Y,this.isTouch(e)&&(this.model.event=e,this.model.touchCross=!0,$.finish?$(this.model.trackerElement).finish():$(this.model.trackerElement).stop(!0,!0),this.model.tapNum=this.model.tapNum||0,isZoom||this.doubleTap(e),chart.model.crosshair.visible&&!isZoom&&(timer=setTimeout((function(){var t=$("#"+chart.svgObject.id).find("#"+chart.svgObject.id+"_ZoomArea"),i=chart.model.elementSpacing/2,s=chart.getEvent(chart.model.event),a=s.pageX,o=s.pageY;chart.model.touchCross&&!chart.panning&&Math.abs(a-chart.model.cachedX)<i&&Math.abs(o-chart.model.cachedY)<i&&(0==t.length||0==parseFloat($(t).attr("width"))||0==parseFloat($(t).attr("height")))&&(chart.chartInteractiveBehavior(e),chart.model.crosshairMoved=!0,chart.drag=!1)}),500))),this.model.enable3D&&this.model.enableRotation&&(this.rotateActivate=!0),this.svgRenderer.vmlNamespace||(this.oPreviousCoords={},e.target.id.indexOf("resize")>=0&&(id=e.target.id.split("resize")[1].match(/\d+/)[0],this.selectedRectIndex=eval(id),this.multiSelectMouseDownId=e.target.id,this.resize=!0),e.target.id.indexOf("close")>=0&&(id=e.target.id.split("close")[1].match(/\d+/)[0],this.selectedRectIndex=eval(id),this.removeRect=!0),e.target.id.indexOf(this.svgObject.id+"_selectRect")>=0&&(matchStr=this.svgObject.id+"_selectRect",this.selectedRectIndex=parseInt(e.target.id.substr(matchStr.length))),e.target.id==this.svgObject.id+"_selectRect"+this.selectedRectIndex&&(this.rectPan=!0,this.PreviousCoords={X:e.pageX,Y:e.pageY}),this.isTouch(e)||this.multiSelectMouseDown(e),parent=this.svgRenderer._getAttrVal($(e.target).parent(),"id"),isZoomToolkit=parent!=this.svgObject.id+"_ZoomBtn"&&parent!=this.svgObject.id+"_ZoomInBtn"&&parent!=this.svgObject.id+"_ZoomOutBtn"&&parent!=this.svgObject.id+"_ResetZoom"&&parent!=this.svgObject.id+"_PanBtn",isZoomToolkit&&this.model.zooming.enable&&!this.model.isLazyZooming&&!this.panning&&"cartesianaxes"==this.model.AreaType?this.mouseDownX>=this.model.m_AreaBounds.X&&this.mouseDownX<model.m_AreaBounds.X+model.m_AreaBounds.Width&&this.mouseDownY<model.m_AreaBounds.Y+model.m_AreaBounds.Height&&this.mouseDownY>=model.m_AreaBounds.Y&&!this.isTouch(e)&&((isNaN(selectionIndex)||ej.util.isNullOrUndefined(selectionIndex))&&(this.drag=!0),this.disableTrackBall()):(isZoomToolkit&&this.panning||"e-hhandle e-box"==$(e.target)[0].className)&&(mousePanCords=this.calMousePosition(e),this.mousePanX=mousePanCords.X,this.mousePanY=mousePanCords.Y,this.mousePanX>=model.m_AreaBounds.X&&this.mousePanX<model.m_AreaBounds.X+model.m_AreaBounds.Width&&this.mousePanY<model.m_AreaBounds.Y+model.m_AreaBounds.Height+18&&this.mousePanY>=model.m_AreaBounds.Y&&(this.doPan=!0)),(this.rotateActivate||this.doPan)&&(this.oPreviousCoords={x:e.pageX,y:e.pageY}))},chartMouseLeave:function(e){this.cancelEvent(e),this.isTouch(e)||($("[id*=_TrackSymbol]").remove(),this._removeHighlight(),this._removeTrackBall(),$("#"+this.svgObject.id+"_TrackToolTip").hide(),$("#"+this._id+"_tooltip").remove(),$(".tooltipDiv"+this._id).hasClass(this.svgObject.id)&&$(".tooltipDiv"+this._id).remove());var t=$.extend({},ej.EjSvgRender.commonChartEventArgs);t.data={location:{x:this.mousemoveX,y:this.mousemoveY},size:{height:this.model.svgHeight,width:this.model.svgWidth},id:e.target.id,pageX:e.pageX,pageY:e.pageY},this._trigger("chartMouseLeave",t)},_doClick:function(e){var t,i,s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x;this.drag=!1,this.model.crosshairMoved||this._removeHighlight(),this.model.selectedDataPointIndexes||(this.model.selectedDataPointIndexes=[]),this.model.clusterPoints=[],this.model._isStateChaged=!1;var y,w,S,C,T=this.getEvent(e),L=T.pageX,k=T.pageY,P=(e.target.id,this.svgObject.id,this.model._visibleSeries),j=this.isZoomButtonHovered(e.target),D=e.target.id;if(P.length,(C=this.GetSeriesPoint(e))?(y=C.region.SeriesIndex,w=C.region.Region.PointIndex):this.model.selectionEnable&&(this.model.enable3D||-1!=e.target.id.indexOf("LegendItem")||"none"==this.model.AreaType||(!(i=(t=e.target.id).match(/(\d+)/g))||-1==t.indexOf("symbol")&&-1==t.indexOf("Series")||-1!=t.indexOf("Text")?i&&(-1!=t.indexOf("Text")||-1!=t.indexOf("dataLabel"))&&(y=parseInt(i[0].charAt(1)),w=isNaN(parseInt(i[0].charAt(0)))?parseInt(i[0].charAt(1)):parseInt(i[0].charAt(0))):(y=parseInt(i[0]),w=isNaN(parseInt(i[1]))?0:parseInt(i[1])))),!j||this.model.enableCanvasRendering){for(h=0;h<this.model._visibleSeries.length;h++)if(s=(S=this.model._visibleSeries[h]).type.toLowerCase(),"cartesianaxes"==this.model.AreaType&&"visible"==S.visibility.toLowerCase()&&"scatter"!==s&&"bubble"!==s&&"column"!==s&&-1==s.indexOf("bar")&&"stackingcolumn"!==s&&"stackingcolumn100"!==s&&!S._hiloTypes){var A=this.calMousePosition(e);this.mousemoveX=A.X,this.mousemoveY=A.Y,a=this.getClosesPointXY([],[],S,this.mousemoveX,this.mousemoveY,e),ej.util.isNullOrUndefined(a.point)||(y=h,w=a.index,(o=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={location:{x:this.mousemoveX,y:this.mousemoveY},region:{SeriesIndex:h,Region:{PointIndex:a.index}}},this._trigger("pointRegionClick",o))}C&&(!j||this.model.enableCanvasRendering)&&((V=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data=C,this._trigger("pointRegionClick",V))}if("none"==this.model.AreaType&&this.model.enable3D&&"path"==$(e.target)[0].nodeName&&(!this.isTouch(e)||Math.abs(L-this.model.cachedX)<10&&Math.abs(k-this.model.cachedY)<10))if(F=$(e.target)[0].id.match(/(\d+)/g),y=parseInt(F[F.length-2]),w=parseInt(F[F.length-1]),r=this.model._visibleSeries[y].explodeIndex,l=this.model._visibleSeries[y]._visiblePoints[w].actualIndex,this.model._visibleSeries[y].explodeIndex=r==l?null:l,this.vmlRendering||this.model.enableCanvasRendering||(n=this.selectedStyle(this)),$(this.svgObject).empty(),$(this.legendSvgContainer).empty(),this.draw(),"none"==this.model.AreaType){this.model._isStateChaged=!1;var O,I=n.length,R="_Region_Series_"+y+"_Point_"+w,M=$(this.svgObject).find("[id$="+R+"],[id*="+R+"back],[id*="+R+"front]"),E=M.length;for(d=0;d<I;d++)for(h=0;h<E;h++)n[d].id==M[h].id&&(O=n[d].className).indexOf("SelectionStyle")<0&&O.indexOf("SelectionundefinedStyle")<0&&$("[id="+M[h].id+"]").attr("class",O);n.pattern&&this.svgRenderer.append(n.pattern,this.svgObject)}else $("[id*="+this.svgObject.id+"_LegendItemShape],[id*=_Region_Series_]").each((function(){$(this).attr("class","")}));if((c=this.getLegendData(e))&&($("#template_group_"+this._id).remove(),(V=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data=c,this._trigger("legendItemClick",V),y=c.legendItem.LegendItem.SeriesIndex,!this.model.legend.toggleSeriesVisibility&&c.series.selectionSettings.enable&&(this.model._isStateChaged=!1,this.legendSelection(this,c,e,C)),!V.cancel&&this.model.legend.toggleSeriesVisibility)){for($("[id*="+this._id+"_Selection_]").remove(),u=this.model._visibleSeries.length,"none"!=this.model.AreaType||"none"==this.model.AreaType&&"pieofpie"!=s&&"pyramid"!=s&&"funnel"!=s&&u>1?(y=c.legendItem.LegendItem.SeriesIndex,p=c.legendItem.LegendItem.TrendLineIndex,ej.util.isNullOrUndefined(p)?(c.series.visibility="visible"===c.series.visibility.toLowerCase()?"hidden":"visible",this.model.series[y].visibility=c.series.visibility,this._notifyArrayChange&&this._notifyArrayChange("series["+y+"]visibility",c.series.visibility)):(m="visible"===(m=c.series.trendlines[p].visibility.toLowerCase())?"hidden":"visible",this.model.series[y].trendlines[p].visibility=m,this._notifyArrayChange&&this._notifyArrayChange("series["+y+"].trendlines["+p+"].visibility",m))):(this.model._isPieOfPie?(g=this._getPieOfPiePoint(c.legendItem.LegendItem.ActualIndex,c.series,c)._visibility,w=c.legendItem.LegendItem.ActualIndex):(g=c.series.visiblePoints[c.legendItem.LegendItem.PointIndex]._visibility,w=c.series.visiblePoints[c.legendItem.LegendItem.PointIndex].actualIndex),c.series.points[w]._visibility="visible"===g?"hidden":"visible"),this.model.enableCanvasRendering&&(_=document.getElementById(this._id).getClientRects()[0],this.svgRenderer.ctx.clearRect(0,0,_.width,_.height),$("#"+this._id).find('[id*="canvas_symbol"]').remove()),$(this.svgObject).empty(),$(this.legendSvgContainer).empty(),f=0;f<this.model.series.length;f++)this.model.series[f].regionAdded=!1;this.model.legendCollapsed=!0,this.disableAnimation(),this.draw(),this.enableAnimation(),"none"!=this.model.AreaType&&this.zoomed&&this._enableZoomingButtons()}if((b=this.getAxisLabelData(e))&&((V=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data=b,this._trigger("axisLabelClick",V)),(v=this.getAxisMultiLevelLabelsData(e))&&((V=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data=v,this._trigger("multiLevelLabelClick",V)),D.indexOf("annotation_")>=0){var V,N=D.lastIndexOf("_"),B=D.substr(N+1,D.length),F=parseInt(B);(V=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={location:{x:this.mousemoveX,y:this.mousemoveY},contentData:this.model.annotations[F],pageX:e.pageX,pageY:e.pageY},this._trigger("annotationClick",V)}x=!ej.isNullOrUndefined(y)&&this.model._visibleSeries[y].selectionSettings.enable,!ej.isNullOrUndefined(y)&&!c&&x&&(!this.isTouch(e)||!this.model.crosshairMoved&&Math.abs(L-this.model.cachedX)<10&&Math.abs(k-this.model.cachedY)<10)&&(P[y].selectionSettings.type.toLowerCase(),"range"!=P[y].selectionSettings.mode.toLowerCase()&&this.segmentSelection(e,c,y,w,C,P)),this.model.crosshairMoved=!1,(V=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={location:{x:this.mousemoveX,y:this.mousemoveY},size:{height:this.model.svgHeight,width:this.model.svgWidth},id:D,pageX:e.pageX,pageY:e.pageY},this._trigger("chartClick",V)},getTargetId:function(e,t,i){var s,a=this.model._visibleSeries[e].type.toLowerCase(),o=-1!=a.indexOf("area")||-1!=a.indexOf("line")||-1!=a.indexOf("scatter");return this.model.enable3D?$("[id*=_Region_Series_"+e+"_Point_"+t+"]").each((function(){s=this.id})):"series"!=i||"none"==this.model.AreaType?o?$("[id*="+this.svgObject.id+"_Series"+e+"_Point"+t+"_symbol]").each((function(){s=this.id})):$("[id$="+this.svgObject.id+"_Series"+e+"_Point"+t+"]").each((function(){s=this.id})):$("[id*="+this.svgObject.id+"_Series"+e+"]").each((function(){s=this.id})),s},findCanvasSelection:function(e,t,i){return 1==("point"==i?$("#"+this._id+"_Selection_series"+e+"_point_"+t+"_canvas").length:"series"==i?$("#"+this._id+"_Selection_series"+e+"_canvas").length:$("#"+this._id+"_Selection_Cluster_point_"+t+"_canvas").length)},segmentSelection:function(e,t,i,s,a){var o,r,l,n,d,h,c,u,p,m=this.model._visibleSeries,g=m[i];if(ej.isNullOrUndefined(g))return 0;var _,f,b,v,x,y,w,S,C,T,L,k=g.selectionSettings,P=(k.enable,"multiple"==k.type.toLowerCase()),j=k.mode,D=!1;if(this.model.isSelected=!0,!ej.isNullOrUndefined(s)&&"cluster"==j){for(o=[],n=m[i]._visiblePoints[s].xValue,d=0,h=m.length;d<h;d++)for(l=(r=m[d].points).length,c=0;c<l;c++)n==r[c].xValue&&0==r[c].isEmpty&&1==r[c].visible&&(o[o.length]={seriesIndex:d,pointIndex:c});this.model.clusterPoints=o}if(this.model.enableCanvasRendering||(_=this.getTargetId(i,s,j))&&(f=$("#"+_)[0].parentNode.id,null!=$("#"+f)[0]&&f&&(f.indexOf(this.svgObject.id+"_TextGroup_")>=0||f.indexOf(this.svgObject.id+"_symbolGroup"),f.indexOf(this.svgObject.id+"_TrackSymbol_")>=0&&(D=!0))),this.model.enableCanvasRendering?b=this.findCanvasSelection(i,s,j):(b=-1!=($("#"+_).attr("class")?$("#"+_).attr("class"):"").indexOf("Selection"),this.model.enable3D&&(b=-1!=($("[id*=_Region_Series_"+i+"_Point_"+s+"]").attr("class")?$("[id*=_Region_Series_"+i+"_Point_"+s+"]").attr("class"):"").indexOf("Selection"))),(b||!P||P)&&(this.removeSelection(i,s,m,j,P,t,b),(y=(a=this.model.selectedDataPointIndexes).length)>0&&!this.model._isStateChaged))if(P){if(b)for(u=0;u<y;u++)v=a[u].seriesIndex,x=a[u].pointIndex,w="series"==j&&v==i,C=("point"==j||"none"==this.model.AreaType)&&v==i&&x==s,T="cluster"==j&&x==s,((w||T)&&"none"!=this.model.AreaType||C)&&(a.splice(u,1),y=a.length,u=-1)}else for(u=0;u<y;u++)v=a[u].seriesIndex,x=a[u].pointIndex,w="series"==j&&(v==i&&x==s||v!=i||x!=s),C=("point"==j||"none"==this.model.AreaType)&&v==i&&x==s,T="cluster"==j&&x==s,(w||C||T)&&(a.splice(u,1),y=a.length,u=-1);if(!b&&(this.model.enableCanvasRendering?this.canvasSelection(this,e,g,t,i,s,a,k):this.selection(this,e,g,D,t,i,s,f,_,a),y=(a=this.model.selectedDataPointIndexes).length,!this.model._isStateChaged))if(y>0)if(P)a.push({legendData:t,seriesIndex:i,pointIndex:s});else{for(u=0;u<y;u++)v=a[u].seriesIndex,x=a[u].pointIndex,L=("series"==j||"cluster"==j||"none"==this.model.AreaType)&&(a[u].SeriesIndex!=i||a[u].PointIndex!=s),S="point"==j&&a[u].SeriesIndex==i,(L||S)&&(a.splice(u,1),y=this.model.selectedDataPointIndexes.length,u=-1);a.push({legendData:t,seriesIndex:i,pointIndex:s})}else a.push({legendData:t,seriesIndex:i,pointIndex:s});p={selectedData:this.model.selectedDataPointIndexes},this._trigger("seriesRegionClick",p)},legendSelection:function(e,t,i,s){var a,o=this.model.selectedDataPointIndexes?this.model.selectedDataPointIndexes:[],r=this.model._visibleSeries.length,l="none"==e.model.AreaType&&1==r?t.legendItem.LegendItem.PointIndex:t.legendItem.LegendItem.SeriesIndex,n=t.legendItem.LegendItem.SeriesIndex,d=l,h=e.svgObject.id+"_LegendItemShape"+l,c=$("#"+h).attr("class")?$("#"+h).attr("class"):"";if(1==$("#"+e._id+"_Selection_Legend"+l+"_canvas").length||-1!=c.indexOf("Selection")){for($("#"+e._id+"_Selection_Legend"+l+"_canvas").remove(),$("[id*="+e._id+"_Selection_series"+l+"]").remove(),$("#"+this._id+"_Selection_series"+n+"_point_"+d+"_canvas").remove(),$("#"+h).attr("class",""),$("[id*="+e.svgObject.id+"_Series"+n+"]").attr("class",""),$("[id*=_Region_Series_"+n+"]").attr("class",""),a=0;a<o.length;a++)if(o[a].seriesIndex==l||"none"==this.model.AreaType&&o[a].pointIndex==l){o.splice(a,1);break}}else e.segmentSelection(i,t,n,d,s)},chartMouseClick:function(e){this.cancelEvent(e),window.navigator.msPointerEnabled&&(e=e.originalEvent),this._doClick(e)},chartMouseDoubleClick:function(e){window.navigator.msPointerEnabled&&(e=e.originalEvent);var t=$.extend({},ej.EjSvgRender.commonChartEventArgs);t.data={location:{x:this.mousemoveX,y:this.mousemoveY},size:{height:this.model.svgHeight,width:this.model.svgWidth},id:e.target.id,pageX:e.pageX,pageY:e.pageY},this._trigger("chartDoubleClick",t)},drawTrackerSymbol:function(e,t,i,s,a,o,r){var l,n,d,h,c,u,p=e.type.toLowerCase(),m=new ej.seriesTypes[p],g="boxandwhisker"==e.type.toLowerCase()?r:i,_=ej.EjSvgRender.utils._getTransform(e.xAxis,e.yAxis,this.model.requireInvertedAxes);l=e.isTransposed?e.yAxis.plotOffset:e.xAxis.plotOffset,n=e.isTransposed?e.xAxis.plotOffset:e.yAxis.plotOffset,d={id:this.svgObject.id+"_ClipRectTrack_"+t,x:-l,y:-n,width:_.width+2*l,height:_.height+2*n,fill:"white","stroke-width":1,stroke:"Gray"},"none"!=this.model.AreaType&&("cartesianaxes"==this.model.AreaType&&a.X+_.x<=_.x+_.width&&(a.X+_.x>=_.x||0==a.X)&&(a.Y+_.y>=_.y||0==a.Y)?this.model.crosshair.visible||"bubble"==p||"scatter"==p?(e.trackerRemoved||(h=this.svgObject.id+"_TrackSymbol_"+t,h="boxandwhisker"==p?h+g:h,$("#"+this._id).find("[id*="+h+"]").remove(),h="canvas_trackSymbol_"+t,h="boxandwhisker"==p?h+g:h,$("#"+this._id).find("[id*="+h+"]").remove()),c={"clip-path":"url(#"+this.svgObject.id+"_ClipRectTrack_"+t+")",class:"Tracker",id:this.svgObject.id+"_TrackSymbol_"+t+"_"+g,transform:"translate("+_.x+","+_.y+")"},this.gTrackerEle=this.svgRenderer.createGroup(c)):this.gTrackerEle=null:($("#"+this.svgObject.id+"_TrackSymbol_"+t+"_"+g).remove(),c={id:this.svgObject.id+"_TrackSymbol_"+t+"_"+g},this.gTrackerEle=this.svgRenderer.createGroup(c),this.model.enableCanvasRendering||("polaraxes"==this.model.AreaType?this.gTrackerEle.setAttribute("clip-path","url(#"+this.svgObject.id+"_SeriesGroup_"+t+"_ClipRect)"):(this.gTrackerEle.setAttribute("clip-path","url(#"+this.svgObject.id+"_ClipRectTrack_"+t+")"),this.gTrackerEle.setAttribute("transform","translate("+_.x+","+_.y+")")))),0==$("#"+this.svgObject.id+"_CrosshairGroup").length&&(u={id:this.svgObject.id+"_CrosshairGroup",visibility:"visible"},this.gTrackball=this.svgRenderer.createGroup(u),this.svgRenderer.append(this.gTrackball,this.svgObject)),this.model.crosshair.marker.visible&&!e.isIndicator&&e._visiblePoints[i].visible&&(m.drawSymbol(t,e,i,a.X,a.Y,this,s,r),a.low&&m.drawSymbol(t,e,i,this.model.requireInvertedAxes?a.low:a.X,this.model.requireInvertedAxes?a.Y:a.low,this,s)),this.gTrackerEle&&$("#"+this.gTrackerEle.id).length<1&&this.svgRenderer.append(this.gTrackerEle,this.gTrackball)),0!=$(this.svgObject).find("#"+this.svgObject.id+"_ClipRectTrack_"+t).length||this.vmlRendering||this.svgRenderer.drawClipPath(d,$("#"+this.svgObject.id+"_CrosshairGroup"))},getClosesPointXY:function(e,t,i,s,a,o){var r,l,n,d,h,c,u,p,m,g,_,f=ej.EjSvgRender.utils._getTransform(i.xAxis,i.yAxis,this.model.requireInvertedAxes),b=this.isTouch(o),v=i._visiblePoints?i._visiblePoints.length:0,x=i.marker?$.extend(!0,{},i.marker.size):{height:6,width:6};if(x.height=b&&x.height<20?x.height+10:x.height,x.width=b&&x.width<20?x.width+10:x.width,a<=f.y+f.height&&f.y<=a&&f.x<=s&&s<=f.x+f.width)for(m=0;m<v;m++){if(h=(d=i._visiblePoints[m]).location,c=!1,u=null,p=null,"boxandwhisker"==i.type&&!this.model.enable3D&&!ej.util.isNullOrUndefined(d.boxPlotLocation))for(g=0;g<d.boxPlotLocation.length;g++)_={X:d.boxPlotLocation[g].X,Y:d.boxPlotLocation[g].Y},1==d.boxPlotLocation[g].outlier&&s>_.X+f.x-x.width&&s<_.X+f.x+x.width&&(u=d.x,ej.util.isNullOrUndefined(u)&&(c=d.visible),a>_.Y+f.y-x.height&&a<_.Y+f.y+x.height+10&&(p=d.boxPlotValues.outliers[g],l={X:_.X,Y:_.Y}),ej.util.isNullOrUndefined(l)||(r=d,n=m));h&&(s>h.X+f.x-x.width/2&&s<h.X+f.x+x.width/2&&(u=d.x,ej.util.isNullOrUndefined(u)&&(c=d.visible)),a>h.Y+f.y-x.height/2&&a<h.Y+f.y+x.height/2&&(p=d.YValues[0]),ej.util.isNullOrUndefined(u)&&!c||ej.util.isNullOrUndefined(p)||(r=d,n=m))}return{point:r,index:n,outlierPosition:l}},getClosestPointX:function(e,t,i,s){var a,o=[],r=ej.EjSvgRender.utils._getTransform(t.xAxis,t.yAxis,this.model.requireInvertedAxes);this.model.requireInvertedAxes?(i=Math.abs(s-(r.y+r.height)),s=Math.abs(i-r.x)):(i=Math.abs(i-r.x),s=Math.abs(s-(r.y+r.height)));var l=ej.EjSvgRender.utils._getValuebyPoint(i,s,t,this.model.requireInvertedAxes),n=(this.model.requireInvertedAxes,l.PointX),d=[];return $.each(t.points,(function(t,i){e.push(i.xValue)})),a=this.getClosest(e,n),ej.util.isNullOrUndefined(a)||("number"==typeof a?$.each(t._visiblePoints,(function(e,t){t.xValue==a&&(o.push(t),d.push(e))})):(a=a.getTime(),$.each(t._visiblePoints,(function(e,t){("number"==typeof t.xValue?t.xValue==a:t.xValue.getTime()==a)&&(o.push(t),d.push(e))})))),{point:o,index:d}},getClosest:function(e,t){var i,s,a,o=null;if(this._beforeMin=!1,this._afterMax=!1,i=Math.min.apply(null,e),s=Math.max.apply(null,e),t>=i-.5&&t<=s+.5){for(a=0;a<e.length;a++)(null==o||Math.abs(e[a]-t)<Math.abs(o-t))&&(o=e[a]);this._closest=null}else t>s?(o=e[e.length-1],this._closest=ej.util.isNullOrUndefined(this._closest)||o>this._closest?o:this._closest,this._afterMax=!0):(o=e[0],this._closest=ej.util.isNullOrUndefined(this._closest)||o<this._closest?o:this._closest,this._beforeMin=!0);return o},createTooltip:function(e,t,i){var s,a,o,r,l,n,d,h,c,u,p,m,g;i||(i=this.model._visibleSeries[e.SeriesIndex]);var _="pieofpie"==i.type?this._getPieOfPiePoint(e.Region.PointIndex,i):"pie"!=i.type&&"doughnut"!=i.type||this.model.enable3D?i._visiblePoints[e.Region.PointIndex]:i._visiblePoints[e.Region.Index],f=this.dragPoint?i.pointCollection[e.Region.PointIndex]:$.extend(!0,{},_),b=10,v=i.tooltip.isReversed;if(!1!==f.visible){if(s=i.tooltip.format,"boxandwhisker"==i.type){if(a=this.calMousePosition(t),this.mousemoveX=a.X,this.mousemoveY=a.Y,e.Region.Bounds)if(e.Region.Bounds.Width==i.outlierSettings.size.width)for(o=0;o<f.boxPlotLocation.length;o++)1==f.boxPlotLocation[o].outlier&&f.boxPlotLocation[o].X+i.outlierSettings.size.width/2>this.mousemoveX-i.xAxis.x&&f.boxPlotLocation[o].X-i.outlierSettings.size.width/2<this.mousemoveX-i.xAxis.x&&f.boxPlotLocation[o].Y+i.outlierSettings.size.height/2>this.mousemoveY-i.yAxis.y&&f.boxPlotLocation[o].Y-i.outlierSettings.size.height/2<this.mousemoveY-i.yAxis.y&&(r=this.getTooltipFormat(f,i,e.SeriesIndex,e.Region.PointIndex,s,f.boxPlotLocation[o]),f.x=r.data.x,f.y=r.text);else r=this.getTooltipFormat(f,i,e.SeriesIndex,e.Region.PointIndex,s,f.boxPlotLocation[0]),f.x=r.data.x,f.y=r.text}else r=this.getTooltipFormat(f,i,e.SeriesIndex,e.Region.PointIndex,s),f.x=r.data.x,f.y=r.data.y;(l=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={currentText:null,seriesIndex:e.SeriesIndex,pointIndex:e.Region.PointIndex,series:i},this._trigger("toolTipInitialize",l),n=$(".tooltipDiv"+this._id),$("#"+this.svgObject.id).find("#"+this.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),$("#"+this.svgObject.id+"_TrackToolTip").attr("visibility","hidden").hide(),0==$(".tooltipDiv"+this._id).length?(this.tooltipFirst=!0,n=$("<div></div>").attr("class","tooltipDiv"+this._id).css({position:"absolute","z-index":"13000",display:"block"}),$(document.body).append(n),$(".tooltipDiv"+this._id).addClass(this.svgObject.id)):($(".tooltipDiv"+this._id).css("display","block"),this.tooltipFirst=!1),null!=i.tooltip.template?(d=$("#"+i.tooltip.template).clone(),$(".tooltipDiv"+this._id)[0].innerHTML="",$(d).css("display","block").appendTo(n),i.count=1,f.count=1,(h=this.getSeriesColor(f,e.SeriesIndex,i))?$(n).css("background-color","array"==jQuery.type(h)?h[0].color:h):$(n).css("background-color",this.model.pointColors[e.Region.PointIndex]),c={series:i,point:f},ej.util.isNullOrUndefined(l.data.currentText)?$(n).html($(n).html().parseTemplate(c)):$(n).html($(d).html(l.data.currentText))):$(n).html(l.data.ToolTip);var x=this.model.m_AreaBounds,y=t.pageX+b,w=t.pageY+b,S=$(n).width(),C=$(n).height(),T=document.getElementById(this.svgObject.id).getClientRects()[0];(void 0===y||null===y)&&(y=t.pageX+b),(void 0===w||null===w)&&(w=t.pageY+b),u=y,p=w,y-$(this.svgObject).offset().left+S>x.X+x.Width&&(u=y-(S+20)+$(document).scrollLeft()),w-$(this.svgObject).offset().top+C>x.Y+x.Height&&(p=w-(w+C-(x.Y+x.Height+T.top))+$(document).scrollTop()),u<0&&(m=$("#"+this._id)[0].getBoundingClientRect(),t.pageX<m.width/2?u=y:($(n).css("width",y-20),u=0)),$(n).css("left",u),$(n).css("top",p),(g=i.tooltip).enableAnimation&&$(n).css({"transition-property":"left,top","-moz-transition-property":"left,top","-webkit-transition-property":"left,top","-o-transition-property":"left,top","transition-duration":g.duration,"-moz-transition-duration":g.duration,"-webkit-transition-duration":this.tooltipFirst?"0s":g.duration,"-o-transition-duration":g.duration}),$(n)[0].getBoundingClientRect().top<x.Y+T.top&&$(n).css("top",x.Y+T.top+$(document).scrollTop()),v&&($(n).css("left",y-(S+20)),y-(S+20)<i.xAxis.x&&$(n).css("left",y))}},translate:function(e,t,i,s){var a="horizontal"==e.orientation.toLowerCase()?t/e.width/s:i/e.height/s;e.zoomPosition="horizontal"==e.orientation.toLowerCase()?ej.EjSvgRender.utils._minMax(e.zoomPosition+a,0,1-e.zoomFactor):ej.EjSvgRender.utils._minMax(e.zoomPosition-a,0,1-e.zoomFactor)},highlightFill:function(e,t,i,s,a){var o,r,l=t.model.seriesColors,n=t.model.pointColors,d=e.color,h=this.model._visibleSeries.length;return a&&"none"==t.model.AreaType&&(1==h?s=a.legendItem.LegendItem.PointIndex:i=a.legendItem.LegendItem.SeriesIndex),o=a?l[i]:s&&t.model.series[i].points[s]?t.model.series[i].points[s].fill:null,r=""!=d?d:"none"==t.model.AreaType?n[s]:a?l[i]:o||l[i],"[object Array]"===Object.prototype.toString.call(r)&&(r=r[1].color),r},canvasHighlight:function(e,t,i,s){var a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y=i.highlightSettings,w=i.data,S=y.color,C=y.opacity,T=y.border.color,L=y.border.width,k=y.pattern.toLowerCase(),P=e.model.legend.visible,j=y.mode,D=i.seriesIndex,A=i.pointIndex,O=i.type.toLowerCase(),I=document.getElementById(e._id+"_canvas").getBoundingClientRect(),R=[],M=[],E=[],V=this.model._visibleSeries.length,N=this.highlightFill(y,e,D,A,s);if("none"!=e.model.AreaType||"none"==e.model.AreaType&&V>1&&("series"==j||s))for(v=0,x=e.model.chartRegions.length;v<x;v++)("series"==j||s)&&D==e.model.chartRegions[v].SeriesIndex&&R.push(e.model.chartRegions[v].Region);else for(v=0,x=e.model.chartRegions.length;v<x;v++)D==e.model.chartRegions[v].SeriesIndex&&A==e.model.chartRegions[v].Region.PointIndex&&R.push(e.model._isPieOfPie?e._getPieOfPiePoint(e.model.chartRegions[v].Region.PointIndex,i):e.model.chartRegions[v].Region[A]);if("cluster"==j&&"none"!=e.model.Areatype&&"undefined"!=typeof A)for(l=e.model._visibleSeries[D]._visiblePoints[A].xValue,v=0,x=e.model._visibleSeries.length;v<x;v++)for(n=0;n<e.model._visibleSeries[v]._visiblePoints.length;n++)l==e.model._visibleSeries[v]._visiblePoints[n].xValue&&(E[E.length]={seriesIndex:v,pointIndex:n});for(d=0;d<E.length;d++)for(a=E[d].seriesIndex,o=E[d].pointIndex,h=0;h<e.model.chartRegions.length;h++)a==e.model.chartRegions[h].SeriesIndex&&o==e.model.chartRegions[h].Region.PointIndex&&("cluster"!=j?R.push(e.model.chartRegions[h].Region):R.push(e.model.chartRegions[h]));if(c="none"==e.model.AreaType&&1==V?A:D,"series"!=j&&!s||0!=$("#"+e._id+"_Selection_series"+c+"_canvas").length||0!=$("#"+e._id+"_Selection_Cluster_point_"+A+"_canvas").length||0!=$("#"+e._id+"_Selection_"+D+"_point_"+A+"_canvas").length)if("cluster"==j&&0==$("#"+e._id+"_Selection_Cluster_point_"+A+"_canvas").length&&"none"!=this.model.AreaType&&0==$("#"+e._id+"_Selection_"+D+"_point_"+A+"_canvas").length&&0==$("#"+e._id+"_Selection_series"+D+"_canvas").length){for(v=0,x=this.model._visibleSeries.length;v<x;v++)(i=this.model._visibleSeries[v]).seriesIndex=v,M.push(i._visiblePoints[A]);for(u=[],p=[],r=this.createCanvasElement(e._id+"_Highlight__Cluster_point_"+A+"_canvas",e.svgWidth,e.svgHeight,I),this.createRect(e,r),v=0,x=this.model._visibleSeries.length;v<x;v++){for(u=[],S=(y=e.model._visibleSeries[v].highlightSettings).color,C=y.opacity,T=y.border.color,L=y.border.width,k=y.pattern.toLowerCase(),N=this.highlightFill(y,e,v,A,c,s),S="none"==k||""==k?N:this.canvasPattern(r,e,t,N,y),p.push(S),g=0,_=R.length;g<_;g++)R[g].SeriesIndex==v&&u.push(R[g].Region);if(-1!=O.indexOf("column")||-1!=O.indexOf("waterfall")||-1!=O.indexOf("bar"))for(m=0==$("#"+e._id+"_Selection_"+v+"_point_"+A+"_canvas").length,g=0,_=u.length;g<_;g++)this.canvasSeriesRect(u[g],C,T,L,S,m,i);else"bubble"==O?this.canvasBubbleHighlight(y,u,e,v,S,L,C,T):"scatter"==O&&this.canvasScatterHighlight(u,S,L,C,T)}}else("cluster"==j&&"none"==this.model.AreaType||"point"==j&&0==$("#"+e._id+"_Selection_"+D+"_point_"+A+"_canvas").length&&0==$("#"+e._id+"_Selection_series"+D+"_canvas").length&&0==$("#"+e._id+"_Selection_Cluster_point_"+A+"_canvas").length)&&(M[0]=this.model._isPieOfPie?this._getPieOfPiePoint(A,i):i._visiblePoints[A],r=this.createCanvasElement(e._id+"_Highlight_"+D+"_point_"+A+"_canvas",e.svgWidth,e.svgHeight,I),this.createRect(e,r),S="none"==k||""==k?N:this.canvasPattern(r,e,t,N,y),-1!=O.indexOf("column")||-1!=O.indexOf("waterfall")||-1!=O.indexOf("bar")?((R=[])[0]=w.region.Region,this.canvasSeriesRect(R[0],C,T,L,S,!0,i)):"pie"==O||"doughnut"==O||"pieofpie"==O?((R=[])[0]=w.pointData[0],this.canvasHighlightCircle(e,y,A,C,T,L,S,R,O,r)):"pyramid"==O||"funnel"==O?this.canvasHighlightPyramid(e,R[0],y,r,C,T,L,S,O):"bubble"==O?((R=[])[0]=w.region.Region,this.canvasBubbleHighlight(y,R,e,D,S,L,C,T)):"scatter"==O&&((R=[])[0]=w.region.Region,this.canvasScatterHighlight(R,S,L,C,T)));else if(M=i._visiblePoints,r=this.createCanvasElement(e._id+"_Highlight_series"+D+"_canvas",e.svgWidth,e.svgHeight,I),S="none"==k||""==k?N:this.canvasPattern(r,e,t,N,y),this.createRect(e,r),-1!=O.indexOf("column")||-1!=O.indexOf("waterfall")||-1!=O.indexOf("bar"))for(v=0;v<R.length;v++)m=0==$("#"+e._id+"_Selection_"+D+"_point_"+v+"_canvas").length,this.canvasSeriesRect(R[v],C,T,L,S,m,i);else"pie"==O||"doughnut"==O||"pieofpie"==O?(R=1==V?R:R[0],this.canvasHighlightCircle(e,y,A,C,T,L,S,R,O,r)):"pyramid"==O||"funnel"==O?this.canvasHighlightPyramid(e,R[0],y,r,C,T,L,S,O):"bubble"==O?this.canvasBubbleHighlight(y,R,e,D,S,L,C,T):"scatter"==O&&this.canvasScatterHighlight(R,S,L,C,T);if(P&&0==$("#"+e._id+"_Selection_Legend"+c+"_canvas").length)if("cluster"!=j||s||"none"==this.model.AreaType)this.canvasHighlightLegend(e,i,y,"Highlight",I,S);else for(v=0,x=E.length;v<x;v++)f=E[v].seriesIndex,b=this.model._visibleSeries[f],this.canvasHighlightLegend(e,b,y,"Highlight",I,p[f]);"visible"===i.visibility&&1==i.marker.visible&&"none"!=this.model.AreaType&&this.canvasHighlightMarker(e,i,M,y,r,t,p)},canvasSeriesRect:function(e,t,i,s,a,o,r){var l,n,d={opacity:t,stroke:i,"stroke-width":s,fill:a},h=r.cornerRadius;e&&(d.x=e.Bounds.X,d.y=e.Bounds.Y,d.width=e.Bounds.Width,d.height=e.Bounds.Height,o&&("object"!=typeof h&&h>0||h.topLeft>0||h.bottomLeft>0||h.topRight>0||h.bottomRight>0?(n=ej.EjSvgRender.utils._calculateroundedCorner(h,d),d.d=n,ej.EjCanvasRender.prototype.drawPath(d,l)):this.drawRect(d,l)))},canvasSelection:function(e,t,i,s,a,o,r,l){var n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C;i.seriesIndex=a,i.pointIndex=o;var T,L,k,P,j,D=this.model._visibleSeries,A=l.color,O=l.opacity,I=l.border.color,R=l.border.width,M=l.pattern.toLowerCase(),E=e.model.legend.visible,V=l.mode,N=i.type.toLowerCase(),B=document.getElementById(e._id+"_canvas").getBoundingClientRect(),F=[],z=[],Y=this.model._visibleSeries.length,X=e.model.chartRegions,W=this.model.clusterPoints,H="none"==e.model.AreaType&&1==Y?o:a,U=this.highlightFill(l,e,a,o,s,r);if(T=X.length,"none"!=e.model.AreaType||"none"==e.model.AreaType&&Y>1)for(p=0;p<T;p++)(("series"==V||s)&&a==X[p].SeriesIndex||("point"==V||s)&&a==X[p].SeriesIndex&&o==X[p].Region.PointIndex)&&("none"!=e.model.AreaType||"point"!=V||s?F.push(X[p].Region):F.push(X[p].Region[o]));else if(T>0){if(this.model._isPieOfPie){if(s)for(n=0;n<i.pieCollections.length;n++)for(d=i.pieCollections[n],h=0;h<d.length;h++)if(d[h].actualIndex==s.legendItem.LegendItem.PointIndex){c=n;break}u=X[i.data?i.data.pointData[0].PieSeriesIndex:c]}else u=X[0];for(L=u.Region.length,p=0;p<L;p++)o==u.Region[p].PointIndex&&F.push(u.Region[p])}if(("series"==V||s)&&("none"!=this.model.AreaType||"none"==this.model.AreaType&&Y>1))if(z=i._visiblePoints,j=this.createCanvasElement(e._id+"_Selection_series"+H+"_canvas",e.svgWidth,e.svgHeight,B),A="none"==M||""==M?U:this.canvasPattern(j,e,t,U,l),this.createRect(e,j),-1!=N.indexOf("column")||-1!=N.indexOf("waterfall")||-1!=N.indexOf("bar"))for(p=0;p<F.length;p++)this.canvasSeriesRect(F[p],O,I,R,A,!0,i);else"pie"==N||"doughnut"==N||"pieofpie"==N?this.canvasHighlightCircle(e,l,o,O,I,R,A,F[0],N,j):"bubble"==N?this.canvasBubbleHighlight(l,F,e,a,A,R,O,I):"scatter"==N&&this.canvasScatterHighlight(F,A,R,O,I);else if("cluster"==V&&"none"!=this.model.AreaType&&0==$("#"+e._id+"_Selection_Cluster_point_"+o+"_canvas").length){for(m=W.length,b=0;b<m;b++)g=W[b].seriesIndex,_=W[b].pointIndex,f=$.grep(X,(function(e){return e.SeriesIndex==g&&e.Region.PointIndex==_})),f.length>0?(F.push(f[0]),z.push(D[f[0].SeriesIndex]._visiblePoints[o])):z.push(D[b]._visiblePoints[o]);for(this.selectedPoint=o,v=[],x=[],j=this.createCanvasElement(e._id+"_Selection_Cluster_point_"+o+"_canvas",e.svgWidth,e.svgHeight,B),this.createRect(e,j),p=0,k=D.length;p<k;p++){for(v=[],A=(P=D[p].selectionSettings).color,O=P.opacity,I=P.border.color,R=P.border.width,M=P.pattern.toLowerCase(),U=this.highlightFill(P,e,p,o,s),A="none"==M||""==M?U:this.canvasPattern(j,e,t,U,P),x.push(A),y=0,w=F.length;y<w;y++)F[y].SeriesIndex==p&&v.push(F[y].Region);if(-1!=N.indexOf("column")||-1!=N.indexOf("waterfall")||-1!=N.indexOf("bar"))for(S=0,C=v.length;S<C;S++)this.canvasSeriesRect(v[S],O,I,R,A,!0,i);else"bubble"==N?this.canvasBubbleHighlight(P,v,e,p,A,R,O,I):"scatter"==N&&this.canvasScatterHighlight(v,A,R,O,I);!s&&"none"!=this.model.AreaType&&E&&((i=D[p]).seriesIndex=p,this.canvasHighlightLegend(e,i,l,"Selection_Cluster",B,A))}}else("point"==V&&0==$("#"+e._id+"_Selection_"+a+"_point_"+o+"_canvas").length||"none"==this.model.AreaType)&&(this.selectedPoint=o,z[0]=this.model._isPieOfPie?this._getPieOfPiePoint(o,i):i._visiblePoints[o],j=this.createCanvasElement(e._id+"_Selection_series"+a+"_point_"+o+"_canvas",e.svgWidth,e.svgHeight,B),this.createRect(e,j),A="none"==M||""==M?U:this.canvasPattern(j,e,t,U,l),-1!=N.indexOf("column")||-1!=N.indexOf("waterfall")||-1!=N.indexOf("bar")?this.canvasSeriesRect(F[0],O,I,R,A,!0,i):"pie"==N||"doughnut"==N||"pieofpie"==N?this.canvasHighlightCircle(e,l,o,O,I,R,A,F,N,j):"pyramid"==N||"funnel"==N?this.canvasHighlightPyramid(e,F[0],l,j,O,I,R,A,N):"bubble"==N?this.canvasBubbleHighlight(l,F,e,a,A,R,O,I):"scatter"==N&&this.canvasScatterHighlight(F,A,R,O,I));E&&("cluster"!=V||s)&&this.canvasHighlightLegend(e,i,l,"Selection",B,A),1==i.marker.visible&&"none"!=this.model.AreaType&&this.canvasHighlightMarker(e,i,z,l,j,t,x)},createRect:function(e,t){"none"!=e.model.AreaType&&(t.lineWidth=0,t.strokeStyle="transparent",t.rect(e.model.m_AreaBounds.X,e.model.m_AreaBounds.Y,e.model.m_AreaBounds.Width,e.model.m_AreaBounds.Height),t.clip(),t.stroke(),t.save())},canvasHighlightPyramid:function(e,t,i,s,a,o,r,l,n){""!=i.color?i.color:e.model.pointColors[t.PointIndex];var d=e.model.title.text?ej.EjSvgRender.utils._measureText(e.model.title.text,$(this.svgObject).width()-e.model.margin.left-e.model.margin.right,e.model.title.font):0,h=e.pyrX=("left"===e.model.legend.position.toLowerCase()?e.model.LegendViewerBounds.Width:0)+e.model.elementSpacing+e.model.margin.left,c=e.pyrY=("top"===e.model.legend.position.toLowerCase()?e.model.LegendViewerBounds.Height:0)+(e.model.title.text?e.model._titleLocation.Y+d.height:e.model.margin.top+e.model.elementSpacing),u={opacity:a,stroke:o,"stroke-width":r,fill:l,type:n,d:"M "+(h+t.Line1.x)+" "+(c+t.Line1.y)+" L "+(h+t.Line2.x)+" "+(c+t.Line2.y)+" L "+(h+t.Line3.x)+" "+(c+t.Line3.y)+" L "+(h+t.Line4.x)+" "+(c+t.Line4.y)+" z"};"funnel"==n&&(u.d="M "+(h+t.Line1.x)+" "+(c+t.Line1.y)+" L "+(h+t.Line2.x)+" "+(c+t.Line2.y)+" L "+(h+t.Line3.x)+" "+(c+t.Line3.y)+" L "+(h+t.Line4.x)+" "+(c+t.Line4.y)+" L "+(h+t.Line5.x)+" "+(c+t.Line5.y)+" L "+(h+t.Line6.x)+" "+(c+t.Line6.y)+" z"),ej.EjCanvasRender.prototype.drawPath(u,s)},canvasScatterHighlight:function(e,t,i,s,a){for(var o,r={},l={},n=0;n<e.length;n++)o={startX:e[n].Bounds.X+e[n].Bounds.Height/2,startY:e[n].Bounds.Y+e[n].Bounds.Width/2},l.height=e[n].Bounds.Height,l.width=e[n].Bounds.Width,(r={}).ShapeSize=l,r.cx=o.startX,r.cy=o.startY,r.Style={},r.Style.BorderColor=a,r.Style.Color=t,r.Style.Opacity=s,r.Style.BorderWidth=i,ej.EjSvgRender.chartSymbol._drawCircle(o,r,this,void 0)},canvasBubbleHighlight:function(e,t,i,s,a,o,r,l){for(var n,d={},h=0;h<t.length;h++)n=t[h].Bounds.Height/2,""!=e.color?e.color:i.model.seriesColors[s],d={cx:t[h].Bounds.X-this.model.series[s].xAxis.x+n+this.canvasX,cy:t[h].Bounds.Y-this.model.series[s].yAxis.y+n+this.canvasY,r:n,fill:a,"stroke-width":o,opacity:r,stroke:l},ej.EjCanvasRender.prototype.drawCircle(d,void 0)},canvasHighlightCircle:function(e,t,i,s,a,o,r,l,n,d){for(var h,c=0;c<l.length;c++)""!=t.color?t.color:"series"==t.mode&&e.model._visibleSeries.length>1?e.model.pointColors[c]:e.model.pointColors[i],h={opacity:s,stroke:a,lineWidth:o,color:r,x:l[c].StartX,y:l[c].StartY,radius:e.model._isPieOfPie?e.model.circularRadius[l[c].PieSeriesIndex]:e.model.circularRadius[l[c].SeriesIndex],innerRadius:e.model.innerRadius[l[c].SeriesIndex],startAngle:l[c].StartAngle,endAngle:l[c].EndAngle,type:n},this.highlightSegment(d,h)},canvasHighlightMarker:function(e,t,i,s,a,o,r){var l,n,d,h,c,u,p=s,m=p.pattern.toLowerCase(),g=t.type.toLowerCase(),_={},f=""!=p.color?p.color:e.model.seriesColors[t.seriesIndex];for(l="none"==m||""==m?f:this.canvasPattern(a,e,o,f,p),_.Style={},_.Style.BorderColor=p.border.color,_.Style.Opacity=p.opacity,_.Style.BorderWidth=p.border.width,u=0;u<i.length;u++)i[u].symbolLocation,(n=-1!=g.indexOf("line")||-1!=g.indexOf("area")?i[u].location:i[u].symbolLocation)&&(d="cartesianaxes"==this.model.AreaType?{startX:n.X+this.canvasX,startY:n.Y+this.canvasY}:{startX:n.X,startY:n.Y},h=t.marker,$.each(e.model.symbolShape,(function(e){h.shape.toLowerCase()==e.toLowerCase()&&(c=e)})),_.ShapeSize=h.size,_.r=Math.sqrt(h.size.height*h.size.height+h.size.width*h.size.width)/2,_.cx=d.startX,_.cy=d.startY,_.Style.Color=r?r[u]:l,ej.EjSvgRender.chartSymbol["_draw"+c](d,_,e,a))},canvasHighlightLegend:function(e,t,i,s,a,o){var r,l,n=this.model._visibleSeries.length,d="none"==e.model.AreaType&&1==n?t.pointIndex:t.seriesIndex,h=e._id+"_"+s+"_Legend"+d+"_canvas";if(0==$("#"+h).length&&d<t.points.length){r=this.createCanvasElement(e._id+"_"+s+"_Legend"+d+"_canvas",e.svgWidth,e.svgHeight,a);var c={startX:(l="none"!=e.model.AreaType||"none"==e.model.AreaType&&n>1?e.model.legendRegion[t.seriesIndex]:e.model.legendRegion[t.pointIndex]).Bounds.LegendBound.X+l.Location.startX,startY:l.Bounds.LegendBound.Y+l.Location.startY},u={svgRenderer:e.svgRenderer,svgObject:e.svgObject},p={SeriesIndex:d,Style:{Color:o,Opacity:i.opacity,Visibility:!0,BorderWidth:0,BorderColor:o},context:!0,ShapeSize:l.Style.ShapeSize};"seriestype"==l.SymbolShape.toLowerCase()?(e.legendItem=l.LegendItem,ej.EjSvgRender.chartSymbol["_draw"+l.SymbolShape](c,p,e)):ej.EjSvgRender.chartSymbol["_draw"+l.SymbolShape](c,p,u,r)}},createCanvasElement:function(e,t,i,s){var a,o,r,l=document.createElement("canvas");return jQuery(this.element).attr("id"),l.setAttribute("id",e),l.height=i,l.width=t,l.style["touch-action"]&&(l.style["touch-action"]="none"),l.style["-ms-touch-action"]&&(l.style["-ms-touch-action"]="none"),this.svgRenderer.append(l,this.element),(r=document.getElementById(e)).style.left=s.left+$(document).scrollLeft()+"px",r.style.top=s.top+$(document).scrollTop()+"px",r.style.position="absolute",a=$("#"+this._id+"_canvas").offset(),o=$(r).offset(),a.left<o.left&&(r.style.left=s.left-Math.abs(a.left-o.left)+$(document).scrollLeft()+"px"),a.top<o.top&&(r.style.top=s.top-Math.abs(a.top-o.top)+$(document).scrollTop()+"px"),l.getContext("2d")},highlightSegment:function(e,t){e.save(),e.beginPath(),"pie"==t.type||"pieofpie"==t.type?(e.moveTo(t.x,t.y),e.arc(t.x,t.y,t.radius,t.startAngle-1.57,t.endAngle-1.57,!1)):(e.arc(t.x,t.y,t.radius,t.startAngle-1.57,t.endAngle-1.57,!1),e.arc(t.x,t.y,t.innerRadius,t.endAngle-1.57,t.startAngle-1.57,!0)),e.fillStyle=t.color,e.globalAlpha=t.opacity,e.fill(),e.lineWidth=t.lineWidth,e.strokeStyle=t.stroke,e.clip(),e.stroke(),e.closePath(),e.restore()},canvasPattern:function(e,t,i,s,a){var o=a,r=(o.name,o.pattern.toLowerCase()),l=s,n=o.opacity,d=(o.border.color,o.border.width,document.createElement("canvas")),h=d.getContext("2d"),c=[];switch(r){case"chessboard":c[0]={x:0,y:0,width:10,height:10,fill:"white",stroke:"white",opacity:n,name:"rect"},c[1]={x:0,y:0,width:5,height:5,fill:l,opacity:n,name:"rect"},c[2]={x:5,y:5,width:5,height:5,fill:l,opacity:n,name:"rect"},d.width=10,d.height=10,this.loadPattern(t,c,"",h);break;case"pacman":c[0]={name:"rect",x:0,y:0,width:18,height:18,transform:"translate(0,0)",fill:"white",opacity:n},c[1]={name:"path",d:"M 9.081 9.194 L 14.887 6.114 C 14.075000000000001 4.618 12.484 3.0620000000000007 10.596 3.0620000000000007 L 8.835 3.0620000000000007 C 6.138 3.063 3 6.151 3 8.723 L 3 10.402000000000001 C 3 12.974 6.138 16.063000000000002 8.835 16.063000000000002 L 10.596 16.063000000000002 C 12.681000000000001 16.063000000000002 14.431000000000001 14.303000000000003 15.131 12.549000000000003 L 9.081 9.194 z","stroke-width":1,stroke:l,fill:l},d.width=18,d.height=18,this.loadPattern(t,c,"",h);break;case"crosshatch":c[0]={x:0,y:0,width:8,height:8,fill:"white",stroke:s,opacity:n,name:"rect"},c[1]={d:"M 0 0 L 8 8 Z","stroke-width":1,stroke:l,name:"path"},c[2]={d:"M 8 0 L 0 8 Z","stroke-width":1,stroke:l,name:"path"},d.width=8,d.height=8,this.loadPattern(t,c,"",h);break;case"dots":c[0]={x:0,y:0,width:7,height:7,transform:"translate(0,0)",fill:"white",opacity:n,name:"rect"},c[1]={cx:3,cy:3,r:2,"stroke-width":1,fill:l,name:"circle"},d.width=7,d.height=7,this.loadPattern(t,c,"",h);break;case"diagonalforward":c[0]={x:0,y:0,width:6,height:6,fill:"white",stroke:s,opacity:n,name:"rect"},c[1]={d:"M 3 -3 L 9 3 M 6 6 L 0 0 M 3 9 L -3 3","stroke-width":2,stroke:l,name:"path"},d.width=6,d.height=6,this.loadPattern(t,c,"",h);break;case"diagonalbackward":c[0]={x:0,y:0,width:6,height:6,"stroke-width":2,fill:"white",stroke:s,opacity:n,name:"rect"},c[1]={d:"M 3 -3 L -3 3 M 0 6 L 6 0 M 9 3 L 3 9","stroke-width":2,stroke:l,name:"path"},d.width=6,d.height=6,this.loadPattern(t,c,"",h);break;case"grid":c[0]={name:"rect",x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:"white",opacity:n},c[1]={name:"path",d:"M 1 3.5 L 11 3.5 M 0 3.5 L 11 3.5 M 0 7.5 L 11 7.5 M 0 11.5 L 11 11.5 M 5.5 0 L 5.5 12 M 11.5 0 L 11.5 12 Z","stroke-width":1,stroke:l},d.width=6,d.height=6,this.loadPattern(t,c,"",h);break;case"turquoise":c[0]={name:"rect",x:0,y:0,width:17,height:17,transform:"translate(0,0)",fill:"white",opacity:n},c[1]={name:"path",d:"M 2.697 0.5319999999999996 C 3.8695005238907747 0.5319999999999996 4.82 1.4771268931071944 4.82 2.643 C 4.82 3.808873106892805 3.8695005238907747 4.754 2.697 4.754 C 1.5244994761092252 4.754 0.5739999999999998 3.808873106892805 0.5739999999999998 2.643 C 0.5739999999999998 1.4771268931071944 1.5244994761092252 0.5319999999999996 2.697 0.5319999999999996 Z","stroke-width":1,"stroke-miterlimit":10,stroke:l,fill:l},c[2]={name:"path",d:"M 13.928 0.5319999999999996 C 15.100500523890776 0.5319999999999996 16.051000000000002 1.4771268931071944 16.051000000000002 2.643 C 16.051000000000002 3.808873106892805 15.100500523890776 4.754 13.928 4.754 C 12.755499476109225 4.754 11.805 3.808873106892805 11.805 2.643 C 11.805 1.4771268931071944 12.755499476109225 0.5319999999999996 13.928 0.5319999999999996 Z","stroke-width":1,"stroke-miterlimit":10,stroke:l,fill:l},c[3]={name:"path",d:"M 8.313 0.5319999999999996 C 9.485500523890776 0.5319999999999996 10.436 1.4771268931071944 10.436 2.643 C 10.436 3.808873106892805 9.485500523890776 4.754 8.313 4.754 C 7.140499476109226 4.754 6.19 3.808873106892805 6.19 2.643 C 6.19 1.4771268931071944 7.140499476109226 0.5319999999999996 8.313 0.5319999999999996 Z","stroke-width":1,"stroke-miterlimit":10,stroke:l,fill:l},c[4]={name:"path",d:"M 13.928 6.16 C 15.100500523890776 6.16 16.051000000000002 7.105126893107196 16.051000000000002 8.271 C 16.051000000000002 9.436873106892806 15.100500523890776 10.382000000000001 13.928 10.382000000000001 C 12.755499476109225 10.382000000000001 11.805 9.436873106892806 11.805 8.271 C 11.805 7.105126893107196 12.755499476109225 6.16 13.928 6.16 Z","stroke-width":1,"stroke-miterlimit":10,stroke:l,fill:l},c[5]={name:"path",d:"M 8.313 6.16 C 9.485500523890776 6.16 10.436 7.105126893107196 10.436 8.271 C 10.436 9.436873106892806 9.485500523890776 10.382000000000001 8.313 10.382000000000001 C 7.140499476109226 10.382000000000001 6.19 9.436873106892806 6.19 8.271 C 6.19 7.105126893107196 7.140499476109226 6.16 8.313 6.16 Z","stroke-width":1,"stroke-miterlimit":10,stroke:l,fill:l},c[6]={name:"path",d:"M 13.928 11.787999999999998 C 15.100500523890776 11.787999999999998 16.051000000000002 12.733126893107194 16.051000000000002 13.899 C 16.051000000000002 15.064873106892804 15.100500523890776 16.009999999999998 13.928 16.009999999999998 C 12.755499476109225 16.009999999999998 11.805 15.064873106892804 11.805 13.899 C 11.805 12.733126893107194 12.755499476109225 11.787999999999998 13.928 11.787999999999998 Z","stroke-width":1,"stroke-miterlimit":10,stroke:l,fill:l},c[7]={name:"path",d:"M 8.313 11.787999999999998 C 9.485500523890776 11.787999999999998 10.436 12.733126893107194 10.436 13.899 C 10.436 15.064873106892804 9.485500523890776 16.009999999999998 8.313 16.009999999999998 C 7.140499476109226 16.009999999999998 6.19 15.064873106892804 6.19 13.899 C 6.19 12.733126893107194 7.140499476109226 11.787999999999998 8.313 11.787999999999998 Z","stroke-width":1,"stroke-miterlimit":10,stroke:l,fill:l},d.width=17,d.height=17,this.loadPattern(t,c,"",h);break;case"star":c[0]={name:"rect",x:0,y:0,width:21,height:21,transform:"translate(0,0)",fill:"white",opacity:n},c[1]={name:"path",d:"M 15.913 18.59 L 10.762 12.842 L 5.613 18.75 L 8.291 11.422 L 0.325 9.91 L 8.154 8.33 L 5.337 0.91 L 10.488 6.658 L 15.637 0.75 L 12.959 8.078 L 20.925 9.59 L 13.096 11.17 z","stroke-width":1,stroke:l,fill:l},d.width=21,d.height=21,this.loadPattern(t,c,"",h);break;case"triangle":c[0]={name:"rect",x:0,y:0,width:10,height:10,fill:"white",opacity:n},c[1]={name:"path",d:"M 4.987 0 L 7.48 4.847 L 9.974 9.694 L 4.987 9.694 L 0 9.694 L 2.493 4.847 z","stroke-width":1,stroke:l,fill:l},d.width=10,d.height=10,this.loadPattern(t,c,"",h);break;case"circle":c[0]={name:"rect",x:0,y:0,width:9,height:9,transform:"translate(0,0)",fill:"white",opacity:n},c[1]={name:"circle",cx:5.125,cy:3.875,r:3.625,"stroke-width":1,fill:l},d.width=9,d.height=9,this.loadPattern(t,c,"",h);break;case"tile":c[0]={name:"rect",x:0,y:0,width:18,height:18,transform:"translate(0,0)",fill:"white",opacity:n},c[1]={name:"path",d:"M 0 9 L 0 0 L 9 0 z","stroke-width":1,stroke:l,fill:l},c[2]={name:"path",d:"M 9 9 L 9 0 L 18 0 z","stroke-width":1,stroke:l,fill:l},c[3]={name:"path",d:"M 0 18 L 0 9 L 9 9 z","stroke-width":1,stroke:l,fill:l},c[4]={name:"path",d:"M 9 18 L 9 9 L 18 9 z","stroke-width":1,stroke:l,fill:l},d.width=18,d.height=18,this.loadPattern(t,c,"",h);break;case"horizontaldash":c[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:"white",opacity:n},c[1]={name:"path",d:"M 0 1.5 L 10 1.5 M 0 5.5 L 10 5.5 M 0 9.5 L 10 9.5 z","stroke-width":1,stroke:l,fill:l},d.width=12,d.height=12,this.loadPattern(t,c,"",h);break;case"verticaldash":c[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:"white",opacity:n},c[1]={name:"path",d:"M 1.5 0 L 1.5 10 M 5.5 0 L 5.5 10 M 9.5 0 L 9.5 10 z","stroke-width":1,stroke:l,fill:l},d.width=12,d.height=12,this.loadPattern(t,c,"",h);break;case"rectangle":c[0]={x:0,y:0,name:"rect",width:12,height:12,fill:"white",opacity:n},c[1]={name:"rect",x:1,y:2,width:4,height:9,fill:l,opacity:n},c[2]={name:"rect",x:7,y:2,width:4,height:9,fill:l,opacity:n},d.width=12,d.height=12,this.loadPattern(t,c,"",h);break;case"box":c[0]={x:0,y:0,name:"rect",width:13,height:13,fill:"white",opacity:n},c[1]={name:"rect",x:1.5,y:1.5,width:10,height:9,fill:l,opacity:n},d.width=10,d.height=10,this.loadPattern(t,c,"",h);break;case"horizontalstripe":c[0]={name:"rect",x:0,y:0,width:10,height:12,transform:"translate(0,0)",fill:"white",opacity:n},c[1]={name:"path",d:"M 0 0.5 L 10 0.5 M 0 4.5 L 10 4.5 M 0 8.5 L 10 8.5 z","stroke-width":1,stroke:l,fill:l},d.width=10,d.height=12,this.loadPattern(t,c,"",h);break;case"verticalstripe":c[0]={name:"rect",x:0,y:0,width:12,height:10,transform:"translate(0,0)",fill:"white",opacity:n},c[1]={name:"path",d:"M 0.5 0 L 0.5 10 M 4.5 0 L 4.5 10 M 8.5 0 L 8.5 10 z","stroke-width":1,stroke:l,fill:l},d.width=12,d.height=10,this.loadPattern(t,c,"",h);break;case"bubble":c[0]={name:"rect",x:0,y:0,width:20,height:20,transform:"translate(0,0)",fill:"#ffffff",opacity:n},c[1]={name:"circle",cx:5.217,cy:11.325,r:3.429,"stroke-width":1,fill:"#D0A6D1"},c[2]={name:"circle",cx:13.328,cy:6.24,r:4.884,"stroke-width":1,fill:l},c[3]={name:"circle",cx:13.277,cy:14.66,r:3.018,"stroke-width":1,fill:"#D0A6D1"},d.width=20,d.height=20,this.loadPattern(t,c,"",h);break;case"custom":d=document.getElementById(o.customPattern)}return e.createPattern(d,"repeat")},foundClasses:function(e){var t=[];return $("[id*="+e+"]").each((function(){var e=$(this).attr("class")?$(this).attr("class"):"";e.indexOf("Selection")>=0&&t.push(e)})),t},selection:function(e,t,i,s,a,o,r,l,n,d){var h,c,u,p,m,g,_,f,b,v,x=this.model.clusterPoints,y=(x&&x.length,this.model._visibleSeries),w=y.length,S="none"==this.model.AreaType&&1==w?r:o,C=i.selectionSettings,T=(this.model._visibleSeries[o].selectionSettings.type.toLowerCase(),"series"+o),L=!1,k=($("#"+n).attr("name"),C.pattern.toLowerCase()),P=C.mode;if(l&&(h=l.indexOf(this.svgObject.id+"_SeriesGroup_")>=0||l.indexOf(this.svgObject.id+"_Chart3D")>=0),("none"!=this.model.AreaType||"none"==this.model.AreaType&&"series"==P&&w>1)&&$("style").each((function(){$(this).html().indexOf("."+e._id+"SelectionStyle"+T)>-1&&(L=!0)})),!e.vmlRendering&&this.model.enable3D)"series"!=P&&!a||"none"==this.model.AreaType&&("none"!=this.model.AreaType||1==w)?"cluster"==P&&"none"!=e.model.AreaType?this.highlightCluster(e,o,r,"Selection",T,C,t,d):"none"==this.model.AreaType?(this.highlightPoint(e,o,r,"Selection",T+S,C,t,d),$("#"+this.svgObject.id+"_LegendItemShape"+S).attr("class","Selection"+T+S+"Style"+T+S+"1")):(this.highlightPoint(e,o,r,"Selection",T,C,t,d),$("#"+this.svgObject.id+"_LegendItemShape"+S).attr("class","Selection"+T+"Style"+T+"1")):(this.highlightSeries(e,o,r,"Selection",T,C,t,a,d),$("#"+this.svgObject.id+"_LegendItemShape"+S).attr("class","Selection"+T+"Style"+T+"1"));else{if("cluster"!=P||a||"none"==e.model.AreaType){(m={}).name="2D",m.index="none"==this.model.AreaType?S:o,m.api="Selection",m.color=""!=C.color?C.color:a?"none"==this.model.AreaType?this.model.pointColors[S]:this.model.seriesColors[S]:"none"!=$("#"+n).attr("fill")?$("#"+n).attr("fill"):$("#"+n).attr("stroke"),"[object Array]"===Object.prototype.toString.call(m.color)&&(m.color=m.color[1].color);var j="none"==k||e.vmlRendering||""==k?C.color:this.pattern(e,t,m,C),D=C.opacity,A=C.border.color,O=C.border.width;L||("none"==this.model.AreaType&&(("series"==P||a)&&1==w||"series"!=P&&!a)?($("style").each((function(){$(this).html().indexOf(".SelectionStyle"+T+"Point"+S)>-1&&(L=!0)})),L||(this.createStyle(e,e._id+"Selection",T+"Point"+S,D,j,A,O),this.createStyle(e,e._id+"SelectionLegend",T+"Point"+S,D,j,"transparent",0))):("none"==this.model.AreaType&&w>1||"none"!=this.model.AreaType)&&(this.createStyle(e,e._id+"Selection",T,D,j,A,O),this.createStyle(e,e._id+"SelectionLegend",T,D,j,"transparent",0)))}if(("series"==P||a)&&("none"==e.model.AreaType&&w>1||"none"!=e.model.AreaType)){if(!h)for(c=$("#"+l).childNodes?$("#"+l).childNodes:[],u=0;u<c.length;u++)$("#"+c[u].id).attr("class",e._id+"SelectionStyle");$("[id*="+this.svgObject.id+"_Series"+S+"]").each((function(){if(this.parentNode.id==e.svgObject.id+"_SeriesGroup_"+S||this.parentNode.id==e.svgObject.id+"_symbolGroup_"+S){var t=$(this).attr("name")?e._id+"SelectionPathStyle"+T:e._id+"SelectionStyle"+T;$(this).attr("class",t)}})),$("#"+this.svgObject.id+"_LegendItemShape"+S).attr("class",e._id+"SelectionLegendStyle"+T),s&&$("#"+l).remove()}else if("cluster"!=P||"none"==e.model.AreaType||ej.util.isNullOrUndefined(n)){if($("#"+n).attr("name")||n==e.svgObject.id+"_Series"+S||"none"==e.model.AreaType)$("#"+n).attr("class",e._id+"SelectionStyle"+T+"Point"+S),$("#"+this.svgObject.id+"_LegendItemShape"+S).attr("class",e._id+"SelectionLegendStyle"+T+"Point"+S),s&&$("#"+l).remove();else{if($("#"+n).attr("class",e._id+"SelectionStyle"+T),"cylinder"==this.model.commonSeriesOptions.columnFacet||"cylinder"==i.columnFacet)for(u=0;u<2;u++)$("#"+n.replace(/2$/,u)).attr("class",e._id+"SelectionStyle"+T);$("#"+this.svgObject.id+"_LegendItemShape"+S).attr("class",e._id+"SelectionLegendStyle"+T),$("#"+n+"_symbol").attr("class",e._id+"SelectionStyle"+T),s&&($("#"+n+"_symbol").attr("class",e._id+"SelectionStyle"+T),$("#"+l).remove())}void 0!=(v=$("#"+n).attr("name"))&&("candle"==v||v.indexOf("hilo")>=0)&&($("[id$="+n+"]").attr("class",e._id+"SelectionStyle"+T),$("#"+this.svgObject.id+"_LegendItemShape"+S).attr("class",e._id+"SelectionLegendStyle"+T))}else{for(p=this.svgObject.id+"_Series",x=e.model.clusterPoints,S=n.match(/(\d+)/g),r=parseInt(S[S.length-1]),n.indexOf("SeriesText")>=0&&(r=this.GetSeriesPoint(t).region.Region.PointIndex),f=0;f<x.length;f++)_=x[f].seriesIndex,T="ClusterSeries"+_,(m={}).index=_,m.name="2D",m.api="Selection"+T,C=y[_].selectionSettings,m.color=""!=C.color?C.color:this.model.seriesColors[_],"[object Array]"===Object.prototype.toString.call(m.color)&&(m.color=m.color[1].color),D=C.opacity,A=C.border.color,O=C.border.width,j="none"==k||e.vmlRendering||""==k?m.color:this.pattern(e,t,m,C),$("style").each((function(){$(this).html().indexOf("."+e._id+"SelectionStyle"+T)>-1&&(g=!0)})),g||(this.createStyle(e,e._id+"Selection",T,D,j,A,O),this.createStyle(e,e._id+"SelectionLegend",T,D,j,"transparent",0)),b=$("#"+p+x[f].seriesIndex+"_Point"+x[f].pointIndex).attr("name")?e._id+"SelectionPathStyle"+T:e._id+"SelectionStyle"+T,$("#"+p+x[f].seriesIndex+"_Point"+x[f].pointIndex).attr("class",b),$("#"+p+x[f].seriesIndex+"_Point"+x[f].pointIndex+"_symbol").attr("class",b),"hidden"!=e.model._visibleSeries[_].visibility&&$("#"+this.svgObject.id+"_LegendItemShape"+_).not("[class*='Highlight']").attr("class",e._id+"SelectionLegendStyle"+T),void 0!=(v=$("#"+n).attr("name"))&&("candle"==v||v.indexOf("hilo")>=0)&&$("[id$="+p+x[f].seriesIndex+"_Point"+x[f].pointIndex+"]").attr("class","HighlightStyle"+T);s&&($("#"+this.svgObject.id+"_Series"+_+"_Point"+r).attr("class",e._id+"SelectionStyle"+T),$("#"+this.svgObject.id+"_Series"+_+"_Point"+r+"_symbol").attr("class",e._id+"SelectionStyle"+T),$("#"+l).remove())}}},removeSelection:function(e,t,i,s,a,o,r){var l,n,d,h=i.length,c=this.model.clusterPoints,u=c?c.length:0;if(("series"==s||o)&&("none"!=this.model.AreaType||"none"==this.model.AreaType&&h>1))for(n=0;n<h;n++)"point"!=(l=i[n].selectionSettings).mode&&"single"==l.type.toLowerCase()||o&&"single"==l.type.toLowerCase()?($(this.svgObject).find("[id*="+this.svgObject.id+"_SeriesGroup_"+n+"],[id*="+this.svgObject.id+"_symbolGroup_"+n+"],[id*=_Region_Series_"+n+"_]").each((function(){$(this).find("*").attr("class",""),$(this).attr("class","")})),$("#"+this._id+"_Selection_Legend"+n+"_canvas").remove(),$("#"+this._id+"_Selection_series"+n+"_canvas").remove(),$("[id*=_Region_Series_"+n+"]").attr("class",""),$("#"+this.svgObject.id+"_LegendItemShape"+n).attr("class","")):r&&"multiple"==l.type.toLowerCase()&&($("#"+this._id+"_Selection_series"+e+"_canvas").remove(),$("#"+this._id+"_Selection_Legend"+e+"_canvas").remove(),$("[id*=_Region_Series_"+e+"]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+e+"]").attr("class",""),$("#"+this.svgObject.id+"_LegendItemShape"+e).attr("class",""));if("cluster"==s&&"none"!=this.model.AreaType&&!o)if(a)if(this.model.enableCanvasRendering)$("[id*="+this._id+"_Selection_Cluster_point_"+t+"]").remove(),0==$("[id*="+this._id+"_Selection_Cluster]").length&&$("[id*="+this._id+"_SelectionCluster_Legend]").remove();else{for(d=0;d<u;d++)$("[id*=_Region_Series_"+c[d].seriesIndex+"_Point_"+c[d].pointIndex+"]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+c[d].seriesIndex+"_Point"+c[d].pointIndex+"]").attr("class","");0==(this.model.enable3D?this.foundClasses("_Region_Series_"+e):this.foundClasses(this.svgObject.id+"_Series"+e)).length&&$("[id*="+this.svgObject.id+"_LegendItemShape]").attr("class","")}else if(this.model.enableCanvasRendering)$("[id*="+this._id+"_Selection_Cluster]").remove(),$("[id*="+this._id+"_SelectionCluster_Legend]").remove(),this.selectedPoint=null;else for(d=0;d<u;d++)$("[id*=_Region_Series_"+c[d].seriesIndex+"_Point_]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+c[d].seriesIndex+"_Point]").attr("class",""),$("#"+this.svgObject.id+"_LegendItemShape"+c[d].seriesIndex).attr("class","");"point"!=s||"none"==this.model.AreaType||o||(a?($("#"+this._id+"_Selection_series"+e+"_point_"+t+"_canvas").remove(),$("[id*=_Region_Series_"+e+"_Point_"+t+"]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+e+"_Point"+t+"]").attr("class",""),0==$("[id*="+this._id+"_Selection_series"+e+"]").length&&$("#"+this._id+"_Selection_Legend"+e+"_canvas").remove(),0==(this.model.enable3D?this.foundClasses("_Region_Series_"+e):this.foundClasses(this.svgObject.id+"_Series"+e)).length&&$("#"+this.svgObject.id+"_LegendItemShape"+e).attr("class","")):($("[id*="+this._id+"_Selection_series"+e+"_point_]").remove(),$("[id*="+this._id+"_Selection_Legend"+e+"]").remove(),$("[id*=_Region_Series_"+e+"_Point_]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+e+"_Point]").attr("class",""),$("#"+this.svgObject.id+"_LegendItemShape"+e).attr("class",""))),"point"!=s&&"cluster"!=s&&("series"!=s||1!=this.model._visibleSeries.length||"none"!=this.model.AreaType||o)||(a?($("#"+this._id+"_Selection_series"+e+"_point_"+t+"_canvas").remove(),$("[id*=_Region_Series_"+e+"_Point_"+t+"]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+e+"_Point"+t+"]").attr("class",""),this.model._visibleSeries.length>1?$("#"+this.svgObject.id+"_LegendItemShape"+e).attr("class",""):$("#"+this.svgObject.id+"_LegendItemShape"+t).attr("class",""),this.model._visibleSeries.length>1?$("#"+this._id+"_Selection_Legend"+e+"_canvas").remove():$("#"+this._id+"_Selection_Legend"+t+"_canvas").remove()):($("[id*="+this._id+"_Selection_series]").remove(),$("[id*="+this._id+"_Selection_Legend]").remove(),$("[id*=_Region_Series_"+e+"_Point_]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+e+"_Point]").attr("class",""),this.model._visibleSeries.length>1?$("[id*="+this.svgObject.id+"_LegendItemShape"+e+"]").attr("class",""):$("[id*="+this.svgObject.id+"_LegendItemShape]").attr("class","")))},createStyle:function(e,t,i,s,a,o,r,l){var n,d,h;e.vmlRendering?((n=document.createElement("style")).id=t+"Segment",d="."+t+"Style"+i+" {filter: alpha(opacity="+(s*=100)+");}."+t+"PathStyle"+i+"  {filter: alpha(opacity="+s+");}",n.setAttribute("type","text/css"),n.styleSheet?n.styleSheet.cssText=d:(h=document.createTextNode(d),n.appendChild(h)),document.getElementsByTagName("head")[0].appendChild(n)):($("<style id="+t+"Segment"+i+" type='text/css'> ."+t+"Style"+i+"{ fill:"+a+";opacity:"+s+";stroke:"+o+";stroke-width:"+r+";stroke-opacity:"+l+"}</style>").appendTo("body"),$("<style id="+t+"Path"+i+" type='text/css'> ."+t+"PathStyle"+i+"{ opacity:"+s+";stroke:"+o+";stroke-width:"+r+";stroke-opacity:"+l+"}</style>").appendTo("body"))},highlightPoint:function(e,t,i,s,a,o,r){for(var l,n,d="_Region_Series_"+t+"_Point_"+i,h=$(this.svgObject).find("[id$="+d+"],[id*="+d+"back],[id*="+d+"front]"),c=0;c<h.length;c++)(l=[]).api=s+a,l.seriesName=a,l.name=$("[id="+h[c].id+"]").attr("name"),l.index=c,n=this.highlightFill(o,e,t,i),($("#"+h[c].id).attr("class")||"").indexOf("Selection")<0&&$("[id="+h[c].id+"]").attr("class",this.dStyle(l,n,e,r,o))},highlightCluster:function(e,t,i,s,a,o,r){var l,n,d,h,c,u,p,m,g,_,f;if("none"!=e.model.AreaType){for(u=[],p=e.model._visibleSeries[t]._visiblePoints[i].x,m=0,g=e.model._visibleSeries.length;m<g;m++)for(f=0;f<e.model._visibleSeries[m]._visiblePoints.length;f++)p==e.model._visibleSeries[m]._visiblePoints[f].x&&(u[u.length]={seriesIndex:m,pointIndex:f});for(_=0;_<u.length;_++){for(a="series"+_,l="_Region_Series_"+u[_].seriesIndex+"_Point_"+u[_].pointIndex,n=$(this.svgObject).find("[id$="+l+"],[id*="+l+"back],[id*="+l+"front]"),f=0;f<n.length;f++)(d=[]).api=s+a,d.seriesName="series"+_,d.name=$("[id="+n[f].id+"]").attr("name"),d.index=f,t=_,o="Highlight"==s?e.model._visibleSeries[_].highlightSettings:e.model._visibleSeries[_].selectionSettings,h=this.highlightFill(o,e,t,i),(c=(c=$("#"+n[f].id).attr("class"))||"").indexOf("Selection"+a+"Style")<0&&c.indexOf("SelectionStyle")<0&&$("[id="+n[f].id+"]").attr("class",this.dStyle(d,h,e,r,o));"Highlight"==s?$("#"+this.svgObject.id+"_LegendItemShape"+_).not("[class*='Selection']").attr("class","Highlight"+a+"Style"+a+"1"):$("#"+this.svgObject.id+"_LegendItemShape"+_).attr("class","Selection"+a+"Style"+a+"1")}}},highlightSeries:function(e,t,i,s,a,o,r,l){var n,d,h,c=i,u=e.model._visibleSeries.length,p="none"==e.model.AreaType&&1==u?"_Region_Series_"+t+"_Point_"+i:"_Region_Series_"+t+"_Point_",m=$(this.svgObject).find("[id*="+p+"]"),g=l?$("#"+this.svgObject.id+"_LegendItemShape"+i).attr("class"):r?$("#"+r.target.id).attr("class"):"";if((g=g||"").indexOf("SelectionStyle")<0||l)for(h=0;h<m.length;h++)(n=[]).api=s+a,n.seriesName=a,n.name=$("[id="+m[h].id+"]").attr("name"),n.index=h,d=this.highlightFill(o,e,t,c,l),(g=(g=$("#"+m[h].id).attr("class"))||"").indexOf("SelectionStyle")<0&&g.indexOf("Selection"+a+"Style")<0&&$("[id="+m[h].id+"]").attr("class",this.dStyle(n,d,e,r,o))},highlight:function(e,t,i,s,a,o,r,l){var n,d,h,c,u,p,m,g,_,f,b,v,x,y,w=i.highlightSettings,S=$.inArray(i,e.model._visibleSeries),C="series"+S,T=!1,L=S,k=r||t.target.id,P=jQuery.uaMatch(navigator.userAgent);!l&&this.isTouch(t)&&"chrome"==P.browser&&(n=t.originalEvent.changedTouches[0],k=document.elementFromPoint(n.clientX,n.clientY).id);var j=(o=o||t.target.parentNode.id).indexOf(this.svgObject.id+"_SeriesGroup_")>=0||o.indexOf(this.svgObject.id+"_Chart3D")>=0,D=($("#"+k).attr("name"),w.pattern.toLowerCase()),A=e.model._visibleSeries.length;if("none"==e.model.AreaType&&1==A&&(e.model.enable3D?L=s?s.legendItem.LegendItem.PointIndex:a.region.Region.PointIndex:(h=s?this.svgObject.id+"_LegendItemShape":this.svgObject.id+"_Series"+S+"_Point",d=(s?this.svgObject.id+"_LegendItemShape"+s.legendItem.LegendItem.PointIndex:k).substr(h.length),L=d)),$("style").each((function(){$(this).html().indexOf(".HighlightStyle"+C)>-1&&(T=!0)})),e.model.enable3D&&!e.vmlRendering)"series"!=w.mode&&!s||("none"!=e.model.AreaType||1==A)&&"none"==e.model.AreaType?"cluster"==w.mode&&"none"!=e.model.AreaType?this.highlightCluster(e,S,a.pointData.pointIndex,"Highlight",C,w,t):(d=a?a.pointData.pointIndex:L,this.highlightPoint(e,S,d,"Highlight",C+d,w,t),$("#"+this.svgObject.id+"_LegendItemShape"+L).not("[class*='Selection']").attr("class","Highlight"+C+d+"Style"+C+d+"1")):(this.highlightSeries(e,S,L,"Highlight",C,w,t,s),$("#"+this.svgObject.id+"_LegendItemShape"+L).not("[class*='Selection']").attr("class","Highlight"+C+"Style"+C+"1"));else{if(w.mode||"none"==this.model.AreaType){(c={}).name="2D",c.index=S,c.api="Highlight",c.color=""!=w.color?w.color:s?"none"==this.model.AreaType?this.model.pointColors[L]:this.model.seriesColors[L]:$("#"+k).attr("fill"),"[object Array]"===Object.prototype.toString.call(c.color)&&(c.color=c.color[1].color);var O="none"==D||e.vmlRendering||""==D?w.color:this.pattern(e,t,c,w),I=l?1:w.opacity,R=l?-1==i.type.toLowerCase().indexOf("hilo")?e.model.highlightColor:O:w.border.color,M=l?3.5:w.border.width,E=l&&-1==i.type.toLowerCase().indexOf("hilo")?.5:1;T||(this.createStyle(e,"Highlight",C,I,O,R,M,E),this.createStyle(e,"HighlightLegend",C,I,O,"transparent",0,E))}if(-1==(N=(N=s?$("#"+this.svgObject.id+"_LegendItemShape"+L).attr("class"):$("#"+k).attr("class"))||"").indexOf("Selection"))if(("series"==w.mode&&!l||s)&&("none"==e.model.AreaType&&1!=A||"none"!=e.model.AreaType))$("[id*="+this.svgObject.id+"_Series"+L+"]").each((function(){if(this.parentNode.id==e.svgObject.id+"_SeriesGroup_"+L||this.parentNode.id==e.svgObject.id+"_symbolGroup_"+L){var t=$(this).attr("class"),i=$(this).attr("name")?"HighlightPathStyle"+C:"HighlightStyle"+C;(void 0==t||-1==t.indexOf("SelectionStyle"))&&t!="SelectionStyle"+C&&t!="SelectionStyleClusterSeries"+S&&t!="SelectionPathStyle"+C&&o.indexOf(e.svgObject.id+"_symbolGroup_"+L)<=0&&$(this).attr("class",i)}})),$("#"+this.svgObject.id+"_LegendItemShape"+L).not("[class*='Selection']").attr("class","HighlightLegendStyle"+C);else if("cluster"!=w.mode||"none"==e.model.AreaType||l){if(!$("#"+k).attr("name")&&k!=e.svgObject.id+"_Series"+L){if(0!=(V=$("#"+k).attr("class")?$("#"+k).attr("class"):"").indexOf("Selection")&&o.indexOf(e.svgObject.id+"_symbolGroup_"+L)<=0&&(a||s)){if(j&&($("#"+k).attr("class","HighlightStyle"+C),"cylinder"==this.model.commonSeriesOptions.columnFacet||"cylinder"==i.columnFacet))for(f=0;f<2;f++)$("#"+k.replace(/2$/,f)).attr("class","HighlightStyle"+C);$("#"+k+"_symbol").attr("class","HighlightStyle"+C),$("#"+this.svgObject.id+"_Series"+S+"_Point"+d).not("[class*='Selection']").attr("class","HighlightStyle"+C),$("#"+this.svgObject.id+"_LegendItemShape"+L).not("[class*='Selection']").attr("class","HighlightLegendStyle"+C)}k.indexOf("symbol")>-1&&$("#"+k).attr("class","HighlightStyle"+C)}void 0!=(y=$("#"+k).attr("name"))&&("candle"==y||y.indexOf("hilo")>=0)&&($("[id$="+k+"]").attr("class","HighlightStyle"+C),$("#"+this.svgObject.id+"_LegendItemShape"+L).not("[class*='Selection']").attr("class","HighlightLegendStyle"+C))}else{if(u=this.svgObject.id+"_Series",p=[],(L=k.match(/(\d+)/g))&&k.toLowerCase().indexOf("point")>0)for(d=parseInt(L[L.length-1]),g=e.model._visibleSeries[S]._visiblePoints[d].xValue,f=0,b=e.model._visibleSeries.length;f<b;f++)for(v=0;v<e.model._visibleSeries[f]._visiblePoints.length;v++)g==(_=e.model._visibleSeries[f]._visiblePoints[v]).xValue&&0==_.isEmpty&&1==_.visible&&(p[p.length]={seriesIndex:f,pointIndex:v});for(x=0;x<p.length;x++){m=p[x].seriesIndex,C="series"+m,(c={}).name="2D",c.api="Highlight"+C,w=e.model._visibleSeries[m].highlightSettings,c.color=""!=w.color?w.color:this.model.seriesColors[m],"[object Array]"===Object.prototype.toString.call(c.color)&&(c.color=c.color[1].color),I=w.opacity,R=w.border.color,M=w.border.width,O="none"==D||e.vmlRendering||""==D?c.color:this.pattern(e,t,c,w),T||(this.createStyle(e,"Highlight",C,I,O,R,M),this.createStyle(e,"HighlightLegend",C,I,O,"transparent",0));var V=$("#"+u+p[x].seriesIndex+"_Point"+p[x].pointIndex).attr("class"),N=($("#"+u+p[x].seriesIndex+"_Point"+p[x].pointIndex+"_symbol").attr("class"),$("#"+u+p[x].seriesIndex+"_Point"+p[x].pointIndex).attr("name")?"HighlightPathStyle"+C:"HighlightStyle"+C);(void 0==V||-1==V.indexOf("SelectionStyleseries"+x))&&V!="SelectionStyleseries"+x&&V!="SelectionPathStyle"+C&&o.indexOf(e.svgObject.id+"_symbolGroup_"+x)<=0&&($("#"+u+p[x].seriesIndex+"_Point"+p[x].pointIndex).attr("class",N),$("#"+u+p[x].seriesIndex+"_Point"+p[x].pointIndex+"_symbol").attr("class",N)),"hidden"!=e.model._visibleSeries[m].visibility&&$("#"+this.svgObject.id+"_LegendItemShape"+m).not("[class*='Selection']").attr("class","HighlightLegendStyle"+C),void 0!=(y=$("#"+k).attr("name"))&&("candle"==y||y.indexOf("hilo")>=0)&&$("[id$="+u+p[x].seriesIndex+"_Point"+p[x].pointIndex+"]").attr("class","HighlightStyle"+C)}}}},dStyle:function(e,t,i,s,a){var o,r,l=ej.Ej3DRender.prototype.polygon3D.prototype,n=a,d=e.api,h=e.seriesName,c=n.opacity;return t=i.colorNameToHex(t),t="XLight"==e.name?l.applyXLight(t,i):"ZLight"==e.name?l.applyZLight(t,i):t,(o={}).name=e.name,o.color=t,o.api=d,t="none"==n.pattern?t:this.pattern(i,s,o,n),document.getElementById(d+"Segment"+h)?(r=document.getElementById(d+"Segment"+h)).innerHTML=r.innerHTML+"."+d+"Style"+h+e.index+" { fill:"+t+";opacity:"+c+" }":((r=document.createElement("style")).id=d+"Segment"+h,r.type="text/css",r.innerHTML="."+d+"Style"+h+e.index+" { fill:"+t+";opacity:"+c+" }",document.getElementsByTagName("head")[0].appendChild(r)),d+"Style"+h+e.index},pattern:function(e,t,i,s){var a,o,r,l,n,d=s,h=i.api,c=d.pattern.toLowerCase(),u=i.color,p=""!=d.opacity?d.opacity:$("#"+t.target.id).attr("opacity"),m="#ffffff";switch(document.getElementById(h+"Def")?o=$("#"+h+"Def")[0]:(a={id:h+"Def"},o=e.svgRenderer.createPattern(a,"svg"),e.svgRenderer.append(o,e.svgObject)),e.model.enable3D&&(m="XLight"==i.name?"#595959":"ZLight"==i.name?"#737373":"#808080"),$("#"+c+"_"+h+"_"+i.name+"_"+i.index).remove(),r=[],c){case"chessboard":return l={id:c+"_"+h+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",x:0,y:0,width:10,height:10},n=e.svgRenderer.createPattern(l,"pattern"),r[0]={x:0,y:0,width:10,height:10,fill:m,opacity:p,name:"rect"},r[1]={x:0,y:0,width:5,height:5,fill:u,opacity:p,name:"rect"},r[2]={x:5,y:5,width:5,height:5,fill:u,opacity:p,name:"rect"},this.loadPattern(e,r,n),o.appendChild(n),"url(#"+c+"_"+h+"_"+i.name+"_"+i.index+")";case"pacman":return l={id:c+"_"+h+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"17.917",height:"18.384"},n=e.svgRenderer.createPattern(l,"pattern"),r[0]={name:"rect",x:0,y:0,width:17.917,height:18.384,transform:"translate(0,0)",fill:m,opacity:p},r[1]={name:"path",d:"M9.081,9.194l5.806-3.08c-0.812-1.496-2.403-3.052-4.291-3.052H8.835C6.138,3.063,3,6.151,3,8.723v1.679   c0,2.572,3.138,5.661,5.835,5.661h1.761c2.085,0,3.835-1.76,4.535-3.514L9.081,9.194z","stroke-width":1,stroke:u,fill:u},this.loadPattern(e,r,n),o.appendChild(n),"url(#"+c+"_"+h+"_"+i.name+"_"+i.index+")";case"crosshatch":return l={id:c+"_"+h+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"8",height:"8"},n=e.svgRenderer.createPattern(l,"pattern"),r[0]={x:0,y:0,width:8,height:8,transform:"translate(0,0)",fill:m,opacity:p,name:"rect"},r[1]={d:"M0 0L8 8ZM8 0L0 8Z","stroke-width":1,stroke:u,name:"path"},this.loadPattern(e,r,n),o.appendChild(n),"url(#"+c+"_"+h+"_"+i.name+"_"+i.index+")";case"dots":return l={id:c+"_"+h+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"6",height:"6"},n=e.svgRenderer.createPattern(l,"pattern"),r[0]={x:0,y:0,width:7,height:7,transform:"translate(0,0)",fill:m,opacity:p,name:"rect"},r[1]={cx:3,cy:3,r:2,"stroke-width":1,fill:u,name:"circle"},this.loadPattern(e,r,n),o.appendChild(n),"url(#"+c+"_"+h+"_"+i.name+"_"+i.index+")";case"diagonalforward":return l={id:c+"_"+h+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"6",height:"6"},n=e.svgRenderer.createPattern(l,"pattern"),r[0]={x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:m,opacity:p,name:"rect"},r[1]={d:"M 3 -3 L 9 3 M 6 6 L 0 0 M 3 9 L -3 3","stroke-width":2,stroke:u,name:"path"},this.loadPattern(e,r,n),o.appendChild(n),"url(#"+c+"_"+h+"_"+i.name+"_"+i.index+")";case"diagonalbackward":return l={id:c+"_"+h+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"6",height:"6"},n=e.svgRenderer.createPattern(l,"pattern"),r[0]={x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:m,opacity:p,name:"rect"},r[1]={d:"M 3 -3 L -3 3 M 0 6 L 6 0 M 9 3 L 3 9","stroke-width":2,stroke:u,name:"path"},this.loadPattern(e,r,n),o.appendChild(n),"url(#"+c+"_"+h+"_"+i.name+"_"+i.index+")";case"grid":return l={id:c+"_"+h+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"6",height:"6"},n=e.svgRenderer.createPattern(l,"pattern"),r[0]={name:"rect",x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:m,opacity:p},r[1]={name:"path",d:"M1 3.5L11 3.5 M0 3.5L11 3.5 M0 7.5L11 7.5 M0 11.5L11 11.5 M5.5 0L5.5 12 M11.5 0L11.5 12Z","stroke-width":1,stroke:u},this.loadPattern(e,r,n),o.appendChild(n),"url(#"+c+"_"+h+"_"+i.name+"_"+i.index+")";case"turquoise":return l={id:c+"_"+h+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"17",height:"17"},n=e.svgRenderer.createPattern(l,"pattern"),r[0]={name:"rect",x:0,y:0,width:17,height:17,transform:"translate(0,0)",fill:m,opacity:p},r[1]={name:"path",d:"M0.5739999999999998,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:u,fill:u},r[2]={name:"path",d:"M11.805,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:u,fill:u},r[3]={name:"path",d:"M6.19,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:u,fill:u},r[4]={name:"path",d:"M11.805,8.217a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:u,fill:u},r[5]={name:"path",d:"M6.19,8.217a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:u,fill:u},r[6]={name:"path",d:"M11.805,13.899a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:u,fill:u},r[7]={name:"path",d:"M6.19,13.899a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:u,fill:u},this.loadPattern(e,r,n),o.appendChild(n),"url(#"+c+"_"+h+"_"+i.name+"_"+i.index+")";case"star":return l={id:c+"_"+h+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"21",height:"21"},n=e.svgRenderer.createPattern(l,"pattern"),r[0]={name:"rect",x:0,y:0,width:21,height:21,transform:"translate(0,0)",fill:m,opacity:p},r[1]={name:"path",d:"M15.913,18.59L10.762 12.842 5.613 18.75 8.291 11.422 0.325 9.91 8.154 8.33 5.337 0.91 10.488 6.658 15.637 0.75 12.959 8.078 20.925 9.59 13.096 11.17 z","stroke-width":1,stroke:u,fill:u},this.loadPattern(e,r,n),o.appendChild(n),"url(#"+c+"_"+h+"_"+i.name+"_"+i.index+")";case"triangle":return l={id:c+"_"+h+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"10",height:"10"},n=e.svgRenderer.createPattern(l,"pattern"),r[0]={name:"rect",x:0,y:0,width:10,height:10,transform:"translate(0,0)",fill:m,opacity:p},r[1]={name:"path",d:"M4.987,0L7.48 4.847 9.974 9.694 4.987 9.694 0 9.694 2.493 4.847 z","stroke-width":1,stroke:u,fill:u},this.loadPattern(e,r,n),o.appendChild(n),"url(#"+c+"_"+h+"_"+i.name+"_"+i.index+")";case"circle":return l={id:c+"_"+h+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"9",height:"9"},n=e.svgRenderer.createPattern(l,"pattern"),r[0]={name:"rect",x:0,y:0,width:9,height:9,transform:"translate(0,0)",fill:m,opacity:p},r[1]={name:"circle",cx:5.125,cy:3.875,r:3.625,"stroke-width":1,fill:u},this.loadPattern(e,r,n),o.appendChild(n),"url(#"+c+"_"+h+"_"+i.name+"_"+i.index+")";case"tile":return l={id:c+"_"+h+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"18",height:"18"},n=e.svgRenderer.createPattern(l,"pattern"),r[0]={name:"rect",x:0,y:0,width:18,height:18,transform:"translate(0,0)",fill:m,opacity:p},r[1]={name:"path",d:"M0,9L0 0 9 0 z","stroke-width":1,stroke:u,fill:u},r[2]={name:"path",d:"M9,9L9 0 18 0 z","stroke-width":1,stroke:u,fill:u},r[3]={name:"path",d:"M0,18L0 9 9 9 z","stroke-width":1,stroke:u,fill:u},r[4]={name:"path",d:"M9,18L9 9 18 9 z","stroke-width":1,stroke:u,fill:u},this.loadPattern(e,r,n),o.appendChild(n),"url(#"+c+"_"+h+"_"+i.name+"_"+i.index+")";case"horizontaldash":return l={id:c+"_"+h+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"12",height:"12"},n=e.svgRenderer.createPattern(l,"pattern"),r[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:m,opacity:p},r[1]={name:"path",d:"M0,1.5 L10 1.5 M0,5.5 L10 5.5 M0,9.5 L10 9.5 z","stroke-width":1,stroke:u,fill:u},this.loadPattern(e,r,n),o.appendChild(n),"url(#"+c+"_"+h+"_"+i.name+"_"+i.index+")";case"verticaldash":return l={id:c+"_"+h+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"12",height:"12"},n=e.svgRenderer.createPattern(l,"pattern"),r[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:m,opacity:p},r[1]={name:"path",d:"M1.5,0 L1.5 10 M5.5,0 L5.5 10 M9.5,0 L9.5 10 z","stroke-width":1,stroke:u,fill:u},this.loadPattern(e,r,n),o.appendChild(n),"url(#"+c+"_"+h+"_"+i.name+"_"+i.index+")";case"rectangle":return l={id:c+"_"+h+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",x:0,y:0,width:12,height:12},n=e.svgRenderer.createPattern(l,"pattern"),r[0]={name:"rect",width:12,height:12,fill:m,opacity:p},r[1]={name:"rect",x:1,y:2,width:4,height:9,fill:u,opacity:p},r[2]={name:"rect",x:7,y:2,width:4,height:9,fill:u,opacity:p},this.loadPattern(e,r,n),o.appendChild(n),"url(#"+c+"_"+h+"_"+i.name+"_"+i.index+")";case"box":return l={id:c+"_"+h+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",x:0,y:0,width:10,height:10},n=e.svgRenderer.createPattern(l,"pattern"),r[0]={name:"rect",width:13,height:13,fill:m,opacity:p},r[1]={name:"rect",x:1.5,y:1.5,width:10,height:9,fill:u,opacity:p},this.loadPattern(e,r,n),o.appendChild(n),"url(#"+c+"_"+h+"_"+i.name+"_"+i.index+")";case"horizontalstripe":return l={id:c+"_"+h+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"10",height:"12"},n=e.svgRenderer.createPattern(l,"pattern"),r[0]={name:"rect",x:0,y:0,width:10,height:12,transform:"translate(0,0)",fill:m,opacity:p},r[1]={name:"path",d:"M0,0.5 L10 0.5 M0,4.5 L10 4.5 M0,8.5 L10 8.5 z","stroke-width":1,stroke:u,fill:u},this.loadPattern(e,r,n),o.appendChild(n),"url(#"+c+"_"+h+"_"+i.name+"_"+i.index+")";case"verticalstripe":return l={id:c+"_"+h+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"12",height:"10"},n=e.svgRenderer.createPattern(l,"pattern"),r[0]={name:"rect",x:0,y:0,width:12,height:10,transform:"translate(0,0)",fill:m,opacity:p},r[1]={name:"path",d:"M0.5,0 L0.5 10 M4.5,0 L4.5 10 M8.5,0 L8.5 10 z","stroke-width":1,stroke:u,fill:u},this.loadPattern(e,r,n),o.appendChild(n),"url(#"+c+"_"+h+"_"+i.name+"_"+i.index+")";case"bubble":return l={id:c+"_"+h+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"20",height:"20"},n=e.svgRenderer.createPattern(l,"pattern"),r[0]={name:"rect",x:0,y:0,width:20,height:20,transform:"translate(0,0)",fill:m,opacity:p},r[1]={name:"circle",cx:5.217,cy:11.325,r:3.429,"stroke-width":1,fill:"#D0A6D1"},r[2]={name:"circle",cx:13.328,cy:6.24,r:4.884,"stroke-width":1,fill:u},r[3]={name:"circle",cx:13.277,cy:14.66,r:3.018,"stroke-width":1,fill:"#D0A6D1"},this.loadPattern(e,r,n),o.appendChild(n),"url(#"+c+"_"+h+"_"+i.name+"_"+i.index+")";case"custom":return"url(#"+d.customPattern+")"}},loadPattern:function(e,t,i,s){for(var a,o=0;o<t.length;o++)s?"rect"==t[o].name?(t[o].stroke="transparent",this.drawRect(t[o],s)):"path"==t[o].name?ej.EjCanvasRender.prototype.drawPath(t[o],s):"circle"==t[o].name&&(t[o].stroke="transparent",ej.EjCanvasRender.prototype.drawCircle(t[o],s)):(a=e.svgRenderer.createPattern(t[o],t[o].name),i.appendChild(a))},drawRect:function(e,t){t.save(),t.beginPath(),t.globalAlpha=e.opacity,t.lineWidth=e["stroke-width"],t.strokeStyle=e.stroke,t.rect(e.x,e.y,e.width,e.height),"none"==e.fill&&(e.fill="transparent"),t.fillStyle=e.fill,e.transform&&t.translate(e.transform[0],e.transform[1]),t.rotate(e.rotate*Math.PI/180),t.fillRect(e.x,e.y,e.width,e.height),t.clip(),t.stroke(),t.restore()},chartRightClick:function(e){return this.chartRightClick=!0,this.isTouch(e)&&this.model.crosshair.visible?(event.preventDefault(),event.stopPropagation(),!1):void 0},chartMouseUpTouch:function(e){var t=this,i=(jQuery.uaMatch(navigator.userAgent),this.calMousePosition(e));return this.model.browserInfo,this.mousemoveX=i.X,this.mousemoveY=i.Y,this.enableTrackBall(),clearTimeout(this.model.doubleTapTimer),this.drag||(this.model.doubleTapTimer=setTimeout((function(){(t.model.tapNum<2||t.model.crosshair.visible)&&t.singleTap(e),t.model.tapNum=0,t.model.cachedX=0,t.model.cachedY=0}),200)),2==t.model.tapNum&&(t.model.doubleTapped=!1),!0},getEvent:function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0]:e},doubleTap:function(e){var t,i=this.getEvent(e),s=i.pageX,a=i.pageY,o=this.model.m_AreaBounds;this.model.cachedX=this.model.cachedX||s,this.model.cachedY=this.model.cachedY||a,(new Date).getTime(),this.mouseDownX>=o.X&&this.mouseDownX<o.X+o.Width&&this.mouseDownY<o.Y+o.Height&&this.mouseDownY>=o.Y&&Math.abs(s-this.model.cachedX)<200&&Math.abs(a-this.model.cachedY)<200&&this.model.tapNum++,2==this.model.tapNum&&(this.model.doubleTapped=!0,this.multiSelectMouseDown(e),this.drag=this.model.zooming.enable||this._isMultiSelect,(t=this.model.trackerElement)&&($(t).finish(),t=null))},singleTap:function(e){var t,i,s,a,o,r,l,n,d=this,h=e.target.id,c=(this.model._visibleSeries,this.getEvent(e)),u=c.pageX,p=c.pageY;if(!this.panning&&!this.isZoomButtonHovered(e.target)){for(this.cancelEvent(e),d.model.trackerElement&&($.finish?$(d.model.trackerElement).finish():$(d.model.trackerElement).stop(!0,!0),d.model.trackerElement=null),$(".ejTooltip"+this._id).remove(),(!d.model.crosshair.visible||"cartesianaxes"!=d.model.AreaType)&&Math.abs(u-d.model.cachedX)<10&&Math.abs(p-d.model.cachedY)<10?this.chartInteractiveBehavior(e):(d.model.element=$(document).find("#"+this.svgObject.id+"_CrosshairGroup"),d.model.trackerElement=$(d.model.element).children().not(".Tracker").not("defs"),$(d.model.trackerElement).length>0&&$(d.model.trackerElement).fadeOut(1e3,(function(){$(d.model.element).find('[id*="trackSymbol"]').attr("visibility","hidden"),d.model.trackerElement=null,d._removeHighlight()})),i=$(document).find('[id*="_trackball_grouping_tooltip"]'),$(i).length>0&&$(i).fadeOut(1e3,(function(){$(i).remove()}))),this.axisTooltip(e,h),this.showTitleTooltip(e,h),this.model.enableCanvasRendering&&(this._textTooltip(e,this.model.xAxisLabelRegions),this._textTooltip(e,this.model.yAxisLabelRegions)),s=0,a=this.model.series.length;s<a;s++)r=(o=this.model.series[s]).marker.dataLabel,!o._enableSmartLabels||this.model.enable3D||r.enableWrap||(l=r.template,n=r.font,"none"==this.model.AreaType&&ej.util.isNullOrUndefined(l)&&this.datalabelTooltip(e,s,n));$(".ejTooltip"+this._id).length>0&&(t=$(".ejTooltip"+this._id)),$(".tooltipDiv"+this._id).length>0&&(t=$(".tooltipDiv"+this._id)),window.clearTimeout(d.model.timer),d.model.trackerElement=t,d.model.timer=setTimeout((function(){var e,t=d.model.prevPoint;d.model.trackerElement?d.model.trackerElement.fadeOut(500,(function(){if(t){if("polaraxes"!=d.model.AreaType){var e=ej.EjSvgRender.utils._getPoint(t.point,t.series);d.drawTrackerSymbol(t.series,t.seriesIndex,t.pointIndex,null,e)}$("#canvas_trackSymbol").remove()}$("[id*=_TrackSymbol]").remove()})):(t&&"polaraxes"!=d.model.AreaType&&(e=ej.EjSvgRender.utils._getPoint(t.point,t.series),d.drawTrackerSymbol(t.series,t.seriesIndex,t.pointIndex,null,e)),d.model.crosshair.visible||($("#canvas_trackSymbol").remove(),$("[id*=_TrackSymbol]").remove()))}),1200)}e.originalEvent.pointerType||this.panning||!(this.model.selectionEnable||this.isDevice()&&this._isSafari)||this._doClick(e)},_getPieOfPiePoint:function(e,t,i){for(var s,a=i?t.points:t._visiblePoints,o=a.length,r=0;r<o;r++)e==a[r].actualIndex&&(s=a[r]);return s},tooltip:function(e,t){var i,s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j=!1,D=this.GetSeriesPoint(t);if($("#canvas_trackSymbol").remove(),ej.util.isNullOrUndefined(D)&&!this.dragPoint&&$("#"+e.svgObject.id+"_TrackToolTip").remove(),this.model.crosshair.visible||"cartesianaxes"!=this.model.AreaType)$("#"+this.svgObject.id).find("#"+this.svgObject.id+"_TrackToolTip").hide(),ej.util.isNullOrUndefined(D)&&(clearTimeout(this.removeTooltip),e.removeTooltip=setTimeout((function(){$(".tooltipDiv"+e._id).remove()}),1e3));else{for(var A,O,I,R=this.model.indicators,M=this.model._visibleSeries,E=M.length,V=0,N=0;N<E;N++)for(I=M[N].trendlines,O=0;O<I.length;O++)"visible"!=I[O].visibility.toLowerCase()||I[O].isNull||"boxandwhisker"==this.model.series[0].type||(I[O]._visiblePoints=I[O].points,M=M.concat(I[O]));for(s=0;s<R.length&&R[s].segment;s++)(A=R[s]).visible&&(M=M.concat(A.segment));for(a=M.length,L=0;L<a;L++)U=L,W=(i=M[L]).type.toLowerCase(),"visible"!=i.visibility.toLowerCase()||"scatter"===W||"bubble"===W||"column"===W||-1!=W.indexOf("bar")||"stackingcolumn"===W||"stackingcolumn100"===W||i._hiloTypes?ej.util.isNullOrUndefined(D)&&!this.dragPoint&&$(".tooltipDiv"+this._id).hasClass(this.svgObject.id)&&(clearTimeout(this.removeTooltip),e.removeTooltip=setTimeout((function(){$(".tooltipDiv"+e._id).remove()}),1e3)):($("#"+e.svgObject.id+"_TrackToolTipTemplate_"+U).remove(),$(".tooltipDiv"+this._id).hasClass(e.svgObject.id)||$(".tooltipDiv"+this._id).remove(),$("#"+e.svgObject.id).find("#"+e.svgObject.id+"_TrackSymbol_"+U).remove(),$("#"+e.svgObject.id+"_TrackSymbol_"+U).remove(),o=[],r=[],b=null,l=e.getClosesPointXY(r,o,i,e.mousemoveX,e.mousemoveY,t),ej.util.isNullOrUndefined(l.point)&&(!this.model.prevPoint||this.model.prevPoint.seriesIndex&&!this.model.series[this.model.prevPoint.seriesIndex].tooltip.visible)&&!this.dragPoint&&$(".tooltipDiv"+this._id).hasClass(this.svgObject.id)&&(clearTimeout(this.removeTooltip),e.removeTooltip=setTimeout((function(){$(".tooltipDiv"+e._id).remove()}),1e3)),l.point&&("boxandwhisker"==i.type.toLowerCase()?(V++,b=l.outlierPosition):b=ej.EjSvgRender.utils._getPoint(l.point,i),(n=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={location:{x:this.mousemoveX,y:this.mousemoveX},region:{SeriesIndex:L,Region:{PointIndex:l.index}}},e._trigger("pointRegionMouseMove",n)),(d=this.model.prevPoint)&&d.seriesIndex==L&&!l.point&&("boxandwhisker"==i.type.toLowerCase()?(V++,h=d.outlierPosition):h=ej.EjSvgRender.utils._getPoint(d.point,d.series),e.model.enableCanvasRendering||e.drawTrackerSymbol(d.series,d.seriesIndex,d.pointIndex,null,h),this.model.prevPoint=null),i.isIndicator||i.isTrendLine||i.selectionSettings.enable||i.highlightSettings.enable||!i.marker.visible&&"boxandwhisker"!=i.type.toLowerCase()||!l.point||n.cancel||(ej.util.isNullOrUndefined(l.point.marker)||ej.util.isNullOrUndefined(l.point.marker.visible)||l.point.marker&&l.point.marker.visible?e.drawTrackerSymbol(i,U,l.index,!1,b):"boxandwhisker"!=i.type||l.point.marker||e.drawTrackerSymbol(i,U,l.index,!1,b),d&&l.point!=d.point&&("boxandwhisker"==i.type.toLowerCase()?(V++,c=d.outlierPosition):c=ej.EjSvgRender.utils._getPoint(d.point,d.series),e.drawTrackerSymbol(d.series,d.seriesIndex,d.pointIndex,null,c,X,V)),(ej.util.isNullOrUndefined(l.point.marker)||ej.util.isNullOrUndefined(l.point.marker.visible)||l.point.marker&&l.point.marker.visible)&&(this.model.prevPoint={point:l.point,pointIndex:l.index,series:i,seriesIndex:U,outlierPosition:l.outlierPosition})),i.tooltip.visible&&l.point&&(!D||L>D.region.SeriesIndex&&!(i._zOrder<this.model._visibleSeries[D.region.SeriesIndex]._zOrder))&&(v=ej.EjSvgRender.utils._getTransform(i.xAxis,i.yAxis,e.model.requireInvertedAxes),b.X+v.x<=v.x+v.width&&(b.X+v.x>=v.x||0==b.X)&&Math.abs(b.Y-(v.y+v.height))<=v.y+v.height&&(Math.abs(b.Y-(v.y+v.height))>=v.y||0==b.Y)&&(n.cancel||(0==$(e.svgObject).find("#"+e.svgObject.id+"_TrackToolTip").length&&(u={id:e.svgObject.id+"_TrackToolTip",transform:"translate("+v.x+","+v.y+")"},e.gTransToolEle=e.svgRenderer.createGroup(u)),e.svgRenderer._setAttr($(e.svgObject).find("#"+e.svgObject.id+"_TrackToolTip"),{transform:"translate("+v.x+","+v.y+")",visibility:"visible"}),ej.util.isNullOrUndefined(i.tooltip.template)?(j=!0,$(".tooltipDiv"+this._id).remove(),e.displayShowTooltip(b,l.point,i,l.index)):(j=!0,$("#"+e.svgObject.id).find("#"+e.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),p={SeriesIndex:U,Region:{PointIndex:l.index}},e.createTooltip(p,t,i))))))}if($(".tooltipDiv"+this._id).hasClass(this.svgObject.id)||$(".tooltipDiv"+this._id).remove(),D&&ej.util.isNullOrUndefined(D.region.isStripLine)){if(("pie"==(H=this.model._visibleSeries[D.region.SeriesIndex].type.toLowerCase())||"pieofpie"==H||"doughnut"==H)&&this.model._visibleSeries[D.region.SeriesIndex].explode&&(this.model._visibleSeries[D.region.SeriesIndex].enableAnimation?(this.model.AnimationComplete||this.model.enableCanvasRendering)&&this.pieExplosion(D,t):this.model.enable3D||this.pieExplosion(D,t)),D.region.isIndicator)g=(B=this.model.indicators[D.region.SeriesIndex]).segment[0]._visiblePoints[D.region.Region.PointIndex],B.fill=B.segment[0].fill;else if("pieofpie"!=(B=this.model._visibleSeries[D.region.SeriesIndex]).type||this.model.enable3D){if("pie"!=B.type&&"doughnut"!=B.type||this.model.enable3D)g=this.model._visibleSeries[D.region.SeriesIndex]._visiblePoints[D.region.Region.PointIndex];else for(m=0;m<B._visiblePoints.length;m++)if(D.region.Region.length==B._visiblePoints.length){if(D.region.Region.PointIndex==B._visiblePoints[m].actualIndex){g=this.model._visibleSeries[D.region.SeriesIndex]._visiblePoints[m];break}}else if(D.region.Region.Index==m){g=this.model._visibleSeries[D.region.SeriesIndex]._visiblePoints[m];break}}else g=this._getPieOfPiePoint(D.region.Region.PointIndex,B);if(g&&"polaraxes"==this.model.AreaType){for(L=0;L<this.model._visibleSeries.length;L++)$("[id*=_TrackSymbol]").remove(),_="canvas_trackSymbol_"+L,$("#"+this._id).find("[id*="+_+"]").remove();if(f="polaraxes"!=this.model.AreaType?ej.EjSvgRender.utils._getPoint(g,B):ej.EjSvgRender.utils.TransformToVisible(B,g.xValue,g.y,this),S=this.model.prevPoint,!ej.util.isNullOrUndefined(S)&&S!=D&&B.marker.visible){var B=this.model._visibleSeries[S.region.SeriesIndex],F=this.model._visibleSeries[S.region.SeriesIndex]._visiblePoints[S.region.Region.PointIndex],z=ej.EjSvgRender.utils.TransformToVisible(B,F.xValue,F.y,this);this.drawTrackerSymbol(B,S.region.SeriesIndex,S.region.Region.PointIndex,null,z),this.model.prevPoint=null}B.marker.visible&&"column"!=B.drawType&&"rangecolumn"!=B.drawType.toLowerCase()&&(this.drawTrackerSymbol(B,D.region.SeriesIndex,D.region.Region.PointIndex,!0,f),this.model.prevPoint=D)}B.tooltip.visible&&!j&&"visible"==B.visibility.toLowerCase()&&(ej.util.isNullOrUndefined(B.tooltip.template)?("cartesianaxes"==this.model.AreaType?(v=ej.EjSvgRender.utils._getTransform(B.xAxis,B.yAxis,this.model.requireInvertedAxes),0==$(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip").length&&(x={id:this.svgObject.id+"_TrackToolTip",transform:"translate("+v.x+","+v.y+")"},this.gTransToolEle=this.svgRenderer.createGroup(x)),this.svgRenderer._setAttr($(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip"),{transform:"translate("+v.x+","+v.y+")"}),$("#"+this.svgObject.id+"_TrackToolTip").attr("visibility","visible"),b={X:D.location.x-this.model.m_AreaBounds.X,Y:Math.abs(D.location.y-this.model.m_AreaBounds.Y)}):(0==$(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip").length&&(y={id:this.svgObject.id+"_TrackToolTip"},this.gTransToolEle=this.svgRenderer.createGroup(y)),b={X:D.location.x,Y:Math.abs(D.location.y)}),$(".tooltipDiv"+this._id).remove(),this.displayShowTooltip(b,g,B,D.region.Region.PointIndex)):($("#"+e.svgObject.id).find("#"+e.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),this.createTooltip(D.region,t))),(w=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data=D,this._trigger("pointRegionMouseMove",w)}else if(ej.util.isNullOrUndefined(this.model.prevPoint)||"polaraxes"!=this.model.AreaType){if(!ej.util.isNullOrUndefined(this.model.explodeValue)){var Y,X,W=this.model.series[this.model.explodeValue.SeriesIndex].type.toLowerCase(),H=(B=this.model._visibleSeries[this.model.explodeValue.SeriesIndex],new ej.seriesTypes[W]),U=(B.labelPosition.toLowerCase(),this.model.explodeValue.SeriesIndex),G=this.model._isPieOfPie?this._getPieOfPiePoint(this.model.explodeValue.PointIndex,B):B._visiblePoints[this.model.explodeValue.Index],q=H._calculateArcData(this,this.model.explodeValue.PointIndex,G,B,U,this.model.explodeValue.PieSeriesIndex);for(this.model.enableCanvasRendering&&(this.model.series[U].explodeIndex=null,C=document.getElementById(this.svgObject.id).getClientRects()[0],this.svgRenderer.ctx.clearRect(C.left,C.top,C.width,C.height),$("#"+this._id).ejChart("redraw")),X=this.svgObject.id+"_SeriesGroup_"+U,Y=1==this.model.explodeValue.PieSeriesIndex?$(this.gSeriesEle).children("#"+X)[1]:$(this.gSeriesEle).children("#"+X)[0],T=$(Y).children(),L=0;L<T.length;L++)if(k=T[L],P=this.svgRenderer._getAttrVal($(k)[0],"data-pointIndex"),parseInt(P)==this.model.explodeValue.PointIndex){this.svgRenderer._setAttr($(k),{d:q.Direction});break}H.drawDataLabelAcc(this,B,this.model.explodeValue.Index,G,U,this.model.explodeValue.PieSeriesIndex),this.model.explodeValue=null,this.model.explode=!1}}else S=this.model.prevPoint,B=this.model._visibleSeries[S.region.SeriesIndex],g=this.model._visibleSeries[S.region.SeriesIndex]._visiblePoints[S.region.Region.PointIndex],f=ej.EjSvgRender.utils.TransformToVisible(B,g.xValue,g.y,this),this.drawTrackerSymbol(B,S.region.SeriesIndex,S.region.Region.PointIndex,null,f),this.model.prevPoint=null},chartTrackball:function(e,t,i){var s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k;this.crosshairLinePath=[];var P,j,D,A,O,I,R,M,E,V,N,B,F,z,Y,X,W,H,U,G,q,Z=e.model.requireInvertedAxes,Q=[],K=[],J=this.model.indicators,ee=this.model._visibleSeries,te=!1,ie=[],se=[],ae=[],oe=[],re=this.model.enableCanvasRendering,le=0,ne=0,de=0,he=$("#"+this._id).offset(),ce=[],ue=[],pe=[],me=this.model.crosshair.trackballTooltipSettings.mode.toLowerCase(),ge=e._id+"_trackball_grouping_tooltip",_e=this.model.locale,fe=0,be=0;if(!this.model.enable3D&&this.model.crosshair.visible&&"trackball"==this.model.crosshair.type.toLowerCase()){for(0==$("#"+this.svgObject.id+"_CrosshairGroup").length?(s={id:e.svgObject.id+"_CrosshairGroup",visibility:"visible"},re?(s.position="absolute",e.svgRenderer.drawCrosshairLine(s,"#chartContainer_"+this._id)):(e.gTrackball=e.svgRenderer.createGroup(s),e.svgRenderer.append(e.gTrackball,e.svgObject))):e.model.trackerElement&&($.finish?$(e.model.trackerElement).finish():$(e.model.trackerElement).stop(!0,!0),e.model.trackerElement=null),this.model.enableCanvasRendering||($("[class*=HighlightStyle]").attr("class",""),$("[class*=HighlightLegendStyle]").attr("class",""),$("[class*=HighlightLegendPathStyle]").attr("class",""),$("[class*=HighlightPathStyle]").attr("class",""),$("[class*=Highlightseries]").attr("class",""),$("[id*="+this._id+"_Highlight_]").remove()),$("#secondCanvas").remove(),$("#"+this._id).find('[id*="_gTooltip_"]').remove(),$("#"+ge).children().remove(),$(document).find('[id*="TrackGroupToolTipTemplate"]').remove(),$(document).find('[id*="TrackToolTipTemplate"]').remove(),re&&$("#"+this._id).find('[id*="canvas_trackSymbol"]').css("visibility","hidden"),a=ee.length,o=0;o<J.length&&J[o].segment;o++)ee=ee.concat(J[o].segment);for(N=ee.length,k=0;k<N;k++)if("visible"==ee[k].visibility&&ee[k].enableTrackTooltip&&(O=k,I=[],R=Z?e.mousemoveY+ee[k].xAxis.plotOffset>ee[k].xAxis.y&&e.mousemoveY<ee[k].xAxis.y+ee[k].xAxis.height+ee[k].xAxis.plotOffset:e.mousemoveX+ee[k].xAxis.plotOffset>ee[k].xAxis.x&&e.mousemoveX<ee[k].xAxis.x+ee[k].xAxis.width+ee[k].xAxis.plotOffset,re&&(this.canvasX=ee[k].xAxis.x),M=e.getClosestPointX(I,ee[k],e.mousemoveX,e.mousemoveY),E=ee[k].xAxis.visibleRange,""!=M.point&&(n="boxandwhisker"==ee[k].type.toLowerCase()?M.point[0].boxPlotLocation[0].YValues:M.point[0].YValues[0],""!=M.point&&(n>=ee[k].yAxis.visibleRange.min||"grouping"==me)&&M.point[0].xValue>=E.min&&M.point[0].xValue<=E.max&&R)))for(d=0;d<M.point.length;d++)M.point[d].visible&&(ee[k].isIndicator||le++);for(k=0;k<N;k++){if(O=k,r=[],"visible"==(D=ee[k]).visibility.toLowerCase()&&D.enableTrackTooltip)if(I=[],R=Z?e.mousemoveY+ee[k].xAxis.plotOffset>D.xAxis.y&&e.mousemoveY<D.xAxis.y+D.xAxis.height+ee[k].xAxis.plotOffset:e.mousemoveX+ee[k].xAxis.plotOffset>D.xAxis.x&&e.mousemoveX<D.xAxis.x+D.xAxis.width+ee[k].xAxis.plotOffset,re&&(this.canvasX=D.xAxis.x),M=e.getClosestPointX(I,D,e.mousemoveX,e.mousemoveY),E=D.xAxis.visibleRange,""!=M.point){if(((n="boxandwhisker"==ee[k].type.toLowerCase()?M.point[0].boxPlotValues.midvalue:M.point[0].YValues[0])>=ee[k].yAxis.visibleRange.min||"grouping"==me)&&M.point[0].xValue>=E.min&&M.point[0].xValue<=E.max)if(R)for(j=M.point.length,d=0;d<j;d++)if(M.point[d].visible){if(!D.isIndicator){if("boxandwhisker"==D.type)for(fe++,h={xValue:M.point[d].xValue,YValues:M.point[d].boxPlotLocation[0].YValues},(P=ej.EjSvgRender.utils._getPoint(h,D)).YValues=h.YValues,r.push(P),c=0;c<M.point[d].boxPlotLocation.length;c++)1==M.point[d].boxPlotLocation[c].outlier&&(l={X:M.point[d].boxPlotLocation[c].X,Y:M.point[d].boxPlotLocation[c].Y,YValues:M.point[d].boxPlotLocation[c].YValues,outlier:M.point[d].boxPlotLocation[c].outlier},r.push(l));else P=ej.EjSvgRender.utils._getPoint(M.point[d],D);if(this.model.financial=1==a&&1==j&&D._hiloTypes||!1,Z)if(this.model.financial?(u=P.X>P.low?P.X:P.low,p=P.X<P.low?P.X:P.low,A="M "+D.yAxis.x+" "+(P.Y+D.xAxis.y)+" L "+(p+D.yAxis.x)+" "+(P.Y+D.xAxis.y)+" M "+(D.yAxis.x+u)+" "+(P.Y+D.xAxis.y)+" L "+(D.yAxis.x+D.yAxis.width)+" "+(P.Y+D.xAxis.y)):A="M "+D.yAxis.x+" "+(P.Y+D.xAxis.y)+" L "+(D.yAxis.x+D.yAxis.width)+" "+(P.Y+D.xAxis.y),"boxandwhisker"==D.type)for(y=0;y<r.length;y++)se.push({X:r[y].X,Y:r[y].Y,YValues:r[y].YValues,outlier:r[y].outlier});else se.push({X:M.point[d].location.X+D.yAxis.x,Y:M.point[d].location.Y+D.xAxis.y});else if(this.model.financial?(u=P.Y<P.low?P.Y:P.low,p=P.Y>P.low?P.Y:P.low,A="M "+(P.X+D.xAxis.x)+" "+e.model.m_AreaBounds.Y+" L "+(P.X+D.xAxis.x)+" "+(u+D.yAxis.y)+" M "+(P.X+D.xAxis.x)+" "+(p+D.yAxis.y)+" L "+(P.X+D.xAxis.x)+" "+(e.model.m_AreaBounds.Y+e.model.m_AreaBounds.Height)):A="M "+(P.X+D.xAxis.x)+" "+e.model.m_AreaBounds.Y+" L "+(P.X+D.xAxis.x)+" "+(e.model.m_AreaBounds.Y+e.model.m_AreaBounds.Height),"boxandwhisker"==D.type)for(y=0;y<r.length;y++)se.push({X:r[y].X,Y:r[y].Y,YValues:r[y].YValues,outlier:r[y].outlier});else se.push({X:M.point[d].location.X+D.xAxis.x,Y:M.point[d].location.Y+D.yAxis.y});if(he.left,he.top,V={id:e.svgObject.id+"_Tracker",fill:"none","stroke-width":e.model.crosshair.line.width,"clip-path":"url(#"+e.svgObject.id+"_ChartAreaClipRect)",stroke:e.model.crosshair.line.color,d:A},this.crosshairLinePath.push(V),0==$("#"+e.svgObject.id+"_Tracker").length?(re?(g=this.svgRenderer.createCrosshairCanvas()).ctx=g.getContext("2d"):(g=this.svgRenderer,m=e.gTrackball),e.svgRenderer.drawPath.call(g,V,m),te=!0):(te=!0,ej.util.isNullOrUndefined(this._closest)?e.svgRenderer._setAttr($(e.svgObject).find("#"+e.svgObject.id+"_Tracker"),{d:A,visibility:"visible"}):this._beforeMin?this._closest>=M.point[d].xValue&&e.svgRenderer._setAttr($(e.svgObject).find("#"+e.svgObject.id+"_Tracker"),{d:A,visibility:"visible"}):this._afterMax&&this._closest<=M.point[d].xValue&&e.svgRenderer._setAttr($(e.svgObject).find("#"+e.svgObject.id+"_Tracker"),{d:A,visibility:"visible"}),$("#"+e.svgObject.id+"_Tracker").css({display:"block"}),re&&((g=this.svgRenderer.createCrosshairCanvas()).ctx=g.getContext("2d"),e.svgRenderer.drawPath.call(g,V,e.gTrackball)),$("#"+this._id).find('[id*="canvas_Tracker"]').css("visibility","visible")),z={transform:"translate("+(F=ej.EjSvgRender.utils._getTransform(D.xAxis,D.yAxis,Z)).x+","+F.y+")",id:e.svgObject.id+"_TrackToolTip_"+O},e.gTransToolEle=e.svgRenderer.createGroup(z),Y=this.model.prePoint,ej.util.isNullOrUndefined(Y)||Y.pointIndex[0]!=M.index[0]||!$("#"+e.svgObject.id+"_trackSymbol_"+O+"_"+M.index)){if(ej.util.isNullOrUndefined(X)&&(e.gTransToolEle&&e.gTrackerEle&&($(this.svgObject).find('[id*="_TrackSymbol_"],[id*="_TrackToolTip"]').attr("visibility","hidden"),$("#"+this._id).find('[id*="canvas_trackSymbol"]').css("visibility","hidden")),X=M),_=D.type.toLowerCase(),f=0,(!D._hiloTypes||_.indexOf("rangearea")>-1)&&("grouping"!=me||"grouping"==me&&_.indexOf("column")<0&&_.indexOf("bar")<0))if("boxandwhisker"==D.type)for(b=0;b<r.length;b++)e.drawTrackerSymbol(D,O,M.index[d],!0,r[b],null,f),f++;else e.drawTrackerSymbol(D,O,M.index[d],!0,P);if(D.trackerRemoved=!0,e.model.crosshair.trackballTooltipSettings.tooltipTemplate)"grouping"===me?(M=e.getClosestPointX(I,D,e.mousemoveX,e.mousemoveY),we=this.getSeriesColor(M.point[d],O,D),K.push({seriesColor:we}),j=M.point.length,(xe=this.getTooltipFormat(M.point[d],D,O,M.index[d],Se)).text="&nbsp"+xe.text+"&nbsp",ce.push({text:xe.text,seriesIndex:O,pointIndex:M.index[d]}),Q.push({point:M.point[d]}),ie.push({series:D}),(D._hiloTypes&&"rangearea"!=_||_.indexOf("column")>-1||_.indexOf("bar")>-1)&&(B={region:{Region:{PointIndex:M.index[d]},SeriesIndex:O}},this.highlightStart(i,B,this._id+"_svg_SeriesGroup_"+O,this._id+"_svg_Series"+O+"_Point"+M.index[d],!0)),le===ce.length&&(G=document.getElementById(this.svgRenderer.svgObj.id).getClientRects()[0],e.displayGroupingTemplate(H,U,P,Q,ie,O,M.index[d],G,K))):(G=document.getElementById(this.svgRenderer.svgObj.id).getClientRects()[0],e.displayTemplateTooltip(H,U,P,M.point[d],D,O,M.index[d],G));else if(W=se.length-1,be=r.length,"grouping"==me){var ve,xe,ye,we=this.getSeriesColor(M.point[d],O,D),Se=D.tooltip.format,Ce=[];if("boxandwhisker"==D.type)for(y=0;y<be;y++)ye=this.getTooltipFormat(M.point[d],D,O,M.index[d],Se,r[y]),Ce.push(ye),xe=null;else xe=this.getTooltipFormat(M.point[d],D,O,M.index[d],Se);if(v=D.tooltip.font&&D.tooltip.font.color?D.tooltip.font.color:we,Pe=D.tooltip.font?$.extend(!1,D.font,{},D.tooltip.font):D.font,"object"==typeof v&&(v=we[1].color),"boxandwhisker"==D.type)for(x=0;x<Ce.length;x++)ce.push({text:Ce[x].text,seriesIndex:O,pointIndex:M.index[d]});else xe.text="&nbsp"+xe.text+"&nbsp",ce.push({text:xe.text,seriesIndex:O,pointIndex:M.index[d]});if((D._hiloTypes&&"rangearea"!=_||_.indexOf("column")>-1||_.indexOf("bar")>-1)&&(B={region:{Region:{PointIndex:M.index[d]},SeriesIndex:O}},this.highlightStart(i,B,this._id+"_svg_SeriesGroup_"+O,this._id+"_svg_Series"+O+"_Point"+M.index[d],!0)),"boxandwhisker"==D.type)for(x=0;x<Ce.length;x++)pe.push(e._id+"_grouping_text_"+O+"_"+M.index[d]+x);else pe.push(e._id+"_grouping_text_"+O+"_"+M.index[d]);if(ve={color:v,"font-size":Pe.size,"font-family":Pe.fontFamily,"font-style":Pe.fontStyle,"font-weight":Pe.fontWeight},"boxandwhisker"==D.type)for(x=0;x<Ce.length;x++)ue.push(ve);else ue.push(ve);(fe==le&&"boxandwhisker"==D.type||le==ce.length&&"boxandwhisker"!=D.type)&&e.displayTooltip(!0,{point:M.point[d],series:D,textCollection:ce,textOptionsCollection:ue,groupingTextId:pe})}else{var Te,Le=this.getTooltipFormat(M.point[d],D,O,k,D.tooltip.format,k),ke=D.tooltip,Pe=ke.font?$.extend(!1,D.font,{},ke.font):D.font,je=ej.EjSvgRender.utils._measureText(Le.text,null,Pe),De=(ne=ne>(de=Z?je.height:je.width)?ne:de,Math.ceil(Le.text.toString().split("<br/>").length/2));if(this.model.tooltipPadding=Number(Pe.size.toString().replace(/px/i,""))/3,Te=this.model.tooltipPadding+2*D.tooltip.border.width,Z)ae.push({Start:se[W].X-Te-je.width/2,End:se[W].X+Te+je.width/2}),oe.push({Point:se[W],ClosestPoint:M.point[d],Series:D,ClosestPointIndex:M.index[d],Tgap:0,StEnd:ae[W],TextArea:je,ReqInvertAxis:Z});else if("boxandwhisker"==D.type)for(y=0;y<be;y++)ae.push({Start:r[y].Y-Te*De-je.height/2,End:r[y].Y+Te*De+je.height/2}),oe.push({Point:r[y],ClosestPoint:M.point[d],Series:D,ClosestPointIndex:M.index[d],Tgap:0,StEnd:ae[y],TextArea:je,ReqInvertAxis:Z});else ae.push({Start:se[W].Y-Te*De-je.height/2,End:se[W].Y+Te*De+je.height/2}),oe.push({Point:se[W],ClosestPoint:M.point[d],Series:D,ClosestPointIndex:M.index[d],Tgap:0,StEnd:ae[W],TextArea:je,ReqInvertAxis:Z});if("boxandwhisker"==D.type&&fe==le)for(ne+=2*Te,oe=Z?oe.sort((function(e,t){return e.Point.X-t.Point.X})):oe.sort((function(e,t){return e.Point.Y-t.Point.Y})),this.SmartTooltipPosition(oe),w=oe.length,e.displayTooltip(!1,oe,ne),k=0;k<w;k++)O=$.inArray(oe[k].Series,this.model._visibleSeries),oe[k].Series._hiloTypes&&(B={region:{Region:{PointIndex:oe[k].ClosestPointIndex},SeriesIndex:O}},this.highlightStart(i,B,this._id+"_svg_SeriesGroup_"+O,this._id+"_svg_Series"+O+"_Point"+oe[k].ClosestPointIndex,!0));else if(oe.length==le&&"boxandwhisker"!=D.type)for(ne+=2*Te,oe=Z?oe.sort((function(e,t){return e.Point.X-t.Point.X})):oe.sort((function(e,t){return e.Point.Y-t.Point.Y})),this.SmartTooltipPosition(oe),w=oe.length,e.displayTooltip(!1,oe,ne),k=0;k<w;k++)O=$.inArray(oe[k].Series,this.model._visibleSeries),oe[k].Series._hiloTypes&&(B={region:{Region:{PointIndex:oe[k].ClosestPointIndex},SeriesIndex:O}},this.highlightStart(i,B,this._id+"_svg_SeriesGroup_"+O,this._id+"_svg_Series"+O+"_Point"+oe[k].ClosestPointIndex,!0))}}else q=$(this.svgObject).find('[id*="_TrackSymbol_"],[id*="_TrackToolTip"]'),this.svgRenderer._setAttr($(q),{visibility:"visible"}),$("#"+this._id).find('[id*="canvas_trackSymbol"]').css("visibility","visible"),q=$(this.svgObject).find('[id*="_TrackToolTip"]').children(),this.svgRenderer._setAttr($(q),{visibility:"visible"}),q=$(this.svgObject).find('[id*="_trackSymbol_"]'),this.svgRenderer._setAttr($(q),{visibility:"visible"}),$(e.svgObject).find('[id*="_TrackAxisToolTip"]').attr("visibility","visible"),null!=this.model.crosshair.trackballTooltipSettings.tooltipTemplate&&("grouping"===me?(q=$(document).find('[id*="TrackGroupToolTipTemplate"]'),this.svgRenderer._setAttr($(q),{visibility:"visible"})):(q=$(document).find('[id*="_TrackToolTipTemplate_"]'),this.svgRenderer._setAttr($(q),{visibility:"visible"})))}}else $("#"+this.svgObject.id+"_TrackSymbol_"+O).remove();else this._removeTrackBall()}else te||$(e.svgObject).find('[id*="_Tracker"]').remove(),$("#"+e.svgObject.id+"_TrackSymbol_"+k),S=this.svgObject.id+"_TrackSymbol_"+O,$("#"+this._id).find("[id*="+S+"]").remove(),$("#"+e._id).find("[id*=_canvas_trackSymbol_"+k+"]").css("visibility","hidden"),this.model.enableCanvasRendering||($("[class*=HighlightStyle]").attr("class",""),$("[class*=HighlightLegendStyle]").attr("class",""),$("[class*=HighlightLegendPathStyle]").attr("class",""),$("[class*=HighlightPathStyle]").attr("class",""),$("[class*=Highlightseries]").attr("class",""),$("[id*="+this._id+"_Highlight_]").remove());D.trackerRemoved=!1}if(null!=this.model.closestPoint&&(this.model.prePoint={point:M.point,pointIndex:M.index,series:D,seriesIndex:O}),0==$("#"+this.svgObject.id+"_TrackAxisToolTip").length&&this.model.crosshairLabelVisibility?(C={id:e.svgObject.id+"_TrackAxisToolTip",visibility:"visible"},e.gTrackAxisEle=e.svgRenderer.createGroup(C),e.svgRenderer.append(e.gTrackAxisEle,e.gTrackball)):$("#"+this.svgObject.id+"_TrackAxisToolTip").css("display","block"),P&&(T=M.point[0],re?$(e.svgObject.parentElement).find('[id*="AxisToolTipRect"]').css({visibility:"hidden",display:"none"}):$(e.svgObject).find('[id*="_TrackAxisToolTip"]').attr("visibility","visible").children().attr({display:"none"}),$.each(e.model._axes,(function(i,s){var a,o,r=s.x,l=s._opposed;if(Z){if("vertical"==s.orientation.toLowerCase()&&s.crosshairLabel.visible&&e.mousemoveY<=s.y+s.height&&s.y<=e.mousemoveY){var n,d=s._valueType.toLowerCase(),h=T.xValue;"logarithmic"==d&&(h=Math.pow(s.logBase,h).toFixed(2).replace(new RegExp("\\.0{2}"),"")),"datetime"==d&&(h=ej.format(new Date(Math.floor(h)),ej.util.isNullOrUndefined(s.labelFormat)?ej.EjSvgRender.utils._dateTimeLabelFormat(s._intervalType,s):s.labelFormat,_e)),"category"==d&&(h=ej.EjSvgRender.utils._getLabelContent(h,s,_e)),n={X:s.x,Y:P.Y+s.y},e.displayAxisTooltip(n,h,s,i,t)}}else"horizontal"==s.orientation.toLowerCase()&&s.crosshairLabel.visible&&P.X+r<=s.x+s.width&&s.x<=se[se.length-1].X&&(d=s._valueType.toLowerCase(),a=(P.X/s.width*s.visibleRange.delta+s.visibleRange.min).toFixed(2).replace(new RegExp("\\.0{2}"),""),"logarithmic"==d&&(a=Math.pow(s.logBase,a)),"datetime"==d&&(a=ej.format(new Date(Math.floor(a)),ej.util.isNullOrUndefined(s.labelFormat)?ej.EjSvgRender.utils._dateTimeLabelFormat(s._intervalType,s):s.labelFormat,_e)),("category"==d||"datetimecategory"==d)&&("object"!=typeof T.x&&(a=T.xValue),a=(a="category"!=d&&ej.util.isNullOrUndefined(s.labelFormat)?ej.format(new Date(s.labels[Math.floor(a)]),ej.EjSvgRender.utils._dateTimeLabelFormat(s.intervalType,s),_e):ej.EjSvgRender.utils._getLabelContent(Math.floor(a),s,_e))||"undefined"),o={X:se[se.length-1].X,Y:l?s.y+s.height-s.majorTickLines.size:s.y+s.height+s.majorTickLines.size+10},e.displayAxisTooltip(o,a,s,i,t,!0))}))),"grouping"!==me&&e.model.crosshair.trackballTooltipSettings.tooltipTemplate)for(L=$(document).find('[id*="_TrackToolTipTemplate_"]'),k=0;k<L.length;k++)$(L[k]).appendTo(this.templateContainer),$(this.templateContainer).appendTo(this.chartContainer)}},chartCrossHair:function(e,t){var i,s,a,o,r,l,n,d,h=ej.util.isNullOrUndefined(this.model.primaryYAxis.roundingPlaces)?2:this.model.primaryYAxis.roundingPlaces,c=e.model.enableCanvasRendering,u=this.model.locale;if(!this.model.enable3D&&this.model.crosshair.visible&&"crosshair"==this.model.crosshair.type.toLowerCase()){for(0==$("#"+this.svgObject.id+"_CrosshairGroup").length?(i={id:this.svgObject.id+"_CrosshairGroup",visibility:"visible"},c?(i.position="absolute",e.svgRenderer.drawCrosshairLine(i,"#chartContainer_"+this._id)):(this.gCrosshair=this.svgRenderer.createGroup(i),this.svgRenderer.append(this.gCrosshair,this.svgObject))):$("#"+this.svgObject.id+"_CrosshairGroup").css("display","block"),e.model.trackerElement&&($.finish?$(this.model.trackerElement).finish():$(this.model.trackerElement).stop(!0,!0),this.model.trackerElement=null),l=0;l<this.model._axes.length;l++)"vertical"==(n=this.model._axes[l]).orientation.toLowerCase()?t.y>=n.y&&t.y<=n.y+n.height&&(n.x<t.x?s=Math.min(s||n.x,n.x):a=Math.max(a||n.x,n.x)):t.x>=n.x&&t.x<=n.x+n.width&&(n.y<t.y?o=Math.min(o||n.y,n.y):r=Math.max(r||n.y,n.y));var p,m,g=s||this.model.m_AreaBounds.X,_=a?a-g:this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width-g,f=o||this.model.m_AreaBounds.Y,b=r?r-f:this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height-f,v="M "+this.mousemoveX+" "+f+" L "+this.mousemoveX+" "+(f+b),x="M "+g+" "+this.mousemoveY+" L "+(g+_)+" "+this.mousemoveY,y=$("#"+this._id).offset(),w=e.svgObject,S={left:w.offsetLeft>y.left?w.offsetLeft:y.left,top:w.offsetTop>y.top?w.offsetTop:y.top};0==$("#"+e.svgObject.id+"_CrosshairVertical").length?(p={id:e.svgObject.id+"_CrosshairVertical",fill:"none","stroke-width":e.model.crosshair.line.width,stroke:e.model.crosshair.line.color,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",d:v},c?(p.width=0,p.height=b,p.top=f,p.left=g,p.position="absolute",p.style="solid",p.opacity=.5,e.svgRenderer.drawCrosshairLine(p,"#"+this.svgObject.id+"_CrosshairGroup")):e.svgRenderer.drawPath(p,e.gCrosshair)):(e.svgRenderer._setAttr($(e.svgObject).find("#"+e.svgObject.id+"_CrosshairVertical"),{d:v}),c&&($("#secondCanvas").remove(),$("#"+e.svgObject.id+"_CrosshairVertical").css("left",this.mousemoveX).css({top:f,height:b,display:"block"})),$("#"+e.svgObject.id+"_CrosshairVertical").attr("visibility","visible").css("display","block")),0==$("#"+e.svgObject.id+"_CrosshairHorizontal").length?(m={id:e.svgObject.id+"_CrosshairHorizontal",fill:"none","stroke-width":e.model.crosshair.line.width,stroke:e.model.crosshair.line.color,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",d:x},c?(m.top=f+S.top,m.left=g+S.left,m.width=_,m.height=0,m.position="absolute",m.style="solid",m.opacity=.5,e.svgRenderer.drawCrosshairLine(m,"#"+this.svgObject.id+"_CrosshairGroup")):e.svgRenderer.drawPath(m,e.gCrosshair)):(e.svgRenderer._setAttr($(e.svgObject).find("#"+e.svgObject.id+"_CrosshairHorizontal"),{d:x}),$("#"+e.svgObject.id+"_CrosshairHorizontal").attr("visibility","visible").css("display","block"),c&&$("#"+e.svgObject.id+"_CrosshairHorizontal").css("top",this.mousemoveY).css({left:g,width:_,display:"block"})),0==$("#"+e.svgObject.id+"_AxisCrossToolTip").length?(d={id:e.svgObject.id+"_AxisCrossToolTip",visibility:"visible"},e.gTrackAxisEle=e.svgRenderer.createGroup(d),e.svgRenderer.append(e.gTrackAxisEle,e.gCrosshair)):(this.svgRenderer._setAttr($(e.gTrackAxisEle),{visibility:"visible"}),$(e.gTrackAxisEle).css("display","block")),$.each(e.model._axes,(function(i,s){var a,o,r,l,n,d=s._valueType.toLowerCase();"horizontal"==s.orientation.toLowerCase()&&s.crosshairLabel.visible?e.mousemoveX<=s.x+s.width&&s.x<=e.mousemoveX?(a="category"==s._valueType&&"betweenticks"==s.labelPlacement.toLowerCase()?.5:0,o=(Math.abs(e.mousemoveX-(s.isInversed?s.x+s.width:s.x))/s.width*s.visibleRange.delta+s.visibleRange.min+a).toFixed(2).replace(new RegExp("\\.0{2}"),""),"logarithmic"==d&&(o=Math.pow(s.logBase,o).toFixed(2).replace(new RegExp("\\.0{2}"),"")),"datetime"==d&&(o=ej.format(new Date(Math.floor(o)),ej.util.isNullOrUndefined(s.labelFormat)?ej.EjSvgRender.utils._dateTimeLabelFormat(s._intervalType,s):s.labelFormat,u)),("category"==d||"datetimecategory"==d)&&("category"!=d&&ej.util.isNullOrUndefined(s.labelFormat)?(o=o<0?0:o,o=ej.format(new Date(s.labels[Math.floor(o)]),ej.EjSvgRender.utils._dateTimeLabelFormat(s.intervalType,s),u)):o=ej.EjSvgRender.utils._getLabelContent(o,s,u)),r={X:e.mousemoveX,Y:s.y},e.displayAxisTooltip(r,o,s,i,t),$("#"+e.svgObject.id+"_AxisToolTipText_"+i).show(),$("#"+e.svgObject.id+"_AxisToolTipRect_"+i).show()):($("#"+e.svgObject.id+"_AxisToolTipText_"+i).hide(),$("#"+e.svgObject.id+"_AxisToolTipRect_"+i).hide()):"vertical"==s.orientation.toLowerCase()&&s.crosshairLabel.visible&&(e.mousemoveY<=s.y+s.height&&s.y<=e.mousemoveY?(l=(Math.abs(1-Math.abs(e.mousemoveY-(s.isInversed?s.y+s.height:s.y))/s.width/s.height)*s.visibleRange.delta+s.visibleRange.min).toFixed(h).replace(new RegExp("\\.0{"+h+"}"),""),"logarithmic"==d&&(l=Math.pow(s.logBase,l).toFixed(2).replace(new RegExp("\\.0{2}"),"")),"datetime"==d&&(l=ej.format(new Date(Math.floor(l)),ej.util.isNullOrUndefined(s.labelFormat)?ej.EjSvgRender.utils._dateTimeLabelFormat(s._intervalType,s):s.labelFormat,u)),("category"==d||"datetimecategory"==d)&&(l="category"==d||ej.util.isNullOrUndefined(s.labelFormat)?ej.EjSvgRender.utils._getLabelContent(l,s,u):ej.format(new Date(s.labels[Math.floor(l)]),ej.EjSvgRender.utils._dateTimeLabelFormat(s.intervalType,s),u)),n={X:s.x,Y:e.mousemoveY},e.displayAxisTooltip(n,l,s,i,t),$("#"+e.svgObject.id+"_AxisToolTipText_"+i).show(),$("#"+e.svgObject.id+"_AxisToolTipRect_"+i).show()):($("#"+e.svgObject.id+"_AxisToolTipText_"+i).hide(),$("#"+e.svgObject.id+"_AxisToolTipRect_"+i).hide()))}))}},chartTouchMove:function(e){this.cancelEvent(e),e=e.originalEvent.touches[0],this.chartInteractiveBehavior(e)},isZoomButtonHovered:function(e){if(null!=e.parentNode){var t=e.parentNode.id,i=e.id;if(-1==i.indexOf("_ZoomInBtn ")&&-1==i.indexOf("ZoomOutBtn")&&-1==i.indexOf("_ZoomBtn")&&-1==i.indexOf("_ResetZoom")&&-1==i.indexOf("_PanBtn")&&t&&-1==t.indexOf("_ZoomInBtn")&&-1==t.indexOf("_ZoomOutBtn")&&-1==t.indexOf("_ZoomBtn")&&-1==t.indexOf("_ResetZoom")&&-1==t.indexOf("_PanBtn"))return!1}return!0},showTooltipOnDrag:function(e){$("#"+e.svgObject.id).find("#"+e.svgObject.id+"_TrackToolTip").attr("visibility","visible"),$("#"+e.svgObject.id+"_TrackToolTip").show(),$(".tooltipDiv").css("display","block")},chartInteractiveBehavior:function(e){var t,i,s,a,o,r,l,n,d=this.calMousePosition(e);this.mousemoveX=d.X,this.mousemoveY=d.Y,t="#"+this.svgObject.id,this.mouseWheelCoords&&(i=Math.abs(this.mouseWheelCoords.x-e.pageX),s=Math.abs(this.mouseWheelCoords.y-e.pageY),(i>0||s>0)&&!this.panning?this.enableTrackBall():this.disableTrackBall()),a=this,r=e.target.id,"cartesianaxes"==a.model.AreaType&&this.mousemoveX>=this.model.m_AreaBounds.X&&this.mousemoveX<this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width&&this.mousemoveY<this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height&&this.mousemoveY>=this.model.m_AreaBounds.Y&&this.model.initSeriesRender?(o={x:a.mousemoveX,y:a.mousemoveY},void 0==(r=a.svgRenderer._getAttrVal($(e.target).parent(),"id"))||r!=a.svgRenderer._getAttrVal($(this.svgObject).find(t+"_ZoomBtn"),"id")&&r!=a.svgRenderer._getAttrVal($(this.svgObject).find(t+"_ResetZoom"),"id")&&r!=a.svgRenderer._getAttrVal($(this.svgObject).find(t+"_PanBtn"),"id")?this.enableTrackBall():this.disableTrackBall(),this.model.crosshair.visible||this.isZoomButtonHovered(e.target)?this.dragPoint?this.showTooltipOnDrag(a,e):this.closestXyPoint||($("#"+a.svgObject.id).find("#"+a.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),$("#"+a.svgObject.id+"_TrackToolTip").hide(),$(".tooltipDiv"+this._id).css("display","none")):this.tooltip(a,e),this.model.enable3D||(this.chartTrackball(a,o,e),this.chartCrossHair(a,o))):("none"!=a.model.AreaType&&"polaraxes"!=a.model.AreaType||this.isZoomButtonHovered(e.target)?this.dragPoint?this.showTooltipOnDrag(a,e):this.closestXyPoint||($("#"+a.svgObject.id).find("#"+a.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),$("#"+a.svgObject.id+"_TrackToolTip").hide(),$(".tooltipDiv"+this._id).css("display","none"),this._removeTrackBall(),this._removeHighlight()):this.tooltip(a,e),(l=this.model.prevPoint)&&l.point&&(this.model.enableCanvasRendering?$("#canvas_trackSymbol").remove():(n="boxandwhisker"==l.series.type?l.outlierPosition:ej.EjSvgRender.utils._getPoint(l.point,l.series),a.drawTrackerSymbol(l.series,l.seriesIndex,l.pointIndex,null,n)),this.model.prevPoint=null))},highlightSvg:function(e,t,i,s,a,o,r){var l,n,d;void 0!=t&&(l=this.svgObject.id+"_SeriesGroup_",n=t.substr(l.length),t.indexOf(this.svgObject.id+"_symbolGroup_")>=0&&(l=this.svgObject.id+"_symbolGroup_",n=t.substr(l.length))),n=void 0!=a?a.region.SeriesIndex:n,d=this.model.series[n],i&&d&&(d.highlightSettings.enable||r)&&this.highlight(e,s,d,null,a,t,o,r)},highlightCanvas:function(e,t,i){for(var s,a,o,r,l,n=0;n<this.model._visibleSeries.length;n++)if(a=(s=this.model._visibleSeries[n]).type.toLowerCase(),"cartesianaxes"==this.model.AreaType&&"visible"==s.visibility.toLowerCase()&&"scatter"!==a&&"bubble"!==a&&"column"!==a&&-1==a.indexOf("bar")&&"stackingcolumn"!==a&&"stackingcolumn100"!==a&&!s._hiloTypes){var d=this.calMousePosition(t);this.mousemoveX=d.X,this.mousemoveY=d.Y,o=this.getClosesPointXY([],[],s,this.mousemoveX,this.mousemoveY,t),ej.util.isNullOrUndefined(o.point)||((r=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={location:{x:this.mousemoveX,y:this.mousemoveY},region:{SeriesIndex:n,Region:{PointIndex:o.index}}})}(i=r?r.data:i)&&this.model.series[i.region.SeriesIndex].highlightSettings.enable&&((l=$.extend({},this.model.series[i.region.SeriesIndex])).pointIndex=i.region.Region.PointIndex,l.seriesIndex=i.region.SeriesIndex,l.data=i,0==$("#"+this._id+"_Selection_series"+l.seriesIndex+"_canvas").length&&($("[id*="+this._id+"_Highlight_]").remove(),this.findCanvasSelection(l.seriesIndex,l.pointIndex,l.selectionSettings.mode.toLowerCase())||this.canvasHighlight(this,t,l)))},resizeCursor:function(e,t,i,s,a,o,r){var l=this.selectedRectIndex;t<=s||i<=a||t>=o+s||i>=r+a?($("#"+e+"_resize_rightRect"+l).css({cursor:"default"}),$("#"+e+"_resize_leftRect"+l).css({cursor:"default"}),$("#"+e+"_resize_bottomRect"+l).css({cursor:"default"}),$("#"+e+"_resize_topRect"+l).css({cursor:"default"}),$("#"+e+"_resize_bottomRightCornerCircle"+l).css({cursor:"default"})):(t>=s||i>=a||t<=o+s||i<=r+a)&&($("#"+e+"_resize_rightRect"+l).css({cursor:"e-resize"}),$("#"+e+"_resize_leftRect"+l).css({cursor:"w-resize"}),$("#"+e+"_resize_bottomRect"+l).css({cursor:"s-resize"}),$("#"+e+"_resize_topRect"+l).css({cursor:"n-resize"}),$("#"+e+"_resize_bottomRightCornerCircle"+l).css({cursor:"se-resize"}))},multiSelectMouseMove:function multiSelectMouseMove(evt){var q,rectOptions,translate;if(this._isMultiSelect&&"range"==this.multiSelectMode&&!this.dragPoint){var mouseMoveCords=this.calMousePosition(evt),mouseMoveX=mouseMoveCords.X,mouseMoveY=mouseMoveCords.Y,gripMouseMoveX,gripMouseMoveY,translate,selectionSettingsType=this.multiSelectType,width,height,x,y,rectX,rectY,rectWidth,rectHeight,id,x1,x2,y1,y2,xPlotOffset,yPlotOffset,modifiedX,modifiedY,mouseDownX=this.mouseDownX,mouseDownY=this.mouseDownY,selectedRectIndex=this.selectedRectIndex,containerSvg=this.svgObject.id,chartArea="#"+containerSvg+"_ChartArea",chartAreaX=parseInt($(chartArea).attr("x")),chartAreaY=parseInt($(chartArea).attr("y")),chartAreaWidth=parseInt($(chartArea).attr("width")),chartAreaHeight=parseInt($(chartArea).attr("height")),multiSelectMouseDownId=this.multiSelectMouseDownId,selctRectId="#"+containerSvg+"_selectRect",multiAxis=this.multiAxis;for(q=0;q<multiAxis.length;q++)"horizontal"==multiAxis[q].orientation.toLowerCase()?(x1=multiAxis[q].Location.X1,x2=multiAxis[q].Location.X2,xPlotOffset=multiAxis[q].plotOffset):(y1=multiAxis[q].Location.Y1,y2=multiAxis[q].Location.Y2,yPlotOffset=multiAxis[q].plotOffset);if(this.drag&&!this.resize&&!this.rectPan&&!this.removeRect){var currentX=mouseMoveX,currentY=mouseMoveY,areaBounds=this.model.m_AreaBounds;switch(this.multiSelectDraw=!0,mouseMoveX<areaBounds.X?currentX=areaBounds.X:mouseMoveX>areaBounds.X+areaBounds.Width&&(currentX=areaBounds.X+areaBounds.Width),currentY=mouseMoveY<areaBounds.Y?areaBounds.Y:mouseMoveY>areaBounds.Y+areaBounds.Height?areaBounds.Y+areaBounds.Height:mouseMoveY,selectionSettingsType){case"x":width=Math.abs(currentX-mouseDownX),height=y1-y2+yPlotOffset+yPlotOffset,x=currentX>mouseDownX?mouseDownX:currentX,y=y2-yPlotOffset;break;case"y":width=x2-x1+xPlotOffset+xPlotOffset,height=Math.abs(currentY-mouseDownY),x=x1-xPlotOffset,y=currentY>mouseDownY?mouseDownY:currentY;break;case"xy":width=Math.abs(currentX-mouseDownX),height=Math.abs(currentY-mouseDownY),x=currentX>mouseDownX?mouseDownX:currentX,y=currentY>mouseDownY?mouseDownY:currentY}width>0&&height>0&&(rectOptions={id:this.svgObject.id+"_selectRect"+this.selectedRectIndex,x:x,y:y,width:width,height:height,fill:"rgba(41,136,214,0.2)","stroke-width":2,stroke:"rgba(41,136,214,0.5)",cursor:"pointer","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},x>=x1+xPlotOffset&&mouseMoveX<=x2-xPlotOffset&&mouseMoveY<=y1+yPlotOffset&&y>=y2-yPlotOffset&&this.svgRenderer.drawRect(rectOptions,this.gEle),null!=this.gEle&&($(this.gEle).appendTo(this.parentgEle),0==this.selectedRectIndex&&(this.model.gCurrentEle=this.gEle),$(this.parentgEle).appendTo(this.svgObject)))}if(rectX=parseInt($(selctRectId+selectedRectIndex).attr("x")),rectY=parseInt($(selctRectId+selectedRectIndex).attr("y")),rectWidth=parseInt($(selctRectId+selectedRectIndex).attr("width")),rectHeight=parseInt($(selctRectId+selectedRectIndex).attr("height")),!this.drag&&(evt.target.id.indexOf("selectRect")>=0||evt.target.id.indexOf("resize")>=0)){evt.target.parentNode.id.indexOf("selectedRect")>=0&&(id=evt.target.parentNode.id.split("selectedRect")[1].match(/\d+/)[0],this.gripIndex=eval(id));var selectRectId="#"+containerSvg+"_selectRect",selectRectWidth=parseInt($(selectRectId+this.gripIndex).attr("width")),selectRectHeight=parseInt($(selectRectId+this.gripIndex).attr("height")),selectRectX=parseInt($(selectRectId+this.gripIndex).attr("x")),selectRectY=parseInt($(selectRectId+this.gripIndex).attr("y"));$("#"+containerSvg+"_gripCollection"+selectedRectIndex).css({visibility:"hidden"}),(selectRectX+selectRectWidth-16>=selectRectX||selectRectY+selectRectHeight-16>=selectRectY)&&$("#"+this.svgObject.id+"_gripCollection"+this.gripIndex).attr({transform:""}),(selectRectX+selectRectWidth-16<selectRectX||selectRectY+selectRectHeight-16<selectRectY)&&(translate="translate(15,15)",$("#"+this.svgObject.id+"_gripCollection"+this.gripIndex).attr({transform:translate})),this.oldId!=evt.target.id&&$("#"+containerSvg+"_gripCollection"+this.oldGripIndex).css({visibility:"hidden"}),$("#"+containerSvg+"_gripCollection"+this.gripIndex).css({visibility:"visible"}),this.oldId=evt.target.id,this.oldGripIndex=this.gripIndex}if(evt.target.id.indexOf("selectRect")<0&&evt.target.id.indexOf("resize")<0&&$("#"+containerSvg+"_gripCollection"+this.gripIndex).css({visibility:"hidden"}),this.resize){$("#"+containerSvg+"_closeTopRightCornerCircle"+selectedRectIndex).hide(),$("#"+containerSvg+"_closePath"+selectedRectIndex).hide(),$("#"+containerSvg+"_closePathOpposite"+selectedRectIndex).hide(),$("#"+containerSvg+"_gripCollection"+selectedRectIndex).css({visibility:"hidden"});var oldRectX=this.oldRectX[selectedRectIndex],oldRectY=this.oldRectY[selectedRectIndex],oldRectHeight=this.oldRectHeight[selectedRectIndex],oldRectWidth=this.oldRectWidth[selectedRectIndex],oldReBottomRectY=this.oldReBottomRectY[selectedRectIndex],oldReRightRectX=this.oldReRightRectX[selectedRectIndex];switch(selectionSettingsType){case"x":multiSelectMouseDownId==containerSvg+"_resize_rightRect"+selectedRectIndex?(rectWidth=mouseMoveX-oldRectX,$("#"+containerSvg+"_resize_rightRect"+selectedRectIndex).attr("x",mouseMoveX-5),mouseMoveX<oldRectX?(rectX=mouseMoveX,rectWidth=oldRectX-mouseMoveX):mouseMoveX>=oldRectX&&(rectX=oldRectX)):multiSelectMouseDownId==containerSvg+"_resize_leftRect"+selectedRectIndex&&(rectX=mouseMoveX,rectWidth=oldRectWidth+oldRectX-mouseMoveX,$("#"+containerSvg+"_resize_leftRect"+selectedRectIndex).attr("x",mouseMoveX-5),mouseMoveX>oldReRightRectX+5&&(rectX=oldReRightRectX+5,rectWidth=mouseMoveX-oldRectX-oldRectWidth)),this.resizeCursor(containerSvg,mouseMoveX,mouseMoveY,chartAreaX,chartAreaY,chartAreaWidth,chartAreaHeight);break;case"y":multiSelectMouseDownId==containerSvg+"_resize_topRect"+selectedRectIndex?(rectHeight=oldRectHeight+oldRectY-mouseMoveY,rectY=mouseMoveY,$("#"+containerSvg+"_resize_topRect"+selectedRectIndex).attr("y",mouseMoveY-5),mouseMoveY>oldReBottomRectY+5&&(rectY=oldReBottomRectY+5,rectHeight=mouseMoveY-oldRectY-oldRectHeight)):multiSelectMouseDownId==containerSvg+"_resize_bottomRect"+selectedRectIndex&&(rectHeight=mouseMoveY-oldRectY,$("#"+containerSvg+"_resize_bottomRect"+selectedRectIndex).attr("y",mouseMoveY-5),mouseMoveY<oldRectY?(rectY=mouseMoveY,rectHeight=oldRectY-mouseMoveY):mouseMoveY>=oldRectY&&(rectY=oldRectY)),this.resizeCursor(containerSvg,mouseMoveX,mouseMoveY,chartAreaX,chartAreaY,chartAreaWidth,chartAreaHeight);break;case"xy":multiSelectMouseDownId==containerSvg+"_resize_rightRect"+selectedRectIndex?(rectWidth=mouseMoveX-oldRectX,$("#"+containerSvg+"_resize_rightRect"+selectedRectIndex).attr("x",mouseMoveX-5),mouseMoveX<oldRectX?(rectX=mouseMoveX,rectWidth=oldRectX-mouseMoveX):mouseMoveX>=oldRectX&&(rectX=oldRectX)):multiSelectMouseDownId==containerSvg+"_resize_leftRect"+selectedRectIndex?(rectX=mouseMoveX,rectWidth=oldRectWidth+oldRectX-mouseMoveX,$("#"+containerSvg+"_resize_leftRect"+selectedRectIndex).attr("x",mouseMoveX-5),mouseMoveX>oldReRightRectX+5&&(rectX=oldReRightRectX+5,rectWidth=mouseMoveX-oldRectX-oldRectWidth)):multiSelectMouseDownId==containerSvg+"_resize_topRect"+selectedRectIndex?(rectHeight=oldRectHeight+oldRectY-mouseMoveY,rectY=mouseMoveY,$("#"+containerSvg+"_resize_topRect"+selectedRectIndex).attr("y",mouseMoveY-5),mouseMoveY>oldReBottomRectY+5&&(rectY=oldReBottomRectY+5,rectHeight=mouseMoveY-oldRectY-oldRectHeight)):multiSelectMouseDownId==containerSvg+"_resize_bottomRect"+selectedRectIndex?(rectHeight=mouseMoveY-oldRectY,$("#"+containerSvg+"_resize_bottomRect"+selectedRectIndex).attr("y",mouseMoveY-5),mouseMoveY<oldRectY?(rectY=mouseMoveY,rectHeight=oldRectY-mouseMoveY):mouseMoveY>=oldRectY&&(rectY=oldRectY)):multiSelectMouseDownId==containerSvg+"_resize_bottomRightCornerCircle"+selectedRectIndex&&(rectWidth=mouseMoveX-oldRectX,rectHeight=mouseMoveY-oldRectY,$("#"+containerSvg+"_resize_bottomRightCornerCircle"+selectedRectIndex).attr({cx:mouseMoveX,cy:mouseMoveY}),mouseMoveX<oldRectX&&mouseMoveY<oldRectY?(rectX=mouseMoveX,rectY=mouseMoveY,rectWidth=oldRectX-mouseMoveX,rectHeight=oldRectY-mouseMoveY):mouseMoveX<oldRectX?(rectX=mouseMoveX,rectWidth=oldRectX-mouseMoveX):mouseMoveY<oldRectY?(rectY=mouseMoveY,rectHeight=oldRectY-mouseMoveY):mouseMoveX>=oldRectX&&mouseMoveY>=oldRectY&&(rectX=oldRectX,rectY=oldRectY)),this.resizeCursor(containerSvg,mouseMoveX,mouseMoveY,chartAreaX,chartAreaY,chartAreaWidth,chartAreaHeight)}switch(selectionSettingsType){case"x":rectX>=x1-xPlotOffset&&rectWidth+rectX-x1<=x2-x1-xPlotOffset&&$(selctRectId+selectedRectIndex).attr({x:rectX,width:rectWidth});break;case"y":rectHeight+rectY-y2<=y1-y2+yPlotOffset&&rectY>=y2-yPlotOffset&&$(selctRectId+selectedRectIndex).attr({y:rectY,height:rectHeight});break;case"xy":rectX>=x1-xPlotOffset&&rectWidth+rectX-x1<=x2-x1-xPlotOffset&&rectHeight+rectY-y2<=y1-y2+yPlotOffset&&rectY>=y2-yPlotOffset&&$(selctRectId+selectedRectIndex).attr({x:rectX,y:rectY,width:rectWidth,height:rectHeight})}}if(this.rectPan)switch($("#"+containerSvg+"_closeTopRightCornerCircle"+selectedRectIndex).hide(),$("#"+containerSvg+"_closePath"+selectedRectIndex).hide(),$("#"+containerSvg+"_closePathOpposite"+selectedRectIndex).hide(),$("#"+containerSvg+"_gripCollection"+selectedRectIndex).css({visibility:"hidden"}),(mouseMoveX<=chartAreaX||mouseMoveY<=chartAreaY||mouseMoveX>=chartAreaX+chartAreaWidth||mouseMoveY>=chartAreaY+chartAreaHeight)&&this.multiSelectMouseUp(evt),modifiedX=this.PreviousCoords.X-evt.pageX,modifiedY=this.PreviousCoords.Y-evt.pageY,rectX-=modifiedX,rectY-=modifiedY,this.PreviousCoords.X=evt.pageX,this.PreviousCoords.Y=evt.pageY,selectionSettingsType){case"x":rectX>=x1-xPlotOffset&&rectWidth+rectX-x1<=x2-x1-xPlotOffset&&$(selctRectId+selectedRectIndex).attr({x:rectX});break;case"y":rectHeight+rectY-y2<=y1-y2+yPlotOffset&&rectY>=y2-yPlotOffset&&$(selctRectId+selectedRectIndex).attr({y:rectY});break;case"xy":rectX>=x1-xPlotOffset&&rectWidth+rectX-x1<=x2-x1-xPlotOffset&&rectHeight+rectY-y2<=y1-y2+yPlotOffset&&rectY>=y2-yPlotOffset&&$(selctRectId+selectedRectIndex).attr({x:rectX,y:rectY})}}},isTouch:function(e){this.model.browserInfo;var t=e.originalEvent?e.originalEvent:e;return"touch"==t.pointerType||2==t.pointerType||t.type.indexOf("touch")>-1},highlightStart:function(e,t,i,s,a){if(null!=e.target.parentNode)var o=(i=i||e.target.parentNode.id).indexOf(this.svgObject.id+"_SeriesGroup_")>=0||i.indexOf(this.svgObject.id+"_symbolGroup_")>=0||i.indexOf(this.svgObject.id+"_TrackSymbol_")>=0||i.indexOf(this.svgObject.id+"_Chart3D")>=0;this.model.enableCanvasRendering?this.highlightCanvas(this,e,t):this.highlightSvg(this,i,o,e,t,s,a)},_changeDraggingPoints:function(e,t,i,s){i="datetime"==e.xAxis._valueType?new Date(i):i,s="datetime"==e.yAxis._valueType?new Date(s):s;var a=e.dragSettings.type.toLowerCase();("x"==a||"xy"==a)&&"category"!=e.xAxis._valueType&&(this.dragPoint?(e.pointCollection[t].x=i,e.pointCollection[t].xValue="datetime"==e.xAxis._valueType&&"object"!=typeof i?new Date(i):i):(e._visiblePoints[t].x=e.points[t].x=i,e._visiblePoints[t].xValue=e.points[t].xValue="datetime"==e.xAxis._valueType&&"object"==typeof i?Date.parse(i):i),ej.util.isNullOrUndefined(e.dataSource)||(e.dataSource[t][e.xName]=i)),("y"==a||"xy"==a)&&(this.dragPoint?(e.pointCollection[t].y=s,e.pointCollection[t].YValues[0]="datetime"==e.yAxis._valueType&&"object"!=typeof s?new Date(s):s):(e._visiblePoints[t].y=e.points[t].y=s,e._visiblePoints[t].YValues[0]=e.points[t].YValues[0]="datetime"==e.yAxis._valueType&&"object"==typeof s?Date.parse(s):s),ej.util.isNullOrUndefined(e.dataSource)||(e.dataSource[t][e.yName]=s))},_dragDelta:function(e,t,i,s,a,o){var r={X:i,Y:s},l={X:e,Y:t},n=$.extend({},this.commonDragEventArgs);n.data={seriesIndex:a,pointIndex:o,oldValue:r,newValue:l},this._trigger("dragging",n),this.commonDragEventArgs=n},_getDraggedPoint:function(e,t,i){var s,a,o,r=ej.EjSvgRender.utils._getTransform(e.xAxis,e.yAxis,this.model.requireInvertedAxes);return this.model.requireInvertedAxes?(a=r.y+r.height-i,o=t-r.x):(a=t-r.x,o=r.y+r.height-i),s=ej.EjSvgRender.utils._getValuebyPoint(a,o,e,this.model.requireInvertedAxes),{X:parseFloat(s.PointX.toFixed(2)),Y:parseFloat(s.PointY.toFixed(2))}},_pointDragandDrop:function(e,t,i){var s,a,o,r,l,n,d,h,c=e.data.seriesIndex,u=[],p=null,m=e.type.toLowerCase(),g={axes:{}};for(a=0;a<this.model._axes.length;a++)g.axes[this.model._axes[a].name]={};$("#"+this._id).find('[id*="_Marker"]').remove();var _=this._getDraggedPoint(e,this.mousemoveX,this.mousemoveY),f=_.X,b=_.Y,v=this.commonDragEventArgs.data.currentPoint?this.commonDragEventArgs.data.currentPoint.xValue:this.commonDragEventArgs.data.oldValue.X,x=this.commonDragEventArgs.data.currentPoint?this.commonDragEventArgs.data.currentPoint.yValue[0]:this.commonDragEventArgs.data.oldValue.Y;if(e.region?(h=e.region,i._dragDelta(f,b,v,x,h.SeriesIndex,h.Region.PointIndex)):(o=e.pointData,i._dragDelta(f,b,v,x,o.seriesIndex,o.index)),this.model.enableCanvasRendering)this.canvasElement&&this.canvasElement.clearRect(0,0,i.svgWidth,i.svgHeight),0==$("#"+i._id+"_PreviewSeries"+c+"_canvas").length&&(r=document.getElementById(i._id+"_canvas").getBoundingClientRect(),s=this.createCanvasElement(i._id+"_PreviewSeries"+c+"_canvas",i.svgWidth,i.svgHeight,r),this.createRect(i,s),this.canvasElement=s);else{e.xAxis=null===e.xAxis||void 0===e.xAxis?this.model._axes[0]:e.xAxis,e.yAxis=null===e.yAxis||void 0===e.yAxis?this.model._axes[1]:e.yAxis;var y=ej.EjSvgRender.utils._getTransform(e.xAxis,e.yAxis,this.model.requireInvertedAxes),w=(p="translate("+y.x+","+y.y+")",{id:this.svgObject.id+"_PreviewSeriesGroup",transform:p,cursor:"default",visibility:"visible"});$("#"+this.svgObject.id+"_PreviewSeriesGroup").attr("transform",p),this.gPreviewSeriesGroupEle||(this.chartObj=i,this.chartObj.gPreviewSeriesGroupEle=this.gPreviewSeriesGroupEle=this.svgRenderer.createGroup(w)),this.gPreviewSeriesGroupEle.childNodes.length>0&&this.gPreviewSeriesGroupEle.removeChild(this.gPreviewSeriesGroupEle.childNodes[0])}u=$.extend(!0,{},e._visiblePoints),e.pointCollection=u,u.length=e._visiblePoints.length;var S=i.commonDragEventArgs.data,C=S.pointIndex,T=S.seriesIndex;if(i._changeDraggingPoints(e,C,S.newValue.X,S.newValue.Y),l=new ej.seriesTypes[m],n=e.pointCollection[C],"bubble"==m)L=ej.EjSvgRender.utils._getPoint(n,e),d={id:this.svgObject.id+"_PreviewSeries"+T+"_Point"+C,cx:L.X+this.canvasX,cy:L.Y+this.canvasY,r:n.radius,fill:e.fill,"stroke-width":2,visibility:"visible","stroke-dasharray":"",opacity:.6,stroke:"transparent"},this.model.enableCanvasRendering?ej.EjCanvasRender.prototype.drawCircle(d,s):this.svgRenderer.drawCircle(d,this.gPreviewSeriesGroupEle),this.svgRenderer.append(this.gPreviewSeriesGroupEle,this.gSeriesEle);else if("scatter"==m){var L=ej.EjSvgRender.utils._getPoint(n,e),k=e.marker.shape.capitalizeFirstString(),P=(L={startX:L.X+this.canvasX,startY:L.Y+this.canvasY},{ShapeSize:{width:e.marker.size.width,height:e.marker.size.height},ID:this.svgObject.id+"_PreviewSeries"+T+"_Point"+C,Style:{Color:e.fill,BorderWidth:e.marker.border.width,BorderColor:"transparent",Opacity:.6,Visibility:"visible"}});this.model.enableCanvasRendering?ej.EjSvgRender.chartSymbol["_draw"+k](L,P,this,s):ej.EjSvgRender.chartSymbol["_draw"+k](L,P,this,this.gPreviewSeriesGroupEle),this.svgRenderer.append(this.gPreviewSeriesGroupEle,this.gSeriesEle)}else if("column"==m||"bar"==m){n.xValue="object"==typeof n.xValue?Date.parse(n.xValue):n.xValue;var j=ej.EjSeriesRender.prototype.getOrigin(i,e,g),D=e.sidebysideInfo,A=n.YValues[0],O=j,I=ej.EjSeriesRender.prototype.calculateSides(n,D),R=I.x1,M=I.x2,E=ej.EjSeriesRender.prototype.getRectangle(R,A,M,O,e,i);d={id:this.svgObject.id+"_PreviewSeries"+T+"_Point"+C,x:E.X+this.canvasX,y:E.Y+this.canvasY,width:E.Width,height:E.Height,cornerRadius:e.cornerRadius,fill:e.fill,"stroke-width":2,plot:A<0?"negative":"positive",opacity:.6,stroke:"transparent","stroke-dasharray":""},this.model.enableCanvasRendering?ej.EjCanvasRender.prototype.drawRect(d,s):(this.svgRenderer.drawRect(d,this.gPreviewSeriesGroupEle),this.svgRenderer.append(this.gPreviewSeriesGroupEle,this.gSeriesEle))}else("spline"==m||"splinearea"==m)&&(n.xValue="object"==typeof n.xValue?Date.parse(n.xValue):n.xValue),l.draw(this,e,g);L=ej.EjSvgRender.utils._getPoint(n,e),e.tooltip.visible&&(ej.util.isNullOrUndefined(e.tooltip.template)?($(".tooltipDiv"+this._id).remove(),i.displayShowTooltip(L,n,e,n.actualIndex)):($("#"+i.svgObject.id).find("#"+i.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),h={SeriesIndex:T,Region:{PointIndex:n.actualIndex}},i.createTooltip(h,t,e)))},_dragPointMarker:function(e,t,i,s,a){var o,r,l,n,d,h=e.seriesIndex;o=ej.EjSvgRender.utils._getPoint(a.point,e),this.model.enableCanvasRendering?0==$("#"+this.svgObject.id+"_Marker").length&&(l=document.getElementById(this.svgObject.id).getBoundingClientRect(),r=this.createCanvasElement(this.svgObject.id+"_Marker",this.svgWidth,this.svgHeight,l)):(n={id:this.svgObject.id+"_markerGroup_"+h},this.gMarkerGroupEle||(this.gMarkerGroupEle=this.svgRenderer.createGroup(n))),d={id:this.svgObject.id+"_Series"+h+"_Point"+a.index+"_Marker",cx:o.X+this.model.m_AreaBounds.X,cy:o.Y+this.model.m_AreaBounds.Y,r:7,fill:e.fill,"stroke-width":3,opacity:1,stroke:"white",visibility:"visible"},this.model.enableCanvasRendering?ej.EjCanvasRender.prototype.drawCircle(d,r):(this.svgRenderer.drawCircle(d,this.gMarkerGroupEle),this.svgRenderer.append(this.gMarkerGroupEle,this.gSeriesEle))},_dragPointGripper:function(e){var t,i,s,a,o,r,l,n,d,h,c,u=e.region.type.toLowerCase(),p=this.model._visibleSeries[e.region.SeriesIndex],m=(p._visiblePoints[e.region.Region.PointIndex],p.isTransposed),g=p.yAxis.isInversed;if("column"==u||"bar"==u){for(this.model.enableCanvasRendering?(i=document.getElementById(this.svgObject.id).getBoundingClientRect(),t=this.createCanvasElement(this.svgObject.id+"_Marker",this.svgWidth,this.svgHeight,i),document.getElementById(t.canvas.id).style.zIndex=1):(s={id:this.svgObject.id+"_markerGroup_"+e.region.SeriesIndex},this.gMarkerGroupEle||(this.gMarkerGroupEle=this.svgRenderer.createGroup(s))),d=e.region.Region.Bounds,(m&&"bar"==u||"column"==u&&!m)&&(a=d.Width,o=d.X),(!m&&"bar"==u||"column"==u&&m)&&(a=d.Height,o=d.Y),n=(a>75?a-75:0)/2+o+(r=a<75?a-a/3:50)/6+(l=(r-6)/6)/2,h=1;h<=3;h++)n+=1==h?l:2*l+3,(c={id:this.svgObject.id+"_Series"+e.region.SeriesIndex+"_Point"+e.region.Region.PointIndex+"_Marker"+h,fill:"white",opacity:1,stroke:"white",visibility:"visible"}).r=Math.abs(l),(m&&"bar"==u||"column"==u&&!m)&&(c.cx=n,c.cy=g?d.Y+d.Height-l-5:d.Y+l+5),(!m&&"bar"==u||"column"==u&&m)&&(c.cx=g?d.X+l+5:d.X+d.Width-l-5,c.cy=n),this.model.enableCanvasRendering?ej.EjCanvasRender.prototype.drawCircle(c,t):this.svgRenderer.drawCircle(c,this.gMarkerGroupEle);this.svgRenderer.append(this.gMarkerGroupEle,this.gSeriesEle)}},chartMouseMove:function(e){function t(t){var i,s=h._id;$("#"+s+"_tooltip").length<=0?(i=$("<div></div>").attr({id:s+"_tooltip",class:"zoom"+s}),$(i).html("&nbsp"+t+"&nbsp"),$(document.body).append(i),$(i).css({left:e.pageX+10,top:e.pageY+10,display:"block",position:"absolute","z-index":"13000",cursor:"default","font-family":"Segoe UI",color:"#707070","font-size":"12px","background-color":"#FFFFFF",border:"1px solid #707070"})):$("#"+s+"_tooltip").css({left:e.pageX+10,top:e.pageY+10})}var i,s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A=this.GetSeriesPoint(e),O=this.svgObject,I=this.model,R=I.zooming.enable,M=I.enableCanvasRendering;if(I.event=e,clearTimeout(this.removeTooltip),this.doPan&&e.target.id.indexOf(this._id+"_scrollbar")>-1&&(this.doPan=!1),e.target.classList,i={left:0,top:0},"cartesianaxes"!=this.multiSelectAreaType||R||M||this.multiSelectMouseMove(e),this.rotateActivate&&this.oPreviousCoords){if(s=this.oPreviousCoords.Y-this.mousemoveY,((a=this.oPreviousCoords.X-this.mousemoveX)||s)&&(I.tilt-=s,I.rotation+=a,this.model.isSelected&&(o=this.selectedStyle(this)),this.isTouch(e)||$(this.chart3D).empty(),$("#template_group_"+this._id).empty(),r={Width:$(O).width(),Height:$(O).height()},this.graphics.view(O,this,I.rotation,I.tilt,r,I.perspectiveAngle,I.depth),this.svgRenderer.append(this.chart3D,O),this.model.isSelected))for(C=0;C<o.length;C++)$("#"+o[C].id).attr("class",o[C].className);this.oPreviousCoords.Y=this.mousemoveY,this.oPreviousCoords.X=this.mousemoveX}e.target.id;var E,V=O.id,N=this.isZoomButtonHovered(e.target),B=I._visibleSeries;for(C=(E=B.length)-1;C>=0;C--)if(p=(l=B[C]).type.toLowerCase(),l.dragSettings.enable&&!I.enable3D){if($("#"+this._id).find('[id*="_Marker"]').remove(),this._enableDragging(l,C,e),this.dragPoint)break;if(ie=this.calMousePosition(e),this.mousemoveX=ie.X,this.mousemoveY=ie.Y,n=this.GetSeriesPoint(e),!l.marker.visible&&"bubble"!=p&&"scatter"!=p&&"column"!=p&&"bar"!=p&&(d=this.getClosesPointXY(c,u,l,this.mousemoveX,this.mousemoveY,e)).point){l.seriesIndex=C,this._dragPointMarker(l,this.mousemoveX,this.mousemoveY,e,d),this.closestXyPoint=d;break}if(n&&n.region.SeriesIndex==C){this._dragPointGripper(n);break}}if(h=this,this.dragPoint&&(c=[],u=[],$(document).keyup((function(e){27==e.keyCode&&($(".tooltipDiv"+this._id).remove(),$("#"+V+"_TrackToolTip").remove(),h.dragPoint=!1,B[h.commonDragEventArgs.data.seriesIndex].pointCollection=null,h.chartMouseUp(e))})),P=this.dragIndex.seriesIndex,h._pointDragandDrop(B[P],e,h)),this.calMousePosition(e),$("#"+this._id+"_tooltip").remove(),!this.dragPoint&&(this.drag||N||(this.isTouch(e)||I.doubleTapped)&&!I.crosshairMoved)||this.chartInteractiveBehavior(e),I.crosshair.visible&&"cartesianaxes"==I.AreaType||(M&&A||($("[class*=HighlightStyle]").attr("class",""),$("[class*=HighlightLegendStyle]").attr("class",""),$("[class*=HighlightLegendPathStyle]").attr("class",""),$("[class*=HighlightPathStyle]").attr("class",""),$("[class*=Highlightseries]").attr("class",""),$("[id*="+this._id+"_Highlight_]").remove()),this.highlightStart(e,A)),!this.panning&&(y="#"+V,R&&"cartesianaxes"==I.AreaType&&!I.enable3D&&this.drag&&!this.dragPoint&&!this.chartRightClick)){this.disableTrackBall(),$("#"+V+"_ZoomArea").remove();var F,z,Y,X,W=this.mousemoveX,H=this.mousemoveY,U=I.m_AreaBounds;this.mousemoveX<U.X?W=U.X:this.mousemoveX>U.X+U.Width&&(W=U.X+U.Width),H=this.mousemoveY<U.Y?U.Y:this.mousemoveY>U.Y+U.Height?U.Y+U.Height:this.mousemoveY,"x"==(m=I.zooming.type.toLowerCase())?(F=Math.abs(W-this.mouseDownX),z=U.Height,Y=W>this.mouseDownX?this.mouseDownX:W,X=U.Y):"y"==m?(F=U.Width,z=Math.abs(H-this.mouseDownY),Y=U.X,X=H>this.mouseDownY?this.mouseDownY:H):(F=Math.abs(W-this.mouseDownX),z=Math.abs(H-this.mouseDownY),Y=W>this.mouseDownX?this.mouseDownX:W,X=H>this.mouseDownY?this.mouseDownY:H),$(O).css({"-moz-user-select":"-moz-none","-khtml-user-select":"none","-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"}),this.zooming=!0,g={id:V+"_ZoomArea",x:Y+i.left,y:X+i.top,width:F,height:z,fill:"rgba(69,114,167,0.25)","stroke-width":1,stroke:"rgba(69,114,167,0.25)","clip-path":"url(#"+V+"_ChartAreaClipRect)"},M?this.svgRenderer.drawZoomRect(g,this):this.svgRenderer.drawRect(g,O)}if(_=I.zooming.enableDeferredZoom,this.panning&&this.doPan&&"cartesianaxes"==I.AreaType&&!this.dragPoint)if(this.currentPageX=e.pageX,this.currentPageY=e.pageY,$("#secondCanvas").remove(),$("#"+this._id+"_canvas").css({cursor:"pointer"}),ej.isTouchDevice()||_){if(ej.isTouchDevice()||_){for(b=0;b<B.length;b++){var G=I.series[b],q=ej.EjSvgRender.utils._getTransform(G.xAxis,G.yAxis,I.requireInvertedAxes),Z=e.pageX-this.oPreviousCoords.x+q.x,Q=e.pageY-this.oPreviousCoords.y+q.y,K="translate("+Z+","+Q+")";$("#"+V+"_SeriesGroup_"+b).attr("transform",K),$("#"+V+"_symbolGroup_"+b).attr("transform",K),$("#"+V+"_TextGroup_"+b).attr("transform",K)}for(P=0;P<I.indicators.length&&I.indicators[P]._points.length>0;P++)v=I.indicators[P],q=ej.EjSvgRender.utils._getTransform(v.xAxis,v.yAxis,I.requireInvertedAxes),K="translate("+(Z=e.pageX-this.oPreviousCoords.x+q.x)+","+(Q=e.pageY-this.oPreviousCoords.y+q.y)+")",$("#"+V+"_indicatorGroup_"+P).attr("transform",K)}}else f={x:this.oPreviousCoords.x-e.pageX,y:this.oPreviousCoords.y-e.pageY},this.oPreviousCoords={x:e.pageX,y:e.pageY},$.each(I._axes,(function(e,t){var i=Math.max(1/ej.EjSvgRender.utils._minMax(t.zoomFactor,0,1),1);h.translate(t,f.x,f.y,i)})),this._updateScroll(),this.redraw(!0,null,e.target,this.isTouch(e)),this._cursorToPointer(),this._enableZoomingButtons();if(""!=(x=e.target.id)||ej.util.isNullOrUndefined(e.target.parentNode)||(x=e.target.parentNode.id.indexOf("_XLabel_")>=0||e.target.parentNode.id.indexOf("_YLabel_")>=0?e.target.parentNode.id:x),y=this._id,w=ej.util.isNullOrUndefined(e.target.parentNode)?"":e.target.parentNode.id,R&&(w==y+"_svg_ResetZoom"?t(this._localizedLabels.reset):w==y+"_svg_PanBtn"?t(this._localizedLabels.pan):w==y+"_svg_ZoomBtn"?t(this._localizedLabels.zoom):w==y+"_svg_ZoomInBtn"?t(this._localizedLabels.zoomIn):w==y+"_svg_ZoomOutBtn"&&t(this._localizedLabels.zoomOut)),(S=this.getAxisLabelData(e))&&((D=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data=S,this._trigger("axisLabelMouseMove",D)),!this.isTouch(e))for(this.axisTooltip(e,x),I.title.enableTrim&&this.showTitleTooltip(e,x),C=0,E=I.series.length;C<E;C++)T=(G=I.series[C]).marker&&G.marker.dataLabel,!G._enableSmartLabels||this.model.enable3D||T.enableWrap||(L=T.template,ee=T.font,"none"==I.AreaType&&ej.util.isNullOrUndefined(L)&&this.datalabelTooltip(e,C,ee));if($(O).find(y+"_ResetZoom,"+y+"_PanBtn,"+y+"_ZoomBtn").length>0&&$(O).find(y+"_ResetZoom,"+y+"_PanBtn,"+y+"_ZoomBtn").appendTo(O),k=this.getLegendData(e)){var J=this.model.legend.isReversed,ee=this.model.legend.font,te=$.extend({},ej.EjSvgRender.commonChartEventArgs);if(te.data=k,k.series.highlightSettings.enable&&(M?((G=$.extend({},k.series)).seriesIndex=k.legendItem.LegendItem.SeriesIndex,G.pointIndex=k.legendItem.LegendItem.PointIndex,P="none"==this.model.AreaType?G.pointIndex:G.seriesIndex,0==$("#"+h._id+"_Selection_Legend"+P+"_canvas").length&&($("[id*="+this._id+"_Highlight_]").remove(),this.canvasHighlight(h,e,G,k))):this.highlight(h,e,k.series,k)),this._trigger("legendItemMouseMove",te),M){var ie=this.calMousePosition(e),se=ie.X,ae=ie.Y,oe=I.LegendBounds;$(this.legendContainer).children().css({cursor:"pointer"}),se>=oe.X&&se<=oe.X+I.LegendViewerBounds.Width&&ae<=oe.Y+I.LegendViewerBounds.Height&&ae>=oe.Y&&this._textTooltip(e,I.legendTextRegion,J,ee)}else this._textTooltip(e,I.legendTextRegion,J,ee)}else M&&$(this.legendContainer).children().css("cursor","default");if(M&&(-1!=x.indexOf("_ResetZoom")||-1!=w.indexOf("_ResetZoom")?t(this._localizedLabels.reset):-1!=x.indexOf("_PanBtn")||-1!=w.indexOf("_PanBtn")?t(this._localizedLabels.pan):-1!=x.indexOf("_ZoomBtn")||-1!=w.indexOf("_ZoomBtn")?t(this._localizedLabels.zoom):-1!=x.indexOf("_ZoomInBtn")||-1!=w.indexOf("_ZoomInBtn")?t(this._localizedLabels.zoomIn):(-1!=x.indexOf("_ZoomOutBtn")||-1!=w.indexOf("_ZoomOutBtn"))&&t(this._localizedLabels.zoomOut),this.isTouch(e)||(this._textTooltip(e,I.xAxisLabelRegions),this._textTooltip(e,I.yAxisLabelRegions))),j=this,I.xAxisTitleRegion){W=this.mousemoveX,H=this.mousemoveY;var re=this.model.primaryXAxis.title.isReversed,le=this.model.primaryXAxis.font;$.each(I.xAxisTitleRegion,(function(t,i){W>=i.Bounds.X&&W<=i.Bounds.X+i.Bounds.Width&&H>=i.Bounds.Y-i.Bounds.Height&&H<=i.Bounds.Y&&i.trimText!=i.labelText&&j.showAxisTooltip(e.pageX,e.pageY,i.labelText,i.trimText,re,le)}))}I.yAxisTitleRegion&&(W=this.mousemoveX,H=this.mousemoveY,re=this.model.primaryXAxis.title.isReversed,le=this.model.primaryXAxis.font,$.each(I.yAxisTitleRegion,(function(t,i){W>=i.Bounds.X&&W<=i.Bounds.X+i.Bounds.Width&&H>=i.Bounds.Y-i.Bounds.Height&&H<=i.Bounds.Y&&i.trimText!=i.labelText&&j.showAxisTooltip(e.pageX,e.pageY,i.labelText,i.trimText,re,le)}))),I.axisMultiLevelLabelRegions&&(W=this.mousemoveX,H=this.mousemoveY,$.each(I.axisMultiLevelLabelRegions,(function(t,i){W>=i.Bounds.X&&W<=i.Bounds.X+i.Bounds.Width&&H>=i.Bounds.Y-i.Bounds.Height&&H<=i.Bounds.Y&&i.trimText!=i.labelText&&j.showAxisTooltip(e.pageX,e.pageY,i.labelText)}))),(D=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={location:{x:this.mousemoveX,y:this.mousemoveY},size:{height:I.svgHeight,width:I.svgWidth},id:e.target.id,pageX:e.pageX,pageY:e.pageY},this._trigger("chartMouseMove",D)},axisTooltip:function(e,t){var i,s,a,o,r,l,n=this.svgObject.id,d=this.model.hAxes,h=this.model.vAxes;if(t.indexOf("svghorizontal")>-1){var c,u=d[0],p=t.replace(this._id,"").replace("_svghorizontal","");(c=u.visibleLabels[parseInt(p)]).Text=c.Text.toString(),c.Text.indexOf("...")>-1&&(l=c.Text==c.originalText?"":c.originalText,this.showAxisTooltip(e.pageX,e.pageY,l))}if(t.indexOf("_YLabel_")>=0){for(s=0;s<h.length;s++)if(t.indexOf(n+"_"+h[s].name+"_YLabel_")>=0){u=h[s];break}if(u&&u.enableTrim)for(i=u.visibleLabels.length,r=0;r<i&&"cartesianaxes"==this.model.AreaType;r++)if(t==n+"_"+h[s].name+"_YLabel_"+r){if(""==(l=(c=u.visibleLabels[r]).Text==c.displayText?"":u.labelFormat?u.labelFormat.replace("{value}",c.Text):c.Text))break;"inside"==u.labelPosition.toLowerCase()&&(this._hideTooltip(),this._removeTrackBall()),this.showAxisTooltip(e.pageX,e.pageY,l,c.displayText)}}if(t.indexOf("_XLabel_")>=0){for(s=0;s<d.length;s++)if(t.indexOf(n+"_"+d[s].name+"_XLabel_")>=0){u=d[s];break}if(u&&(u.enableTrim||"trim"==u.labelIntersectAction.toLowerCase()||"wrapbyword"==u.labelIntersectAction.toLowerCase()))for(i=u.visibleLabels.length,a=u.isInversed,o=u.font,r=0;r<i&&"cartesianaxes"==this.model.AreaType;r++)if(t==n+"_"+d[s].name+"_XLabel_"+r){if(""==(l=(c=u.visibleLabels[r]).Text==c.displayText?"":c.Text))break;"inside"==u.labelPosition.toLowerCase()&&(this._hideTooltip(),this._removeTrackBall()),this.showAxisTooltip(e.pageX,e.pageY,l,c.displayText,a,o)}}},showTitleTooltip:function(e,t){ej.EjSvgRender.utils._measureText(this.model.title.text,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,this.model.title.font);var i,s=this.model,a=s._titleLocation,o=s._subTitleLocation,r=s.title.enableTrim,l=s.elementSpacing,n=this.mousemoveX,d=this.mousemoveY,h=(s.title.textOverflow.toLowerCase(),s.title.subTitle.enableTrim),c=(s.title.subTitle.textOverflow.toLowerCase(),s.title.text),u=s.title.subTitle.text,p=s.title.isReversed;r&&this.model.trimTooltip&&(i=ej.EjSvgRender.utils._trimText(c,s.title.maximumWidth,s.title.font),(t.indexOf("ChartTitleText")>=0||this.model.enableCanvasRendering&&n>=a.X-l&&n<=a.X-l+a.size.width&&d>=a.Y-a._height&&d<=a.Y+a.size.height)&&this.showAxisTooltip(e.pageX,e.pageY,c,i,p,s.title.font)),h&&s.subTitleTooltip&&(i=ej.EjSvgRender.utils._trimText(u,s.title.subTitle.maximumWidth,s.title.subTitle.font),(t.indexOf("ChartSubTitleText")>=0||s.enableCanvasRendering&&n>=o.X&&n<=o.X+o.size.width&&d>=o.Y&&d<=o.Y+o.size.height)&&this.showAxisTooltip(e.pageX,e.pageY,u,i,p,s.title.subTitle.font))},_updateScroll:function(){for(var e,t=this.model.scrollObj,i=t?t.length:0,s=this.model._axes,a=this.scrollbarContainer,o=0;o<i;o++)t[o]&&((e=t[o]).zoomPosition!=s[o].zoomPosition||e.zoomFactor!=s[o].zoomFactor)&&(e.zoomPosition=s[o].zoomPosition,e.zoomFactor=s[o].zoomFactor,a._initializeScrollbarVariables(e),a._scrollbarUpdate.call(this,e),a._setScrollPosition.call(this,e.startX,e.startX+e.rectWidth,e))},_hideTooltip:function(){$("#"+this.svgObject.id).find("#"+this.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),$("#"+this.svgObject.id+"_TrackToolTip").attr("visibility","hidden").hide(),$(".tooltipDiv"+this._id).css("display","none")},_removeHighlight:function(){var e,t;if($("[id*=HighlightSegment]").remove(),$("[id*=HighlightPath]").remove(),$("[id*=HighlightLegendSegment]").remove(),$("[id*=HighlightLegendPath]").remove(),$("[id*=HighlightDef]").remove(),$("[id*=Highlightseries]").remove(),$("[id*="+this._id+"_Highlight_]").remove(),!this.model.enableCanvasRendering&&!this.vmlRendering)if(null!==(e=this.svgObject.querySelector("[class^='Highlight']"))&&null==e.length)e.removeAttribute("class");else for(t=e&&e.length;t--;)e.removeAttribute("class")},_removeSelection:function(){$("[id*="+this._id+"_SelectionCluster_Legend]").remove(),$("[id*="+this._id+"_Selection_series]").remove(),$("[id*="+this._id+"_Selection_Cluster]").remove(),$("[id*="+this._id+"SelectionSegment]").remove(),$("[id*="+this._id+"SelectionPath]").remove(),$("[id*="+this._id+"SelectionLegend]").remove(),$("[id*="+this._id+"SelectionDef]").remove(),$("[id*="+this._id+"Selectionseries]").remove(),$("[id*="+this._id+"_Selection_]").remove()},datalabelTooltip:function(e,t,i){var s=this.calMousePosition(e);this.mousemoveX=s.X,this.mousemoveY=s.Y;var a,o,r,l,n,d,h,c=this._id,u=this.mousemoveX,p=this.mousemoveY,m=this.vmlRendering,g=this.model.elementSpacing,_=this;ej.util.isNullOrUndefined(this.accDataLabelRegion[t])||$.each(this.accDataLabelRegion[t],(function(t,s){a=s.bounds.minX,o=s.bounds.minY,r=s.bounds.maxX,l=s.bounds.maxY,m&&(a=s.bounds.minX+s.bounds.width/2,r=s.bounds.maxX+s.bounds.width/2,o=s.bounds.minY,l=s.bounds.maxY),u>=a&&u<=r&&p>=o&&p<=l&&($("#"+c+"_tooltip").remove(),n=$("<div></div>").attr({id:c+"_tooltip",class:"ejTooltip"+c}),s.trimmedText!=s.text&&($("#"+_.svgObject.id+"_TrackToolTip").hide(),$(n).html(s.text),$(document.body).append(n),d=ej.EjSvgRender.utils._measureText(s.text,s.text.length,s.font).width,$(n).css({top:e.pageY+g,display:"block",position:"absolute","z-index":"13000",cursor:"default",color:"#000000","font-size":i.size,"background-color":"#FFFFFF",border:"1px solid #707070","white-space":"nowrap",padding:"5px"}),("pyramid"==s.type||"funnel"==s.type)&&(_.model.m_AreaBounds.Width+_.model.m_AreaBounds.X-e.pageX>d?$(n).css({left:e.pageX+g}):(h=e.pageX-d+2*g,$(n).css({left:h}))),("pie"==s.type||"doughnut"==s.type||"pieofpie"==s.type)&&(a>s.bounds.centerX?_.svgWidth-_.model.margin.left-_.model.margin.right-u<d?(h=e.pageX-d,$(n).css({left:h+g})):$(n).css({left:e.pageX+g}):u<d?$(n).css({left:e.pageX+g}):(h=e.pageX-d,$(n).css({left:h-2*g})))))}))},showAxisTooltip:function(e,t,i,s,a,o){var r=this._id,l=$("<div></div>").attr({id:r+"_tooltip",class:"ejTooltip"+r});if($(l).html(i),a&&!ej.util.isNullOrUndefined(o))var n=ej.EjSvgRender.utils._measureText(i,null,o).width,d=ej.EjSvgRender.utils._measureText(s,null,o).width,h=d<=n?n:d;$(document.body).append(l),$(l).css({left:a?e-h:e+10,top:t+10,display:"block",position:"absolute","padding-left":"3px","padding-right":"3px","z-index":"13000",cursor:"default","font-family":"Segoe UI",color:"#707070","font-size":"12px","background-color":"#FFFFFF",border:"1px solid #707070"})},_textTooltip:function(e,t,i,s){var a,o,r=this.calMousePosition(e),l=this.model.legend._ejScroller,n=0,d=i&&($("#legend_"+this._id).find('[class*="e-vscrollbar"]').length||"scroll"==$("#legend_"+this._id)[0].style.overflowY)?r.X-18:r.X,h=r.Y,c=d,u=h,p=this._id,m=this.model.legend,g=m.enableScrollbar;m.textOverflow.toLowerCase(),a=l?$("#legend_"+this._id).ejScroller("instance").model.scrollTop:$("#legend_"+this._id).scrollTop(),n=l?$("#legend_"+this._id).ejScroller("instance").model.scrollLeft:$("#legend_"+this._id).scrollLeft(),i&&l&&(n=0==n?$("#legend_"+this._id).ejScroller("instance")._rtlScrollLeftValue:$("#legend_"+this._id).ejScroller("instance").model.scrollLeft==$("#legend_"+this._id).ejScroller("instance")._rtlScrollLeftValue?0:$("#legend_"+this._id).ejScroller("instance")._rtlScrollLeftValue-$("#legend_"+this._id).ejScroller("instance").model.scrollLeft),(g||l)&&(c=d+(n||0),u=h+(a||0)),$.each(t,(function(t,a){if(c>=a.bounds.x&&c<=a.bounds.x+a.bounds.width&&(u>=a.bounds.y&&u<=a.bounds.y+a.bounds.height||u>=a.bounds.y-a.bounds.height/3&&u<=a.bounds.y)&&($("#"+p+"_tooltip").remove(),o=$("<div></div>").attr({id:p+"_tooltip",class:"ejTooltip"+p}),("array"==jQuery.type(a.trimText)?a.trimText.join(" "):a.trimText)!=a.labelText)){if($(o).html(a.labelText),i&&!ej.util.isNullOrUndefined(s))var r=ej.EjSvgRender.utils._measureText(a.labelText,null,s).width;$(document.body).append(o),$(o).css({left:i?e.pageX-r-15:e.pageX+10,top:e.pageY+10,display:"block",position:"absolute","padding-left":"3px","padding-right":"3px","z-index":"13000",cursor:"default","font-family":"Segoe UI",color:"#707070","font-size":"12px","background-color":"#FFFFFF",border:"1px solid #707070"})}}))},pieExplosion:function(e){var t,i,s,a,o,r,l,n;this.model.explode=!0;var d,h,c,u=e,p=u.region.Series,m=u.region.SeriesIndex,g=new(ej.seriesTypes[p.type.toLowerCase()]),_=p.explodeIndex,f=(p.labelPosition.toLowerCase(),{SeriesIndex:u.pointData[0].SeriesIndex,PointIndex:u.pointData[0].Index}),b=this.model._isPieOfPie?u.pointData[0].PointIndex:u.region.Series._visiblePoints[u.pointData[0].Index].actualIndex;if(_!=b&&!u.region.Series.explodeAll){if(p.explodeIndex=b,c=u.pointData[0].PieSeriesIndex,!ej.util.isNullOrUndefined(this.model.explodeValue)&&this.model.explodeValue!=f){for(this.model.explodeValue.SeriesIndex!=u.region.SeriesIndex&&(p=this.model._visibleSeries[this.model.explodeValue.SeriesIndex]),t=this.model._isPieOfPie?this._getPieOfPiePoint(this.model.explodeValue.PointIndex,p):p._visiblePoints[this.model.explodeValue.Index],i=g._calculateArcData(this,this.model.explodeValue.PointIndex,t,p,this.model.explodeValue.SeriesIndex,this.model.explodeValue.PieSeriesIndex),d=this.svgObject.id+"_SeriesGroup_"+this.model.explodeValue.SeriesIndex,h=1==this.model.explodeValue.PieSeriesIndex?$(this.gSeriesEle).children("#"+d)[1]:$(this.gSeriesEle).children("#"+d)[0],a=$(h).children(),o=0;o<a.length;o++)if(r=a[o],l=this.svgRenderer._getAttrVal($(r)[0],"data-pointIndex"),parseInt(l)==this.model.explodeValue.PointIndex){this.svgRenderer._setAttr($(r),{d:i.Direction});break}g.drawDataLabelAcc(this,p,this.model.explodeValue.Index,t,this.model.explodeValue.SeriesIndex,this.model.explodeValue.PieSeriesIndex)}for(s=this.model._isPieOfPie?this._getPieOfPiePoint(e.region.Region.PointIndex,p):p._visiblePoints[u.pointData[0].Index],i=g._calculateArcData(this,u.pointData[0].PointIndex,s,u.region.Series,m,c),d=this.svgObject.id+"_SeriesGroup_"+u.region.SeriesIndex,h=1==c?$(this.gSeriesEle).children("#"+d)[1]:$(this.gSeriesEle).children("#"+d)[0],a=$(h).children(),o=0;o<a.length;o++)if(r=a[o],l=this.svgRenderer._getAttrVal($(r)[0],"data-pointIndex"),parseInt(l)==u.pointData[0].PointIndex){this.svgRenderer._setAttr($(r),{d:i.Direction});break}this.model.enableCanvasRendering&&(n=document.getElementById(this.svgObject.id).getClientRects()[0],this.svgRenderer.ctx.clearRect(n.left,n.top,n.width,n.height),$("#"+this._id).ejChart("redraw")),g.drawDataLabelAcc(this,p,u.pointData[0].Index,s,m,c),this.model.explodeValue={SeriesIndex:u.pointData[0].SeriesIndex,PointIndex:u.pointData[0].PointIndex,Index:u.pointData[0].Index,PieSeriesIndex:u.pointData[0].PieSeriesIndex}}u.region.Series.explodeIndex=_},displayGroupingTemplate:function(e,t,i,s,a,o,r,l,n){var d,h,c,u,p,m,g,_,f,b,v,x,y,w,S=[],C=[],T=[];for(d=$.extend(!0,{},n),T=$.extend(!0,{},a),h=Object.keys(T).length,S=$.extend(!0,{},s),b=0;b<h;b++)c=T[b].series.isTransposed,S[b].point.x=S[b].point.x,"datetime"==T[b].series.xAxis._valueType.toLowerCase()&&(S[b].point.x=ej.format(new Date(S[b].point.x),ej.EjSvgRender.utils._dateTimeLabelFormat(T[b].series.xAxis.intervalType,T[b].series.xAxis))),"category"==T[b].series.xAxis._valueType.toLowerCase()&&(S[b].point.x=ej.EjSvgRender.utils._getLabelContent(r,T[b].series.xAxis)),e=ej.util.isNullOrUndefined(e)?0:e,t=ej.util.isNullOrUndefined(t)?0:t,u=this.model.m_AreaBounds.X,p=this.model.m_AreaBounds.Y,m=c||this.model.requireInvertedAxes?T[b].series.yAxis.y:i.X+e+u+this.model.crosshair.marker.size.width+5,g=c||this.model.requireInvertedAxes?T[b].series.xAxis.x+i.Y:this.model.m_AreaBounds.Height/2+p,_=$("#"+this.model.crosshair.trackballTooltipSettings.tooltipTemplate).clone(),$(_).css("background-color",d[b].seriesColor),$(_).css("display","block"),S[b].point.count=1,a.count=void 0,v={series:a,point:S[b].point},C.push($(_).html($(_).html().parseTemplate(v)));0==$("#"+this.svgObject.id+"_TrackGroupToolTipTemplate").length&&(f=$("<div id ="+this.svgObject.id+"TrackGroupToolTipTemplate style='pointer-events:none; position: absolute; z-index: 13000; display: block;'></div>"),$(f).appendTo(this.chartContainer)),$(f).append(C),x=this.model.crosshair.trackballTooltipSettings.border,$(f).css("border",x.width+"px solid "+x.color),y=parseFloat($(f).css("height")),w=parseFloat($(f).css("width")),g=c||this.model.requireInvertedAxes?g:g-y/2,1!=h||c||(g=i.Y+p+y/2),1==h&&(c||this.model.requireInvertedAxes)&&(m=i.X+e+u+this.model.crosshair.marker.size.width+5-w/2,g=i.Y+p-y-this.model.crosshair.marker.size.height-5),g+y<this.model.m_AreaBounds.Y?g=this.model.m_AreaBounds.Y:g+y/2>this.model.m_AreaBounds.Height&&(g-=y),m+w>u+this.model.m_AreaBounds.Width&&!c&&(m=i.X+e+u-this.model.crosshair.marker.size.width-5-w),$(f).css("left",m),$(f).css("top",g)},displayTemplateTooltip:function(e,t,i,s,a,o,r,l){var n,d,h,c,u,p,m,g,_,f,b=$.extend(!0,{},s);b.x=b.x,"datetime"==a.xAxis._valueType.toLowerCase()&&(b.x=ej.format(new Date(b.x),ej.EjSvgRender.utils._dateTimeLabelFormat(a.xAxis.intervalType,a.xAxis))),"category"==a.xAxis._valueType.toLowerCase()&&(b.x=ej.EjSvgRender.utils._getLabelContent(r,a.xAxis)),e=ej.util.isNullOrUndefined(e)?0:e,t=ej.util.isNullOrUndefined(t)?0:t;var v,x,y=this.model.m_AreaBounds.X,w=this.model._axes,S=a._xAxisName,C=a._yAxisName;for(n=0,d=w.length;n<d;n++)S==w[n].name?a._isTransposed?v=w[n].Location.Y2:x=w[n].Location.X1:C==w[n].name&&(a._isTransposed?x=w[n].Location.X1:v=w[n].Location.Y2);h=i.X+this.model.crosshair.marker.size.width+x,c=i.Y+t+v,0==$("#"+this.svgObject.id+"_TrackToolTipTemplate_"+o).length&&(u=$("<div id="+this.svgObject.id+"_TrackToolTipTemplate_"+o+" style='pointer-events:none;position: absolute; z-index: 13000; display: block;'></div>"),$(document.body).append(u)),null!=this.model.crosshair.trackballTooltipSettings.tooltipTemplate&&(p=document.getElementById(this.model.crosshair.trackballTooltipSettings.tooltipTemplate).cloneNode(!0),$(p).css("display","block").appendTo(u),a.count=1,b.count=1,m=this.getSeriesColor(b,o,a),$(u).css("background-color","array"==jQuery.type(m)?m[0].color:m),g={series:a,point:b},$(u).html($(u).html().parseTemplate(g))),c-=parseFloat($(u).css("height"))/2,_=parseFloat($(u).css("height")),f=parseFloat($(u).css("width")),(a.isTransposed||this.model.requireInvertedAxes)&&(c=i.Y+this.model.m_AreaBounds.Y-_-5-this.model.crosshair.marker.size.height,h=i.X+y-f/2),c+_<this.model.m_AreaBounds.Y&&(a.isTransposed||this.model.requireInvertedAxes)&&(c+=_+this.model.crosshair.marker.size.height+5+l.top),h+f>y+this.model.m_AreaBounds.Width&&(h-=f+10+this.model.crosshair.marker.size.width),$(u).css("left",h),$(u).css("top",c)},displayAxisTooltip:function(e,t,i,s,a,o){var r,l,n,d,h,c;"double"==i._valueType.toLowerCase()&&(r=i.labelFormat?i.labelFormat.match("{value}"):null,t=i.labelFormat?null!=r?"${value}"==i.labelFormat?i.labelFormat.replace("{value}","$"+Number(t)):i.labelFormat.replace("{value}",Number(t)):ej.format(Number(t),i.labelFormat,this.model.locale):t);var u,p=0,m=i.orientation.toLowerCase(),g=0,_=0,f=i._opposed,b=this.model.enableCanvasRendering,v=f?p+10+(i.x+i.width):i.x+i.width;for(l=0;l<this.model._axes.length;l++)this.model._axes[l].majorTickLines.size>p&&(p=this.model._axes[l].majorTickLines.size);if(e.X>=0&&e.X<=v){var x=e.X,y=e.Y,w=$.extend({},ej.EjSvgRender.commonChartEventArgs);w.data={axisIndex:s,chartAxis:i,currentTrackText:t,location:a},this._trigger("trackAxisToolTip",w),n=w.data.currentTrackText,d=ej.EjSvgRender.utils._measureText(n,null,i.crosshairLabel.font),"horizontal"==m&&(x-=d.width/2,"inside"==i.labelPosition||(f?a.y<i.y:a.y>i.y)?(0==f&&(y=i.y-d.height+p-(i._isScroll?this.model.scrollerSize:0),u="top"),1==f&&(y=i.y+d.height-p,u="bottom")):(1==f&&(y=i.y-d.height/2-5-p,u="bottom"),0==f&&(y=i.y+d.height-5+p,u="top")),g=5,y+=i._isScroll?i.opposedPosition?-this.model.scrollerSize:this.model.scrollerSize:0),!f&&x+d.width>this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X&&(x=this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X-d.width+5+this.model.elementSpacing),"vertical"==m&&(y=e.Y+d.height/4,"inside"==i.labelPosition||!f&&a.x<i.x?(1==f&&(x=i.x-d.width+5-p,u="left"),0==f&&(x=i.x+10+(i._isScroll?this.model.scrollerSize:0),u="right")):(1==f&&(x=d.width+i.x>$(this.svgObject).width()-5?$(this.svgObject).width()-d.width-5:i.x+15,u="left"),0==f&&(x=d.width>i.x?10:i.x-d.width-p,u="right")),x+=i._isScroll?i.opposedPosition?this.model.scrollerSize:-this.model.scrollerSize:0,_=5);var S={id:this.svgObject.id+"_AxisToolTipText_"+s,x:x-_,y:y+g,fill:i.crosshairLabel.font.color,"font-size":i.crosshairLabel.font.size,"font-family":i.crosshairLabel.font.fontFamily,"font-style":i.crosshairLabel.font.fontStyle,"font-weight":i.crosshairLabel.font.fontWeight,"text-anchor":"start",opacity:i.crosshairLabel.font.opacity},C=ej.EjSvgRender.utils._measureText(w.data.currentTrackText,this.model.m_AreaBounds.Width,i.crosshairLabel.font),T=i.crosshairLabel,L={x:(x-=5)-_,y:(y-=C.height)+g,width:C.width+10,height:2*C.height-10,rx:T.rx*(b?2:1),ry:T.ry*(b?2:1)},k=ej.EjSvgRender.utils._calculateroundedCorner(null,L,!0,u,0,o);L={id:this.svgObject.id+"_AxisToolTipRect_"+s,d:k,fill:T.fill,"stroke-width":T.border.width,stroke:T.border.color},h=this.model._axes[s],a.y<h.y+h.height&&a.y>h.y||a.x<h.x+h.width&&a.x>h.x?(this.svgRenderer._setAttr($("#"+this.svgObject.id+"_AxisToolTipRect_"+s),{display:"block"}),this.svgRenderer._setAttr($("#"+this.svgObject.id+"_AxisToolTipText_"+s),{display:"block"}),L.display="block"):(this.svgRenderer._setAttr($("#"+this.svgObject.id+"_AxisToolTipRect_"+s),{display:"none"}),this.svgRenderer._setAttr($("#"+this.svgObject.id+"_AxisToolTipText_"+s),{display:"none"}),L.display="none"),b?(c=this.svgRenderer.createCrosshairCanvas()).ctx=c.getContext("2d"):c=this.svgRenderer,this.svgRenderer.drawPath.call(c,L,this.gTrackAxisEle),this.svgRenderer.drawText.call(c,S,w.data.currentTrackText,this.gTrackAxisEle)}},maxWdithArrayCollection:function(e,t){for(var i,s=0,a=0,o=0,r=ej.EjSvgRender.utils._measureText,l=0,n=e.length;l<n;l++)a=(i=r(e[l],0,t)).width,o+=i.height,s=0==s||s<a?a:s;return{maxTextWidth:s,totalHeight:o}},displayTooltip:function(e,t,i){var s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v=this.model.crosshair,x=v.trackballTooltipSettings,y=x.rx,w=x.ry,S=x.border,C=this.model.m_AreaBounds,T=this.model.crosshair.isReversed;if(e){var L,k,P,j,D=t.series,A=document.getElementById(this._id),O=($(A).offset(),(se=D.tooltip).font?$.extend(!1,D.font,{},se.font):D.font),I="boxandwhisker"==D.type?t.point.boxPlotLocation[3]:t.point.location,R=D.marker.size.width/2+D.marker.border.width+S.width+5,M=D._isTransposed?D.xAxis.y+R:D.yAxis.y,E={X:(D._isTransposed?D.yAxis.x:D.xAxis.x+R)+I.X,Y:M+I.Y},V=t.textCollection,N=t.textOptionsCollection,B=t.groupingTextId,F={X:E.X,Y:E.Y},z=document.getElementById(this._id+"_trackball_grouping_tooltip");if(this._trigger("trackToolTip",{data:{currentText:V,location:F}}),!ej.util.isNullOrUndefined(this.model.trackToolTip)&&""!=this.model.trackToolTip)for(Z=0,we=V.length;Z<we-1;Z++)""==V[Z].text&&(V.splice(Z,1),N.splice(Z,1),B.splice(Z,1));for(ej.util.isNullOrUndefined(z)?(z=document.createElement("div"),P={left:F.X,top:F.Y,border:parseInt(S.width?S.width:1)+"px solid "+(S.color?S.color:"#000000"),background:x.fill?x.fill:"#ffffff",opacity:x.opacity,position:"absolute",height:"auto",width:"auto","border-radius":y+"px "+w+"px","pointer-events":"none"},z.setAttribute("id",this._id+"_trackball_grouping_tooltip")):P={left:F.X,top:F.Y},Z=0,we=V.length;Z<we;Z++)(j=document.createElement("span")).setAttribute("id",B[Z]),s=V[Z].text,$(j).html(s+"</br>"),$(j).css(N[Z]),z.appendChild(j);a=V.map((function(e){return e.text})),i=(L=this.maxWdithArrayCollection(a,O)).maxTextWidth,k=L.totalHeight,P.top=D._isTransposed?P.top:P.top-.5*k,P.left=D._isTransposed?P.left-.5*i:P.left,V.length>1&&(P.top=D._isTransposed?P.top:M+(.5*C.Height-.5*k),P.left=D._isTransposed?C.Width/2+C.X-.5*i:P.left),D._isTransposed?k+P.top>C.Y+C.Height&&(P.top-=k+2*R):P.left+i>=C.X+C.Width&&(P.left-=i+2*(R+S.width)),P.left=F.X==E.X?P.left:F.X,P.top=F.Y==E.Y?P.top:F.Y,$(z).css(P),$(z).appendTo(this.chartContainer)}else for(o=0,r=t.length;o<r;o++){E=t[o].Point,I=t[o].ClosestPoint,D=t[o].Series;var Y=t[o].ClosestPointIndex,X=t[o].Tgap,W=$.inArray(D,this.model._visibleSeries),H={X1:C.X,Y1:C.Y+C.Height,X2:C.X+C.Width,Y2:C.Y},U=this.model._axes,G=D._xAxisName,q=D._yAxisName;for(l=0,we=U.length;l<we;l++)G==U[l].name?D._isTransposed?(H.Y1=U[l].Location.Y1,H.Y2=U[l].Location.Y2):(H.X1=U[l].Location.X1,H.X2=U[l].Location.X2):q==U[l].name&&(D._isTransposed?(H.X1=U[l].Location.X1,H.X2=U[l].Location.X2):(H.Y1=U[l].Location.Y1,H.Y2=U[l].Location.Y2));if(E.X="boxandwhisker"==D.type?E.X+H.X1:E.X,E.Y="boxandwhisker"==D.type?E.Y+H.Y2:E.Y,E.X>=H.X1&&E.X<=H.X2&&E.Y>=H.Y2&&E.Y<=H.Y1||e){var Z,Q,K=this.model.requireInvertedAxes,J=E.X+(D.isIndicator?0:ej.util.isNullOrUndefined(D._trackMarker)?D.marker.size.width:D._trackMarker.size.width)+oe+1,ee=E.Y,te=D.tooltip.format,ie=ej.util.isNullOrUndefined(D.yAxis.roundingPlaces)?2:D.yAxis.roundingPlaces;if(n="boxandwhisker"==t[o].Series.type&&E.outlier?this.getTooltipFormat(I,D,W,Y,te,E):this.getTooltipFormat(I,D,W,Y,te,ie),D.name&&D.name.replace(" ",""),(d=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={Location:{X:J,Y:ee},Series:D,serIndex:W,pointIndex:Y,currentText:n.text},this._trigger("trackToolTip",d),!d.cancel){J=d.data.Location.X,ee=d.data.Location.Y;var se,ae,oe=this.model.tooltipPadding,re=X,le=(O=(se=D.tooltip).font?$.extend(!1,D.font,{},se.font):D.font,ej.EjSvgRender.utils._measureText(d.data.currentText,D.xAxis.width,O)),ne=this.getSeriesColor(I,W,D),de=this.getTooltipOptions(ne,D),he=(de.rectBColor,de.rectFColor,de.rectTextColor,le.width+2*oe),ce=le.height+2*oe,ue=K?D.yAxis.width:D.xAxis.width,pe=K?X+E.X-he/2:X+E.Y-ce/2,me=K?X+E.X+he/2:X+E.Y+ce/2,ge=K?C.X:C.Y,_e=K?C.X+C.Width:C.Y+C.Height,fe=[],be=3+v.marker.border.width+(K?v.marker.size.height:v.marker.size.width)/2,ve=this.model.financial?0:be+5,xe=D.type.toLowerCase(),ye=0==xe.indexOf("rangearea")?this.model.crosshair.marker.size.height/2:0;if(pe>=ge&&me<=_e||this.model.financial){K?E.Y-ve-i<C.Y?(h={x:E.X-he/2+re,y:E.Y+ve,width:he,height:ce,rx:y,ry:w},fe.push({X:E.X-he/2+oe+re,Y:E.Y+ve+ce/2-oe}),ae="top"):(this.model.financial?(Z=(J=E.X-he/2+re)+oe,Q=(ee=E.Y+oe+ye)+2*oe,ae="top"):(J=E.X-he/2+re,ee=E.Y-ve-ce,Z=E.X-he/2+oe+re,Q=E.Y-ve-ce/2-oe,ae="bottom"),h={x:J,y:ee,width:he,height:ce,rx:y,ry:w},fe.push({X:Z,Y:Q})):E.X+ve+i-C.X>=ue||T?(this.model.financial?(Z=(J=E.X-he/2)+oe,Q=(ee=E.Y-ce-oe-ye)+re+ce,ae="bottom"):E.X-i<=this.model.m_AreaBounds.X&&T?(J=E.X+ve,ee=E.Y-ce/2+re,Z=J+oe,Q=E.Y+re+ce/2,ae="left"):(J=E.X-ve-he,ee=E.Y-ce/2+re,Z=J+oe,Q=E.Y+re+ce/2,ae="right"),h={x:J,y:ee,width:he,height:ce,rx:y,ry:w},fe.push({X:Z,Y:Q})):(this.model.financial?(Z=(J=E.X-he/2)+oe,Q=(ee=E.Y-ye-ce-2*oe)+re+ce,ae="bottom"):(J=E.X+ve,ee=E.Y-ce/2+re,Z=J+oe,Q=E.Y+re+ce/2,ae="left"),h={x:J,y:ee,width:he,height:ce,rx:y,ry:w},fe.push({X:Z,Y:Q})),"object"==typeof(u=ne)&&(u=ne[1].color);var we,Se=d.data.currentText,Ce=ej.EjSvgRender.utils._measureText(Se,D.xAxis.width,O).height;d.data.currentText.indexOf("<br/>")>=0&&((Se=d.data.currentText.split("<br/>"))[0],K?E.Y-ve-i<C.Y?fe.push({X:E.X-he/2+oe+re,Y:E.Y+ve+Ce/Se.length}):(this.model.financial?(Z=E.X-he/2+oe+re,Q=E.Y+4*oe+ye):(Z=E.X-he/2+oe+re,Q=E.Y-ve-ce+Ce/Se.length),fe.push({X:Z,Y:Q})):(p=xe.indexOf("candle")>=0||xe.indexOf("hiloopenclose")>=0||!1,E.X+ve+i-C.X>=ue?(this.model.financial?(Z=E.X-he/2+oe,Q=E.Y+re-ce-ye+(p?0:2*oe),h.y-=p?3*oe:oe,h.height+=p?2*oe:oe):(Z=E.X-he-ve+oe,Q=E.Y+re-ce/2+Ce/Se.length),fe.push({X:Z,Y:Q})):(this.model.financial?(Z=E.X-he/2+oe,Q=E.Y+re-ce-ye+(p?0:oe),h.y-=p?2*oe:oe,h.height+=p?2*oe:oe):(Z=E.X+ve+oe,Q=E.Y+re-ce/2+Ce/Se.length),fe.push({X:Z,Y:Q}))),Ce=0),we=fe.length-1,Ce=K?Ce:-Ce,m="boxandwhisker"==D.type?o:Y,g={id:this.svgObject.id+"_ToolTipText_"+W+"_"+m,x:fe[we].X,y:fe[we].Y+Ce/2,fill:se.font&&se.font.color?se.font.color:"#ffffff","font-size":O.size,"font-family":O.fontFamily,"font-style":O.fontStyle,"font-weight":O.fontWeight,"text-anchor":"start",isTrackball:!0,padding:this.model.tooltipPadding},c=ej.EjSvgRender.utils._calculateroundedCorner(null,h,!0,ae,re),_={id:this.svgObject.id+"_gTooltip_"+W+"_"+m,d:c,fill:x.fill?x.fill:u,"stroke-width":parseInt(x.border.width?x.border.width:0)+"px",stroke:x.border.color?x.border.color:"transparent","fill-opacity":x.opacity},this.model.enableCanvasRendering?(f=this.svgRenderer.createCrosshairCanvas()).ctx=f.getContext("2d"):f=this.svgRenderer,b=this.svgRenderer.createGroup({id:this.svgObject.id+"_gTooltip_"+W+"_"+m}),this.svgRenderer.drawPath.call(f,_,b),this.svgRenderer.drawText.call(f,g,Se,b,O)}}0==$("#"+this.svgObject.id+"_TrackToolTip_"+W).length&&this.svgRenderer.append($(b),this.gTrackball)}}},SmartTooltipPosition:function(e){for(var t=[[],[]],i=e.length,s=[],a=e[0].Series._isTransposed?this.model.m_AreaBounds.Width:this.model.m_AreaBounds.Height,o=this.model.tooltipPadding,r=-o,l=0;l<i;l++)t[0][l]=$.extend({},e[l].StEnd),t[1][l]={yAxis:e[l].Series._yAxisName,xAxis:e[l].Series._xAxisName,isTransposed:e[l].Series._isTransposed},s[l]=e[l].ReqInvertAxis?e[l].Point.X:e[l].Point.Y,r+=e[l].StEnd.End-e[l].StEnd.Start+o;for(this.ContinousOverlappingPoints(t[0],s),r<a&&this.verticalArrangeMents(t),l=0;l<i;l++)e[l].Tgap=this.model.financial?0:t[0][l].Start-e[l].StEnd.Start},verticalArrangeMents:function(e){for(var t,i,s,a,o,r,l,n,d=e[0],h=e[1],c=(this.model.m_AreaBounds,this.model.tooltipPadding),u=this.model._axes,p=d.length,m=p-1,g=0,_=0,f=u.length;m>=0;m--){for(t=h[m].isTransposed,a=h[m].yAxis,_=0;_<f;_++)a==u[_].name&&(t?(i=u[_].Location.X2,s=u[_].Location.X1):(i=u[_].Location.Y1,s=u[_].Location.Y2));if(n=(o=d[m]).End-o.Start,i<o.End)for(o.End=i-2,o.Start=o.End-n,g=m-1;g>=0;g--)l=(r=d[g]).End-r.Start,r.End>d[g+1].Start&&d[g+1].Start>s&&d[g+1].End<i&&(r.End=d[g+1].Start-c,r.Start=r.End-l)}for(m=0;m<p;m++){for(t=h[m].isTransposed,a=h[m].yAxis,_=0;_<f;_++)a==u[_].name&&(t?(i=u[_].Location.X2,s=u[_].Location.X1):(i=u[_].Location.Y1,s=u[_].Location.Y2));if(n=(o=d[m]).End-o.Start,o.Start<s)for(o.Start=s+1,o.End=o.Start+n,g=m+1;g<=p-1;g++)l=(r=d[g]).End-r.Start,r.Start<d[g-1].End&&d[g-1].Start>s&&d[g-1].End<i&&(r.Start=d[g-1].End+c,r.End=r.Start+l)}},ContinousOverlappingPoints:function(e,t){var i,s,a,o,r,l,n,d=this.model.tooltipPadding,h=0,c=0,u=0,p=0,m=e.length-1,g=e[0].End-e[0].Start+d;for(h=e[0].Start+g,u=e[0].Start,r=0;r<m;r++)if(h>=e[r+1].Start){if(h+=g=e[r+1].End-e[r+1].Start+d,++c-1==m-1||r==m-1){for(i=(h-u)/2,s=(t[p]+t[r+1])/2,a=e[p].End-e[p].Start,e[p].Start=s-i,e[p].End=e[p].Start+a,l=p;l>0&&e[l].Start<=e[l-1].End+d;l--)o=e[l-1].End-e[l-1].Start,e[l-1].Start=e[l].Start-o-d,e[l-1].End=e[l-1].Start+o;for(n=p+1;n<=p+c;n++)a=e[n].End-e[n].Start,e[n].Start=e[n-1].End+d,e[n].End=e[n].Start+a}}else{if((c=r>0?c:0)>0){for(i=(h-u)/2,s=(t[p]+t[r])/2,a=e[p].End-e[p].Start,e[p].Start=s-i,e[p].End=e[p].Start+a,l=p;l>0&&e[l].Start<=e[l-1].End+d;l--)o=e[l-1].End-e[l-1].Start,e[l-1].Start=e[l].Start-o-d,e[l-1].End=e[l-1].Start+o;for(n=p+1;n<=p+c;n++)a=e[n].End-e[n].Start,e[n].Start=e[n-1].End+d,e[n].End=e[n].Start+a;c=0}g=e[r+1].End-e[r+1].Start+d,h=e[r+1].Start+g,u=e[r+1].Start,p=r+1}},getTooltipOptions:function(e,t){var i,s,a,o,r,l;return this.model.theme.indexOf("gradient")>=0?(i="array"==jQuery.type(e)?e[0].color:e,s="white",r="#333333",a=5,o=5):(-1==(l=t.type.toLowerCase()).indexOf("column")&&-1==l.indexOf("waterfall")&&-1==l.indexOf("bar")&&-1==l.indexOf("box")&&"rangearea"!=l&&"none"!=this.model.AreaType?(s="array"==jQuery.type(e)?e[0].color:e,i="transparent",r="white"):(i="#333333",s="white",r="#333333"),a=0,o=0),{rectBColor:i,rectFColor:s,rectTextColor:r,rectX:a,rectY:o}},getSeriesColor:function(e,t,i){return!i||i.isIndicator||i.isTrendLine?i.fill:e._hiloFill?e._hiloFill._gradientStop?e._hiloFill._gradientStop[0].color:e._hiloFill:e.fill?e.fill._gradientStop?e.fill._gradientStop[0].color:e.fill:"waterfall"==i.type.toLowerCase()&&i.positiveFill&&(e.y>0&&!e.showIntermediateSum&&!e.showTotalSum||e.waterfallSum>0)?i.positiveFill:this.model.seriesColors[t]},getFormat:function(e,t){if(!e.tooltip.format){var i=e.type.toLowerCase(),s="boxandwhisker"!=e.type?"null":t.outlier;return i.indexOf("range")>-1||i.indexOf("hilo")>-1&&-1==i.indexOf("open")?"#point.x# <br/> High : #point.high# <br/> Low : #point.low#":i.indexOf("candle")>-1||i.indexOf("open")>-1?"#point.x# <br/> High : #point.high# <br/> Low : #point.low# <br/> Open : #point.open# <br/> Close : #point.close#":i.indexOf("bubble")>-1?"#point.x# : #point.y# : #point.size#":i.indexOf("box")>-1&&s?"X : #boxPlotPoints.xValue#  Y : #boxPlotPoints.YValues#":i.indexOf("box")>-1?"Minimum : #boxPlotPoints.Minimum# <br/> Upper Quartile : #boxPlotPoints.UpperQuartile# <br/> Median : #boxPlotPoints.midvalue# <br/> Lower Quartile : #boxPlotPoints.LowerQuartile# <br/> Maximum : #boxPlotPoints.Maximum#  ":"#point.x# : #point.y#"}return e.tooltip.format},getTooltipFormat:function(e,t,i,s,a,o){var r,l,n,d,h,c,u,p,m,g,_,f,b=$.extend(!0,{},e),v=this.model.AreaType,x=this.model.locale,y=t.xAxis,w=t.yAxis,S=y._valueType.toLowerCase(),C=ej.util.isNullOrUndefined,T=y.labelFormat,L=w.labelFormat,k=ej.EjSvgRender.utils._dateTimeLabelFormat,P=(ej.EjSvgRender.utils._decimalPlaces,!1),j=!1;for(t.count=1,b.count=1,a=this.getFormat(t,o);a.indexOf("ej.format(")>=0;)"#point.x#"==(g=(h=a.substring(a.indexOf("ej.format("),a.indexOf(")")+1)).substring(h.indexOf("(")+1,h.indexOf(",")))?(P=!0,r=h.substring(h.indexOf(",")+1,h.indexOf(")"))):"#point.y#"==g?(j=!0,l=h.substring(h.indexOf(",")+1,h.indexOf(")"))):(c=h.substring(h.indexOf(",")+1,h.indexOf(")")),p=(u=g.substring(g.indexOf("#")+1)).substring(u.indexOf(".")+1,u.indexOf("#")),b.hasOwnProperty(p)&&b[p]&&(b[p]=ej.format(b[p],c,x))),a=a.replace(h,g);if("cartesianaxes"==v?"datetime"==S.toLowerCase()?(b.x=ej.format(new Date(b.xValue),C(T)?k(y._intervalType,y):t.xAxis.labelFormat,x),b.x=P?ej.format(new Date(b.xValue),r,x):b.x):"datetimecategory"==S.toLowerCase()?(b.x=ej.format(new Date(b.x),C(T)?k(y.intervalType,y):y.labelFormat,x),b.x=P?ej.format(new Date(b.x),r,x):b.x):"category"==S.toLowerCase()?b.x=this.model.primaryXAxis.isIndexed?b.x?b.x:"undefined":ej.EjSvgRender.utils._getLabelContent(b.xValue,t.xAxis,x):(b.x=!P||0!=r.indexOf("e")&&0!=r.indexOf("E")?P?ej.format(b.x,r,x):b.x:this.convertExponential(m,6,20,b.x,r),n=T?T.match("{value}"):null,b.x=T?null!=n?"${value}"==T?T.replace("{value}","$"+b.x):T.replace("{value}",b.x):P||0==T.indexOf("e")||0==T.indexOf("E")?b.x:ej.format(Number(b.x),T,x):b.x):"date"==S&&(b.x=ej.format(new Date(b.xValue),k("days"),x),b.x=P?ej.format(new Date(b.xValue),r,x):b.x),!j||0!=l.indexOf("e")&&0!=l.indexOf("E")?(b.y=b.waterfallSum?b.waterfallSum:b.y,b.y=j?ej.format(b.y,l,x):b.y):b.y=this.convertExponential(void 0,6,20,b.y,l),n=L?L.match("{value}"):null,b.y=L?null!=n?"${value}"==L?L.replace("{value}","$"+b.y):L.replace("{value}",b.y):j||0==L.indexOf("e")||0==L.indexOf("E")?b.y:ej.format(Number(b.y),L,x):b.y,("none"==v||"polaraxes"==v)&&P&&(0==r.indexOf("e")||0==r.indexOf("E"))&&(b.x=this.convertExponential(m,6,20,b.x,r)),t.isStacking&&"area"==t.drawType&&("polar"==t.type||"radar"==t.type)&&(b.y=t.stackedValue.EndValues[s]-t.stackedValue.StartValues[s]),"boxandwhisker"==t.type.toLowerCase()){if(_=t._visiblePoints[s].boxPlotValues,1==o.outlier)for(f=0;f<_.outliers.length;f++)o.YValues==_.outliers[f]&&(o.YValues=L?null!=n?"${value}"==L?L.replace("{value}","$"+o.YValues):L.replace("{value}",o.YValues):j||0==L.indexOf("e")||0==L.indexOf("E")?o.YValues:ej.format(Number(o.YValues),L,x):o.YValues);else o.YValues==_.Minimum?_.Minimum=L?null!=n?"${value}"==L?L.replace("{value}","$"+_.Minimum):L.replace("{value}",_.Minimum):j||0==L.indexOf("e")||0==L.indexOf("E")?_.Minimum:ej.format(Number(_.Minimum),L,x):_.Minimum:o.YValues==_.Maximum?_.Maximum=L?null!=n?"${value}"==L?L.replace("{value}","$"+_.Maximum):L.replace("{value}",_.Maximum):j||0==L.indexOf("e")||0==L.indexOf("E")?_.Maximum:ej.format(Number(_.Maximum),L,x):_.Maximum:o.YValues==_.UpperQuartile?_.UpperQuartile=L?null!=n?"${value}"==L?L.replace("{value}","$"+_.UpperQuartile):L.replace("{value}",_.UpperQuartile):j||0==L.indexOf("e")||0==L.indexOf("E")?_.UpperQuartile:ej.format(Number(_.UpperQuartile),L,x):_.UpperQuartile:o.YValues==_.LowerQuartile?_.LowerQuartile=L?null!=n?"${value}"==L?L.replace("{value}","$"+_.LowerQuartile):L.replace("{value}",_.LowerQuartile):j||0==L.indexOf("e")||0==L.indexOf("E")?_.LowerQuartile:ej.format(Number(_.LowerQuartile),L,x):_.LowerQuartile:o.YValues==_.midvalue&&(_.midvalue=L?null!=n?"${value}"==L?L.replace("{value}","$"+_.midvalue):L.replace("{value}",_.midvalue):j||0==L.indexOf("e")||0==L.indexOf("E")?_.midvalue:ej.format(Number(_.midvalue),L,x):_.midvalue);_.count=t.count,_.xValue=b.x,_.YValues=o.YValues,d={boxPlotPoints:_}}else d={series:t,point:b};return{data:b,text:a=a.parseTemplate(d)}},convertExponential:function(e,t,i,s,a){return e=null==(e=a.match(/(\d+)/g))?t:e>i?i:e,s.toExponential(e)},displayShowTooltip:function(e,t,i,s){var a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y=this.model.requireInvertedAxes,w=i.tooltip.isReversed;if(!1!==t.visible){$(".ejTooltip"+this._id).not("#"+this.svgObject.id+"_TrackToolTip").remove(),$.finish?$(".ejTooltip"+this._id).finish():$(".ejTooltip"+this._id).stop(!0,!0);var S,C,T,L,k,P,j=i.isIndicator||i.isTrendLine?0:$.inArray(i,this.model._visibleSeries),D=7,A=i.tooltip.format,O=document.getElementById(this.svgObject.id).getClientRects()[0],I=this.model.m_AreaBounds,R=i.type.toLowerCase();switch(this.model.AreaType){case"cartesianaxes":L=w?e.X-(i.isIndicator||i.isTrendLine?0:ej.util.isNullOrUndefined(i._trackMarker)?"bubble"==R?t.radius+15:i.marker.size.width:i._trackMarker.size.width)+("column"==R||"bar"==R||"stackingbar"==R||"stackingcolumn"==R||"waterfall"==R||"rangecolumn"==R?I.X:y?i.yAxis.x:i.xAxis.x):e.X+(i.isIndicator||i.isTrendLine?0:ej.util.isNullOrUndefined(i._trackMarker)?"bubble"==R?t.radius+15:i.marker.size.width:i._trackMarker.size.width)+("column"==R||"bar"==R||"stackingbar"==R||"stackingcolumn"==R||"waterfall"==R||"rangecolumn"==R?I.X:y?i.yAxis.x:i.xAxis.x),k=e.Y+(-1!=R.indexOf("column")||-1!=R.indexOf("waterfall")||-1!=R.indexOf("bar")||-1!=R.indexOf("rangearea")||"scatter"==R||"bubble"==R?this.dragPoint?y?i.xAxis.y:i.yAxis.y:I.Y:y?i.xAxis.y:i.yAxis.y),this.dragPoint&&(L=L>i.xAxis.x?L:i.xAxis.x,k=k<i.yAxis.height+i.yAxis.y?k:i.yAxis.height+i.yAxis.y),T=this.getSeriesColor(t,j,i);break;case"polaraxes":L=w?e.X-D+(ej.util.isNullOrUndefined(i._trackMarker)?i.marker.size.width:i._trackMarker.size.width):e.X+D+(ej.util.isNullOrUndefined(i._trackMarker)?i.marker.size.width:i._trackMarker.size.width),k=e.Y,T=this.getSeriesColor(t,j,i);break;case"none":L=w?e.X-i.marker.size.width+D:e.X+i.marker.size.width+D,k=e.Y,T=this.model.pointColors[s]}if("boxandwhisker"==i.type.toLowerCase())for(a=0;a<i._visiblePoints[s].boxPlotLocation.length;a++)(o=i._visiblePoints[s].boxPlotLocation[a]).outlier?o.X+i.outlierSettings.size.width/2>e.X&&o.X-i.outlierSettings.size.width/2<e.X&&o.Y+i.outlierSettings.size.height/2>e.Y&&o.Y-i.outlierSettings.size.height/2<e.Y&&(P=this.getTooltipFormat(t,i,j,s,A,o),ej.EjSvgRender.utils._measureText(P.text)):(P=this.getTooltipFormat(t,i,j,s,A,o),ej.EjSvgRender.utils._measureText(P.text));else P=this.getTooltipFormat(t,i,j,s,A),ej.EjSvgRender.utils._measureText(P.text);var M,E=this.getTooltipOptions(T,i),V=E.rectBColor,N=E.rectFColor,B=E.rectTextColor,F=E.rectX,z=E.rectY,Y=i.tooltip;if(D=5,M=null==document.getElementById(this.svgObject.id+"_TrackToolTip")?$("<div></div>").attr({id:this.svgObject.id+"_TrackToolTip",class:"ejTooltip"+this._id}):$("#"+this.svgObject.id+"_TrackToolTip"),r=!!navigator.userAgent.match(/Trident\/7\./),!ej.isTouchDevice()||r||this.vmlRendering?this._on(M,"mousemove",this.chartTooltipHover):window.navigator.msPointerEnabled?this._on(M,"MSPointerMove",this.chartTooltipHover):this._on(M,"touchmove",this.chartTooltipHover),$("#"+this.svgObject.id+"_TrackToolTip").show(),C=$("#"+this._id).parent()[0].style.zIndex,Y={top:k+$(document).scrollTop(),left:L+$(document).scrollLeft(),"background-color":Y.fill?Y.fill:N,"border-style":"solid",position:"absolute","border-color":Y.border.color?Y.border.color:V,"border-width":Y.border.width||0==Y.border.width?Y.border.width:1,opacity:Y.opacity,"z-index":C+1e6,"border-radius":(Y.rx?Y.rx:F).toString()+"px "+(Y.ry?Y.ry:z).toString()+"px","padding-left":"5px","padding-right":"5px","padding-top":"2px","padding-bottom":"2px"},$(M).css(Y),(l=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={seriesIndex:j,pointIndex:s,currentText:P.text,isTrendLine:i.isTrendLine,trendlineIndex:i.trendlineIndex},this._trigger("toolTipInitialize",l),!l.cancel){var X=i.tooltip,W=X.font?$.extend(!1,i.font,{},X.font):i.font,H={top:k+$(document).scrollTop(),left:L+$(document).scrollLeft(),color:X.font&&X.font.color?W.color:B,"font-size":W.size,"font-family":W.fontFamily,"font-style":W.fontStyle,"font-weight":W.fontWeight,"align-self":"baseline"};for($(M).css(H),null==document.getElementById(this.svgObject.id+"_TrackToolTip")&&$(document.body).append(M[0]),n=S=l.data.currentText,$("#"+this.svgObject.id+"_TrackToolTip").html(n),d=0,h=0,n=(n=n.replace(/<br >/g,"<br/>").replace(/<br \/>/g,"<br/>").replace(/<br>/g,"<br/>")).split("<br/>"),c=0;c<n.length;c++)for(u=(u=n[c]).split("</tr>"),p=0;p<u.length;p++)m=u[p],m=(m=this.RemoveTableAttr(m)).replace(/&nbsp;/g," "),d+=ej.EjSvgRender.utils._measureText(m,null,W).height,h<(g=ej.EjSvgRender.utils._measureText(m,null,W).width)&&(h=g);"cartesianaxes"==this.model.AreaType?ej.EjSvgRender.utils._measureText(S,i.xAxis.width,W).height:ej.EjSvgRender.utils._measureText(n,null,W).height;var U="cartesianaxes"==this.model.AreaType?this.model.requireInvertedAxes?i.yAxis.width:i.xAxis.width:$(this.svgObject).width()-("right"==this.model.legend.position.toLowerCase()?this.model.LegendViewerBounds.Width+2*this.model.elementSpacing:0),G="cartesianaxes"==this.model.AreaType?this.model.requireInvertedAxes?i.xAxis.height:i.yAxis.height:$(this.svgObject).height()-("bottom"==this.model.legend.position.toLowerCase()?this.model.LegendViewerBounds.Height+this.model.elementSpacing:0),q=$("#"+this.svgObject.id+"_TrackToolTip")[0].getBoundingClientRect();$("#"+this.svgObject.id+"_TrackToolTip").css("top",$(document).scrollTop()+q.top+O.top-(d+4)/2),$("#"+this.svgObject.id+"_TrackToolTip").css("left",$(document).scrollLeft()+q.left+O.left+(q.left-L)),L+(h+D)>=U+i.xAxis.x&&!w&&(f=document.getElementById(this.svgObject.id).getClientRects()[0],x=L-(h+2*D+(i.isIndicator||i.isTrendLine?0:ej.util.isNullOrUndefined(i._trackMarker)?i.marker.visible?i.marker.size.width:"bubble"==R?t.radius+15:0:i._trackMarker.size.width)+2*D),$("#"+this.svgObject.id+"_TrackToolTip").css("left",x+f.left-D+$(document).scrollLeft())),((q=$("#"+this.svgObject.id+"_TrackToolTip")[0].getBoundingClientRect()).bottom>=i.yAxis.y+G+O.top||q.bottom>=i.xAxis.y+G+O.top)&&(_=k-(q.bottom-q.top+(i.isIndicator||i.isTrendLine?0:ej.util.isNullOrUndefined(i._trackMarker)?i.marker.visible?i.marker.size.height:0:i._trackMarker.size.height))+D+O.top,$("#"+this.svgObject.id+"_TrackToolTip").css("top",_+$(document).scrollTop())),(q=$("#"+this.svgObject.id+"_TrackToolTip")[0].getBoundingClientRect()).left<0&&(f=document.getElementById(this.svgObject.id).getClientRects()[0],b=I.Width/2,e.X<b?$("#"+this.svgObject.id+"_TrackToolTip").css("left",L+O.left):($("#"+this.svgObject.id+"_TrackToolTip").css("width",q.right-2*D),$("#"+this.svgObject.id+"_TrackToolTip").css("left",0))),(q.top<O.top||q.top<0)&&$("#"+this.svgObject.id+"_TrackToolTip").css("top",(O.top<0?$(document).scrollTop():O.top)+"px"),w&&(v=q.right-q.left,$("#"+this.svgObject.id+"_TrackToolTip").css("left",q.x-v),q.x<i.xAxis.x&&(x=h+2*D+(i.isIndicator||i.isTrendLine?0:ej.util.isNullOrUndefined(i._trackMarker)?i.marker.visible?i.marker.size.width:"bubble"==R?t.radius+15:0:i._trackMarker.size.width)+2*D,$("#"+this.svgObject.id+"_TrackToolTip").css("left",q.x+x))),$("#"+this.svgObject.id+"_TrackToolTip").show()}}},RemoveTableAttr:function(e){var t,i,s;for((-1!=e.indexOf("<table>")||-1!=e.indexOf("</table>")||-1!=e.indexOf("<td>")||-1!=e.indexOf("</td>")||-1!=e.indexOf("<tr>"))&&(e=e.replace(/\//g,"").replace(/<table>/g,"").replace(/<th>/g,"").replace(/<tr>/g,"").replace(/<td>/g,""));e.search(/<td/i)>-1;)if(e.search(/<tr/)>-1)e=e.slice(e.search(/<td/i));else if(e.search(/<td/)>-1&&e.indexOf(">")>e.search(/<td/)){for(t=(e=e.slice(e.indexOf(">")+1)).split("<td"),i=0;i<t.length;i++)s=t[i],t[i]=s.indexOf(">")>-1?s.slice(s.indexOf(">")+1):s;e=t.join("")}return e},chartTooltipHover:function(e){var t,i=$("#"+e.target.id)[0].getBoundingClientRect(),s=e.clientX-i.left;$("#"+e.target.id).css("left",i.left+s+5),i=$("#"+e.target.id)[0].getBoundingClientRect(),t=document.getElementById(this.svgObject.id).getClientRects()[0],i.right>t.right+5&&$("#"+e.target.id).css("left",e.clientX-(i.right-i.left)-5)},_initializeSeriesColors:function(){var e,t,i,s,a,o,r,l,n,d,h,c=this,u=c.model.palette?c.model.palette:c.model.colors,p=u.length,m=c.model.AreaType;if(c.model.seriesColors=[],c.model.seriesBorderColors=[],c.model.pointColors=[],c.model.pointBorderColors=[],o=c.model._visibleSeries.length,c.model._visibleSeries,"none"!=m)e=c.model._visibleSeries,t=c.model.seriesColors,i=c.model.seriesBorderColors;else{for(n=0,h=0;h<o;h++)l=c.model._visibleSeries[h].type.toLowerCase(),c.model._visibleSeries[h].points.length>n?(n=c.model._visibleSeries[h].points.length,r=c.model._visibleSeries[h].points):c.model._visibleSeries[h].points.length==n&&"funnel"!=l&&"pieofpie"!=l&&"pyramid"!=l&&(r=c.model._visibleSeries[h].points);e=r||[],t=c.model.pointColors,i=c.model.pointBorderColors}if("none"==m&&o>1)for(d=0;d<o;d++)c.model.seriesColors[d]=u[d%p];for(h=0;h<e.length;h++)a=(s=e[h]).trendlines,s.isFill=void 0==s.isFill?!(!s.fill||""==s.fill):s.isFill,s.isFill?t[h]=s.fill:(t[h]=u[h%p],s._hiloTypes||(s.fill=t[h])),"none"!=m&&a.length>0&&this._initializeTrendlinesColors(a,t[h]),ej.util.isNullOrUndefined(s.border)||ej.util.isNullOrUndefined(s.border.color)||""==s.border.color?(i[h]=c.model.seriesBorderDefaultColors[h%10],"none"!=m&&(s.border.color=i[h])):i[h]=s.border.color,s.dataPoint=s.points,s.trendLine=s.trendlines},_initializeTrendlinesColors:function(e,t){for(var i in e)(ej.util.isNullOrUndefined(e[i].fill)||""==e[i].fill)&&(e[i].fill=t)},_createAxisLabelAndRange:function(){for(var e,t,i,s,a,o=0,r=this.model,l=r.series,n=l.length,d=r.primaryXAxis,h=r.primaryYAxis,c=0;c<n;c++)l[c]._isTransposed&&"polaraxes"!=this.model.AreaType&&o++;for(n&&(o==n||l[0]._isTransposed&&"polaraxes"!=this.model.AreaType)&&(r.requireInvertedAxes=!0),r.requireInvertedAxes?(h.orientation="horizontal",d.orientation="vertical",h.labelPlacement=h.labelPlacement?h.labelPlacement:ej.datavisualization.Chart.LabelPlacement.OnTicks):(h.orientation="vertical",d.orientation="horizontal"),h.name=ej.util.isNullOrUndefined(h.name)?"SecondaryAxis":h.name,d.name=ej.util.isNullOrUndefined(d.name)?"PrimaryAxis":d.name,r._axes=[],r._axes[0]=d,r._axes[1]=h,a=r.axes.length,s=r.indicators,c=0;c<a;c++)if((u=r.axes[c]).name){for(e=0;e<n;e++){if(t=l[e].type.toLowerCase(),l[e].xAxisName==u.name){u.orientation=-1!=t.indexOf("bar")?l[e].isTransposed?"horizontal":"vertical":l[e].isTransposed?"vertical":"horizontal";break}if(l[e].yAxisName==u.name){u.orientation=-1!=t.indexOf("bar")?l[e].isTransposed?"vertical":"horizontal":l[e].isTransposed?"horizontal":"vertical";break}}for(i=0;i<s.length;i++){if(s[i].xAxisName==u.name){u.orientation="horizontal";break}if(s[i].yAxisName==u.name){u.orientation="vertical";break}}if(!u.orientation)continue;r.axes[c]="horizontal"==u.orientation.toLowerCase()?$.extend(!0,{},r.secondaryX,u):$.extend(!0,{},r.secondaryY,u),r._axes.push(r.axes[c])}for(i=0;i<r._axes.length;i++){var u,p=(u=this.model._axes[i]).scrollbarSettings,m=p.range;u.orientation.toLowerCase(),u.visibleLabels=[],u.range=null==u.range.min&&null==u.range.max&&null==u.range.interval?null:u.range,u.setRange=!!u.range&&(!!ej.util.isNullOrUndefined(u.setRange)||u.setRange),u.setRange=!(!u.actual_Range&&0==u.setRange),u.actualRange=u.actualRange?u.actualRange:null==u.range?{}:$.extend(!0,{},u.range),u.visibleRange=u.visibleRange?u.visibleRange:null==u.range?{}:u.range,u.name=u.name?u.name:i.toString(),u._isScroll=p.visible&&(null!=p.pointsLength||null!=m.min||null!=m.max)||r.zooming.enableScrollbar&&p.visible&&(u.zoomFactor<1||u.zoomPosition>0),u._pointsLength=p.pointsLength,"string"==typeof m.min&&-1!=m.min.indexOf("/Date(")&&(m.min=new Date(parseInt(m.min.substr(6)))),"string"==typeof m.max&&-1!=m.max.indexOf("/Date(")&&(m.max=new Date(parseInt(m.max.substr(6))))}},_drawTitle:function(){var e,t,i,s,a,o,r,l,n=this.model.title,d=this.model.margin,h=$(this.svgObject).width(),c=ej.EjSvgRender.utils._measureText(n.text,h-d.left-d.right,n.font),u=this.model.elementSpacing,p=""!=n.text&&n.visible?c.height+u:0,m=this.model.m_AreaBounds,g=this.model.AreaType,_="left"==this.model.legend.position.toLowerCase()?this.model.LegendViewerBounds.Width/2:"right"==this.model.legend.position.toLowerCase()?-this.model.LegendViewerBounds.Width/2:0,f=d.left+u+this.model.border.width,b=d.right+u+this.model.border.width,v=this.model.titleWrapTextCollection,x=parseInt(n.font.size),y=1.2*parseInt(n.font.size),w=n.enableTrim,S=n.maximumWidth,C=(n.textAlignment.toLowerCase(),n.textOverflow.toLowerCase()),T=n.text,L=n.isReversed,k=!(!w||"wrap"!=C&&"wrapandtrim"!=C||!(v.length>1));if("auto"==S.toString()||""==S.toString()?(S=.75*m.Width,this.model.titleMaxWidth=S):S=parseInt(S),t=c.width>S,w&&t&&"trim"==C&&(T=ej.EjSvgRender.utils._trimText(T,S,n.font),this.model.titleTrim=c=ej.EjSvgRender.utils._measureText(T,h-d.left-d.right,n.font),this.model.trimTooltip=!0),this.model.trimTooltip&&"wrap"==C&&(this.model.trimTooltip=!1),i={width:this.model.trimTooltip&&k||v.length>1?this.model.titleMaxWidth:c.width,height:c.height*(v.length>0?v.length-1:1)},""!=n.text&&null!=n.text){if(e="transparent"==n.border.color&&"transparent"==n.background?d.top+p/2+u:d.top+y/2+u+x/4,s=("cartesianaxes"!=g?(h-d.left-d.right)/2+(d.left+_):f+(h-b)/2)-i.width/2,"near"==this.model.title.textAlignment.toLowerCase()?s=L?h-b-c.width:f:"far"==this.model.title.textAlignment.toLowerCase()&&(s=L?f:h-b-i.width),(a=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={title:T,location:{x:s,y:e},size:c},this._trigger("titleRendering",a),o={id:this.svgObject.id+"_ChartTitleText",x:a.data.location.x,y:a.data.location.y,fill:n.font.color,"font-size":n.font.size,"font-family":n.font.fontFamily,"font-style":n.font.fontStyle,"font-weight":n.font.fontWeight,opacity:n.font.opacity,"text-anchor":"start"},r={id:this.svgObject.id+"_ChartTitleBorder",x:a.data.location.x-u,y:a.data.location.y-y+y/4,rx:n.border.cornerRadius,ry:n.border.cornerRadius,width:k&&t?this.model.titleMaxWidth+2*u:c.width+2*u,height:k&&t?c.height*v.length:y,fill:n.background,"stroke-width":n.border.width,stroke:n.border.color,opacity:n.border.opacity,class:"e-titleborder"},this.svgRenderer.drawRect(r,this.gTitleEle),k&&t)for(l=0;l<v.length;l++)o.id=this.svgObject.id+"_ChartTitleText_"+l,0!=l&&(o.y=o.y+c.height),this.svgRenderer.drawText(o,v[l],this.gTitleEle);else this.svgRenderer.drawText(o,a.data.title,this.gTitleEle);this.model._titleLocation={X:a.data.location.x,Y:a.data.location.y,size:i,_height:c.height},this.svgRenderer.append(this.gTitleEle,this.svgObject),""!=n.subTitle.text&&n.subTitle.text&&n.subTitle.visible&&this._drawSubTitle()}},_getLegendSize:function(e){var t=this.model.legend.itemStyle,i=ej.EjSvgRender.utils._measureText(e.Text,null,e.Font);return{Width:t.width+10+i.width,Height:Math.max(t.height,i.height)}},_getYValues:function(e){for(var t=[],i=e.length,s=0;s<i;s++)t.push(e[s].y);return t},_getXValues:function(e){for(var t=[],i=e.length,s=0;s<i;s++)t.push(e[s].xValue);return t},_drawSubTitle:function(){var e,t,i,s,a,o,r,l,n=this.model.title,d=n.isReversed,h=n.subTitle,c=$(this.svgObject).width(),u=ej.EjSvgRender.utils._measureText(n.text,c-this.model.margin.left-this.model.margin.right,n.font),p=ej.EjSvgRender.utils._measureText(h.text,c-this.model.margin.left-this.model.margin.right,h.font),m="middle",g=this.model.elementSpacing,_=parseInt(h.font.size),f=this.model.m_AreaBounds.Width,b=1.2*parseInt(n.font.size),v=1.2*parseInt(h.font.size),x=""!=h.text&&h.visible?p.height+g:0,y=h.enableTrim,w=h.maximumWidth,S=n.maximumWidth,C=h.textOverflow.toLowerCase(),T=(n.textAlignment.toLowerCase(),h.textAlignment.toLowerCase()),L=n.text,k=n.enableTrim,P=n.textOverflow.toLowerCase(),j=h.text,D=!(!k||"wrap"!=P&&"wrapandtrim"!=P),A=!(!y||"wrap"!=C&&"wrapandtrim"!=C);if(S="auto"==S.toString()||""==S.toString()?.75*f:parseInt(S),w="auto"==w.toString()||""==w.toString()?.75*f:parseInt(w),(u=ej.EjSvgRender.utils._measureText(n.text,c-this.model.margin.left-this.model.margin.right,n.font)).width,y&&p.width>w&&"trim"==C&&(L=k&&"trim"==P?ej.EjSvgRender.utils._trimText(L,S,n.font):L,j=ej.EjSvgRender.utils._trimText(j,w,h.font),u=ej.EjSvgRender.utils._measureText(L,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,n.font),p=ej.EjSvgRender.utils._measureText(j,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,h.font),this.model.subTitleTooltip=!0),i=u.width>S,""!=j&&null!=j){e="transparent"==this.model.title.border.color&&"transparent"==this.model.title.background||"transparent"==this.model.title.subTitle.border.color&&"transparent"==this.model.title.subTitle.background?x/2+g+this.model._titleLocation.Y+this.model._titleLocation._height*(this.model.titleWrapTextCollection?this.model.titleWrapTextCollection.length-1:0):v/2+10+g+(D&&i?u.height*this.model.titleWrapTextCollection.length:b)+10+_/3,s=this.model._titleLocation.X+this.model._titleLocation.size.width/2,"near"==T?(s=t=d?this.model._titleLocation.X+this.model._titleLocation.size.width:this.model._titleLocation.X,m=d?"end":"start"):"far"==T&&(s=d?this.model._titleLocation.X:this.model._titleLocation.X+this.model._titleLocation.size.width,m=d?"start":"end"),(a=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={subTitle:j,location:{x:s,y:e},size:p},this._trigger("subTitleRendering",a);var O,I,R="transparent"==n.border.color&&"transparent"==n.background||"transparent"==n.subTitle.border.color&&"transparent"==n.subTitle.background?a.data.location.y:a.data.location.y-g/2,M={id:this.svgObject.id+"_ChartSubTitleText",x:a.data.location.x,y:R,fill:h.font.color,"font-size":h.font.size,"font-family":h.font.fontFamily,"font-style":h.font.fontStyle,"font-weight":h.font.fontWeight,opacity:h.font.opacity,"text-anchor":m},E=a.data.location.x;if(O="start"==m?E-g:"end"==m?A?E-g-this.model.subTitleMaxWidth:E-g-p.width:A?E-g-this.model.subTitleMaxWidth/2:E-g-p.width/2,I="transparent"==n.border.color&&"transparent"==n.background||"transparent"==h.border.color&&"transparent"==h.background?a.data.location.y-v+v/4:a.data.location.y-v+v/4-g/2,o={id:this.svgObject.id+"_ChartSubTitleBorder",x:O,y:I,rx:h.border.cornerRadius,ry:h.border.cornerRadius,width:A?this.model.subTitleMaxWidth+2*g:p.width+2*g,height:A?p.height*this.model.subTitleWrapTextCollection.length:v,fill:h.background,"stroke-width":h.border.width,stroke:h.border.color,opacity:h.border.opacity,class:"e-subtitleborder"},this.svgRenderer.drawRect(o,this.gSubTitleEle),A&&p.width>w)for(r=0;r<this.model.subTitleWrapTextCollection.length;r++)M.id=this.svgObject.id+"_ChartSubTitleText_"+r,0!=r&&(M.y=M.y+p.height),this.svgRenderer.drawText(M,this.model.subTitleWrapTextCollection[r],this.gSubTitleEle);else this.svgRenderer.drawText(M,a.data.subTitle,this.gSubTitleEle);l={width:this.model.subTitleTooltip?w:p.width,height:p.height*this.model.subTitleWrapTextCollection.length},"middle"==m?t=s-l.width/2:"end"==m&&(t=s-l.width),this.model._subTitleLocation={X:t,Y:a.data.location.y-p.height/2,size:l},this.svgRenderer.append(this.gSubTitleEle,this.gTitleEle)}},_calculateStackingValues:function(e,t,i){var s,a,o,r,l=this.model;l.stackedValue[t.name]=[],(s=l.stackedValue[t.name]).min=0,s.max=0;var n,d,h,c,u,p=l.requireInvertedAxes?l.vAxes:l.hAxes,m=p.length,g=(e.length,ej.util.isNullOrUndefined);for(a=0;a<m;a++){r=0;var _,f,b=[],v=[],x=[],y=[],w=0;for(o=0;o<e.length;o++)if(e[o]._xAxisName==p[a].name&&(-1!=e[o].type.toLowerCase().indexOf("stacking")||e[o].isStacking)){for((u={}).StartValues=[],u.EndValues=[],(h=e[o].stackingGroup)&&"stackingarea"!=e[o].type.toLowerCase()||(h=""),g(b[h])&&(b[h]=[],v[h]=[],x[h]=[],y[h]=[]),_=e[o],"number"!=typeof(w=this._getXCrossValue(_,p[a],i))&&(w=0),c=ej.EjSeriesRender.prototype._isVisiblePoints(_),d=this._getYValues(_._visiblePoints),n=c.length,r=0;r<n;r++){var S=0,C=0,T=d[r];g(b[h][_._visiblePoints[r].xValue])&&(b[h][_._visiblePoints[r].xValue]=w),g(v[h][_._visiblePoints[r].xValue])&&(v[h][_._visiblePoints[r].xValue]=w),u.StartValues.length<=r&&(u.StartValues.push(0),u.EndValues.push(0)),T>=0?(x[h][r]=null==x[h][r],T-=x[h][r]&&w,S=-1!=_.type.toLowerCase().indexOf("stacking")||T>0?b[h][_._visiblePoints[r].xValue]:0,b[h][_._visiblePoints[r].xValue]+=T,C=S<w?w-S:0,u.StartValues[r]=S+C,u.EndValues[r]=T+S):(y[h][r]=null==y[h][r],T-=y[h][r]&&w,S=v[h][_._visiblePoints[r].xValue],v[h][_._visiblePoints[r].xValue]+=T,u.StartValues[r]=S,u.EndValues[r]=T+S,w<u.EndValues[r]&&(v[h][_._visiblePoints[r].xValue]=u.StartValues[r],b[h][_._visiblePoints[r].xValue]=u.EndValues[r],x[h][r]=null==x[h][r])),f=c[r].actualIndex,_.points[f].YValues=[u.EndValues[r]]}u.stackedSeries=!0,s.push(u),s.min>Math.min.apply(0,u.StartValues)&&(s.min=Math.min.apply(0,u.StartValues)),s.max<Math.max.apply(0,u.EndValues)&&(s.max=Math.max.apply(0,u.EndValues)),_.stackedValue=u}}},_calculateStackingCumulativeValues:function(e,t,i){var s,a,o,r,l,n,d,h,c,u,p,m,g,_;this.model.stackedValue[t.name]=[],this.model.stackedValue[t.name].min=0,this.model.stackedValue[t.name].max=0;var f,b=this.model.requireInvertedAxes?this.model.vAxes:this.model.hAxes,v=e.length,x=b.length;for(s=0;s<x;s++){var y=[],w=[],S=[],C=" ",T=[],L=[],k=0,P=[];for(o=0;o<v;o++)if(ej.EjSeriesRender.prototype._isVisiblePoints(e[o]),C=e[o].stackingGroup,-1!=e[o].type.toLowerCase().indexOf("100")&&e[o]._xAxisName==b[s].name)for(e[o].stackingGroup&&" stackingarea100 "!=e[o].type.toLowerCase()||(e[o].stackingGroup="",C=e[o].stackingGroup),y[C]||(S[C]=[],y[C]=[],w[C]=[],T[C]=[],L[C]=[]),P[C]=o,h=(d=this._getYValues(e[o]._visiblePoints)).length,c=0;c<h;c++)a=d[c],S[C][e[o].points[c].xValue]||(S[C][e[o].points[c].xValue]=0),S[C][e[o].points[c].xValue]+=Math.abs(a);for(o=0;o<v;o++)if(C=e[o].stackingGroup,-1!=e[o].type.toLowerCase().indexOf("100")&&(r=!1,e[o]._xAxisName==b[s].name)){for((l={}).StartValues=[],l.EndValues=[],n=e[o],"number"!=typeof(k=this._getXCrossValue(n,b[s],i))&&(k=0),h=(d=this._getYValues(n._visiblePoints)).length,c=0;c<h;c++)p=0,f=(m=d[c])/S[C][n.points[c].xValue]*100,m=isNaN(f)?0:f,n.points[c].percentage=m.toFixed(2),y[C][n.points[c].xValue]||(y[C][n.points[c].xValue]=k),w[C][n.points[c].xValue]||(w[C][n.points[c].xValue]=k),l.StartValues.length<=c&&(l.StartValues.push(0),l.EndValues.push(0)),m>=0?(g=y[C][n.points[c].xValue],T[C][c]=null==T[C][c],m-=T[C][c]&&k,p=g<k?k-g:0,u=g,y[C][n.points[c].xValue]+=m):(_=w[C][n.points[c].xValue],L[C][c]=null==L[C][c],m-=L[C][c]&&k,p=_>k?k-_:0,u=_,w[C][n.points[c].xValue]+=m),l.StartValues[c]=u+p,l.EndValues[c]=u+m,l.EndValues[c]>100&&(l.EndValues[c]=100),n.points[c].YValues=[l.EndValues[c]],r=P[C]!=o||r;l.stackedSeries=r,this.model.stackedValue[t.name].push(l),this.model.stackedValue[t.name].min>Math.min.apply(0,l.StartValues)&&(this.model.stackedValue[t.name].min=Math.min.apply(0,l.StartValues)),this.model.stackedValue[t.name].max<Math.max.apply(0,l.EndValues)&&(this.model.stackedValue[t.name].max=Math.max.apply(0,l.EndValues)),this.model.stackedValue[t.name].min>Math.min.apply(0,l.EndValues)&&(this.model.stackedValue[t.name].min=-100),n.stackedValue=l}}},_legendItemBounds:function(e,t,i){var s,a,o=this.model.legend,r=o.position.toLowerCase(),l=(o.itemPadding,0),n=0;return ej.util.isNullOrUndefined(o.columnCount)&&o.rowCount?(a=o.rowCount,l=t*Math.ceil(e/a),n=i*a):ej.util.isNullOrUndefined(o.rowCount)&&o.columnCount?(a=Math.ceil(e/o.columnCount),l=t*(s=o.columnCount),n=i*a):o.rowCount&&o.columnCount&&(o.columnCount<o.rowCount?(a=o.rowCount,l=t*Math.ceil(e/a),n=i*a):o.columnCount>o.rowCount?"top"===r||"bottom"===r||"custom"===r?(a=Math.ceil(e/o.columnCount),l=t*(s=o.columnCount),n=i*a):(a=Math.ceil(e/o.columnCount),l=t*Math.ceil(e/a),n=i*a):"top"===r||"bottom"===r||"custom"===r?(a=Math.ceil(e/o.columnCount),s=Math.ceil(e/o.rowCount),l=t*o.columnCount,n=i*s):(a=o.rowCount,l=t*Math.ceil(e/a),n=i*a)),{LegendWidth:l,LegendHeight:n+=this.model.elementSpacing}},_isEjScroller:function(){var e=this.model,t=$(this.legendContainer),i=e.legend;i._ejScroller=!ej.util.isNullOrUndefined($("#"+t[0].id).ejScroller)&&i.enableScrollbar},_rowsCalculation:function(e,t,i){this.model.legend;for(var s,a,o,r=[],l=(e.legendItem?e.legendItem.Text.toString():e.text).split(" "),n=t,d=e.legendItem?e.legendItem.LegendStyle.Font:e.font,h=l.length,c=0,u=0;u<h;u++)if(s=l[u],(a=ej.EjSvgRender.utils._measureText(s,null,d).width)<=n){for(;u<h;){if(!((a=ej.EjSvgRender.utils._measureText(s,null,d).width)+(o=l[u+1]?ej.EjSvgRender.utils._measureText(l[u+1],null,d).width:0)<=n&&o>0)){c=Math.max(c,a);break}s=s.concat(" "+l[u+1]),u++}r.push(s)}else"wrapandtrim"==i?(s=ej.EjSvgRender.utils._trimText(s,n,d),r.push(s),this.model._legendMaxWidth=n,c=Math.max(c,n),e.legendItem||(this.model.trimTooltip=!0)):(r.push(s),e.legendItem?this.model._legendMaxWidth=Math.max(this.model._legendMaxWidth,a):c=Math.max(c,a));return this.model._legendMaxHeight=Math.max(this.model._legendMaxHeight,r.length),{textCollection:r,wordMax:c}},_triggerLegendEvent:function(e,t,i){var s,a,o,r,l,n,d,h=this,c=h.model,u=c.legend,p=c.AreaType,m=u.itemStyle,g=m.border,_=c.elementSpacing,f=u.size.width,b=ej.EjSvgRender,v=h.svgRenderer,x=c._visibleSeries.length,y=h.svgObject,w=c.enableCanvasRendering,S=(_=c.elementSpacing,u.textOverflow.toLowerCase()),C={BorderColor:g.color,BorderWidth:g.width,Opacity:u.opacity,Color:t,Font:$.extend(!0,{},u.font)};return(r=$.extend({},b.commonChartEventArgs)).data={svgRenderer:v,svgObject:y,symbolShape:u.shape,legendItem:{Text:e,Shape:u.shape,LegendStyle:C,SeriesIndex:"none"==p&&1==x?0:i},style:{ShapeSize:m,ElementSpace:_,Style:C,ID:h.svgObject.id+"_LegendItemShape"+i,SeriesIndex:"none"==p&&1==x?0:i},gLegendItemEle:h.gLegendItemEle},w&&(r.data.style.context=!0),h._trigger("legendItemRendering",r),s=r.data.legendItem.Text,a=r.data.legendItem.LegendStyle.Font,o=ej.EjSvgRender.utils._measureText(s,null,a).width,f=(f=f?parseInt(f,10):null)||c.svgWidth/100*parseInt(u.legendContainerWidth,10),l="left"===u.position||"right"===u.position,"trim"==S&&l?(n=u.itemPadding+u.itemStyle.width,d=u.size.width?-n:n,o>f&&(s=ej.EjSvgRender.utils._trimText(s,f+d,a),h.model._legendMaxWidth=f)):("wrap"==S||"wrapandtrim"==S)&&(s=h._rowsCalculation(r.data,f,this.model.legend.textOverflow.toLowerCase()).textCollection),{commonEventArgs:r,legendItem:s}},_calculateLegendBounds:function(){var e,t;this.model.legendCollection=[],this.model.legendTextRegion=[],this.model.legendRegion=[],this.model.svgHeight=$(this.svgObject).height(),this.model.svgWidth=$(this.svgObject).width(),this.model._legendMaxWidth=0,this.model._legendMaxHeight=0;var i,s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j=this,D=j.model,A=Math,O=A.max,I=A.min,R=A.abs,M=D.legend,E=10,V=M.size.height,N=M.size.width,B=M.isReversed,F=M.itemPadding>0?M.itemPadding:0,z=M.position.toLowerCase(),Y=0,X=0,W=D.svgHeight,H=D.svgWidth,U=0,G=0,q=0,Z=0,Q=1,K={},J=[],ee=D.AreaType,te=D._visibleSeries,ie=M.rowCount,se=M.columnCount,ae=D.elementSpacing,oe=ej.EjSvgRender.utils._measureText(M.title.text,null,M.title.font),re=0,le=0,ne=D.border.width,de=M.border.width,he=M.textOverflow.toLowerCase(),ce=W-(4*ae+2*ne+2*M.border.width),ue=H-(4*ae+2*ne+2*de);if(te&&M.visible&&0!=te.length){if(T=te[0].type.toLowerCase(),"none"==ee&&1==te.length||"pieofpie"==T||"pyramid"==T||"funnel"==T)for(g=te[0],_=(m=ej.EjSeriesRender.prototype._calculateVisiblePoints(g).legendPoints).length,c=!B||"top"!=z&&"bottom"!=z?0:_-1;!B||"top"!=z&&"bottom"!=z?c<_:c>=0;!B||"top"!=z&&"bottom"!=z?c++:c--)f=M.fill?M.fill._gradientStop?M.fill._gradientStop:M.fill:D.pointColors[m[c].actualIndex],p=m[c],b=ej.util.isNullOrUndefined(p.x)?"series"+c:p.x,C=p.visibleOnLegend?p.visibleOnLegend:"visible",p.isEmpty||"visible"!=C.toLowerCase()||"visible"!=g.visibleOnLegend.toLowerCase()||(k=(L=this._triggerLegendEvent(b,f,c)).commonEventArgs.data.legendItem.LegendStyle,K={Text:L.legendItem,displayText:L.commonEventArgs.data.legendItem.Text,Font:k.Font,SeriesIndex:0,PointIndex:c,ActualIndex:p.actualIndex,fill:k.Color,visibility:!1!==p.visible?"visible":"hidden",Shape:L.commonEventArgs.data.legendItem.Shape,LegendStyle:k,CommonEventArgs:{cancel:L.commonEventArgs.cancel,data:L.commonEventArgs.data}},J.push(K));else for(_=te.length,c=!B||"top"!=z&&"bottom"!=z?0:_-1;!B||"top"!=z&&"bottom"!=z?c<_:c>=0;!B||"top"!=z&&"bottom"!=z?c++:c--)for(f=M.fill?M.fill._gradientStop?M.fill._gradientStop:M.fill:ej.util.isNullOrUndefined(D.seriesColors[c])?D.pointColors[c]:D.seriesColors[c],b=(g=te[c]).name?g.name:"series"+c,"visible"==g.visibleOnLegend.toLowerCase()&&(k=(L=this._triggerLegendEvent(b,f,c)).commonEventArgs.data.legendItem.LegendStyle,K={Text:L.legendItem,displayText:L.commonEventArgs.data.legendItem.Text,Font:k.Font,SeriesIndex:c,fill:k.Color,visibility:g.visibility,Shape:L.commonEventArgs.data.legendItem.Shape,LegendStyle:k,CommonEventArgs:{cancel:L.commonEventArgs.cancel,data:L.commonEventArgs.data}},J.push(K)),n=(d=g.trendlines).length,e=0;e<n;e++)h=d[e],f=M.fill?M.fill._gradientStop?M.fill._gradientStop:M.fill:h.fill,b=h.name?h.name:"series"+c,""!=h.visibility&&"visible"==h.visibleOnLegend.toLowerCase()&&(k=(L=this._triggerLegendEvent(b,f,c)).commonEventArgs.data.legendItem.LegendStyle,K={Text:L.legendItem,displayText:L.commonEventArgs.data.legendItem.Text,Font:k.Font,SeriesIndex:c,trendLineIndex:e,fill:k.Color,isTrendLine:!0,visibility:"visible"==g.visibility.toLowerCase()?h.visibility:"hidden",Shape:L.commonEventArgs.data.legendItem.Shape,LegendStyle:k,CommonEventArgs:{cancel:L.commonEventArgs.cancel,data:L.commonEventArgs.data}},J.push(K));for(v=J.length,c=0;c<v;c++)P=(i=J[c]).CommonEventArgs.data.style.ShapeSize.width,w=j._getLegendSize(i),U=O(this.model._legendMaxWidth>0?this.model._legendMaxWidth+F+P:w.Width,U),G=O("wrap"==he||"wrapandtrim"==he?w.Height*this.model._legendMaxHeight:w.Height,G);for(Z=G+2*ae,q=U,(se||ie)&&(q=(o=j._legendItemBounds(J.length,U+F,G+F)).LegendWidth,Z=o.LegendHeight,"top"===z||"bottom"===z||"custom"===z?Z=Z-F+ae:q-=F),t=0;t<v;t++)s=(i=J[t]).SeriesIndex,g=D.series[s],w=j._getLegendSize(i),("wrap"==he||"wrapandtrim"==he)&&(w.Width=U,w.Height=G),ie||se||("top"==z||"bottom"==z||"custom"==z?((Y+=w.Width+F)>ue&&0!=t?(q=O(q,Y-=w.Width+F),Y=w.Width+F,Q++,Z+=G+F):q=O(q,Y),X=O(X,G)):((X+=w.Height+F)>ce?(Z=O(Z,X-=w.Height+F),X=w.Height+F,q+=U+F):Z=O(Z,X),Y=O(Y,U))),S="visible"==i.visibility.toLowerCase()?j.svgRenderer.createGradientElement("legend"+t,J[t].fill,0,0,0,ce,j.gLegendEle):"gray",i.CommonEventArgs.data.legendItem.LegendStyle.Color=S,(a=ie||se?{Width:U,Height:G}:w)._Width=w.Width,i.isTrendLine&&(i.TrendLineIndex=i.trendLineIndex,u=g.trendlines[i.trendLineIndex].type.toLowerCase(),i.CommonEventArgs.data.legendItem.drawType=i.drawType="linear"==u||"movingaverage"==u?"line":"spline"),J[t].Bounds=a,D.legendCollection.push(i);"top"===z||"bottom"===z||"custom"===z?(q=oe.width>q-F?oe.width+20+F:q+20,Y+=E,X+=20,D.LegendBounds={Width:O(q,Y)-F,Height:O(Z,X),Rows:Q}):(q=oe.width>q?oe.width+20:q+20,Y+=E,X+=E,D.LegendBounds={Width:O(q,Y),Height:O(Z,X)+E-F,Columns:Q}),D.LegendViewerBounds={Width:"0",Height:"0"},""==V||null==V?(r=R("left"==z||"right"==z||"custom"==z?W:W/100*parseInt("20%")),D.LegendViewerBounds.Height=I(r,D.LegendBounds.Height)):D.LegendViewerBounds.Height=-1!=V.indexOf("%")?R(W/100*parseInt(V)):parseInt(V),""==N||null==N?(l=R("top"==z||"bottom"==z||"custom"==z?H:H/100*parseInt("20%")),D.LegendViewerBounds.Width=I(l,D.LegendBounds.Width)):D.LegendViewerBounds.Width=-1!=N.indexOf("%")?R(H/100*parseInt(N)):parseInt(N)}else D.LegendBounds={Width:0,Height:0},D.LegendViewerBounds={Width:0,Height:0};x=$(j.legendContainer),y=$(j.legendSvgContainer),M.enableScrollbar?(D.LegendActualBounds=D.LegendViewerBounds,x.removeAttr("style"),x.css({visibility:"hidden",width:D.LegendViewerBounds.Width,height:D.LegendViewerBounds.Height}),y.css({height:D.LegendBounds.Height,width:D.LegendBounds.Width}),M._ejScroller?(M._ejScroller&&B&&x.addClass("e-rtl"),$("#"+x[0].id).ejScroller({width:D.LegendViewerBounds.Width,height:D.LegendViewerBounds.Height})):(x.css({overflow:"scroll"}),x.hasClass("e-rtl")&&x.removeClass("e-rtl")),D.LegendBounds.Width>D.LegendViewerBounds.Width&&D.LegendBounds.Height>D.LegendViewerBounds.Height?M._ejScroller?(le=$(".e-hscrollbar").height()||0,re=$(".e-vscrollbar").width()||0):(x.css({overflow:"scroll"}),le=x[0].offsetHeight-2*de-x[0].clientHeight,re=x[0].offsetWidth-2*de-x[0].clientWidth):D.LegendBounds.Width>D.LegendViewerBounds.Width?M._ejScroller?(le=$(".e-hscrollbar").height()||0,re=0):(x[0].style.overflowX="scroll",x[0].style.overflowY="hidden",le=x[0].offsetHeight-2*de-x[0].clientHeight,re=0):D.LegendBounds.Height>D.LegendViewerBounds.Height&&(M._ejScroller?(le=0,re=$(".e-vscrollbar").width()):(x[0].style.overflowY="scroll",x[0].style.overflowX="hidden",le=0,re=x[0].offsetWidth-2*de-x[0].clientWidth))):(D.LegendActualBounds=D.LegendBounds,""!=N&&null!=N&&(D.LegendActualBounds.Width=parseInt(N)),""!=V&&null!=V&&(D.LegendActualBounds.Height=parseInt(V))),D.LegendActualBounds.Height+=Math.abs(le),D.LegendActualBounds.Width+=Math.abs(re),D.LegendActualBounds.hScrollSize=le,D.LegendActualBounds.vScrollSize=re},GetPointXYOrgin:function(e,t,i,s){return{X:(e-i)/(this.model.axes.PrimaryXaxis.visibleRange.max-i)*this.model.m_AreaBounds.Width,Y:(t-s)/(this.model.axes.PrimaryYaxis.visibleRange.max-s)*(this.model.m_AreaBounds.Height-this.GetPointXY(this.model.axes.PrimaryXaxis.visibleRange.min,Math.max(this.model.axes.PrimaryYaxis.visibleRange.min,0)).Y)}},_wrap:function(e,t,i,s,a,o){var r,l,n,d,h,c,u,p=i,m=o.width,g=[],_=[],f=p.length,b=0,v=i.split(" "),x=v.length;if("wrap"==s){if(m>t)for(l=1;l<=p.length;l++)i=p.substring(0,l),(m=ej.EjSvgRender.utils._measureText(i,null,a).width)>t&&(i=p.substring(0,l-1),g[b]=i,r=(p=p.slice(l-1,f)).split(" "),p=v.indexOf(r[0])>-1?p:"-"+p,n=ej.EjSvgRender.utils._measureText(i,null,a).width,b++,l=0);g[b]=i}else if("wrapandtrim"==s)for(d=0,b=0;b<x;b++)if(h=v[b],(c=ej.EjSvgRender.utils._measureText(h,null,a).width)<t&&m>t){for(;b<x;){if(!((c=ej.EjSvgRender.utils._measureText(h,null,a).width)+(u=v[b+1]?ej.EjSvgRender.utils._measureText(v[b+1],null,a).width:0)<=t&&u>0)){d=Math.max(d,c);break}h=h.concat(" "+v[b+1]),b++}g.push(h)}else{if(!(m>t)){g.push(i);break}_.push(h),h=ej.EjSvgRender.utils._trimText(h,t,a),n=ej.EjSvgRender.utils._measureText(h,null,a).width,d=Math.max(d,n),g.push(h)}return{text:g,unTrimmedText:_}},getMultiLevelLabelSize:function(e){var t,i=0;e._multiLevelLabelHeight=0;for(var s,a,o,r,l,n,d,h,c,u,p,m=[],g=[],_=[],f=e.multiLevelLabels.length,b=e.visibleRange,v=10,x=e.orientation.toLowerCase(),y=[],w="vertical"==x?e.length:e.width?e.width:this.model.primaryYAxis.AxisMaxWidth?e.length-this.model.primaryYAxis.AxisMaxWidth:e.length,S=0;S<f;S++)c=(s=e.multiLevelLabels[S]=m[S]=$.extend(!0,{},this.model.multiLevelLabelsDefault,e.multiLevelLabels[S])).border.type.toLowerCase(),a=s.level,!s.visible||""==s.text||ej.util.isNullOrUndefined(s.start)||ej.util.isNullOrUndefined(s.end)||(o=Math.ceil(ej.EjSvgRender.utils._getPointXY(s.start,b,e.isInversed)*w),r=Math.ceil(ej.EjSvgRender.utils._getPointXY(s.end,b,e.isInversed)*w),l=ej.EjSvgRender.utils._measureText(s.text,null,s.font),p=s.textOverflow.toLowerCase(),n=ej.util.isNullOrUndefined(s.maximumTextWidth)?r-o:s.maximumTextWidth,d="vertical"==x?s.maximumTextWidth?s.maximumTextWidth:l.width:l.height,d+=2*s.border.width,l.width>n-v&&("wrap"==p||"wrapandtrim"==p)&&(h=(h=this._wrap(e,n-v,s.text,p,s.font,l)).text,d="vertical"==x?n-v:d*h.length),g[a]=ej.util.isNullOrUndefined(g[a])||g[a]<d?d:g[a]);for(m.sort((function(e,t){return parseFloat(e.level)-parseFloat(t.level)})),e.multiLevelLabels.sort((function(e,t){return parseFloat(e.level)-parseFloat(t.level)})),t=0;t<m.length;t++)0==t?(e.multiLevelLabels[t]._level=m[t]._level=0,u=0):m[t].level>u+1?(e.multiLevelLabels[t]._level=m[t]._level=u+1,u=m[t]._level):(e.multiLevelLabels[t]._level=m[t]._level=m[t].level,u=m[t].level>u?m[t].level:u),"curlybrace"==c&&(y[e.multiLevelLabels[t]._level]=!0);for(S=0;S<g.length;S++)_[S]=i,ej.util.isNullOrUndefined(g[S])?(g.splice(S,1),S--):(i="brace"==c?i+g[S]:i+g[S]+5,y[S]&&(i+=v,g[S]+=v));return e._multiLevelLabelHeight=i,e.multiLevelLabelHeight=g,e.prevHeight=_,i},_saturationColor:function(e,t){e=this.colorNameToHex(e),(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;for(var i,s="#",a=0;a<3;a++)i=parseInt(e.substr(2*a,2),16),s+=("00"+(i=Math.round(Math.min(Math.max(0,i+i*t),255)).toString(16))).substr(i.length);return s},_drawChartAreaRect:function(){var e,t,i,s=this.model.background&&this.model.background._gradientStop?"url(#"+this.svgObject.id+"_backGradient)":this.model.background;this.model.backGroundImageUrl&&(s="transparent"),e=this.model.border,t={id:this.svgObject.id+"_SvgRect",x:e.width/2,y:e.width/2,width:$(this.svgObject).width()-2*e.width,height:$(this.svgObject).height()-2*e.width,fill:s,opacity:e.opacity,"stroke-width":e.width,stroke:e.color,class:"e-chartborder"},this.svgRenderer.drawRect(t,this.svgObject),this.model.backGroundImageUrl&&this._drawBackImage(),"cartesianaxes"!=this.model.AreaType||this.model.enable3D||(i={id:this.svgObject.id+"_ChartArea",x:this.model.m_AreaBounds.X,y:this.model.m_AreaBounds.Y,width:this.model.m_AreaBounds.Width,height:this.model.m_AreaBounds.Height,fill:this.model.chartArea.background,"stroke-width":this.model.chartArea.border.width,opacity:this.model.chartArea.border.opacity,stroke:this.model.chartArea.border.color,class:"e-chartareaborder"},this.svgRenderer.drawRect(i,this.svgObject))},axesIndexCount:function(e,t){for(var i,s=[],a=0;a<e.length;a++)"vertical"==(i=e[a]).orientation.toLowerCase()?i.rowIndex==t&&s.push(i):i.columnIndex==t&&s.push(i);return s},axesCount:function(e){var t,i,s,a=[],o=[],r=0,l=this.model;if($.each(e,(function(e,t){"vertical"==t.orientation.toLowerCase()?(r=l.rowDefinitions?l.rowDefinitions.length:0,(0==e||t.rowIndex!=a[a.length-1].axis.rowIndex)&&a.push({axis:t,index:t.rowIndex})):(r=l.columnDefinitions?l.columnDefinitions.length:0,(0==e||t.columnIndex!=a[a.length-1].axis.columnIndex)&&a.push({axis:t,index:t.columnIndex}))})),t=a.length,r>t)for(t=r,i=0;i<r;i++)o.push(i);else for(s=0;s<t;s++)o.push(a[s].index);return{length:t,indexValue:o}},_calRowSize:function(){var e,t,i,s,a,o,r=0,l=[],n=0,d=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height;if(null!=this.model._rowDefinitions[0].rowDefinitions)for(e=0,t=this.model._rowDefinitions.length;e<t;e++)(i=this.model._rowDefinitions[e].rowDefinitions).rowHeight=Math.abs(i.rowHeight),s=0,"percentage"==i.unit.toLowerCase()?(a=this._axisRowDefinitionSize(this.model.rowDefinitions),s=Math.floor(this.model.m_AreaBounds.Height*(i.rowHeight/a))):s=i.rowHeight,0==e&&l.push(d),l.push(d-s-n),n+=s;else{for(o=Math.floor(this.model.m_AreaBounds.Height/this.model._rowDefinitions.length),r=d;r>=this.model.m_AreaBounds.Y;r-=o)l.push(r),o=o||1;l.length&&l.length<=1&&l.push(r)}return l},_calColumnSize:function(){var e,t,i,s,a,o,r,l,n=[],d=this.model.m_AreaBounds.X,h=this.model.m_AreaBounds.Width,c=0,u=this.model._columnDefinitions;if(null!=u[0].columnDefinitions)for(e=0,t=u.length;e<t;e++)(i=u[e].columnDefinitions).columnWidth=Math.abs(i.columnWidth),"percentage"==i.unit.toLowerCase()?(a=this._axisColumnDefinitionSize(this.model.columnDefinitions),s=Math.floor(h*(i.columnWidth/a))):s=i.columnWidth,0==e&&n.push(d),n.push(d+s+c),c+=s;else{for(o=Math.floor(h/u.length),r=d,l=d+h;r<=l;r+=o)n.push(r),o=o||1;n.length&&n.length<=1&&n.push(r)}return n},_calculateAxisSize:function(e){for(var t,i,s,a,o,r,l=!0,n=!0,d=this._calColumnSize(),h=this.model._columnDefinitions,c=0,u=h.length;c<u;c++){var p=d[c],m=d[c+1],g=0,_=0,f=!0,b=!0,v=this.model.m_AreaBounds.Y,x=v+this.model.m_AreaBounds.Height;for(o=0,t=h[c].axis.length;o<t;o++){var y=h[c].axis[o],w=0,S=y._opposed;if(e.axes[y.name]._validCross||(S?b&&(n||0==_)?(w=v,b=!1):(w=v-=h.farSizes[_],_++):f&&(l||0==g)?(w=x,f=!1):(w=x+=h.nearSizes[g],g++)),y.columnSpan){if(h[c].index!=y.columnIndex)continue;m=d[u>=c+y.columnSpan?c+y.columnSpan:c+1],S||0!=g||(l=f),S&&0==_&&(n=b)}else m=d[c+1],l=!0,n=!0;y.Location={},y.Location.X1=p+y.plotOffset,y.Location.Y1=w,y.Location.X2=m-y.plotOffset,y.Location.Y2=w,y.x=y.Location.X1,y.y=y.Location.Y1,y.width=y.Location.X2-y.Location.X1,y.height=y.Location.Y2-y.Location.Y1}}for(l=!0,n=!0,i=this._calRowSize(),c=0,a=(s=this.model._rowDefinitions).length;c<a;c++){var C=i[c],T=i[c+1],L=0,k=0,P=!0,j=!0,D=this.model.m_AreaBounds.X,A=D,O=D+this.model.m_AreaBounds.Width;for(o=0,r=s[c].axis.length;o<r;o++){var I=0,R=s[c].axis[o];if(S=R._opposed,e.axes[R.name]._validCross||(S?j&&(n||0==n)?(I=O,j=!1):(I=O+=s.farSizes[k],k++):P&&(l||0==L)?(I=D,P=!1):(I=A-=s.nearSizes[L],L++)),R.rowSpan){if(s[c].index!=R.rowIndex)continue;T=i[a>=c+R.rowSpan?c+R.rowSpan:c+1],S||0!=L||(l=P),S&&0==k&&(n=j)}else T=i[c+1],l=!0,n=!0;R.Location={},R.Location.X1=I,R.Location.Y1=C-R.plotOffset,R.Location.X2=I,R.Location.Y2=T+R.plotOffset,R.x=R.Location.X1,R.y=R.Location.Y2,R.height=R.Location.Y1-R.Location.Y2,R.width=R.axisLine.width}}},_validateCrossing:function(e){if(e._opposedPosition=!1,null!=e.crossesAt){var t=this._getCrossAxis(this.model._axes,"horizontal"==e.orientation.toLowerCase(),e.crossesInAxis);return e._crossValue=this._getCrossValue(e,t,t._valueType),((t.isInversed?!e.opposedPosition:e.opposedPosition)?e._crossValue<=t.visibleRange.min:e._crossValue>=t.visibleRange.max)&&(e._opposedPosition=!0),t.visibleRange.min<e._crossValue&&t.visibleRange.max>e._crossValue}return!1},_axisCrossing:function(e,t,i){var s="horizontal"==e.orientation.toLowerCase(),a=this._getCrossAxis(this.model._axes,s,e.crossesInAxis),o=e._crossValue,r=Math.abs((a.isInversed?a.visibleRange.max:a.visibleRange.min)-o);this._locateAxis(e,a,s,r),t||(i._crossAxisOverlap=this._avoidOverlapping(e,this.model.m_AreaBounds,s,e.opposedPosition,i)||i._crossAxisOverlap)},_locateAxis:function(e,t,i,s){var a=(i?t.height:t.width)*s/t.visibleRange.delta;i?e.y=t.y+t.height-a:e.x=t.x+a},_avoidOverlapping:function(e,t,i,s,a){var o=0,r=e.showNextToAxisLine?a.axes[e.name]._bounds:0;if(i){if(!s&&e.y+r>t.Y+t.Height)return t.Height-=o=e.y+r-t.Y-t.Height,this._recalculateSpace(e,i,s,o),!0;if(s&&e.y-r<t.Y)return t.Y+=o=r-(e.y-t.Y),t.Height-=o,this._recalculateSpace(e,i,s,o),!0}else{if(!s&&e.x-r<t.X)return t.X+=o=r-(e.x-t.X),t.Width-=o,this._recalculateSpace(e,i,s,o),!0;if(s&&e.x+r>t.X+t.Width)return t.Width-=o=e.x+r-t.X-t.Width,this._recalculateSpace(e,i,s,o),!0;if("inside"==e.labelPosition&&e.x+r>t.X+t.Width)return t.Width-=o=e.x+r-t.X-t.Width,this._recalculateSpace(e,i,s,o,e.showNextToAxisLine),!0}},_recalculateSpace:function(e,t,i,s,a){var o,r,l,n,d,h,c,u;if(t){for(d=0,h=(r=this.model._rowDefinitions)[l=i?r.length-1:0].axis.length;d<h;d++)r[l].axis[d].height-=s,r[l].axis[d].Location.Y2-=s,i&&(r[l].axis[d].Location.Y1=r[l].axis[d].y+=s);for(o=e.columnIndex,d=0,h=(r=this.model._columnDefinitions).length;d<h;d++)if(d!==o)for(c=0,u=r[d].axis.length;c<u;c++)r[d].axis[c]._opposed===i&&(r[d].axis[c].Location.Y1=r[d].axis[c].Location.Y2=r[d].axis[c].y+=(i?1:-1)*s)}else{for(d=0,h=(r=this.model._columnDefinitions)[l=i?r.length-1:0].axis.length;d<h;d++)r[l].axis[d].width-=s,a||(i?r[l].axis[d].Location.X2-=s:r[l].axis[d].Location.X1=r[l].axis[d].x+=s);for(n=e.rowIndex,d=0,h=(r=this.model._rowDefinitions).length;d<h;d++)if(d!==n)for(c=0,u=r[d].axis.length;c<u;c++)r[d].axis[c]._opposed===i&&(r[d].axis[c].Location.X1=r[d].axis[c].Location.X2=r[d].axis[c].x+=(i?-1:1)*s)}},_getCrossValue:function(e,t,i){switch(i.toLowerCase()){case"category":return-1!=t.labels.indexOf(e.crossesAt)?t.labels.indexOf(e.crossesAt):e.crossesAt;case"datetime":return isNaN(Date.parse(e.crossesAt))?null:Date.parse(e.crossesAt);case"logarithmic":return Math.log(e.crossesAt)/Math.log(t.logBase)}return e.crossesAt},_getXCrossValue:function(e,t,i){var s=t.crossesInAxis,a=e._yAxisName;return(i.axes[t.name]._validCross||null==i.axes[t.name]._validCross)&&t.crossesAt&&(!s&&a===this.model.primaryYAxis.name||s&&this._getCrossAxis(this.model._axes,!0,s).name===a)?t.crossesAt:0},_getAxisByName:function(e,t,i){if(i)for(var s=0,a=e.length;s<a;s++)if(e[s].name===i&&(t?"vertical"==e[s].orientation:"horizontal"==e[s].orientation))return e[s]},_getCrossAxis:function(e,t,i){return this._getAxisByName(e,t,i)||(this.model.requireInvertedAxes?t?this.model.primaryXAxis:this.model.primaryYAxis:t?this.model.primaryYAxis:this.model.primaryXAxis)},_arrangeAxis:function(){for(var e,t,i,s,a,o,r,l,n,d,h,c,u,p,m=this,g=0;g<this.model._axes.length;g++)"horizontal"==(u=this.model._axes[g]).orientation.toLowerCase()?(m.model.hAxes.push(u),u.columnIndex=ej.util.isNullOrUndefined(u.columnIndex)?0:u.columnIndex,m.model.hAxes[m.model.hAxes.length-1].columnIndex=u.columnIndex):"vertical"==u.orientation.toLowerCase()&&(m.model.vAxes.push(u),u.rowIndex=ej.util.isNullOrUndefined(u.rowIndex)?0:u.rowIndex,m.model.vAxes[m.model.vAxes.length-1].rowIndex=u.rowIndex,(p=ej.util.isNullOrUndefined(m.model.rowDefinitions)?null:m.model.rowDefinitions[u.rowIndex])&&(u.axisBottomLine={},u.axisBottomLine.visible=!0,u.axisBottomLine.lineWidth=p.lineWidth,u.axisBottomLine.color=p.lineColor));if(this.model.hAxes=ej.DataManager(this.model.hAxes,ej.Query().sortBy("columnIndex")).executeLocal(),this.model.vAxes=ej.DataManager(this.model.vAxes,ej.Query().sortBy("rowIndex")).executeLocal(),e=this.axesCount(m.model.vAxes),m.model._rowDefinitions=[],m.model.vAxes.length>0)for(t=0;t<e.length;t++)s=(i=m.model.rowDefinitions)?i[t]?i[t]:i[0]:null,m.model._rowDefinitions.push({axis:this.axesIndexCount(m.model.vAxes,e.indexValue[t]),index:e.indexValue[t],rowDefinitions:s});if(a=m.model._rowDefinitions,o=this._axisFilter(a,"rowSpan"),this._SpanningAxes(a,o,!0),r=this.axesCount(m.model.hAxes),m.model._columnDefinitions=[],m.model.hAxes.length>0)for(l=0;l<r.length;l++)d=(n=m.model.columnDefinitions)?n[l]?n[l]:n[0]:null,m.model._columnDefinitions.push({axis:this.axesIndexCount(m.model.hAxes,r.indexValue[l]),index:r.indexValue[l],columnDefinitions:d});h=m.model._columnDefinitions,c=this._axisFilter(h,"columnSpan"),this._SpanningAxes(h,c,!1),this._axisSize()},_SpanningAxes:function(e,t,i){for(var s,a,o,r,l,n,d=0,h=t.length;d<h&&null!=(s=t[d]);d++)if(a=i?s.rowSpan:s.columnSpan,void 0!=e[o=i?s.rowIndex:s.columnIndex])for(r=e[o].axis.indexOf(s),l=1,n=o+1;l<a&&n<e.length;l++,n++)e[n].axis.length>=r&&e[n].axis.splice(r,0,s)},_axisFilter:function(e,t){var i=[];return e.filter((function(e){for(var s=ej.DataManager(e.axis,ej.Query().where(t,">",1)).executeLocal(),a=0,o=s.length;a<o;a++)i.push(s[a])})),i},_axisSize:function(){for(var e,t,i,s,a,o,r=this._getLegendSpace(),l=$(this.svgObject).width()-this.model.margin.left-this.model.margin.right-2*this.model.elementSpacing-r.leftLegendWidth-r.rightLegendWidth,n=Math.floor(l/this.axesCount(this.model.hAxes).length),d=$(this.svgObject).height()-this.model.margin.top-this.model.margin.bottom-2*this.model.elementSpacing-r.topLegendHeight-r.bottomLegendHeight-r.modelTitleHeight-r.modelsubTitleHeight,h=Math.floor(d/this.axesCount(this.model.vAxes).length),c=0;c<this.model._axes.length;c++)"horizontal"==(e=this.model._axes[c]).orientation.toLowerCase()?"polaraxes"!=this.model.AreaType?(i=n,(t=ej.util.isNullOrUndefined(this.model.columnDefinitions)?[]:this.model.columnDefinitions[e.columnIndex])&&(t.unit=void 0==t.unit?"percentage":t.unit,t.columnWidth=void 0==t.columnWidth?100:t.columnWidth,"percentage"==t.unit.toLowerCase()?(o=this._axisColumnDefinitionSize(this.model.columnDefinitions),i=Math.floor(n*(t.columnWidth/o))):i=t.columnWidth),e.length=e.columnSpan?e.columnSpan*i:i):e.length=l>2*d?l-d:l:"vertical"==e.orientation.toLowerCase()&&("polaraxes"!=this.model.AreaType?(a=h,(s=ej.util.isNullOrUndefined(this.model.rowDefinitions)?[]:this.model.rowDefinitions[e.rowIndex])&&(s.unit=void 0==s.unit?"percentage":s.unit,s.rowHeight=void 0==s.rowHeight?100:s.rowHeight,"percentage"==s.unit.toLowerCase()?(o=this._axisRowDefinitionSize(this.model.rowDefinitions),a=Math.floor(h*(s.rowHeight/o))):a=s.rowHeight),e.length=e.rowSpan?e.rowSpan*a:a):e.length=d/2)},_axisRowDefinitionSize:function(e){var t,i=0;if(e)for(t=0;t<e.length;t++)i+=e[t].rowHeight;return i>100?i:100},_axisColumnDefinitionSize:function(e){var t,i=0;if(e)for(t=0;t<e.length;t++)i+=e[t].columnWidth;return i>100?i:100},_axisMeasure:function(e,t,i,s){var a,o=0,r=0;e.axisLine.width=e.axisLine.width<0?0:e.axisLine.width,e.majorTickLines.size=e.visible?e.majorTickLines.size<0?0:e.majorTickLines.size:0;var l=!this.model.enable3D&&e.visible&&e.axisLine.visible&&e.axisLine.width,n=ej.EjSvgRender.utils._measureText(e.title.text,t,e.title.font),d=e.visible?this.model.elementSpacing:0;return"vertical"==i?(r=e._LableMaxWidth.width,o=""!=e.title.text&&e.title.visible&&e.visible?8===document.documentMode?n.width:n.height+2*d:0):(r=e._LableMaxWidth.height,o=""!=e.title.text&&e.title.visible&&e.visible?n.height+d:0),o="inside"==e.title.position.toLowerCase()?0:o,a=this.getMultiLevelLabelSize(e),e.AxisMaxWidth=0==s&&"inside"==e.tickLinesPosition&&"inside"==e.labelPosition?o+a+l+d:0==s&&"inside"==e.tickLinesPosition&&"inside"!=e.labelPosition?o+a+l+d+r:0==s&&"inside"!=e.tickLinesPosition&&"inside"==e.labelPosition?o+a+l+d+e.majorTickLines.size:o+a+l+d+e.majorTickLines.size+r,e.AxisMaxWidth+=e._isScroll?18:0,e.AxisMaxWidth},_arraySum:function(e){for(var t=0,i=0;i<e.length;i++)t+=parseFloat(e[i])||0;return t},_calSpace:function(e,t,i,s){for(var a,o,r,l,n,d,h,c=[],u=[],p=0;p<t.length;p++)for(a=0,o=0,r=0;r<t[p].axis.length;r++)l=t[p].axis[r],n=s.axes[l.name]._bounds=this._axisMeasure(l,e,i,r),h=(d=s.axes[l.name]._validCross=this._validateCrossing(l))?0:n,l._opposed=l.opposedPosition?!l._opposedPosition:l._opposedPosition||l.opposedPosiiton||!1,d&&t[p].axis[r].showNextToAxisLine||(l.showNextToAxisLine||(h="inside"==l.labelPosition?n-l._multiLevelLabelHeight:n),l._opposed?(u.length<=o?u.push(h):u[o]<h&&(u[o]=h),o++):(c.length<=a?c.push(h):c[a]<h&&(c[a]=h),a++));return{nearSizes:c,farSizes:u}},_getLegendSpace:function(){var e,t,i,s=this.model,a=s.legend,o=a.position.toLowerCase(),r=s.LegendActualBounds,l=ej.EjSvgRender.utils._measureText,n=s.title,d=n.subTitle,h=s.elementSpacing,c=s.margin,u=s.svgWidth,p=a.border.width,m=0,g=0,_=0,f=0,b=0,v=0,x=(n.text.split(" "),n.enableTrim),y="auto"==(y=n.maximumWidth).toString()||""==y.toString()?.75*u:parseInt(y),w=n.textOverflow.toLowerCase(),S=n.text,C=n.visible,T=ej.EjSvgRender.utils._measureText(n.text,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,n.font),L=(d.text.split(" "),d.enableTrim),k="auto"==(k=d.maximumWidth).toString()||""==k.toString()?.75*u:parseInt(k),P=d.textOverflow.toLowerCase(),j=d.text,D=d.visible,A=ej.EjSvgRender.utils._measureText(d.text,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,d.font),O=!!(C&&x&&T.width>y),I=!!(D&&L&&A.width>k),R="wrap"==w||"wrapandtrim"==w,M="wrap"==P||"wrapandtrim"==P;this.model.titleWrapTextCollection=[],this.model.subTitleWrapTextCollection=[],this.model.trimTooltip=!1,this.model.subTitleTooltip=!1,a.visible&&(g=r.Width+5+h+2*p,_="left"==o?g:0,f="right"==o?g:0,a.title.text&&(m=l(a.title,null,a.title.font).height),b="top"==o?r.Height+m+2*p:0,v="bottom"==o?r.Height+m+2*p:0),O&&"wrap"==w||O&&"wrapandtrim"==w?(i={text:S,font:n.font},e=this._rowsCalculation(i,y,w)):("wrapandtrim"==w||"wrap"==w)&&(i={text:S,font:n.font},e=this._rowsCalculation(i,ej.EjSvgRender.utils._measureText(S,null,n.font).width,w)),this.model.titleWrapTextCollection=e?e.textCollection:"",this.model.titleMaxWidth=e?e.wordMax:y,I&&"wrap"==P?(i={text:j,font:d.font},t=this._rowsCalculation(i,k,P)):I&&"wrapandtrim"==P?(i={text:j,font:d.font},t=this._rowsCalculation(i,k,P),this.model.subTitleTooltip=this.model.trimTooltip):("wrapandtrim"==P||"wrap"==P)&&(i={text:j,font:d.font},t=this._rowsCalculation(i,k,P)),this.model.subTitleWrapTextCollection=t?t.textCollection:"",this.model.subTitleMaxWidth=t?t.wordMax:k;var E=l(n.text,u-c.left-c.right,n.font).height,V=l(d.text,u-c.left-c.right,d.font).height;return{leftLegendWidth:_,rightLegendWidth:f,topLegendHeight:b,bottomLegendHeight:v,modelTitleHeight:""!=n.text&&n.visible?x&&R&&T.width>y?E*this.model.titleWrapTextCollection.length+h:E+h:0,modelsubTitleHeight:""!=d.text&&d.visible&&n.visible?L&&M&&A.width>k?V*this.model.subTitleWrapTextCollection.length+h:V+h:0}},_arraySome:function(e,t){for(var i,s,a=!1,o=this.model.zooming.enableScrollbar,r=e.length,l=0;l<r;l++)i=e[l].scrollbarSettings.enableScrollbar,s=e[l].scrollbarSettings.pointsLength,a=a||(e[l]._isScroll&&e[l].maxPointLength<s||e[l].zoomFactor<1&&i&&o)&&e[l].orientation.toLowerCase()==t;return a},_calculateAreaBounds:function(e){var t,i,s=this,a=$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,o=s.model.border.width;this.model._axes[0],this.model.zooming.enableScrollbar,this.model.zooming.type.toLowerCase(),s.model.scrollerSize=18,this.model._yScroll=this._arraySome(this.model._axes,"vertical"),this.model._xScroll=this._arraySome(this.model._axes,"horizontal"),t=this._calSpace(a,s.model._rowDefinitions,"vertical",e),s.model._rowDefinitions.nearSizes=t.nearSizes,s.model._rowDefinitions.farSizes=t.farSizes;var r=this._arraySum(t.nearSizes),l=this._arraySum(t.farSizes),n=this._getLegendSpace(),d=r+n.leftLegendWidth+s.model.margin.left+o,h=l+n.rightLegendWidth+s.model.margin.right+s.model.margin.left+2*o,c=$(this.svgObject).width(),u=c-(d+h);if((u=Math.round(u)<=0?0:u)<=0&&"cartesianaxes"==this.model.AreaType)$(this.svgObject).width(c-u+1),this._calculateAreaBounds(e);else{i=this._calSpace(a,s.model._columnDefinitions,"horizontal",e),s.model._columnDefinitions.nearSizes=i.nearSizes,s.model._columnDefinitions.farSizes=i.farSizes;var p=this._arraySum(i.nearSizes),m=this._arraySum(i.farSizes),g=p||m?this.model.elementSpacing:0,_=m+this.model.margin.top+g+n.modelTitleHeight+n.modelsubTitleHeight+n.topLegendHeight+o,f=p+this.model.margin.bottom+n.bottomLegendHeight+2*o,b=Math.abs($(this.svgObject).height()-(_+f));b=0==b?1:b,this.model.m_AreaBounds={X:d,Y:_,Width:u,Height:b},this.model.m_Spacing={Left:d,Top:_,Right:h,Bottom:f},this.model.enableCanvasRendering?(this.canvasX=d,this.canvasY=_,this.canvasWidth=u,this.canvasHeight=b):this.canvasX=this.canvasY=this.canvasHeight=this.canvasWidth=0}}},jQuery.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}}(jQuery),ej.EjSvgScrollbarRender=function(e,t){var i,s;this.svgSupport=!!window.SVGSVGElement,i=jQuery(e).attr("id"),this.scrollsvgObj=this.scrollsvgObj?this.scrollsvgObj:[],this.svgSupport?(this.svgLink="http://www.w3.org/2000/svg",this.scrollsvgObj[t.index]=document.createElementNS(this.svgLink,"svg"),this.scrollsvgObj[t.index].setAttribute("id","scrollbar_"+i+t.index)):(s=document,this.scrollsvgObj[t.index]=s.createElement("div"),this.scrollsvgObj[t.index].style.position="relative",this.scrollsvgObj[t.index].setAttribute("id","scrollbar_"+i+t.index))},function(e){ej.EjSvgScrollbarRender.prototype={_initializeScrollbarVariables:function(e){e.offsetLeftX=0,e.rectWidth=e.offsetRightX=e.oldWidth=e.width,e.startX=0,e.endX=0,e.scrollbarLoaded=!1,(e.zoomPosition||e.zoomFactor)&&(e.offsetLeftX=e.zoomPosition*e.width,e.rectWidth=e.zoomFactor*e.width)},_scrollbarUpdate:function(e){var t,i=15,s=parseFloat(e.width)-30;e.offsetLeftX=e.scrollbarLoaded?e.offsetLeftX-i:e.offsetLeftX,e.offsetLeftX=e.offsetLeftX<i?0:e.offsetLeftX;var a=e.offsetLeftX/e.oldWidth*s+i,o=e.rectWidth/e.oldWidth*s,r=o<44;e._diff=r?44-o:0,o=o>44?o:44,e.oldWidth=s,t=a+o,e.rectWidth=o,e.offsetLeftX=e.startX=a,e.offsetRightX=t-i<=a?t+i:t,e.endX=e.width-e.offsetRightX,e.startX=a<i?i:a,a+o>e.width-i&&(e.offsetLeftX=e.startX=e.width-i-o,e.offsetRightX=e.width-i,e.endX=e.width-e.offsetRightX),e.scrollbarLoaded=!0},_renderScrollbar:function(t){var i,s,a,o,r,l,n,d,h,c,u,p,m,g;this.scrollsvgObj=this.scrollsvgObj?this.scrollsvgObj:[],e(this.scrollsvgObj[t.index]).empty(),this.scrollsvgObj[t.index]&&e(document).find("[id*= "+this.scrollsvgObj[t.index].id+"]").attr("height","0px");var _=this._id,f=15,b=18;this.scrollsvgObj[t.index]=this.scrollbarContainer.scrollsvgObj[t.index];var v=parseFloat(t.width),x=v-30;t.offsetLeftX=t.scrollbarLoaded?t.offsetLeftX-f:t.offsetLeftX,t.offsetLeftX=t.offsetLeftX<f?0:t.offsetLeftX;var y=t.offsetLeftX/t.oldWidth*x+f,w=t.rectWidth/t.oldWidth*x,S=w<44;t._diff=S?44-w:0,w=w>44?w:44,t.oldWidth=x,i=(y=y+w>x?x-(w-f):y)+w,t.rectWidth=w,t.offsetLeftX=t.startX=y,t.offsetRightX=y+w,t.endX=t.width-t.offsetRightX,t.scrollbarLoaded=!0,i=i-f<=y?i+f:i,s=this.padding||0,a=this.vmlRendering?-5:0,this.scrollbar="horizontal"==t.orientation?this.renderer.createGroup({id:_+"_scrollbar_"+t.index,transform:"translate("+s+","+a+")"}):this.renderer.createGroup({id:_+"_scrollbar_"+t.index,transform:"translate(0,"+t.width+") rotate(270)"});var C=function(e,t,i,s,a,o){var r=" ",l="v",n="a",d=o.orientation,h=o.opposed;return"vertical"==d&&!h||h&&"vertical"!=d?"M "+e+r+a+r+l+r+(s-a)+" h"+r+i+r+l+r+(a-s)+r+n+r+a+r+a+r+0+r+0+r+0+r+-a+r+-a+" h"+r+-(i-2*a)+r+n+r+a+r+a+r+0+r+0+r+0+r+-4+r+a+" z":"M "+e+r+t+r+l+r+(s-a)+r+n+r+a+r+a+r+0+r+0+r+0+r+a+r+a+" h"+r+(i-2*a)+r+n+r+a+r+a+r+0+r+0+r+0+r+a+r+-a+r+l+r+(a-s)+" z"}(0,0,v,b,4,t),T={id:_+"_scrollbarBackRect_"+t.index,"stroke-width":1,height:b,width:v,"stroke-linejoin":"round",stroke:"#B4B4B4",fill:"#F7F7F7",class:"e-rangeScroll-backRect"};this.vmlRendering?this.renderer.drawRect(T,this.scrollbar):(T.d=C,this.renderer.drawPath(T,this.scrollbar)),o={id:_+"_scrollbarRightRect_"+t.index,"stroke-width":1,x:v-5,height:b,width:5,"stroke-linejoin":"round",stroke:"transparent",fill:"transparent"},this.renderer.drawRect(o,this.scrollbar),r={id:_+"_scrollbarLeftRect_"+t.index,"stroke-width":1,x:0,height:b,width:5,"stroke-linejoin":"round",stroke:"transparent",fill:"transparent"},this.renderer.drawRect(r,this.scrollbar),l={id:_+"_scrollbarLeftArrow_"+t.index,"stroke-width":1,stroke:"#999999",d:"M 5 9 L 10 14 L 10 3.5 Z",fill:"#999999",class:"e-rangeScroll-arrow"},this.renderer.drawPath(l,this.scrollbar),n={id:_+"_scrollbarRightArrow_"+t.index,"stroke-width":1,stroke:"#999999",d:"M "+(v-5)+" 9 L "+(v-10)+" 14 L "+(v-10)+" 3.5 Z",fill:"#999999",class:"e-rangeScroll-arrow"},this.renderer.drawPath(n,this.scrollbar),d={id:_+"_scrollbarSelect_"+t.index,x:y,y:0,width:w,rx:4,ry:4,height:17,stroke:"#999999","stroke-width":1,fill:"#CECECE",class:"e-rangeScroll-select"},this.renderer.drawRect(d,this.scrollbar),this.centerLine=this.renderer.createGroup({id:_+"_scrollbarCenterLine_"+t.index,transform:"translate("+(y+w/2-7.5)+")"}),h={id:_+"_scrollbarCenterShape_"+t.index,"stroke-width":1,stroke:"#999999",d:"M 0 3.5 L 0 13.5 ZM 5 3.5 L 5 13.5 ZM 10 3.5 L 10 13.5 ZM 15 3.5 L 15 13.5 Z",fill:"#999999",class:"e-rangeScroll-centerShape"},this.renderer.drawPath(h,this.centerLine),this.renderer.append(this.centerLine,this.scrollbar),c={id:_+"_leftHeaderHideRect_"+t.index,x:y,y:0,width:11,height:17,fill:"transparent",opacity:0,"stroke-width":1,class:"e-rangeScroll-leftRect"},this.renderer.drawRect(c,this.scrollbar),u={id:_+"_scrollbarLeftHeader_"+t.index,cx:y+8,cy:8.5,r:3,fill:"#999999",stroke:"#999999","stroke-width":1,class:"e-rangeScroll-leftCircle"},this.renderer.drawCircle(u,this.scrollbar),p={id:_+"_rightHeaderHideRect_"+t.index,x:i-11,y:0,width:11,height:17,fill:"transparent",opacity:0,"stroke-width":1,class:"e-rangeScroll-rightRect"},this.renderer.drawRect(p,this.scrollbar),m={id:_+"_scrollbarRightHeader_"+t.index,fill:"#999999",cx:i-8,cy:8.5,r:3,stroke:"#999999","stroke-width":1,class:"e-rangeScroll-rightCircle"},this.renderer.drawCircle(m,this.scrollbar),this.renderer.append(this.scrollbar,this.scrollsvgObj[t.index]),"horizontal"==t.orientation?(this.scrollsvgObj[t.index].setAttribute("height",b),this.scrollsvgObj[t.index].setAttribute("width",v)):(this.scrollsvgObj[t.index].setAttribute("height",v),this.scrollsvgObj[t.index].setAttribute("width",b)),this.renderer.append(this.scrollsvgObj[t.index],t.parent),g=this.vmlRendering?t.y+5:t.y,"ejRangeNavigator"==this.pluginName?this.scrollsvgObj[t.index].setAttribute("style","overflow:visible;position:relative;display:block; top:"+(g-t.y)+"px;left:"+t.x+"px"):this.scrollsvgObj[t.index].setAttribute("style","overflow:visible;position:absolute;display:block; top:"+g+"px;left:"+t.x+"px"),e("#"+_+"_scrollbarSelect_"+t.index).css({cursor:"pointer"}),t.enableResize?(e("#"+_+"_leftHeaderHideRect_"+t.index).css({cursor:"horizontal"==t.orientation?"w-resize":"n-resize"}),e("#"+_+"_rightHeaderHideRect_"+t.index).css({cursor:"horizontal"==t.orientation?"w-resize":"n-resize"}),e("#"+_+"_scrollbarRightHeader_"+t.index).css({cursor:"horizontal"==t.orientation?"w-resize":"n-resize"}),e("#"+_+"_scrollbarLeftHeader_"+t.index).css({cursor:"horizontal"==t.orientation?"w-resize":"n-resize"})):(e("#"+_+"_leftHeaderHideRect_"+t.index).hide(),e("#"+_+"_rightHeaderHideRect_"+t.index).hide(),e("#"+_+"_scrollbarLeftHeader_"+t.index).hide(),e("#"+_+"_scrollbarRightHeader_"+t.index).hide()),this.vmlRendering&&(e("#"+_+"_leftHeaderHideRect_"+t.index).css("visibility","hidden"),e("#"+_+"_rightHeaderHideRect_"+t.index).css("visibility","hidden")),this.scrollbarContainer._bindScrollEvents.call(this,t)},_bindScrollEvents:function(t){function i(t){this._on(e("#"+o+"_scrollbarLeftHeader_"+t.index),"mousedown",this.scrollbarContainer._leftScrollbarDown),this._on(e("#"+o+"_scrollbarRightHeader_"+t.index),"mousedown",this.scrollbarContainer._rightScrollbarDown),this._on(e("#"+o+"_leftHeaderHideRect_"+t.index),"mousedown",this.scrollbarContainer._leftScrollbarDown),this._on(e("#"+o+"_rightHeaderHideRect_"+t.index),"mousedown",this.scrollbarContainer._rightScrollbarDown),this._on(e("#"+o+"_scrollbarLeftArrow_"+t.index),"mousedown",this.scrollbarContainer._leftArrowDown),this._on(e("#"+o+"_scrollbarLeftArrow_"+t.index),"mouseup",this.scrollbarContainer._leftArrowUp),this._on(e("#"+o+"_scrollbarRightArrow_"+t.index),"mousedown",this.scrollbarContainer._rightArrowDown),this._on(e("#"+o+"_scrollbarRightArrow_"+t.index),"mouseup",this.scrollbarContainer._rightArrowUp),this._on(e("#"+o+"_scrollbarSelect_"+t.index),"mousedown",this.scrollbarContainer._scrollSelectRectDown),this._on(e("#"+o+"_scrollbarBackRect_"+t.index),"mousedown",this.scrollbarContainer._scrollBackRectDown),this._on(e("#"+o+"_scrollbarBackRect_"+t.index),"mouseup",this.scrollbarContainer._scrollBackRectUp),this._on(e(window),"mousemove",this.scrollbarContainer._scrollbarMove),this._on(e(window),"mouseup",this.scrollbarContainer._scrollbarUp),this._on(e(this.svgObject),"mousemove",this.scrollbarContainer._scrollbarMove),this._on(e(this.scrollsvgObj[t.index]),"mousemove",this.scrollbarContainer._scrollbarMove),this._on(e(this.scrollsvgObj[t.index]),"mouseup",this.scrollbarContainer._scrollbarUp)}function s(t){this._on(e("#"+o+"_scrollbarLeftHeader_"+t.index),"touchstart",this.scrollbarContainer._leftScrollbarDown),this._on(e("#"+o+"_scrollbarRightHeader_"+t.index),"touchstart",this.scrollbarContainer._rightScrollbarDown),this._on(e("#"+o+"_leftHeaderHideRect_"+t.index),"touchstart",this.scrollbarContainer._leftScrollbarDown),this._on(e("#"+o+"_rightHeaderHideRect_"+t.index),"touchstart",this.scrollbarContainer._rightScrollbarDown),this._on(e("#"+o+"_scrollbarLeftArrow_"+t.index),"touchstart",this.scrollbarContainer._leftArrowDown),this._on(e("#"+o+"_scrollbarLeftArrow_"+t.index),"touchend",this.scrollbarContainer._leftArrowUp),this._on(e("#"+o+"_scrollbarRightArrow_"+t.index),"touchstart",this.scrollbarContainer._rightArrowDown),this._on(e("#"+o+"_scrollbarRightArrow_"+t.index),"touchend",this.scrollbarContainer._rightArrowUp),this._on(e("#"+o+"_scrollbarSelect_"+t.index),"touchstart",this.scrollbarContainer._scrollSelectRectDown),this._on(e("#"+o+"_scrollbarBackRect_"+t.index),"touchstart",this.scrollbarContainer._scrollBackRectDown),this._on(e("#"+o+"_scrollbarBackRect_"+t.index),"touchend",this.scrollbarContainer._scrollBackRectUp),this._on(e(window),"touchmove",this.scrollbarContainer._scrollbarMove),this._on(e(window),"touchend",this.scrollbarContainer._scrollbarUp),this._on(e(this.scrollsvgObj[t.index]),"touchmove",this.scrollbarContainer._scrollbarMove),this._on(e(this.scrollsvgObj[t.index]),"touchend",this.scrollbarContainer._scrollbarUp)}var a,o=this._id,r=jQuery.uaMatch(navigator.userAgent),l=!!navigator.userAgent.match(/Trident\/7\./);if(i.call(this,t),window.PointerEvent)this._on(e("#"+o+"_scrollbarLeftHeader_"+t.index),"pointerdown",this.scrollbarContainer._leftScrollbarDown),this._on(e("#"+o+"_scrollbarRightHeader_"+t.index),"pointerdown",this.scrollbarContainer._rightScrollbarDown),this._on(e("#"+o+"_leftHeaderHideRect_"+t.index),"pointerdown",this.scrollbarContainer._leftScrollbarDown),this._on(e("#"+o+"_rightHeaderHideRect_"+t.index),"pointerdown",this.scrollbarContainer._rightScrollbarDown),this._on(e("#"+o+"_scrollbarLeftArrow_"+t.index),"pointerdown",this.scrollbarContainer._leftArrowDown),this._on(e("#"+o+"_scrollbarLeftArrow_"+t.index),"pointerup",this.scrollbarContainer._leftArrowUp),this._on(e("#"+o+"_scrollbarRightArrow_"+t.index),"pointerdown",this.scrollbarContainer._rightArrowDown),this._on(e("#"+o+"_scrollbarRightArrow_"+t.index),"pointerup",this.scrollbarContainer._rightArrowUp),this._on(e("#"+o+"_scrollbarSelect_"+t.index),"pointerdown",this.scrollbarContainer._scrollSelectRectDown),this._on(e("#"+o+"_scrollbarBackRect_"+t.index),"pointerdown",this.scrollbarContainer._scrollBackRectDown),this._on(e("#"+o+"_scrollbarBackRect_"+t.index),"pointerup",this.scrollbarContainer._scrollBackRectUp),this._on(e(window),"pointermove",this.scrollbarContainer._scrollbarMove),this._on(e(window),"pointerup",this.scrollbarContainer._scrollbarUp),this._on(e(this.scrollsvgObj[t.index]),"pointermove",this.scrollbarContainer._scrollbarMove),this._on(e(this.scrollsvgObj[t.index]),"pointerup",this.scrollbarContainer._scrollbarUp),e(this.scrollsvgObj[t.index]).css("touch-action","none");else if(window.navigator.msPointerEnabled&&!l)this._on(e("#"+o+"_scrollbarLeftHeader_"+t.index),"MSPointerDown",this.scrollbarContainer._leftScrollbarDown),this._on(e("#"+o+"_scrollbarRightHeader_"+t.index),"MSPointerDown",this.scrollbarContainer._rightScrollbarDown),this._on(e("#"+o+"_leftHeaderHideRect_"+t.index),"MSPointerDown",this.scrollbarContainer._leftScrollbarDown),this._on(e("#"+o+"_rightHeaderHideRect_"+t.index),"MSPointerDown",this.scrollbarContainer._rightScrollbarDown),this._on(e("#"+o+"_scrollbarLeftArrow_"+t.index),"MSPointerDown",this.scrollbarContainer._leftArrowDown),this._on(e("#"+o+"_scrollbarLeftArrow_"+t.index),"MSPointerUp",this.scrollbarContainer._leftArrowUp),this._on(e("#"+o+"_scrollbarRightArrow_"+t.index),"MSPointerDown",this.scrollbarContainer._rightArrowDown),this._on(e("#"+o+"_scrollbarRightArrow_"+t.index),"MSPointerUp",this.scrollbarContainer._rightArrowUp),this._on(e("#"+o+"_scrollbarSelect_"+t.index),"MSPointerDown",this.scrollbarContainer._scrollSelectRectDown),this._on(e("#"+o+"_scrollbarBackRect_"+t.index),"MSPointerDown",this.scrollbarContainer._scrollBackRectDown),this._on(e("#"+o+"_scrollbarBackRect_"+t.index),"MSPointerUp",this.scrollbarContainer._scrollBackRectUp),this._on(e(window),"MSPointerMove",this.scrollbarContainer._scrollbarMove),this._on(e(window),"MSPointerUp",this.scrollbarContainer._scrollbarUp),this._on(e(this.scrollsvgObj[t.index]),"MSPointerMove",this.scrollbarContainer._scrollbarMove),this._on(e(this.scrollsvgObj[t.index]),"MSPointerUp",this.scrollbarContainer._scrollbarUp),e(this.scrollsvgObj[t.index]).css("-ms-touch-action","none");else if("chrome"==r.browser.toLowerCase())s.call(this,t);else if(this.isDevice()){var n=-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome"),d=window.location!=window.parent.location?window.parent.navigator.userAgent.toLowerCase():window.navigator.userAgent.toLowerCase(),h=/mobile|tablet|android|kindle/i.test(d);ej.isMobile()&&this.isWindows()||!h&&ej.isMobile()&&n?(i.call(this),e(this.scrollsvgObj[t.index]).css("-ms-touch-action","none")):s.call(this,t)}a="mozilla"==r.browser.toLowerCase()?l?"mousewheel":"DOMMouseScroll":"mousewheel",this._on(e(this.scrollsvgObj[t.index]),a,this.scrollbarContainer._scrollMouseWheel),l&&e(this.scrollsvgObj[t.index]).css("touch-action","none")},_setScrollPosition:function(t,i,s){var a=this._id,o=t+s.rectWidth/2-7.5;e("#"+a+"_scrollbarLeftHeader_"+s.index).attr("cx",t+8),e("#"+a+"_leftHeaderHideRect_"+s.index).attr("x",t),e("#"+a+"_scrollbarRightHeader_"+s.index).attr("cx",i-8),e("#"+a+"_rightHeaderHideRect_"+s.index).attr("x",i-5),e("#"+a+"_scrollbarSelect_"+s.index).attr("x",t),e("#"+a+"_scrollbarSelect_"+s.index).attr("width",s.rectWidth),e("#"+a+"_scrollbarCenterLine_"+s.index).attr("transform","translate("+o+")"),"ejRangeNavigator"==this.pluginName&&(e("#"+a+"_scrollbarLeftHeader_"+s.index).css("left",t),e("#"+a+"_leftHeaderHideRect_"+s.index).css("left",t),e("#"+a+"_scrollbarRightHeader_"+s.index).css("left",i-8),e("#"+a+"_rightHeaderHideRect_"+s.index).css("left",i-5),e("#"+a+"_scrollbarSelect_"+s.index).css("left",t),e("#"+a+"_scrollbarCenterLine_"+s.index).css("left",o))},_calculateScrollLeftMove:function(e,t){t._startX-e>15?(t.startX=t._startX-e,t.offsetLeftX=t.startX,t._offsetRightX=t.startX+t.rectWidth,t.offsetRightX=t._offsetRightX,t.endX=t.width-t.offsetRightX):(t.startX=15,t._offsetLeftX=t.offsetLeftX,t.offsetLeftX=t.startX,t._offsetRightX=t.startX+t.rectWidth,t.offsetRightX=t._offsetRightX,t.endX=t.width-t.offsetRightX)},_calculateScrollRightMove:function(e,t){t&&t._offsetRightX+Math.abs(e)<t.width-15?(t._startX=t.startX+Math.abs(e),t.offsetLeftX=t._startX,t.offsetRightX=t._offsetRightX+Math.abs(e),t.endX=t.width-t.offsetRightX):(t._ofsetRightX=t.offsetRightX,t.offsetRightX=t.width-15,t._startX=t.offsetRightX-t.rectWidth,t.offsetLeftX=t._startX,t.endX=t.width-t.offsetRightX)},_calculateRange:function(t,i,s){var a,o,r,l,n,d,h,c;return a=(t-15)/(s.width-30-s._diff),r=s.scrollRange,o=(s.rectWidth-s._diff)/(s.width-30-s._diff),s.isRTL?l=(n=r.max-a*r.delta)-o*r.delta:n=(l=r.min+a*r.delta)+o*r.delta,"datetime"==s.valueType?(d=s.startDateTime,h=s.endDateTime,s.startDateTime=this.startDateTime=l=new Date(l),s.endDateTime=this.endDateTime=n=new Date(n)):(d=parseInt(s.startValue),h=parseInt(s.endValue),s.startValue=this.startValue=l=Math.ceil(l),s.endValue=this.endValue=n=Math.ceil(n)),s._scrollChanged=!0,(c=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={zoomPosition:a,zoomFactor:o,oldRange:{start:d,end:h},newRange:{start:l,end:n}},s.zoomPosition=a,s.zoomFactor=o,c},_calculateScrollPosition:function(t,i){var s,a,o,r,l,n,d,h,c,u;if(this.leftScrollbarClicked&&i.enableResize)return s=((t=(t=t>=15?t:15)>=15&&t<i.offsetRightX-15?t:i.offsetRightX-15)-36)/(i.width-30),a=i.rectWidth/(i.width-30),h=i.valueType.toLowerCase(),o=i.scrollRange,i.isRTL?(l=(l=o.max-s*o.delta)<o.max?l:o.max,"datetime"==h?(n=i.startDateTime,d=i.endDateTime,i.endDateTime=this.endDateTime=l=new Date(l),r=i.startDateTime):(n=parseInt(i.startValue),d=parseInt(i.endValue),i.endValue=this.endValue=l=Math.ceil(l),r=Math.ceil(i.startValue))):(r=(r=o.min+s*o.delta)>o.min?r:o.min,"datetime"==h?(n=i.startDateTime,d=i.endDateTime,i.startDateTime=this.startDateTime=r=new Date(r),l=i.endDateTime):(n=parseInt(i.startValue),d=parseInt(i.endValue),i.startValue=this.startValue=r=Math.ceil(r),l=Math.ceil(i.endValue))),(c=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={zoomPosition:s,zoomFactor:a,oldRange:{start:n,end:d},newRange:{start:r,end:l}},i._scrollChanged=!0,i.zoomPosition=s,i.zoomFactor=a,c;if(this.rightScrollbarClicked&&i.enableResize)return o=i.scrollRange,a=i.rectWidth/(i.width-30),s=i.zoomPosition,h=i.valueType.toLowerCase(),i.isRTL?(s=(t-36)/(i.width-30),r=o.max-s*o.delta,"datetime"==h?(n=i.startDateTime,d=i.endDateTime,i.startDateTime=this.startDateTime=r=new Date(r),l=i.endDateTime):(n=parseInt(i.startValue),d=parseInt(i.endValue),i.startValue=this.startValue=r=Math.floor(r),l=Math.ceil(i.endValue))):(l=o.min+s*o.delta+a*o.delta,"datetime"==h?(n=i.startDateTime,d=i.endDateTime,i.endDateTime=this.endDateTime=l=new Date(l),r=i.startDateTime):(n=parseInt(i.startValue),d=parseInt(i.endValue),i.endValue=this.endValue=l=Math.floor(l),r=Math.ceil(i.startValue))),(c=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={zoomPosition:i.zoomPosition?i.zoomPosition:0,zoomFactor:a,oldRange:{start:n,end:d},newRange:{start:r,end:l}},i._scrollChanged=!0,i.zoomFactor=a,c;if(i&&this.scrollRectClicked){if((u=this.mouseDownPos-t)>0&&i.offsetLeftX>=0)return this.scrollbarContainer._calculateScrollLeftMove.call(this,u,i),this.scrollbarContainer._calculateRange.call(this,i.startX,i.offsetRightX,i);if(u<0)return this.scrollbarContainer._calculateScrollRightMove.call(this,u,i),this.scrollbarContainer._calculateRange.call(this,i._startX,i.offsetRightX,i)}},_scrollbarMove:function(t){var i,s;if(this.moveClientX=ej.isNullOrUndefined(t.clientX)?null==t.originalEvent.clientX?t.originalEvent.touches[0].clientX:t.originalEvent.clientX:t.clientX,this.moveClientX!=this.downClientX){var a,o,r=this.model.padding||0,l=jQuery.uaMatch(navigator.userAgent),n=this.scrollbarContainer._doScrollIndex.call(this,t);if(!n)return 0;if(this.lastIndex=n.index,a=!this.vmlRendering&&"[object TouchEvent]"!==t.originalEvent.toString()&&"msie"!=l.browser.toLowerCase()||this.vmlRendering?("horizontal"==n.orientation?this.calMousePosition(t).X-n.x:n.width-(this.calMousePosition(t).Y-n.y))-r:("horizontal"==n.orientation?this.calTouchPosition(t).X-n.x:n.width-(this.calTouchPosition(t).Y-n.y))-r,this.mouseX=a,i=this._id,this.leftScrollbarClicked&&n.enableResize&&(n&&(a>34||a>23)&&a<n.offsetRightX-34?(n.rectWidth=n.width-(n.endX+a-8),o=a-8+n.rectWidth/2-7.5,e("#"+i+"_scrollbarLeftHeader_"+n.index).attr("cx",a),e("#"+i+"_leftHeaderHideRect_"+n.index).attr("x",a-7.5),e("#"+i+"_scrollbarSelect_"+n.index).attr("x",a-8),e("#"+i+"_scrollbarSelect_"+n.index).attr("width",n.rectWidth),e("#"+i+"_scrollbarCenterLine_"+n.index).attr("transform","translate("+o+")"),"ejRangeNavigator"==this.pluginName&&(e("#"+i+"_scrollbarLeftHeader_"+n.index).css("left",a),e("#"+i+"_leftHeaderHideRect_"+n.index).css("left",a-7.5),e("#"+i+"_scrollbarSelect_"+n.index).css("left",a),e("#"+i+"_scrollbarSelect_"+n.index).css("width",n.rectWidth),e("#"+i+"_scrollbarCenterLine_"+n.index).css("left",o)),n.offsetLeftX=n.startX=a-8,this.scrollbarContainer._scrollStartArgs.call(this,n),this.scrollbarContainer._scrollChangeArgs.call(this,n),n._diff=0):a>n.offsetRightX-34&&(this.rectWidth=42.89984101748814)),this.rightScrollbarClicked&&n.enableResize&&n&&(a<=n.width-34||a<=n.width-23)&&a>n.offsetLeftX+34&&(n.rectWidth=a-n.offsetLeftX+8,o=n.offsetLeftX+n.rectWidth/2-7.5,e("#"+i+"_scrollbarRightHeader_"+n.index).attr("cx",a),e("#"+i+"_rightHeaderHideRect_"+n.index).attr("x",a-2.5),e("#"+i+"_scrollbarSelect_"+n.index).attr("width",n.rectWidth),e("#"+i+"_scrollbarCenterLine_"+n.index).attr("transform","translate("+o+")"),"ejRangeNavigator"==this.pluginName&&(e("#"+i+"_scrollbarRightHeader_"+n.index).css("left",a),e("#"+i+"_rightHeaderHideRect_"+n.index).css("left",a-2.5),e("#"+i+"_scrollbarSelect_"+n.index).css("width",n.rectWidth),e("#"+i+"_scrollbarCenterLine_"+n.index).css("left",o)),n.offsetRightX=a+8,n.endX=n.width-a-8,this.scrollbarContainer._scrollStartArgs.call(this,n),this.scrollbarContainer._scrollChangeArgs.call(this,n),n._diff=0),this.scrollRectClicked&&(s=this.mouseDownPos-a,n._startX=ej.isNullOrUndefined(n._startX)?n.startX:n._startX,n&&s>0&&n.offsetLeftX>=0&&(this.scrollbarContainer._calculateScrollLeftMove.call(this,s,n),this.scrollbarContainer._setScrollPosition.call(this,n.startX,n.offsetRightX,n),(n.offsetLeftX>15||n.offsetLeftX!=n._offsetLeftX)&&(this.scrollbarContainer._scrollStartArgs.call(this,n),this.scrollbarContainer._scrollChangeArgs.call(this,n))),n&&s<0&&(ej.isNullOrUndefined(n._offsetRightX)&&(this.scrollbarContainer._scrollSelectRectDown.call(this,t),this.scrollbarContainer._scrollbarMove.call(this,t)),this.scrollbarContainer._calculateScrollRightMove.call(this,s,n),this.scrollbarContainer._setScrollPosition.call(this,n._startX,n._startX+n.rectWidth,n),(n.offsetRightX<n.width-15||n.offsetRightX!=n._ofsetRightX)&&(this.scrollbarContainer._scrollStartArgs.call(this,n),!1===this.model.enableDeferredUpdate||n.isZooming||""!=this.model.scrollChanged)))){var d,h,c,u,p=this.scrollbarContainer._calculateRange.call(this,n._startX,n._startX+n.rectWidth,n),m=p.data.oldRange,g=p.data.newRange;"datetime"==n.valueType.toLowerCase()?(d=Date.parse(m.start),c=Date.parse(g.start),h=Date.parse(m.end),u=Date.parse(g.end)):(d=m.start,c=g.start,h=m.end,u=g.end),""!=this.model.scrollChanged&&(d!=c||h!=u)&&(p=this.scrollbarContainer._args.call(this,n,p),this._trigger("scrollChanged",p)),this.model.enableDeferredUpdate||(this.scrollUpdate?this.scrollUpdate=!1:this.scrollbarContainer._appendScrollRange.call(this,n))}}this.offsetX=a},_scrollbarUp:function(t){var i,s,a,o,r,l,n,d,h,c=this.scrollbarContainer._doScrollIndex.call(this,t);e("[id^="+this._id+"_scrollbarSelect_]").attr("class","e-rangeScroll-select"),this.lastIndex=null,i=this.scrollbarContainer._calculateScrollPosition.call(this,this.mouseX,c),s=this.model.enableDeferredUpdate,i&&(a=i.data.oldRange,o=i.data.newRange,"datetime"==c.valueType.toLowerCase()?(r=Date.parse(a.start),n=Date.parse(o.start),l=Date.parse(a.end),d=Date.parse(o.end)):(r=a.start,n=o.start,l=a.end,d=o.end),(r!=n||l!=d||this.scrollRectClicked&&!s||s||this.leftScrollbarClicked||this.rightScrollbarClicked)&&(!(h=navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&navigator.vendor.toLowerCase().indexOf("google")>-1)||h&&(this.leftScrollbarClicked||this.rightScrollbarClicked)&&this.downClientX!=this.moveClientX||this.scrollRectClicked||this.leftArrowClicked||this.rightArrowClicked)&&(!this.leftScrollbarClicked&&!this.rightScrollbarClicked||(this.leftScrollbarClicked||this.rightScrollbarClicked)&&Math.ceil(c.rectWidth)!=Math.ceil(this.rectOldWidth)&&(Math.abs(c.rectWidth-c.rectOldWidth)>4||!c.rectOldWidth))&&(ej.isNullOrUndefined(c._previousStart)||c._previousStart!=n||c._previousEnd!=d)&&(i=this.scrollbarContainer._args.call(this,c,i),this._trigger("scrollEnd",i),c._scrollStarted=!1,c._previousStart=n,c._previousEnd=d,c.rectOldWidth=c.rectWidth,this.scrollUpdate?this.scrollUpdate=!1:this.scrollbarContainer._appendScrollRange.call(this,c)),c.release=!0,c.clicked=!1),this._scrollEnd=!1,this.leftScrollbarClicked=!1,this.rightScrollbarClicked=!1,this.scrollRectClicked=!1,this.leftArrowClicked=!1,this.rightArrowClicked=!1,this.scrollbarBackRectClicked=!1},_leftScrollbarDown:function(e){e.preventDefault(),this.leftScrollbarClicked=!0,this.downClientX=ej.isNullOrUndefined(e.clientX)?e.originalEvent.touches[0].clientX:e.clientX},_rightScrollbarDown:function(e){e.preventDefault(),this.rightScrollbarClicked=!0,this.downClientX=ej.isNullOrUndefined(e.clientX)?e.originalEvent.touches[0].clientX:e.clientX},_scrollSelectRectDown:function(t){var i,s=this.scrollbarContainer._doScrollIndex.call(this,t);e("#"+this._id+"_scrollbarSelect_"+s.index).attr("class","e-rangeScroll-select e-rangeScroll-select-hover"),t.preventDefault();var a=jQuery.uaMatch(navigator.userAgent),o=this.model.padding||0;s=this.scrollbarContainer._doScrollIndex.call(this,t),i=!this.vmlRendering&&"[object TouchEvent]"!==t.originalEvent.toString()&&"msie"!=a.browser.toLowerCase()||this.vmlRendering?("horizontal"==s.orientation?this.calMousePosition(t).X-s.x:s.width-(this.calMousePosition(t).Y-s.y))-o:("horizontal"==s.orientation?this.calTouchPosition(t).X-s.x:s.width-(this.calTouchPosition(t).Y-s.y))-o,this.mouseDownPos=i,s._startX=s.startX=s.offsetLeftX,s._offsetRightX=s.offsetRightX,s.clicked=!0,s.release=!1,this.scrollRectClicked=!0},_scrollMouseWheel:function(e){e.preventDefault();var t=this.scrollbarContainer._doScrollIndex.call(this,e),i=!!navigator.userAgent.match(/Trident\/7\./),s=e.originalEvent.wheelDelta,a="mozilla"==jQuery.uaMatch(navigator.userAgent).browser.toLowerCase()?i?s/120>0?1:-1:-e.originalEvent.detail/3>0?1:-1:s/120>0?1:-1,o=Math.max(1/ej.EjSvgRender.utils._minMax(t.zoomFactor,0,1),1),r=Math.max(o+.25*a,1);this.scrollbarContainer.doMouseWheelZoom.call(this,r,.5,t)},_scrollStartArgs:function(t){if(t._scrollStarted=!0,""!=this.model.scrollStart&&!this._scrollEnd){var i=e.extend({},ej.EjSvgRender.commonChartEventArgs);i.data=t.isZooming?{axis:this.model._axes[t.index],currentRange:this.model._axes[t.index].visibleRange}:{startRange:"datetime"==t.valueType?t.startDateTime:t.startValue,endRange:"datetime"==t.valueType?t.endDateTime:t.endValue},this._trigger("scrollStart",i),this._scrollEnd=!0}},_scrollChangeArgs:function(e){if(!1===this.model.enableDeferredUpdate||e.isZooming||""!=this.model.scrollChanged){var t,i,s,a,o=this.scrollbarContainer._calculateRange.call(this,e.offsetLeftX,e.offsetRightX,e),r=o.data.oldRange,l=o.data.newRange;"datetime"==e.valueType.toLowerCase()?(t=Date.parse(r.start),s=Date.parse(l.start),i=Date.parse(r.end),a=Date.parse(l.end)):(t=r.start,s=l.start,i=r.end,a=l.end),""!=this.model.scrollChanged&&(t!=s||i!=a)&&(o=this.scrollbarContainer._args.call(this,e,o),this._trigger("scrollChanged",o)),this.model.enableDeferredUpdate||(this.scrollUpdate?this.scrollUpdate=!1:this.scrollbarContainer._appendScrollRange.call(this,e))}},_scrollEndArgs:function(e,t){var i,s,a,o,r,l,n=this.scrollbarContainer._calculateRange.call(this,e,t.offsetRightX,t);n&&t._scrollStarted&&(i=n.data.oldRange,s=n.data.newRange,"datetime"==t.valueType.toLowerCase()?(a=Date.parse(i.start),r=Date.parse(s.start),o=Date.parse(i.end),l=Date.parse(s.end)):(a=i.start,r=s.start,o=i.end,l=s.end),(a!=r||o!=l||this.leftScrollbarClicked||this.rightScrollbarClicked)&&(n=this.scrollbarContainer._args.call(this,t,n),this._trigger("scrollEnd",n)),t._scrollStarted=!1,this.scrollUpdate?this.scrollUpdate=!1:this.scrollbarContainer._appendScrollRange.call(this,t))},_args:function(e,t){if(e.isZooming){var i=this.model._axes[e.index],s=t.data;s.axis=i,s.newRange=i.visibleRange,s.oldRange=i.previousRange}return e.isVirtual&&(t.data.axis=this.model._axes[e.index],delete t.data.zoomFactor,delete t.data.zoomPosition),t},doMouseWheelZoom:function(e,t,i){if(e>=1){var s=this.scrollbarContainer.calZoomFactors(e,t,i.zoomFactor,i.zoomPosition);i.zoomPosition!=s.zoomMPosition&&s.zoomMPosition+i.zoomFactor<=1&&i.zoomPosition>=0&&(s.zoomMPosition+i.zoomFactor>=1&&(s.zoomMPosition=1-i.zoomFactor),s.zoomMPosition<0&&(s.zoomMPosition=0),i.zoomPosition=s.zoomMPosition,i.startX=i.zoomPosition*(i.width-30-i._diff)+15,i.startX=i.startX+i.rectWidth+5>i.width?i.width-i.rectWidth-15:i.startX,i.offsetLeftX=i.startX,i._offsetRightX=i.startX+i.rectWidth,i._offsetRightX>i.width-15?(i.offsetRightX=i.width-15,i.startX=i.offsetRightX-i.rectWidth,i.offsetLeftX=i.startX):i.offsetRightX=i._offsetRightX,i.endX=i.width-i.offsetRightX,this.scrollbarContainer._setScrollPosition.call(this,i.startX,i.offsetRightX,i),this.scrollbarContainer._calculateMouseWheelRange.call(this,i.startX,i.offsetRightX,i))}return!1},_calculateMouseWheelRange:function(t,i,s){var a,o,r,l,n,d,h,c,u,p,m,g;s.zoomFactor=s.rectWidth/(s.width-30),s.zoomPosition=(t-15)/(s.width-30-s._diff),a=s.scrollRange,s.isRTL?o=(r=a.max-s.zoomPosition*a.delta)-s.zoomFactor*a.delta:r=(o=a.min+s.zoomPosition*a.delta)+s.zoomFactor*a.delta,"datetime"==s.valueType?(l=s.startDateTime,n=s.endDateTime,s.startDateTime=this.startDateTime=o=new Date(o),s.endDateTime=this.endDateTime=r=new Date(r)):(l=parseInt(s.startValue),n=parseInt(s.endValue),s.startValue=this.startValue=o=Math.ceil(o),s.endValue=this.endValue=r=Math.ceil(r)),(d=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={zoomPosition:s.zoomPosition,zoomFactor:s.zoomFactor,oldRange:{start:l,end:n},newRange:{start:o,end:r}},s._scrollChanged=!0,s._scrollStarted=!1,h=d.data.oldRange,c=d.data.newRange,"datetime"==s.valueType.toLowerCase()?(u=Date.parse(h.start),m=Date.parse(c.start),p=Date.parse(h.end),g=Date.parse(c.end)):(u=h.start,m=c.start,p=h.end,g=c.end),(u!=m||p!=g||s.isZooming)&&(this.scrollbarContainer._scrollStartArgs.call(this,s),d=this.scrollbarContainer._args.call(this,s,d),this._trigger("scrollEnd",d),this.scrollUpdate?this.scrollUpdate=!1:this.scrollbarContainer._appendScrollRange.call(this,s),this._scrollEnd=!1)},calZoomFactors:function(e,t,i,s){var a,o;return 1==e?(a=1,o=0):o=s+(i-(a=ej.EjSvgRender.utils._minMax(1/e,0,1)))*t,{zoomMFactor:a,zoomMPosition:o}},_leftArrowDown:function(e){var t,i;this.leftArrowClicked=!0,(t=this.scrollbarContainer._doScrollIndex.call(this,e))._startX=t.startX=t.offsetLeftX,t._offsetRightX=t.offsetRightX,t.leftIncrement=5,i=this,t.interval=setInterval((function(){i.scrollbarContainer.leftArrowRecursive.call(i,t)}),50)},_leftArrowUp:function(e){this.leftArrowClicked=!1;var t=this.scrollbarContainer._doScrollIndex.call(this,e);this.scrollbarContainer.leftArrowRecursive.call(this,t)},leftArrowRecursive:function(e){this.leftArrowClicked?(this._id,this.scrollbarContainer._calculateScrollLeftMove.call(this,e.leftIncrement,e),e._scrollStarted=!0,e.startX>15&&this.scrollbarContainer._scrollEndArgs.call(this,e.startX,e),this.scrollbarContainer._setScrollPosition.call(this,e.startX,e.offsetRightX,e),e.leftIncrement+=5):(clearInterval(e.interval),e.leftIncrement=0)},_rightArrowDown:function(e){var t,i;this.rightArrowClicked=!0,(t=this.scrollbarContainer._doScrollIndex.call(this,e))._startX=t.startX=t.offsetLeftX,t._offsetRightX=t.offsetRightX,t.rightIncrement=-5,i=this,t.interval=setInterval((function(){i.scrollbarContainer.rightArrowRecursive.call(i,t)}),50)},_rightArrowUp:function(e){this.rightArrowClicked=!1;var t=this.scrollbarContainer._doScrollIndex.call(this,e);this.scrollbarContainer.rightArrowRecursive.call(this,t)},rightArrowRecursive:function(e){this.rightArrowClicked?(this._id,this.scrollbarContainer._calculateScrollRightMove.call(this,e.rightIncrement,e),e._scrollStarted=!0,e.offsetRightX<e.width-15&&this.scrollbarContainer._scrollEndArgs.call(this,e._startX,e),this.scrollbarContainer._setScrollPosition.call(this,e._startX,e.offsetRightX,e),e.rightIncrement-=5):(clearInterval(e.interval),e.rightIncrement=0)},_scrollBackRectDown:function(e){var t,i,s,a=jQuery.uaMatch(navigator.userAgent),o=this.model.padding||0,r=this.scrollbarContainer._doScrollIndex.call(this,e);t=!this.vmlRendering&&"[object TouchEvent]"!==e.originalEvent.toString()&&"msie"!=a.browser.toLowerCase()||this.vmlRendering?("horizontal"==r.orientation?this.calMousePosition(e).X-r.x:r.width-(this.calMousePosition(e).Y-r.y))-o:("horizontal"==r.orientation?this.calTouchPosition(e).X-r.x:r.width-(this.calTouchPosition(e).Y-r.y))-o,this.mouseDownPos=t,this.scrollbarBackRectClicked=!0,i=this,this.scrollbarContainer._scrollStartArgs.call(this,r),s=setInterval((function(){i.scrollbarContainer.scrollBackRectRecursive.call(i,r),this.scrollbarBackRectClicked||clearInterval(s)}),50)},_scrollBackRectUp:function(e){this.scrollbarBackRectClicked=!1;var t=this.scrollbarContainer._doScrollIndex.call(this,e);this.scrollbarContainer.scrollBackRectRecursive.call(this,t)},_doScrollIndex:function(e){var t=this._id+"_scrollbar_",i=e.target.parentNode&&e.target.parentNode.id?e.target.parentNode.id:"",s=i.indexOf(t)>-1?parseInt(i.substr(t.length)):NaN;return ej.isNullOrUndefined(this.lastIndex)||isNaN(this.lastIndex)||!this.model.scrollObj[this.lastIndex].release&&this.model.scrollObj[this.lastIndex].clicked&&(s=this.lastIndex),this.lastIndex=ej.isNullOrUndefined(this.lastIndex)?s:this.lastIndex,ej.isNullOrUndefined(this.model.scrollObj[s])?this.model.scrollObj[this.lastIndex]:this.model.scrollObj[s]},scrollBackRectRecursive:function(e){if(this.scrollbarBackRectClicked){var t=.1*(e.width-30);e._startX=e.startX=e.offsetLeftX,e._offsetRightX=e.offsetRightX,this.mouseDownPos<e.startX?(t=t<e.startX?t:e.startX-16,this.scrollbarContainer._calculateScrollLeftMove.call(this,t,e),e._scrollStarted=!0,this.scrollbarContainer._scrollEndArgs.call(this,e.startX,e),this.scrollbarContainer._setScrollPosition.call(this,e.startX,e.offsetRightX,e)):this.mouseDownPos>e.offsetRightX?(t=-1*(t<e.endX?t:e.endX-16),this.scrollbarContainer._calculateScrollRightMove.call(this,t,e),e._scrollStarted=!0,this.scrollbarContainer._scrollEndArgs.call(this,e._startX,e),this.scrollbarContainer._setScrollPosition.call(this,e._startX,e.offsetRightX,e)):e._scrollStarted=!1}else e._scrollStarted=!1},_appendScrollRange:function(e){if(this.scrollbarUpdate=!0,"ejRangeNavigator"==this.pluginName)this.renderNavigator();else{var t=e.index,i=this.model._axes[t];e.isZooming&&(i.zoomFactor!=e.zoomFactor||i.zoomPosition!=e.zoomPosition)&&(i.zoomFactor=e.zoomFactor,i.zoomPosition=e.zoomPosition,this.redraw(!0))}this.scrollbarUpdate=!1}}}(jQuery),function(e,t){t.widget("ejChart","ej.datavisualization.Chart",{element:null,model:null,validTags:["div"],defaults:{border:{color:"transparent",width:0,opacity:.3},chartArea:{border:{color:"Gray",width:.5,opacity:.3},background:"transparent"},highlightColor:null,primaryXAxis:{rotateOn:"middle",crossesAt:null,crossesInAxis:null,isIndexed:!1,multiLevelLabelsColor:null,multiLevelLabelsFontColor:null,alignment:"center",labelPlacement:"",scrollbarSettings:{visible:!0,canResize:!0,range:{min:null,max:null},pointsLength:null},range:{min:null,max:null,interval:null},labelPosition:"outside",tickLinesPosition:"outside",alternateGridBand:{odd:{fill:"transparent",opacity:1},even:{fill:"transparent",opacity:1}},enableAutoIntervalOnZooming:!0,majorGridLines:{color:null,width:1,dashArray:"",visible:!0,opacity:1},majorTickLines:{color:null,width:1,size:5,visible:!0},minorGridLines:{color:null,width:1,dashArray:"",visible:!0},minorTickLines:{color:null,width:1,size:5,visible:!0},labelBorder:{color:null,width:0},multiLevelLabels:[{visible:!1,text:"",textAlignment:"center",start:null,end:null,level:0,maximumTextWidth:null,textOverflow:"trim",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",opacity:1},border:{type:"rectangle",width:1}}],minorTicksPerInterval:null,columnIndex:null,columnSpan:null,labelRotation:null,valueType:null,name:null,labelFormat:null,desiredIntervals:null,intervalType:null,roundingPlaces:null,logBase:10,plotOffset:0,labels:[],stripLine:[{visible:!1,startFromAxis:!1,text:"",width:0,textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",color:"black",opacity:1},start:null,end:null,isRepeat:!1,repeatEvery:null,repeatUntil:null,sizeType:"auto",color:"gray",borderColor:"black",zIndex:"over"}],title:{text:"",visible:!0,enableTrim:!1,offset:0,alignment:"center",isReversed:!1,position:"outside",maximumTitleWidth:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"14px",opacity:1,fontWeight:"regular",color:null}},rangePadding:"Auto",additionalPadding:[1,1],orientation:"Horizontal",maximumLabels:3,opposedPosition:!1,showNextToAxisLine:!0,axisLine:{visible:!0,width:1,dashArray:"",offset:0,color:null},labelIntersectAction:"none",maximumLabelWidth:34,enableTrim:!1,edgeLabelPlacement:"none",isInversed:!1,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",color:null,fontWeight:"regular",opacity:1},visible:!0,crosshairLabel:{rx:3,ry:3,border:{color:null,width:1},fill:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:null},visible:!1},zoomFactor:1,zoomPosition:0},primaryYAxis:{rotateOn:"middle",crossesAt:null,crossesInAxis:null,showNextToAxisLine:!0,alignment:"center",startFromZero:!0,range:{min:null,max:null,interval:null},scrollbarSettings:{visible:!0,canResize:!0,range:{min:null,max:null},pointsLength:null},labelPlacement:"",labelPosition:"outside",tickLinesPosition:"outside",multiLevelLabelsColor:null,multiLevelLabelsFontColor:null,alternateGridBand:{odd:{fill:"transparent",opacity:1},even:{fill:"transparent",opacity:1}},enableAutoIntervalOnZooming:!0,majorGridLines:{color:null,width:1,dashArray:"",visible:!0,opacity:1},majorTickLines:{color:null,width:1,size:5,visible:!0},minorGridLines:{color:null,width:1,dashArray:"",visible:!0},minorTickLines:{color:null,width:1,size:5,visible:!0},labelBorder:{color:null,width:0},multiLevelLabels:[{visible:!1,text:"",textAlignment:"center",start:null,end:null,level:0,maximumTextWidth:null,textOverflow:"trim",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",opacity:1},border:{type:"rectangle",width:1}}],minorTicksPerInterval:null,rowIndex:null,rowSpan:null,valueType:null,name:null,labelFormat:null,desiredIntervals:null,intervalType:null,roundingPlaces:null,labels:[],title:{text:"",visible:!0,enableTrim:!1,offset:0,alignment:"center",isReversed:!1,position:"outside",maximumTitleWidth:null,font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",opacity:1,size:"14px",fontWeight:"regular"}},rangePadding:"Auto",stripLine:[{visible:!1,startFromAxis:!1,width:0,text:"",textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontWeight:"Regular",fontStyle:"Normal",size:"12px",color:"black",opacity:1},start:null,end:null,isRepeat:!1,repeatEvery:null,repeatUntil:null,sizeType:"auto",color:"gray",borderColor:"black",zIndex:"over"}],logBase:10,plotOffset:0,orientation:"Vertical",maximumLabels:3,labelIntersectAction:"none",maximumLabelWidth:34,enableTrim:!1,edgeLabelPlacement:"none",isInversed:!1,crosshairLabel:{rx:3,ry:3,border:{color:null,width:1},fill:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:null},visible:!1},visible:!0,opposedPosition:!1,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",opacity:1,fontWeight:"regular",color:null},axisLine:{visible:!0,width:1,dashArray:"",offset:0,color:null},zoomFactor:1,zoomPosition:0},axes:[],secondaryX:{rotateOn:"middle",crossesAt:null,crossesInAxis:null,showNextToAxisLine:!0,alignment:"center",multiLevelLabelsColor:null,multiLevelLabelsFontColor:null,range:{min:null,max:null,interval:null},scrollbarSettings:{visible:!0,canResize:!0,range:{min:null,max:null},pointsLength:null},tickLinesPosition:"outside",labelPosition:"outside",majorGridLines:{color:null,width:1,dashArray:"",visible:!0},alternateGridBand:{odd:{fill:"transparent",opacity:1},even:{fill:"transparent",opacity:1}},enableAutoIntervalOnZooming:!0,majorTickLines:{color:null,width:1,size:5,visible:!0},minorGridLines:{color:null,width:1,dashArray:"",visible:!0},minorTickLines:{color:null,width:1,size:5,visible:!0},labelBorder:{color:null,width:0},multiLevelLabels:[{visible:!1,text:"",textAlignment:"center",start:null,end:null,level:0,maximumTextWidth:null,textOverflow:"trim",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",opacity:1},border:{type:"rectangle",width:1}}],minorTicksPerInterval:null,columnIndex:null,columnSpan:null,labelRotation:null,valueType:null,name:null,labelFormat:null,labelPlacement:"",desiredIntervals:null,intervalType:null,roundingPlaces:null,logBase:10,plotOffset:0,labels:[],stripLine:[{visible:!1,startFromAxis:!1,text:"",textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"regular",size:"12px",color:"black",opacity:1},start:null,end:null,isRepeat:!1,repeatEvery:null,repeatUntil:null,sizeType:"auto",color:"gray",borderColor:"black",zIndex:"over"}],title:{text:"",visible:!0,enableTrim:!1,offset:0,alignment:"center",isReversed:!1,position:"outside",maximumTitleWidth:null,font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",size:"14px",opacity:1,fontWeight:"regular"}},rangePadding:"Auto",additionalPadding:[1,1],orientation:"Horizontal",maximumLabels:3,opposedPosition:!1,axisLine:{visible:!0,width:1,dashArray:"",offset:0,color:null},labelIntersectAction:"none",edgeLabelPlacement:"none",font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",fontWeight:"regular",opacity:1},visible:!0,crosshairLabel:{rx:3,ry:3,border:{color:null,width:1},fill:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:null},visible:!1},zoomFactor:1,zoomPosition:0},secondaryY:{rotateOn:"middle",crossesAt:null,crossesInAxis:null,showNextToAxisLine:!0,alignment:"center",startFromZero:!0,multiLevelLabelsColor:null,multiLevelLabelsFontColor:null,range:{min:null,max:null,interval:null},scrollbarSettings:{visible:!0,canResize:!0,range:{min:null,max:null},pointsLength:null},tickLinesPosition:"outside",labelPosition:"outside",majorGridLines:{color:null,width:1,dashArray:"",visible:!0},alternateGridBand:{odd:{fill:"transparent",opacity:1},even:{fill:"transparent",opacity:1}},enableAutoIntervalOnZooming:!0,majorTickLines:{color:null,width:1,size:5,visible:!0},minorGridLines:{color:null,width:1,dashArray:"",visible:!0},minorTickLines:{color:null,width:1,size:5,visible:!0},labelBorder:{color:null,width:0},multiLevelLabels:[{visible:!1,text:"",textAlignment:"center",start:null,end:null,level:0,maximumTextWidth:null,textOverflow:"trim",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",opacity:1},border:{type:"rectangle",width:1}}],minorTicksPerInterval:null,rowIndex:null,rowSpan:null,valueType:null,name:null,labelFormat:null,desiredIntervals:null,intervalType:null,roundingPlaces:null,labels:[],title:{text:"",visible:!0,enableTrim:!1,offset:0,alignment:"center",isReversed:!1,position:"outside",maximumTitleWidth:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",opacity:1,size:"14px",fontWeight:"regular",color:null}},rangePadding:"Auto",stripLine:[{visible:!1,startFromAxis:!1,text:"",textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"regular",size:"12px",color:"black",opacity:1},start:null,end:null,isRepeat:!1,repeatEvery:null,repeatUntil:null,sizeType:"auto",color:"gray",borderColor:"black",zIndex:"over"}],logBase:10,plotOffset:0,orientation:"Vertical",maximumLabels:3,labelIntersectAction:"none",labelPlacement:"",edgeLabelPlacement:"none",crosshairLabel:{rx:3,ry:3,border:{color:null,width:1},fill:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:null},visible:!1},visible:!0,opposedPosition:!1,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",opacity:1,fontWeight:"regular"},axisLine:{color:null,visible:!0,width:1,dashArray:"",offset:0},zoomFactor:1,zoomPosition:0},trendlineDefaults:{type:"linear",visibility:"",visibleOnLegend:"visible",name:"Trendline",fill:"",width:1,opacity:1,dashArray:"",forwardForecast:0,backwardForecast:0,polynomialOrder:2,period:2,intercept:null,tooltip:{visible:!1,format:null,fill:null,border:{width:1,color:null},duration:"500ms",enableAnimation:!0,opacity:.95,font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",opacity:1}}},indicatorDefaults:{visible:!0,points:[],tooltip:{visible:!1,format:null,fill:null,border:{width:1,color:null},duration:"500ms",enableAnimation:!0,opacity:.95},seriesName:"",font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1},type:"SMA",period:14,standardDeviations:2,kPeriod:3,dPeriod:3,periodLine:{fill:"blue",width:2},lowerLine:{fill:"#008000",width:2},upperLine:{fill:"#ff0000",width:2},macdLine:{fill:"#ff9933",width:2},histogram:{fill:"#ccccff",opacity:1,border:{color:"#9999ff",width:1}},fill:"#00008B",width:2,xAxisName:"",yAxisName:"",visibility:"visible",macdType:"line",shortPeriod:12,longPeriod:26,trigger:9,enableAnimation:!1,animationDuration:null},annotationsDefault:{visible:!1,content:"",coordinateUnit:"none",verticalAlignment:"middle",horizontalAlignment:"middle",region:"chart",x:0,y:0,opacity:1,angle:0,xAxisName:"",yAxisName:"",margin:{left:0,right:0,bottom:0,top:0}},multiLevelLabelsDefault:{visible:!1,text:"",textAlignment:"center",start:null,end:null,level:0,maximumTextWidth:null,textOverflow:"trim",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",opacity:1},border:{type:"rectangle",width:1}},stripLineDefault:{visible:!1,startFromAxis:!1,width:0,text:"",textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"black",opacity:1},start:null,end:null,isRepeat:!1,repeatEvery:null,repeatUntil:null,sizeType:"auto",color:"gray",borderColor:"black",zIndex:"over",borderWidth:1},rowDefinitions:null,columnDefinitions:null,title:{text:"",enableTrim:!1,visible:!0,isReversed:!1,maximumWidth:"auto",textOverflow:"trim",textAlignment:"center",background:"transparent",border:{color:"transparent",width:1,opacity:.8,cornerRadius:.8},font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",size:"16px",opacity:1,fontWeight:"regular"},subTitle:{text:"",enableTrim:!1,visible:!0,maximumWidth:"auto",textOverflow:"trim",textAlignment:"far",background:"transparent",border:{color:"transparent",width:1,opacity:.8,cornerRadius:.8},font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",opacity:1,fontWeight:"regular"}}},lineCap:{butt:"butt",round:"round",square:"square"},lineJoin:{round:"round",bevel:"bevel",miter:"miter"},legendAlignment:{near:"near",center:"center",far:"far"},legendPosition:{top:"top",bottom:"bottom",right:"right",left:"left",custom:"custom"},enableAnimation:!0,legend:{title:{text:"",textAlignment:"center",font:{color:null,size:"12px",fontFamily:"Segoe UI",fontStyle:"normal",fontWeight:"regular"}},border:{color:"transparent",width:1},visible:!0,isReversed:!1,textOverflow:"trim",textWidth:34,legendContainerWidth:"20%",toggleSeriesVisibility:!0,enableScrollbar:!0,itemPadding:10,shape:"None",alignment:"Center",position:"Bottom",location:{x:0,y:0},itemStyle:{height:9,width:9,border:{color:"transparent",width:1}},rowCount:null,columnCount:null,opacity:1,fill:null,background:null,font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px"},size:{height:null,width:null}},indicators:[{points:[],tooltip:{visible:!1,format:null,fill:null,border:{width:1,color:null},duration:"500ms",enableAnimation:!0,opacity:.95},seriesName:"",animationDuration:null,type:"SMA",period:14,standardDeviations:2,kPeriod:3,dPeriod:3,periodLine:{fill:"blue",width:2},lowerLine:{fill:"#008000",width:2},upperLine:{fill:"#ff0000",width:2},macdLine:{fill:"#ff9933",width:2},histogram:{fill:"#ccccff",opacity:1,border:{color:"#9999ff",width:1}},fill:"#00008B",visible:!0,font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1},width:2,xAxisName:"",yAxisName:"",macdType:"line",shortPeriod:12,longPeriod:26,trigger:9,visibility:"visible",enableAnimation:!1}],background:null,backGroundImageUrl:null,annotations:[{visible:!1,content:"",coordinateUnit:"none",verticalAlignment:"middle",horizontalAlignment:"middle",region:"chart",x:0,y:0,opacity:1,angle:0,xAxisName:"",yAxisName:"",margin:{left:0,right:0,bottom:0,top:0}}],series:[{dragSettings:{enable:!1,type:"xy"},type:"column",enableTrackTooltip:!0,splitMode:"value",splitValue:null,splineType:"natural",cardinalSplineTension:.5,gapWidth:50,pieOfPieCoefficient:.6,visibleOnLegend:"visible",enableAnimation:!1,animationDuration:null,animationType:"linear",isClosed:!0,isTransposed:!1,isStacking:!0,columnSpacing:0,columnWidth:.7,columnFacet:"rectangle",drawType:"line",doughnutCoefficient:.4,explodeOffset:25,pyramidMode:"linear",boxPlotMode:"exclusive",funnelWidth:"11.6%",funnelHeight:"32.7%",positiveFill:null,showMedian:!0,outlierSettings:{shape:"circle",size:{width:6,height:6}},cornerRadius:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},connectorLine:{width:1,opacity:1,dashArray:null},errorBar:{visibility:"hidden",mode:"vertical",type:"fixedValue",horizontalErrorValue:1,verticalErrorValue:3,horizontalPositiveErrorValue:1,horizontalNegativeErrorValue:1,verticalPositiveErrorValue:5,verticalNegativeErrorValue:5,direction:"both",cap:{visible:!0,width:1,length:20},width:1,opacity:1},highlightSettings:{enable:!1,mode:"series",color:"",opacity:.6,border:{color:"",width:2},pattern:"none",customPattern:""},selectionSettings:{type:"Single",enable:!1,mode:"series",rangeType:"xy",color:"",opacity:.6,border:{color:"",width:2},pattern:"none",customPattern:""},emptyPointSettings:{visible:!0,style:{color:"",border:{color:"",width:1}},displayMode:"gap"},labelPosition:"inside",gapRatio:0,points:null,pieCoefficient:.8,doughnutSize:.8,dataSource:null,high:"",low:"",open:"",close:"",bullFillColor:null,bearFillColor:null,query:null,xName:"",yName:"",pointColorMappingName:"",visibility:"visible",startAngle:null,endAngle:null,xAxisName:null,yAxisName:null,explodeAll:null,explode:!1,explodeIndex:null,enableSmartLabels:null,tooltip:{visible:!1,isReversed:!1,format:null,template:null,fill:null,border:{width:1,color:null},enableAnimation:!0,duration:"500ms",opacity:.95},fill:null,opacity:1,lineCap:"butt",lineJoin:"round",dashArray:"",border:{width:1,color:"transparent",dashArray:""},width:2,marker:{shape:"circle",imageUrl:"",size:{width:6,height:6},visible:!1,opacity:1,fill:null,border:{color:"white",width:3},dataLabel:{visible:!1,isReversed:!1,angle:0,showEdgeLabels:!1,enableContrastColor:!1,textMappingName:"",verticalTextAlignment:"center",horizontalTextAlignment:"center",textPosition:"top",textAnchor:"middle",shape:"none",opacity:1,fill:null,border:{color:"white",width:.1},maximumLabelWidth:null,enableWrap:!1,connectorLine:{width:.5,type:"line",color:null},offset:{x:0,y:0},font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",color:null,size:"11px",opacity:1},margin:{left:5,top:5,bottom:5,right:5}}},bubbleOptions:{radiusMode:"minmax",minRadius:1,maxRadius:3},trendlines:[{visibility:"",visibleOnLegend:"visible",type:"linear",name:"Trendline",fill:"",width:1,opacity:1,dashArray:"",forwardForecast:0,backwardForecast:0,polynomialOrder:2,period:2,intercept:null,tooltip:{visible:!1,format:null,fill:null,border:{width:1,color:null},duration:"500ms",enableAnimation:!0,opacity:.95,font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",color:null,size:"12px",opacity:1}}}],font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1},_isdesigntime:!0}],commonSeriesOptions:{dragSettings:{enable:!1,type:"xy"},type:"column",enableTrackTooltip:!0,splitMode:"value",splitValue:null,splineType:"natural",cardinalSplineTension:.5,gapWidth:50,pieOfPieCoefficient:.6,visibleOnLegend:"visible",enableAnimation:!1,animationDuration:null,animationType:"linear",isClosed:!0,isTransposed:!1,isStacking:!1,columnWidth:.7,columnSpacing:0,columnFacet:"rectangle",drawType:"line",doughnutCoefficient:.4,explodeOffset:25,pyramidMode:"linear",boxPlotMode:"exclusive",funnelWidth:"11.6%",funnelHeight:"32.7%",positiveFill:null,showMedian:!0,outlierSettings:{shape:"circle",size:{width:6,height:6}},cornerRadius:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},connectorLine:{width:1,opacity:1,dashArray:null},errorBar:{visibility:"hidden",mode:"vertical",type:"fixedValue",horizontalErrorValue:1,verticalErrorValue:3,horizontalPositiveErrorValue:1,horizontalNegativeErrorValue:1,verticalPositiveErrorValue:5,verticalNegativeErrorValue:5,direction:"both",cap:{visible:!0,width:1,length:20},width:1,opacity:1},highlightSettings:{enable:!1,mode:"series",color:"",opacity:.6,border:{color:"",width:2},pattern:"none",customPattern:""},selectionSettings:{type:"Single",enable:!1,mode:"series",rangeType:"xy",color:"",opacity:.6,border:{color:"",width:2},pattern:"none",customPattern:""},emptyPointSettings:{visible:!0,style:{color:"",border:{color:"",width:1}},displayMode:"gap"},labelPosition:"inside",gapRatio:0,pieCoefficient:.8,doughnutSize:.8,dataSource:null,xName:"",yName:"",pointColorMappingName:"",high:"",low:"",open:"",close:"",startAngle:null,endAngle:null,xAxisName:null,yAxisName:null,explodeAll:!1,explode:!1,explodeIndex:null,enableSmartLabels:null,tooltip:{visible:!1,isReversed:!1,format:null,template:null,fill:null,border:{color:null,width:1},enableAnimation:!0,duration:"500ms",opacity:.95},fill:null,opacity:1,lineCap:"butt",lineJoin:"round",dashArray:"",border:{color:"transparent",width:1,dashArray:""},width:2,marker:{shape:"circle",imageUrl:"",size:{width:6,height:6},visible:!1,opacity:1,fill:null,border:{color:"white",width:3},dataLabel:{visible:!1,isReversed:!1,angle:0,enableContrastColor:!1,showEdgeLabels:!1,textMappingName:"",verticalTextAlignment:"center",horizontalTextAlignment:"center",textPosition:"top",textAnchor:"middle",shape:"none",maximumLabelWidth:null,enableWrap:!1,opacity:1,fill:null,border:{color:"white",width:.1},offset:{x:0,y:0},connectorLine:{width:.5,type:"line",height:null},font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"11px",color:null,opacity:1},margin:{left:5,top:5,bottom:5,right:5}}},bubbleOptions:{radiusMode:"minmax",minRadius:1,maxRadius:3},trendlines:[{visibility:"",visibleOnLegend:"visible",type:"linear",name:"Trendline",fill:"",width:1,opacity:1,dashArray:"",forwardForecast:0,backwardForecast:0,polynomialOrder:2,period:2,intercept:null,tooltip:{visible:!1,format:null,fill:null,border:{width:1,color:null},duration:"500ms",enableAnimation:!0,opacity:.95,font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",color:null,size:"12px",opacity:1}}}],font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1}},crosshair:{line:{width:1},marker:{visible:!0,size:{width:10,height:10},opacity:1,border:{width:3}},visible:!1,isReversed:!1,type:"crosshair",trackballTooltipSettings:{fill:null,mode:"float",border:{width:null,color:null},rx:3,ry:3,opacity:1,tooltipTemplate:null}},pointStyle:{lineCap:"butt",lineJoin:"round",opacity:1,interior:null,borderColor:null,borderWidth:1},textStyle:{marker:{textAlignment:"center",textPosition:"top"},font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1}},symbolShape:{None:0,LeftArrow:1,RightArrow:2,Circle:3,Cross:4,HorizLine:5,VertLine:6,Diamond:7,Rectangle:8,Triangle:9,InvertedTriangle:10,Hexagon:11,Pentagon:12,Star:13,Ellipse:14,Wedge:15,Trapezoid:16,UpArrow:17,DownArrow:18,Image:19,SeriesType:20},initSeriesRender:!0,theme:"flatlight",canResize:!1,isResponsive:!1,enable3D:!1,enableRotation:!1,sideBySideSeriesPlacement:null,perspectiveAngle:90,rotation:0,tilt:0,wallSize:2,depth:100,enableCanvasRendering:!1,selectedDataPointIndexes:[],exportSettings:{type:"png",fileName:"Chart",orientation:"portrait",angle:0,mode:"client",action:"",multipleExport:!1},zooming:{enable:!1,isReversed:!1,enableScrollbar:!1,type:"x,y",enablePinching:!0,enableMouseWheel:!1,enableDeferredZoom:!1,toolbarItems:["zoomIn","zoomOut","zoom","pan","reset"]},type:"x,y",locale:null,xZoomFactor:1,yZoomFactor:1,xZoomPosition:0,yZoomPosition:0,load:"",axesLabelRendering:"",axesRangeCalculate:"",axesTitleRendering:"",dragStart:"",dragging:"",dragEnd:"",chartAreaBoundsCalculate:"",legendItemRendering:"",legendBoundsCalculate:"",preRender:"",seriesRendering:"",trendlineRendering:"",symbolRendering:"",titleRendering:"",subtitleRendering:"",axesLabelsInitialize:"",pointRegionClick:"",seriesRegionClick:"",annotationClick:"",axisLabelClick:"",chartClick:"",scrollStart:"",scrollEnd:"",scrollChanged:"",chartDoubleClick:"",pointRegionMouseMove:"",legendItemClick:"",axisLabelMouseMove:"",chartMouseMove:"",legendItemMouseMove:"",chartMouseLeave:"",displayTextRendering:"",toolTipInitialize:"",trackAxisToolTip:"",trackToolTip:"",animationComplete:"",zoomed:"",destroy:"",create:"",beforeResize:"",afterResize:"",rangeSelected:"",multiLevelLabelClick:"",multiLevelLabelRendering:"",margin:{left:10,right:10,top:10,bottom:10},size:{width:null,height:null},elementSpacing:10,dateStart:25568.791666666668},dataTypes:{commonSeriesOptions:{dataSource:"data"},axes:"array",series:"array",annotations:"array",indicators:"array",seriesColors:"array",palette:"array",rowDefinitions:"array",columnDefinitions:"array",seriesBorderColors:"array",pointColors:"array",pointBorderColors:"array",initSeriesRender:"boolean",theme:"enum",canResize:"boolean",isResponsive:"boolean",elementSpacing:"number",primaryXAxis:{labels:"array",multiLevelLabels:"array",stripLine:"array",orientation:"enum",rangePadding:"enum",labelPlacement:"enum",tickLinesPosition:"enum",labelPosition:"enum",opposedPosition:"boolean",zoomFactor:"number",zoomPosition:"number",showNextToAxisLine:"boolean"},primaryYAxis:{labels:"array",multiLevelLabels:"array",stripLine:"array",orientation:"enum",rangePadding:"enum",labelPlacement:"enum",opposedPosition:"boolean",zoomFactor:"number",zoomPosition:"number"},legend:{textOverflow:"enum",shape:"enum",alignment:"enum",position:"enum",itemPadding:"number"},exportSettings:{type:"string",fileName:"string",orientation:"enum",angle:"number",mode:"enum",action:"string",multipleExport:"boolean"},zooming:{enable:"boolean",type:"string",enableMouseWheel:"boolean",toolbarItems:"array",enableScrollbar:"boolean"},size:{width:"string",height:"string"}},observables:["xZoomFactor","yZoomFactor","xZoomPosition","yZoomPosition"],_tags:[{tag:"series",attr:["xAxisName","yAxisName","zOrder","endAngle","startAngle","explodeIndex","labelPosition","xName","yName","pointColorMappingName","pyramidMode","boxPlotMode","showMedian","pieCoefficient","explodeAll","explodeOffset","funnelWidth","columnFacet","funnelHeight","gapRatio","isClosed","isTransposed","enableTrackTooltip","isStacking","bearFillColor","bullFillColor","dataSource","enableAnimation","animationDuration","doughnutCoefficient","doughnutSize","enableSmartLabels","drawType","dashArray","visibleOnLegend","columnSpacing","columnWidth","drawType","positiveFill","explodeIndex","cornerRadius","lineCap","lineJoin","highlightSettings.enable","highlightSettings.mode","highlightSettings.pattern","highlightSettings.color","highlightSettings.opacity","highlightSettings.customPattern","highlightSettings.border.color","highlightSettings.border.width","selectionSettings.enable","selectionSettings.mode","selectionSettings.pattern","selectionSettings.color","selectionSettings.opacity","selectionSettings.customPattern","selectionSettings.type","selectionSettings.rangeType","selectionSettings.border.width","selectionSettings.border.color","dragSettings.enable","dragSettings.type","connectorLine.width","connectorLine.opacity","connectorLine.dashArray","cornerRadius.topLeft","cornerRadius.topRight","cornerRadius.bottomLeft","cornerRadius.bottomRight","errorBar.visibility","errorBar.mode","errorBar.type","errorBar.horizontalErrorValue","errorBar.verticalErrorValue","errorBar.horizontalPositiveErrorValue","errorBar.horizontalNegativeErrorValue","errorBar.verticalPositiveErrorValue","errorBar.verticalNegativeErrorValue","errorBar.direction","errorBar.cap.visible","errorBar.cap.width","errorBar.cap.length","errorBar.width","errorBar.opacity","emptyPointSettings.visible","emptyPointSettings.style.color","emptyPointSettings.style.border.color","emptyPointSettings.style.border.width","emptyPointSettings.displayMode","bubbleOptions.minRadius","bubbleOptions.maxRadius","bubbleOptions.radiusMode","tooltip.visible","tooltip.format","tooltip.template","tooltip.fill","tooltip.border.width","tooltip.border.color","tooltip.enableAnimation","tooltip.duration","tooltip.opacity","tooltip.font.size","tooltip.font.opacity","tooltip.font.fontFamily","tooltip.font.fontStyle","tooltip.font.fontWeight","tooltip.font.color","border.width","border.color","border.dashArray","marker.shape","marker.imageUrl","marker.size.width","marker.size.height","marker.visible","marker.opacity","marker.fill","marker.border.color","marker.border.width","marker.dataLabel.visible","marker.dataLabel.angle","marker.dataLabel.template","marker.dataLabel.textMappingName","marker.dataLabel.verticalTextAlignment","marker.dataLabel.horizontalTextAlignment","marker.dataLabel.textPosition","marker.dataLabel.textAnchor","marker.dataLabel.shape","marker.dataLabel.opacity","marker.dataLabel.fill","marker.dataLabel.border.color","marker.dataLabel.border.width","marker.dataLabel.maximumLabelWidth","marker.dataLabel.enableWrap","marker.dataLabel.connectorLine.width","marker.dataLabel.connectorLine.type","marker.dataLabel.connectorLine.color","marker.dataLabel.offset","marker.dataLabel.offset.x","marker.dataLabel.offset.y","marker.dataLabel.font.size","marker.dataLabel.font.color","marker.dataLabel.enableContrastColor","marker.dataLabel.showEdgeLabels","marker.dataLabel.font.opacity","marker.dataLabel.font.fontFamily","marker.dataLabel.font.fontStyle","marker.dataLabel.font.fontWeight","marker.dataLabel.margin","marker.dataLabel.margin.left","marker.dataLabel.margin.top","marker.dataLabel.margin.bottom","marker.dataLabel.margin.right","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","font.color","splineType","cardinalSplineTension",[{tag:"trendlines",attr:["visibility","visibilityOnLegend","dashArray","forewardForecast","backwardForecast","polynomialOrder","tooltip.visible","tooltip.format","tooltip.fill","tooltip.border.width","tooltip.border.color","tooltip.enableAnimation","tooltip.duration","tooltip.opacity","tooltip.font.size","tooltip.font.opacity","tooltip.font.fontFamily","tooltip.font.fontStyle","tooltip.font.fontWeight","tooltip.font.color"],singular:"trendline"}],[{tag:"points",attr:["x","y","text","textMappingName","isEmpty","fill","visible"],singular:"points"}]],singular:"series"},{tag:"axes",attr:["columnIndex","rowIndex","desiredIntervals","multiLevelLabelsColor","multiLevelLabelsFontColor","isIndexed","labelPlacement","edgeLabelPlacement","intervalType","labelFormat","labelPosition","labelRotation","logBase","labelIntersectAction","opposedPosition","plotOffset","rangePadding","roundingPlaces","valueType","zoomFactor","zoomPosition","orientation","crossesAt","crossesInAxis","scrollbarSettings.visible","scrollbarSettings.canResize","scrollbarSettings.range.min","scrollbarSettings.range.max","scrollbarSettings.pointsLength","range.min","range.max","range.interval","tickLinesPosition","alternateGridBand.odd.fill","alternateGridBand.odd.opacity","alternateGridBand.even.fill","alternateGridBand.even.opacity","enableAutoIntervalOnZooming","majorGridLines.width","majorGridLines.color","majorGridLines.dashArray","majorGridLines.visible","majorGridLines.opacity","majorTickLines.color","majorTickLines.width","majorTickLines.size","majorTickLines.visible","minorGridLines.width","minorGridLines.dashArray","minorGridLines.color","minorGridLines.visible","minorTickLines.color","minorTickLines.width","minorTickLines.size","minorTickLines.visible","labelBorder.color","labelBorder.width","minorTicksPerInterval","columnSpan","crosshairLabel.visible","crosshairLabel.rx","crosshairLabel.ry","crosshairLabel.border.color","crosshairLabel.border.width","crosshairLabel.fill","crosshairLabel.font.fontFamily","crosshairLabel.font.fontStyle","crosshairLabel.font.size","crosshairLabel.font.fontWeight","crosshairLabel.font.opacity","crosshairLabel.font.color","font.size","font.color","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","isInversed","enableTrim","maximumLabelWidth","axisLine.visible","axisLine.width","axisLine.color","axisLine.dashArray","axisLine.offset","maximumLabels","title.text","title.visible","title.enableTrim","title.offset","title.alignment","title.position","title.maximumTitleWidth","title.font.size","title.font.color","title.font.opacity","title.font.fontFamily","title.font.fontStyle","title.font.fontWeight","additionalPadding","showNextToAxisLine",[{tag:"stripLine",attr:["borderColor","startFromAxis","zIndex","textAlignment","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","font.color"],singular:"stripLine"}],[{tag:"multiLevelLabels",attr:["textOverflow","maximumTextWidth","textAlignment","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","border.type","border.width"],singular:"multiLevelLabel"}]],singular:"axis"},{tag:"primaryXAxis.stripLine",attr:["borderColor","startFromAxis","zIndex","textAlignment","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","font.color"],singular:"primaryXAxis.stripLine"},{tag:"primaryYAxis.stripLine",attr:["borderColor","startFromAxis","zIndex","textAlignment","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","font.color"],singular:"primaryYAxis.stripLine"},{tag:"primaryXAxis.multiLevelLabels",attr:["textOverflow","maximumTextWidth","textAlignment","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","border.type","border.width"],singular:"primaryXAxis.multiLevelLabel"},{tag:"primaryYAxis.multiLevelLabels",attr:["textOverflow","maximumTextWidth","textAlignment","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","border.type","border.width"],singular:"primaryYAxis.multiLevelLabel"},{tag:"indicators",attr:["seriesName","xName","xAxisName","macdType","shortPeriod","longPeriod","enableAnimation","animationDuration","yAxisName","standardDeviations","kPeriod","dPeriod","periodLine.fill","periodLine.width","lowerLine.fill","lowerLine.width","upperLine.fill","upperLine.width","macdLine.fill","macdLine.width","histogram.fill","histogram.opacity","histogram.border.color","histogram.border.width","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","font.color","tooltip.visible","tooltip.format","tooltip.fill","tooltip.border.width","tooltip.border.color","tooltip.enableAnimation","tooltip.duration","tooltip.opacity",[{tag:"points",attr:[]}]],singular:"indicator"},{tag:"annotations",attr:["coordinateUnit","verticalAlignment","horizontalAlignment","xAxisName","yAxisName","margin.left","margin.right","margin.top","margin.bottom"],singular:"annotation"},{tag:"rowDefinitions",attr:["rowHeight","lineColor","lineWidth","unit"],singular:"rowDefinition"},{tag:"columnDefinitions",attr:["columnWidth","lineColor","lineWidth","unit"],singular:"columnDefinition"}],_xZoomFactor:t.util.valueFunction("xZoomFactor"),_yZoomFactor:t.util.valueFunction("yZoomFactor"),_xZoomPosition:t.util.valueFunction("xZoomPosition"),_yZoomPosition:t.util.valueFunction("yZoomPosition"),_init:function(){this._renderSfChart()},_destroy:function(){e("#template_group_"+this._id).remove(),e("#annotation_group_"+this._id).remove(),e(this.element).removeClass("e-chart e-js").find("#"+this.svgObject.id).remove(),e(this.element).removeClass("e-chart e-js").find("#legend_"+this.svgObject.id).remove()},_series:function(){this.redraw(),this._trigger("refresh")},_series_points:function(){this.redraw(),this._trigger("refresh")},_primaryXAxis_stripLine:function(){this.redraw(),this._trigger("refresh")},_primaryYAxis_stripLine:function(){this.redraw(),this._trigger("refresh")},_axes:function(){this.redraw(),this._trigger("refresh")},_axes_stripLine:function(){this.redraw(),this._trigger("refresh")},_ignoreOnExport:["dataSource"],_removeZoomkit:function(){this.model.zooming.enable&&(e("[id^="+this._id+"_][id$=_ResetZoom]").remove(),e("[id^="+this._id+"_][id$=_PanBtn]").remove(),e("[id^="+this._id+"_][id$=_ZoomBtn]").remove(),e("[id^="+this._id+"_][id$=_ZoomInBtn]").remove(),e("[id^="+this._id+"_][id$=_ZoomOutBtn]").remove())},getCanvasElement:function(t){e("#"+t);var i,s=document.createElement("canvas"),a=s.getContext("2d"),o=e("#"+t+"_canvas").width(),r=e("#"+t+"_canvas").height();return s.setAttribute("width",o),s.setAttribute("height",r),i=e("#"+t+"_canvas")[0],a.drawImage(i,0,0,o,r),{canvasContainer:s,canvasArea:a,width:o,height:r}},getSVGElement:function(t){var i=e("#"+t+"_svg").width(),s=e("#"+t+"_svg").height(),a=document.getElementById(t+"_svg"),o=e("<div>").append(e(a).clone()).html(),r=document.getElementById("legend_"+t+"_svg"),l=e("#legend_"+t).position();return e("#"+t+"_svg_Legend").attr("transform","translate("+l.left+","+l.top+")"),{chartSVG:o,legendChartSVG:e("<div>").append(e(r).clone()).html(),width:i,height:s}},print:function(){for(var t,i,s,a,o,r,l,n,d,h,c,u,p,m,g,_,f,b,v,x=[],y=[],w=this.model.series.length,S="",C=0,T=0;T<arguments.length;T++)if(f=e("#"+arguments[T]),p=arguments[T],f.hasClass("e-datavisualization-chart")){_=f.ejChart("instance"),u="<html> <div style='position:relative; left:0px; top:"+C+"px'>",v="",m=_.svgObject.id,C=e("#"+m).height()+50,e("#axisScrollbar_"+p)[0]&&(v=e("#axisScrollbar_"+p)[0].innerHTML);var L,k=["ResetZoom","PanBtn","ZoomBtn","ZoomOutBtn","ZoomInBtn"],P=[];for(l=0;l<5;l++)e(L="#"+m+"_"+k[l])[0]&&(P.push(e(L)),e(L).remove());if(1==_.model.enableCanvasRendering){for(g=this.getCanvasElement(p),_.model.LegendBounds,(S=document.createElement("img")).setAttribute("src",e("#legend_"+p+"_canvas")[0].toDataURL()),e("#legend_Scroller"+p).prepend(S),u+=document.getElementById("chartContainer_"+p).outerHTML,e(S).remove(),S="",i=0;i<w;i++)if(t=_.model.series[i].selectionSettings.mode.toLowerCase(),"none"!=_.model.AreaType)if("series"==t)e(f).find("#"+p+"_Selection_series"+i+"_canvas").length>0&&(b=e("#"+p+"_Selection_series"+i+"_canvas")[0],g.canvasArea.drawImage(b,0,0,g.width,g.height)),e(f).find("#"+p+"_Selection_Legend"+i+"_canvas").length>0&&(S="<img style='position:absolute;left:0px;' src='"+e("#"+p+"_Selection_Legend"+i+"_canvas")[0].toDataURL()+"'/>");else if("point"==t){for(s=_.model.selectedDataPointIndexes,l=0;l<s.length;l++)s[l].seriesIndex==i&&e(f).find("#"+p+"_Selection_series"+i+"_point_"+s[l].pointIndex+"_canvas").length>0&&(b=e("#"+p+"_Selection_series"+i+"_point_"+s[l].pointIndex+"_canvas")[0],g.canvasArea.drawImage(b,0,0,g.width,g.height));e(f).find("#"+p+"_Selection_Legend"+i+"_canvas").length>0&&(S="<img style='position:absolute;left:0px;' src='"+e("#"+p+"_Selection_Legend"+i+"_canvas")[0].toDataURL()+"'/>")}else{for(s=_.model.selectedDataPointIndexes,l=0;l<s.length;l++)s[l].seriesIndex==i&&e(f).find("#"+p+"_Selection_Cluster_point_"+s[l].pointIndex+"_canvas").length>0&&(b=e("#"+p+"_Selection_Cluster_point_"+s[l].pointIndex+"_canvas")[0],g.canvasArea.drawImage(b,0,0,g.width,g.height));e(f).find("#"+p+"_SelectionCluster_Legend"+i+"_canvas").length>0&&(S="<img style='position:absolute;left:0px;' src='"+e("#"+p+"_SelectionCluster_Legend"+i+"_canvas")[0].toDataURL()+"'/>")}else for(s=_.model.selectedDataPointIndexes,l=0;l<s.length;l++)s[l].seriesIndex==i&&e("#"+p+"_Selection_series"+i+"_point_"+s[l].pointIndex+"_canvas").length>0&&(b=document.getElementById(p+"_Selection_series"+i+"_point_"+s[l].pointIndex+"_canvas"),g.canvasArea.drawImage(b,0,0,g.width,g.height),e("#"+p+"_Selection_Legend"+s[l].pointIndex+"_canvas").length>0&&(S="<img style='position:absolute;left:0px;' src='"+document.getElementById(p+"_Selection_Legend"+s[l].pointIndex+"_canvas").toDataURL()+"'/>"));g.canvasArea.save(),x.push(g.canvasContainer)}else a=this.getSVGElement(p),e("#"+p+"_svg_Legend").removeAttr("transform"),u+=e("#chartContainer_"+p)[0].outerHTML,u=this._getSelectionContentInSVG(_,p,u,"print"),null!=_.model.backGroundImageUrl&&((h=new Image).src=_.model.backGroundImageUrl,r=(o=document.createElement("canvas")).getContext("2d"),o.setAttribute("width",a.width),o.setAttribute("height",a.height),r.drawImage(h,0,0,a.width,a.height),u+="<img src='"+o.toDataURL()+"'/>"),u+='<svg xmlns="http://www.w3.org/2000/svg" style="left:0px; top:0px; position:absolute;" width="'+a.width+'" height="'+a.height+'" >',u+=a.chartSVG.toString()+" </svg>",u+=v+"</div></html>",y.push(u);for(l=0;l<P.length;l++)e("#chartContainer_"+p).append(P[l])}else u="<html>",u+=document.getElementById(arguments[T]).innerHTML,u+="</html>",y.push(u);for(n=window.open(),d=0;d<y.length;d++)n.document.write(y[d]);if(x.length>0){for(h=new Image,c=0;c<x.length;c++)u+="<img src='"+x[c].toDataURL()+"'/>",h.src=x[c].toDataURL();u+=S,u+=v+"</div></html>",h.onload=function(){n.document.write(u),u="",n.document.close(),n.focus(),n.print(),n.close()}}else y.length>0&&(u="",n.document.close(),n.focus(),n.print(),n.close())},redraw:function(i,s,a,o){var r,l;if(this.model.enableCanvasRendering)this.model.zooming.enable&&this.svgRenderer.ctx?(this.svgRenderer.ctx.clearRect(0,0,e("#"+this._id).width(),e("#"+this._id).height()),e(this.axisScroll).empty()):(e(this.svgObject).remove(),r=this.svgWidth,e("#canvas_trackSymbol").remove(),e("#"+this._id+"_canvas_Tracker").remove(),e("#secondCanvas").remove(),this.svgRenderer=new t.EjCanvasRender(this.element),this.svgRenderer.svgObj.height=t.util.isNullOrUndefined(this.model.size.height)?"450":this.model.size.height,this.svgRenderer.svgObj.width=t.util.isNullOrUndefined(this.model.size.width)?r:this.model.size.width,this.svgObject=this.svgRenderer.svgObj,this.svgRenderer.svgObj.getContext("2d"),e(this.scrollerContainer).remove(),e(this.legendSvgContainer).remove(),e(this.legendContainer).remove(),this.legendContainer=e("<div></div>").attr("id","legend_"+this._id).css("height","0px"),this.scrollerContainer=e("<div></div>").attr("id","legend_Scroller"+this._id).css("height","0px"),this.legendSvgContainer=this.svgRenderer.createLegendCanvas(this.element),this.svgRenderer.append(this.legendSvgContainer,this.scrollerContainer),e(this.scrollerContainer).appendTo(this.legendContainer),e(this.legendContainer).appendTo(this.chartContainer));else if(-1!=this.svgObject.id.indexOf("_canvas"))this._removeZoomkit(),e(this.svgObject).remove(),this.svgRenderer=new t.EjSvgRender(this.element),this.svgObject=this.svgRenderer.svgObj,this.canvasX=this.canvasY=0,e(this.scrollerContainer).remove(),e(this.legendSvgContainer).remove(),e(this.legendContainer).remove(),this.legendContainer=e("<div></div>").attr("id","legend_"+this._id).css("height","0px"),this.scrollerContainer=e("<div></div>").attr("id","legend_Scroller"+this._id).css("height","0px"),this.legendSvgContainer=this.svgRenderer.createLegendSvg(this.element),this.svgRenderer.append(this.legendSvgContainer,this.scrollerContainer),e(this.scrollerContainer).appendTo(this.legendContainer),e(this.legendContainer).appendTo(this.chartContainer);else if(!this.dragPoint||!s&&(!this.panning||!a||this.scrollbarUpdate||o||this.panning&&"chrome"!=this.model.browserInfo.name)||this.model.enable3D)e(this.svgObject).empty(),e(this.legendSvgContainer).empty(),e(this.axisScroll).empty();else{for(l=this.svgObject,this.chartUpdating=!0,!this.continuePinching&&a&&(a.id="",a.setAttribute("opacity",0),l.appendChild(a),this.continuePinching=!1);l.childNodes.length>1;)l.removeChild(l.firstChild);e(this.legendSvgContainer).empty()}this.model._chartAreaZoom&&(this.zoomed=this.model._chartAreaZoom=this.model._axes.some((function(e){return e.zoomFactor<1||e.zoomPosition>0}))),this._removeZoomkit(),e("#annotation_group_"+this._id).remove(),i||(this.model.canResize||this.model.isResponsive?this.bindResizeEvents():this.removeResizeEvents()),this.bindTo(i)},export:function(e,i,s){var a,o=this.model.exportSettings;return e=t.util.isNullOrUndefined(e)?o.type:e.toLowerCase(),i=t.util.isNullOrUndefined(i)?o.action:i.toLowerCase(),"xlsx"==e?this._getExportModel(e,i,s):a="svg"!=e&&this.model.enableCanvasRendering?this.imageExport():this.svgExport(),a},_getExportModel:function(i,s,a){var o,r,l,n,d,h,c=e.extend(!0,{},this.model),u=this.model.exportSettings,p=(a=t.util.isNullOrUndefined(i)?u.multipleExport:a,this.svgHeight,this.svgWidth,c.size.height),m=c.size.width,g={action:s,method:"post"},_=t.buildTag("form","",null,g),f=this;if(c.event=null,c.primaryXAxis.range=c.primaryXAxis.actualRange,c.primaryYAxis.range=c.primaryYAxis.actualRange,delete c.chartRegions,this._ignoreOnExport)for(o=c.series,n=0;n<o.length;n++)delete o[n].dataSource,delete o[n].query,o[n].fill="array"==jQuery.type(o[n].fill)?o[n].fill[0].color:o[n].fill;for(n=0;n<o.length;n++){if(!o[n].dataPoint)for(o[n].dataPoint=o[n].points,r=0;r<o[n].dataPoint.length;r++)!o[n].dataPoint[r].fill&&c.pointColors.length>r&&(o[n].dataPoint[r].fill=c.pointColors[r]);o[n].trendLine||(o[n].trendLine=o[n].trendlines)}if(t.raiseWebFormsServerEvents)this.raiseWebServerEvents(JSON.stringify(c),"excelExporting"),this.raiseWebServerEvents(JSON.stringify(c));else{if(c.size.height&&-1!=c.size.height.indexOf("%")&&(c.size.height=e(this.svgObject).height().toString()),c.size.width&&-1!=c.size.width.indexOf("%")&&(c.size.width=e(this.svgObject).width().toString()),a)l={},e("body").find(".e-datavisualization-chart").each((function(i,s){var a,r,n,d,h=e(s).data("ejChart");if(!t.isNullOrUndefined(h)&&(h.model.event=null,a=JSON.parse(JSON.stringify(h.model)),f._ignoreOnExport)){for(o=a.series,r=0;r<o.length;r++)delete o[r].dataSource,delete o[r].query,o[r].fill="array"==jQuery.type(o[r].fill)?o[r].fill[0].color:o[r].fill;l[i]=JSON.stringify(a),n={name:"ChartModel",type:"hidden",value:JSON.stringify(a)},d=t.buildTag("input","",null,n),_.append(d)}}));else{for(o=c.series,n=0;n<o.length;n++)delete o[n]._visiblePoints,delete o[n].points;d={name:"ChartModel",type:"hidden",value:JSON.stringify(c)},h=t.buildTag("input","",null,d),_.append(h),_.append(this)}e("body").append(_),_.submit(),c.size={width:m,height:p}}return c},imageExport:function(){var i,s,a,o,r,l,n=e.extend(!0,{},this.model);n.primaryXAxis.range=n.primaryXAxis.actualRange,n.primaryYAxis.range=n.primaryYAxis.actualRange,n.event=null;var d,h,c,u,p,m,g,_=this._id,f=e("[id*="+_+"_Selection_]"),b=e("#legend_"+_+"_canvas")[0],v=this.model.exportSettings,x=v.angle,y=this.model.LegendBounds,w=this.getCanvasElement(_);for(d=w.canvasContainer,h=w.canvasArea,c=w.width,u=w.height,p=e("#"+_+"_canvas")[0],d.setAttribute("id","Export_"+_),0==x?(y=this.model.LegendBounds).X&&0!=y.Width&&0!=y.Height&&h.drawImage(b,y.X,y.Y):90==x||-90==x?(d.setAttribute("width",u),d.setAttribute("height",c),h.save(),h.translate(u/2,c/2),h.rotate(x*Math.PI/180),h.drawImage(p,-c/2,-u/2),h.restore(),y.X&&(h.save(),90==x?h.translate(u-y.Y-y.Height/2,c-y.X-y.Width/2):h.translate(y.Y+y.Height/2,y.X+y.Width/2),h.rotate(x*Math.PI/180),h.drawImage(b,-y.Width/2,-y.Height/2),h.restore())):(d.setAttribute("width",c),d.setAttribute("height",u),h.save(),h.translate(c,u),h.rotate(Math.PI/1),h.drawImage(p,0,0),h.restore(),y.X&&(h.save(),h.translate(y.X+y.Width/2,u-y.Y-y.Height/2),h.rotate(x*Math.PI/180),h.drawImage(b,-y.Width/2,-y.Height/2),h.restore())),m=0;m<f.length;m++)document.getElementById(f[m].id).getBoundingClientRect(),0==x?h.drawImage(f[m],0,0):90==x||-90==x?(h.save(),h.translate(u/2,c/2),h.rotate(x*Math.PI/180),h.drawImage(f[m],-c/2,-u/2),h.restore(),90==x&&f[m].id.indexOf(_+"_Selection_Legend")>=0?(h.save(),h.translate(u-y.Y-y.Height/2,c-y.X-y.Width/2),h.rotate(x*Math.PI/180),h.drawImage(f[m],-y.Width/2,-y.Height/2),h.restore()):-90==x&&f[m].id.indexOf(_+"_Selection_Legend")>=0&&(h.save(),h.translate(y.X+y.Width/2,u-y.Y-y.Height/2),h.rotate(x*Math.PI/180),h.drawImage(f[m],-y.Width/2,-y.Height/2),h.restore())):180==x&&(h.save(),h.translate(c,u),h.rotate(Math.PI/1),h.drawImage(f[m],0,0),h.restore(),180==x&&f[m].id.indexOf(_+"_Selection_Legend")>=0&&(h.save(),h.translate(y.X+y.Width/2,u-y.Y-y.Height/2),h.rotate(x*Math.PI/180),h.drawImage(f[m],-y.Width/2,-y.Height/2),h.restore()));if(g="jpg"==v.type?d.toDataURL("image/jpeg"):d.toDataURL(),"client"==v.mode)return d;t.raiseWebFormsServerEvents?this.raiseWebServerEvents(g):"server"==v.mode&&(i={action:v.action,method:"post"},s=t.buildTag("form","",null,i),a={name:"ChartModel",type:"hidden",value:JSON.stringify(n)},o=t.buildTag("input","",null,a),r={name:"Data",type:"hidden",value:g},l=t.buildTag("input","",null,r),s.append(o).append(l).append(this),e("body").append(s),s.submit())},svgExport:function(){for(var i,s,a,o,r,l,n,d,h=this.svgObject.id,c=e.extend(!0,{},this.model),u=0;u<this.model._axes.length;u++)c._axes[u].range=c._axes[u].actual_Range;c.event=null;var p="legend_"+this.svgObject.id.substring(0,this.svgObject.id.length-4),m=document.getElementById(p),g="";""!==m.style.left&&""!==m.style.top&&(i=m.firstChild.innerHTML,(s=document.createElementNS("http://www.w3.org/2000/svg","svg")).setAttribute("x",m.style.left),s.setAttribute("y",m.style.top),g=((new XMLSerializer).serializeToString(s).replace("/>",">")+i+"</svg>").toString());var _,f=this._id,b=this.getSVGElement(f),v=this.model.exportSettings,x=v.angle,y=b.height,w=b.chartSVG,S=b.legendChartSVG,C=b.width,T='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+C+'px" height="'+y+'px" >';if(T=0==x?T+w.toString()+g+"</svg>":90==x?T+'<g transform="translate('+y+',0) rotate(90 0 0)">'+w.toString()+S.toString()+"</g></svg>":-90==x?T+'<g transform="translate(0,'+C+') rotate(-90 0 0)">'+w.toString()+S.toString()+"</g></svg>":T+'<g transform="translate('+C+","+y+') rotate(180 0 0)">'+w.toString()+S.toString()+"</g></svg>",_=this._getSelectionContentInSVG(this,f,T,"export"),T=e("#"+f).find('[class*="Selection"]').length>0?_:T,T=encodeURIComponent(T),e("#"+h+"_Legend").removeAttr("transform"),"client"==v.mode)return T;t.raiseWebFormsServerEvents?this.raiseWebServerEvents(T):"server"==v.mode&&(a={action:v.action,method:"post"},o=t.buildTag("form","",null,a),d={name:"ChartModel",type:"hidden",value:JSON.stringify(c)},n=t.buildTag("input","",null,d),r={name:"Data",type:"hidden",value:T},l=t.buildTag("input","",null,r),o.append(l).append(n).append(this),e("body").append(o),o.submit())},_getSelectionContentInSVG:function(i,s,a,o){var r,l,n,d,h,c,u,p,m,g,_=this.model.series.length;if(i.model.enable3D){for(c="",g=0;g<_;g++)e("#Selectionseries"+g+"Segmentseries"+g).length>0&&(c+=e("#Selectionseries"+g+"Segmentseries"+g)[0].outerHTML);a+=c}else{for(g=0;g<_;g++)if(u=i.model.series[g].selectionSettings.mode.toLowerCase(),"none"!=i.model.AreaType)"cluster"!=u?e("#"+s+"SelectionSegmentseries"+g).length>0&&(l=document.getElementById(s+"SelectionSegmentseries"+g),n=e("<div>").append(e(l).clone()).html(),d=document.getElementById(s+"SelectionLegendSegmentseries"+g),h=e("<div>").append(e(d).clone()).html(),"export"===o?r=a.slice(0,a.length-6)+"<svg>"+n.toString()+h.toString()+"</svg></svg>":a+=n.toString()+h.toString()):e("#"+s+"SelectionSegmentClusterSeries"+g).length>0&&(l=document.getElementById(s+"SelectionSegmentClusterSeries"+g),n=e("<div>").append(e(l).clone()).html(),d=document.getElementById(s+"SelectionLegendSegmentClusterSeries"+g),h=e("<div>").append(e(d).clone()).html(),"export"===o?r=(t.util.isNullOrUndefined(r)?a.slice(0,a.length-6):r)+"<svg >"+n.toString()+h.toString()+"</svg>":a+=n.toString()+h.toString());else for(p=i.model.selectedDataPointIndexes,m=0;m<p.length;m++)p[m].seriesIndex==g&&e("#"+s+"SelectionSegmentseries"+g+"Point"+p[m].pointIndex).length>0&&(l=document.getElementById(s+"SelectionSegmentseries"+g+"Point"+p[m].pointIndex),n=e("<div>").append(e(l).clone()).html(),d=document.getElementById(s+"SelectionLegendSegmentseries"+g+"Point"+p[m].pointIndex),h=e("<div>").append(e(d).clone()).html(),"export"===o?r=a.slice(0,a.length-6)+"<svg>"+n.toString()+h.toString()+"</svg></svg>":a+=n.toString()+h.toString());"cluster"==u&&"export"===o&&(r+="</svg>")}return"export"===o?r:a},raiseWebServerEvents:function(i,s){var a,o,r=e.extend(!0,{},this.model),l=this.model.exportSettings;s=t.util.isNullOrUndefined(s)?"exporting":s,this.model.size._width=e(this.svgObject).width(),this.model.size._height=e(this.svgObject).height(),a={model:r,originalEventType:s},o={Data:i,Format:l.type,Orientation:l.orientation,FileName:l.fileName},t.raiseWebFormsServerEvents(s,a,o)},animate:function(e){var t,i,s,a;if(e)if(e.constructor===Array)for(a=0;a<e.length;a++)e[a]._animatedSeries=!1,e[a]._animatedTrendline=!1,e[a].AnimationComplete=!1;else e._animatedSeries=!1,e._animatedTrendline=!1,e.AnimationComplete=!1;else{for(t=this.model.series,a=0;a<t.length;a++)t[a]._animatedSeries=!1,t[a]._animatedTrendline=!1,t[a].AnimationComplete=!1;for(i=this.model.indicators,s=0;s<i.length;s++)i[s]._animatedSeries=!1,i[s]._animatedTrendline=!1}this.redraw()},_setModel:function(i){var s,a,o,r,l,n,d;for(o in i)switch(this.disableAnimation(),o){case"theme":for(this.model._themeChanged=!0,this.model.theme=i[o],this.setTheme(t.EjSvgRender.themes,this.model.theme),e.extend(!0,this.model.primaryXAxis,t.EjSvgRender.themes[this.model.theme].primaryXAxis),e.extend(!0,this.model.primaryYAxis,t.EjSvgRender.themes[this.model.theme].primaryYAxis),r=0;r<this.model.axes.length;r++)this.model.axes[r].orientation&&"horizontal"==this.model.axes[r].orientation.toLowerCase()?e.extend(!0,this.model.axes[r],t.EjSvgRender.themes[this.model.theme].secondaryX):e.extend(!0,this.model.axes[r],t.EjSvgRender.themes[this.model.theme].secondaryY);for(l=0;l<this.model.series.length;l++)e.extend(!0,this.model.series[l],t.EjSvgRender.themes[this.model.theme].commonSeriesOptions);break;case"commonSeriesOptions":for(n=0;n<this.model.series.length;n++)i[o].dataSource&&(this.model.series[n].dataSource=null),e.extend(!0,this.model.series[n],{},i[o]);break;case"series":for(i[o].length<this.model.series.length&&(this.model.series=this.model.series.slice(0,i[o].length)),s=this.model.series,n=0;n<s.length;n++)i[o][n].dataSource&&(s[n].dataSource=null);for(e.extend(!0,s,{},i[o]),n=0,d=s.length;n<d;n++)s[n].enableAnimation&&(s[n]._animatedSeries=!1),i[o][n]&&i[o][n].dataSource instanceof t.DataManager&&(s[n].dataSource=i[o][n].dataSource),i[o][n]&&i[o][n].query instanceof t.Query&&(s[n].query=i[o][n].query);break;case"legend":e.extend(!0,this.model.legend,{},i[o]);break;case"axes":e.extend(!0,this.model.axes,{},i[o]);break;case"primaryXAxis":this.model.primaryXAxis.setRange=!!i[o].range,this.model.primaryXAxis.setAxisInterval=!(!i[o].range||!i[o].range.interval)||this.model.primaryXAxis.setAxisInterval,this.model.primaryXAxis.actual_Range=this.model._axes[0].setRange?null:this.model._axes[0].actual_Range,e.extend(!0,this.model.primaryXAxis,{},i[o]);break;case"primaryYAxis":this.model.primaryYAxis.setRange=!!i[o].range,this.model.primaryYAxis.log_Range=i[o].range?i[o].range:this.model.primaryYAxis.log_Range,this.model.primaryYAxis.actual_Range=!this.model._axes||this.model._axes[1].setRange?null:this.model._axes[1].actual_Range,e.extend(!0,this.model.primaryYAxis,{},i[o]);break;case"xZoomFactor":for(this.model.primaryXAxis.zoomFactor=this._xZoomFactor(),a=this.model.axes,n=0;n<a.length;n++)"horizontal"==a[n].orientation.toLowerCase()&&(a[n].zoomFactor=this._xZoomFactor());break;case"yZoomFactor":for(this.model.primaryYAxis.zoomFactor=this._yZoomFactor(),a=this.model.axes,n=0;n<a.length;n++)"vertical"==a[n].orientation.toLowerCase()&&(a[n].zoomFactor=this._yZoomFactor());break;case"xZoomPosition":for(this.model.primaryXAxis.zoomPosition=this._xZoomPosition(),a=this.model.axes,n=0;n<a.length;n++)"horizontal"==a[n].orientation.toLowerCase()&&(a[n].zoomPosition=this._xZoomPosition());break;case"yZoomPosition":for(this.model.primaryYAxis.zoomPosition=this._yZoomPosition(),a=this.model.axes,n=0;n<a.length;n++)"vertical"==a[n].orientation.toLowerCase()&&(a[n].zoomPosition=this._yZoomPosition());break;case"drilldown":this.model.series=[],this.model.explodeValue=null,e.extend(!0,this.model,{},i[o]);break;case"datasource":for(n=0;n<this.model.series.length;n++)this.model.series[n].dataSource=null,this.model.series[n].points=null;e.extend(!0,this.model,{},i[o]);break;case"chartArea":e.extend(!0,this.model.chartArea,{},i[o]);break;default:for(e.extend(!0,this.model,{},i[o]),n=0,d=(s=this.model.series).length;n<d;n++)s[n].enableAnimation&&(s[n]._animatedSeries=!1)}this.model.canResize||this.model.isResponsive?this.bindResizeEvents():this.removeResizeEvents(),e("#annotation_group_"+this._id).remove(),this.model.enableCanvasRendering?(e(this.svgObject).remove(),e("#canvas_trackSymbol").remove(),e("#"+this._id+"_canvas_Tracker").remove(),e("#secondCanvas").remove(),this.svgRenderer=new t.EjCanvasRender(this.element),this.svgRenderer.svgObj.height=t.util.isNullOrUndefined(this.model.size.height)?"450":this.model.size.height,this.svgRenderer.svgObj.width=t.util.isNullOrUndefined(this.model.size.width)?e("#"+this._id).width():this.model.size.width,this.svgObject=this.svgRenderer.svgObj,e(this.legendSvgContainer).remove(),this.legendSvgContainer=this.svgRenderer.createLegendCanvas(this.element),this.svgRenderer.append(this.legendSvgContainer,this.legendContainer)):-1!=this.svgObject.id.indexOf("_canvas")?(this._removeZoomkit(),e(this.svgObject).remove(),this.svgRenderer=new t.EjSvgRender(this.element),this.svgObject=this.svgRenderer.svgObj,this.canvasX=this.canvasY=0,e(this.legendSvgContainer).remove(),this.legendSvgContainer=this.svgRenderer.createLegendSvg(this.element),this.svgRenderer.append(this.legendSvgContainer,this.legendContainer)):this.chartUpdating||(e(this.svgObject).empty(),e(this.legendSvgContainer).empty()),this.bindTo()}}),t.datavisualization.Chart.Locale=t.datavisualization.Chart.Locale||{},t.datavisualization.Chart.Locale.default=t.datavisualization.Chart.Locale["en-US"]={zoomIn:"Zoom In",zoomOut:"Zoom Out",zoom:"Zoom",pan:"Pan",reset:"Reset"},t.datavisualization.Chart.CrosshairType={Crosshair:"crosshair",TrackBall:"trackBall"},t.datavisualization.Chart.TrackballDisplayMode={Float:"float",Grouping:"grouping"},t.datavisualization.Chart.VisibleOnLegend={Visible:"visible",Hidden:"hidden"},t.datavisualization.Chart.ExportingType={PNG:"png",JPG:"jpg",PDF:"pdf",SVG:"svg",DOCX:"docx",XLSX:"xlsx"},t.datavisualization.Chart.ExportingMode={Client:"client",Server:"server"},t.datavisualization.Chart.ExportingOrientation={Portrait:"portrait",Landscape:"landscape"},t.datavisualization.Chart.ValueType={Double:"double",DateTime:"datetime",Category:"category",Logarithmic:"logarithmic",DateTimeCategory:"datetimecategory"},t.datavisualization.Chart.TextOverflow={None:"none",Wrap:"wrap",Trim:"trim",WrapAndTrim:"wrapandtrim"},t.datavisualization.Chart.Type={Line:"line",Spline:"spline",Column:"column",Doughnut:"doughnut",Area:"area",SplineArea:"splinearea",StepLine:"stepline",StepArea:"steparea",Pie:"pie",PieOfPie:"pieofpie",Hilo:"hilo",HiloOpenClose:"hiloopenclose",Candle:"candle",Bubble:"bubble",Scatter:"scatter",Bar:"bar",StackingArea:"stackingarea",StackingArea100:"stackingarea100",RangeColumn:"rangecolumn",StackingColumn:"stackingcolumn",StackingColumn100:"stackingcolumn100",StackingBar:"stackingbar",StackingBar100:"stackingbar100",Pyramid:"pyramid",Funnel:"funnel",Polar:"polar",Radar:"radar",RangeArea:"rangearea",SplineRangeArea:"splinerangearea",Waterfall:"waterfall",BoxAndWhishker:"boxandwhisker",StackingSplineArea:"stackingsplinearea",StackingSplineArea100:"stackingsplinearea100"},t.datavisualization.Chart.SplitMode={Position:"position",Value:"value",Percentage:"percentage",Indexes:"indexes"},t.datavisualization.Chart.SplineType={Natural:"natural",Monotonic:"monotonic",Cardinal:"cardinal",Clamped:"clamped"},t.datavisualization.Chart.DragType={XY:"xy",X:"x",Y:"y"},t.datavisualization.Chart.LabelPlacement={BetweenTicks:"betweenTicks",OnTicks:"onTicks"},t.datavisualization.Chart.TrendlinesType={Linear:"linear",Exponential:"exponential",Logarithmic:"logarithmic",Power:"power",Polynomial:"polynomial"},t.datavisualization.Chart.ErrorBarType={FixedValue:"fixedValue",Percentage:"percentage",StandardDeviation:"standardDeviation",StandardError:"standardError",Custom:"custom"},t.datavisualization.Chart.ErrorBarMode={Both:"both",Vertical:"vertical",Horizontal:"horizontal"},t.datavisualization.Chart.ErrorBarDirection={Both:"both",Plus:"plus",Minus:"minus"},t.datavisualization.Chart.LabelIntersectAction={None:"none",Rotate90:"rotate90",Rotate45:"rotate45",Wrap:"wrap",WrapByword:"wrapByWord",Trim:"trim",Hide:"hide",MultipleRows:"multipleRows"},t.datavisualization.Chart.EdgeLabelPlacement={None:"none",Shift:"shift",Hide:"hide"},t.datavisualization.Chart.roundedCorner={Both:"both",Start:"start",End:"end"},t.datavisualization.Chart.Theme={Azure:"azure",FlatLight:"flatlight",Azuredark:"azuredark",Lime:"lime",LimeDark:"limedark",Saffron:"saffron",SaffronDark:"saffrondark",GradientLight:"gradientlight",GradientDark:"gradientdark",HighContrast01:"highcontrast01",HighContrast02:"highcontrast02",Material:"material",Office365:"office365",Bootstrap:"bootstrap"},t.datavisualization.Chart.FontStyle={Normal:"normal",Italic:"italic"},t.datavisualization.Chart.FontWeight={Regular:"regular",Bold:"bold",Lighter:"lighter"},t.datavisualization.Chart.IntervalType={Auto:"auto",Days:"days",Hours:"hours",Seconds:"seconds",Milliseconds:"milliseconds",Minutes:"minutes",Months:"months",Weeks:"weeks",Years:"years"},t.datavisualization.Chart.RangePadding={Additional:"additional",Normal:"normal",None:"none",Round:"round",Auto:"auto"},t.datavisualization.Chart.TextAlignment={MiddleTop:"middletop",MiddleCenter:"middlecenter",MiddleBottom:"middlebottom"},t.datavisualization.Chart.LabelPosition={Inside:"inside",Outside:"outside"},t.datavisualization.Chart.ZIndex={Over:"over",Behind:"behind"},t.datavisualization.Chart.Unit={percentage:"percentage",pixel:"pixel"},t.datavisualization.Chart.PyramidMode={Linear:"linear",Surface:"Surface"},t.datavisualization.Chart.DrawType={Line:"line",Column:"column",Area:"area",RangeColumn:"rangecolumn",Scatter:"scatter",Spline:"spline"},t.datavisualization.Chart.AnimationType={Linear:"linear",Smooth:"smooth"},t.datavisualization.Chart.columnFacet={Rectangle:"rectangle",Cylinder:"cylinder"},t.datavisualization.Chart.EmptyPointMode={Gap:"gap",Zero:"zero",Average:"average"},t.datavisualization.Chart.Pattern={None:"none",Chessboard:"chessboard",Crosshatch:"crosshatch",Dots:"dots",Pacman:"pacman",DiagonalBackward:"diagonalBackward",DiagonalForward:"diagonalForward",Grid:"grid",Turquoise:"turquoise",Star:"star",Triangle:"triangle",Circle:"circle",Tile:"tile",HorizontalDash:"horizontalDash",VerticalDash:"verticalDash",Rectangle:"rectangle",Box:"box",VerticalStripe:"verticalStripe",HorizontalStripe:"horizontalStripe",Bubble:"bubble",Custom:"custom"},t.datavisualization.Chart.Mode={Series:"series",Point:"point",Cluster:"cluster",Range:"range"},t.datavisualization.Chart.SelectionType={Single:"single",Multiple:"multiple"},t.datavisualization.Chart.Shape={None:"none",LeftArrow:"leftarrow",RightArrow:"rightarrow",Circle:"circle",Cross:"cross",HorizLine:"horizline",VertLine:"vertLine",Diamond:"diamond",Rectangle:"rectangle",Triangle:"triangle",InvertedTriangle:"invertedtriangle",Hexagon:"hexagon",Pentagon:"pentagon",Star:"star",Ellipse:"ellipse",Wedge:"wedge",Trapezoid:"trapezoid",UpArrow:"uparrow",DownArrow:"downarrow",Image:"image"},t.datavisualization.Chart.DrawMode={Both:"both",Open:"open",Close:"close"},t.datavisualization.Chart.LineCap={Butt:"butt",Round:"round",Square:"square"},t.datavisualization.Chart.LineJoin={Round:"round",Bevel:"bevel",Miter:"miter"},t.datavisualization.Chart.Position={Top:"top",Middle:"middle",Bottom:"bottom"},t.datavisualization.Chart.Alignment={Center:"center",Near:"near",Far:"far"},t.datavisualization.Chart.RotateOn={Start:"start",Middle:"middle",End:"end"},t.datavisualization.Chart.TextAnchor={Start:"start",Middle:"middle",End:"end"},t.datavisualization.Chart.TickLinesPosition={Inside:"inside",Outside:"outside"},t.datavisualization.Chart.CoordinateUnit={None:"none",Pixels:"pixels",Points:"points"},t.datavisualization.Chart.HorizontalAlignment={Left:"left",Right:"right",Middle:"middle"},t.datavisualization.Chart.VerticalAlignment={Top:"top",Bottom:"bottom",Middle:"middle"},t.datavisualization.Chart.Region={Chart:"chart",Series:"series"},t.datavisualization.Chart.ConnectorLineType={Line:"line",Bezier:"bezier"},t.datavisualization.Chart.HorizontalTextAlignment={Near:"near",Far:"far",Center:"center"},t.datavisualization.Chart.VerticalTextAlignment={Near:"near",Far:"far",Center:"center"},t.datavisualization.Chart.multiLevelLabelsBorderType={None:"none",Rectangle:"rectangle",WithoutTopAndBottom:"withouttopandbottom",Brace:"brace",CurlyBrace:"curlybrace"},t.datavisualization.Chart.MACDType={Line:"line",Histogram:"histogram",Both:"both"},t.datavisualization.Chart.IndicatorsType={RSI:"rsi",Momentum:"momentum",Bollingerband:"bollingerband",Accumulationdistribution:"accumulationdistribution",EMA:"ema",SMA:"sma",Stochastic:"stochastic",ATR:"atr",MACD:"macd",TMA:"tma"},t.datavisualization.Chart.BoxPlotMode={Normal:"normal",Exclusive:"exclusive",Inclusive:"inclusive"},t.datavisualization.Chart.BubbleRadiusMode={MinMax:"minmax",Auto:"auto"},t.datavisualization.Chart.SizeType={Auto:"auto",Pixel:"pixel",Years:"years",Months:"months",Weeks:"weeks",Days:"days",Hours:"hours",Minutes:"minutes",Seconds:"seconds"},e.extend(t.datavisualization.Chart.prototype,t.ejChart)}(jQuery,Syncfusion)},__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(501)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"===typeof(__WEBPACK_AMD_DEFINE_FACTORY__=n)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},659:function(e,t){!function(e,t,i){"use strict";var s={firstCap:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},loadTags:function(e,t){var i,a,o,r,l=e;if(l)return l;for(l={},o=0;o<t.length;o++){for(i=t[o].attr||[],a={},r=0;r<i.length;r++)"object"==typeof i[r]?a["e-tag"]=s.loadTags(null,i[r]):a[i[r].toLowerCase().replace(/\./g,"-")]=i[r];l[t[o].tag.toLowerCase().replace(/\./g,"-")]={field:t[o].tag,attr:a,content:t[o].content,singular:(t[o].singular||t[o].tag.replace(/s$/,"")).replace(/\./g,"-")}}return l},getTagValues:function(i,a,o){var r,l,n,d,h=e(a.children),c={};if(0===h.length)return c;for(r=0;r<h.length;r++){var u,p=i[h[r].type.toLowerCase()],m=[];for(u=e(h[r].props.children),l=0;l<u.length;l++)n=s.getModel(u[l],o),!t.isNullOrUndefined(p)&&p.attr["e-tag"]&&(d=s.getTagValues(p.attr["e-tag"],u[l].props,o),e.extend(!0,n||{},d)),m.push(n);!t.isNullOrUndefined(p)&&m.length&&s.createAndAddAttr(p.field,m,c)}return c},createAndAddAttr:function(e,i,s){for(var a,o=e.split("."),r=s||window,l=r,n=o.length,d=0;d<n;d++)a=o[d],d+1==n?l[a]=t.isNullOrUndefined(i)?{}:i:t.isNullOrUndefined(l[a])&&(l[a]={}),l=l[a];return r},getModel:function(e,i){var s,a,o={},r=this.getProps(e);for(var l in r)a=e.props[l],"children"!=l&&("id"!=l||i)&&(-1!==l.indexOf("-")&&(l=l.replace("-",".")),s=l,t.createObject(s,a,o));return o},getProps:function(e){return t.isNullOrUndefined(e.key)||(e.props.key=e.key),e.props}},a=function(i,a,o){window[i]=createReactClass({observableObj:[],widgetName:a,componentWillReceiveProps:function(i){for(var s,a,o=e(ReactDOM.findDOMNode(this)).data(this.widgetName),r=0;r<this.observableObj.length;r++)-1!==(s=a=this.observableObj[r].value).indexOf(".")&&(a=s.split(".")),2==a.length&&(t.isNullOrUndefined(this.props[a[0]])||this.props[a[0]][a[1]]===i[a[0]][a[1]]||o.option(s,i[a[0]][a[1]],i[a[0]][a[1]]instanceof Array)),this.props[a]!==i[a]&&o.option(s,i[a],i[a]instanceof Array)},componentDidMount:function(){var i,a,r,l=0,n={},d=!1;if(!t.isNullOrUndefined(o.observables))for(l=0;l<o.observables.length;l++)t.createObject("value",o.observables[l],n),this.observableObj.push(n),n={};if(i=s.getModel(this),!t.isNullOrUndefined(this.props.children)){for(l=0;!t.isNullOrUndefined(o._tags)&&l<o._tags.length;l++)o._tags[l].tag==this.props.children.type&&(d=!0);d&&(a=o["ob.tags"]=s.loadTags(o["ob.tags"],o._tags),r=s.getTagValues(a,this.props,d),e.extend(i,r))}e(ReactDOM.findDOMNode(this))[this.widgetName](i)},componentWillUnmount:function(){e(ReactDOM.findDOMNode(this))[this.widgetName]("destroy")},render:function(){var i,s=[o.validTags[0],e.extend({id:this.props.id},this.props.ejHtmlAttributes)],a=!1;if(!t.isNullOrUndefined(this.props.children)){for(i=0;!t.isNullOrUndefined(o._tags)&&i<o._tags.length;i++)o._tags[i].tag==this.props.children.type&&(a=!0);a||s.push(this.props.children)}return React.createElement.apply(React,s)}})},o=i.registeredWidgets,r=o.boldReportViewer,l=o.boldReportDesigner,n=o.boldReportQueryDesigner;r&&a("BoldReportViewerComponent",r.name,r.proto),l&&a("BoldReportDesignerComponent",l.name,l.proto),n&&a("BoldReportQueryDesignerComponent",n.name,n.proto)}(window.jQuery,window.Syncfusion,window.Syncfusion.widget)}}]);